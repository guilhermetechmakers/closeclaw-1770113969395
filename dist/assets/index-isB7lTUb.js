var iC=e=>{throw TypeError(e)};var Tb=(e,t,r)=>t.has(e)||iC("Cannot "+r);var F=(e,t,r)=>(Tb(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>t.has(e)?iC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ne=(e,t,r,n)=>(Tb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(Tb(e,t,"access private method"),r);var pp=(e,t,r,n)=>({set _(s){Ne(e,t,s,r)},get _(){return F(e,t,n)}});function iq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var gp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sM={exports:{}},My={},aM={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=Symbol.for("react.element"),oq=Symbol.for("react.portal"),lq=Symbol.for("react.fragment"),cq=Symbol.for("react.strict_mode"),uq=Symbol.for("react.profiler"),dq=Symbol.for("react.provider"),fq=Symbol.for("react.context"),hq=Symbol.for("react.forward_ref"),mq=Symbol.for("react.suspense"),pq=Symbol.for("react.memo"),gq=Symbol.for("react.lazy"),oC=Symbol.iterator;function vq(e){return e===null||typeof e!="object"?null:(e=oC&&e[oC]||e["@@iterator"],typeof e=="function"?e:null)}var iM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oM=Object.assign,lM={};function Pd(e,t,r){this.props=e,this.context=t,this.refs=lM,this.updater=r||iM}Pd.prototype.isReactComponent={};Pd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cM(){}cM.prototype=Pd.prototype;function L1(e,t,r){this.props=e,this.context=t,this.refs=lM,this.updater=r||iM}var F1=L1.prototype=new cM;F1.constructor=L1;oM(F1,Pd.prototype);F1.isPureReactComponent=!0;var lC=Array.isArray,uM=Object.prototype.hasOwnProperty,U1={current:null},dM={key:!0,ref:!0,__self:!0,__source:!0};function fM(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)uM.call(t,n)&&!dM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zm,type:e,key:a,ref:o,props:s,_owner:U1.current}}function yq(e,t){return{$$typeof:zm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B1(e){return typeof e=="object"&&e!==null&&e.$$typeof===zm}function xq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var cC=/\/+/g;function Rb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xq(""+e.key):t.toString(36)}function pg(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zm:case oq:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Rb(o,0):n,lC(s)?(r="",e!=null&&(r=e.replace(cC,"$&/")+"/"),pg(s,t,r,"",function(u){return u})):s!=null&&(B1(s)&&(s=yq(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(cC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",lC(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Rb(a,l);o+=pg(a,t,r,c,s)}else if(c=vq(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Rb(a,l++),o+=pg(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vp(e,t,r){if(e==null)return e;var n=[],s=0;return pg(e,n,"","",function(a){return t.call(r,a,s++)}),n}function bq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Sn={current:null},gg={transition:null},wq={ReactCurrentDispatcher:Sn,ReactCurrentBatchConfig:gg,ReactCurrentOwner:U1};function hM(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:vp,forEach:function(e,t,r){vp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vp(e,function(){t++}),t},toArray:function(e){return vp(e,function(t){return t})||[]},only:function(e){if(!B1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ut.Component=Pd;ut.Fragment=lq;ut.Profiler=uq;ut.PureComponent=L1;ut.StrictMode=cq;ut.Suspense=mq;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wq;ut.act=hM;ut.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=oM({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=U1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)uM.call(t,c)&&!dM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zm,type:e.type,key:s,ref:a,props:n,_owner:o}};ut.createContext=function(e){return e={$$typeof:fq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dq,_context:e},e.Consumer=e};ut.createElement=fM;ut.createFactory=function(e){var t=fM.bind(null,e);return t.type=e,t};ut.createRef=function(){return{current:null}};ut.forwardRef=function(e){return{$$typeof:hq,render:e}};ut.isValidElement=B1;ut.lazy=function(e){return{$$typeof:gq,_payload:{_status:-1,_result:e},_init:bq}};ut.memo=function(e,t){return{$$typeof:pq,type:e,compare:t===void 0?null:t}};ut.startTransition=function(e){var t=gg.transition;gg.transition={};try{e()}finally{gg.transition=t}};ut.unstable_act=hM;ut.useCallback=function(e,t){return Sn.current.useCallback(e,t)};ut.useContext=function(e){return Sn.current.useContext(e)};ut.useDebugValue=function(){};ut.useDeferredValue=function(e){return Sn.current.useDeferredValue(e)};ut.useEffect=function(e,t){return Sn.current.useEffect(e,t)};ut.useId=function(){return Sn.current.useId()};ut.useImperativeHandle=function(e,t,r){return Sn.current.useImperativeHandle(e,t,r)};ut.useInsertionEffect=function(e,t){return Sn.current.useInsertionEffect(e,t)};ut.useLayoutEffect=function(e,t){return Sn.current.useLayoutEffect(e,t)};ut.useMemo=function(e,t){return Sn.current.useMemo(e,t)};ut.useReducer=function(e,t,r){return Sn.current.useReducer(e,t,r)};ut.useRef=function(e){return Sn.current.useRef(e)};ut.useState=function(e){return Sn.current.useState(e)};ut.useSyncExternalStore=function(e,t,r){return Sn.current.useSyncExternalStore(e,t,r)};ut.useTransition=function(){return Sn.current.useTransition()};ut.version="18.3.1";aM.exports=ut;var x=aM.exports;const P=Bt(x),$y=iq({__proto__:null,default:P},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jq=x,_q=Symbol.for("react.element"),Sq=Symbol.for("react.fragment"),Nq=Object.prototype.hasOwnProperty,kq=jq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cq={key:!0,ref:!0,__self:!0,__source:!0};function mM(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Nq.call(t,n)&&!Cq.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_q,type:e,key:a,ref:o,props:s,_owner:kq.current}}My.Fragment=Sq;My.jsx=mM;My.jsxs=mM;sM.exports=My;var i=sM.exports,x0={},pM={exports:{}},ds={},gM={exports:{}},vM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var $=D.length;D.push(M);e:for(;0<$;){var ee=$-1>>>1,Y=D[ee];if(0<s(Y,M))D[ee]=M,D[$]=Y,$=ee;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var M=D[0],$=D.pop();if($!==M){D[0]=$;e:for(var ee=0,Y=D.length,ce=Y>>>1;ee<ce;){var xe=2*(ee+1)-1,We=D[xe],ne=xe+1,ae=D[ne];if(0>s(We,$))ne<Y&&0>s(ae,We)?(D[ee]=ae,D[ne]=$,ee=ne):(D[ee]=We,D[xe]=$,ee=xe);else if(ne<Y&&0>s(ae,$))D[ee]=ae,D[ne]=$,ee=ne;else break e}}return M}function s(D,M){var $=D.sortIndex-M.sortIndex;return $!==0?$:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=D)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function S(D){if(p=!1,w(D),!g)if(r(c)!==null)g=!0,R(j);else{var M=r(u);M!==null&&z(S,M.startTime-D)}}function j(D,M){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var $=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||D&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var Y=ee(f.expirationTime<=M);M=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var ce=!0;else{var xe=r(u);xe!==null&&z(S,xe.startTime-M),ce=!1}return ce}finally{f=null,h=$,m=!1}}var _=!1,N=null,k=-1,C=5,A=-1;function I(){return!(e.unstable_now()-A<C)}function O(){if(N!==null){var D=e.unstable_now();A=D;var M=!0;try{M=N(!0,D)}finally{M?U():(_=!1,N=null)}}else _=!1}var U;if(typeof v=="function")U=function(){v(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,q=T.port2;T.port1.onmessage=O,U=function(){q.postMessage(null)}}else U=function(){y(O,0)};function R(D){N=D,_||(_=!0,U())}function z(D,M){k=y(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,R(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return D()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=h;h=D;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(D,M,$){var ee=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,D){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=$+Y,D={id:d++,callback:M,priorityLevel:D,startTime:$,expirationTime:Y,sortIndex:-1},$>ee?(D.sortIndex=$,t(u,D),r(c)===null&&D===r(u)&&(p?(b(k),k=-1):p=!0,z(S,$-ee))):(D.sortIndex=Y,t(c,D),g||m||(g=!0,R(j))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var M=h;return function(){var $=h;h=M;try{return D.apply(this,arguments)}finally{h=$}}}})(vM);gM.exports=vM;var Eq=gM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oq=x,ls=Eq;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yM=new Set,vh={};function yc(e,t){zu(e,t),zu(e+"Capture",t)}function zu(e,t){for(vh[e]=t,e=0;e<t.length;e++)yM.add(t[e])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b0=Object.prototype.hasOwnProperty,Pq=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uC={},dC={};function Aq(e){return b0.call(dC,e)?!0:b0.call(uC,e)?!1:Pq.test(e)?dC[e]=!0:(uC[e]=!0,!1)}function Tq(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Rq(e,t,r,n){if(t===null||typeof t>"u"||Tq(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nn(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){rn[e]=new Nn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];rn[t]=new Nn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){rn[e]=new Nn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){rn[e]=new Nn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){rn[e]=new Nn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){rn[e]=new Nn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){rn[e]=new Nn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){rn[e]=new Nn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){rn[e]=new Nn(e,5,!1,e.toLowerCase(),null,!1,!1)});var q1=/[\-:]([a-z])/g;function z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(q1,z1);rn[t]=new Nn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(q1,z1);rn[t]=new Nn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(q1,z1);rn[t]=new Nn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){rn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){rn[e]=new Nn(e,1,!1,e.toLowerCase(),null,!0,!0)});function W1(e,t,r,n){var s=rn.hasOwnProperty(t)?rn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Rq(t,r,s,n)&&(r=null),n||s===null?Aq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Bi=Oq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yp=Symbol.for("react.element"),eu=Symbol.for("react.portal"),tu=Symbol.for("react.fragment"),V1=Symbol.for("react.strict_mode"),w0=Symbol.for("react.profiler"),xM=Symbol.for("react.provider"),bM=Symbol.for("react.context"),K1=Symbol.for("react.forward_ref"),j0=Symbol.for("react.suspense"),_0=Symbol.for("react.suspense_list"),H1=Symbol.for("react.memo"),lo=Symbol.for("react.lazy"),wM=Symbol.for("react.offscreen"),fC=Symbol.iterator;function cf(e){return e===null||typeof e!="object"?null:(e=fC&&e[fC]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,Mb;function Ff(e){if(Mb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Mb=t&&t[1]||""}return`
`+Mb+e}var $b=!1;function Ib(e,t){if(!e||$b)return"";$b=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{$b=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ff(e):""}function Mq(e){switch(e.tag){case 5:return Ff(e.type);case 16:return Ff("Lazy");case 13:return Ff("Suspense");case 19:return Ff("SuspenseList");case 0:case 2:case 15:return e=Ib(e.type,!1),e;case 11:return e=Ib(e.type.render,!1),e;case 1:return e=Ib(e.type,!0),e;default:return""}}function S0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tu:return"Fragment";case eu:return"Portal";case w0:return"Profiler";case V1:return"StrictMode";case j0:return"Suspense";case _0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bM:return(e.displayName||"Context")+".Consumer";case xM:return(e._context.displayName||"Context")+".Provider";case K1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H1:return t=e.displayName||null,t!==null?t:S0(e.type)||"Memo";case lo:t=e._payload,e=e._init;try{return S0(e(t))}catch{}}return null}function $q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S0(t);case 8:return t===V1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Go(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Iq(e){var t=jM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xp(e){e._valueTracker||(e._valueTracker=Iq(e))}function _M(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function N0(e,t){var r=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function hC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Go(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function SM(e,t){t=t.checked,t!=null&&W1(e,"checked",t,!1)}function k0(e,t){SM(e,t);var r=Go(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?C0(e,t.type,r):t.hasOwnProperty("defaultValue")&&C0(e,t.type,Go(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function C0(e,t,r){(t!=="number"||Tg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Uf=Array.isArray;function vu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Go(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function E0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function pC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(Uf(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Go(r)}}function NM(e,t){var r=Go(t.value),n=Go(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function gC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function kM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?kM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bp,CM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bp=bp||document.createElement("div"),bp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dq=["Webkit","ms","Moz","O"];Object.keys(Xf).forEach(function(e){Dq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xf[t]=Xf[e]})});function EM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xf.hasOwnProperty(e)&&Xf[e]?(""+t).trim():t+"px"}function OM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=EM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Lq=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function P0(e,t){if(t){if(Lq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function A0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var T0=null;function G1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var R0=null,yu=null,xu=null;function vC(e){if(e=Km(e)){if(typeof R0!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Uy(t),R0(e.stateNode,e.type,t))}}function PM(e){yu?xu?xu.push(e):xu=[e]:yu=e}function AM(){if(yu){var e=yu,t=xu;if(xu=yu=null,vC(e),t)for(e=0;e<t.length;e++)vC(t[e])}}function TM(e,t){return e(t)}function RM(){}var Db=!1;function MM(e,t,r){if(Db)return e(t,r);Db=!0;try{return TM(e,t,r)}finally{Db=!1,(yu!==null||xu!==null)&&(RM(),AM())}}function xh(e,t){var r=e.stateNode;if(r===null)return null;var n=Uy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var M0=!1;if(Ei)try{var uf={};Object.defineProperty(uf,"passive",{get:function(){M0=!0}}),window.addEventListener("test",uf,uf),window.removeEventListener("test",uf,uf)}catch{M0=!1}function Fq(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Jf=!1,Rg=null,Mg=!1,$0=null,Uq={onError:function(e){Jf=!0,Rg=e}};function Bq(e,t,r,n,s,a,o,l,c){Jf=!1,Rg=null,Fq.apply(Uq,arguments)}function qq(e,t,r,n,s,a,o,l,c){if(Bq.apply(this,arguments),Jf){if(Jf){var u=Rg;Jf=!1,Rg=null}else throw Error(fe(198));Mg||(Mg=!0,$0=u)}}function xc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $M(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function yC(e){if(xc(e)!==e)throw Error(fe(188))}function zq(e){var t=e.alternate;if(!t){if(t=xc(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return yC(s),e;if(a===n)return yC(s),t;a=a.sibling}throw Error(fe(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function IM(e){return e=zq(e),e!==null?DM(e):null}function DM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=DM(e);if(t!==null)return t;e=e.sibling}return null}var LM=ls.unstable_scheduleCallback,xC=ls.unstable_cancelCallback,Wq=ls.unstable_shouldYield,Vq=ls.unstable_requestPaint,vr=ls.unstable_now,Kq=ls.unstable_getCurrentPriorityLevel,Y1=ls.unstable_ImmediatePriority,FM=ls.unstable_UserBlockingPriority,$g=ls.unstable_NormalPriority,Hq=ls.unstable_LowPriority,UM=ls.unstable_IdlePriority,Iy=null,La=null;function Gq(e){if(La&&typeof La.onCommitFiberRoot=="function")try{La.onCommitFiberRoot(Iy,e,void 0,(e.current.flags&128)===128)}catch{}}var ua=Math.clz32?Math.clz32:Xq,Yq=Math.log,Qq=Math.LN2;function Xq(e){return e>>>=0,e===0?32:31-(Yq(e)/Qq|0)|0}var wp=64,jp=4194304;function Bf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ig(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Bf(l):(a&=o,a!==0&&(n=Bf(a)))}else o=r&~s,o!==0?n=Bf(o):a!==0&&(n=Bf(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ua(t),s=1<<r,n|=e[r],t&=~s;return n}function Jq(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zq(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ua(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Jq(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function I0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BM(){var e=wp;return wp<<=1,!(wp&4194240)&&(wp=64),e}function Lb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ua(t),e[t]=r}function e8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ua(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Q1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ua(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var It=0;function qM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zM,X1,WM,VM,KM,D0=!1,_p=[],Mo=null,$o=null,Io=null,bh=new Map,wh=new Map,mo=[],t8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bC(e,t){switch(e){case"focusin":case"focusout":Mo=null;break;case"dragenter":case"dragleave":$o=null;break;case"mouseover":case"mouseout":Io=null;break;case"pointerover":case"pointerout":bh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wh.delete(t.pointerId)}}function df(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Km(t),t!==null&&X1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function r8(e,t,r,n,s){switch(t){case"focusin":return Mo=df(Mo,e,t,r,n,s),!0;case"dragenter":return $o=df($o,e,t,r,n,s),!0;case"mouseover":return Io=df(Io,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return bh.set(a,df(bh.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,wh.set(a,df(wh.get(a)||null,e,t,r,n,s)),!0}return!1}function HM(e){var t=Nl(e.target);if(t!==null){var r=xc(t);if(r!==null){if(t=r.tag,t===13){if(t=$M(r),t!==null){e.blockedOn=t,KM(e.priority,function(){WM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=L0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);T0=n,r.target.dispatchEvent(n),T0=null}else return t=Km(r),t!==null&&X1(t),e.blockedOn=r,!1;t.shift()}return!0}function wC(e,t,r){vg(e)&&r.delete(t)}function n8(){D0=!1,Mo!==null&&vg(Mo)&&(Mo=null),$o!==null&&vg($o)&&($o=null),Io!==null&&vg(Io)&&(Io=null),bh.forEach(wC),wh.forEach(wC)}function ff(e,t){e.blockedOn===t&&(e.blockedOn=null,D0||(D0=!0,ls.unstable_scheduleCallback(ls.unstable_NormalPriority,n8)))}function jh(e){function t(s){return ff(s,e)}if(0<_p.length){ff(_p[0],e);for(var r=1;r<_p.length;r++){var n=_p[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Mo!==null&&ff(Mo,e),$o!==null&&ff($o,e),Io!==null&&ff(Io,e),bh.forEach(t),wh.forEach(t),r=0;r<mo.length;r++)n=mo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<mo.length&&(r=mo[0],r.blockedOn===null);)HM(r),r.blockedOn===null&&mo.shift()}var bu=Bi.ReactCurrentBatchConfig,Dg=!0;function s8(e,t,r,n){var s=It,a=bu.transition;bu.transition=null;try{It=1,J1(e,t,r,n)}finally{It=s,bu.transition=a}}function a8(e,t,r,n){var s=It,a=bu.transition;bu.transition=null;try{It=4,J1(e,t,r,n)}finally{It=s,bu.transition=a}}function J1(e,t,r,n){if(Dg){var s=L0(e,t,r,n);if(s===null)Gb(e,t,n,Lg,r),bC(e,n);else if(r8(s,e,t,r,n))n.stopPropagation();else if(bC(e,n),t&4&&-1<t8.indexOf(e)){for(;s!==null;){var a=Km(s);if(a!==null&&zM(a),a=L0(e,t,r,n),a===null&&Gb(e,t,n,Lg,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Gb(e,t,n,null,r)}}var Lg=null;function L0(e,t,r,n){if(Lg=null,e=G1(n),e=Nl(e),e!==null)if(t=xc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$M(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lg=e,null}function GM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kq()){case Y1:return 1;case FM:return 4;case $g:case Hq:return 16;case UM:return 536870912;default:return 16}default:return 16}}var Eo=null,Z1=null,yg=null;function YM(){if(yg)return yg;var e,t=Z1,r=t.length,n,s="value"in Eo?Eo.value:Eo.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return yg=s.slice(e,1<n?1-n:void 0)}function xg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Sp(){return!0}function jC(){return!1}function fs(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Sp:jC,this.isPropagationStopped=jC,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Sp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Sp)},persist:function(){},isPersistent:Sp}),t}var Ad={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eS=fs(Ad),Vm=fr({},Ad,{view:0,detail:0}),i8=fs(Vm),Fb,Ub,hf,Dy=fr({},Vm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hf&&(hf&&e.type==="mousemove"?(Fb=e.screenX-hf.screenX,Ub=e.screenY-hf.screenY):Ub=Fb=0,hf=e),Fb)},movementY:function(e){return"movementY"in e?e.movementY:Ub}}),_C=fs(Dy),o8=fr({},Dy,{dataTransfer:0}),l8=fs(o8),c8=fr({},Vm,{relatedTarget:0}),Bb=fs(c8),u8=fr({},Ad,{animationName:0,elapsedTime:0,pseudoElement:0}),d8=fs(u8),f8=fr({},Ad,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),h8=fs(f8),m8=fr({},Ad,{data:0}),SC=fs(m8),p8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=v8[e])?!!t[e]:!1}function tS(){return y8}var x8=fr({},Vm,{key:function(e){if(e.key){var t=p8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?g8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tS,charCode:function(e){return e.type==="keypress"?xg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),b8=fs(x8),w8=fr({},Dy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NC=fs(w8),j8=fr({},Vm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tS}),_8=fs(j8),S8=fr({},Ad,{propertyName:0,elapsedTime:0,pseudoElement:0}),N8=fs(S8),k8=fr({},Dy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),C8=fs(k8),E8=[9,13,27,32],rS=Ei&&"CompositionEvent"in window,Zf=null;Ei&&"documentMode"in document&&(Zf=document.documentMode);var O8=Ei&&"TextEvent"in window&&!Zf,QM=Ei&&(!rS||Zf&&8<Zf&&11>=Zf),kC=" ",CC=!1;function XM(e,t){switch(e){case"keyup":return E8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JM(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ru=!1;function P8(e,t){switch(e){case"compositionend":return JM(t);case"keypress":return t.which!==32?null:(CC=!0,kC);case"textInput":return e=t.data,e===kC&&CC?null:e;default:return null}}function A8(e,t){if(ru)return e==="compositionend"||!rS&&XM(e,t)?(e=YM(),yg=Z1=Eo=null,ru=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return QM&&t.locale!=="ko"?null:t.data;default:return null}}var T8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function EC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!T8[e.type]:t==="textarea"}function ZM(e,t,r,n){PM(n),t=Fg(t,"onChange"),0<t.length&&(r=new eS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var eh=null,_h=null;function R8(e){u$(e,0)}function Ly(e){var t=au(e);if(_M(t))return e}function M8(e,t){if(e==="change")return t}var e$=!1;if(Ei){var qb;if(Ei){var zb="oninput"in document;if(!zb){var OC=document.createElement("div");OC.setAttribute("oninput","return;"),zb=typeof OC.oninput=="function"}qb=zb}else qb=!1;e$=qb&&(!document.documentMode||9<document.documentMode)}function PC(){eh&&(eh.detachEvent("onpropertychange",t$),_h=eh=null)}function t$(e){if(e.propertyName==="value"&&Ly(_h)){var t=[];ZM(t,_h,e,G1(e)),MM(R8,t)}}function $8(e,t,r){e==="focusin"?(PC(),eh=t,_h=r,eh.attachEvent("onpropertychange",t$)):e==="focusout"&&PC()}function I8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ly(_h)}function D8(e,t){if(e==="click")return Ly(t)}function L8(e,t){if(e==="input"||e==="change")return Ly(t)}function F8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pa=typeof Object.is=="function"?Object.is:F8;function Sh(e,t){if(pa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!b0.call(t,s)||!pa(e[s],t[s]))return!1}return!0}function AC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function TC(e,t){var r=AC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=AC(r)}}function r$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?r$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function n$(){for(var e=window,t=Tg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tg(e.document)}return t}function nS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U8(e){var t=n$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&r$(r.ownerDocument.documentElement,r)){if(n!==null&&nS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=TC(r,a);var o=TC(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B8=Ei&&"documentMode"in document&&11>=document.documentMode,nu=null,F0=null,th=null,U0=!1;function RC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;U0||nu==null||nu!==Tg(n)||(n=nu,"selectionStart"in n&&nS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),th&&Sh(th,n)||(th=n,n=Fg(F0,"onSelect"),0<n.length&&(t=new eS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=nu)))}function Np(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var su={animationend:Np("Animation","AnimationEnd"),animationiteration:Np("Animation","AnimationIteration"),animationstart:Np("Animation","AnimationStart"),transitionend:Np("Transition","TransitionEnd")},Wb={},s$={};Ei&&(s$=document.createElement("div").style,"AnimationEvent"in window||(delete su.animationend.animation,delete su.animationiteration.animation,delete su.animationstart.animation),"TransitionEvent"in window||delete su.transitionend.transition);function Fy(e){if(Wb[e])return Wb[e];if(!su[e])return e;var t=su[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in s$)return Wb[e]=t[r];return e}var a$=Fy("animationend"),i$=Fy("animationiteration"),o$=Fy("animationstart"),l$=Fy("transitionend"),c$=new Map,MC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function el(e,t){c$.set(e,t),yc(t,[e])}for(var Vb=0;Vb<MC.length;Vb++){var Kb=MC[Vb],q8=Kb.toLowerCase(),z8=Kb[0].toUpperCase()+Kb.slice(1);el(q8,"on"+z8)}el(a$,"onAnimationEnd");el(i$,"onAnimationIteration");el(o$,"onAnimationStart");el("dblclick","onDoubleClick");el("focusin","onFocus");el("focusout","onBlur");el(l$,"onTransitionEnd");zu("onMouseEnter",["mouseout","mouseover"]);zu("onMouseLeave",["mouseout","mouseover"]);zu("onPointerEnter",["pointerout","pointerover"]);zu("onPointerLeave",["pointerout","pointerover"]);yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yc("onBeforeInput",["compositionend","keypress","textInput","paste"]);yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),W8=new Set("cancel close invalid load scroll toggle".split(" ").concat(qf));function $C(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,qq(n,t,void 0,e),e.currentTarget=null}function u$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;$C(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;$C(s,l,u),a=c}}}if(Mg)throw e=$0,Mg=!1,$0=null,e}function Xt(e,t){var r=t[V0];r===void 0&&(r=t[V0]=new Set);var n=e+"__bubble";r.has(n)||(d$(t,e,2,!1),r.add(n))}function Hb(e,t,r){var n=0;t&&(n|=4),d$(r,e,n,t)}var kp="_reactListening"+Math.random().toString(36).slice(2);function Nh(e){if(!e[kp]){e[kp]=!0,yM.forEach(function(r){r!=="selectionchange"&&(W8.has(r)||Hb(r,!1,e),Hb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[kp]||(t[kp]=!0,Hb("selectionchange",!1,t))}}function d$(e,t,r,n){switch(GM(t)){case 1:var s=s8;break;case 4:s=a8;break;default:s=J1}r=s.bind(null,t,r,e),s=void 0,!M0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Gb(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Nl(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}MM(function(){var u=a,d=G1(r),f=[];e:{var h=c$.get(e);if(h!==void 0){var m=eS,g=e;switch(e){case"keypress":if(xg(r)===0)break e;case"keydown":case"keyup":m=b8;break;case"focusin":g="focus",m=Bb;break;case"focusout":g="blur",m=Bb;break;case"beforeblur":case"afterblur":m=Bb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=_C;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=l8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_8;break;case a$:case i$:case o$:m=d8;break;case l$:m=N8;break;case"scroll":m=i8;break;case"wheel":m=C8;break;case"copy":case"cut":case"paste":m=h8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=NC}var p=(t&4)!==0,y=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,b!==null&&(S=xh(v,b),S!=null&&p.push(kh(v,S,w)))),y)break;v=v.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==T0&&(g=r.relatedTarget||r.fromElement)&&(Nl(g)||g[Oi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Nl(g):null,g!==null&&(y=xc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=_C,S="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=NC,S="onPointerLeave",b="onPointerEnter",v="pointer"),y=m==null?h:au(m),w=g==null?h:au(g),h=new p(S,v+"leave",m,r,d),h.target=y,h.relatedTarget=w,S=null,Nl(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=y,S=p),y=S,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=Rc(w))v++;for(w=0,S=b;S;S=Rc(S))w++;for(;0<v-w;)p=Rc(p),v--;for(;0<w-v;)b=Rc(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=Rc(p),b=Rc(b)}p=null}else p=null;m!==null&&IC(f,h,m,p,!1),g!==null&&y!==null&&IC(f,y,g,p,!0)}}e:{if(h=u?au(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=M8;else if(EC(h))if(e$)j=L8;else{j=I8;var _=$8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=D8);if(j&&(j=j(e,u))){ZM(f,j,r,d);break e}_&&_(e,h,u),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&C0(h,"number",h.value)}switch(_=u?au(u):window,e){case"focusin":(EC(_)||_.contentEditable==="true")&&(nu=_,F0=u,th=null);break;case"focusout":th=F0=nu=null;break;case"mousedown":U0=!0;break;case"contextmenu":case"mouseup":case"dragend":U0=!1,RC(f,r,d);break;case"selectionchange":if(B8)break;case"keydown":case"keyup":RC(f,r,d)}var N;if(rS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else ru?XM(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(QM&&r.locale!=="ko"&&(ru||k!=="onCompositionStart"?k==="onCompositionEnd"&&ru&&(N=YM()):(Eo=d,Z1="value"in Eo?Eo.value:Eo.textContent,ru=!0)),_=Fg(u,k),0<_.length&&(k=new SC(k,e,null,r,d),f.push({event:k,listeners:_}),N?k.data=N:(N=JM(r),N!==null&&(k.data=N)))),(N=O8?P8(e,r):A8(e,r))&&(u=Fg(u,"onBeforeInput"),0<u.length&&(d=new SC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}u$(f,t)})}function kh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=xh(e,r),a!=null&&n.unshift(kh(e,a,s)),a=xh(e,t),a!=null&&n.push(kh(e,a,s))),e=e.return}return n}function Rc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function IC(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=xh(r,a),c!=null&&o.unshift(kh(r,c,l))):s||(c=xh(r,a),c!=null&&o.push(kh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var V8=/\r\n?/g,K8=/\u0000|\uFFFD/g;function DC(e){return(typeof e=="string"?e:""+e).replace(V8,`
`).replace(K8,"")}function Cp(e,t,r){if(t=DC(t),DC(e)!==t&&r)throw Error(fe(425))}function Ug(){}var B0=null,q0=null;function z0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var W0=typeof setTimeout=="function"?setTimeout:void 0,H8=typeof clearTimeout=="function"?clearTimeout:void 0,LC=typeof Promise=="function"?Promise:void 0,G8=typeof queueMicrotask=="function"?queueMicrotask:typeof LC<"u"?function(e){return LC.resolve(null).then(e).catch(Y8)}:W0;function Y8(e){setTimeout(function(){throw e})}function Yb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),jh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);jh(t)}function Do(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function FC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Td=Math.random().toString(36).slice(2),Ra="__reactFiber$"+Td,Ch="__reactProps$"+Td,Oi="__reactContainer$"+Td,V0="__reactEvents$"+Td,Q8="__reactListeners$"+Td,X8="__reactHandles$"+Td;function Nl(e){var t=e[Ra];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Oi]||r[Ra]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=FC(e);e!==null;){if(r=e[Ra])return r;e=FC(e)}return t}e=r,r=e.parentNode}return null}function Km(e){return e=e[Ra]||e[Oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function au(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Uy(e){return e[Ch]||null}var K0=[],iu=-1;function tl(e){return{current:e}}function tr(e){0>iu||(e.current=K0[iu],K0[iu]=null,iu--)}function Gt(e,t){iu++,K0[iu]=e.current,e.current=t}var Yo={},pn=tl(Yo),Fn=tl(!1),Xl=Yo;function Wu(e,t){var r=e.type.contextTypes;if(!r)return Yo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Un(e){return e=e.childContextTypes,e!=null}function Bg(){tr(Fn),tr(pn)}function UC(e,t,r){if(pn.current!==Yo)throw Error(fe(168));Gt(pn,t),Gt(Fn,r)}function f$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(fe(108,$q(e)||"Unknown",s));return fr({},r,n)}function qg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yo,Xl=pn.current,Gt(pn,e),Gt(Fn,Fn.current),!0}function BC(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=f$(e,t,Xl),n.__reactInternalMemoizedMergedChildContext=e,tr(Fn),tr(pn),Gt(pn,e)):tr(Fn),Gt(Fn,r)}var ui=null,By=!1,Qb=!1;function h$(e){ui===null?ui=[e]:ui.push(e)}function J8(e){By=!0,h$(e)}function rl(){if(!Qb&&ui!==null){Qb=!0;var e=0,t=It;try{var r=ui;for(It=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}ui=null,By=!1}catch(s){throw ui!==null&&(ui=ui.slice(e+1)),LM(Y1,rl),s}finally{It=t,Qb=!1}}return null}var ou=[],lu=0,zg=null,Wg=0,bs=[],ws=0,Jl=null,pi=1,gi="";function gl(e,t){ou[lu++]=Wg,ou[lu++]=zg,zg=e,Wg=t}function m$(e,t,r){bs[ws++]=pi,bs[ws++]=gi,bs[ws++]=Jl,Jl=e;var n=pi;e=gi;var s=32-ua(n)-1;n&=~(1<<s),r+=1;var a=32-ua(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,pi=1<<32-ua(t)+s|r<<s|n,gi=a+e}else pi=1<<a|r<<s|n,gi=e}function sS(e){e.return!==null&&(gl(e,1),m$(e,1,0))}function aS(e){for(;e===zg;)zg=ou[--lu],ou[lu]=null,Wg=ou[--lu],ou[lu]=null;for(;e===Jl;)Jl=bs[--ws],bs[ws]=null,gi=bs[--ws],bs[ws]=null,pi=bs[--ws],bs[ws]=null}var is=null,ss=null,sr=!1,sa=null;function p$(e,t){var r=Ss(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,is=e,ss=Do(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,is=e,ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Jl!==null?{id:pi,overflow:gi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ss(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,is=e,ss=null,!0):!1;default:return!1}}function H0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function G0(e){if(sr){var t=ss;if(t){var r=t;if(!qC(e,t)){if(H0(e))throw Error(fe(418));t=Do(r.nextSibling);var n=is;t&&qC(e,t)?p$(n,r):(e.flags=e.flags&-4097|2,sr=!1,is=e)}}else{if(H0(e))throw Error(fe(418));e.flags=e.flags&-4097|2,sr=!1,is=e}}}function zC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;is=e}function Ep(e){if(e!==is)return!1;if(!sr)return zC(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!z0(e.type,e.memoizedProps)),t&&(t=ss)){if(H0(e))throw g$(),Error(fe(418));for(;t;)p$(e,t),t=Do(t.nextSibling)}if(zC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ss=Do(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ss=null}}else ss=is?Do(e.stateNode.nextSibling):null;return!0}function g$(){for(var e=ss;e;)e=Do(e.nextSibling)}function Vu(){ss=is=null,sr=!1}function iS(e){sa===null?sa=[e]:sa.push(e)}var Z8=Bi.ReactCurrentBatchConfig;function mf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Op(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function WC(e){var t=e._init;return t(e._payload)}function v$(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Bo(b,v),b.index=0,b.sibling=null,b}function a(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,S){return v===null||v.tag!==6?(v=nw(w,b.mode,S),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,S){var j=w.type;return j===tu?d(b,v,w.props.children,S,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&WC(j)===v.type)?(S=s(v,w.props),S.ref=mf(b,v,w),S.return=b,S):(S=kg(w.type,w.key,w.props,null,b.mode,S),S.ref=mf(b,v,w),S.return=b,S)}function u(b,v,w,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=sw(w,b.mode,S),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,S,j){return v===null||v.tag!==7?(v=Kl(w,b.mode,S,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=nw(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case yp:return w=kg(v.type,v.key,v.props,null,b.mode,w),w.ref=mf(b,null,v),w.return=b,w;case eu:return v=sw(v,b.mode,w),v.return=b,v;case lo:var S=v._init;return f(b,S(v._payload),w)}if(Uf(v)||cf(v))return v=Kl(v,b.mode,w,null),v.return=b,v;Op(b,v)}return null}function h(b,v,w,S){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yp:return w.key===j?c(b,v,w,S):null;case eu:return w.key===j?u(b,v,w,S):null;case lo:return j=w._init,h(b,v,j(w._payload),S)}if(Uf(w)||cf(w))return j!==null?null:d(b,v,w,S,null);Op(b,w)}return null}function m(b,v,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return b=b.get(w)||null,l(v,b,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yp:return b=b.get(S.key===null?w:S.key)||null,c(v,b,S,j);case eu:return b=b.get(S.key===null?w:S.key)||null,u(v,b,S,j);case lo:var _=S._init;return m(b,v,w,_(S._payload),j)}if(Uf(S)||cf(S))return b=b.get(w)||null,d(v,b,S,j,null);Op(v,S)}return null}function g(b,v,w,S){for(var j=null,_=null,N=v,k=v=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var A=h(b,N,w[k],S);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(b,N),v=a(A,v,k),_===null?j=A:_.sibling=A,_=A,N=C}if(k===w.length)return r(b,N),sr&&gl(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],S),N!==null&&(v=a(N,v,k),_===null?j=N:_.sibling=N,_=N);return sr&&gl(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],S),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=a(C,v,k),_===null?j=C:_.sibling=C,_=C);return e&&N.forEach(function(I){return t(b,I)}),sr&&gl(b,k),j}function p(b,v,w,S){var j=cf(w);if(typeof j!="function")throw Error(fe(150));if(w=j.call(w),w==null)throw Error(fe(151));for(var _=j=null,N=v,k=v=0,C=null,A=w.next();N!==null&&!A.done;k++,A=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(b,N,A.value,S);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(b,N),v=a(I,v,k),_===null?j=I:_.sibling=I,_=I,N=C}if(A.done)return r(b,N),sr&&gl(b,k),j;if(N===null){for(;!A.done;k++,A=w.next())A=f(b,A.value,S),A!==null&&(v=a(A,v,k),_===null?j=A:_.sibling=A,_=A);return sr&&gl(b,k),j}for(N=n(b,N);!A.done;k++,A=w.next())A=m(N,b,k,A.value,S),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?k:A.key),v=a(A,v,k),_===null?j=A:_.sibling=A,_=A);return e&&N.forEach(function(O){return t(b,O)}),sr&&gl(b,k),j}function y(b,v,w,S){if(typeof w=="object"&&w!==null&&w.type===tu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yp:e:{for(var j=w.key,_=v;_!==null;){if(_.key===j){if(j=w.type,j===tu){if(_.tag===7){r(b,_.sibling),v=s(_,w.props.children),v.return=b,b=v;break e}}else if(_.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===lo&&WC(j)===_.type){r(b,_.sibling),v=s(_,w.props),v.ref=mf(b,_,w),v.return=b,b=v;break e}r(b,_);break}else t(b,_);_=_.sibling}w.type===tu?(v=Kl(w.props.children,b.mode,S,w.key),v.return=b,b=v):(S=kg(w.type,w.key,w.props,null,b.mode,S),S.ref=mf(b,v,w),S.return=b,b=S)}return o(b);case eu:e:{for(_=w.key;v!==null;){if(v.key===_)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=sw(w,b.mode,S),v.return=b,b=v}return o(b);case lo:return _=w._init,y(b,v,_(w._payload),S)}if(Uf(w))return g(b,v,w,S);if(cf(w))return p(b,v,w,S);Op(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=nw(w,b.mode,S),v.return=b,b=v),o(b)):r(b,v)}return y}var Ku=v$(!0),y$=v$(!1),Vg=tl(null),Kg=null,cu=null,oS=null;function lS(){oS=cu=Kg=null}function cS(e){var t=Vg.current;tr(Vg),e._currentValue=t}function Y0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wu(e,t){Kg=e,oS=cu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($n=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(oS!==e)if(e={context:e,memoizedValue:t,next:null},cu===null){if(Kg===null)throw Error(fe(308));cu=e,Kg.dependencies={lanes:0,firstContext:e}}else cu=cu.next=e;return t}var kl=null;function uS(e){kl===null?kl=[e]:kl.push(e)}function x$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,uS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pi(e,n)}function Pi(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var co=!1;function dS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,wt&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pi(e,r)}return s=n.interleaved,s===null?(t.next=t,uS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pi(e,r)}function bg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q1(e,r)}}function VC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Hg(e,t,r,n){var s=e.updateQueue;co=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;o=0,d=u=c=null,l=a;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=fr({},f,h);break e;case 2:co=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);ec|=o,e.lanes=o,e.memoizedState=f}}function KC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(fe(191,s));s.call(n)}}}var Hm={},Fa=tl(Hm),Eh=tl(Hm),Oh=tl(Hm);function Cl(e){if(e===Hm)throw Error(fe(174));return e}function fS(e,t){switch(Gt(Oh,t),Gt(Eh,e),Gt(Fa,Hm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O0(t,e)}tr(Fa),Gt(Fa,t)}function Hu(){tr(Fa),tr(Eh),tr(Oh)}function w$(e){Cl(Oh.current);var t=Cl(Fa.current),r=O0(t,e.type);t!==r&&(Gt(Eh,e),Gt(Fa,r))}function hS(e){Eh.current===e&&(tr(Fa),tr(Eh))}var lr=tl(0);function Gg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xb=[];function mS(){for(var e=0;e<Xb.length;e++)Xb[e]._workInProgressVersionPrimary=null;Xb.length=0}var wg=Bi.ReactCurrentDispatcher,Jb=Bi.ReactCurrentBatchConfig,Zl=0,ur=null,Rr=null,Vr=null,Yg=!1,rh=!1,Ph=0,ez=0;function sn(){throw Error(fe(321))}function pS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pa(e[r],t[r]))return!1;return!0}function gS(e,t,r,n,s,a){if(Zl=a,ur=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wg.current=e===null||e.memoizedState===null?sz:az,e=r(n,s),rh){a=0;do{if(rh=!1,Ph=0,25<=a)throw Error(fe(301));a+=1,Vr=Rr=null,t.updateQueue=null,wg.current=iz,e=r(n,s)}while(rh)}if(wg.current=Qg,t=Rr!==null&&Rr.next!==null,Zl=0,Vr=Rr=ur=null,Yg=!1,t)throw Error(fe(300));return e}function vS(){var e=Ph!==0;return Ph=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vr===null?ur.memoizedState=Vr=e:Vr=Vr.next=e,Vr}function Rs(){if(Rr===null){var e=ur.alternate;e=e!==null?e.memoizedState:null}else e=Rr.next;var t=Vr===null?ur.memoizedState:Vr.next;if(t!==null)Vr=t,Rr=e;else{if(e===null)throw Error(fe(310));Rr=e,e={memoizedState:Rr.memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},Vr===null?ur.memoizedState=Vr=e:Vr=Vr.next=e}return Vr}function Ah(e,t){return typeof t=="function"?t(e):t}function Zb(e){var t=Rs(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Rr,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Zl&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,ur.lanes|=d,ec|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,pa(n,t.memoizedState)||($n=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ur.lanes|=a,ec|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ew(e){var t=Rs(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);pa(a,t.memoizedState)||($n=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function j$(){}function _$(e,t){var r=ur,n=Rs(),s=t(),a=!pa(n.memoizedState,s);if(a&&(n.memoizedState=s,$n=!0),n=n.queue,yS(k$.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Vr!==null&&Vr.memoizedState.tag&1){if(r.flags|=2048,Th(9,N$.bind(null,r,n,s,t),void 0,null),Hr===null)throw Error(fe(349));Zl&30||S$(r,t,s)}return s}function S$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function N$(e,t,r,n){t.value=r,t.getSnapshot=n,C$(t)&&E$(e)}function k$(e,t,r){return r(function(){C$(t)&&E$(e)})}function C$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pa(e,r)}catch{return!0}}function E$(e){var t=Pi(e,1);t!==null&&da(t,e,1,-1)}function HC(e){var t=Ea();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ah,lastRenderedState:e},t.queue=e,e=e.dispatch=nz.bind(null,ur,e),[t.memoizedState,e]}function Th(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ur.updateQueue,t===null?(t={lastEffect:null,stores:null},ur.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function O$(){return Rs().memoizedState}function jg(e,t,r,n){var s=Ea();ur.flags|=e,s.memoizedState=Th(1|t,r,void 0,n===void 0?null:n)}function qy(e,t,r,n){var s=Rs();n=n===void 0?null:n;var a=void 0;if(Rr!==null){var o=Rr.memoizedState;if(a=o.destroy,n!==null&&pS(n,o.deps)){s.memoizedState=Th(t,r,a,n);return}}ur.flags|=e,s.memoizedState=Th(1|t,r,a,n)}function GC(e,t){return jg(8390656,8,e,t)}function yS(e,t){return qy(2048,8,e,t)}function P$(e,t){return qy(4,2,e,t)}function A$(e,t){return qy(4,4,e,t)}function T$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function R$(e,t,r){return r=r!=null?r.concat([e]):null,qy(4,4,T$.bind(null,t,e),r)}function xS(){}function M$(e,t){var r=Rs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $$(e,t){var r=Rs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function I$(e,t,r){return Zl&21?(pa(r,t)||(r=BM(),ur.lanes|=r,ec|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$n=!0),e.memoizedState=r)}function tz(e,t){var r=It;It=r!==0&&4>r?r:4,e(!0);var n=Jb.transition;Jb.transition={};try{e(!1),t()}finally{It=r,Jb.transition=n}}function D$(){return Rs().memoizedState}function rz(e,t,r){var n=Uo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},L$(e))F$(t,r);else if(r=x$(e,t,r,n),r!==null){var s=jn();da(r,e,n,s),U$(r,t,n)}}function nz(e,t,r){var n=Uo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(L$(e))F$(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,pa(l,o)){var c=t.interleaved;c===null?(s.next=s,uS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=x$(e,t,s,n),r!==null&&(s=jn(),da(r,e,n,s),U$(r,t,n))}}function L$(e){var t=e.alternate;return e===ur||t!==null&&t===ur}function F$(e,t){rh=Yg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function U$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q1(e,r)}}var Qg={readContext:Ts,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},sz={readContext:Ts,useCallback:function(e,t){return Ea().memoizedState=[e,t===void 0?null:t],e},useContext:Ts,useEffect:GC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,jg(4194308,4,T$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jg(4194308,4,e,t)},useInsertionEffect:function(e,t){return jg(4,2,e,t)},useMemo:function(e,t){var r=Ea();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ea();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=rz.bind(null,ur,e),[n.memoizedState,e]},useRef:function(e){var t=Ea();return e={current:e},t.memoizedState=e},useState:HC,useDebugValue:xS,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=HC(!1),t=e[0];return e=tz.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ur,s=Ea();if(sr){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Hr===null)throw Error(fe(349));Zl&30||S$(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,GC(k$.bind(null,n,a,e),[e]),n.flags|=2048,Th(9,N$.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ea(),t=Hr.identifierPrefix;if(sr){var r=gi,n=pi;r=(n&~(1<<32-ua(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ph++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ez++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},az={readContext:Ts,useCallback:M$,useContext:Ts,useEffect:yS,useImperativeHandle:R$,useInsertionEffect:P$,useLayoutEffect:A$,useMemo:$$,useReducer:Zb,useRef:O$,useState:function(){return Zb(Ah)},useDebugValue:xS,useDeferredValue:function(e){var t=Rs();return I$(t,Rr.memoizedState,e)},useTransition:function(){var e=Zb(Ah)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:j$,useSyncExternalStore:_$,useId:D$,unstable_isNewReconciler:!1},iz={readContext:Ts,useCallback:M$,useContext:Ts,useEffect:yS,useImperativeHandle:R$,useInsertionEffect:P$,useLayoutEffect:A$,useMemo:$$,useReducer:ew,useRef:O$,useState:function(){return ew(Ah)},useDebugValue:xS,useDeferredValue:function(e){var t=Rs();return Rr===null?t.memoizedState=e:I$(t,Rr.memoizedState,e)},useTransition:function(){var e=ew(Ah)[0],t=Rs().memoizedState;return[e,t]},useMutableSource:j$,useSyncExternalStore:_$,useId:D$,unstable_isNewReconciler:!1};function Xs(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Q0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:fr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zy={isMounted:function(e){return(e=e._reactInternals)?xc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jn(),s=Uo(e),a=wi(n,s);a.payload=t,r!=null&&(a.callback=r),t=Lo(e,a,s),t!==null&&(da(t,e,s,n),bg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jn(),s=Uo(e),a=wi(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Lo(e,a,s),t!==null&&(da(t,e,s,n),bg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jn(),n=Uo(e),s=wi(r,n);s.tag=2,t!=null&&(s.callback=t),t=Lo(e,s,n),t!==null&&(da(t,e,n,r),bg(t,e,n))}};function YC(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Sh(r,n)||!Sh(s,a):!0}function B$(e,t,r){var n=!1,s=Yo,a=t.contextType;return typeof a=="object"&&a!==null?a=Ts(a):(s=Un(t)?Xl:pn.current,n=t.contextTypes,a=(n=n!=null)?Wu(e,s):Yo),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=zy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function QC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zy.enqueueReplaceState(t,t.state,null)}function X0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},dS(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ts(a):(a=Un(t)?Xl:pn.current,s.context=Wu(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Q0(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&zy.enqueueReplaceState(s,s.state,null),Hg(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gu(e,t){try{var r="",n=t;do r+=Mq(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function tw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function J0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var oz=typeof WeakMap=="function"?WeakMap:Map;function q$(e,t,r){r=wi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Jg||(Jg=!0,lj=n),J0(e,t)},r}function z$(e,t,r){r=wi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){J0(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){J0(e,t),typeof n!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function XC(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new oz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=wz.bind(null,e,t,r),t.then(e,e))}function JC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ZC(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wi(-1,1),t.tag=2,Lo(r,t,1))),r.lanes|=1),e)}var lz=Bi.ReactCurrentOwner,$n=!1;function xn(e,t,r,n){t.child=e===null?y$(t,null,r,n):Ku(t,e.child,r,n)}function e2(e,t,r,n,s){r=r.render;var a=t.ref;return wu(t,s),n=gS(e,t,r,n,a,s),r=vS(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ai(e,t,s)):(sr&&r&&sS(t),t.flags|=1,xn(e,t,n,s),t.child)}function t2(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!CS(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,W$(e,t,a,n,s)):(e=kg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Sh,r(o,n)&&e.ref===t.ref)return Ai(e,t,s)}return t.flags|=1,e=Bo(a,n),e.ref=t.ref,e.return=t,t.child=e}function W$(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Sh(a,n)&&e.ref===t.ref)if($n=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&($n=!0);else return t.lanes=e.lanes,Ai(e,t,s)}return Z0(e,t,r,n,s)}function V$(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(du,Xn),Xn|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Gt(du,Xn),Xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,Gt(du,Xn),Xn|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,Gt(du,Xn),Xn|=n;return xn(e,t,s,r),t.child}function K$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Z0(e,t,r,n,s){var a=Un(r)?Xl:pn.current;return a=Wu(t,a),wu(t,s),r=gS(e,t,r,n,a,s),n=vS(),e!==null&&!$n?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ai(e,t,s)):(sr&&n&&sS(t),t.flags|=1,xn(e,t,r,s),t.child)}function r2(e,t,r,n,s){if(Un(r)){var a=!0;qg(t)}else a=!1;if(wu(t,s),t.stateNode===null)_g(e,t),B$(t,r,n),X0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ts(u):(u=Un(r)?Xl:pn.current,u=Wu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&QC(t,o,n,u),co=!1;var h=t.memoizedState;o.state=h,Hg(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Fn.current||co?(typeof d=="function"&&(Q0(t,r,d,n),c=t.memoizedState),(l=co||YC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,b$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Xs(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ts(c):(c=Un(r)?Xl:pn.current,c=Wu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&QC(t,o,n,c),co=!1,h=t.memoizedState,o.state=h,Hg(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Fn.current||co?(typeof m=="function"&&(Q0(t,r,m,n),g=t.memoizedState),(u=co||YC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ej(e,t,r,n,a,s)}function ej(e,t,r,n,s,a){K$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&BC(t,r,!1),Ai(e,t,a);n=t.stateNode,lz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Ku(t,e.child,null,a),t.child=Ku(t,null,l,a)):xn(e,t,l,a),t.memoizedState=n.state,s&&BC(t,r,!0),t.child}function H$(e){var t=e.stateNode;t.pendingContext?UC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&UC(e,t.context,!1),fS(e,t.containerInfo)}function n2(e,t,r,n,s){return Vu(),iS(s),t.flags|=256,xn(e,t,r,n),t.child}var tj={dehydrated:null,treeContext:null,retryLane:0};function rj(e){return{baseLanes:e,cachePool:null,transitions:null}}function G$(e,t,r){var n=t.pendingProps,s=lr.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Gt(lr,s&1),e===null)return G0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ky(o,n,0,null),e=Kl(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=rj(r),t.memoizedState=tj,e):bS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return cz(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Bo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Bo(l,a):(a=Kl(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?rj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=tj,n}return a=e.child,e=a.sibling,n=Bo(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function bS(e,t){return t=Ky({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pp(e,t,r,n){return n!==null&&iS(n),Ku(t,e.child,null,r),e=bS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cz(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=tw(Error(fe(422))),Pp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ky({mode:"visible",children:n.children},s,0,null),a=Kl(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Ku(t,e.child,null,o),t.child.memoizedState=rj(o),t.memoizedState=tj,a);if(!(t.mode&1))return Pp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(fe(419)),n=tw(a,n,void 0),Pp(e,t,o,n)}if(l=(o&e.childLanes)!==0,$n||l){if(n=Hr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Pi(e,s),da(n,e,s,-1))}return kS(),n=tw(Error(fe(421))),Pp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=jz.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,ss=Do(s.nextSibling),is=t,sr=!0,sa=null,e!==null&&(bs[ws++]=pi,bs[ws++]=gi,bs[ws++]=Jl,pi=e.id,gi=e.overflow,Jl=t),t=bS(t,n.children),t.flags|=4096,t)}function s2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Y0(e.return,t,r)}function rw(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Y$(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(xn(e,t,n.children,r),n=lr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&s2(e,r,t);else if(e.tag===19)s2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Gt(lr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),rw(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}rw(t,!0,r,null,a);break;case"together":rw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _g(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ai(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ec|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Bo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Bo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function uz(e,t,r){switch(t.tag){case 3:H$(t),Vu();break;case 5:w$(t);break;case 1:Un(t.type)&&qg(t);break;case 4:fS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Gt(Vg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Gt(lr,lr.current&1),t.flags|=128,null):r&t.child.childLanes?G$(e,t,r):(Gt(lr,lr.current&1),e=Ai(e,t,r),e!==null?e.sibling:null);Gt(lr,lr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Y$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Gt(lr,lr.current),n)break;return null;case 22:case 23:return t.lanes=0,V$(e,t,r)}return Ai(e,t,r)}var Q$,nj,X$,J$;Q$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nj=function(){};X$=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Cl(Fa.current);var a=null;switch(r){case"input":s=N0(e,s),n=N0(e,n),a=[];break;case"select":s=fr({},s,{value:void 0}),n=fr({},n,{value:void 0}),a=[];break;case"textarea":s=E0(e,s),n=E0(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ug)}P0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vh.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Xt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};J$=function(e,t,r,n){r!==n&&(t.flags|=4)};function pf(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function an(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function dz(e,t,r){var n=t.pendingProps;switch(aS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return an(t),null;case 1:return Un(t.type)&&Bg(),an(t),null;case 3:return n=t.stateNode,Hu(),tr(Fn),tr(pn),mS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ep(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sa!==null&&(dj(sa),sa=null))),nj(e,t),an(t),null;case 5:hS(t);var s=Cl(Oh.current);if(r=t.type,e!==null&&t.stateNode!=null)X$(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return an(t),null}if(e=Cl(Fa.current),Ep(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[Ra]=t,n[Ch]=a,e=(t.mode&1)!==0,r){case"dialog":Xt("cancel",n),Xt("close",n);break;case"iframe":case"object":case"embed":Xt("load",n);break;case"video":case"audio":for(s=0;s<qf.length;s++)Xt(qf[s],n);break;case"source":Xt("error",n);break;case"img":case"image":case"link":Xt("error",n),Xt("load",n);break;case"details":Xt("toggle",n);break;case"input":hC(n,a),Xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Xt("invalid",n);break;case"textarea":pC(n,a),Xt("invalid",n)}P0(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Cp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Cp(n.textContent,l,e),s=["children",""+l]):vh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xt("scroll",n)}switch(r){case"input":xp(n),mC(n,a,!0);break;case"textarea":xp(n),gC(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ug)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=kM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ra]=t,e[Ch]=n,Q$(e,t,!1,!1),t.stateNode=e;e:{switch(o=A0(r,n),r){case"dialog":Xt("cancel",e),Xt("close",e),s=n;break;case"iframe":case"object":case"embed":Xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<qf.length;s++)Xt(qf[s],e);s=n;break;case"source":Xt("error",e),s=n;break;case"img":case"image":case"link":Xt("error",e),Xt("load",e),s=n;break;case"details":Xt("toggle",e),s=n;break;case"input":hC(e,n),s=N0(e,n),Xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=fr({},n,{value:void 0}),Xt("invalid",e);break;case"textarea":pC(e,n),s=E0(e,n),Xt("invalid",e);break;default:s=n}P0(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?OM(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&CM(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&yh(e,c):typeof c=="number"&&yh(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(vh.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Xt("scroll",e):c!=null&&W1(e,a,c,o))}switch(r){case"input":xp(e),mC(e,n,!1);break;case"textarea":xp(e),gC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Go(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?vu(e,!!n.multiple,a,!1):n.defaultValue!=null&&vu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ug)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return an(t),null;case 6:if(e&&t.stateNode!=null)J$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Cl(Oh.current),Cl(Fa.current),Ep(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ra]=t,(a=n.nodeValue!==r)&&(e=is,e!==null))switch(e.tag){case 3:Cp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cp(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ra]=t,t.stateNode=n}return an(t),null;case 13:if(tr(lr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&ss!==null&&t.mode&1&&!(t.flags&128))g$(),Vu(),t.flags|=98560,a=!1;else if(a=Ep(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(fe(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(fe(317));a[Ra]=t}else Vu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;an(t),a=!1}else sa!==null&&(dj(sa),sa=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||lr.current&1?Dr===0&&(Dr=3):kS())),t.updateQueue!==null&&(t.flags|=4),an(t),null);case 4:return Hu(),nj(e,t),e===null&&Nh(t.stateNode.containerInfo),an(t),null;case 10:return cS(t.type._context),an(t),null;case 17:return Un(t.type)&&Bg(),an(t),null;case 19:if(tr(lr),a=t.memoizedState,a===null)return an(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)pf(a,!1);else{if(Dr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gg(e),o!==null){for(t.flags|=128,pf(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Gt(lr,lr.current&1|2),t.child}e=e.sibling}a.tail!==null&&vr()>Yu&&(t.flags|=128,n=!0,pf(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),pf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!sr)return an(t),null}else 2*vr()-a.renderingStartTime>Yu&&r!==1073741824&&(t.flags|=128,n=!0,pf(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=vr(),t.sibling=null,r=lr.current,Gt(lr,n?r&1|2:r&1),t):(an(t),null);case 22:case 23:return NS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xn&1073741824&&(an(t),t.subtreeFlags&6&&(t.flags|=8192)):an(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function fz(e,t){switch(aS(t),t.tag){case 1:return Un(t.type)&&Bg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hu(),tr(Fn),tr(pn),mS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hS(t),null;case 13:if(tr(lr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Vu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tr(lr),null;case 4:return Hu(),null;case 10:return cS(t.type._context),null;case 22:case 23:return NS(),null;case 24:return null;default:return null}}var Ap=!1,cn=!1,hz=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function uu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){pr(e,t,n)}else r.current=null}function sj(e,t,r){try{r()}catch(n){pr(e,t,n)}}var a2=!1;function mz(e,t){if(B0=Dg,e=n$(),nS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==a||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===a&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(q0={focusedElem:e,selectionRange:r},Dg=!1,Pe=t;Pe!==null;)if(t=Pe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pe=e;else for(;Pe!==null;){t=Pe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:Xs(t.type,p),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(S){pr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Pe=e;break}Pe=t.return}return g=a2,a2=!1,g}function nh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&sj(t,r,a)}s=s.next}while(s!==n)}}function Wy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function aj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Z$(e){var t=e.alternate;t!==null&&(e.alternate=null,Z$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ra],delete t[Ch],delete t[V0],delete t[Q8],delete t[X8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function eI(e){return e.tag===5||e.tag===3||e.tag===4}function i2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||eI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ij(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ug));else if(n!==4&&(e=e.child,e!==null))for(ij(e,t,r),e=e.sibling;e!==null;)ij(e,t,r),e=e.sibling}function oj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(oj(e,t,r),e=e.sibling;e!==null;)oj(e,t,r),e=e.sibling}var Jr=null,ta=!1;function to(e,t,r){for(r=r.child;r!==null;)tI(e,t,r),r=r.sibling}function tI(e,t,r){if(La&&typeof La.onCommitFiberUnmount=="function")try{La.onCommitFiberUnmount(Iy,r)}catch{}switch(r.tag){case 5:cn||uu(r,t);case 6:var n=Jr,s=ta;Jr=null,to(e,t,r),Jr=n,ta=s,Jr!==null&&(ta?(e=Jr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Jr.removeChild(r.stateNode));break;case 18:Jr!==null&&(ta?(e=Jr,r=r.stateNode,e.nodeType===8?Yb(e.parentNode,r):e.nodeType===1&&Yb(e,r),jh(e)):Yb(Jr,r.stateNode));break;case 4:n=Jr,s=ta,Jr=r.stateNode.containerInfo,ta=!0,to(e,t,r),Jr=n,ta=s;break;case 0:case 11:case 14:case 15:if(!cn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&sj(r,t,o),s=s.next}while(s!==n)}to(e,t,r);break;case 1:if(!cn&&(uu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){pr(r,t,l)}to(e,t,r);break;case 21:to(e,t,r);break;case 22:r.mode&1?(cn=(n=cn)||r.memoizedState!==null,to(e,t,r),cn=n):to(e,t,r);break;default:to(e,t,r)}}function o2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hz),t.forEach(function(n){var s=_z.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Vs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Jr=l.stateNode,ta=!1;break e;case 3:Jr=l.stateNode.containerInfo,ta=!0;break e;case 4:Jr=l.stateNode.containerInfo,ta=!0;break e}l=l.return}if(Jr===null)throw Error(fe(160));tI(a,o,s),Jr=null,ta=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){pr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)rI(t,e),t=t.sibling}function rI(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vs(t,e),Ca(e),n&4){try{nh(3,e,e.return),Wy(3,e)}catch(p){pr(e,e.return,p)}try{nh(5,e,e.return)}catch(p){pr(e,e.return,p)}}break;case 1:Vs(t,e),Ca(e),n&512&&r!==null&&uu(r,r.return);break;case 5:if(Vs(t,e),Ca(e),n&512&&r!==null&&uu(r,r.return),e.flags&32){var s=e.stateNode;try{yh(s,"")}catch(p){pr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&SM(s,a),A0(l,o);var u=A0(l,a);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?OM(s,f):d==="dangerouslySetInnerHTML"?CM(s,f):d==="children"?yh(s,f):W1(s,d,f,u)}switch(l){case"input":k0(s,a);break;case"textarea":NM(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?vu(s,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?vu(s,!!a.multiple,a.defaultValue,!0):vu(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ch]=a}catch(p){pr(e,e.return,p)}}break;case 6:if(Vs(t,e),Ca(e),n&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(p){pr(e,e.return,p)}}break;case 3:if(Vs(t,e),Ca(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jh(t.containerInfo)}catch(p){pr(e,e.return,p)}break;case 4:Vs(t,e),Ca(e);break;case 13:Vs(t,e),Ca(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(_S=vr())),n&4&&o2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(cn=(u=cn)||d,Vs(t,e),cn=u):Vs(t,e),Ca(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Pe=e,d=e.child;d!==null;){for(f=Pe=d;Pe!==null;){switch(h=Pe,m=h.child,h.tag){case 0:case 11:case 14:case 15:nh(4,h,h.return);break;case 1:uu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){pr(n,r,p)}}break;case 5:uu(h,h.return);break;case 22:if(h.memoizedState!==null){c2(f);continue}}m!==null?(m.return=h,Pe=m):c2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=EM("display",o))}catch(p){pr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){pr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vs(t,e),Ca(e),n&4&&o2(e);break;case 21:break;default:Vs(t,e),Ca(e)}}function Ca(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(eI(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(yh(s,""),n.flags&=-33);var a=i2(e);oj(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=i2(e);ij(e,l,o);break;default:throw Error(fe(161))}}catch(c){pr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pz(e,t,r){Pe=e,nI(e)}function nI(e,t,r){for(var n=(e.mode&1)!==0;Pe!==null;){var s=Pe,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ap;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||cn;l=Ap;var u=cn;if(Ap=o,(cn=c)&&!u)for(Pe=s;Pe!==null;)o=Pe,c=o.child,o.tag===22&&o.memoizedState!==null?u2(s):c!==null?(c.return=o,Pe=c):u2(s);for(;a!==null;)Pe=a,nI(a),a=a.sibling;Pe=s,Ap=l,cn=u}l2(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,Pe=a):l2(e)}}function l2(e){for(;Pe!==null;){var t=Pe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:cn||Wy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!cn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Xs(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&KC(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}KC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&jh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}cn||t.flags&512&&aj(t)}catch(h){pr(t,t.return,h)}}if(t===e){Pe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function c2(e){for(;Pe!==null;){var t=Pe;if(t===e){Pe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Pe=r;break}Pe=t.return}}function u2(e){for(;Pe!==null;){var t=Pe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wy(4,t)}catch(c){pr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){pr(t,s,c)}}var a=t.return;try{aj(t)}catch(c){pr(t,a,c)}break;case 5:var o=t.return;try{aj(t)}catch(c){pr(t,o,c)}}}catch(c){pr(t,t.return,c)}if(t===e){Pe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Pe=l;break}Pe=t.return}}var gz=Math.ceil,Xg=Bi.ReactCurrentDispatcher,wS=Bi.ReactCurrentOwner,Cs=Bi.ReactCurrentBatchConfig,wt=0,Hr=null,Nr=null,tn=0,Xn=0,du=tl(0),Dr=0,Rh=null,ec=0,Vy=0,jS=0,sh=null,Mn=null,_S=0,Yu=1/0,li=null,Jg=!1,lj=null,Fo=null,Tp=!1,Oo=null,Zg=0,ah=0,cj=null,Sg=-1,Ng=0;function jn(){return wt&6?vr():Sg!==-1?Sg:Sg=vr()}function Uo(e){return e.mode&1?wt&2&&tn!==0?tn&-tn:Z8.transition!==null?(Ng===0&&(Ng=BM()),Ng):(e=It,e!==0||(e=window.event,e=e===void 0?16:GM(e.type)),e):1}function da(e,t,r,n){if(50<ah)throw ah=0,cj=null,Error(fe(185));Wm(e,r,n),(!(wt&2)||e!==Hr)&&(e===Hr&&(!(wt&2)&&(Vy|=r),Dr===4&&po(e,tn)),Bn(e,n),r===1&&wt===0&&!(t.mode&1)&&(Yu=vr()+500,By&&rl()))}function Bn(e,t){var r=e.callbackNode;Zq(e,t);var n=Ig(e,e===Hr?tn:0);if(n===0)r!==null&&xC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&xC(r),t===1)e.tag===0?J8(d2.bind(null,e)):h$(d2.bind(null,e)),G8(function(){!(wt&6)&&rl()}),r=null;else{switch(qM(n)){case 1:r=Y1;break;case 4:r=FM;break;case 16:r=$g;break;case 536870912:r=UM;break;default:r=$g}r=dI(r,sI.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sI(e,t){if(Sg=-1,Ng=0,wt&6)throw Error(fe(327));var r=e.callbackNode;if(ju()&&e.callbackNode!==r)return null;var n=Ig(e,e===Hr?tn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ev(e,n);else{t=n;var s=wt;wt|=2;var a=iI();(Hr!==e||tn!==t)&&(li=null,Yu=vr()+500,Vl(e,t));do try{xz();break}catch(l){aI(e,l)}while(!0);lS(),Xg.current=a,wt=s,Nr!==null?t=0:(Hr=null,tn=0,t=Dr)}if(t!==0){if(t===2&&(s=I0(e),s!==0&&(n=s,t=uj(e,s))),t===1)throw r=Rh,Vl(e,0),po(e,n),Bn(e,vr()),r;if(t===6)po(e,n);else{if(s=e.current.alternate,!(n&30)&&!vz(s)&&(t=ev(e,n),t===2&&(a=I0(e),a!==0&&(n=a,t=uj(e,a))),t===1))throw r=Rh,Vl(e,0),po(e,n),Bn(e,vr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:vl(e,Mn,li);break;case 3:if(po(e,n),(n&130023424)===n&&(t=_S+500-vr(),10<t)){if(Ig(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){jn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=W0(vl.bind(null,e,Mn,li),t);break}vl(e,Mn,li);break;case 4:if(po(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ua(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=vr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*gz(n/1960))-n,10<n){e.timeoutHandle=W0(vl.bind(null,e,Mn,li),n);break}vl(e,Mn,li);break;case 5:vl(e,Mn,li);break;default:throw Error(fe(329))}}}return Bn(e,vr()),e.callbackNode===r?sI.bind(null,e):null}function uj(e,t){var r=sh;return e.current.memoizedState.isDehydrated&&(Vl(e,t).flags|=256),e=ev(e,t),e!==2&&(t=Mn,Mn=r,t!==null&&dj(t)),e}function dj(e){Mn===null?Mn=e:Mn.push.apply(Mn,e)}function vz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!pa(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function po(e,t){for(t&=~jS,t&=~Vy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ua(t),n=1<<r;e[r]=-1,t&=~n}}function d2(e){if(wt&6)throw Error(fe(327));ju();var t=Ig(e,0);if(!(t&1))return Bn(e,vr()),null;var r=ev(e,t);if(e.tag!==0&&r===2){var n=I0(e);n!==0&&(t=n,r=uj(e,n))}if(r===1)throw r=Rh,Vl(e,0),po(e,t),Bn(e,vr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vl(e,Mn,li),Bn(e,vr()),null}function SS(e,t){var r=wt;wt|=1;try{return e(t)}finally{wt=r,wt===0&&(Yu=vr()+500,By&&rl())}}function tc(e){Oo!==null&&Oo.tag===0&&!(wt&6)&&ju();var t=wt;wt|=1;var r=Cs.transition,n=It;try{if(Cs.transition=null,It=1,e)return e()}finally{It=n,Cs.transition=r,wt=t,!(wt&6)&&rl()}}function NS(){Xn=du.current,tr(du)}function Vl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H8(r)),Nr!==null)for(r=Nr.return;r!==null;){var n=r;switch(aS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Bg();break;case 3:Hu(),tr(Fn),tr(pn),mS();break;case 5:hS(n);break;case 4:Hu();break;case 13:tr(lr);break;case 19:tr(lr);break;case 10:cS(n.type._context);break;case 22:case 23:NS()}r=r.return}if(Hr=e,Nr=e=Bo(e.current,null),tn=Xn=t,Dr=0,Rh=null,jS=Vy=ec=0,Mn=sh=null,kl!==null){for(t=0;t<kl.length;t++)if(r=kl[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}kl=null}return e}function aI(e,t){do{var r=Nr;try{if(lS(),wg.current=Qg,Yg){for(var n=ur.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yg=!1}if(Zl=0,Vr=Rr=ur=null,rh=!1,Ph=0,wS.current=null,r===null||r.return===null){Dr=1,Rh=t,Nr=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=tn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=JC(o);if(m!==null){m.flags&=-257,ZC(m,o,l,a,t),m.mode&1&&XC(a,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){XC(a,u,t),kS();break e}c=Error(fe(426))}}else if(sr&&l.mode&1){var y=JC(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),ZC(y,o,l,a,t),iS(Gu(c,l));break e}}a=c=Gu(c,l),Dr!==4&&(Dr=2),sh===null?sh=[a]:sh.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=q$(a,c,t);VC(a,b);break e;case 1:l=c;var v=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Fo===null||!Fo.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=z$(a,l,t);VC(a,S);break e}}a=a.return}while(a!==null)}lI(r)}catch(j){t=j,Nr===r&&r!==null&&(Nr=r=r.return);continue}break}while(!0)}function iI(){var e=Xg.current;return Xg.current=Qg,e===null?Qg:e}function kS(){(Dr===0||Dr===3||Dr===2)&&(Dr=4),Hr===null||!(ec&268435455)&&!(Vy&268435455)||po(Hr,tn)}function ev(e,t){var r=wt;wt|=2;var n=iI();(Hr!==e||tn!==t)&&(li=null,Vl(e,t));do try{yz();break}catch(s){aI(e,s)}while(!0);if(lS(),wt=r,Xg.current=n,Nr!==null)throw Error(fe(261));return Hr=null,tn=0,Dr}function yz(){for(;Nr!==null;)oI(Nr)}function xz(){for(;Nr!==null&&!Wq();)oI(Nr)}function oI(e){var t=uI(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?lI(e):Nr=t,wS.current=null}function lI(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=fz(r,t),r!==null){r.flags&=32767,Nr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Dr=6,Nr=null;return}}else if(r=dz(r,t,Xn),r!==null){Nr=r;return}if(t=t.sibling,t!==null){Nr=t;return}Nr=t=e}while(t!==null);Dr===0&&(Dr=5)}function vl(e,t,r){var n=It,s=Cs.transition;try{Cs.transition=null,It=1,bz(e,t,r,n)}finally{Cs.transition=s,It=n}return null}function bz(e,t,r,n){do ju();while(Oo!==null);if(wt&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(e8(e,a),e===Hr&&(Nr=Hr=null,tn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Tp||(Tp=!0,dI($g,function(){return ju(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Cs.transition,Cs.transition=null;var o=It;It=1;var l=wt;wt|=4,wS.current=null,mz(e,r),rI(r,e),U8(q0),Dg=!!B0,q0=B0=null,e.current=r,pz(r),Vq(),wt=l,It=o,Cs.transition=a}else e.current=r;if(Tp&&(Tp=!1,Oo=e,Zg=s),a=e.pendingLanes,a===0&&(Fo=null),Gq(r.stateNode),Bn(e,vr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jg)throw Jg=!1,e=lj,lj=null,e;return Zg&1&&e.tag!==0&&ju(),a=e.pendingLanes,a&1?e===cj?ah++:(ah=0,cj=e):ah=0,rl(),null}function ju(){if(Oo!==null){var e=qM(Zg),t=Cs.transition,r=It;try{if(Cs.transition=null,It=16>e?16:e,Oo===null)var n=!1;else{if(e=Oo,Oo=null,Zg=0,wt&6)throw Error(fe(331));var s=wt;for(wt|=4,Pe=e.current;Pe!==null;){var a=Pe,o=a.child;if(Pe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Pe=u;Pe!==null;){var d=Pe;switch(d.tag){case 0:case 11:case 15:nh(8,d,a)}var f=d.child;if(f!==null)f.return=d,Pe=f;else for(;Pe!==null;){d=Pe;var h=d.sibling,m=d.return;if(Z$(d),d===u){Pe=null;break}if(h!==null){h.return=m,Pe=h;break}Pe=m}}}var g=a.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}Pe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,Pe=o;else e:for(;Pe!==null;){if(a=Pe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:nh(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Pe=b;break e}Pe=a.return}}var v=e.current;for(Pe=v;Pe!==null;){o=Pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Pe=w;else e:for(o=v;Pe!==null;){if(l=Pe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Wy(9,l)}}catch(j){pr(l,l.return,j)}if(l===o){Pe=null;break e}var S=l.sibling;if(S!==null){S.return=l.return,Pe=S;break e}Pe=l.return}}if(wt=s,rl(),La&&typeof La.onPostCommitFiberRoot=="function")try{La.onPostCommitFiberRoot(Iy,e)}catch{}n=!0}return n}finally{It=r,Cs.transition=t}}return!1}function f2(e,t,r){t=Gu(r,t),t=q$(e,t,1),e=Lo(e,t,1),t=jn(),e!==null&&(Wm(e,1,t),Bn(e,t))}function pr(e,t,r){if(e.tag===3)f2(e,e,r);else for(;t!==null;){if(t.tag===3){f2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fo===null||!Fo.has(n))){e=Gu(r,e),e=z$(t,e,1),t=Lo(t,e,1),e=jn(),t!==null&&(Wm(t,1,e),Bn(t,e));break}}t=t.return}}function wz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=jn(),e.pingedLanes|=e.suspendedLanes&r,Hr===e&&(tn&r)===r&&(Dr===4||Dr===3&&(tn&130023424)===tn&&500>vr()-_S?Vl(e,0):jS|=r),Bn(e,t)}function cI(e,t){t===0&&(e.mode&1?(t=jp,jp<<=1,!(jp&130023424)&&(jp=4194304)):t=1);var r=jn();e=Pi(e,t),e!==null&&(Wm(e,t,r),Bn(e,r))}function jz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cI(e,r)}function _z(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),cI(e,r)}var uI;uI=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fn.current)$n=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $n=!1,uz(e,t,r);$n=!!(e.flags&131072)}else $n=!1,sr&&t.flags&1048576&&m$(t,Wg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_g(e,t),e=t.pendingProps;var s=Wu(t,pn.current);wu(t,r),s=gS(null,t,n,e,s,r);var a=vS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Un(n)?(a=!0,qg(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,dS(t),s.updater=zy,t.stateNode=s,s._reactInternals=t,X0(t,n,e,r),t=ej(null,t,n,!0,a,r)):(t.tag=0,sr&&a&&sS(t),xn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(_g(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Nz(n),e=Xs(n,e),s){case 0:t=Z0(null,t,n,e,r);break e;case 1:t=r2(null,t,n,e,r);break e;case 11:t=e2(null,t,n,e,r);break e;case 14:t=t2(null,t,n,Xs(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xs(n,s),Z0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xs(n,s),r2(e,t,n,s,r);case 3:e:{if(H$(t),e===null)throw Error(fe(387));n=t.pendingProps,a=t.memoizedState,s=a.element,b$(e,t),Hg(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Gu(Error(fe(423)),t),t=n2(e,t,n,r,s);break e}else if(n!==s){s=Gu(Error(fe(424)),t),t=n2(e,t,n,r,s);break e}else for(ss=Do(t.stateNode.containerInfo.firstChild),is=t,sr=!0,sa=null,r=y$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Vu(),n===s){t=Ai(e,t,r);break e}xn(e,t,n,r)}t=t.child}return t;case 5:return w$(t),e===null&&G0(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,z0(n,s)?o=null:a!==null&&z0(n,a)&&(t.flags|=32),K$(e,t),xn(e,t,o,r),t.child;case 6:return e===null&&G0(t),null;case 13:return G$(e,t,r);case 4:return fS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ku(t,null,n,r):xn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xs(n,s),e2(e,t,n,s,r);case 7:return xn(e,t,t.pendingProps,r),t.child;case 8:return xn(e,t,t.pendingProps.children,r),t.child;case 12:return xn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,Gt(Vg,n._currentValue),n._currentValue=o,a!==null)if(pa(a.value,o)){if(a.children===s.children&&!Fn.current){t=Ai(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=wi(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Y0(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Y0(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}xn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,wu(t,r),s=Ts(s),n=n(s),t.flags|=1,xn(e,t,n,r),t.child;case 14:return n=t.type,s=Xs(n,t.pendingProps),s=Xs(n.type,s),t2(e,t,n,s,r);case 15:return W$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xs(n,s),_g(e,t),t.tag=1,Un(n)?(e=!0,qg(t)):e=!1,wu(t,r),B$(t,n,s),X0(t,n,s,r),ej(null,t,n,!0,e,r);case 19:return Y$(e,t,r);case 22:return V$(e,t,r)}throw Error(fe(156,t.tag))};function dI(e,t){return LM(e,t)}function Sz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ss(e,t,r,n){return new Sz(e,t,r,n)}function CS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nz(e){if(typeof e=="function")return CS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K1)return 11;if(e===H1)return 14}return 2}function Bo(e,t){var r=e.alternate;return r===null?(r=Ss(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kg(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")CS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case tu:return Kl(r.children,s,a,t);case V1:o=8,s|=8;break;case w0:return e=Ss(12,r,t,s|2),e.elementType=w0,e.lanes=a,e;case j0:return e=Ss(13,r,t,s),e.elementType=j0,e.lanes=a,e;case _0:return e=Ss(19,r,t,s),e.elementType=_0,e.lanes=a,e;case wM:return Ky(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xM:o=10;break e;case bM:o=9;break e;case K1:o=11;break e;case H1:o=14;break e;case lo:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Ss(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Kl(e,t,r,n){return e=Ss(7,e,n,t),e.lanes=r,e}function Ky(e,t,r,n){return e=Ss(22,e,n,t),e.elementType=wM,e.lanes=r,e.stateNode={isHidden:!1},e}function nw(e,t,r){return e=Ss(6,e,null,t),e.lanes=r,e}function sw(e,t,r){return t=Ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lb(0),this.expirationTimes=Lb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ES(e,t,r,n,s,a,o,l,c){return e=new kz(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ss(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},dS(a),e}function Cz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function fI(e){if(!e)return Yo;e=e._reactInternals;e:{if(xc(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Un(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Un(r))return f$(e,r,t)}return t}function hI(e,t,r,n,s,a,o,l,c){return e=ES(r,n,!0,e,s,a,o,l,c),e.context=fI(null),r=e.current,n=jn(),s=Uo(r),a=wi(n,s),a.callback=t??null,Lo(r,a,s),e.current.lanes=s,Wm(e,s,n),Bn(e,n),e}function Hy(e,t,r,n){var s=t.current,a=jn(),o=Uo(s);return r=fI(r),t.context===null?t.context=r:t.pendingContext=r,t=wi(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Lo(s,t,o),e!==null&&(da(e,s,o,a),bg(e,s,o)),o}function tv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function h2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function OS(e,t){h2(e,t),(e=e.alternate)&&h2(e,t)}function Ez(){return null}var mI=typeof reportError=="function"?reportError:function(e){console.error(e)};function PS(e){this._internalRoot=e}Gy.prototype.render=PS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Hy(e,t,null,null)};Gy.prototype.unmount=PS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tc(function(){Hy(null,e,null,null)}),t[Oi]=null}};function Gy(e){this._internalRoot=e}Gy.prototype.unstable_scheduleHydration=function(e){if(e){var t=VM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<mo.length&&t!==0&&t<mo[r].priority;r++);mo.splice(r,0,e),r===0&&HM(e)}};function AS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function m2(){}function Oz(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=tv(o);a.call(u)}}var o=hI(t,n,e,0,null,!1,!1,"",m2);return e._reactRootContainer=o,e[Oi]=o.current,Nh(e.nodeType===8?e.parentNode:e),tc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=tv(c);l.call(u)}}var c=ES(e,0,!1,null,null,!1,!1,"",m2);return e._reactRootContainer=c,e[Oi]=c.current,Nh(e.nodeType===8?e.parentNode:e),tc(function(){Hy(t,c,r,n)}),c}function Qy(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=tv(o);l.call(c)}}Hy(t,o,e,s)}else o=Oz(r,t,e,s,n);return tv(o)}zM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bf(t.pendingLanes);r!==0&&(Q1(t,r|1),Bn(t,vr()),!(wt&6)&&(Yu=vr()+500,rl()))}break;case 13:tc(function(){var n=Pi(e,1);if(n!==null){var s=jn();da(n,e,1,s)}}),OS(e,1)}};X1=function(e){if(e.tag===13){var t=Pi(e,134217728);if(t!==null){var r=jn();da(t,e,134217728,r)}OS(e,134217728)}};WM=function(e){if(e.tag===13){var t=Uo(e),r=Pi(e,t);if(r!==null){var n=jn();da(r,e,t,n)}OS(e,t)}};VM=function(){return It};KM=function(e,t){var r=It;try{return It=e,t()}finally{It=r}};R0=function(e,t,r){switch(t){case"input":if(k0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Uy(n);if(!s)throw Error(fe(90));_M(n),k0(n,s)}}}break;case"textarea":NM(e,r);break;case"select":t=r.value,t!=null&&vu(e,!!r.multiple,t,!1)}};TM=SS;RM=tc;var Pz={usingClientEntryPoint:!1,Events:[Km,au,Uy,PM,AM,SS]},gf={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Az={bundleType:gf.bundleType,version:gf.version,rendererPackageName:gf.rendererPackageName,rendererConfig:gf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IM(e),e===null?null:e.stateNode},findFiberByHostInstance:gf.findFiberByHostInstance||Ez,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rp.isDisabled&&Rp.supportsFiber)try{Iy=Rp.inject(Az),La=Rp}catch{}}ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pz;ds.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AS(t))throw Error(fe(200));return Cz(e,t,null,r)};ds.createRoot=function(e,t){if(!AS(e))throw Error(fe(299));var r=!1,n="",s=mI;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ES(e,1,!1,null,null,r,!1,n,s),e[Oi]=t.current,Nh(e.nodeType===8?e.parentNode:e),new PS(t)};ds.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=IM(t),e=e===null?null:e.stateNode,e};ds.flushSync=function(e){return tc(e)};ds.hydrate=function(e,t,r){if(!Yy(t))throw Error(fe(200));return Qy(null,e,t,!0,r)};ds.hydrateRoot=function(e,t,r){if(!AS(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=mI;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=hI(t,null,e,1,r??null,s,!1,a,o),e[Oi]=t.current,Nh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Gy(t)};ds.render=function(e,t,r){if(!Yy(t))throw Error(fe(200));return Qy(null,e,t,!1,r)};ds.unmountComponentAtNode=function(e){if(!Yy(e))throw Error(fe(40));return e._reactRootContainer?(tc(function(){Qy(null,null,e,!1,function(){e._reactRootContainer=null,e[Oi]=null})}),!0):!1};ds.unstable_batchedUpdates=SS;ds.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yy(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return Qy(e,t,r,!1,n)};ds.version="18.3.1-next-f1338f8080-20240426";function pI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pI)}catch(e){console.error(e)}}pI(),pM.exports=ds;var Rd=pM.exports;const gI=Bt(Rd);var p2=Rd;x0.createRoot=p2.createRoot,x0.hydrateRoot=p2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}var Po;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Po||(Po={}));const g2="popstate";function Tz(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return fj("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:rv(s)}return Mz(t,r,null,e)}function dr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function TS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rz(){return Math.random().toString(36).substr(2,8)}function v2(e,t){return{usr:e.state,key:e.key,idx:t}}function fj(e,t,r,n){return r===void 0&&(r=null),Mh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Md(t):t,{state:r,key:t&&t.key||n||Rz()})}function rv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Md(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Mz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Po.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Mh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Po.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:b})}function h(y,b){l=Po.Push;let v=fj(p.location,y,b);u=d()+1;let w=v2(v,u),S=p.createHref(v);try{o.pushState(w,"",S)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(S)}a&&c&&c({action:l,location:p.location,delta:1})}function m(y,b){l=Po.Replace;let v=fj(p.location,y,b);u=d();let w=v2(v,u),S=p.createHref(v);o.replaceState(w,"",S),a&&c&&c({action:l,location:p.location,delta:0})}function g(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:rv(y);return v=v.replace(/ $/,"%20"),dr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(g2,f),c=y,()=>{s.removeEventListener(g2,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return o.go(y)}};return p}var y2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(y2||(y2={}));function $z(e,t,r){return r===void 0&&(r="/"),Iz(e,t,r)}function Iz(e,t,r,n){let s=typeof t=="string"?Md(t):t,a=Qu(s.pathname||"/",r);if(a==null)return null;let o=vI(e);Dz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Gz(a);l=Kz(o[c],u)}return l}function vI(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(dr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=qo([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(dr(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),vI(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:Wz(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of yI(a.path))s(a,o,c)}),t}function yI(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=yI(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Vz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Lz=/^:[\w-]+$/,Fz=3,Uz=2,Bz=1,qz=10,zz=-2,x2=e=>e==="*";function Wz(e,t){let r=e.split("/"),n=r.length;return r.some(x2)&&(n+=zz),t&&(n+=Uz),r.filter(s=>!x2(s)).reduce((s,a)=>s+(Lz.test(a)?Fz:a===""?Bz:qz),n)}function Vz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Kz(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",f=hj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:qo([a,f.pathname]),pathnameBase:Zz(qo([a,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(a=qo([a,f.pathnameBase]))}return o}function hj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Hz(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=a.slice(0,a.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function Hz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),TS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Gz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return TS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Qu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Yz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qz=e=>Yz.test(e);function Xz(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Md(e):e,a;if(r)if(Qz(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),TS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=b2(r.substring(1),"/"):a=b2(r,t)}else a=t;return{pathname:a,search:eW(n),hash:tW(s)}}function b2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function aw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function RS(e,t){let r=Jz(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function MS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Md(e):(s=Mh({},e),dr(!s.pathname||!s.pathname.includes("?"),aw("?","pathname","search",s)),dr(!s.pathname||!s.pathname.includes("#"),aw("#","pathname","hash",s)),dr(!s.search||!s.search.includes("#"),aw("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=Xz(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const qo=e=>e.join("/").replace(/\/\/+/g,"/"),Zz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),eW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const xI=["post","put","patch","delete"];new Set(xI);const nW=["get",...xI];new Set(nW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $h(){return $h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$h.apply(this,arguments)}const Xy=x.createContext(null),bI=x.createContext(null),qi=x.createContext(null),Jy=x.createContext(null),Ya=x.createContext({outlet:null,matches:[],isDataRoute:!1}),wI=x.createContext(null);function sW(e,t){let{relative:r}=t===void 0?{}:t;$d()||dr(!1);let{basename:n,navigator:s}=x.useContext(qi),{hash:a,pathname:o,search:l}=Zy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:qo([n,o])),s.createHref({pathname:c,search:l,hash:a})}function $d(){return x.useContext(Jy)!=null}function Qa(){return $d()||dr(!1),x.useContext(Jy).location}function jI(e){x.useContext(qi).static||x.useLayoutEffect(e)}function nl(){let{isDataRoute:e}=x.useContext(Ya);return e?bW():aW()}function aW(){$d()||dr(!1);let e=x.useContext(Xy),{basename:t,future:r,navigator:n}=x.useContext(qi),{matches:s}=x.useContext(Ya),{pathname:a}=Qa(),o=JSON.stringify(RS(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return jI(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=MS(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,a,e])}const iW=x.createContext(null);function oW(e){let t=x.useContext(Ya).outlet;return t&&x.createElement(iW.Provider,{value:e},t)}function lW(){let{matches:e}=x.useContext(Ya),t=e[e.length-1];return t?t.params:{}}function Zy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(qi),{matches:s}=x.useContext(Ya),{pathname:a}=Qa(),o=JSON.stringify(RS(s,n.v7_relativeSplatPath));return x.useMemo(()=>MS(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function cW(e,t){return uW(e,t)}function uW(e,t,r,n){$d()||dr(!1);let{navigator:s}=x.useContext(qi),{matches:a}=x.useContext(Ya),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Qa(),d;if(t){var f;let y=typeof t=="string"?Md(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||dr(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=$z(e,{pathname:m}),p=pW(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:qo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:qo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),a,r,n);return t&&p?x.createElement(Jy.Provider,{value:{location:$h({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Po.Pop}},p):p}function dW(){let e=xW(),t=rW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const fW=x.createElement(dW,null);class hW extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Ya.Provider,{value:this.props.routeContext},x.createElement(wI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mW(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(Xy);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ya.Provider,{value:t},n)}function pW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||dr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||fW,c&&(u<0&&h===0?(wW("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=p:g?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(mW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(hW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var _I=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(_I||{}),SI=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(SI||{});function gW(e){let t=x.useContext(Xy);return t||dr(!1),t}function vW(e){let t=x.useContext(bI);return t||dr(!1),t}function yW(e){let t=x.useContext(Ya);return t||dr(!1),t}function NI(e){let t=yW(),r=t.matches[t.matches.length-1];return r.route.id||dr(!1),r.route.id}function xW(){var e;let t=x.useContext(wI),r=vW(),n=NI();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function bW(){let{router:e}=gW(_I.UseNavigateStable),t=NI(SI.UseNavigateStable),r=x.useRef(!1);return jI(()=>{r.current=!0}),x.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,$h({fromRouteId:t},a)))},[e,t])}const w2={};function wW(e,t,r){w2[e]||(w2[e]=!0)}function jW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _W(e){let{to:t,replace:r,state:n,relative:s}=e;$d()||dr(!1);let{future:a,static:o}=x.useContext(qi),{matches:l}=x.useContext(Ya),{pathname:c}=Qa(),u=nl(),d=MS(t,RS(l,a.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function kI(e){return oW(e.context)}function pt(e){dr(!1)}function SW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Po.Pop,navigator:a,static:o=!1,future:l}=e;$d()&&dr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:$h({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Md(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let y=Qu(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:x.createElement(qi.Provider,{value:u},x.createElement(Jy.Provider,{children:r,value:p}))}function NW(e){let{children:t,location:r}=e;return cW(mj(t),r)}new Promise(()=>{});function mj(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let a=[...t,s];if(n.type===x.Fragment){r.push.apply(r,mj(n.props.children,a));return}n.type!==pt&&dr(!1),!n.props.index||!n.props.children||dr(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=mj(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nv(){return nv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nv.apply(this,arguments)}function CI(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function kW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function CW(e,t){return e.button===0&&(!t||t==="_self")&&!kW(e)}function pj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function EW(e,t){let r=pj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const OW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],PW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],AW="6";try{window.__reactRouterVersion=AW}catch{}const TW=x.createContext({isTransitioning:!1}),RW="startTransition",j2=$y[RW];function MW(e){let{basename:t,children:r,future:n,window:s}=e,a=x.useRef();a.current==null&&(a.current=Tz({window:s,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&j2?j2(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>jW(n),[n]),x.createElement(SW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $W=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",IW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=CI(t,OW),{basename:m}=x.useContext(qi),g,p=!1;if(typeof u=="string"&&IW.test(u)&&(g=u,$W))try{let w=new URL(window.location.href),S=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Qu(S.pathname,m);S.origin===w.origin&&j!=null?u=j+S.search+S.hash:p=!0}catch{}let y=sW(u,{relative:s}),b=FW(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",nv({},h,{href:g||y,onClick:p||a?n:v,ref:r,target:c}))}),DW=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=CI(t,PW),h=Zy(c,{relative:f.relative}),m=Qa(),g=x.useContext(bI),{navigator:p,basename:y}=x.useContext(qi),b=g!=null&&UW(h)&&u===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),S=S?S.toLowerCase():null,v=v.toLowerCase()),S&&y&&(S=Qu(S,y)||S);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let _=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",N=S!=null&&(S===v||!o&&S.startsWith(v)&&S.charAt(v.length)==="/"),k={isActive:_,isPending:N,isTransitioning:b},C=_?n:void 0,A;typeof a=="function"?A=a(k):A=[a,_?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return x.createElement(he,nv({},f,{"aria-current":C,className:A,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var gj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(gj||(gj={}));var _2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(_2||(_2={}));function LW(e){let t=x.useContext(Xy);return t||dr(!1),t}function FW(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=nl(),u=Qa(),d=Zy(e,{relative:o});return x.useCallback(f=>{if(CW(f,r)){f.preventDefault();let h=n!==void 0?n:rv(u)===rv(d);c(e,{replace:h,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function EI(e){let t=x.useRef(pj(e)),r=x.useRef(!1),n=Qa(),s=x.useMemo(()=>EW(n.search,r.current?null:t.current),[n.search]),a=nl(),o=x.useCallback((l,c)=>{const u=pj(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}function UW(e,t){t===void 0&&(t={});let r=x.useContext(TW);r==null&&dr(!1);let{basename:n}=LW(gj.useViewTransitionState),s=Zy(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=Qu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Qu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hj(s.pathname,o)!=null||hj(s.pathname,a)!=null}var Id=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},BW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},xo,D1,HR,qW=(HR=class{constructor(){ze(this,xo,BW);ze(this,D1,!1)}setTimeoutProvider(e){Ne(this,xo,e)}setTimeout(e,t){return F(this,xo).setTimeout(e,t)}clearTimeout(e){F(this,xo).clearTimeout(e)}setInterval(e,t){return F(this,xo).setInterval(e,t)}clearInterval(e){F(this,xo).clearInterval(e)}},xo=new WeakMap,D1=new WeakMap,HR),El=new qW;function zW(e){setTimeout(e,0)}var rc=typeof window>"u"||"Deno"in globalThis;function bn(){}function WW(e,t){return typeof e=="function"?e(t):e}function vj(e){return typeof e=="number"&&e>=0&&e!==1/0}function OI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function zo(e,t){return typeof e=="function"?e(t):e}function ys(e,t){return typeof e=="function"?e(t):e}function S2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==$S(o,t.options))return!1}else if(!Ih(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function N2(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(nc(t.options.mutationKey)!==nc(a))return!1}else if(!Ih(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function $S(e,t){return((t==null?void 0:t.queryKeyHashFn)||nc)(e)}function nc(e){return JSON.stringify(e,(t,r)=>yj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Ih(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ih(e[r],t[r])):!1}var VW=Object.prototype.hasOwnProperty;function PI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=k2(e)&&k2(t);if(!n&&!(yj(e)&&yj(t)))return t;const a=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<a:VW.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=PI(h,m,r+1);c[f]=g,g===h&&u++}return a===l&&u===a?e:c}function sv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function k2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yj(e){if(!C2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!C2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function C2(e){return Object.prototype.toString.call(e)==="[object Object]"}function KW(e){return new Promise(t=>{El.setTimeout(t,e)})}function xj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?PI(e,t):t}function HW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function GW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var IS=Symbol();function AI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===IS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function DS(e,t){return typeof e=="function"?e(...t):!!e}function YW(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Il,bo,Au,GR,QW=(GR=class extends Id{constructor(){super();ze(this,Il);ze(this,bo);ze(this,Au);Ne(this,Au,t=>{if(!rc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){F(this,bo)||this.setEventListener(F(this,Au))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,bo))==null||t.call(this),Ne(this,bo,void 0))}setEventListener(t){var r;Ne(this,Au,t),(r=F(this,bo))==null||r.call(this),Ne(this,bo,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){F(this,Il)!==t&&(Ne(this,Il,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof F(this,Il)=="boolean"?F(this,Il):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Il=new WeakMap,bo=new WeakMap,Au=new WeakMap,GR),LS=new QW;function bj(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var XW=zW;function JW(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=XW;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Mr=JW(),Tu,wo,Ru,YR,ZW=(YR=class extends Id{constructor(){super();ze(this,Tu,!0);ze(this,wo);ze(this,Ru);Ne(this,Ru,t=>{if(!rc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){F(this,wo)||this.setEventListener(F(this,Ru))}onUnsubscribe(){var t;this.hasListeners()||((t=F(this,wo))==null||t.call(this),Ne(this,wo,void 0))}setEventListener(t){var r;Ne(this,Ru,t),(r=F(this,wo))==null||r.call(this),Ne(this,wo,t(this.setOnline.bind(this)))}setOnline(t){F(this,Tu)!==t&&(Ne(this,Tu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return F(this,Tu)}},Tu=new WeakMap,wo=new WeakMap,Ru=new WeakMap,YR),av=new ZW;function eV(e){return Math.min(1e3*2**e,3e4)}function TI(e){return(e??"online")==="online"?av.isOnline():!0}var wj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function RI(e){let t=!1,r=0,n;const s=bj(),a=()=>s.status!=="pending",o=p=>{var y;if(!a()){const b=new wj(p);h(b),(y=e.onCancel)==null||y.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>LS.isFocused()&&(e.networkMode==="always"||av.isOnline())&&e.canRun(),d=()=>TI(e.networkMode)&&e.canRun(),f=p=>{a()||(n==null||n(),s.resolve(p))},h=p=>{a()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var y;n=b=>{(a()||u())&&p(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;n=void 0,a()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(a())return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var _;if(a())return;const v=e.retry??(rc?0:3),w=e.retryDelay??eV,S=typeof w=="function"?w(r,b):w,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!j){h(b);return}r++,(_=e.onFail)==null||_.call(e,r,b),KW(S).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Dl,QR,MI=(QR=class{constructor(){ze(this,Dl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vj(this.gcTime)&&Ne(this,Dl,El.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(rc?1/0:5*60*1e3))}clearGcTimeout(){F(this,Dl)&&(El.clearTimeout(F(this,Dl)),Ne(this,Dl,void 0))}},Dl=new WeakMap,QR),Ll,Mu,vs,Fl,zr,Lm,Ul,Zs,oi,XR,tV=(XR=class extends MI{constructor(t){super();ze(this,Zs);ze(this,Ll);ze(this,Mu);ze(this,vs);ze(this,Fl);ze(this,zr);ze(this,Lm);ze(this,Ul);Ne(this,Ul,!1),Ne(this,Lm,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ne(this,Fl,t.client),Ne(this,vs,F(this,Fl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ne(this,Ll,O2(this.options)),this.state=t.state??F(this,Ll),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=F(this,zr))==null?void 0:t.promise}setOptions(t){if(this.options={...F(this,Lm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=O2(this.options);r.data!==void 0&&(this.setState(E2(r.data,r.dataUpdatedAt)),Ne(this,Ll,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&F(this,vs).remove(this)}setData(t,r){const n=xj(this.state.data,t,this.options);return st(this,Zs,oi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,Zs,oi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=F(this,zr))==null?void 0:n.promise;return(s=F(this,zr))==null||s.cancel(t),r?r.then(bn).catch(bn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(F(this,Ll))}isActive(){return this.observers.some(t=>ys(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===IS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>zo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!OI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,zr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=F(this,zr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),F(this,vs).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(F(this,zr)&&(F(this,Ul)?F(this,zr).cancel({revert:!0}):F(this,zr).cancelRetry()),this.scheduleGc()),F(this,vs).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,Zs,oi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,y,b,v,w;if(this.state.fetchStatus!=="idle"&&((c=F(this,zr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(F(this,zr))return F(this,zr).continueRetry(),F(this,zr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const S=this.observers.find(j=>j.options.queryFn);S&&this.setOptions(S.options)}const n=new AbortController,s=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(Ne(this,Ul,!0),n.signal)})},a=()=>{const S=AI(this.options,r),_=(()=>{const N={client:F(this,Fl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Ne(this,Ul,!1),this.options.persister?this.options.persister(S,_,this):S(_)},l=(()=>{const S={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:F(this,Fl),state:this.state,fetchFn:a};return s(S),S})();(u=this.options.behavior)==null||u.onFetch(l,this),Ne(this,Mu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,Zs,oi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ne(this,zr,RI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:S=>{S instanceof wj&&S.revert&&this.setState({...F(this,Mu),fetchStatus:"idle"}),n.abort()},onFail:(S,j)=>{st(this,Zs,oi).call(this,{type:"failed",failureCount:S,error:j})},onPause:()=>{st(this,Zs,oi).call(this,{type:"pause"})},onContinue:()=>{st(this,Zs,oi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const S=await F(this,zr).start();if(S===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(S),(m=(h=F(this,vs).config).onSuccess)==null||m.call(h,S,this),(p=(g=F(this,vs).config).onSettled)==null||p.call(g,S,this.state.error,this),S}catch(S){if(S instanceof wj){if(S.silent)return F(this,zr).promise;if(S.revert){if(this.state.data===void 0)throw S;return this.state.data}}throw st(this,Zs,oi).call(this,{type:"error",error:S}),(b=(y=F(this,vs).config).onError)==null||b.call(y,S,this),(w=(v=F(this,vs).config).onSettled)==null||w.call(v,this.state.data,S,this),S}finally{this.scheduleGc()}}},Ll=new WeakMap,Mu=new WeakMap,vs=new WeakMap,Fl=new WeakMap,zr=new WeakMap,Lm=new WeakMap,Ul=new WeakMap,Zs=new WeakSet,oi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...$I(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...E2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ne(this,Mu,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Mr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),F(this,vs).notify({query:this,type:"updated",action:t})})},XR);function $I(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:TI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function E2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function O2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pn,gt,Fm,vn,Bl,$u,di,jo,Um,Iu,Du,ql,zl,_o,Lu,Rt,zf,jj,_j,Sj,Nj,kj,Cj,Ej,II,JR,rV=(JR=class extends Id{constructor(t,r){super();ze(this,Rt);ze(this,Pn);ze(this,gt);ze(this,Fm);ze(this,vn);ze(this,Bl);ze(this,$u);ze(this,di);ze(this,jo);ze(this,Um);ze(this,Iu);ze(this,Du);ze(this,ql);ze(this,zl);ze(this,_o);ze(this,Lu,new Set);this.options=r,Ne(this,Pn,t),Ne(this,jo,null),Ne(this,di,bj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(F(this,gt).addObserver(this),P2(F(this,gt),this.options)?st(this,Rt,zf).call(this):this.updateResult(),st(this,Rt,Nj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Oj(F(this,gt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Oj(F(this,gt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Rt,kj).call(this),st(this,Rt,Cj).call(this),F(this,gt).removeObserver(this)}setOptions(t){const r=this.options,n=F(this,gt);if(this.options=F(this,Pn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ys(this.options.enabled,F(this,gt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Rt,Ej).call(this),F(this,gt).setOptions(this.options),r._defaulted&&!sv(this.options,r)&&F(this,Pn).getQueryCache().notify({type:"observerOptionsUpdated",query:F(this,gt),observer:this});const s=this.hasListeners();s&&A2(F(this,gt),n,this.options,r)&&st(this,Rt,zf).call(this),this.updateResult(),s&&(F(this,gt)!==n||ys(this.options.enabled,F(this,gt))!==ys(r.enabled,F(this,gt))||zo(this.options.staleTime,F(this,gt))!==zo(r.staleTime,F(this,gt)))&&st(this,Rt,jj).call(this);const a=st(this,Rt,_j).call(this);s&&(F(this,gt)!==n||ys(this.options.enabled,F(this,gt))!==ys(r.enabled,F(this,gt))||a!==F(this,_o))&&st(this,Rt,Sj).call(this,a)}getOptimisticResult(t){const r=F(this,Pn).getQueryCache().build(F(this,Pn),t),n=this.createResult(r,t);return sV(this,n)&&(Ne(this,vn,n),Ne(this,$u,this.options),Ne(this,Bl,F(this,gt).state)),n}getCurrentResult(){return F(this,vn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&F(this,di).status==="pending"&&F(this,di).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){F(this,Lu).add(t)}getCurrentQuery(){return F(this,gt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=F(this,Pn).defaultQueryOptions(t),n=F(this,Pn).getQueryCache().build(F(this,Pn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,Rt,zf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),F(this,vn)))}createResult(t,r){var C;const n=F(this,gt),s=this.options,a=F(this,vn),o=F(this,Bl),l=F(this,$u),u=t!==n?t.state:F(this,Fm),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),I=!A&&P2(t,r),O=A&&A2(t,n,r,s);(I||O)&&(f={...f,...$I(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let A;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=a.data,b=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=F(this,Du))==null?void 0:C.state.data,F(this,Du)):r.placeholderData,A!==void 0&&(y="success",m=xj(a==null?void 0:a.data,A,r),h=!0)}if(r.select&&m!==void 0&&!b)if(a&&m===(o==null?void 0:o.data)&&r.select===F(this,Um))m=F(this,Iu);else try{Ne(this,Um,r.select),m=r.select(m),m=xj(a==null?void 0:a.data,m,r),Ne(this,Iu,m),Ne(this,jo,null)}catch(A){Ne(this,jo,A)}F(this,jo)&&(g=F(this,jo),m=F(this,Iu),p=Date.now(),y="error");const v=f.fetchStatus==="fetching",w=y==="pending",S=y==="error",j=w&&v,_=m!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:S,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:S&&!_,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:S&&_,isStale:FS(t,r),refetch:this.refetch,promise:F(this,di),isEnabled:ys(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=k.data!==void 0,I=k.status==="error"&&!A,O=q=>{I?q.reject(k.error):A&&q.resolve(k.data)},U=()=>{const q=Ne(this,di,k.promise=bj());O(q)},T=F(this,di);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(I||k.data!==T.value)&&U();break;case"rejected":(!I||k.error!==T.reason)&&U();break}}return k}updateResult(){const t=F(this,vn),r=this.createResult(F(this,gt),this.options);if(Ne(this,Bl,F(this,gt).state),Ne(this,$u,this.options),F(this,Bl).data!==void 0&&Ne(this,Du,F(this,gt)),sv(r,t))return;Ne(this,vn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!F(this,Lu).size)return!0;const o=new Set(a??F(this,Lu));return this.options.throwOnError&&o.add("error"),Object.keys(F(this,vn)).some(l=>{const c=l;return F(this,vn)[c]!==t[c]&&o.has(c)})};st(this,Rt,II).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Rt,Nj).call(this)}},Pn=new WeakMap,gt=new WeakMap,Fm=new WeakMap,vn=new WeakMap,Bl=new WeakMap,$u=new WeakMap,di=new WeakMap,jo=new WeakMap,Um=new WeakMap,Iu=new WeakMap,Du=new WeakMap,ql=new WeakMap,zl=new WeakMap,_o=new WeakMap,Lu=new WeakMap,Rt=new WeakSet,zf=function(t){st(this,Rt,Ej).call(this);let r=F(this,gt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(bn)),r},jj=function(){st(this,Rt,kj).call(this);const t=zo(this.options.staleTime,F(this,gt));if(rc||F(this,vn).isStale||!vj(t))return;const n=OI(F(this,vn).dataUpdatedAt,t)+1;Ne(this,ql,El.setTimeout(()=>{F(this,vn).isStale||this.updateResult()},n))},_j=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(F(this,gt)):this.options.refetchInterval)??!1},Sj=function(t){st(this,Rt,Cj).call(this),Ne(this,_o,t),!(rc||ys(this.options.enabled,F(this,gt))===!1||!vj(F(this,_o))||F(this,_o)===0)&&Ne(this,zl,El.setInterval(()=>{(this.options.refetchIntervalInBackground||LS.isFocused())&&st(this,Rt,zf).call(this)},F(this,_o)))},Nj=function(){st(this,Rt,jj).call(this),st(this,Rt,Sj).call(this,st(this,Rt,_j).call(this))},kj=function(){F(this,ql)&&(El.clearTimeout(F(this,ql)),Ne(this,ql,void 0))},Cj=function(){F(this,zl)&&(El.clearInterval(F(this,zl)),Ne(this,zl,void 0))},Ej=function(){const t=F(this,Pn).getQueryCache().build(F(this,Pn),this.options);if(t===F(this,gt))return;const r=F(this,gt);Ne(this,gt,t),Ne(this,Fm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},II=function(t){Mr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(F(this,vn))}),F(this,Pn).getQueryCache().notify({query:F(this,gt),type:"observerResultsUpdated"})})},JR);function nV(e,t){return ys(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function P2(e,t){return nV(e,t)||e.state.data!==void 0&&Oj(e,t,t.refetchOnMount)}function Oj(e,t,r){if(ys(t.enabled,e)!==!1&&zo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&FS(e,t)}return!1}function A2(e,t,r,n){return(e!==t||ys(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&FS(e,r)}function FS(e,t){return ys(t.enabled,e)!==!1&&e.isStaleByTime(zo(t.staleTime,e))}function sV(e,t){return!sv(e.getCurrentResult(),t)}function T2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,a=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{YW(w,()=>t.signal,()=>p=!0)},b=AI(t.options,t.fetchOptions),v=async(w,S,j)=>{if(p)return Promise.reject();if(S==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:S,direction:j?"backward":"forward",meta:t.options.meta};return y(I),I})(),k=await b(N),{maxPages:C}=t.options,A=j?GW:HW;return{pages:A(w.pages,k,C),pageParams:A(w.pageParams,S,C)}};if(s&&a.length){const w=s==="backward",S=w?aV:R2,j={pages:a,pageParams:o},_=S(n,j);l=await v(j,_,w)}else{const w=e??a.length;do{const S=c===0?o[0]??n.initialPageParam:R2(n,l);if(c>0&&S==null)break;l=await v(l,S),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function R2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function aV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Bm,Pa,on,Wl,Aa,ao,ZR,iV=(ZR=class extends MI{constructor(t){super();ze(this,Aa);ze(this,Bm);ze(this,Pa);ze(this,on);ze(this,Wl);Ne(this,Bm,t.client),this.mutationId=t.mutationId,Ne(this,on,t.mutationCache),Ne(this,Pa,[]),this.state=t.state||DI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){F(this,Pa).includes(t)||(F(this,Pa).push(t),this.clearGcTimeout(),F(this,on).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ne(this,Pa,F(this,Pa).filter(r=>r!==t)),this.scheduleGc(),F(this,on).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){F(this,Pa).length||(this.state.status==="pending"?this.scheduleGc():F(this,on).remove(this))}continue(){var t;return((t=F(this,Wl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,y,b,v,w,S,j,_,N;const r=()=>{st(this,Aa,ao).call(this,{type:"continue"})},n={client:F(this,Bm),meta:this.options.meta,mutationKey:this.options.mutationKey};Ne(this,Wl,RI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,Aa,ao).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,Aa,ao).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>F(this,on).canRun(this)}));const s=this.state.status==="pending",a=!F(this,Wl).canStart();try{if(s)r();else{st(this,Aa,ao).call(this,{type:"pending",variables:t,isPaused:a}),F(this,on).config.onMutate&&await F(this,on).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,Aa,ao).call(this,{type:"pending",context:C,variables:t,isPaused:a})}const k=await F(this,Wl).start();return await((u=(c=F(this,on).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=F(this,on).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),st(this,Aa,ao).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(y=F(this,on).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(S=F(this,on).config).onSettled)==null?void 0:j.call(S,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(_=this.options).onSettled)==null?void 0:N.call(_,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,Aa,ao).call(this,{type:"error",error:k}),k}finally{F(this,on).runNext(this)}}},Bm=new WeakMap,Pa=new WeakMap,on=new WeakMap,Wl=new WeakMap,Aa=new WeakSet,ao=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Mr.batch(()=>{F(this,Pa).forEach(n=>{n.onMutationUpdate(t)}),F(this,on).notify({mutation:this,type:"updated",action:t})})},ZR);function DI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fi,ea,qm,eM,oV=(eM=class extends Id{constructor(t={}){super();ze(this,fi);ze(this,ea);ze(this,qm);this.config=t,Ne(this,fi,new Set),Ne(this,ea,new Map),Ne(this,qm,0)}build(t,r,n){const s=new iV({client:t,mutationCache:this,mutationId:++pp(this,qm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){F(this,fi).add(t);const r=Mp(t);if(typeof r=="string"){const n=F(this,ea).get(r);n?n.push(t):F(this,ea).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(F(this,fi).delete(t)){const r=Mp(t);if(typeof r=="string"){const n=F(this,ea).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&F(this,ea).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Mp(t);if(typeof r=="string"){const n=F(this,ea).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Mp(t);if(typeof r=="string"){const s=(n=F(this,ea).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Mr.batch(()=>{F(this,fi).forEach(t=>{this.notify({type:"removed",mutation:t})}),F(this,fi).clear(),F(this,ea).clear()})}getAll(){return Array.from(F(this,fi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>N2(r,n))}findAll(t={}){return this.getAll().filter(r=>N2(t,r))}notify(t){Mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Mr.batch(()=>Promise.all(t.map(r=>r.continue().catch(bn))))}},fi=new WeakMap,ea=new WeakMap,qm=new WeakMap,eM);function Mp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var hi,So,An,mi,Ci,Cg,Pj,tM,lV=(tM=class extends Id{constructor(r,n){super();ze(this,Ci);ze(this,hi);ze(this,So);ze(this,An);ze(this,mi);Ne(this,hi,r),this.setOptions(n),this.bindMethods(),st(this,Ci,Cg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=F(this,hi).defaultMutationOptions(r),sv(this.options,n)||F(this,hi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:F(this,An),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&nc(n.mutationKey)!==nc(this.options.mutationKey)?this.reset():((s=F(this,An))==null?void 0:s.state.status)==="pending"&&F(this,An).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=F(this,An))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,Ci,Cg).call(this),st(this,Ci,Pj).call(this,r)}getCurrentResult(){return F(this,So)}reset(){var r;(r=F(this,An))==null||r.removeObserver(this),Ne(this,An,void 0),st(this,Ci,Cg).call(this),st(this,Ci,Pj).call(this)}mutate(r,n){var s;return Ne(this,mi,n),(s=F(this,An))==null||s.removeObserver(this),Ne(this,An,F(this,hi).getMutationCache().build(F(this,hi),this.options)),F(this,An).addObserver(this),F(this,An).execute(r)}},hi=new WeakMap,So=new WeakMap,An=new WeakMap,mi=new WeakMap,Ci=new WeakSet,Cg=function(){var n;const r=((n=F(this,An))==null?void 0:n.state)??DI();Ne(this,So,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Pj=function(r){Mr.batch(()=>{var n,s,a,o,l,c,u,d;if(F(this,mi)&&this.hasListeners()){const f=F(this,So).variables,h=F(this,So).context,m={client:F(this,hi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=F(this,mi)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(a=F(this,mi)).onSettled)==null||o.call(a,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=F(this,mi)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=F(this,mi)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(F(this,So))})})},tM),Ta,rM,cV=(rM=class extends Id{constructor(t={}){super();ze(this,Ta);this.config=t,Ne(this,Ta,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??$S(s,r);let o=this.get(a);return o||(o=new tV({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){F(this,Ta).has(t.queryHash)||(F(this,Ta).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=F(this,Ta).get(t.queryHash);r&&(t.destroy(),r===t&&F(this,Ta).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Mr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return F(this,Ta).get(t)}getAll(){return[...F(this,Ta).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>S2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>S2(t,n)):r}notify(t){Mr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Mr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ta=new WeakMap,rM),hr,No,ko,Fu,Uu,Co,Bu,qu,nM,uV=(nM=class{constructor(e={}){ze(this,hr);ze(this,No);ze(this,ko);ze(this,Fu);ze(this,Uu);ze(this,Co);ze(this,Bu);ze(this,qu);Ne(this,hr,e.queryCache||new cV),Ne(this,No,e.mutationCache||new oV),Ne(this,ko,e.defaultOptions||{}),Ne(this,Fu,new Map),Ne(this,Uu,new Map),Ne(this,Co,0)}mount(){pp(this,Co)._++,F(this,Co)===1&&(Ne(this,Bu,LS.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,hr).onFocus())})),Ne(this,qu,av.subscribe(async e=>{e&&(await this.resumePausedMutations(),F(this,hr).onOnline())})))}unmount(){var e,t;pp(this,Co)._--,F(this,Co)===0&&((e=F(this,Bu))==null||e.call(this),Ne(this,Bu,void 0),(t=F(this,qu))==null||t.call(this),Ne(this,qu,void 0))}isFetching(e){return F(this,hr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return F(this,No).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,hr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=F(this,hr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(zo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return F(this,hr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=F(this,hr).get(n.queryHash),a=s==null?void 0:s.state.data,o=WW(t,a);if(o!==void 0)return F(this,hr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Mr.batch(()=>F(this,hr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=F(this,hr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=F(this,hr);Mr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=F(this,hr);return Mr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Mr.batch(()=>F(this,hr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(bn).catch(bn)}invalidateQueries(e,t={}){return Mr.batch(()=>(F(this,hr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Mr.batch(()=>F(this,hr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(bn)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(bn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=F(this,hr).build(this,t);return r.isStaleByTime(zo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(bn).catch(bn)}fetchInfiniteQuery(e){return e.behavior=T2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(bn).catch(bn)}ensureInfiniteQueryData(e){return e.behavior=T2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return av.isOnline()?F(this,No).resumePausedMutations():Promise.resolve()}getQueryCache(){return F(this,hr)}getMutationCache(){return F(this,No)}getDefaultOptions(){return F(this,ko)}setDefaultOptions(e){Ne(this,ko,e)}setQueryDefaults(e,t){F(this,Fu).set(nc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...F(this,Fu).values()],r={};return t.forEach(n=>{Ih(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){F(this,Uu).set(nc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...F(this,Uu).values()],r={};return t.forEach(n=>{Ih(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...F(this,ko).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$S(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===IS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...F(this,ko).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){F(this,hr).clear(),F(this,No).clear()}},hr=new WeakMap,No=new WeakMap,ko=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,Co=new WeakMap,Bu=new WeakMap,qu=new WeakMap,nM),LI=x.createContext(void 0),ye=e=>{const t=x.useContext(LI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},dV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(LI.Provider,{value:e,children:t})),FI=x.createContext(!1),fV=()=>x.useContext(FI);FI.Provider;function hV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mV=x.createContext(hV()),pV=()=>x.useContext(mV),gV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?DS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},vV=e=>{x.useEffect(()=>{e.clearReset()},[e])},yV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||DS(r,[e.error,n])),xV=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bV=(e,t)=>e.isLoading&&e.isFetching&&!t,wV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,M2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function jV(e,t,r){var h,m,g,p;const n=fV(),s=pV(),a=ye(),o=a.defaultQueryOptions(e);(m=(h=a.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",xV(o),gV(o,s,l),vV(s);const c=!a.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(a,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const b=f?u.subscribe(Mr.batchCalls(y)):bn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),wV(o,d))throw M2(o,u,s);if(yV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=a.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!rc&&bV(d,n)){const y=c?M2(o,u,s):l==null?void 0:l.promise;y==null||y.catch(bn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Oe(e,t){return jV(e,rV)}function ve(e,t){const r=ye(),[n]=x.useState(()=>new lV(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Mr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,l)=>{n.mutate(o,l).catch(bn)},[n]);if(s.error&&DS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}var _V=e=>{switch(e){case"success":return kV;case"info":return EV;case"warning":return CV;case"error":return OV;default:return null}},SV=Array(12).fill(0),NV=({visible:e,className:t})=>P.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},P.createElement("div",{className:"sonner-spinner"},SV.map((r,n)=>P.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),kV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),CV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),EV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},P.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),PV=P.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},P.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),P.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),AV=()=>{let[e,t]=P.useState(document.hidden);return P.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Aj=1,TV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Aj++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],P.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(MV(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Aj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Tn=new TV,RV=(e,t)=>{let r=(t==null?void 0:t.id)||Aj++;return Tn.addToast({title:e,...t,id:r}),r},MV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",$V=RV,IV=()=>Tn.toasts,DV=()=>Tn.getActiveToasts(),W=Object.assign($V,{success:Tn.success,info:Tn.info,warning:Tn.warning,error:Tn.error,custom:Tn.custom,message:Tn.message,promise:Tn.promise,dismiss:Tn.dismiss,loading:Tn.loading},{getHistory:IV,getToasts:DV});function LV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}LV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function $p(e){return e.label!==void 0}var FV=3,UV="32px",BV="16px",$2=4e3,qV=356,zV=14,WV=20,VV=200;function Ks(...e){return e.filter(Boolean).join(" ")}function KV(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var HV=e=>{var t,r,n,s,a,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:y,visibleToasts:b,heights:v,index:w,toasts:S,expanded:j,removeToast:_,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:A,actionButtonStyle:I,className:O="",descriptionClassName:U="",duration:T,position:q,gap:R,loadingIcon:z,expandByDefault:D,classNames:M,icons:$,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:Y}=e,[ce,xe]=P.useState(null),[We,ne]=P.useState(null),[ae,Ie]=P.useState(!1),[re,ue]=P.useState(!1),[K,H]=P.useState(!1),[Je,Ke]=P.useState(!1),[At,Et]=P.useState(!1),[rr,nn]=P.useState(0),[On,Na]=P.useState(0),L=P.useRef(m.duration||T||$2),V=P.useRef(null),Q=P.useRef(null),Se=w===0,be=w+1<=b,le=m.type,Me=m.dismissible!==!1,Ot=m.className||"",Pt=m.descriptionClassName||"",xr=P.useMemo(()=>v.findIndex(tt=>tt.toastId===m.id)||0,[v,m.id]),ni=P.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:k},[m.closeButton,k]),Bs=P.useMemo(()=>m.duration||T||$2,[m.duration,T]),of=P.useRef(0),ka=P.useRef(0),Tc=P.useRef(0),Xi=P.useRef(null),[mp,Pb]=q.split("-"),lf=P.useMemo(()=>v.reduce((tt,Lt,nr)=>nr>=xr?tt:tt+Lt.height,0),[v,xr]),aC=AV(),sq=m.invert||h,Ab=le==="loading";ka.current=P.useMemo(()=>xr*R+lf,[xr,lf]),P.useEffect(()=>{L.current=Bs},[Bs]),P.useEffect(()=>{Ie(!0)},[]),P.useEffect(()=>{let tt=Q.current;if(tt){let Lt=tt.getBoundingClientRect().height;return Na(Lt),y(nr=>[{toastId:m.id,height:Lt,position:m.position},...nr]),()=>y(nr=>nr.filter(qs=>qs.toastId!==m.id))}},[y,m.id]),P.useLayoutEffect(()=>{if(!ae)return;let tt=Q.current,Lt=tt.style.height;tt.style.height="auto";let nr=tt.getBoundingClientRect().height;tt.style.height=Lt,Na(nr),y(qs=>qs.find(zs=>zs.toastId===m.id)?qs.map(zs=>zs.toastId===m.id?{...zs,height:nr}:zs):[{toastId:m.id,height:nr,position:m.position},...qs])},[ae,m.title,m.description,y,m.id]);let Ji=P.useCallback(()=>{ue(!0),nn(ka.current),y(tt=>tt.filter(Lt=>Lt.toastId!==m.id)),setTimeout(()=>{_(m)},VV)},[m,_,y,ka]);P.useEffect(()=>{if(m.promise&&le==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return j||p||Y&&aC?(()=>{if(Tc.current<of.current){let Lt=new Date().getTime()-of.current;L.current=L.current-Lt}Tc.current=new Date().getTime()})():L.current!==1/0&&(of.current=new Date().getTime(),tt=setTimeout(()=>{var Lt;(Lt=m.onAutoClose)==null||Lt.call(m,m),Ji()},L.current)),()=>clearTimeout(tt)},[j,p,m,le,Y,aC,Ji]),P.useEffect(()=>{m.delete&&Ji()},[Ji,m.delete]);function aq(){var tt,Lt,nr;return $!=null&&$.loading?P.createElement("div",{className:Ks(M==null?void 0:M.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":le==="loading"},$.loading):z?P.createElement("div",{className:Ks(M==null?void 0:M.loader,(Lt=m==null?void 0:m.classNames)==null?void 0:Lt.loader,"sonner-loader"),"data-visible":le==="loading"},z):P.createElement(NV,{className:Ks(M==null?void 0:M.loader,(nr=m==null?void 0:m.classNames)==null?void 0:nr.loader),visible:le==="loading"})}return P.createElement("li",{tabIndex:0,ref:Q,className:Ks(O,Ot,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[le],(r=m==null?void 0:m.classNames)==null?void 0:r[le]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ae,"data-promise":!!m.promise,"data-swiped":At,"data-removed":re,"data-visible":be,"data-y-position":mp,"data-x-position":Pb,"data-index":w,"data-front":Se,"data-swiping":K,"data-dismissible":Me,"data-type":le,"data-invert":sq,"data-swipe-out":Je,"data-swipe-direction":We,"data-expanded":!!(j||D&&ae),style:{"--index":w,"--toasts-before":w,"--z-index":S.length-w,"--offset":`${re?rr:ka.current}px`,"--initial-height":D?"auto":`${On}px`,...C,...m.style},onDragEnd:()=>{H(!1),xe(null),Xi.current=null},onPointerDown:tt=>{Ab||!Me||(V.current=new Date,nn(ka.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(H(!0),Xi.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Lt,nr,qs;if(Je||!Me)return;Xi.current=null;let zs=Number(((tt=Q.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Zi=Number(((Lt=Q.current)==null?void 0:Lt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fl=new Date().getTime()-((nr=V.current)==null?void 0:nr.getTime()),Ws=ce==="x"?zs:Zi,eo=Math.abs(Ws)/fl;if(Math.abs(Ws)>=WV||eo>.11){nn(ka.current),(qs=m.onDismiss)==null||qs.call(m,m),ne(ce==="x"?zs>0?"right":"left":Zi>0?"down":"up"),Ji(),Ke(!0),Et(!1);return}H(!1),xe(null)},onPointerMove:tt=>{var Lt,nr,qs,zs;if(!Xi.current||!Me||((Lt=window.getSelection())==null?void 0:Lt.toString().length)>0)return;let Zi=tt.clientY-Xi.current.y,fl=tt.clientX-Xi.current.x,Ws=(nr=e.swipeDirections)!=null?nr:KV(q);!ce&&(Math.abs(fl)>1||Math.abs(Zi)>1)&&xe(Math.abs(fl)>Math.abs(Zi)?"x":"y");let eo={x:0,y:0};ce==="y"?(Ws.includes("top")||Ws.includes("bottom"))&&(Ws.includes("top")&&Zi<0||Ws.includes("bottom")&&Zi>0)&&(eo.y=Zi):ce==="x"&&(Ws.includes("left")||Ws.includes("right"))&&(Ws.includes("left")&&fl<0||Ws.includes("right")&&fl>0)&&(eo.x=fl),(Math.abs(eo.x)>0||Math.abs(eo.y)>0)&&Et(!0),(qs=Q.current)==null||qs.style.setProperty("--swipe-amount-x",`${eo.x}px`),(zs=Q.current)==null||zs.style.setProperty("--swipe-amount-y",`${eo.y}px`)}},ni&&!m.jsx?P.createElement("button",{"aria-label":ee,"data-disabled":Ab,"data-close-button":!0,onClick:Ab||!Me?()=>{}:()=>{var tt;Ji(),(tt=m.onDismiss)==null||tt.call(m,m)},className:Ks(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(a=$==null?void 0:$.close)!=null?a:PV):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:P.createElement(P.Fragment,null,le||m.icon||m.promise?P.createElement("div",{"data-icon":"",className:Ks(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||aq():null,m.type!=="loading"?m.icon||($==null?void 0:$[le])||_V(le):null):null,P.createElement("div",{"data-content":"",className:Ks(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},P.createElement("div",{"data-title":"",className:Ks(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?P.createElement("div",{"data-description":"",className:Ks(U,Pt,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&$p(m.cancel)?P.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:tt=>{var Lt,nr;$p(m.cancel)&&Me&&((nr=(Lt=m.cancel).onClick)==null||nr.call(Lt,tt),Ji())},className:Ks(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&$p(m.action)?P.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:tt=>{var Lt,nr;$p(m.action)&&((nr=(Lt=m.action).onClick)==null||nr.call(Lt,tt),!tt.defaultPrevented&&Ji())},className:Ks(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function I2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function GV(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?BV:UV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var YV=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=FV,toastOptions:p,dir:y=I2(),gap:b=zV,loadingIcon:v,icons:w,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:j}=e,[_,N]=P.useState([]),k=P.useMemo(()=>Array.from(new Set([n].concat(_.filter(Y=>Y.position).map(Y=>Y.position)))),[_,n]),[C,A]=P.useState([]),[I,O]=P.useState(!1),[U,T]=P.useState(!1),[q,R]=P.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=P.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=P.useRef(null),$=P.useRef(!1),ee=P.useCallback(Y=>{N(ce=>{var xe;return(xe=ce.find(We=>We.id===Y.id))!=null&&xe.delete||Tn.dismiss(Y.id),ce.filter(({id:We})=>We!==Y.id)})},[]);return P.useEffect(()=>Tn.subscribe(Y=>{if(Y.dismiss){N(ce=>ce.map(xe=>xe.id===Y.id?{...xe,delete:!0}:xe));return}setTimeout(()=>{gI.flushSync(()=>{N(ce=>{let xe=ce.findIndex(We=>We.id===Y.id);return xe!==-1?[...ce.slice(0,xe),{...ce[xe],...Y},...ce.slice(xe+1)]:[Y,...ce]})})})}),[]),P.useEffect(()=>{if(d!=="system"){R(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?R("dark"):R("light")),typeof window>"u")return;let Y=window.matchMedia("(prefers-color-scheme: dark)");try{Y.addEventListener("change",({matches:ce})=>{R(ce?"dark":"light")})}catch{Y.addListener(({matches:xe})=>{try{R(xe?"dark":"light")}catch(We){console.error(We)}})}},[d]),P.useEffect(()=>{_.length<=1&&O(!1)},[_]),P.useEffect(()=>{let Y=ce=>{var xe,We;s.every(ne=>ce[ne]||ce.code===ne)&&(O(!0),(xe=z.current)==null||xe.focus()),ce.code==="Escape"&&(document.activeElement===z.current||(We=z.current)!=null&&We.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",Y),()=>document.removeEventListener("keydown",Y)},[s]),P.useEffect(()=>{if(z.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,$.current=!1)}},[z.current]),P.createElement("section",{ref:t,"aria-label":`${S} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((Y,ce)=>{var xe;let[We,ne]=Y.split("-");return _.length?P.createElement("ol",{key:Y,dir:y==="auto"?I2():y,tabIndex:-1,ref:z,className:l,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":We,"data-lifted":I&&_.length>1&&!a,"data-x-position":ne,style:{"--front-toast-height":`${((xe=C[0])==null?void 0:xe.height)||0}px`,"--width":`${qV}px`,"--gap":`${b}px`,...m,...GV(c,u)},onBlur:ae=>{$.current&&!ae.currentTarget.contains(ae.relatedTarget)&&($.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||$.current||($.current=!0,M.current=ae.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{U||O(!1)},onDragEnd:()=>O(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},_.filter(ae=>!ae.position&&ce===0||ae.position===Y).map((ae,Ie)=>{var re,ue;return P.createElement(HV,{key:ae.id,icons:w,index:Ie,toast:ae,defaultRichColors:f,duration:(re=p==null?void 0:p.duration)!=null?re:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(ue=p==null?void 0:p.closeButton)!=null?ue:o,interacting:U,position:Y,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:_.filter(K=>K.position==ae.position),heights:C.filter(K=>K.position==ae.position),setHeights:A,expandByDefault:a,gap:b,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Ma=function(){return Ma=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Ma.apply(this,arguments)};function Dd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function QV(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function XV(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const JV=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class US extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class ZV extends US{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class D2 extends US{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class L2 extends US{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Tj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Tj||(Tj={}));class e9{constructor(t,{headers:r={},customFetch:n,region:s=Tj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JV(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return QV(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let y=d;f&&(o=new AbortController,a=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:y}).catch(j=>{throw new ZV(j)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new D2(b);if(!b.ok)throw new L2(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return w==="application/json"?S=yield b.json():w==="application/octet-stream"||w==="application/pdf"?S=yield b.blob():w==="text/event-stream"?S=b:w==="multipart/form-data"?S=yield b.formData():S=yield b.text(),{data:S,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof L2||l instanceof D2?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var t9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},r9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await a.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await a.text();try{o=JSON.parse(p),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new t9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},n9=class extends r9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const F2=new RegExp("[,()]");var Yc=class extends n9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&F2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},s9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Yc({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Yc({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Yc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Yc({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Yc({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},a9=class UI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new s9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new UI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&h.set("Prefer",`count=${a}`),new Yc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class i9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o9="2.93.3",l9=`realtime-js/${o9}`,c9="1.0.0",BI="2.0.0",U2=BI,Rj=1e4,u9=1e3,d9=100;var uo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(uo||(uo={}));var Tr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tr||(Tr={}));var ra;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ra||(ra={}));var Mj;(function(e){e.websocket="websocket"})(Mj||(Mj={}));var _l;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(_l||(_l={}));class f9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+n.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(n),m.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class qI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Kt||(Kt={}));const B2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=h9(o,e,t,s),a),{}):{}},h9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?zI(a,o):$j(o)},zI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return v9(t,r)}switch(e){case Kt.bool:return m9(t);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return p9(t);case Kt.json:case Kt.jsonb:return g9(t);case Kt.timestamp:return y9(t);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return $j(t);default:return $j(t)}},$j=e=>e,m9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},v9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>zI(t,l))}return e},y9=e=>typeof e=="string"?e.replace(" ","T"):e,WI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class iw{constructor(t,r,n={},s=Rj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var q2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(q2||(q2={}));class ih{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ih.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=ih.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ih.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(z2||(z2={}));var oh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oh||(oh={}));var ci;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ci||(ci={}));class fu{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new iw(this,ra.join,this.params,this.timeout),this.rejoinTimer=new qI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Tr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ra.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new ih(this),this.broadcastEndpointURL=WI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Tr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[oh.PRESENCE]&&this.bindings[oh.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(ci.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(ci.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(ci.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<y;v++){const w=p[v],{filter:{event:S,schema:j,table:_,filter:N}}=w,k=m&&m[v];if(k&&k.event===S&&fu.isFilterValueEqual(k.schema,j)&&fu.isFilterValueEqual(k.table,_)&&fu.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Tr.errored,t==null||t(ci.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(ci.SUBSCRIBED);return}}).receive("error",m=>{this.state=Tr.errored,t==null||t(ci.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ci.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Tr.joined&&t===oh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ra.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new iw(this,ra.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Tr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new iw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>d9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=ra;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var g,p,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const S=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return S&&((p=r.ids)===null||p===void 0?void 0:p.includes(S))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const S=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return S==="*"||S===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:b,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Tr.closed}_isJoined(){return this.state===Tr.joined}_isJoining(){return this.state===Tr.joining}_isLeaving(){return this.state===Tr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&fu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ra.close,{},t)}_onError(t){this._on(ra.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=B2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=B2(t.columns,t.old_record)),r}}const ow=()=>{},Ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},x9=[1e3,2e3,5e3,1e4],b9=1e4,w9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rj,this.transport=null,this.heartbeatIntervalMs=Ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ow,this.ref=0,this.reconnectTimer=null,this.vsn=U2,this.logger=ow,this.conn=null,this.sendBuffer=[],this.serializer=new f9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mj.websocket}`,this.httpEndpoint=WI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=i9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uo.connecting:return _l.Connecting;case uo.open:return _l.Open;case uo.closing:return _l.Closing;default:return _l.Closed}}isConnected(){return this.connectionState()===_l.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new fu(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===uo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===uo.open||this.conn.readyState===uo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ra.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([w9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:l9};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(ra.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new qI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Rj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ip.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ow,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:U2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>x9[g-1]||b9,this.vsn){case c9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case BI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Dh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function _9(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function S9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function N9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=_9(e.baseUrl,n,s),c=await S9(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Dh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Dp(e){return e.join("")}var k9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Dp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Dp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Dp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Dp(e.namespace)}`}),!0}catch(t){if(t instanceof Dh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Dh&&r.status===409)return;throw r}}};function Mc(e){return e.join("")}var C9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Dh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Dh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},E9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=N9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new k9(this.client,t),this.tableOps=new C9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ex=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function tx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Lp=class extends ex{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},VI=class extends ex{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const O9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),P9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ij=e=>{if(Array.isArray(e))return e.map(r=>Ij(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Ij(n)}),t},A9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Lh(e){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lh(e)}function T9(e,t){if(Lh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9(e){var t=T9(e,"string");return Lh(t)=="symbol"?t:t+""}function M9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function W2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W2(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const V2=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},$9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Lp(V2(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Lp(s.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Lp(s.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Lp(s.statusText||`HTTP ${a} error`,a,o,n))}}else t(new VI(V2(e),e,n))},I9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Qe(Qe({},s),r):(P9(n)?(s.headers=Qe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Qe(Qe({},s),r))};async function vf(e,t,r,n,s,a,o){return new Promise((l,c)=>{e(r,I9(t,n,s,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>$9(u,c,n,o))})}function KI(e="storage"){return{get:async(t,r,n,s)=>vf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>vf(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>vf(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>vf(t,"HEAD",r,Qe(Qe({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>vf(t,"DELETE",r,s,a,n,e)}}const D9=KI("storage"),{get:Fh,post:Js,put:Dj,head:L9,remove:BS}=D9,es=KI("vectors");var Ld=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=O9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(tx(r))return{data:null,error:r};throw r}}},F9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tx(t))return{data:null,error:t};throw t}}};let HI;HI=Symbol.toStringTag;var U9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[HI]="BlobDownloadBuilder",this.promise=null}asStream(){return new F9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(tx(t))return{data:null,error:t};throw t}}};const B9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var q9=class extends Ld{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const o=Qe(Qe({},K2),n);let l=Qe(Qe({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Qe(Qe({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Dj:Js)(s.fetch,`${s.url}/object/${d}`,a,Qe({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Qe({upsert:K2.upsert},n),d=Qe(Qe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await Dj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Qe({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Js(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new ex("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Js(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Js(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await Js(n.fetch,`${n.url}/object/sign/${s}`,Qe({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Js(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Qe(Qe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>Fh(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new U9(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Ij(await Fh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await L9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(tx(n)&&n instanceof VI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Qe(Qe(Qe({},B9),t),{},{prefix:e||""});return await Js(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Qe({},e);return await Js(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const z9="2.93.3",Gm={"X-Client-Info":`storage-js/${z9}`};var W9=class extends Ld{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),o=Qe(Qe({},Gm),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Fh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Fh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Js(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Dj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Js(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},V9=class extends Ld{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Qe(Qe({},Gm),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Js(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Fh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await BS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!A9(e))throw new ex("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new E9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},K9=class extends Ld{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Qe(Qe({},Gm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await es.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await es.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},H9=class extends Ld{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Qe(Qe({},Gm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},G9=class extends Ld{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Qe(Qe({},Gm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await es.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Y9=class extends G9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Q9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Q9=class extends K9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new X9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},X9=class extends H9{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Qe(Qe({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},J9=class extends W9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new q9(this.url,this.headers,e,this.fetch)}get vectors(){return new Y9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V9(this.url+"/iceberg",this.headers,this.fetch)}};const GI="2.93.3",Qc=30*1e3,Lj=3,lw=Lj*Qc,Z9="http://localhost:9999",eK="supabase.auth.token",tK={"X-Client-Info":`gotrue-js/${GI}`},Fj="X-Supabase-Api-Version",YI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nK=10*60*1e3;class Uh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function De(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class sK extends Uh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aK(e){return De(e)&&e.name==="AuthApiError"}class Sl extends Uh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zi extends Uh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Yn extends zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cw(e){return De(e)&&e.name==="AuthSessionMissingError"}class $c extends zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fp extends zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Up extends zi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iK(e){return De(e)&&e.name==="AuthImplicitGrantRedirectError"}class H2 extends zi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class oK extends zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Uj extends zi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function uw(e){return De(e)&&e.name==="AuthRetryableFetchError"}class G2 extends zi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Bj extends zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const iv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Y2=` 	
\r=`.split(""),lK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Y2.length;t+=1)e[Y2[t].charCodeAt(0)]=-2;for(let t=0;t<iv.length;t+=1)e[iv[t].charCodeAt(0)]=t;return e})();function Q2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(iv[n]),t.queuedBits-=6}}function QI(e,t,r){const n=lK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function X2(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{dK(o,n,r)};for(let o=0;o<e.length;o+=1)QI(e.charCodeAt(o),s,a);return t.join("")}function cK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function uK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}cK(n,t)}}function dK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function _u(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)QI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function fK(e){const t=[];return uK(e,r=>t.push(r)),new Uint8Array(t)}function Ol(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Q2(s,r,n)),Q2(null,r,n),t.join("")}function hK(e){return Math.round(Date.now()/1e3)+e}function mK(){return Symbol("auth-callback")}const Qr=()=>typeof window<"u"&&typeof document<"u",hl={tested:!1,writable:!1},XI=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hl.tested)return hl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),hl.tested=!0,hl.writable=!0}catch{hl.tested=!0,hl.writable=!1}return hl.writable};function pK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const JI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xc=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ml=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Yr=async(e,t)=>{await e.removeItem(t)};class rx{constructor(){this.promise=new rx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}rx.promiseConstructor=Promise;function Bp(e){const t=e.split(".");if(t.length!==3)throw new Bj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!rK.test(t[n]))throw new Bj("JWT not in base64url format");return{header:JSON.parse(X2(t[0])),payload:JSON.parse(X2(t[1])),signature:_u(t[2]),raw:{header:t[0],payload:t[1]}}}async function vK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yK(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function xK(e){return("0"+e.toString(16)).substr(-2)}function bK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,xK).join("")}async function wK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function jK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await wK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ic(e,t,r=!1){const n=bK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Xc(e,`${t}-code-verifier`,s);const a=await jK(n);return[a,n===a?"plain":"s256"]}const _K=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SK(e){const t=e.headers.get(Fj);if(!t||!t.match(_K))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function NK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const CK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Dc(e){if(!CK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function EK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function J2(e){return JSON.parse(JSON.stringify(e))}const yl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OK=[502,503,504];async function Z2(e){var t;if(!gK(e))throw new Uj(yl(e),0);if(OK.includes(e.status))throw new Uj(yl(e),e.status);let r;try{r=await e.json()}catch(a){throw new Sl(yl(a),a)}let n;const s=SK(e);if(s&&s.getTime()>=YI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new G2(yl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Yn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new G2(yl(r),e.status,r.weak_password.reasons);throw new sK(yl(r),e.status||500,n)}const PK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ge(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Fj]||(a[Fj]=YI["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await AK(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function AK(e,t,r,n,s,a){const o=PK(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Uj(yl(c),0)}if(l.ok||await Z2(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Z2(c)}}function Ys(e){var t;let r=null;MK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=hK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function eE(e){const t=Ys(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function go(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function TK(e){return{data:e,error:null}}function RK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=Dd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function tE(e){return e}function MK(e){return e.access_token&&e.refresh_token&&e.expires_in}const fw=["global","local","others"];class $K{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=JI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=fw[0]){if(fw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fw.join(", ")}`);try{return await Ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(De(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:go})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Dd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:RK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(De(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:go})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:tE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Dc(t);try{return await Ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:go})}catch(r){if(De(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Dc(t);try{return await Ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:go})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Dc(t);try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:go})}catch(n){if(De(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Dc(t.userId);try{const{data:r,error:n}=await Ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Dc(t.userId),Dc(t.id);try{return{data:await Ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:tE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(De(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ge(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ge(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(De(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ge(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(De(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ge(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(De(r))return{data:null,error:r};throw r}}}function rE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Lc={debug:!!(globalThis&&XI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ZI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IK extends ZI{}async function DK(e,t,r){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lc.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function LK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function e4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function FK(e){return parseInt(e,16)}function UK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function BK(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=e4(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${y}
${b}`}class jr extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class ov extends jr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function qK({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new jr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new jr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new jr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new jr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new jr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new jr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(t4(o)){if(a.rp.id!==o)return new jr({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new jr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function zK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new jr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new jr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(t4(n)){if(r.rpId!==n)return new jr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new jr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new jr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new jr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class WK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const VK=new WK;function KK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Dd(e,["challenge","user","excludeCredentials"]),a=_u(t).buffer,o=Object.assign(Object.assign({},r),{id:_u(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:_u(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function HK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Dd(e,["challenge","allowCredentials"]),s=_u(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:_u(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function GK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ol(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ol(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function YK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ol(new Uint8Array(s.authenticatorData)),clientDataJSON:Ol(new Uint8Array(s.clientDataJSON)),signature:Ol(new Uint8Array(s.signature)),userHandle:s.userHandle?Ol(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function t4(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function nE(){var e,t;return!!(Qr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QK(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ov("Browser returned unexpected credential type",t)}:{data:null,error:new ov("Empty credential response",t)}}catch(t){return{data:null,error:qK({error:t,options:e})}}}async function XK(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ov("Browser returned unexpected credential type",t)}:{data:null,error:new ov("Empty credential response",t)}}catch(t){return{data:null,error:zK({error:t,options:e})}}}const JK={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ZK={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=lv(l,o):n[a]=lv(o)}else n[a]=o}return n}function eH(e,t){return lv(JK,e,t||{})}function tH(e,t){return lv(ZK,e,t||{})}class rH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??VK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=eH(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:f,error:h}=await QK({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=tH(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:f,error:h}=await XK(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return De(l)?{data:null,error:l}:{data:null,error:new Sl("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Uh("rpId is required for WebAuthn authentication")};try{if(!nE())return{data:null,error:new Sl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Sl("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Uh("rpId is required for WebAuthn registration")};try{if(!nE())return{data:null,error:new Sl("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return De(o)?{data:null,error:o}:{data:null,error:new Sl("Unexpected error in register",o)}}}}LK();const nH={url:Z9,storageKey:eK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function sE(e,t,r){return await r()}const Fc={};class Bh{get jwks(){var t,r;return(r=(t=Fc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fc[this.storageKey]=Object.assign(Object.assign({},Fc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},nH),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Bh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Bh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Qr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new $K({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=JI(a.fetch),this.lock=a.lock||sE,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Qr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=DK:this.lock=sE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:XI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=rE(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=rE(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${GI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Qr()&&(r=pK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Qr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),iK(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return De(r)?this._returnResult({error:r}):this._returnResult({error:new Sl("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ys}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ic(this.storage,this.storageKey)),a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Ys})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ys})}else throw new Fp("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Yr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eE})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:eE})}else throw new Fp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new $c;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:y,statement:b,options:v}=t;let w;if(Qr())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const S=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=e4(j[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=FK(C)}const k={domain:S.host,address:_,statement:b,uri:S.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=v==null?void 0:v.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=BK(k),g=await w.request({method:"personal_sign",params:[UK(m),_]})}try{const{data:p,error:y}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Ys});if(y)throw y;if(!p||!p.session||!p.user){const b=new $c;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:y})}catch(p){if(De(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:y,wallet:b,statement:v,options:w}=t;let S;if(Qr())if(typeof b=="object")S=b;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))S=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const _=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let N;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")N=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)N=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const _=await S.signMessage(new TextEncoder().encode(g),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=_}}try{const{data:y,error:b}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ol(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ys});if(b)throw b;if(!y||!y.session||!y.user){const v=new $c;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(De(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await ml(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new oK;const{data:a,error:o}=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ys});if(await Yr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new $c;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ys}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new $c;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ic(this.storage,this.storageKey));const{error:f}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Fp("You must provide either an email or phone number.")}catch(l){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:Ys});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ic(this.storage,this.storageKey));const u=await Ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:TK});return!((a=u.data)===null||a===void 0)&&a.url&&Qr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Yn;const{error:s}=await Ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(De(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Fp("You must provide either an email or phone number and a type")}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ml(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<lw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ml(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=dw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=EK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:go}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Yn}:await Ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:go})})}catch(r){if(De(r))return cw(r)&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Yn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ic(this.storage,this.storageKey));const{data:u,error:d}=await Ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:go});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Yn;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=Bp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(De(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Yn;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(De(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Qr())throw new Up("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Up(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Up("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new H2("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Up("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Qc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(a);if(y)throw y;const b={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(De(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ml(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!cw(a))return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(aK(l)&&(l.status===404||l.status===401||l.status===403)||cw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Yr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=mK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ic(this.storage,this.storageKey,!0));try{return await Ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ge(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(De(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ys}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new $c}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await Yr(this.storage,`${this.storageKey}-code-verifier`),De(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yK(async s=>(s>0&&await vK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ys})),(s,a)=>{const o=200*Math.pow(2,s);return a&&uw(a)&&Date.now()+o-n<Qc})}catch(n){if(this._debug(r,"error",n),De(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ml(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ml(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Xc(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:dw()}else if(s&&!s.user&&!s.user){const o=await ml(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Yr(this.storage,this.storageKey+"-user"),await Xc(this.storage,this.storageKey,s)):s.user=dw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lw;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${lw}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),uw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Yn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new rx;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Yn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),De(a)){const o={data:null,error:a};return uw(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Yr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xc(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=J2(s);await Xc(this.storage,this.storageKey,a)}else{const s=J2(r);await Xc(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Yr(this.storage,this.storageKey),await Yr(this.storage,this.storageKey+"-code-verifier"),await Yr(this.storage,this.storageKey+"-user"),this.userStorage&&await Yr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Qc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Qc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Qc}ms, refresh threshold is ${Lj} ticks`),s<=Lj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ZI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Ic(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await Ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?GK(t.webauthn.credential_response):YK(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await Ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:KK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:HK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:m}=Bp(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:y},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(S=>S.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(De(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Bp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ge(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Yn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Yn});const o=await Ge(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Qr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ge(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Yn})})}catch(t){if(De(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ge(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Yn})})}catch(r){if(De(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+nK>s)return n;const{data:a,error:o}=await Ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Bp(n);r!=null&&r.allowExpired||NK(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const d=kK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,fK(`${l}.${c}`)))throw new Bj("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(De(n))return this._returnResult({data:null,error:n});throw n}}}Bh.nextInstanceID={};const sH=Bh,aH="2.93.3";let Wf="";typeof Deno<"u"?Wf="deno":typeof document<"u"?Wf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wf="react-native":Wf="node";const iH={"X-Client-Info":`supabase-js-${Wf}/${aH}`},oH={headers:iH},lH={schema:"public"},cH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uH={};function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function dH(e,t){if(qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fH(e){var t=dH(e,"string");return qh(t)=="symbol"?t:t+""}function hH(e,t,r){return(t=fH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const mH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),pH=()=>Headers,gH=(e,t,r)=>{const n=mH(r),s=pH();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,mr(mr({},o),{},{headers:u}))}};function vH(e){return e.endsWith("/")?e:e+"/"}function yH(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:mr(mr({},c),s),auth:mr(mr({},u),a),realtime:mr(mr({},d),o),storage:{},global:mr(mr(mr({},f),l),{},{headers:mr(mr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function xH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(vH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var bH=class extends sH{constructor(e){super(e)}},wH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=xH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:lH,realtime:uH,auth:mr(mr({},cH),{},{storageKey:o}),global:oH},c=yH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=gH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(mr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new a9(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new J9(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new e9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bH({url:this.authUrl.href,headers:mr(mr({},h),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j9(this.realtimeUrl.href,mr(mr({},e),{},{params:mr(mr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const jH=(e,t,r)=>new wH(e,t,r);function _H(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}_H()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SH="https://prqmzdstrfmahymkekef.supabase.co",NH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",B=jH(SH,NH);async function kH(e,t){const{error:r}=await B.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function CH(){const{error:e}=await B.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function EH(){const{data:{session:e}}=await B.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function OH(e){const{data:{subscription:t}}=B.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function PH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await B.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function AH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:a,error:o}=await B.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(a.user&&!((u=(c=a.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=a.user.identities)==null?void 0:d.length))}}async function TH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await B.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function RH(e){const{error:t}=await B.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function MH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function $H(){const{data:{user:e}}=await B.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await B.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function iE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await B.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function IH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function DH(){const{data:{user:e}}=await B.auth.getUser();return e?!!e.email_confirmed_at:!1}const r4=x.createContext(null);function LH({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0});x.useEffect(()=>{let a=!1;EH().then(({user:l,session:c})=>{a||r({user:l,session:c,isLoading:!1})});const o=OH((l,c)=>{a||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{a=!0,o()}},[]);const n=x.useCallback(async()=>{await CH(),r({user:null,session:null,isLoading:!1})},[]),s=x.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return i.jsx(r4.Provider,{value:s,children:e})}function nx(){const e=x.useContext(r4);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function FH(){const{user:e,isLoading:t}=nx(),r=Qa();if(t)return i.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),i.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return i.jsx(_W,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return i.jsx(kI,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n4=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var BH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...BH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:n4("lucide",s),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=x.forwardRef(({className:n,...s},a)=>x.createElement(qH,{ref:a,iconNode:t,className:n4(`lucide-${UH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zH=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VH=oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hw=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=oe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=oe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=oe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=oe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=oe("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=oe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=oe("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=oe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=oe("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=oe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=oe("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ju=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=oe("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=oe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=oe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=oe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=oe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=oe("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zu=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function _4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=_4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function vt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=_4(e))&&(n&&(n+=" "),n+=t);return n}const JS="-",f7=e=>{const t=m7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(JS);return l[0]===""&&l.length!==1&&l.shift(),S4(l,t)||h7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},S4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?S4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(JS);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},fE=/^\[(.+)\]$/,h7=e=>{if(fE.test(e)){const t=fE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},m7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return g7(Object.entries(e.classGroups),r).forEach(([a,o])=>{zj(o,n,a,t)}),n},zj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:hE(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(p7(s)){zj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{zj(o,hE(t,a),r,n)})})},hE=(e,t)=>{let r=e;return t.split(JS).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},p7=e=>e.isThemeGetter,g7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,v7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},N4="!",y7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(n||l.slice(y,y+a)===t)){c.push(l.slice(d,y)),d=y+a;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(N4),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},x7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},b7=e=>({cache:v7(e.cacheSize),parseClassName:y7(e),...f7(e)}),w7=/\s+/,j7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(w7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=x7(d).join(":"),b=f?y+N4:y,v=b+p;if(a.includes(v))continue;a.push(v);const w=s(p,g);for(let S=0;S<w.length;++S){const j=w[S];a.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function _7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=k4(t))&&(n&&(n+=" "),n+=r);return n}const k4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=k4(e[n]))&&(r&&(r+=" "),r+=t);return r};function S7(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=b7(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=j7(c,r);return s(c,d),d}return function(){return a(_7.apply(null,arguments))}}const Yt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},C4=/^\[(?:([a-z-]+):)?(.+)\]$/i,N7=/^\d+\/\d+$/,k7=new Set(["px","full","screen"]),C7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,E7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,O7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,A7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=e=>Su(e)||k7.has(e)||N7.test(e),ro=e=>Ud(e,"length",F7),Su=e=>!!e&&!Number.isNaN(Number(e)),pw=e=>Ud(e,"number",Su),yf=e=>!!e&&Number.isInteger(Number(e)),T7=e=>e.endsWith("%")&&Su(e.slice(0,-1)),rt=e=>C4.test(e),no=e=>C7.test(e),R7=new Set(["length","size","percentage"]),M7=e=>Ud(e,R7,E4),$7=e=>Ud(e,"position",E4),I7=new Set(["image","url"]),D7=e=>Ud(e,I7,B7),L7=e=>Ud(e,"",U7),xf=()=>!0,Ud=(e,t,r)=>{const n=C4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},F7=e=>E7.test(e)&&!O7.test(e),E4=()=>!1,U7=e=>P7.test(e),B7=e=>A7.test(e),q7=()=>{const e=Yt("colors"),t=Yt("spacing"),r=Yt("blur"),n=Yt("brightness"),s=Yt("borderColor"),a=Yt("borderRadius"),o=Yt("borderSpacing"),l=Yt("borderWidth"),c=Yt("contrast"),u=Yt("grayscale"),d=Yt("hueRotate"),f=Yt("invert"),h=Yt("gap"),m=Yt("gradientColorStops"),g=Yt("gradientColorStopPositions"),p=Yt("inset"),y=Yt("margin"),b=Yt("opacity"),v=Yt("padding"),w=Yt("saturate"),S=Yt("scale"),j=Yt("sepia"),_=Yt("skew"),N=Yt("space"),k=Yt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],O=()=>[rt,t],U=()=>["",si,ro],T=()=>["auto",Su,rt],q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],R=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",rt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Su,rt];return{cacheSize:500,separator:":",theme:{colors:[xf],spacing:[si,ro],blur:["none","",no,rt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",no,rt],borderSpacing:O(),borderWidth:U(),contrast:ee(),grayscale:M(),hueRotate:ee(),invert:M(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[T7,ro],inset:I(),margin:I(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:M(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[no]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...q(),rt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",yf,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",yf,rt]}],"grid-cols":[{"grid-cols":[xf]}],"col-start-end":[{col:["auto",{span:["full",yf,rt]},rt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[xf]}],"row-start-end":[{row:["auto",{span:[yf,rt]},rt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[no]},no]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",no,ro]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pw]}],"font-family":[{font:[xf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Su,pw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",si,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...R(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",si,ro]}],"underline-offset":[{"underline-offset":["auto",si,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...q(),$7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",M7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},D7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...R(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:R()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...R()]}],"outline-offset":[{"outline-offset":[si,rt]}],"outline-w":[{outline:[si,ro]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:U()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[si,ro]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",no,L7]}],"shadow-color":[{shadow:[xf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",no,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[yf,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[si,ro,pw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},z7=S7(q7);function X(...e){return z7(vt(e))}function W7({visible:e,message:t="Processing",className:r}){return e?i.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:X("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[i.jsx(hn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),i.jsx("span",{className:"sr-only",children:t})]}):null}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function mE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vi(...e){return t=>{let r=!1;const n=e.map(s=>{const a=mE(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():mE(e[s],null)}}}}function ot(...e){return x.useCallback(Vi(...e),e)}function V7(e,t){const r=x.createContext(t),n=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function $s(e,t=[]){let r=[];function n(a,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,K7(s,...t)]}function K7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var yr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},H7=$y[" useId ".trim().toString()]||(()=>{}),G7=0;function Es(e){const[t,r]=x.useState(H7());return yr(()=>{r(n=>n??String(G7++))},[e]),t?`radix-${t}`:""}var Y7=$y[" useInsertionEffect ".trim().toString()]||yr;function Ka({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=Q7({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=X7(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else a(d)},[l,e,a,o]);return[c,u]}function Q7({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),a=x.useRef(t);return Y7(()=>{a.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function X7(e){return typeof e=="function"}function J7(e){const t=Z7(e),r=x.forwardRef((n,s)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(tG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function Z7(e){const t=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const o=nG(s),l=rG(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eG=Symbol("radix.slottable");function tG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eG}function rG(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function nG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ye=sG.reduce((e,t)=>{const r=J7(`Primitive.${t}`),n=x.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function O4(e,t){e&&Rd.flushSync(()=>e.dispatchEvent(t))}function Kr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function aG(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var iG="DismissableLayer",Wj="dismissableLayer.update",oG="dismissableLayer.pointerDownOutside",lG="dismissableLayer.focusOutside",pE,P4=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ux=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(P4),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=ot(t,N=>f(N)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,S=v>=b,j=dG(N=>{const k=N.target,C=[...u.branches].some(A=>A.contains(k));!S||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),_=fG(N=>{const k=N.target;[...u.branches].some(A=>A.contains(k))||(a==null||a(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return aG(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(pE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),gE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=pE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),gE())},[d,u]),x.useEffect(()=>{const N=()=>m({});return document.addEventListener(Wj,N),()=>document.removeEventListener(Wj,N)},[]),i.jsx(Ye.div,{...c,ref:g,style:{pointerEvents:w?S?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,_.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,j.onPointerDownCapture)})});ux.displayName=iG;var cG="DismissableLayerBranch",uG=x.forwardRef((e,t)=>{const r=x.useContext(P4),n=x.useRef(null),s=ot(t,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Ye.div,{...e,ref:s})});uG.displayName=cG;function dG(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){A4(oG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function fG(e,t=globalThis==null?void 0:globalThis.document){const r=Kr(e),n=x.useRef(!1);return x.useEffect(()=>{const s=a=>{a.target&&!n.current&&A4(lG,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gE(){const e=new CustomEvent(Wj);document.dispatchEvent(e)}function A4(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?O4(s,a):s.dispatchEvent(a)}var gw="focusScope.autoFocusOnMount",vw="focusScope.autoFocusOnUnmount",vE={bubbles:!1,cancelable:!0},hG="FocusScope",dx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=x.useState(null),u=Kr(s),d=Kr(a),f=x.useRef(null),h=ot(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const S=w.target;l.contains(S)?f.current=S:io(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const S=w.relatedTarget;S!==null&&(l.contains(S)||io(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&io(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){xE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(gw,vE);l.addEventListener(gw,u),l.dispatchEvent(b),b.defaultPrevented||(mG(xG(T4(l)),{select:!0}),document.activeElement===p&&io(l))}return()=>{l.removeEventListener(gw,u),setTimeout(()=>{const b=new CustomEvent(vw,vE);l.addEventListener(vw,d),l.dispatchEvent(b),b.defaultPrevented||io(p??document.body,{select:!0}),l.removeEventListener(vw,d),xE.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const v=p.currentTarget,[w,S]=pG(v);w&&S?!p.shiftKey&&b===S?(p.preventDefault(),r&&io(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&io(S,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return i.jsx(Ye.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});dx.displayName=hG;function mG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(io(n,{select:t}),document.activeElement!==r)return}function pG(e){const t=T4(e),r=yE(t,e),n=yE(t.reverse(),e);return[r,n]}function T4(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yE(e,t){for(const r of e)if(!gG(r,{upTo:t}))return r}function gG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function vG(e){return e instanceof HTMLInputElement&&"select"in e}function io(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&vG(e)&&t&&e.select()}}var xE=yG();function yG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=bE(e,t),e.unshift(t)},remove(t){var r;e=bE(e,t),(r=e[0])==null||r.resume()}}}function bE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function xG(e){return e.filter(t=>t.tagName!=="A")}var bG="Portal",fx=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=x.useState(!1);yr(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?gI.createPortal(i.jsx(Ye.div,{...n,ref:t}),o):null});fx.displayName=bG;function wG(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Vn=e=>{const{present:t,children:r}=e,n=jG(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=ot(n.ref,_G(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:a}):null};Vn.displayName="Presence";function jG(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),a=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=wG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=qp(n.current);a.current=l==="mounted"?u:"none"},[l]),yr(()=>{const u=n.current,d=s.current;if(d!==e){const h=a.current,m=qp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),yr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=qp(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(a.current=qp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function qp(e){return(e==null?void 0:e.animationName)||"none"}function _G(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var yw=0;function ZS(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??wE()),document.body.insertAdjacentElement("beforeend",e[1]??wE()),yw++,()=>{yw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yw--}},[])}function wE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Eg="right-scroll-bar-position",Og="width-before-scroll-bar",SG="with-scroll-bars-hidden",NG="--removed-body-scroll-bar-size";function xw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function kG(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var CG=typeof window<"u"?x.useLayoutEffect:x.useEffect,jE=new WeakMap;function EG(e,t){var r=kG(null,function(n){return e.forEach(function(s){return xw(s,n)})});return CG(function(){var n=jE.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||xw(l,null)}),a.forEach(function(l){s.has(l)||xw(l,o)})}jE.set(r,e)},[e]),r}function OG(e){return e}function PG(e,t){t===void 0&&(t=OG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function AG(e){e===void 0&&(e={});var t=PG(null);return t.options=Ma({async:!0,ssr:!1},e),t}var R4=function(e){var t=e.sideCar,r=Dd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Ma({},r))};R4.isSideCarExport=!0;function TG(e,t){return e.useMedium(t),R4}var M4=AG(),bw=function(){},hx=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:bw,onWheelCapture:bw,onTouchMoveCapture:bw}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,S=Dd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,_=EG([r,t]),N=Ma(Ma({},S),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:M4,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:a,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),Ma(Ma({},N),{ref:_})):x.createElement(v,Ma({},N,{className:c,ref:_}),l))});hx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};hx.classNames={fullWidth:Og,zeroRight:Eg};var RG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function MG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=RG();return t&&e.setAttribute("nonce",t),e}function $G(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function IG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var DG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=MG())&&($G(t,r),IG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},LG=function(){var e=DG();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$4=function(){var e=LG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},FG={left:0,top:0,right:0,gap:0},ww=function(e){return parseInt(e||"",10)||0},UG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ww(r),ww(n),ww(s)]},BG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return FG;var t=UG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},qG=$4(),Nu="data-scroll-locked",zG=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(SG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Nu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Eg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Og,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Eg," .").concat(Eg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Og," .").concat(Og,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Nu,`] {
    `).concat(NG,": ").concat(l,`px;
  }
`)},_E=function(){var e=parseInt(document.body.getAttribute(Nu)||"0",10);return isFinite(e)?e:0},WG=function(){x.useEffect(function(){return document.body.setAttribute(Nu,(_E()+1).toString()),function(){var e=_E()-1;e<=0?document.body.removeAttribute(Nu):document.body.setAttribute(Nu,e.toString())}},[])},VG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;WG();var a=x.useMemo(function(){return BG(s)},[s]);return x.createElement(qG,{styles:zG(a,!t,s,r?"":"!important")})},Vj=!1;if(typeof window<"u")try{var zp=Object.defineProperty({},"passive",{get:function(){return Vj=!0,!0}});window.addEventListener("test",zp,zp),window.removeEventListener("test",zp,zp)}catch{Vj=!1}var Uc=Vj?{passive:!1}:!1,KG=function(e){return e.tagName==="TEXTAREA"},I4=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!KG(e)&&r[t]==="visible")},HG=function(e){return I4(e,"overflowY")},GG=function(e){return I4(e,"overflowX")},SE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=D4(e,n);if(s){var a=L4(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},YG=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},QG=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},D4=function(e,t){return e==="v"?HG(t):GG(t)},L4=function(e,t){return e==="v"?YG(t):QG(t)},XG=function(e,t){return e==="h"&&t==="rtl"?-1:1},JG=function(e,t,r,n,s){var a=XG(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=L4(e,l),g=m[0],p=m[1],y=m[2],b=p-y-a*g;(g||b)&&D4(e,l)&&(f+=b,h+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Wp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},NE=function(e){return[e.deltaX,e.deltaY]},kE=function(e){return e&&"current"in e?e.current:e},ZG=function(e,t){return e[0]===t[0]&&e[1]===t[1]},eY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},tY=0,Bc=[];function rY(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(tY++)[0],a=x.useState($4)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=XV([e.lockRef.current],(e.shards||[]).map(kE),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Wp(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],S="deltaY"in p?p.deltaY:v[1]-b[1],j,_=p.target,N=Math.abs(w)>Math.abs(S)?"h":"v";if("touches"in p&&N==="h"&&_.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,A=C?C===_||C.contains(_):!1;if(A)return!1;var I=SE(N,_);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=SE(N,_)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||S)&&(n.current=j),!j)return!0;var O=n.current||j;return JG(O,y,p,O==="h"?w:S)},[]),c=x.useCallback(function(p){var y=p;if(!(!Bc.length||Bc[Bc.length-1]!==a)){var b="deltaY"in y?NE(y):Wp(y),v=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&ZG(j.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(kE).filter(Boolean).filter(function(j){return j.contains(y.target)}),S=w.length>0?l(y,w[0]):!o.current.noIsolation;S&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(p,y,b,v){var w={name:p,delta:y,target:b,should:v,shadowParent:nY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(S){return S!==w})},1)},[]),d=x.useCallback(function(p){r.current=Wp(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,NE(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Wp(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Bc.push(a),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Uc),document.addEventListener("touchmove",c,Uc),document.addEventListener("touchstart",d,Uc),function(){Bc=Bc.filter(function(p){return p!==a}),document.removeEventListener("wheel",c,Uc),document.removeEventListener("touchmove",c,Uc),document.removeEventListener("touchstart",d,Uc)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(a,{styles:eY(s)}):null,m?x.createElement(VG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function nY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const sY=TG(M4,rY);var mx=x.forwardRef(function(e,t){return x.createElement(hx,Ma({},e,{ref:t,sideCar:sY}))});mx.classNames=hx.classNames;var aY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qc=new WeakMap,Vp=new WeakMap,Kp={},jw=0,F4=function(e){return e&&(e.host||F4(e.parentNode))},iY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=F4(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},oY=function(e,t,r,n){var s=iY(t,Array.isArray(e)?e:[e]);Kp[r]||(Kp[r]=new WeakMap);var a=Kp[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(qc.get(h)||0)+1,y=(a.get(h)||0)+1;qc.set(h,p),a.set(h,y),o.push(h),p===1&&g&&Vp.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),jw++,function(){o.forEach(function(f){var h=qc.get(f)-1,m=a.get(f)-1;qc.set(f,h),a.set(f,m),h||(Vp.has(f)||f.removeAttribute(n),Vp.delete(f)),m||f.removeAttribute(r)}),jw--,jw||(qc=new WeakMap,qc=new WeakMap,Vp=new WeakMap,Kp={})}},eN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=aY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),oY(n,s,r,"aria-hidden")):function(){return null}};function lY(e){const t=cY(e),r=x.forwardRef((n,s)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(dY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function cY(e){const t=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const o=hY(s),l=fY(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uY=Symbol("radix.slottable");function dY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uY}function fY(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function hY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var px="Dialog",[U4]=$s(px),[mY,xa]=U4(px),B4=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Ka({prop:n,defaultProp:s??!1,onChange:a,caller:px});return i.jsx(mY,{scope:t,triggerRef:l,contentRef:c,contentId:Es(),titleId:Es(),descriptionId:Es(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};B4.displayName=px;var q4="DialogTrigger",pY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xa(q4,r),a=ot(t,s.triggerRef);return i.jsx(Ye.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":nN(s.open),...n,ref:a,onClick:Ee(e.onClick,s.onOpenToggle)})});pY.displayName=q4;var tN="DialogPortal",[gY,z4]=U4(tN,{forceMount:void 0}),W4=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=xa(tN,t);return i.jsx(gY,{scope:t,forceMount:r,children:x.Children.map(n,o=>i.jsx(Vn,{present:r||a.open,children:i.jsx(fx,{asChild:!0,container:s,children:o})}))})};W4.displayName=tN;var uv="DialogOverlay",V4=x.forwardRef((e,t)=>{const r=z4(uv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=xa(uv,e.__scopeDialog);return a.modal?i.jsx(Vn,{present:n||a.open,children:i.jsx(yY,{...s,ref:t})}):null});V4.displayName=uv;var vY=lY("DialogOverlay.RemoveScroll"),yY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xa(uv,r);return i.jsx(mx,{as:vY,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Ye.div,{"data-state":nN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),sc="DialogContent",K4=x.forwardRef((e,t)=>{const r=z4(sc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=xa(sc,e.__scopeDialog);return i.jsx(Vn,{present:n||a.open,children:a.modal?i.jsx(xY,{...s,ref:t}):i.jsx(bY,{...s,ref:t})})});K4.displayName=sc;var xY=x.forwardRef((e,t)=>{const r=xa(sc,e.__scopeDialog),n=x.useRef(null),s=ot(t,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return eN(a)},[]),i.jsx(H4,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,a=>a.preventDefault())})}),bY=x.forwardRef((e,t)=>{const r=xa(sc,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return i.jsx(H4,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),H4=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=xa(sc,r),c=x.useRef(null),u=ot(t,c);return ZS(),i.jsxs(i.Fragment,{children:[i.jsx(dx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(ux,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":nN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(wY,{titleId:l.titleId}),i.jsx(_Y,{contentRef:c,descriptionId:l.descriptionId})]})]})}),rN="DialogTitle",G4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xa(rN,r);return i.jsx(Ye.h2,{id:s.titleId,...n,ref:t})});G4.displayName=rN;var Y4="DialogDescription",Q4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xa(Y4,r);return i.jsx(Ye.p,{id:s.descriptionId,...n,ref:t})});Q4.displayName=Y4;var X4="DialogClose",J4=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=xa(X4,r);return i.jsx(Ye.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});J4.displayName=X4;function nN(e){return e?"open":"closed"}var Z4="DialogTitleWarning",[KMe,eD]=V7(Z4,{contentName:sc,titleName:rN,docsSlug:"dialog"}),wY=({titleId:e})=>{const t=eD(Z4),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},jY="DialogDescriptionWarning",_Y=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${eD(jY).contentName}}.`;return x.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},SY=B4,NY=W4,tD=V4,rD=K4,nD=G4,sD=Q4,kY=J4;const qe=SY,CY=NY,aD=x.forwardRef(({className:e,...t},r)=>i.jsx(tD,{ref:r,className:X("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aD.displayName=tD.displayName;const Le=x.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>i.jsxs(CY,{children:[i.jsx(aD,{}),i.jsxs(rD,{ref:s,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&i.jsxs(kY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(Zu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Le.displayName=rD.displayName;const Fe=({className:e,...t})=>i.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Fe.displayName="DialogHeader";const Ve=({className:e,...t})=>i.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ve.displayName="DialogFooter";const Ue=x.forwardRef(({className:e,...t},r)=>i.jsx(nD,{ref:r,className:X("text-lg font-semibold leading-none tracking-tight",e),...t}));Ue.displayName=nD.displayName;const Be=x.forwardRef(({className:e,...t},r)=>i.jsx(sD,{ref:r,className:X("text-sm text-muted-foreground",e),...t}));Be.displayName=sD.displayName;var EY=Symbol.for("react.lazy"),dv=$y[" use ".trim().toString()];function OY(e){return typeof e=="object"&&e!==null&&"then"in e}function iD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===EY&&"_payload"in e&&OY(e._payload)}function Zm(e){const t=AY(e),r=x.forwardRef((n,s)=>{let{children:a,...o}=n;iD(a)&&typeof dv=="function"&&(a=dv(a._payload));const l=x.Children.toArray(a),c=l.find(RY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var PY=Zm("Slot");function AY(e){const t=x.forwardRef((r,n)=>{let{children:s,...a}=r;if(iD(s)&&typeof dv=="function"&&(s=dv(s._payload)),x.isValidElement(s)){const o=$Y(s),l=MY(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var TY=Symbol("radix.slottable");function RY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===TY}function MY(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function $Y(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const CE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,EE=vt,sN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return EE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=a==null?void 0:a[u];if(d===null)return null;const h=CE(d)||CE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...a,...l}[p]):{...a,...l}[p]===y})?[...u,f,h]:u},[]);return EE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},IY=sN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?PY:"button";return i.jsx(o,{className:X(IY({variant:t,size:r,className:e})),ref:a,...s})});E.displayName="Button";function DY({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:a}){const o=l=>{l||s==null||s(),t(l)};return i.jsx(qe,{open:e,onOpenChange:o,children:i.jsxs(Le,{showClose:!0,className:X("max-w-[640px]",a),"aria-describedby":"operation-success-description",children:[i.jsx(Fe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:i.jsx(Ti,{className:"h-6 w-6 text-success","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(Ue,{children:"Success"}),i.jsx(Be,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[i.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),i.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>i.jsx("li",{children:l.href?i.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:i.jsx("a",{href:l.href,children:l.label})}):i.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),i.jsx(Ve,{children:i.jsx(E,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function LY({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:a,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{a==null||a(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{showClose:!0,className:X("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[i.jsx(Fe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:i.jsx(wc,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(Ue,{children:"Cancel operation?"}),i.jsx(Be,{id:"abort-confirm-description",children:r})]})]})}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),i.jsx(E,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const OE={visible:!1},PE={visible:!1},AE={visible:!1},oD=x.createContext(null);function FY({children:e}){const[t,r]=x.useState(OE),[n,s]=x.useState(PE),[a,o]=x.useState(AE),l=x.useCallback(g=>{r({visible:!0,message:g})},[]),c=x.useCallback(()=>{r(OE)},[]),u=x.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=x.useCallback(()=>{s(PE)},[]),f=x.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=x.useCallback(()=>{o(AE)},[]),m=x.useMemo(()=>({loading:t,success:n,abortConfirm:a,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,a,l,c,u,d,f,h]);return i.jsx(oD.Provider,{value:m,children:e})}function UY(){const e=x.useContext(oD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function BY(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=UY();return i.jsxs(i.Fragment,{children:[i.jsx(W7,{visible:e.visible,message:e.message}),i.jsx(DY,{open:t.visible,onOpenChange:a=>!a&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),i.jsx(LY,{open:r.visible,onOpenChange:a=>!a&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function qY({children:e}){return i.jsxs(FY,{children:[i.jsx(BY,{}),e]})}var zY=x.createContext(void 0);function Bd(e){const t=x.useContext(zY);return e||t||"ltr"}function Kj(e,[t,r]){return Math.min(r,Math.max(t,e))}function WY(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var aN="ScrollArea",[lD]=$s(aN),[VY,Is]=lD(aN),cD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,y]=x.useState(null),[b,v]=x.useState(0),[w,S]=x.useState(0),[j,_]=x.useState(!1),[N,k]=x.useState(!1),C=ot(t,I=>c(I)),A=Bd(s);return i.jsx(VY,{scope:r,type:n,dir:A,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:_,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:S,children:i.jsx(Ye.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});cD.displayName=aN;var uD="ScrollAreaViewport",dD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=Is(uD,r),l=x.useRef(null),c=ot(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Ye.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});dD.displayName=uD;var Xa="ScrollAreaScrollbar",iN=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Is(Xa,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return x.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(KY,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(HY,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(fD,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(oN,{...n,ref:t}):null});iN.displayName=Xa;var KY=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Is(Xa,e.__scopeScrollArea),[a,o]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(Vn,{present:r||a,children:i.jsx(fD,{"data-state":a?"visible":"hidden",...n,ref:t})})}),HY=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Is(Xa,e.__scopeScrollArea),a=e.orientation==="horizontal",o=vx(()=>c("SCROLL_END"),100),[l,c]=WY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,a,c,o]),i.jsx(Vn,{present:r||l!=="hidden",children:i.jsx(oN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),fD=x.forwardRef((e,t)=>{const r=Is(Xa,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=x.useState(!1),l=e.orientation==="horizontal",c=vx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return ed(r.viewport,c),ed(r.content,c),i.jsx(Vn,{present:n||a,children:i.jsx(oN,{"data-state":a?"visible":"hidden",...s,ref:t})})}),oN=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Is(Xa,e.__scopeScrollArea),a=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=vD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>a.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return ZY(h,o.current,l,m)}return r==="horizontal"?i.jsx(GY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollLeft,m=TE(h,l,s.dir);a.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?i.jsx(YY,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const h=s.viewport.scrollTop,m=TE(h,l);a.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),GY=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Is(Xa,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=ot(t,c,a.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(mD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":gx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),xD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:hv(o.paddingLeft),paddingEnd:hv(o.paddingRight)}})}})}),YY=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=Is(Xa,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=ot(t,c,a.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(mD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":gx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(a.viewport){const h=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),xD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:hv(o.paddingTop),paddingEnd:hv(o.paddingBottom)}})}})}),[QY,hD]=lD(Xa),mD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Is(Xa,r),[g,p]=x.useState(null),y=ot(t,C=>p(C)),b=x.useRef(null),v=x.useRef(""),w=m.viewport,S=n.content-n.viewport,j=Kr(d),_=Kr(c),N=vx(f,10);function k(C){if(b.current){const A=C.clientX-b.current.left,I=C.clientY-b.current.top;u({x:A,y:I})}}return x.useEffect(()=>{const C=A=>{const I=A.target;(g==null?void 0:g.contains(I))&&j(A,S)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,S,j]),x.useEffect(_,[n,_]),ed(g,N),ed(m.content,N),i.jsx(QY,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Kr(a),onThumbPointerUp:Kr(o),onThumbPositionChange:_,onThumbPointerDown:Kr(l),children:i.jsx(Ye.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ee(e.onPointerMove,k),onPointerUp:Ee(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),fv="ScrollAreaThumb",pD=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=hD(fv,e.__scopeScrollArea);return i.jsx(Vn,{present:r||s.hasThumb,children:i.jsx(XY,{ref:t,...n})})}),XY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=Is(fv,r),o=hD(fv,r),{onThumbPositionChange:l}=o,c=ot(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=vx(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=a.viewport;if(f){const h=()=>{if(d(),!u.current){const m=eQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[a.viewport,d,l]),i.jsx(Ye.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});pD.displayName=fv;var lN="ScrollAreaCorner",gD=x.forwardRef((e,t)=>{const r=Is(lN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(JY,{...e,ref:t}):null});gD.displayName=lN;var JY=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Is(lN,r),[a,o]=x.useState(0),[l,c]=x.useState(0),u=!!(a&&l);return ed(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),ed(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Ye.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function hv(e){return e?parseInt(e,10):0}function vD(e,t){const r=e/t;return isNaN(r)?0:r}function gx(e){const t=vD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function ZY(e,t,r,n="ltr"){const s=gx(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return yD([c,u],f)(e)}function TE(e,t,r="ltr"){const n=gx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Kj(e,c);return yD([0,o],[0,l])(u)}function yD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function xD(e,t){return e>0&&e<t}var eQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function vx(e,t){const r=Kr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function ed(e,t){const r=Kr(t);yr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var bD=cD,tQ=dD,rQ=gD;const yt=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(bD,{ref:n,className:X("relative overflow-hidden",e),...r,children:[i.jsx(tQ,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(wD,{}),i.jsx(rQ,{})]}));yt.displayName=bD.displayName;const wD=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(iN,{ref:n,orientation:t,className:X("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(pD,{className:"relative flex-1 rounded-full bg-border"})}));wD.displayName=iN.displayName;var nQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sQ=nQ.reduce((e,t)=>{const r=Zm(`Primitive.${t}`),n=x.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),aQ="Separator",RE="horizontal",iQ=["horizontal","vertical"],jD=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=RE,...s}=e,a=oQ(n)?n:RE,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(sQ.div,{"data-orientation":a,...l,...s,ref:t})});jD.displayName=aQ;function oQ(e){return iQ.includes(e)}var _D=jD;const cN=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(_D,{ref:s,decorative:r,orientation:t,className:X("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));cN.displayName=_D.displayName;const lQ=[{to:"/dashboard",label:"Dashboard",icon:GS},{to:"/profile",label:"Profile",icon:lx},{to:"/chat",label:"Chat Session",icon:Jm},{to:"/channels",label:"Channels & Adapters",icon:n7},{to:"/skills",label:"Skills Library",icon:zS},{to:"/skill-editor",label:"Skill Editor",icon:kr},{to:"/marketplace",label:"Marketplace",icon:ox},{to:"/nodes",label:"Nodes",icon:Ua},{to:"/cron",label:"Cron Jobs",icon:Ym},{to:"/webhooks",label:"Webhooks & Hooks",icon:qj},{to:"/model-providers",label:"Model Providers",icon:s4},{to:"/browser",label:"Browser Automation",icon:ax},{to:"/voice",label:"Voice & Media",icon:Hh},{to:"/secrets",label:"Secrets & Keychain",icon:Vh},{to:"/settings",label:"Settings",icon:_i},{to:"/security",label:"Security Audit",icon:Fr},{to:"/logs",label:"Logs & Tracing",icon:kr},{to:"/admin",label:"Admin",icon:Fr}];function cQ(){const[e,t]=x.useState(!1);return i.jsxs("aside",{className:X("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[i.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&i.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),i.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?i.jsx(qn,{className:"h-4 w-4"}):i.jsx(a4,{className:"h-4 w-4"})})]}),i.jsx(yt,{className:"flex-1 py-2",children:i.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:lQ.map(({to:r,label:n,icon:s})=>i.jsxs(DW,{to:r,className:({isActive:a})=>X("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",a?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[i.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&i.jsx("span",{className:"truncate",children:n})]},r))})}),i.jsx(cN,{})]})}const ge=x.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function uQ(e,t=[]){let r=[];function n(a,o){const l=x.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,dQ(s,...t)]}function dQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var fQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uN=fQ.reduce((e,t)=>{const r=Zm(`Primitive.${t}`),n=x.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),SD={exports:{}},ND={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=x;function hQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mQ=typeof Object.is=="function"?Object.is:hQ,pQ=td.useState,gQ=td.useEffect,vQ=td.useLayoutEffect,yQ=td.useDebugValue;function xQ(e,t){var r=t(),n=pQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return vQ(function(){s.value=r,s.getSnapshot=t,_w(s)&&a({inst:s})},[e,r,t]),gQ(function(){return _w(s)&&a({inst:s}),e(function(){_w(s)&&a({inst:s})})},[e]),yQ(r),r}function _w(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mQ(e,r)}catch{return!0}}function bQ(e,t){return t()}var wQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bQ:xQ;ND.useSyncExternalStore=td.useSyncExternalStore!==void 0?td.useSyncExternalStore:wQ;SD.exports=ND;var jQ=SD.exports;function _Q(){return jQ.useSyncExternalStore(SQ,()=>!0,()=>!1)}function SQ(){return()=>{}}var dN="Avatar",[NQ]=uQ(dN),[kQ,kD]=NQ(dN),CD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=x.useState("idle");return i.jsx(kQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(uN.span,{...n,ref:t})})});CD.displayName=dN;var ED="AvatarImage",OD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=kD(ED,r),l=CQ(n,a),c=Kr(u=>{s(u),o.onImageLoadingStatusChange(u)});return yr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(uN.img,{...a,ref:t,src:n}):null});OD.displayName=ED;var PD="AvatarFallback",AD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=kD(PD,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(uN.span,{...s,ref:t}):null});AD.displayName=PD;function ME(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function CQ(e,{referrerPolicy:t,crossOrigin:r}){const n=_Q(),s=x.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=x.useState(()=>ME(a,e));return yr(()=>{l(ME(a,e))},[a,e]),yr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var TD=CD,RD=OD,MD=AD;const yx=x.forwardRef(({className:e,...t},r)=>i.jsx(TD,{ref:r,className:X("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));yx.displayName=TD.displayName;const fN=x.forwardRef(({className:e,...t},r)=>i.jsx(RD,{ref:r,className:X("aspect-square h-full w-full",e),...t}));fN.displayName=RD.displayName;const xx=x.forwardRef(({className:e,...t},r)=>i.jsx(MD,{ref:r,className:X("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));xx.displayName=MD.displayName;function $E(e){const t=EQ(e),r=x.forwardRef((n,s)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(PQ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function EQ(e){const t=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const o=TQ(s),l=AQ(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var OQ=Symbol("radix.slottable");function PQ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===OQ}function AQ(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function TQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function bx(e){const t=e+"CollectionProvider",[r,n]=$s(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:b}=p,v=P.useRef(null),w=P.useRef(new Map).current;return i.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=$E(l),u=P.forwardRef((p,y)=>{const{scope:b,children:v}=p,w=a(l,b),S=ot(y,w.collectionRef);return i.jsx(c,{ref:S,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=$E(d),m=P.forwardRef((p,y)=>{const{scope:b,children:v,...w}=p,S=P.useRef(null),j=ot(y,S),_=a(d,b);return P.useEffect(()=>(_.itemMap.set(S,{ref:S,...w}),()=>void _.itemMap.delete(S))),i.jsx(h,{[f]:"",ref:j,children:v})});m.displayName=d;function g(p){const y=a(e+"CollectionConsumer",p);return P.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((_,N)=>w.indexOf(_.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const RQ=["top","right","bottom","left"],Qo=Math.min,Zn=Math.max,mv=Math.round,Hp=Math.floor,qa=e=>({x:e,y:e}),MQ={left:"right",right:"left",bottom:"top",top:"bottom"},$Q={start:"end",end:"start"};function Hj(e,t,r){return Zn(e,Qo(t,r))}function Ri(e,t){return typeof e=="function"?e(t):e}function Mi(e){return e.split("-")[0]}function qd(e){return e.split("-")[1]}function hN(e){return e==="x"?"y":"x"}function mN(e){return e==="y"?"height":"width"}const IQ=new Set(["top","bottom"]);function $a(e){return IQ.has(Mi(e))?"y":"x"}function pN(e){return hN($a(e))}function DQ(e,t,r){r===void 0&&(r=!1);const n=qd(e),s=pN(e),a=mN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=pv(o)),[o,pv(o)]}function LQ(e){const t=pv(e);return[Gj(e),t,Gj(t)]}function Gj(e){return e.replace(/start|end/g,t=>$Q[t])}const IE=["left","right"],DE=["right","left"],FQ=["top","bottom"],UQ=["bottom","top"];function BQ(e,t,r){switch(e){case"top":case"bottom":return r?t?DE:IE:t?IE:DE;case"left":case"right":return t?FQ:UQ;default:return[]}}function qQ(e,t,r,n){const s=qd(e);let a=BQ(Mi(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(Gj)))),a}function pv(e){return e.replace(/left|right|bottom|top/g,t=>MQ[t])}function zQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function $D(e){return typeof e!="number"?zQ(e):{top:e,right:e,bottom:e,left:e}}function gv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function LE(e,t,r){let{reference:n,floating:s}=e;const a=$a(t),o=pN(t),l=mN(o),c=Mi(t),u=a==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(qd(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function WQ(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Ri(t,e),g=$D(m),y=l[h?f==="floating"?"reference":"floating":f],b=gv(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(y)))==null||r?y:y.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),S=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},j=gv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-j.top+g.top)/S.y,bottom:(j.bottom-b.bottom+g.bottom)/S.y,left:(b.left-j.left+g.left)/S.x,right:(j.right-b.right+g.right)/S.x}}const VQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=LE(u,n,c),h=n,m={},g=0;for(let y=0;y<l.length;y++){var p;const{name:b,fn:v}=l[y],{x:w,y:S,data:j,reset:_}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:WQ},elements:{reference:e,floating:t}});d=w??d,f=S??f,m={...m,[b]:{...m[b],...j}},_&&g<=50&&(g++,typeof _=="object"&&(_.placement&&(h=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:f}=LE(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},KQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ri(e,t)||{};if(u==null)return{};const f=$D(d),h={x:r,y:n},m=pN(s),g=mN(m),p=await o.getDimensions(u),y=m==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",S=a.reference[g]+a.reference[m]-h[m]-a.floating[g],j=h[m]-a.reference[m],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=_?_[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(_)))&&(N=l.floating[w]||a.floating[g]);const k=S/2-j/2,C=N/2-p[g]/2-1,A=Qo(f[b],C),I=Qo(f[v],C),O=A,U=N-p[g]-I,T=N/2-p[g]/2+k,q=Hj(O,T,U),R=!c.arrow&&qd(s)!=null&&T!==q&&a.reference[g]/2-(T<O?A:I)-p[g]/2<0,z=R?T<O?T-O:T-U:0;return{[m]:h[m]+z,data:{[m]:q,centerOffset:T-q-z,...R&&{alignmentOffset:z}},reset:R}}}),HQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Ri(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const b=Mi(s),v=$a(l),w=Mi(l)===l,S=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[pv(l)]:LQ(l)),_=g!=="none";!h&&_&&j.push(...qQ(l,p,g,S));const N=[l,...j],k=await c.detectOverflow(t,y),C=[];let A=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const T=DQ(s,o,S);C.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(T=>T<=0)){var I,O;const T=(((I=a.flip)==null?void 0:I.index)||0)+1,q=N[T];if(q&&(!(f==="alignment"?v!==$a(q):!1)||A.every(D=>$a(D.placement)===v?D.overflows[0]>0:!0)))return{data:{index:T,overflows:A},reset:{placement:q}};let R=(O=A.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:O.placement;if(!R)switch(m){case"bestFit":{var U;const z=(U=A.filter(D=>{if(_){const M=$a(D.placement);return M===v||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:U[0];z&&(R=z);break}case"initialPlacement":R=l;break}if(s!==R)return{reset:{placement:R}}}return{}}}};function FE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function UE(e){return RQ.some(t=>e[t]>=0)}const GQ=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...a}=Ri(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...a,elementContext:"reference"}),l=FE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:UE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...a,altBoundary:!0}),l=FE(o,r.floating);return{data:{escapedOffsets:l,escaped:UE(l)}}}default:return{}}}}},ID=new Set(["left","top"]);async function YQ(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Mi(r),l=qd(r),c=$a(r)==="y",u=ID.has(o)?-1:1,d=a&&c?-1:1,f=Ri(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const QQ=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await YQ(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},XQ=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=Ri(e,t),d={x:r,y:n},f=await a.detectOverflow(t,u),h=$a(Mi(s)),m=hN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],S=g-f[v];g=Hj(w,g,S)}if(l){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+f[b],S=p-f[v];p=Hj(w,p,S)}const y=c.fn({...t,[m]:g,[h]:p});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:o,[h]:l}}}}}},JQ=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ri(e,t),d={x:r,y:n},f=$a(s),h=hN(f);let m=d[h],g=d[f];const p=Ri(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",S=a.reference[h]-a.floating[w]+y.mainAxis,j=a.reference[h]+a.reference[w]-y.mainAxis;m<S?m=S:m>j&&(m=j)}if(u){var b,v;const w=h==="y"?"width":"height",S=ID.has(Mi(s)),j=a.reference[f]-a.floating[w]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:y.crossAxis),_=a.reference[f]+a.reference[w]+(S?0:((v=o.offset)==null?void 0:v[f])||0)-(S?y.crossAxis:0);g<j?g=j:g>_&&(g=_)}return{[h]:m,[f]:g}}}},ZQ=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ri(e,t),d=await o.detectOverflow(t,u),f=Mi(s),h=qd(s),m=$a(s)==="y",{width:g,height:p}=a.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,S=Qo(p-d[y],v),j=Qo(g-d[b],w),_=!t.middlewareData.shift;let N=S,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),_&&!h){const A=Zn(d.left,0),I=Zn(d.right,0),O=Zn(d.top,0),U=Zn(d.bottom,0);m?k=g-2*(A!==0||I!==0?A+I:Zn(d.left,d.right)):N=p-2*(O!==0||U!==0?O+U:Zn(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function wx(){return typeof window<"u"}function zd(e){return DD(e)?(e.nodeName||"").toLowerCase():"#document"}function os(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Ja(e){var t;return(t=(DD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function DD(e){return wx()?e instanceof Node||e instanceof os(e).Node:!1}function ga(e){return wx()?e instanceof Element||e instanceof os(e).Element:!1}function Ha(e){return wx()?e instanceof HTMLElement||e instanceof os(e).HTMLElement:!1}function BE(e){return!wx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof os(e).ShadowRoot}const eX=new Set(["inline","contents"]);function ep(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=va(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!eX.has(s)}const tX=new Set(["table","td","th"]);function rX(e){return tX.has(zd(e))}const nX=[":popover-open",":modal"];function jx(e){return nX.some(t=>{try{return e.matches(t)}catch{return!1}})}const sX=["transform","translate","scale","rotate","perspective"],aX=["transform","translate","scale","rotate","perspective","filter"],iX=["paint","layout","strict","content"];function gN(e){const t=vN(),r=ga(e)?va(e):e;return sX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||aX.some(n=>(r.willChange||"").includes(n))||iX.some(n=>(r.contain||"").includes(n))}function oX(e){let t=Xo(e);for(;Ha(t)&&!rd(t);){if(gN(t))return t;if(jx(t))return null;t=Xo(t)}return null}function vN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lX=new Set(["html","body","#document"]);function rd(e){return lX.has(zd(e))}function va(e){return os(e).getComputedStyle(e)}function _x(e){return ga(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xo(e){if(zd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||BE(e)&&e.host||Ja(e);return BE(t)?t.host:t}function LD(e){const t=Xo(e);return rd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ha(t)&&ep(t)?t:LD(t)}function Qh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=LD(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=os(s);if(a){const l=Yj(o);return t.concat(o,o.visualViewport||[],ep(s)?s:[],l&&r?Qh(l):[])}return t.concat(s,Qh(s,[],r))}function Yj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function FD(e){const t=va(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ha(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=mv(r)!==a||mv(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function yN(e){return ga(e)?e:e.contextElement}function ku(e){const t=yN(e);if(!Ha(t))return qa(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=FD(t);let o=(a?mv(r.width):r.width)/n,l=(a?mv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const cX=qa(0);function UD(e){const t=os(e);return!vN()||!t.visualViewport?cX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function uX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==os(e)?!1:t}function ac(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=yN(e);let o=qa(1);t&&(n?ga(n)&&(o=ku(n)):o=ku(e));const l=uX(a,r,n)?UD(a):qa(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(a){const h=os(a),m=n&&ga(n)?os(n):n;let g=h,p=Yj(g);for(;p&&n&&m!==g;){const y=ku(p),b=p.getBoundingClientRect(),v=va(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*y.x,S=b.top+(p.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=S,g=os(p),p=Yj(g)}}return gv({width:d,height:f,x:c,y:u})}function Sx(e,t){const r=_x(e).scrollLeft;return t?t.left+r:ac(Ja(e)).left+r}function BD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Sx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function dX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=Ja(n),l=t?jx(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=qa(1);const d=qa(0),f=Ha(n);if((f||!f&&!a)&&((zd(n)!=="body"||ep(o))&&(c=_x(n)),Ha(n))){const m=ac(n);u=ku(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!a?BD(o,c):qa(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function fX(e){return Array.from(e.getClientRects())}function hX(e){const t=Ja(e),r=_x(e),n=e.ownerDocument.body,s=Zn(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Zn(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Sx(e);const l=-r.scrollTop;return va(n).direction==="rtl"&&(o+=Zn(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const qE=25;function mX(e,t){const r=os(e),n=Ja(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=vN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Sx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=qE&&(a-=g)}else u<=qE&&(a+=u);return{width:a,height:o,x:l,y:c}}const pX=new Set(["absolute","fixed"]);function gX(e,t){const r=ac(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=Ha(e)?ku(e):qa(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function zE(e,t,r){let n;if(t==="viewport")n=mX(e,r);else if(t==="document")n=hX(Ja(e));else if(ga(t))n=gX(t,r);else{const s=UD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return gv(n)}function qD(e,t){const r=Xo(e);return r===t||!ga(r)||rd(r)?!1:va(r).position==="fixed"||qD(r,t)}function vX(e,t){const r=t.get(e);if(r)return r;let n=Qh(e,[],!1).filter(l=>ga(l)&&zd(l)!=="body"),s=null;const a=va(e).position==="fixed";let o=a?Xo(e):e;for(;ga(o)&&!rd(o);){const l=va(o),c=gN(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&pX.has(s.position)||ep(o)&&!c&&qD(e,o))?n=n.filter(d=>d!==o):s=l,o=Xo(o)}return t.set(e,n),n}function yX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?jx(t)?[]:vX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=zE(t,d,s);return u.top=Zn(f.top,u.top),u.right=Qo(f.right,u.right),u.bottom=Qo(f.bottom,u.bottom),u.left=Zn(f.left,u.left),u},zE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function xX(e){const{width:t,height:r}=FD(e);return{width:t,height:r}}function bX(e,t,r){const n=Ha(t),s=Ja(t),a=r==="fixed",o=ac(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=qa(0);function u(){c.x=Sx(s)}if(n||!n&&!a)if((zd(t)!=="body"||ep(s))&&(l=_x(t)),n){const m=ac(t,!0,a,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?BD(s,l):qa(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Sw(e){return va(e).position==="static"}function WE(e,t){if(!Ha(e)||va(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Ja(e)===r&&(r=r.ownerDocument.body),r}function zD(e,t){const r=os(e);if(jx(e))return r;if(!Ha(e)){let s=Xo(e);for(;s&&!rd(s);){if(ga(s)&&!Sw(s))return s;s=Xo(s)}return r}let n=WE(e,t);for(;n&&rX(n)&&Sw(n);)n=WE(n,t);return n&&rd(n)&&Sw(n)&&!gN(n)?r:n||oX(e)||r}const wX=async function(e){const t=this.getOffsetParent||zD,r=this.getDimensions,n=await r(e.floating);return{reference:bX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jX(e){return va(e).direction==="rtl"}const _X={convertOffsetParentRelativeRectToViewportRelativeRect:dX,getDocumentElement:Ja,getClippingRect:yX,getOffsetParent:zD,getElementRects:wX,getClientRects:fX,getDimensions:xX,getScale:ku,isElement:ga,isRTL:jX};function WD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function SX(e,t){let r=null,n;const s=Ja(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Hp(f),p=Hp(s.clientWidth-(d+h)),y=Hp(s.clientHeight-(f+m)),b=Hp(d),w={rootMargin:-g+"px "+-p+"px "+-y+"px "+-b+"px",threshold:Zn(0,Qo(1,c))||1};let S=!0;function j(_){const N=_[0].intersectionRatio;if(N!==c){if(!S)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!WD(u,e.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),a}function NX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=yN(e),d=s||a?[...u?Qh(u):[],...Qh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),a&&b.addEventListener("resize",r)});const f=u&&l?SX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?ac(e):null;c&&y();function y(){const b=ac(e);p&&!WD(p,b)&&r(),p=b,g=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),a&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const kX=QQ,CX=XQ,EX=HQ,OX=ZQ,PX=GQ,VE=KQ,AX=JQ,TX=(e,t,r)=>{const n=new Map,s={platform:_X,...r},a={...s.platform,_c:n};return VQ(e,t,{...s,platform:a})};var RX=typeof document<"u",MX=function(){},Pg=RX?x.useLayoutEffect:MX;function vv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!vv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!vv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function VD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function KE(e,t){const r=VD(e);return Math.round(t*r)/r}function Nw(e){const t=x.useRef(e);return Pg(()=>{t.current=e}),t}function $X(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);vv(h,n)||m(n);const[g,p]=x.useState(null),[y,b]=x.useState(null),v=x.useCallback(D=>{D!==_.current&&(_.current=D,p(D))},[]),w=x.useCallback(D=>{D!==N.current&&(N.current=D,b(D))},[]),S=a||g,j=o||y,_=x.useRef(null),N=x.useRef(null),k=x.useRef(d),C=c!=null,A=Nw(c),I=Nw(s),O=Nw(u),U=x.useCallback(()=>{if(!_.current||!N.current)return;const D={placement:t,strategy:r,middleware:h};I.current&&(D.platform=I.current),TX(_.current,N.current,D).then(M=>{const $={...M,isPositioned:O.current!==!1};T.current&&!vv(k.current,$)&&(k.current=$,Rd.flushSync(()=>{f($)}))})},[h,t,r,I,O]);Pg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const T=x.useRef(!1);Pg(()=>(T.current=!0,()=>{T.current=!1}),[]),Pg(()=>{if(S&&(_.current=S),j&&(N.current=j),S&&j){if(A.current)return A.current(S,j,U);U()}},[S,j,U,A,C]);const q=x.useMemo(()=>({reference:_,floating:N,setReference:v,setFloating:w}),[v,w]),R=x.useMemo(()=>({reference:S,floating:j}),[S,j]),z=x.useMemo(()=>{const D={position:r,left:0,top:0};if(!R.floating)return D;const M=KE(R.floating,d.x),$=KE(R.floating,d.y);return l?{...D,transform:"translate("+M+"px, "+$+"px)",...VD(R.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:$}},[r,l,R.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:U,refs:q,elements:R,floatingStyles:z}),[d,U,q,R,z])}const IX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?VE({element:n.current,padding:s}).fn(r):{}:n?VE({element:n,padding:s}).fn(r):{}}}},DX=(e,t)=>({...kX(e),options:[e,t]}),LX=(e,t)=>({...CX(e),options:[e,t]}),FX=(e,t)=>({...AX(e),options:[e,t]}),UX=(e,t)=>({...EX(e),options:[e,t]}),BX=(e,t)=>({...OX(e),options:[e,t]}),qX=(e,t)=>({...PX(e),options:[e,t]}),zX=(e,t)=>({...IX(e),options:[e,t]});var WX="Arrow",KD=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Ye.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});KD.displayName=WX;var VX=KD;function HD(e){const[t,r]=x.useState(void 0);return yr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var xN="Popper",[GD,Nx]=$s(xN),[KX,YD]=GD(xN),QD=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return i.jsx(KX,{scope:t,anchor:n,onAnchorChange:s,children:r})};QD.displayName=xN;var XD="PopperAnchor",JD=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=YD(XD,r),o=x.useRef(null),l=ot(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(Ye.div,{...s,ref:l})});JD.displayName=XD;var bN="PopperContent",[HX,GX]=GD(bN),ZD=x.forwardRef((e,t)=>{var ae,Ie,re,ue,K,H;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=YD(bN,r),[b,v]=x.useState(null),w=ot(t,Je=>v(Je)),[S,j]=x.useState(null),_=HD(S),N=(_==null?void 0:_.width)??0,k=(_==null?void 0:_.height)??0,C=n+(a!=="center"?"-"+a:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,U={padding:A,boundary:I.filter(QX),altBoundary:O},{refs:T,floatingStyles:q,placement:R,isPositioned:z,middlewareData:D}=$X({strategy:"fixed",placement:C,whileElementsMounted:(...Je)=>NX(...Je,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[DX({mainAxis:s+k,alignmentAxis:o}),c&&LX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?FX():void 0,...U}),c&&UX({...U}),BX({...U,apply:({elements:Je,rects:Ke,availableWidth:At,availableHeight:Et})=>{const{width:rr,height:nn}=Ke.reference,On=Je.floating.style;On.setProperty("--radix-popper-available-width",`${At}px`),On.setProperty("--radix-popper-available-height",`${Et}px`),On.setProperty("--radix-popper-anchor-width",`${rr}px`),On.setProperty("--radix-popper-anchor-height",`${nn}px`)}}),S&&zX({element:S,padding:l}),XX({arrowWidth:N,arrowHeight:k}),h&&qX({strategy:"referenceHidden",...U})]}),[M,$]=rL(R),ee=Kr(g);yr(()=>{z&&(ee==null||ee())},[z,ee]);const Y=(ae=D.arrow)==null?void 0:ae.x,ce=(Ie=D.arrow)==null?void 0:Ie.y,xe=((re=D.arrow)==null?void 0:re.centerOffset)!==0,[We,ne]=x.useState();return yr(()=>{b&&ne(window.getComputedStyle(b).zIndex)},[b]),i.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...q,transform:z?q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(ue=D.transformOrigin)==null?void 0:ue.x,(K=D.transformOrigin)==null?void 0:K.y].join(" "),...((H=D.hide)==null?void 0:H.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(HX,{scope:r,placedSide:M,onArrowChange:j,arrowX:Y,arrowY:ce,shouldHideArrow:xe,children:i.jsx(Ye.div,{"data-side":M,"data-align":$,...p,ref:w,style:{...p.style,animation:z?void 0:"none"}})})})});ZD.displayName=bN;var eL="PopperArrow",YX={top:"bottom",right:"left",bottom:"top",left:"right"},tL=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=GX(eL,n),o=YX[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(VX,{...s,ref:r,style:{...s.style,display:"block"}})})});tL.displayName=eL;function QX(e){return e!==null}var XX=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=rL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function rL(e){const[t,r="center"]=e.split("-");return[t,r]}var nL=QD,sL=JD,aL=ZD,iL=tL,kw="rovingFocusGroup.onEntryFocus",JX={bubbles:!1,cancelable:!0},tp="RovingFocusGroup",[Qj,oL,ZX]=bx(tp),[eJ,kx]=$s(tp,[ZX]),[tJ,rJ]=eJ(tp),lL=x.forwardRef((e,t)=>i.jsx(Qj.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Qj.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(nJ,{...e,ref:t})})}));lL.displayName=tp;var nJ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=ot(t,h),g=Bd(a),[p,y]=Ka({prop:o,defaultProp:l??null,onChange:c,caller:tp}),[b,v]=x.useState(!1),w=Kr(u),S=oL(r),j=x.useRef(!1),[_,N]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(kw,w),()=>k.removeEventListener(kw,w)},[w]),i.jsx(tJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:x.useCallback(k=>y(k),[y]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>N(k=>k-1),[]),children:i.jsx(Ye.div,{tabIndex:b||_===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{j.current=!0}),onFocus:Ee(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const A=new CustomEvent(kw,JX);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=S().filter(R=>R.focusable),O=I.find(R=>R.active),U=I.find(R=>R.id===p),q=[O,U,...I].filter(Boolean).map(R=>R.ref.current);dL(q,d)}}j.current=!1}),onBlur:Ee(e.onBlur,()=>v(!1))})})}),cL="RovingFocusGroupItem",uL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=Es(),u=a||c,d=rJ(cL,r),f=d.currentTabStopId===u,h=oL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),i.jsx(Qj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(Ye.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=iJ(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const S=w.indexOf(y.currentTarget);w=d.loop?oJ(w,S+1):w.slice(S+1)}setTimeout(()=>dL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});uL.displayName=cL;var sJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function iJ(e,t,r){const n=aJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return sJ[n]}function dL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function oJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var fL=lL,hL=uL;function lJ(e){const t=cJ(e),r=x.forwardRef((n,s)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(dJ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function cJ(e){const t=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const o=hJ(s),l=fJ(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uJ=Symbol("radix.slottable");function dJ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uJ}function fJ(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function hJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Xj=["Enter"," "],mJ=["ArrowDown","PageUp","Home"],mL=["ArrowUp","PageDown","End"],pJ=[...mJ,...mL],gJ={ltr:[...Xj,"ArrowRight"],rtl:[...Xj,"ArrowLeft"]},vJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rp="Menu",[Xh,yJ,xJ]=bx(rp),[jc,pL]=$s(rp,[xJ,Nx,kx]),Cx=Nx(),gL=kx(),[bJ,_c]=jc(rp),[wJ,np]=jc(rp),vL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=Cx(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Kr(a),h=Bd(s);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),i.jsx(nL,{...l,children:i.jsx(bJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:i.jsx(wJ,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};vL.displayName=rp;var jJ="MenuAnchor",wN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Cx(r);return i.jsx(sL,{...s,...n,ref:t})});wN.displayName=jJ;var jN="MenuPortal",[_J,yL]=jc(jN,{forceMount:void 0}),xL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=_c(jN,t);return i.jsx(_J,{scope:t,forceMount:r,children:i.jsx(Vn,{present:r||a.open,children:i.jsx(fx,{asChild:!0,container:s,children:n})})})};xL.displayName=jN;var Os="MenuContent",[SJ,_N]=jc(Os),bL=x.forwardRef((e,t)=>{const r=yL(Os,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=_c(Os,e.__scopeMenu),o=np(Os,e.__scopeMenu);return i.jsx(Xh.Provider,{scope:e.__scopeMenu,children:i.jsx(Vn,{present:n||a.open,children:i.jsx(Xh.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(NJ,{...s,ref:t}):i.jsx(kJ,{...s,ref:t})})})})}),NJ=x.forwardRef((e,t)=>{const r=_c(Os,e.__scopeMenu),n=x.useRef(null),s=ot(t,n);return x.useEffect(()=>{const a=n.current;if(a)return eN(a)},[]),i.jsx(SN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),kJ=x.forwardRef((e,t)=>{const r=_c(Os,e.__scopeMenu);return i.jsx(SN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),CJ=lJ("MenuContent.ScrollLock"),SN=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,y=_c(Os,r),b=np(Os,r),v=Cx(r),w=gL(r),S=yJ(r),[j,_]=x.useState(null),N=x.useRef(null),k=ot(t,N,y.onContentChange),C=x.useRef(0),A=x.useRef(""),I=x.useRef(0),O=x.useRef(null),U=x.useRef("right"),T=x.useRef(0),q=g?mx:x.Fragment,R=g?{as:CJ,allowPinchZoom:!0}:void 0,z=M=>{var ae,Ie;const $=A.current+M,ee=S().filter(re=>!re.disabled),Y=document.activeElement,ce=(ae=ee.find(re=>re.ref.current===Y))==null?void 0:ae.textValue,xe=ee.map(re=>re.textValue),We=FJ(xe,$,ce),ne=(Ie=ee.find(re=>re.textValue===We))==null?void 0:Ie.ref.current;(function re(ue){A.current=ue,window.clearTimeout(C.current),ue!==""&&(C.current=window.setTimeout(()=>re(""),1e3))})($),ne&&setTimeout(()=>ne.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),ZS();const D=x.useCallback(M=>{var ee,Y;return U.current===((ee=O.current)==null?void 0:ee.side)&&BJ(M,(Y=O.current)==null?void 0:Y.area)},[]);return i.jsx(SJ,{scope:r,searchRef:A,onItemEnter:x.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:x.useCallback(M=>{var $;D(M)||(($=N.current)==null||$.focus(),_(null))},[D]),onTriggerLeave:x.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback(M=>{O.current=M},[]),children:i.jsx(q,{...R,children:i.jsx(dx,{asChild:!0,trapped:s,onMountAutoFocus:Ee(a,M=>{var $;M.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(ux,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:i.jsx(fL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:_,onEntryFocus:Ee(c,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(aL,{role:"menu","aria-orientation":"vertical","data-state":IL(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,M=>{const ee=M.target.closest("[data-radix-menu-content]")===M.currentTarget,Y=M.ctrlKey||M.altKey||M.metaKey,ce=M.key.length===1;ee&&(M.key==="Tab"&&M.preventDefault(),!Y&&ce&&z(M.key));const xe=N.current;if(M.target!==xe||!pJ.includes(M.key))return;M.preventDefault();const ne=S().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);mL.includes(M.key)&&ne.reverse(),DJ(ne)}),onBlur:Ee(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:Ee(e.onPointerMove,Jh(M=>{const $=M.target,ee=T.current!==M.clientX;if(M.currentTarget.contains($)&&ee){const Y=M.clientX>T.current?"right":"left";U.current=Y,T.current=M.clientX}}))})})})})})})});bL.displayName=Os;var EJ="MenuGroup",NN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ye.div,{role:"group",...n,ref:t})});NN.displayName=EJ;var OJ="MenuLabel",wL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ye.div,{...n,ref:t})});wL.displayName=OJ;var yv="MenuItem",HE="menu.itemSelect",Ex=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=x.useRef(null),o=np(yv,e.__scopeMenu),l=_N(yv,e.__scopeMenu),c=ot(t,a),u=x.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const h=new CustomEvent(HE,{bubbles:!0,cancelable:!0});f.addEventListener(HE,m=>n==null?void 0:n(m),{once:!0}),O4(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(jL,{...s,ref:c,disabled:r,onClick:Ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ee(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Xj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ex.displayName=yv;var jL=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=_N(yv,r),l=gL(r),c=x.useRef(null),u=ot(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[a.children]),i.jsx(Xh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:i.jsx(hL,{asChild:!0,...l,focusable:!n,children:i.jsx(Ye.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:Ee(e.onPointerMove,Jh(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,Jh(g=>o.onItemLeave(g))),onFocus:Ee(e.onFocus,()=>f(!0)),onBlur:Ee(e.onBlur,()=>f(!1))})})})}),PJ="MenuCheckboxItem",_L=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(EL,{scope:e.__scopeMenu,checked:r,children:i.jsx(Ex,{role:"menuitemcheckbox","aria-checked":xv(r)?"mixed":r,...s,ref:t,"data-state":CN(r),onSelect:Ee(s.onSelect,()=>n==null?void 0:n(xv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});_L.displayName=PJ;var SL="MenuRadioGroup",[AJ,TJ]=jc(SL,{value:void 0,onValueChange:()=>{}}),NL=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=Kr(n);return i.jsx(AJ,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(NN,{...s,ref:t})})});NL.displayName=SL;var kL="MenuRadioItem",CL=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=TJ(kL,e.__scopeMenu),a=r===s.value;return i.jsx(EL,{scope:e.__scopeMenu,checked:a,children:i.jsx(Ex,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":CN(a),onSelect:Ee(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});CL.displayName=kL;var kN="MenuItemIndicator",[EL,RJ]=jc(kN,{checked:!1}),OL=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=RJ(kN,r);return i.jsx(Vn,{present:n||xv(a.checked)||a.checked===!0,children:i.jsx(Ye.span,{...s,ref:t,"data-state":CN(a.checked)})})});OL.displayName=kN;var MJ="MenuSeparator",PL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ye.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});PL.displayName=MJ;var $J="MenuArrow",AL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Cx(r);return i.jsx(iL,{...s,...n,ref:t})});AL.displayName=$J;var IJ="MenuSub",[HMe,TL]=jc(IJ),Hf="MenuSubTrigger",RL=x.forwardRef((e,t)=>{const r=_c(Hf,e.__scopeMenu),n=np(Hf,e.__scopeMenu),s=TL(Hf,e.__scopeMenu),a=_N(Hf,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),i.jsx(wN,{asChild:!0,...u,children:i.jsx(jL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":IL(r.open),...e,ref:Vi(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,Jh(f=>{a.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(e.onPointerLeave,Jh(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,y=p==="right",b=y?-5:5,v=h[y?"left":"right"],w=h[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,f=>{var m;const h=a.searchRef.current!=="";e.disabled||h&&f.key===" "||gJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});RL.displayName=Hf;var ML="MenuSubContent",$L=x.forwardRef((e,t)=>{const r=yL(Os,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=_c(Os,e.__scopeMenu),o=np(Os,e.__scopeMenu),l=TL(ML,e.__scopeMenu),c=x.useRef(null),u=ot(t,c);return i.jsx(Xh.Provider,{scope:e.__scopeMenu,children:i.jsx(Vn,{present:n||a.open,children:i.jsx(Xh.Slot,{scope:e.__scopeMenu,children:i.jsx(SN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=vJ[o.dir].includes(d.key);f&&h&&(a.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});$L.displayName=ML;function IL(e){return e?"open":"closed"}function xv(e){return e==="indeterminate"}function CN(e){return xv(e)?"indeterminate":e?"checked":"unchecked"}function DJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function LJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function FJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=LJ(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function UJ(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function BJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return UJ(r,t)}function Jh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var qJ=vL,zJ=wN,WJ=xL,VJ=bL,KJ=NN,HJ=wL,GJ=Ex,YJ=_L,QJ=NL,XJ=CL,JJ=OL,ZJ=PL,eZ=AL,tZ=RL,rZ=$L,Ox="DropdownMenu",[nZ]=$s(Ox,[pL]),kn=pL(),[sZ,DL]=nZ(Ox),LL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=kn(t),u=x.useRef(null),[d,f]=Ka({prop:s,defaultProp:a??!1,onChange:o,caller:Ox});return i.jsx(sZ,{scope:t,triggerId:Es(),triggerRef:u,contentId:Es(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:i.jsx(qJ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};LL.displayName=Ox;var FL="DropdownMenuTrigger",UL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=DL(FL,r),o=kn(r);return i.jsx(zJ,{asChild:!0,...o,children:i.jsx(Ye.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Vi(t,a.triggerRef),onPointerDown:Ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});UL.displayName=FL;var aZ="DropdownMenuPortal",BL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=kn(t);return i.jsx(WJ,{...n,...r})};BL.displayName=aZ;var qL="DropdownMenuContent",zL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=DL(qL,r),a=kn(r),o=x.useRef(!1);return i.jsx(VJ,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zL.displayName=qL;var iZ="DropdownMenuGroup",oZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(KJ,{...s,...n,ref:t})});oZ.displayName=iZ;var lZ="DropdownMenuLabel",WL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(HJ,{...s,...n,ref:t})});WL.displayName=lZ;var cZ="DropdownMenuItem",VL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(GJ,{...s,...n,ref:t})});VL.displayName=cZ;var uZ="DropdownMenuCheckboxItem",KL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(YJ,{...s,...n,ref:t})});KL.displayName=uZ;var dZ="DropdownMenuRadioGroup",fZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(QJ,{...s,...n,ref:t})});fZ.displayName=dZ;var hZ="DropdownMenuRadioItem",HL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(XJ,{...s,...n,ref:t})});HL.displayName=hZ;var mZ="DropdownMenuItemIndicator",GL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(JJ,{...s,...n,ref:t})});GL.displayName=mZ;var pZ="DropdownMenuSeparator",YL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(ZJ,{...s,...n,ref:t})});YL.displayName=pZ;var gZ="DropdownMenuArrow",vZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(eZ,{...s,...n,ref:t})});vZ.displayName=gZ;var yZ="DropdownMenuSubTrigger",QL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(tZ,{...s,...n,ref:t})});QL.displayName=yZ;var xZ="DropdownMenuSubContent",XL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=kn(r);return i.jsx(rZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XL.displayName=xZ;var bZ=LL,wZ=UL,jZ=BL,JL=zL,ZL=WL,eF=VL,tF=KL,rF=HL,nF=GL,sF=YL,aF=QL,iF=XL;const fa=bZ,ha=wZ,_Z=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(aF,{ref:s,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(qn,{className:"ml-auto h-4 w-4"})]}));_Z.displayName=aF.displayName;const SZ=x.forwardRef(({className:e,...t},r)=>i.jsx(iF,{ref:r,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));SZ.displayName=iF.displayName;const Ps=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(jZ,{children:i.jsx(JL,{ref:n,sideOffset:t,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));Ps.displayName=JL.displayName;const Wt=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(eF,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Wt.displayName=eF.displayName;const NZ=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(tF,{ref:s,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nF,{children:i.jsx(Qm,{className:"h-4 w-4"})})}),t]}));NZ.displayName=tF.displayName;const kZ=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(rF,{ref:n,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(nF,{children:i.jsx(HH,{className:"h-2 w-2 fill-current"})})}),t]}));kZ.displayName=rF.displayName;const oF=x.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(ZL,{ref:n,className:X("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));oF.displayName=ZL.displayName;const Jj=x.forwardRef(({className:e,...t},r)=>i.jsx(sF,{ref:r,className:X("-mx-1 my-1 h-px bg-border",e),...t}));Jj.displayName=sF.displayName;function CZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const a=async()=>{await r(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:X("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[i.jsx(Fe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:i.jsx(f4,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(Ue,{children:"Sign out"}),i.jsx(Be,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"button",variant:"default",onClick:a,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function EZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=nx(),s=nl(),[a,o]=x.useState(!1),[l,c]=x.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:X("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[i.jsx("div",{className:"flex flex-1 items-center gap-4",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(ix,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),i.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(E,{variant:"ghost",size:"icon","aria-label":"Notifications",children:i.jsx(WH,{className:"h-4 w-4"})}),i.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:i.jsx(he,{to:"/help","aria-label":"Help",children:i.jsx(Xm,{className:"h-4 w-4"})})}),!n&&(t?i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsx(E,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:i.jsxs(yx,{className:"h-10 w-10",children:[i.jsx(fN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),i.jsx(xx,{className:"bg-primary/20 text-primary",children:i.jsx(lx,{className:"h-5 w-5"})})]})})}),i.jsxs(Ps,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[i.jsx(oF,{children:i.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),i.jsx(Jj,{}),i.jsx(Wt,{asChild:!0,children:i.jsx(he,{to:"/profile",children:"Profile"})}),i.jsx(Wt,{asChild:!0,children:i.jsx(he,{to:"/settings",children:"Settings"})}),i.jsx(Jj,{}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[i.jsx(f4,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(he,{to:"/login",children:"Sign in"})}),i.jsx(E,{size:"sm",asChild:!0,children:i.jsx(he,{to:"/signup",children:"Sign up"})})]}))]})]}),i.jsx(CZ,{open:a,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function OZ(){return i.jsxs("div",{className:"flex min-h-screen bg-background",children:[i.jsx(cQ,{}),i.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[i.jsx(EZ,{}),i.jsx("main",{className:X("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:i.jsx(kI,{})})]})]})}const J=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));J.displayName="Card";const se=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));se.displayName="CardHeader";const ie=x.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:X("text-lg font-semibold leading-none tracking-tight",e),...t}));ie.displayName="CardTitle";const we=x.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:X("text-sm text-muted-foreground",e),...t}));we.displayName="CardDescription";const Z=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const PZ=x.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:X("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));PZ.displayName="CardFooter";const AZ="reveal-visible";function Gp(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{const s=t.current;if(!s)return;const a=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(AZ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return a.observe(s),()=>a.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const TZ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],RZ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],MZ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],$Z={MessageSquare:Jm,Zap:j4,Smartphone:a7,Globe:ZH,Shield:Fr,Clock:Ao};function IZ(){const[e,t]=x.useState(null),r=Gp(),n=Gp(),s=Gp(),a=Gp();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),i.jsxs("nav",{className:"flex items-center gap-6",children:[i.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),i.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),i.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),i.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),i.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(E,{asChild:!0,size:"sm",children:i.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),i.jsxs("main",{children:[i.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),i.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),i.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),i.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),i.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),i.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[i.jsx(E,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/download",className:"inline-flex items-center gap-2",children:[i.jsx(zn,{className:"h-5 w-5"}),"Install Gateway"]})}),i.jsx(E,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[i.jsx(Hl,{className:"h-5 w-5"}),"Open Local UI"]})}),i.jsx(E,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:i.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),i.jsxs("section",{id:"features",ref:r.ref,className:X("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:TZ.map((o,l)=>i.jsx(DZ,{feature:o,index:l},o.id))})]}),i.jsx("section",{id:"quick-start",ref:n.ref,className:X("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:i.jsxs("div",{className:"mx-auto max-w-content",children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),i.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>i.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),i.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),i.jsxs("section",{id:"integrations",ref:s.ref,className:X("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),i.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:RZ.map(o=>i.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),i.jsx("section",{id:"pricing",ref:a.ref,className:X("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:i.jsxs("div",{className:"mx-auto max-w-content",children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:MZ.map(o=>i.jsxs(J,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-lg",children:o.planName}),i.jsx(we,{children:o.description}),i.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),i.jsxs(Z,{children:[i.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"h-4 w-4 text-accent"}),l]},c))}),i.jsx(E,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),i.jsx("footer",{className:"border-t border-border py-12",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),i.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),i.jsx(qe,{open:!!e,onOpenChange:o=>{o||t(null)},children:i.jsx(Le,{className:"max-w-md",children:e&&i.jsxs(i.Fragment,{children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:e.planName}),i.jsx(Be,{children:e.description})]}),i.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),i.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(qn,{className:"h-4 w-4 text-accent"}),o]},l))}),i.jsx(E,{asChild:!0,className:"mt-6 w-full",children:i.jsx(he,{to:"/signup",children:"Get started"})})]})})})]})}function DZ({feature:e,index:t}){const r=$Z[e.iconName]??j4;return i.jsx(J,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:i.jsxs(se,{children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:i.jsx(r,{className:"h-6 w-6"})}),i.jsx(ie,{className:"text-lg",children:e.name}),i.jsx(we,{children:e.description})]})})}var sp=e=>e.type==="checkbox",Pl=e=>e instanceof Date,Rn=e=>e==null;const lF=e=>typeof e=="object";var Cr=e=>!Rn(e)&&!Array.isArray(e)&&lF(e)&&!Pl(e),LZ=e=>Cr(e)&&e.target?sp(e.target)?e.target.checked:e.target.value:e,FZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,UZ=(e,t)=>e.has(FZ(t)),BZ=e=>{const t=e.constructor&&e.constructor.prototype;return Cr(t)&&t.hasOwnProperty("isPrototypeOf")},EN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(EN&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Cr(e)&&BZ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Pr(e[s]));return n}var Px=e=>/^\w*$/.test(e),or=e=>e===void 0,ON=e=>Array.isArray(e)?e.filter(Boolean):[],PN=e=>ON(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Te=(e,t,r)=>{if(!t||!Cr(e))return r;const n=(Px(t)?[t]:PN(t)).reduce((s,a)=>Rn(s)?s:s[a],e);return or(n)||n===e?or(e[t])?r:e[t]:n},Oa=e=>typeof e=="boolean",aa=e=>typeof e=="function",qt=(e,t,r)=>{let n=-1;const s=Px(t)?[t]:PN(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Cr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const GE={BLUR:"blur",FOCUS_OUT:"focusout"},ia={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ai={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},qZ=P.createContext(null);qZ.displayName="HookFormControlContext";var zZ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==ia.all&&(t._proxyFormState[o]=!n||ia.all),e[o]}});return s};const WZ=typeof window<"u"?P.useLayoutEffect:P.useEffect;var ts=e=>typeof e=="string",VZ=(e,t,r,n,s)=>ts(e)?(n&&t.watch.add(e),Te(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),Te(r,a))):(n&&(t.watchAll=!0),r),Zj=e=>Rn(e)||!lF(e);function vo(e,t,r=new WeakSet){if(Zj(e)||Zj(t))return Object.is(e,t);if(Pl(e)&&Pl(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(Pl(o)&&Pl(l)||Cr(o)&&Cr(l)||Array.isArray(o)&&Array.isArray(l)?!vo(o,l,r):!Object.is(o,l))return!1}}return!0}const KZ=P.createContext(null);KZ.displayName="HookFormContext";var cF=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},uh=e=>Array.isArray(e)?e:[e],YE=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function uF(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Cr(s)&&a){const o=uF(s,a);Cr(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var yn=e=>Cr(e)&&!Object.keys(e).length,AN=e=>e.type==="file",bv=e=>{if(!EN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},dF=e=>e.type==="select-multiple",TN=e=>e.type==="radio",HZ=e=>TN(e)||sp(e),Cw=e=>bv(e)&&e.isConnected;function GZ(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=or(e)?n++:e[t[n++]];return e}function YZ(e){for(const t in e)if(e.hasOwnProperty(t)&&!or(e[t]))return!1;return!0}function br(e,t){const r=Array.isArray(t)?t:Px(t)?[t]:PN(t),n=r.length===1?e:GZ(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Cr(n)&&yn(n)||Array.isArray(n)&&YZ(n))&&br(e,r.slice(0,-1)),e}var QZ=e=>{for(const t in e)if(aa(e[t]))return!0;return!1};function fF(e){return Array.isArray(e)||Cr(e)&&!QZ(e)}function e_(e,t={}){for(const r in e){const n=e[r];fF(n)?(t[r]=Array.isArray(n)?[]:{},e_(n,t[r])):or(n)||(t[r]=!0)}return t}function Jc(e,t,r){r||(r=e_(t));for(const n in e){const s=e[n];if(fF(s))or(t)||Zj(r[n])?r[n]=e_(s,Array.isArray(s)?[]:{}):Jc(s,Rn(t)?{}:t[n],r[n]);else{const a=t[n];r[n]=!vo(s,a)}}return r}const QE={value:!1,isValid:!1},XE={value:!0,isValid:!0};var hF=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!or(e[0].attributes.value)?or(e[0].value)||e[0].value===""?XE:{value:e[0].value,isValid:!0}:XE:QE}return QE},mF=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>or(e)?e:t?e===""?NaN:e&&+e:r&&ts(e)?new Date(e):n?n(e):e;const JE={isValid:!1,value:null};var pF=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,JE):JE;function ZE(e){const t=e.ref;return AN(t)?t.files:TN(t)?pF(e.refs).value:dF(t)?[...t.selectedOptions].map(({value:r})=>r):sp(t)?hF(e.refs).value:mF(or(t.value)?e.ref.value:t.value,e)}var XZ=(e,t,r,n)=>{const s={};for(const a of e){const o=Te(t,a);o&&qt(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},wv=e=>e instanceof RegExp,bf=e=>or(e)?e:wv(e)?e.source:Cr(e)?wv(e.value)?e.value.source:e.value:e,eO=e=>({isOnSubmit:!e||e===ia.onSubmit,isOnBlur:e===ia.onBlur,isOnChange:e===ia.onChange,isOnAll:e===ia.all,isOnTouch:e===ia.onTouched});const tO="AsyncFunction";var JZ=e=>!!e&&!!e.validate&&!!(aa(e.validate)&&e.validate.constructor.name===tO||Cr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===tO)),ZZ=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),rO=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const dh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=Te(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(dh(l,t))break}else if(Cr(l)&&dh(l,t))break}}};function nO(e,t,r){const n=Te(e,r);if(n||Px(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=Te(t,a),l=Te(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var eee=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return yn(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||ia.all))},tee=(e,t,r)=>!e||!t||e===t||uh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),ree=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,nee=(e,t)=>!ON(Te(e,t)).length&&br(e,t),see=(e,t,r)=>{const n=uh(Te(e,r));return qt(n,"root",t[r]),qt(e,r,n),e};function sO(e,t,r="validate"){if(ts(e)||Array.isArray(e)&&e.every(ts)||Oa(e)&&!e)return{type:r,message:ts(e)?e:"",ref:t}}var zc=e=>Cr(e)&&!wv(e)?e:{value:e,message:""},aO=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:y,mount:b}=e._f,v=Te(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,S=O=>{s&&w.reportValidity&&(w.setCustomValidity(Oa(O)?"":O||""),w.reportValidity())},j={},_=TN(o),N=sp(o),k=_||N,C=(y||AN(o))&&or(o.value)&&or(v)||bv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,A=cF.bind(null,p,n,j),I=(O,U,T,q=ai.maxLength,R=ai.minLength)=>{const z=O?U:T;j[p]={type:O?q:R,message:z,ref:o,...A(O?q:R,z)}};if(a?!Array.isArray(v)||!v.length:c&&(!k&&(C||Rn(v))||Oa(v)&&!v||N&&!hF(l).isValid||_&&!pF(l).isValid)){const{value:O,message:U}=ts(c)?{value:!!c,message:c}:zc(c);if(O&&(j[p]={type:ai.required,message:U,ref:w,...A(ai.required,U)},!n))return S(U),j}if(!C&&(!Rn(f)||!Rn(h))){let O,U;const T=zc(h),q=zc(f);if(!Rn(v)&&!isNaN(v)){const R=o.valueAsNumber||v&&+v;Rn(T.value)||(O=R>T.value),Rn(q.value)||(U=R<q.value)}else{const R=o.valueAsDate||new Date(v),z=$=>new Date(new Date().toDateString()+" "+$),D=o.type=="time",M=o.type=="week";ts(T.value)&&v&&(O=D?z(v)>z(T.value):M?v>T.value:R>new Date(T.value)),ts(q.value)&&v&&(U=D?z(v)<z(q.value):M?v<q.value:R<new Date(q.value))}if((O||U)&&(I(!!O,T.message,q.message,ai.max,ai.min),!n))return S(j[p].message),j}if((u||d)&&!C&&(ts(v)||a&&Array.isArray(v))){const O=zc(u),U=zc(d),T=!Rn(O.value)&&v.length>+O.value,q=!Rn(U.value)&&v.length<+U.value;if((T||q)&&(I(T,O.message,U.message),!n))return S(j[p].message),j}if(m&&!C&&ts(v)){const{value:O,message:U}=zc(m);if(wv(O)&&!v.match(O)&&(j[p]={type:ai.pattern,message:U,ref:o,...A(ai.pattern,U)},!n))return S(U),j}if(g){if(aa(g)){const O=await g(v,r),U=sO(O,w);if(U&&(j[p]={...U,...A(ai.validate,U.message)},!n))return S(U.message),j}else if(Cr(g)){let O={};for(const U in g){if(!yn(O)&&!n)break;const T=sO(await g[U](v,r),w,U);T&&(O={...T,...A(U,T.message)},S(T.message),n&&(j[p]=O))}if(!yn(O)&&(j[p]={ref:w,...O},!n))return j}}return S(!0),j};const aee={mode:ia.onSubmit,reValidateMode:ia.onChange,shouldFocusError:!0};function iee(e={}){let t={...aee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:aa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Cr(t.defaultValues)||Cr(t.values)?Pr(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Pr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:YE(),state:YE()},g=t.criteriaMode===ia.all,p=L=>V=>{clearTimeout(u),u=setTimeout(L,V)},y=async L=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||L)){let V;t.resolver?(V=yn((await k()).errors),b()):V=await A(n,!0),V!==r.isValid&&m.state.next({isValid:V})}},b=(L,V)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((L||Array.from(l.mount)).forEach(Q=>{Q&&(V?qt(r.validatingFields,Q,V):br(r.validatingFields,Q))}),m.state.next({validatingFields:r.validatingFields,isValidating:!yn(r.validatingFields)}))},v=(L,V=[],Q,Se,be=!0,le=!0)=>{if(Se&&Q&&!t.disabled){if(o.action=!0,le&&Array.isArray(Te(n,L))){const Me=Q(Te(n,L),Se.argA,Se.argB);be&&qt(n,L,Me)}if(le&&Array.isArray(Te(r.errors,L))){const Me=Q(Te(r.errors,L),Se.argA,Se.argB);be&&qt(r.errors,L,Me),nee(r.errors,L)}if((f.touchedFields||h.touchedFields)&&le&&Array.isArray(Te(r.touchedFields,L))){const Me=Q(Te(r.touchedFields,L),Se.argA,Se.argB);be&&qt(r.touchedFields,L,Me)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Jc(s,a)),m.state.next({name:L,isDirty:O(L,V),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else qt(a,L,V)},w=(L,V)=>{qt(r.errors,L,V),m.state.next({errors:r.errors})},S=L=>{r.errors=L,m.state.next({errors:r.errors,isValid:!1})},j=(L,V,Q,Se)=>{const be=Te(n,L);if(be){const le=Te(a,L,or(Q)?Te(s,L):Q);or(le)||Se&&Se.defaultChecked||V?qt(a,L,V?le:ZE(be._f)):q(L,le),o.mount&&!o.action&&y()}},_=(L,V,Q,Se,be)=>{let le=!1,Me=!1;const Ot={name:L};if(!t.disabled){if(!Q||Se){(f.isDirty||h.isDirty)&&(Me=r.isDirty,r.isDirty=Ot.isDirty=O(),le=Me!==Ot.isDirty);const Pt=vo(Te(s,L),V);Me=!!Te(r.dirtyFields,L),Pt?br(r.dirtyFields,L):qt(r.dirtyFields,L,!0),Ot.dirtyFields=r.dirtyFields,le=le||(f.dirtyFields||h.dirtyFields)&&Me!==!Pt}if(Q){const Pt=Te(r.touchedFields,L);Pt||(qt(r.touchedFields,L,Q),Ot.touchedFields=r.touchedFields,le=le||(f.touchedFields||h.touchedFields)&&Pt!==Q)}le&&be&&m.state.next(Ot)}return le?Ot:{}},N=(L,V,Q,Se)=>{const be=Te(r.errors,L),le=(f.isValid||h.isValid)&&Oa(V)&&r.isValid!==V;if(t.delayError&&Q?(c=p(()=>w(L,Q)),c(t.delayError)):(clearTimeout(u),c=null,Q?qt(r.errors,L,Q):br(r.errors,L)),(Q?!vo(be,Q):be)||!yn(Se)||le){const Me={...Se,...le&&Oa(V)?{isValid:V}:{},errors:r.errors,name:L};r={...r,...Me},m.state.next(Me)}},k=async L=>(b(L,!0),await t.resolver(a,t.context,XZ(L||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async L=>{const{errors:V}=await k(L);if(b(L),L)for(const Q of L){const Se=Te(V,Q);Se?qt(r.errors,Q,Se):br(r.errors,Q)}else r.errors=V;return V},A=async(L,V,Q={valid:!0})=>{for(const Se in L){const be=L[Se];if(be){const{_f:le,...Me}=be;if(le){const Ot=l.array.has(le.name),Pt=be._f&&JZ(be._f);Pt&&f.validatingFields&&b([le.name],!0);const xr=await aO(be,l.disabled,a,g,t.shouldUseNativeValidation&&!V,Ot);if(Pt&&f.validatingFields&&b([le.name]),xr[le.name]&&(Q.valid=!1,V||e.shouldUseNativeValidation))break;!V&&(Te(xr,le.name)?Ot?see(r.errors,xr,le.name):qt(r.errors,le.name,xr[le.name]):br(r.errors,le.name))}!yn(Me)&&await A(Me,V,Q)}}return Q.valid},I=()=>{for(const L of l.unMount){const V=Te(n,L);V&&(V._f.refs?V._f.refs.every(Q=>!Cw(Q)):!Cw(V._f.ref))&&Ie(L)}l.unMount=new Set},O=(L,V)=>!t.disabled&&(L&&V&&qt(a,L,V),!vo(ee(),s)),U=(L,V,Q)=>VZ(L,l,{...o.mount?a:or(V)?s:ts(L)?{[L]:V}:V},Q,V),T=L=>ON(Te(o.mount?a:s,L,t.shouldUnregister?Te(s,L,[]):[])),q=(L,V,Q={})=>{const Se=Te(n,L);let be=V;if(Se){const le=Se._f;le&&(!le.disabled&&qt(a,L,mF(V,le)),be=bv(le.ref)&&Rn(V)?"":V,dF(le.ref)?[...le.ref.options].forEach(Me=>Me.selected=be.includes(Me.value)):le.refs?sp(le.ref)?le.refs.forEach(Me=>{(!Me.defaultChecked||!Me.disabled)&&(Array.isArray(be)?Me.checked=!!be.find(Ot=>Ot===Me.value):Me.checked=be===Me.value||!!be)}):le.refs.forEach(Me=>Me.checked=Me.value===be):AN(le.ref)?le.ref.value="":(le.ref.value=be,le.ref.type||m.state.next({name:L,values:Pr(a)})))}(Q.shouldDirty||Q.shouldTouch)&&_(L,be,Q.shouldTouch,Q.shouldDirty,!0),Q.shouldValidate&&$(L)},R=(L,V,Q)=>{for(const Se in V){if(!V.hasOwnProperty(Se))return;const be=V[Se],le=L+"."+Se,Me=Te(n,le);(l.array.has(L)||Cr(be)||Me&&!Me._f)&&!Pl(be)?R(le,be,Q):q(le,be,Q)}},z=(L,V,Q={})=>{const Se=Te(n,L),be=l.array.has(L),le=Pr(V);qt(a,L,le),be?(m.array.next({name:L,values:Pr(a)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&Q.shouldDirty&&m.state.next({name:L,dirtyFields:Jc(s,a),isDirty:O(L,le)})):Se&&!Se._f&&!Rn(le)?R(L,le,Q):q(L,le,Q),rO(L,l)?m.state.next({...r,name:L,values:Pr(a)}):m.state.next({name:o.mount?L:void 0,values:Pr(a)})},D=async L=>{o.mount=!0;const V=L.target;let Q=V.name,Se=!0;const be=Te(n,Q),le=Pt=>{Se=Number.isNaN(Pt)||Pl(Pt)&&isNaN(Pt.getTime())||vo(Pt,Te(a,Q,Pt))},Me=eO(t.mode),Ot=eO(t.reValidateMode);if(be){let Pt,xr;const ni=V.type?ZE(be._f):LZ(L),Bs=L.type===GE.BLUR||L.type===GE.FOCUS_OUT,of=!ZZ(be._f)&&!t.resolver&&!Te(r.errors,Q)&&!be._f.deps||ree(Bs,Te(r.touchedFields,Q),r.isSubmitted,Ot,Me),ka=rO(Q,l,Bs);qt(a,Q,ni),Bs?(!V||!V.readOnly)&&(be._f.onBlur&&be._f.onBlur(L),c&&c(0)):be._f.onChange&&be._f.onChange(L);const Tc=_(Q,ni,Bs),Xi=!yn(Tc)||ka;if(!Bs&&m.state.next({name:Q,type:L.type,values:Pr(a)}),of)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Bs&&y():Bs||y()),Xi&&m.state.next({name:Q,...ka?{}:Tc});if(!Bs&&ka&&m.state.next({...r}),t.resolver){const{errors:mp}=await k([Q]);if(b([Q]),le(ni),Se){const Pb=nO(r.errors,n,Q),lf=nO(mp,n,Pb.name||Q);Pt=lf.error,Q=lf.name,xr=yn(mp)}}else b([Q],!0),Pt=(await aO(be,l.disabled,a,g,t.shouldUseNativeValidation))[Q],b([Q]),le(ni),Se&&(Pt?xr=!1:(f.isValid||h.isValid)&&(xr=await A(n,!0)));Se&&(be._f.deps&&(!Array.isArray(be._f.deps)||be._f.deps.length>0)&&$(be._f.deps),N(Q,xr,Pt,Tc))}},M=(L,V)=>{if(Te(r.errors,V)&&L.focus)return L.focus(),1},$=async(L,V={})=>{let Q,Se;const be=uh(L);if(t.resolver){const le=await C(or(L)?L:be);Q=yn(le),Se=L?!be.some(Me=>Te(le,Me)):Q}else L?(Se=(await Promise.all(be.map(async le=>{const Me=Te(n,le);return await A(Me&&Me._f?{[le]:Me}:Me)}))).every(Boolean),!(!Se&&!r.isValid)&&y()):Se=Q=await A(n);return m.state.next({...!ts(L)||(f.isValid||h.isValid)&&Q!==r.isValid?{}:{name:L},...t.resolver||!L?{isValid:Q}:{},errors:r.errors}),V.shouldFocus&&!Se&&dh(n,M,L?be:l.mount),Se},ee=(L,V)=>{let Q={...o.mount?a:s};return V&&(Q=uF(V.dirtyFields?r.dirtyFields:r.touchedFields,Q)),or(L)?Q:ts(L)?Te(Q,L):L.map(Se=>Te(Q,Se))},Y=(L,V)=>({invalid:!!Te((V||r).errors,L),isDirty:!!Te((V||r).dirtyFields,L),error:Te((V||r).errors,L),isValidating:!!Te(r.validatingFields,L),isTouched:!!Te((V||r).touchedFields,L)}),ce=L=>{L&&uh(L).forEach(V=>br(r.errors,V)),m.state.next({errors:L?r.errors:{}})},xe=(L,V,Q)=>{const Se=(Te(n,L,{_f:{}})._f||{}).ref,be=Te(r.errors,L)||{},{ref:le,message:Me,type:Ot,...Pt}=be;qt(r.errors,L,{...Pt,...V,ref:Se}),m.state.next({name:L,errors:r.errors,isValid:!1}),Q&&Q.shouldFocus&&Se&&Se.focus&&Se.focus()},We=(L,V)=>aa(L)?m.state.subscribe({next:Q=>"values"in Q&&L(U(void 0,V),Q)}):U(L,V,!0),ne=L=>m.state.subscribe({next:V=>{tee(L.name,V.name,L.exact)&&eee(V,L.formState||f,nn,L.reRenderRoot)&&L.callback({values:{...a},...r,...V,defaultValues:s})}}).unsubscribe,ae=L=>(o.mount=!0,h={...h,...L.formState},ne({...L,formState:{...d,...L.formState}})),Ie=(L,V={})=>{for(const Q of L?uh(L):l.mount)l.mount.delete(Q),l.array.delete(Q),V.keepValue||(br(n,Q),br(a,Q)),!V.keepError&&br(r.errors,Q),!V.keepDirty&&br(r.dirtyFields,Q),!V.keepTouched&&br(r.touchedFields,Q),!V.keepIsValidating&&br(r.validatingFields,Q),!t.shouldUnregister&&!V.keepDefaultValue&&br(s,Q);m.state.next({values:Pr(a)}),m.state.next({...r,...V.keepDirty?{isDirty:O()}:{}}),!V.keepIsValid&&y()},re=({disabled:L,name:V})=>{if(Oa(L)&&o.mount||L||l.disabled.has(V)){const be=l.disabled.has(V)!==!!L;L?l.disabled.add(V):l.disabled.delete(V),be&&o.mount&&!o.action&&y()}},ue=(L,V={})=>{let Q=Te(n,L);const Se=Oa(V.disabled)||Oa(t.disabled);return qt(n,L,{...Q||{},_f:{...Q&&Q._f?Q._f:{ref:{name:L}},name:L,mount:!0,...V}}),l.mount.add(L),Q?re({disabled:Oa(V.disabled)?V.disabled:t.disabled,name:L}):j(L,!0,V.value),{...Se?{disabled:V.disabled||t.disabled}:{},...t.progressive?{required:!!V.required,min:bf(V.min),max:bf(V.max),minLength:bf(V.minLength),maxLength:bf(V.maxLength),pattern:bf(V.pattern)}:{},name:L,onChange:D,onBlur:D,ref:be=>{if(be){ue(L,V),Q=Te(n,L);const le=or(be.value)&&be.querySelectorAll&&be.querySelectorAll("input,select,textarea")[0]||be,Me=HZ(le),Ot=Q._f.refs||[];if(Me?Ot.find(Pt=>Pt===le):le===Q._f.ref)return;qt(n,L,{_f:{...Q._f,...Me?{refs:[...Ot.filter(Cw),le,...Array.isArray(Te(s,L))?[{}]:[]],ref:{type:le.type,name:L}}:{ref:le}}}),j(L,!1,void 0,le)}else Q=Te(n,L,{}),Q._f&&(Q._f.mount=!1),(t.shouldUnregister||V.shouldUnregister)&&!(UZ(l.array,L)&&o.action)&&l.unMount.add(L)}}},K=()=>t.shouldFocusError&&dh(n,M,l.mount),H=L=>{Oa(L)&&(m.state.next({disabled:L}),dh(n,(V,Q)=>{const Se=Te(n,Q);Se&&(V.disabled=Se._f.disabled||L,Array.isArray(Se._f.refs)&&Se._f.refs.forEach(be=>{be.disabled=Se._f.disabled||L}))},0,!1))},Je=(L,V)=>async Q=>{let Se;Q&&(Q.preventDefault&&Q.preventDefault(),Q.persist&&Q.persist());let be=Pr(a);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:le,values:Me}=await k();b(),r.errors=le,be=Pr(Me)}else await A(n);if(l.disabled.size)for(const le of l.disabled)br(be,le);if(br(r.errors,"root"),yn(r.errors)){m.state.next({errors:{}});try{await L(be,Q)}catch(le){Se=le}}else V&&await V({...r.errors},Q),K(),setTimeout(K);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yn(r.errors)&&!Se,submitCount:r.submitCount+1,errors:r.errors}),Se)throw Se},Ke=(L,V={})=>{Te(n,L)&&(or(V.defaultValue)?z(L,Pr(Te(s,L))):(z(L,V.defaultValue),qt(s,L,Pr(V.defaultValue))),V.keepTouched||br(r.touchedFields,L),V.keepDirty||(br(r.dirtyFields,L),r.isDirty=V.defaultValue?O(L,Pr(Te(s,L))):O()),V.keepError||(br(r.errors,L),f.isValid&&y()),m.state.next({...r}))},At=(L,V={})=>{const Q=L?Pr(L):s,Se=Pr(Q),be=yn(L),le=be?s:Se;if(V.keepDefaultValues||(s=Q),!V.keepValues){if(V.keepDirtyValues){const Me=new Set([...l.mount,...Object.keys(Jc(s,a))]);for(const Ot of Array.from(Me)){const Pt=Te(r.dirtyFields,Ot),xr=Te(a,Ot),ni=Te(le,Ot);Pt&&!or(xr)?qt(le,Ot,xr):!Pt&&!or(ni)&&z(Ot,ni)}}else{if(EN&&or(L))for(const Me of l.mount){const Ot=Te(n,Me);if(Ot&&Ot._f){const Pt=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(bv(Pt)){const xr=Pt.closest("form");if(xr){xr.reset();break}}}}if(V.keepFieldsRef)for(const Me of l.mount)z(Me,Te(le,Me));else n={}}a=t.shouldUnregister?V.keepDefaultValues?Pr(s):{}:Pr(le),m.array.next({values:{...le}}),m.state.next({values:{...le}})}l={mount:V.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!V.keepIsValid||!!V.keepDirtyValues||!t.shouldUnregister&&!yn(le),o.watch=!!t.shouldUnregister,o.keepIsValid=!!V.keepIsValid,o.action=!1,V.keepErrors||(r.errors={}),m.state.next({submitCount:V.keepSubmitCount?r.submitCount:0,isDirty:be?!1:V.keepDirty?r.isDirty:!!(V.keepDefaultValues&&!vo(L,s)),isSubmitted:V.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:be?{}:V.keepDirtyValues?V.keepDefaultValues&&a?Jc(s,a):r.dirtyFields:V.keepDefaultValues&&L?Jc(s,L):V.keepDirty?r.dirtyFields:{},touchedFields:V.keepTouched?r.touchedFields:{},errors:V.keepErrors?r.errors:{},isSubmitSuccessful:V.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},Et=(L,V)=>At(aa(L)?L(a):L,{...t.resetOptions,...V}),rr=(L,V={})=>{const Q=Te(n,L),Se=Q&&Q._f;if(Se){const be=Se.refs?Se.refs[0]:Se.ref;be.focus&&setTimeout(()=>{be.focus(),V.shouldSelect&&aa(be.select)&&be.select()})}},nn=L=>{r={...r,...L}},Na={control:{register:ue,unregister:Ie,getFieldState:Y,handleSubmit:Je,setError:xe,_subscribe:ne,_runSchema:k,_updateIsValidating:b,_focusError:K,_getWatch:U,_getDirty:O,_setValid:y,_setFieldArray:v,_setDisabledField:re,_setErrors:S,_getFieldArray:T,_reset:At,_resetDefaultValues:()=>aa(t.defaultValues)&&t.defaultValues().then(L=>{Et(L,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:H,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(L){o=L},get _defaultValues(){return s},get _names(){return l},set _names(L){l=L},get _formState(){return r},get _options(){return t},set _options(L){t={...t,...L}}},subscribe:ae,trigger:$,register:ue,handleSubmit:Je,watch:We,setValue:z,getValues:ee,reset:Et,resetField:Ke,clearErrors:ce,unregister:Ie,setError:xe,setFocus:rr,getFieldState:Y};return{...Na,formControl:Na}}function lt(e={}){const t=P.useRef(void 0),r=P.useRef(void 0),[n,s]=P.useState({isDirty:!1,isValidating:!1,isLoading:aa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:aa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!aa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=iee(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,WZ(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),P.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),P.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),P.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),P.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),P.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),P.useEffect(()=>{var o;e.values&&!vo(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=e.values,s(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),P.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=P.useMemo(()=>zZ(n,a),[a,n]),t.current}const iO=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Te(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},gF=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?iO(n.ref,r,e):n.refs&&n.refs.forEach(s=>iO(s,r,e))}},oee=(e,t)=>{t.shouldUseNativeValidation&&gF(e,t);const r={};for(const n in e){const s=Te(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(lee(t.names||Object.keys(e),n)){const o=Object.assign({},Te(r,n));qt(o,"root",a),qt(r,n,o)}else qt(r,n,a)}return r},lee=(e,t)=>e.some(r=>r.startsWith(t+"."));var cee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=cF(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},ct=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&gF({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:oee(cee(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},kt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(kt||(kt={}));var oO;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(oO||(oO={}));const Re=kt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),fo=e=>{switch(typeof e){case"undefined":return Re.undefined;case"string":return Re.string;case"number":return Number.isNaN(e)?Re.nan:Re.number;case"boolean":return Re.boolean;case"function":return Re.function;case"bigint":return Re.bigint;case"symbol":return Re.symbol;case"object":return Array.isArray(e)?Re.array:e===null?Re.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Re.promise:typeof Map<"u"&&e instanceof Map?Re.map:typeof Set<"u"&&e instanceof Set?Re.set:typeof Date<"u"&&e instanceof Date?Re.date:Re.object;default:return Re.unknown}},me=kt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class $i extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof $i))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,kt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}$i.create=e=>new $i(e);const t_=(e,t)=>{let r;switch(e.code){case me.invalid_type:e.received===Re.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case me.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,kt.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:r=`Unrecognized key(s) in object: ${kt.joinValues(e.keys,", ")}`;break;case me.invalid_union:r="Invalid input";break;case me.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${kt.joinValues(e.options)}`;break;case me.invalid_enum_value:r=`Invalid enum value. Expected ${kt.joinValues(e.options)}, received '${e.received}'`;break;case me.invalid_arguments:r="Invalid function arguments";break;case me.invalid_return_type:r="Invalid function return type";break;case me.invalid_date:r="Invalid date";break;case me.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:kt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case me.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case me.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case me.custom:r="Invalid input";break;case me.invalid_intersection_types:r="Intersection results could not be merged";break;case me.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case me.not_finite:r="Number must be finite";break;default:r=t.defaultError,kt.assertNever(e)}return{message:r}};let uee=t_;function dee(){return uee}const fee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function ke(e,t){const r=dee(),n=fee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===t_?void 0:t_].filter(s=>!!s)});e.common.issues.push(n)}class cs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return cs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Ze;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),Gf=e=>({status:"dirty",value:e}),Ds=e=>({status:"valid",value:e}),lO=e=>e.status==="aborted",cO=e=>e.status==="dirty",nd=e=>e.status==="valid",jv=e=>typeof Promise<"u"&&e instanceof Promise;var $e;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})($e||($e={}));class Jo{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const uO=(e,t)=>{if(nd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new $i(e.common.issues);return this._error=r,this._error}}};function at(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class St{get description(){return this._def.description}_getType(t){return fo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:fo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new cs,ctx:{common:t.parent.common,data:t.data,parsedType:fo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(jv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return uO(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fo(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return nd(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>nd(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:fo(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(jv(s)?s:Promise.resolve(s));return uO(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:me.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new id({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Vo.create(this,this._def)}nullable(){return od.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return za.create(this)}promise(){return kv.create(this,this._def)}or(t){return Sv.create([this,t],this._def)}and(t){return Nv.create(this,t,this._def)}transform(t){return new id({...at(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new s_({...at(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new $ee({typeName:et.ZodBranded,type:this,...at(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new a_({...at(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return RN.create(this,t)}readonly(){return i_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const hee=/^c[^\s-]{8,}$/i,mee=/^[0-9a-z]+$/,pee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vee=/^[a-z0-9_-]{21}$/i,yee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ew;const jee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_ee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,See=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Nee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,kee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Cee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,vF="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Eee=new RegExp(`^${vF}$`);function yF(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Oee(e){return new RegExp(`^${yF(e)}$`)}function Pee(e){let t=`${vF}T${yF(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Aee(e,t){return!!((t==="v4"||!t)&&jee.test(e)||(t==="v6"||!t)&&See.test(e))}function Tee(e,t){if(!yee.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Ree(e,t){return!!((t==="v4"||!t)&&_ee.test(e)||(t==="v6"||!t)&&Nee.test(e))}class vi extends St{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Re.string){const a=this._getOrReturnCtx(t);return ke(a,{code:me.invalid_type,expected:Re.string,received:a.parsedType}),Ze}const n=new cs;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?ke(s,{code:me.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&ke(s,{code:me.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")bee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"email",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Ew||(Ew=new RegExp(wee,"u")),Ew.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"emoji",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")gee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"uuid",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")vee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"nanoid",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")hee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")mee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cuid2",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")pee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ulid",code:me.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ke(s,{validation:"url",code:me.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"regex",code:me.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?Pee(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?Eee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?Oee(a).test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{code:me.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"duration",code:me.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?Aee(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"ip",code:me.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?Tee(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"jwt",code:me.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?Ree(t.data,a.version)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"cidr",code:me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?kee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64",code:me.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?Cee.test(t.data)||(s=this._getOrReturnCtx(t,s),ke(s,{validation:"base64url",code:me.invalid_string,message:a.message}),n.dirty()):kt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:me.invalid_string,...$e.errToObj(n)})}_addCheck(t){return new vi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...$e.errToObj(t)})}url(t){return this._addCheck({kind:"url",...$e.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...$e.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...$e.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...$e.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...$e.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...$e.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...$e.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...$e.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...$e.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...$e.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...$e.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...$e.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...$e.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...$e.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...$e.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...$e.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...$e.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...$e.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...$e.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...$e.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...$e.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...$e.errToObj(r)})}nonempty(t){return this.min(1,$e.errToObj(t))}trim(){return new vi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vi.create=e=>new vi({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...at(e)});function Mee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class ic extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Re.number){const a=this._getOrReturnCtx(t);return ke(a,{code:me.invalid_type,expected:Re.number,received:a.parsedType}),Ze}let n;const s=new cs;for(const a of this._def.checks)a.kind==="int"?kt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:me.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Mee(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ke(n,{code:me.not_finite,message:a.message}),s.dirty()):kt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new ic({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new ic({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:$e.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:$e.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:$e.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:$e.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&kt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}ic.create=e=>new ic({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class oc extends St{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Re.bigint)return this._getInvalidInput(t);let n;const s=new cs;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ke(n,{code:me.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):kt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return ke(r,{code:me.invalid_type,expected:Re.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,$e.toString(r))}gt(t,r){return this.setLimit("min",t,!1,$e.toString(r))}lte(t,r){return this.setLimit("max",t,!0,$e.toString(r))}lt(t,r){return this.setLimit("max",t,!1,$e.toString(r))}setLimit(t,r,n,s){return new oc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:$e.toString(s)}]})}_addCheck(t){return new oc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:$e.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:$e.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:$e.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}oc.create=e=>new oc({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...at(e)});class _v extends St{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Re.boolean){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.boolean,received:n.parsedType}),Ze}return Ds(t.data)}}_v.create=e=>new _v({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...at(e)});class sd extends St{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Re.date){const a=this._getOrReturnCtx(t);return ke(a,{code:me.invalid_type,expected:Re.date,received:a.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return ke(a,{code:me.invalid_date}),Ze}const n=new cs;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:me.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),ke(s,{code:me.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):kt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new sd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:$e.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:$e.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}sd.create=e=>new sd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...at(e)});class dO extends St{_parse(t){if(this._getType(t)!==Re.symbol){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.symbol,received:n.parsedType}),Ze}return Ds(t.data)}}dO.create=e=>new dO({typeName:et.ZodSymbol,...at(e)});class fO extends St{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.undefined,received:n.parsedType}),Ze}return Ds(t.data)}}fO.create=e=>new fO({typeName:et.ZodUndefined,...at(e)});class hO extends St{_parse(t){if(this._getType(t)!==Re.null){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.null,received:n.parsedType}),Ze}return Ds(t.data)}}hO.create=e=>new hO({typeName:et.ZodNull,...at(e)});class mO extends St{constructor(){super(...arguments),this._any=!0}_parse(t){return Ds(t.data)}}mO.create=e=>new mO({typeName:et.ZodAny,...at(e)});class pO extends St{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ds(t.data)}}pO.create=e=>new pO({typeName:et.ZodUnknown,...at(e)});class Zo extends St{_parse(t){const r=this._getOrReturnCtx(t);return ke(r,{code:me.invalid_type,expected:Re.never,received:r.parsedType}),Ze}}Zo.create=e=>new Zo({typeName:et.ZodNever,...at(e)});class gO extends St{_parse(t){if(this._getType(t)!==Re.undefined){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.void,received:n.parsedType}),Ze}return Ds(t.data)}}gO.create=e=>new gO({typeName:et.ZodVoid,...at(e)});class za extends St{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Re.array)return ke(r,{code:me.invalid_type,expected:Re.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(ke(r,{code:o?me.too_big:me.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ke(r,{code:me.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ke(r,{code:me.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new Jo(r,o,r.path,l)))).then(o=>cs.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new Jo(r,o,r.path,l)));return cs.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new za({...this._def,minLength:{value:t,message:$e.toString(r)}})}max(t,r){return new za({...this._def,maxLength:{value:t,message:$e.toString(r)}})}length(t,r){return new za({...this._def,exactLength:{value:t,message:$e.toString(r)}})}nonempty(t){return this.min(1,t)}}za.create=(e,t)=>new za({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...at(t)});function Zc(e){if(e instanceof _r){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Vo.create(Zc(n))}return new _r({...e._def,shape:()=>t})}else return e instanceof za?new za({...e._def,type:Zc(e.element)}):e instanceof Vo?Vo.create(Zc(e.unwrap())):e instanceof od?od.create(Zc(e.unwrap())):e instanceof lc?lc.create(e.items.map(t=>Zc(t))):e}class _r extends St{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=kt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Re.object){const u=this._getOrReturnCtx(t);return ke(u,{code:me.invalid_type,expected:Re.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Zo&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Jo(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Zo){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(ke(s,{code:me.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Jo(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>cs.mergeObjectSync(n,u)):cs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return $e.errToObj,new _r({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:$e.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new _r({...this._def,unknownKeys:"strip"})}passthrough(){return new _r({...this._def,unknownKeys:"passthrough"})}extend(t){return new _r({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _r({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new _r({...this._def,catchall:t})}pick(t){const r={};for(const n of kt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new _r({...this._def,shape:()=>r})}omit(t){const r={};for(const n of kt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new _r({...this._def,shape:()=>r})}deepPartial(){return Zc(this)}partial(t){const r={};for(const n of kt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new _r({...this._def,shape:()=>r})}required(t){const r={};for(const n of kt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Vo;)a=a._def.innerType;r[n]=a}return new _r({...this._def,shape:()=>r})}keyof(){return xF(kt.objectKeys(this.shape))}}_r.create=(e,t)=>new _r({shape:()=>e,unknownKeys:"strip",catchall:Zo.create(),typeName:et.ZodObject,...at(t)});_r.strictCreate=(e,t)=>new _r({shape:()=>e,unknownKeys:"strict",catchall:Zo.create(),typeName:et.ZodObject,...at(t)});_r.lazycreate=(e,t)=>new _r({shape:e,unknownKeys:"strip",catchall:Zo.create(),typeName:et.ZodObject,...at(t)});class Sv extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new $i(l.ctx.common.issues));return ke(r,{code:me.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new $i(c));return ke(r,{code:me.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Sv.create=(e,t)=>new Sv({options:e,typeName:et.ZodUnion,...at(t)});function r_(e,t){const r=fo(e),n=fo(t);if(e===t)return{valid:!0,data:e};if(r===Re.object&&n===Re.object){const s=kt.objectKeys(t),a=kt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=r_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Re.array&&n===Re.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=r_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Re.date&&n===Re.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Nv extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(lO(a)||lO(o))return Ze;const l=r_(a.value,o.value);return l.valid?((cO(a)||cO(o))&&r.dirty(),{status:r.value,value:l.data}):(ke(n,{code:me.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nv.create=(e,t,r)=>new Nv({left:e,right:t,typeName:et.ZodIntersection,...at(r)});class lc extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.array)return ke(n,{code:me.invalid_type,expected:Re.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return ke(n,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(ke(n,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Jo(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>cs.mergeArray(r,o)):cs.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new lc({...this._def,rest:t})}}lc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lc({items:e,typeName:et.ZodTuple,rest:null,...at(t)})};class vO extends St{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.map)return ke(n,{code:me.invalid_type,expected:Re.map,received:n.parsedType}),Ze;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new Jo(n,l,n.path,[u,"key"])),value:a._parse(new Jo(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}vO.create=(e,t,r)=>new vO({valueType:t,keyType:e,typeName:et.ZodMap,...at(r)});class Zh extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Re.set)return ke(n,{code:me.invalid_type,expected:Re.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ke(n,{code:me.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ke(n,{code:me.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Jo(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Zh({...this._def,minSize:{value:t,message:$e.toString(r)}})}max(t,r){return new Zh({...this._def,maxSize:{value:t,message:$e.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Zh.create=(e,t)=>new Zh({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...at(t)});class yO extends St{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}yO.create=(e,t)=>new yO({getter:e,typeName:et.ZodLazy,...at(t)});class n_ extends St{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return ke(r,{received:r.data,code:me.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}n_.create=(e,t)=>new n_({value:e,typeName:et.ZodLiteral,...at(t)});function xF(e,t){return new ad({values:e,typeName:et.ZodEnum,...at(t)})}class ad extends St{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{expected:kt.joinValues(n),received:r.parsedType,code:me.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return ke(r,{received:r.data,code:me.invalid_enum_value,options:n}),Ze}return Ds(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ad.create(t,{...this._def,...r})}exclude(t,r=this._def){return ad.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ad.create=xF;class xO extends St{_parse(t){const r=kt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Re.string&&n.parsedType!==Re.number){const s=kt.objectValues(r);return ke(n,{expected:kt.joinValues(s),received:n.parsedType,code:me.invalid_type}),Ze}if(this._cache||(this._cache=new Set(kt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=kt.objectValues(r);return ke(n,{received:n.data,code:me.invalid_enum_value,options:s}),Ze}return Ds(t.data)}get enum(){return this._def.values}}xO.create=(e,t)=>new xO({values:e,typeName:et.ZodNativeEnum,...at(t)});class kv extends St{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Re.promise&&r.common.async===!1)return ke(r,{code:me.invalid_type,expected:Re.promise,received:r.parsedType}),Ze;const n=r.parsedType===Re.promise?r.data:Promise.resolve(r.data);return Ds(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}kv.create=(e,t)=>new kv({type:e,typeName:et.ZodPromise,...at(t)});class id extends St{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{ke(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?Gf(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?Gf(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!nd(o))return Ze;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>nd(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Ze);kt.assertNever(s)}}id.create=(e,t,r)=>new id({schema:e,typeName:et.ZodEffects,effect:t,...at(r)});id.createWithPreprocess=(e,t,r)=>new id({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...at(r)});class Vo extends St{_parse(t){return this._getType(t)===Re.undefined?Ds(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Vo.create=(e,t)=>new Vo({innerType:e,typeName:et.ZodOptional,...at(t)});class od extends St{_parse(t){return this._getType(t)===Re.null?Ds(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}od.create=(e,t)=>new od({innerType:e,typeName:et.ZodNullable,...at(t)});class s_ extends St{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Re.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}s_.create=(e,t)=>new s_({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...at(t)});class a_ extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return jv(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new $i(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new $i(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}a_.create=(e,t)=>new a_({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...at(t)});class bO extends St{_parse(t){if(this._getType(t)!==Re.nan){const n=this._getOrReturnCtx(t);return ke(n,{code:me.invalid_type,expected:Re.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}bO.create=e=>new bO({typeName:et.ZodNaN,...at(e)});class $ee extends St{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class RN extends St{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ze:a.status==="dirty"?(r.dirty(),Gf(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new RN({in:t,out:r,typeName:et.ZodPipeline})}}class i_ extends St{_parse(t){const r=this._def.innerType._parse(t),n=s=>(nd(s)&&(s.value=Object.freeze(s.value)),s);return jv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}i_.create=(e,t)=>new i_({innerType:e,typeName:et.ZodReadonly,...at(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const _e=vi.create;ic.create;oc.create;const Za=_v.create;sd.create;Zo.create;za.create;const dt=_r.create;Sv.create;Nv.create;lc.create;const MN=n_.create,ir=ad.create;kv.create;Vo.create;od.create;const as={string:e=>vi.create({...e,coerce:!0}),number:e=>ic.create({...e,coerce:!0}),boolean:e=>_v.create({...e,coerce:!0}),bigint:e=>oc.create({...e,coerce:!0}),date:e=>sd.create({...e,coerce:!0})};var Iee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dee=Iee.reduce((e,t)=>{const r=Zm(`Primitive.${t}`),n=x.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Lee="Label",bF=x.forwardRef((e,t)=>i.jsx(Dee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));bF.displayName=Lee;var wF=bF;const Fee=sN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=x.forwardRef(({className:e,...t},r)=>i.jsx(wF,{ref:r,className:X(Fee(),e),...t}));G.displayName=wF.displayName;var Ax="Tabs",[Uee]=$s(Ax,[kx]),jF=kx(),[Bee,$N]=Uee(Ax),_F=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Bd(l),[f,h]=Ka({prop:n,onChange:s,defaultProp:a??"",caller:Ax});return i.jsx(Bee,{scope:r,baseId:Es(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:i.jsx(Ye.div,{dir:d,"data-orientation":o,...u,ref:t})})});_F.displayName=Ax;var SF="TabsList",NF=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=$N(SF,r),o=jF(r);return i.jsx(fL,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Ye.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});NF.displayName=SF;var kF="TabsTrigger",CF=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=$N(kF,r),l=jF(r),c=PF(o.baseId,n),u=AF(o.baseId,n),d=n===o.value;return i.jsx(hL,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Ye.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});CF.displayName=kF;var EF="TabsContent",OF=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=$N(EF,r),c=PF(l.baseId,n),u=AF(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),i.jsx(Vn,{present:s||d,children:({present:h})=>i.jsx(Ye.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&a})})});OF.displayName=EF;function PF(e,t){return`${e}-trigger-${t}`}function AF(e,t){return`${e}-content-${t}`}var qee=_F,TF=NF,RF=CF,MF=OF;const ei=qee,ba=x.forwardRef(({className:e,...t},r)=>i.jsx(TF,{ref:r,className:X("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ba.displayName=TF.displayName;const jt=x.forwardRef(({className:e,...t},r)=>i.jsx(RF,{ref:r,className:X("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));jt.displayName=RF.displayName;const _t=x.forwardRef(({className:e,...t},r)=>i.jsx(MF,{ref:r,className:X("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));_t.displayName=MF.displayName;const zee=dt({email:_e().email("Invalid email"),password:_e().min(1,"Password required")});function Wee(){const e=nl(),[t]=EI(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:a,isSubmitting:o}}=lt({resolver:ct(zee)}),l=async u=>{const d=await kH(u.email,u.password);d.success?(W.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):W.error("Sign in failed",{description:d.error})},c=async u=>{const d=await PH(u,{redirectTo:r});d.success||W.error("Sign in failed",{description:d.error})};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(J,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Sign in"}),i.jsx(we,{children:"Choose local-only or cloud-linked mode."})]}),i.jsx(Z,{children:i.jsxs(ei,{defaultValue:"cloud",className:"w-full",children:[i.jsxs(ba,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[i.jsx(jt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),i.jsx(jt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),i.jsxs(_t,{value:"local",className:"space-y-4 pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),i.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:i.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),i.jsxs(_t,{value:"cloud",className:"space-y-4 pt-4",children:[i.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!a.email}),a.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password",children:"Password"}),i.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!a.password}),a.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.password.message})]}),i.jsx("div",{className:"flex items-center justify-between text-sm",children:i.jsx(he,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),i.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-border"})}),i.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[i.jsx(JH,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),i.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",i.jsx(he,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const Vee=dt({email:_e().email("Invalid email"),password:_e().min(8,"At least 8 characters"),confirmPassword:_e()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Kee(){const e=nl(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=lt({resolver:ct(Vee)}),a=async o=>{const l=await AH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(W.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(W.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):W.error("Sign up failed",{description:l.error})};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(J,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Create account"}),i.jsx(we,{children:"Choose local-only or sign up for cloud-linked mode."})]}),i.jsx(Z,{children:i.jsxs(ei,{defaultValue:"cloud",className:"w-full",children:[i.jsxs(ba,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[i.jsx(jt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),i.jsx(jt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),i.jsxs(_t,{value:"local",className:"space-y-4 pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),i.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:i.jsx(he,{to:"/dashboard",children:"Open Local UI"})})]}),i.jsxs(_t,{value:"cloud",className:"space-y-4 pt-4",children:[i.jsxs("form",{onSubmit:r(a),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password",children:"Password"}),i.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"confirmPassword",children:"Confirm password"}),i.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),i.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(he,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const wO={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function Hee(e){if(!e||e.length===0)return{level:"empty",score:0,label:wO.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),a=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:wO[l],minLength:a,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function Gee(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const Yee=dt({email:_e().min(1,"Email is required").email("Enter a valid email address")}),Qee=dt({password:_e().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:_e().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function Xee(){const[e,t]=x.useState("email"),[r,n]=x.useState(!0),s=lt({resolver:ct(Yee),defaultValues:{email:""}}),a=lt({resolver:ct(Qee),defaultValues:{password:"",confirmPassword:""}}),o=a.watch("password",""),l=Hee(o);x.useEffect(()=>{if(!MH()){n(!1);return}B.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await TH(d.email,"/forgot-password");f.success?(t("email_sent"),W.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):W.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await RH(d.password);f.success?(t("success"),W.success("Password updated",{description:"You can now sign in with your new password."}),await B.auth.signOut()):W.error("Could not update password",{description:f.error})};return r?i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[i.jsx(Xu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),i.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:i.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[i.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[i.jsx(Xu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),i.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:i.jsxs(J,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(se,{className:"space-y-1",children:[i.jsx(ie,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),i.jsxs(we,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),i.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&i.jsx(i.Fragment,{children:e==="email"?i.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password-reset-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Kh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),i.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):i.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[i.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),i.jsx(E,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&i.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"new-password",children:"New password"}),i.jsxs("div",{className:"relative",children:[i.jsx(YS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...a.register("password"),"aria-invalid":!!a.formState.errors.password})]}),o.length>0&&i.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-muted-foreground",children:"Strength"}),i.jsx("span",{className:X(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),i.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:i.jsx("div",{className:X("h-full rounded-full transition-all duration-300",Gee(l.level)),style:{width:`${l.score*25}%`}})})]}),a.formState.errors.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.formState.errors.password.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"confirm-password",children:"Confirm password"}),i.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...a.register("confirmPassword"),"aria-invalid":!!a.formState.errors.confirmPassword}),a.formState.errors.confirmPassword&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.formState.errors.confirmPassword.message})]}),i.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:a.formState.isSubmitting,children:a.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&i.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-success/15 p-3",children:i.jsx(Ti,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),i.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:i.jsx(he,{to:"/login",children:"Sign in"})})]}),e!=="success"&&i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:i.jsx(he,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),i.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:i.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:i.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[i.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const Jee=dt({token:_e().min(1,"Enter the verification code from your email")});function Zee(){const e=nl(),[t,r]=x.useState("checking"),[n,s]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(null),u=lt({resolver:ct(Jee),defaultValues:{token:""}});x.useEffect(()=>{let m=!1;async function g(){const p=IH();if(p){const v=await iE(p);m||(v.success?(r("verified"),W.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):W.error("Verification failed",{description:v.error}));return}const y=await DH();if(m)return;if(y){r("verified");return}const{data:{user:b}}=await B.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await iE(m.token);g.success?(r("verified"),u.reset(),W.success("Email verified",{description:"Your email has been confirmed."})):W.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await $H();o(!1),s(!1),m.success?W.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):W.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[i.jsx(Xu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),i.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:i.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[i.jsx(hn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[i.jsxs(he,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[i.jsx(Xu,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),i.jsx(he,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:i.jsxs(J,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(se,{className:"space-y-1",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-xl font-semibold",children:[i.jsx(Kh,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),i.jsxs(we,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(o4,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):i.jsxs(i.Fragment,{children:[i.jsx(Kh,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?i.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),i.jsx(E,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),i.jsx(E,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:i.jsx(he,{to:"/profile",children:"Go to profile"})})]}):i.jsxs(i.Fragment,{children:[i.jsx(E,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),i.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"verify-token",children:"Or enter code manually"}),i.jsxs("div",{className:"relative",children:[i.jsx(Wh,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),i.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):i.jsxs(i.Fragment,{children:[i.jsx(Ju,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),i.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:i.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:i.jsxs(he,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[i.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),i.jsx(qe,{open:n,onOpenChange:s,children:i.jsxs(Le,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Resend verification email"}),i.jsx(Be,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:a,children:"Cancel"}),i.jsx(E,{type:"button",onClick:f,disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function de({className:e,...t}){return i.jsx("div",{className:X("animate-pulse rounded-md bg-muted",e),...t})}function $F(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Tx="Switch",[ete]=$s(Tx),[tte,rte]=ete(Tx),IF=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=ot(t,w=>m(w)),p=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,v]=Ka({prop:s,defaultProp:a??!1,onChange:u,caller:Tx});return i.jsxs(tte,{scope:r,checked:b,disabled:l,children:[i.jsx(Ye.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":UF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ee(e.onClick,w=>{v(S=>!S),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&i.jsx(FF,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});IF.displayName=Tx;var DF="SwitchThumb",LF=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=rte(DF,r);return i.jsx(Ye.span,{"data-state":UF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});LF.displayName=DF;var nte="SwitchBubbleInput",FF=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=x.useRef(null),l=ot(o,a),c=$F(r),u=HD(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});FF.displayName=nte;function UF(e){return e?"checked":"unchecked"}var BF=IF,ste=LF;const Ur=x.forwardRef(({className:e,...t},r)=>i.jsx(BF,{className:X("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:i.jsx(ste,{className:X("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Ur.displayName=BF.displayName;const ate="http://localhost:3000/api";async function wf(e,t={}){const r=`${ate}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const a=await fetch(r,{...t,headers:n});if(!a.ok)throw a.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${a.status}`);const o=await a.text();if(o)return JSON.parse(o)}const je={get:e=>wf(e),post:(e,t)=>wf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>wf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>wf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>wf(e,{method:"DELETE"})},Hs="/profile",wa={getProfile:()=>je.get(`${Hs}`),updateProfile:e=>je.patch(`${Hs}`,e),getOAuthAccounts:()=>je.get(`${Hs}/oauth-accounts`),unlinkOAuthAccount:e=>je.delete(`${Hs}/oauth-accounts/${e}`),getDeviceSessions:()=>je.get(`${Hs}/sessions`),revokeSession:e=>je.delete(`${Hs}/sessions/${e}`),getApiKeys:()=>je.get(`${Hs}/api-keys`),createApiKey:e=>je.post(`${Hs}/api-keys`,e),revokeApiKey:e=>je.delete(`${Hs}/api-keys/${e}`),getSecuritySettings:()=>je.get(`${Hs}/security-settings`),updateSecuritySettings:e=>je.patch(`${Hs}/security-settings`,e)},fn={all:["profile"],profile:()=>[...fn.all,"detail"],oauthAccounts:()=>[...fn.all,"oauth-accounts"],sessions:()=>[...fn.all,"sessions"],apiKeys:()=>[...fn.all,"api-keys"],securitySettings:()=>[...fn.all,"security-settings"]};function ap(e,t){return e().catch(()=>t)}function Rx(){return Oe({queryKey:fn.profile(),queryFn:()=>ap(wa.getProfile,null)})}function ite(){const e=ye();return ve({mutationFn:t=>wa.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.profile()}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function ote(){return Oe({queryKey:fn.oauthAccounts(),queryFn:()=>ap(wa.getOAuthAccounts,[])})}function lte(){const e=ye();return ve({mutationFn:t=>wa.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.oauthAccounts()}),W.success("Account unlinked")},onError:t=>{W.error(t.message||"Failed to unlink account")}})}function cte(){return Oe({queryKey:fn.sessions(),queryFn:()=>ap(wa.getDeviceSessions,[])})}function ute(){const e=ye();return ve({mutationFn:t=>wa.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.sessions()}),W.success("Session revoked")},onError:t=>{W.error(t.message||"Failed to revoke session")}})}function dte(){return Oe({queryKey:fn.apiKeys(),queryFn:()=>ap(wa.getApiKeys,[])})}function fte(){const e=ye();return ve({mutationFn:t=>wa.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.apiKeys()}),W.success("API key created")},onError:t=>{W.error(t.message||"Failed to create API key")}})}function hte(){const e=ye();return ve({mutationFn:t=>wa.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.apiKeys()}),W.success("API key revoked")},onError:t=>{W.error(t.message||"Failed to revoke API key")}})}function qF(){return Oe({queryKey:fn.securitySettings(),queryFn:()=>ap(wa.getSecuritySettings,null)})}function zF(){const e=ye();return ve({mutationFn:t=>wa.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.securitySettings()}),W.success("Security settings updated")},onError:t=>{W.error(t.message||"Failed to update security settings")}})}function Ut(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ii(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function mte(e,t){const r=Ut(e);return isNaN(t)?Ii(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const WF=6048e5,pte=864e5,VF=6e4,KF=36e5,Yp=43200,jO=1440;let gte={};function ip(){return gte}function em(e,t){var l,c,u,d;const r=ip(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ut(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Cv(e){return em(e,{weekStartsOn:1})}function HF(e){const t=Ut(e),r=t.getFullYear(),n=Ii(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Cv(n),a=Ii(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Cv(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function _O(e){const t=Ut(e);return t.setHours(0,0,0,0),t}function Ev(e){const t=Ut(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function vte(e,t){const r=_O(e),n=_O(t),s=+r-Ev(r),a=+n-Ev(n);return Math.round((s-a)/pte)}function yte(e){const t=HF(e),r=Ii(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Cv(r)}function Ag(e,t){const r=Ut(e),n=Ut(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function xte(e){return Ii(e,Date.now())}function bte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function wte(e){if(!bte(e)&&typeof e!="number")return!1;const t=Ut(e);return!isNaN(Number(t))}function jte(e,t){const r=Ut(e),n=Ut(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function _te(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Ste(e,t){return+Ut(e)-+Ut(t)}function Nte(e){const t=Ut(e);return t.setHours(23,59,59,999),t}function kte(e){const t=Ut(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cte(e){const t=Ut(e);return+Nte(t)==+kte(t)}function Ete(e,t){const r=Ut(e),n=Ut(t),s=Ag(r,n),a=Math.abs(jte(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Ag(r,n)===-s;Cte(Ut(e))&&a===1&&Ag(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function Ote(e,t,r){const n=Ste(e,t)/1e3;return _te(r==null?void 0:r.roundingMethod)(n)}function Pte(e){const t=Ut(e),r=Ii(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ate={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Tte=(e,t,r)=>{let n;const s=Ate[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ow(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Rte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Mte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$te={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ite={date:Ow({formats:Rte,defaultWidth:"full"}),time:Ow({formats:Mte,defaultWidth:"full"}),dateTime:Ow({formats:$te,defaultWidth:"full"})},Dte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Lte=(e,t,r,n)=>Dte[e];function jf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const Fte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ute={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},qte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},zte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Wte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Kte={ordinalNumber:Vte,era:jf({values:Fte,defaultWidth:"wide"}),quarter:jf({values:Ute,defaultWidth:"wide",argumentCallback:e=>e-1}),month:jf({values:Bte,defaultWidth:"wide"}),day:jf({values:qte,defaultWidth:"wide"}),dayPeriod:jf({values:zte,defaultWidth:"wide",formattingValues:Wte,defaultFormattingWidth:"wide"})};function _f(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Gte(l,f=>f.test(o)):Hte(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function Hte(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Gte(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Yte(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const Qte=/^(\d+)(th|st|nd|rd)?/i,Xte=/\d+/i,Jte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Zte={any:[/^b/i,/^(a|c)/i]},ere={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tre={any:[/1/i,/2/i,/3/i,/4/i]},rre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},nre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},are={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ire={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ore={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lre={ordinalNumber:Yte({matchPattern:Qte,parsePattern:Xte,valueCallback:e=>parseInt(e,10)}),era:_f({matchPatterns:Jte,defaultMatchWidth:"wide",parsePatterns:Zte,defaultParseWidth:"any"}),quarter:_f({matchPatterns:ere,defaultMatchWidth:"wide",parsePatterns:tre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:_f({matchPatterns:rre,defaultMatchWidth:"wide",parsePatterns:nre,defaultParseWidth:"any"}),day:_f({matchPatterns:sre,defaultMatchWidth:"wide",parsePatterns:are,defaultParseWidth:"any"}),dayPeriod:_f({matchPatterns:ire,defaultMatchWidth:"any",parsePatterns:ore,defaultParseWidth:"any"})},GF={code:"en-US",formatDistance:Tte,formatLong:Ite,formatRelative:Lte,localize:Kte,match:lre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cre(e){const t=Ut(e);return vte(t,Pte(t))+1}function ure(e){const t=Ut(e),r=+Cv(t)-+yte(t);return Math.round(r/WF)+1}function YF(e,t){var d,f,h,m;const r=Ut(e),n=r.getFullYear(),s=ip(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ii(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=em(o,t),c=Ii(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=em(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function dre(e,t){var l,c,u,d;const r=ip(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=YF(e,t),a=Ii(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),em(a,t)}function fre(e,t){const r=Ut(e),n=+em(r,t)-+dre(r,t);return Math.round(n/WF)+1}function Mt(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const so={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Mt(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Mt(r+1,2)},d(e,t){return Mt(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Mt(e.getHours()%12||12,t.length)},H(e,t){return Mt(e.getHours(),t.length)},m(e,t){return Mt(e.getMinutes(),t.length)},s(e,t){return Mt(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Mt(s,t.length)}},Wc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},SO={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return so.y(e,t)},Y:function(e,t,r,n){const s=YF(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return Mt(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):Mt(a,t.length)},R:function(e,t){const r=HF(e);return Mt(r,t.length)},u:function(e,t){const r=e.getFullYear();return Mt(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Mt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Mt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return so.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Mt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=fre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):Mt(s,t.length)},I:function(e,t,r){const n=ure(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Mt(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):so.d(e,t)},D:function(e,t,r){const n=cre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Mt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Mt(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Mt(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return Mt(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Wc.noon:n===0?s=Wc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Wc.evening:n>=12?s=Wc.afternoon:n>=4?s=Wc.morning:s=Wc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return so.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):so.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Mt(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):so.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):so.s(e,t)},S:function(e,t){return so.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return kO(n);case"XXXX":case"XX":return xl(n);case"XXXXX":case"XXX":default:return xl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return kO(n);case"xxxx":case"xx":return xl(n);case"xxxxx":case"xxx":default:return xl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+NO(n,":");case"OOOO":default:return"GMT"+xl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+NO(n,":");case"zzzz":default:return"GMT"+xl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return Mt(n,t.length)},T:function(e,t,r){const n=e.getTime();return Mt(n,t.length)}};function NO(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+Mt(a,2)}function kO(e,t){return e%60===0?(e>0?"-":"+")+Mt(Math.abs(e)/60,2):xl(e,t)}function xl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Mt(Math.trunc(n/60),2),a=Mt(n%60,2);return r+s+t+a}const CO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},QF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},hre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return CO(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",CO(n,t)).replace("{{time}}",QF(s,t))},mre={p:QF,P:hre},pre=/^D+$/,gre=/^Y+$/,vre=["D","DD","YY","YYYY"];function yre(e){return pre.test(e)}function xre(e){return gre.test(e)}function bre(e,t,r){const n=wre(e,t,r);if(console.warn(n),vre.includes(e))throw new RangeError(n)}function wre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Sre=/^'([^]*?)'?$/,Nre=/''/g,kre=/[a-zA-Z]/;function hu(e,t,r){var d,f,h,m;const n=ip(),s=n.locale??GF,a=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Ut(e);if(!wte(l))throw new RangeError("Invalid time value");let c=t.match(_re).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=mre[p];return y(g,s.formatLong)}return g}).join("").match(jre).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Cre(g)};if(SO[p])return{isToken:!0,value:g};if(p.match(kre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(xre(p)||yre(p))&&bre(p,t,String(e));const y=SO[p[0]];return y(l,p,s.localize,u)}).join("")}function Cre(e){const t=e.match(Sre);return t?t[1].replace(Nre,"'"):e}function Ere(e,t,r){const n=ip(),s=(r==null?void 0:r.locale)??n.locale??GF,a=2520,o=Ag(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Ut(t),u=Ut(e)):(c=Ut(e),u=Ut(t));const d=Ote(u,c),f=(Ev(u)-Ev(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<jO){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<Yp){const g=Math.round(h/jO);return s.formatDistance("xDays",g,l)}else if(h<Yp*2)return m=Math.round(h/Yp),s.formatDistance("aboutXMonths",m,l)}if(m=Ete(u,c),m<12){const g=Math.round(h/Yp);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Br(e,t){return Ere(e,xte(e),t)}function XF(e,t){return mte(e,-t)}function Sf(e,t){const n=Tre(e);let s;if(n.date){const c=Rre(n.date,2);s=Mre(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let o=0,l;if(n.time&&(o=$re(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Ire(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const Qp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ore=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Pre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Are=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Tre(e){const t={},r=e.split(Qp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Qp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Qp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Qp.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Rre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((n[1]||n[2]).length)}}function Mre(e,t){if(t===null)return new Date(NaN);const r=e.match(Ore);if(!r)return new Date(NaN);const n=!!r[4],s=Nf(r[1]),a=Nf(r[2])-1,o=Nf(r[3]),l=Nf(r[4]),c=Nf(r[5])-1;if(n)return Bre(t,l,c)?Dre(t,l,c):new Date(NaN);{const u=new Date(0);return!Fre(t,a,o)||!Ure(t,s)?new Date(NaN):(u.setUTCFullYear(t,a,Math.max(s,o)),u)}}function Nf(e){return e?parseInt(e):1}function $re(e){const t=e.match(Pre);if(!t)return NaN;const r=Pw(t[1]),n=Pw(t[2]),s=Pw(t[3]);return qre(r,n,s)?r*KF+n*VF+s*1e3:NaN}function Pw(e){return e&&parseFloat(e.replace(",","."))||0}function Ire(e){if(e==="Z")return 0;const t=e.match(Are);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return zre(n,s)?r*(n*KF+s*VF):NaN}function Dre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,a=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+a),n}const Lre=[31,null,31,30,31,30,31,31,30,31,30,31];function JF(e){return e%400===0||e%4===0&&e%100!==0}function Fre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Lre[t]||(JF(e)?29:28))}function Ure(e,t){return t>=1&&t<=(JF(e)?366:365)}function Bre(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function qre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function zre(e,t){return t>=0&&t<=59}const Wre=dt({name:_e().min(1,"Name is required").max(64),scope:_e().min(1,"Scope is required").max(128)}),Vre={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function Kre(){const{data:e,isLoading:t}=Rx(),r=ite(),[n,s]=x.useState(!1),[a,o]=x.useState((e==null?void 0:e.display_name)??"");if(x.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-32"}),i.jsx(de,{className:"h-4 w-48 mt-2"})]}),i.jsxs(Z,{className:"flex items-center gap-4",children:[i.jsx(de,{className:"h-16 w-16 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-5 w-40"}),i.jsx(de,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:a||null},{onSuccess:()=>s(!1)})};return i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(lx,{className:"h-5 w-5"}),"Profile summary"]}),i.jsx(we,{children:"Account and avatar."})]}),i.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[i.jsxs(yx,{className:"h-16 w-16 shrink-0",children:[i.jsx(fN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),i.jsx(xx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),i.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(ge,{value:a,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),i.jsx(E,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?i.jsx(hn,{className:"h-4 w-4 animate-spin"}):"Save"}),i.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium truncate",children:l}),i.jsx(E,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",i.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function Hre(){const{data:e,isLoading:t}=ote(),r=lte(),[n,s]=x.useState(null);if(t)return i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-40"}),i.jsx(de,{className:"h-4 w-56 mt-2"})]}),i.jsxs(Z,{children:[i.jsx(de,{className:"h-12 w-full"}),i.jsx(de,{className:"h-12 w-full mt-2"})]})]});const a=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(d7,{className:"h-5 w-5"}),"Connected accounts"]}),i.jsx(we,{children:"OAuth and linked accounts; unlink here."})]}),i.jsx(Z,{children:a.length===0?i.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):i.jsx("ul",{className:"space-y-2",children:a.map(o=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsx("span",{className:"font-medium",children:Vre[o.provider]??o.provider}),i.jsx(E,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),i.jsx(qe,{open:!!n,onOpenChange:()=>s(null),children:i.jsxs(Le,{showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Unlink account"}),i.jsx(Be,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),i.jsx(E,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?i.jsx(hn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function Gre(){const{data:e,isLoading:t}=cte(),{data:r,isLoading:n}=qF(),s=zF(),a=ute(),[o,l]=x.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-24"}),i.jsx(de,{className:"h-4 w-48 mt-2"})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx(de,{className:"h-10 w-32"}),i.jsx(de,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5"}),"Security"]}),i.jsx(we,{children:"Password, 2FA, active sessions."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(he,{to:"/forgot-password",children:"Change password"})}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[i.jsx(G,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),i.jsx(Ur,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),i.jsx(cN,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):i.jsx("ul",{className:"space-y-2",children:d.map(f=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ax,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:f.device_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Br(new Date(f.last_active_at),{addSuffix:!0})})]})]}),i.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:a.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),i.jsx(qe,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Le,{showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Revoke session"}),i.jsx(Be,{children:"This device will be signed out. Are you sure?"})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(E,{variant:"destructive",onClick:()=>{o&&a.mutate(o,{onSuccess:()=>l(null)})},disabled:a.isPending,children:a.isPending?i.jsx(hn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function Yre(){const{data:e,isLoading:t}=dte(),r=fte(),n=hte(),[s,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),d=lt({resolver:ct(Wre),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-24"}),i.jsx(de,{className:"h-4 w-40 mt-2"})]}),i.jsxs(Z,{children:[i.jsx(de,{className:"h-10 w-28"}),i.jsx(de,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Vh,{className:"h-5 w-5"}),"API Keys"]}),i.jsx(we,{children:"Create and manage scoped API keys for integrations."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx(E,{variant:"outline",size:"sm",onClick:()=>{a(!0),u(null)},children:"Create API key"}),h.length===0?i.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[i.jsx(Wh,{className:"mx-auto h-10 w-10 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):i.jsx("ul",{className:"space-y-2",children:h.map(m=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:m.name}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),i.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),i.jsx(qe,{open:s,onOpenChange:a,children:i.jsxs(Le,{showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Create API key"}),i.jsx(Be,{children:"Choose a name and scope. The key value is shown only once."})]}),c?i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Your new key (copy now)"}),i.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),i.jsx(Ve,{children:i.jsx(E,{onClick:()=>a(!1),children:"Done"})})]}):i.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"key-name",children:"Name"}),i.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&i.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"key-scope",children:"Scope"}),i.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&i.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:r.isPending,children:r.isPending?i.jsx(hn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),i.jsx(qe,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(Le,{showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Revoke API key"}),i.jsx(Be,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(E,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?i.jsx(hn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function Qre(){const{data:e,isLoading:t}=qF(),r=zF(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-48"}),i.jsx(de,{className:"h-4 w-64 mt-2"})]}),i.jsx(Z,{children:i.jsx(de,{className:"h-6 w-full"})})]}):i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Wh,{className:"h-5 w-5"}),"Keychain / 1Password"]}),i.jsx(we,{children:"Use 1Password or system keychain for secure login and autofill."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[i.jsx(G,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),i.jsx(Ur,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function Xre(){return i.jsxs("div",{className:X("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),i.jsx(Kre,{}),i.jsx(Hre,{}),i.jsx(Gre,{}),i.jsx(Yre,{}),i.jsx(Qre,{}),i.jsx("div",{className:"flex justify-end",children:i.jsx(E,{asChild:!0,children:i.jsx(he,{to:"/settings",children:"Settings"})})})]})}function Jre(){return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(J,{className:"w-full max-w-md animate-fade-in-up",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(zn,{className:"h-5 w-5"}),"Install Gateway"]}),i.jsx(we,{children:"Download the Clawgate gateway for your platform."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),i.jsx(E,{asChild:!0,className:"w-full",children:i.jsx(he,{to:"/dashboard",children:"Open Local UI"})}),i.jsx(E,{variant:"outline",asChild:!0,className:"w-full",children:i.jsx(he,{to:"/",children:"Back to home"})})]})]})})}const Zre=sN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function Xe({className:e,variant:t,...r}){return i.jsx("div",{className:X(Zre({variant:t}),e),...r})}const Qt="/dashboard",Cn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Qt}/activities${t?`?${t}`:""}`)},getActivity:e=>je.get(`${Qt}/activities/${e}`),createActivity:e=>je.post(`${Qt}/activities`,e),deleteActivity:e=>je.delete(`${Qt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Qt}/runs${t?`?${t}`:""}`)},getRun:e=>je.get(`${Qt}/runs/${e}`),createRun:e=>je.post(`${Qt}/runs`,e),updateRun:(e,t)=>je.patch(`${Qt}/runs/${e}`,t),abortRun:e=>je.post(`${Qt}/runs/${e}/abort`,{}),getCronJobs:()=>je.get(`${Qt}/cron-jobs`),getCronJob:e=>je.get(`${Qt}/cron-jobs/${e}`),createCronJob:e=>je.post(`${Qt}/cron-jobs`,e),updateCronJob:(e,t)=>je.patch(`${Qt}/cron-jobs/${e}`,t),deleteCronJob:e=>je.delete(`${Qt}/cron-jobs/${e}`),runCronJobNow:e=>je.post(`${Qt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return je.get(`${Qt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>je.get(`${Qt}/nodes`),getNode:e=>je.get(`${Qt}/nodes/${e}`),createNode:e=>je.post(`${Qt}/nodes`,e),updateNode:(e,t)=>je.patch(`${Qt}/nodes/${e}`,t),deleteNode:e=>je.delete(`${Qt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Qt}/alerts${t?`?${t}`:""}`)},getAlert:e=>je.get(`${Qt}/alerts/${e}`),updateAlert:(e,t)=>je.patch(`${Qt}/alerts/${e}`,t),quickRun:e=>je.post(`${Qt}/quick-run`,e)};function Wd(e,t){return e().catch(()=>t)}const Nt={all:["dashboard"],activities:e=>[...Nt.all,"activities",e],activity:e=>[...Nt.all,"activity",e],runs:e=>[...Nt.all,"runs",e],run:e=>[...Nt.all,"run",e],cronJobs:()=>[...Nt.all,"cron-jobs"],cronJob:e=>[...Nt.all,"cron-job",e],cronRunHistory:(e,t)=>[...Nt.all,"cron-run-history",e,t],nodes:()=>[...Nt.all,"nodes"],node:e=>[...Nt.all,"node",e],alerts:e=>[...Nt.all,"alerts",e],alert:e=>[...Nt.all,"alert",e]};function ene(e){return Oe({queryKey:Nt.activities(e),queryFn:()=>Wd(()=>Cn.getActivities(e),[])})}function tne(){const e=ye();return ve({mutationFn:t=>Cn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.activities()}),W.success("Activity removed")},onError:t=>{W.error(t.message||"Failed to remove activity")}})}function rne(e){return Oe({queryKey:Nt.runs(e),queryFn:()=>Wd(()=>Cn.getRuns(e),[])})}function nne(){const e=ye();return ve({mutationFn:t=>Cn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.runs()}),W.success("Run aborted")},onError:t=>{W.error(t.message||"Failed to abort run")}})}function ZF(){return Oe({queryKey:Nt.cronJobs(),queryFn:()=>Wd(()=>Cn.getCronJobs(),[])})}function e3(){const e=ye();return ve({mutationFn:t=>Cn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.cronJobs()}),W.success("Cron job created")},onError:t=>{W.error(t.message||"Failed to create cron job")}})}function sne(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Cn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Nt.cronJobs()}),e.invalidateQueries({queryKey:Nt.cronJob(r)}),W.success("Cron job updated")},onError:t=>{W.error(t.message||"Failed to update cron job")}})}function ane(){const e=ye();return ve({mutationFn:t=>Cn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.cronJobs()}),W.success("Cron job deleted")},onError:t=>{W.error(t.message||"Failed to delete cron job")}})}function ine(e,t){return Oe({queryKey:Nt.cronRunHistory(e??"",t),queryFn:()=>e?Wd(()=>Cn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function one(){const e=ye();return ve({mutationFn:t=>Cn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Nt.cronJobs()}),e.invalidateQueries({queryKey:Nt.cronRunHistory(r)}),e.invalidateQueries({queryKey:Nt.runs()}),W.success("Job started")},onError:t=>{W.error(t.message||"Failed to run job")}})}function t3(){return Oe({queryKey:Nt.nodes(),queryFn:()=>Wd(()=>Cn.getNodes(),[])})}function lne(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Cn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Nt.nodes()}),e.invalidateQueries({queryKey:Nt.node(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function cne(e){return Oe({queryKey:Nt.alerts(e),queryFn:()=>Wd(()=>Cn.getAlerts(e),[])})}function une(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Cn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Nt.alerts()}),e.invalidateQueries({queryKey:Nt.alert(r)}),W.success("Alert updated")},onError:t=>{W.error(t.message||"Failed to update alert")}})}function dne(){const e=ye();return ve({mutationFn:t=>Cn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Nt.activities()}),e.invalidateQueries({queryKey:Nt.runs()}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}const EO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function fne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Activity details"}),i.jsxs(Be,{id:"activity-detail-description",children:[EO[e.activity_type]??e.activity_type," "," ",Br(new Date(e.created_at),{addSuffix:!0})]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),i.jsx("p",{className:"text-sm",children:EO[e.activity_type]??e.activity_type})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),i.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),i.jsxs(Ve,{children:[n&&i.jsx(E,{variant:"destructive",onClick:s,children:"Remove"}),i.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function hne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const a=()=>{n(e.id),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{"aria-describedby":"run-abort-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Abort run?"}),i.jsxs(Be,{id:"run-abort-description",children:["This will stop the run that started"," ",Br(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(E,{variant:"destructive",onClick:a,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function mne(e){const t=pne(e),r=x.forwardRef((n,s)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(vne);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return i.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function pne(e){const t=x.forwardRef((r,n)=>{const{children:s,...a}=r;if(x.isValidElement(s)){const o=xne(s),l=yne(a,s.props);return s.type!==x.Fragment&&(l.ref=n?Vi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gne=Symbol("radix.slottable");function vne(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gne}function yne(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function xne(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var r3=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),bne="VisuallyHidden",wne=x.forwardRef((e,t)=>i.jsx(Ye.span,{...e,ref:t,style:{...r3,...e.style}}));wne.displayName=bne;var jne=[" ","Enter","ArrowUp","ArrowDown"],_ne=[" ","Enter"],cc="Select",[Mx,$x,Sne]=bx(cc),[Vd]=$s(cc,[Sne,Nx]),Ix=Nx(),[Nne,sl]=Vd(cc),[kne,Cne]=Vd(cc),n3=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Ix(t),[y,b]=x.useState(null),[v,w]=x.useState(null),[S,j]=x.useState(!1),_=Bd(u),[N,k]=Ka({prop:n,defaultProp:s??!1,onChange:a,caller:cc}),[C,A]=Ka({prop:o,defaultProp:l,onChange:c,caller:cc}),I=x.useRef(null),O=y?g||!!y.closest("form"):!0,[U,T]=x.useState(new Set),q=Array.from(U).map(R=>R.props.value).join(";");return i.jsx(nL,{...p,children:i.jsxs(Nne,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:S,onValueNodeHasChildrenChange:j,contentId:Es(),value:C,onValueChange:A,open:N,onOpenChange:k,dir:_,triggerPointerDownPosRef:I,disabled:h,children:[i.jsx(Mx.Provider,{scope:t,children:i.jsx(kne,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(R=>{T(z=>new Set(z).add(R))},[]),onNativeOptionRemove:x.useCallback(R=>{T(z=>{const D=new Set(z);return D.delete(R),D})},[]),children:r})}),O?i.jsxs(C3,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:R=>A(R.target.value),disabled:h,form:g,children:[C===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},q):null]})})};n3.displayName=cc;var s3="SelectTrigger",a3=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Ix(r),o=sl(s3,r),l=o.disabled||n,c=ot(t,o.onTriggerChange),u=$x(r),d=x.useRef("touch"),[f,h,m]=O3(p=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),v=P3(y,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return i.jsx(sL,{asChild:!0,...a,children:i.jsx(Ye.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":E3(o.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ee(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&jne.includes(p.key)&&(g(),p.preventDefault())})})})});a3.displayName=s3;var i3="SelectValue",o3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=sl(i3,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=ot(t,c.onValueNodeChange);return yr(()=>{u(d)},[u,d]),i.jsx(Ye.span,{...l,ref:f,style:{pointerEvents:"none"},children:E3(c.value)?i.jsx(i.Fragment,{children:o}):a})});o3.displayName=i3;var Ene="SelectIcon",l3=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Ye.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});l3.displayName=Ene;var One="SelectPortal",c3=e=>i.jsx(fx,{asChild:!0,...e});c3.displayName=One;var uc="SelectContent",u3=x.forwardRef((e,t)=>{const r=sl(uc,e.__scopeSelect),[n,s]=x.useState();if(yr(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Rd.createPortal(i.jsx(d3,{scope:e.__scopeSelect,children:i.jsx(Mx.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(f3,{...e,ref:t})});u3.displayName=uc;var Qs=10,[d3,al]=Vd(uc),Pne="SelectContentImpl",Ane=mne("SelectContent.RemoveScroll"),f3=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...b}=e,v=sl(uc,r),[w,S]=x.useState(null),[j,_]=x.useState(null),N=ot(t,ae=>S(ae)),[k,C]=x.useState(null),[A,I]=x.useState(null),O=$x(r),[U,T]=x.useState(!1),q=x.useRef(!1);x.useEffect(()=>{if(w)return eN(w)},[w]),ZS();const R=x.useCallback(ae=>{const[Ie,...re]=O().map(H=>H.ref.current),[ue]=re.slice(-1),K=document.activeElement;for(const H of ae)if(H===K||(H==null||H.scrollIntoView({block:"nearest"}),H===Ie&&j&&(j.scrollTop=0),H===ue&&j&&(j.scrollTop=j.scrollHeight),H==null||H.focus(),document.activeElement!==K))return},[O,j]),z=x.useCallback(()=>R([k,w]),[R,k,w]);x.useEffect(()=>{U&&z()},[U,z]);const{onOpenChange:D,triggerPointerDownPosRef:M}=v;x.useEffect(()=>{if(w){let ae={x:0,y:0};const Ie=ue=>{var K,H;ae={x:Math.abs(Math.round(ue.pageX)-(((K=M.current)==null?void 0:K.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((H=M.current)==null?void 0:H.y)??0))}},re=ue=>{ae.x<=10&&ae.y<=10?ue.preventDefault():w.contains(ue.target)||D(!1),document.removeEventListener("pointermove",Ie),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",Ie),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ie),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,D,M]),x.useEffect(()=>{const ae=()=>D(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[D]);const[$,ee]=O3(ae=>{const Ie=O().filter(K=>!K.disabled),re=Ie.find(K=>K.ref.current===document.activeElement),ue=P3(Ie,ae,re);ue&&setTimeout(()=>ue.ref.current.focus())}),Y=x.useCallback((ae,Ie,re)=>{const ue=!q.current&&!re;(v.value!==void 0&&v.value===Ie||ue)&&(C(ae),ue&&(q.current=!0))},[v.value]),ce=x.useCallback(()=>w==null?void 0:w.focus(),[w]),xe=x.useCallback((ae,Ie,re)=>{const ue=!q.current&&!re;(v.value!==void 0&&v.value===Ie||ue)&&I(ae)},[v.value]),We=n==="popper"?o_:h3,ne=We===o_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return i.jsx(d3,{scope:r,content:w,viewport:j,onViewportChange:_,itemRefCallback:Y,selectedItem:k,onItemLeave:ce,itemTextRefCallback:xe,focusSelectedItem:z,selectedItemText:A,position:n,isPositioned:U,searchRef:$,children:i.jsx(mx,{as:Ane,allowPinchZoom:!0,children:i.jsx(dx,{asChild:!0,trapped:v.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ee(s,ae=>{var Ie;(Ie=v.trigger)==null||Ie.focus({preventScroll:!0}),ae.preventDefault()}),children:i.jsx(ux,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:i.jsx(We,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ae=>ae.preventDefault(),...b,...ne,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,ae=>{const Ie=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!Ie&&ae.key.length===1&&ee(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let ue=O().filter(K=>!K.disabled).map(K=>K.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const K=ae.target,H=ue.indexOf(K);ue=ue.slice(H+1)}setTimeout(()=>R(ue)),ae.preventDefault()}})})})})})})});f3.displayName=Pne;var Tne="SelectItemAlignedPosition",h3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=sl(uc,r),o=al(uc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=ot(t,N=>d(N)),h=$x(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,w=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&p&&y&&b){const N=a.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=a.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(a.dir!=="rtl"){const K=A.left-k.left,H=C.left-K,Je=N.left-H,Ke=N.width+Je,At=Math.max(Ke,k.width),Et=window.innerWidth-Qs,rr=Kj(H,[Qs,Math.max(Qs,Et-At)]);l.style.minWidth=Ke+"px",l.style.left=rr+"px"}else{const K=k.right-A.right,H=window.innerWidth-C.right-K,Je=window.innerWidth-N.right-H,Ke=N.width+Je,At=Math.max(Ke,k.width),Et=window.innerWidth-Qs,rr=Kj(H,[Qs,Math.max(Qs,Et-At)]);l.style.minWidth=Ke+"px",l.style.right=rr+"px"}const I=h(),O=window.innerHeight-Qs*2,U=p.scrollHeight,T=window.getComputedStyle(u),q=parseInt(T.borderTopWidth,10),R=parseInt(T.paddingTop,10),z=parseInt(T.borderBottomWidth,10),D=parseInt(T.paddingBottom,10),M=q+R+U+D+z,$=Math.min(y.offsetHeight*5,M),ee=window.getComputedStyle(p),Y=parseInt(ee.paddingTop,10),ce=parseInt(ee.paddingBottom,10),xe=N.top+N.height/2-Qs,We=O-xe,ne=y.offsetHeight/2,ae=y.offsetTop+ne,Ie=q+R+ae,re=M-Ie;if(Ie<=xe){const K=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const H=u.clientHeight-p.offsetTop-p.offsetHeight,Je=Math.max(We,ne+(K?ce:0)+H+z),Ke=Ie+Je;l.style.height=Ke+"px"}else{const K=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Je=Math.max(xe,q+p.offsetTop+(K?Y:0)+ne)+re;l.style.height=Je+"px",p.scrollTop=Ie-xe+p.offsetTop}l.style.margin=`${Qs}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,a.trigger,a.valueNode,l,u,p,y,b,a.dir,n]);yr(()=>w(),[w]);const[S,j]=x.useState();yr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const _=x.useCallback(N=>{N&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return i.jsx(Mne,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:i.jsx(Ye.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});h3.displayName=Tne;var Rne="SelectPopperPosition",o_=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Qs,...a}=e,o=Ix(r);return i.jsx(aL,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});o_.displayName=Rne;var[Mne,IN]=Vd(uc,{}),l_="SelectViewport",m3=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=al(l_,r),o=IN(l_,r),l=ot(t,a.onViewportChange),c=x.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Mx.Slot,{scope:r,children:i.jsx(Ye.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-Qs*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(p,y);if(b<g){const v=b+m,w=Math.min(g,v),S=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});m3.displayName=l_;var p3="SelectGroup",[$ne,Ine]=Vd(p3),Dne=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Es();return i.jsx($ne,{scope:r,id:s,children:i.jsx(Ye.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Dne.displayName=p3;var g3="SelectLabel",v3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ine(g3,r);return i.jsx(Ye.div,{id:s.id,...n,ref:t})});v3.displayName=g3;var Ov="SelectItem",[Lne,y3]=Vd(Ov),x3=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=sl(Ov,r),c=al(Ov,r),u=l.value===n,[d,f]=x.useState(a??""),[h,m]=x.useState(!1),g=ot(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),p=Es(),y=x.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(Lne,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:x.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:i.jsx(Mx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Ye.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ee(o.onFocus,()=>m(!0)),onBlur:Ee(o.onBlur,()=>m(!1)),onClick:Ee(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Ee(o.onPointerMove,v=>{var w;y.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(o.onKeyDown,v=>{var S;((S=c.searchRef)==null?void 0:S.current)!==""&&v.key===" "||(_ne.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});x3.displayName=Ov;var Yf="SelectItemText",b3=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=sl(Yf,r),l=al(Yf,r),c=y3(Yf,r),u=Cne(Yf,r),[d,f]=x.useState(null),h=ot(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return yr(()=>(p(g),()=>y(g)),[p,y,g]),i.jsxs(i.Fragment,{children:[i.jsx(Ye.span,{id:c.textId,...a,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Rd.createPortal(a.children,o.valueNode):null]})});b3.displayName=Yf;var w3="SelectItemIndicator",j3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return y3(w3,r).isSelected?i.jsx(Ye.span,{"aria-hidden":!0,...n,ref:t}):null});j3.displayName=w3;var c_="SelectScrollUpButton",_3=x.forwardRef((e,t)=>{const r=al(c_,e.__scopeSelect),n=IN(c_,e.__scopeSelect),[s,a]=x.useState(!1),o=ot(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(N3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_3.displayName=c_;var u_="SelectScrollDownButton",S3=x.forwardRef((e,t)=>{const r=al(u_,e.__scopeSelect),n=IN(u_,e.__scopeSelect),[s,a]=x.useState(!1),o=ot(t,n.onScrollButtonChange);return yr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(N3,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});S3.displayName=u_;var N3=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=al("SelectScrollButton",r),o=x.useRef(null),l=$x(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),yr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ye.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),Fne="SelectSeparator",k3=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ye.div,{"aria-hidden":!0,...n,ref:t})});k3.displayName=Fne;var d_="SelectArrow",Une=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ix(r),a=sl(d_,r),o=al(d_,r);return a.open&&o.position==="popper"?i.jsx(iL,{...s,...n,ref:t}):null});Une.displayName=d_;var Bne="SelectBubbleInput",C3=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),a=ot(n,s),o=$F(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),i.jsx(Ye.select,{...r,style:{...r3,...r.style},ref:a,defaultValue:t})});C3.displayName=Bne;function E3(e){return e===""||e===void 0}function O3(e){const t=Kr(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function P3(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=qne(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function qne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var zne=n3,A3=a3,Wne=o3,Vne=l3,Kne=c3,T3=u3,Hne=m3,R3=v3,M3=x3,Gne=b3,Yne=j3,$3=_3,I3=S3,D3=k3;const xt=zne,bt=Wne,ht=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(A3,{ref:n,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(Vne,{asChild:!0,children:i.jsx(bc,{className:"h-4 w-4 opacity-50"})})]}));ht.displayName=A3.displayName;const L3=x.forwardRef(({className:e,...t},r)=>i.jsx($3,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(i4,{className:"h-4 w-4"})}));L3.displayName=$3.displayName;const F3=x.forwardRef(({className:e,...t},r)=>i.jsx(I3,{ref:r,className:X("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(bc,{className:"h-4 w-4"})}));F3.displayName=I3.displayName;const mt=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(Kne,{children:i.jsxs(T3,{ref:s,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(L3,{}),i.jsx(Hne,{className:X("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(F3,{})]})}));mt.displayName=T3.displayName;const Qne=x.forwardRef(({className:e,...t},r)=>i.jsx(R3,{ref:r,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Qne.displayName=R3.displayName;const Ce=x.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(M3,{ref:n,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Yne,{children:i.jsx(Qm,{className:"h-4 w-4"})})}),i.jsx(Gne,{children:t})]}));Ce.displayName=M3.displayName;const Xne=x.forwardRef(({className:e,...t},r)=>i.jsx(D3,{ref:r,className:X("-mx-1 my-1 h-px bg-muted",e),...t}));Xne.displayName=D3.displayName;const Jne=dt({name:_e().min(1,"Name is required").max(200,"Name too long"),schedule:_e().min(1,"Schedule is required"),description:_e().optional(),payload_json:_e().optional(),session_target:_e().optional(),isolation_setting:Za().optional(),status:ir(["active","paused"]).optional()}),Xp={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function Zne(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function U3({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:a=null}){const o=!!a,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=lt({resolver:ct(Jne),defaultValues:Xp}),m=d("status"),g=d("isolation_setting");x.useEffect(()=>{e&&a?f({name:a.name??a.description??"",schedule:a.schedule,description:a.description??"",payload_json:typeof a.payload=="object"&&Object.keys(a.payload||{}).length>0?JSON.stringify(a.payload,null,2):"{}",session_target:a.session_target??"",isolation_setting:a.isolation_setting??!1,status:a.status==="failed"?"paused":a.status}):e&&!a&&f(Xp)},[e,a,f]);const p=b=>{const v=Zne(b.payload_json??"{}");r(o&&a?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(Xp),t(!1)},y=b=>{b||f(Xp),t(b)};return i.jsx(qe,{open:e,onOpenChange:y,children:i.jsxs(Le,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:o?"Edit cron job":"Create cron job"}),i.jsx(Be,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),i.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"name",children:"Job name"}),i.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&i.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"schedule",children:"Schedule (cron expression)"}),i.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&i.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"description",children:"Description (optional)"}),i.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"payload_json",children:"Payload (JSON)"}),i.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"session_target",children:"Session target"}),i.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"isolation_setting",children:"Isolation"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),i.jsx(Ur,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(xt,{value:m??"active",onValueChange:b=>u("status",b),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"active",children:"Active"}),i.jsx(Ce,{value:"paused",children:"Paused"})]})]})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Aw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},ese={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},tse={paired:"success",offline:"destructive",error:"warning"};function B3({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[a,o]=x.useState((e==null?void 0:e.connection_health)??"unknown");if(x.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,a),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{className:"max-w-md","aria-describedby":"node-health-description",children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Ua,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),i.jsx(Be,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),i.jsx(Xe,{variant:tse[e.status],children:e.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),i.jsxs(Xe,{variant:ese[l],children:[l==="healthy"&&i.jsx(XS,{className:"mr-1 h-3 w-3"}),l==="offline"&&i.jsx(w4,{className:"mr-1 h-3 w-3"}),Aw[l]]})]}),(u=e.capabilities)!=null&&u.length?i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>i.jsx(Xe,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Update connection health"}),i.jsxs(xt,{value:a,onValueChange:d=>o(d),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsx(mt,{children:Object.keys(Aw).map(d=>i.jsx(Ce,{value:d,children:Aw[d]},d))})]})]})]}),n&&i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(E,{onClick:c,disabled:s||a===l,children:s?"Saving":"Save"})]})]})})}const rse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},nse=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function sse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const a=o=>{n==null||n(e.id,o),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(wc,{className:X("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),i.jsx(Be,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:i.jsx("p",{className:"text-sm",children:e.description})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),i.jsx("span",{className:X("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:rse[e.severity]})]}),n&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Resolution status"}),i.jsxs(xt,{value:e.resolution_status,onValueChange:o=>a(o),disabled:s,children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsx(mt,{children:nse.map(o=>i.jsx(Ce,{value:o.value,children:o.label},o.value))})]})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&i.jsx(E,{onClick:()=>a("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const OO={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},ase={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},ise={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function ose(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,a]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(null),{data:y}=Rx(),b=(y==null?void 0:y.user_id)??"",{data:v=[],isLoading:w}=ene({limit:20,type:r||void 0}),{data:S=[],isLoading:j}=rne({status:"running",limit:10}),{data:_=[],isLoading:N}=ZF(),{data:k=[],isLoading:C}=t3(),{data:A=[],isLoading:I}=cne({resolution_status:"open"}),O=dne(),U=nne(),T=e3(),q=tne(),R=une(),z=lne(),D=()=>{const $=e.trim();$&&O.mutate({message:$},{onSuccess:()=>t("")})},M=r?v.filter($=>$.activity_type===r):v;return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:i.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:S.length,icon:ji,href:"/chat"},{title:"Cron jobs",value:_.length,icon:Ym,href:"/cron"},{title:"Nodes",value:k.length,icon:Ua,href:"/nodes"},{title:"Alerts",value:A.length,icon:Fr,href:"/security"}].map(({title:$,value:ee,icon:Y,href:ce})=>i.jsx(he,{to:ce,children:i.jsxs(J,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:$}),i.jsx(Y,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Z,{children:i.jsx("div",{className:"text-2xl font-bold",children:ee})})]})},$))}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(J,{className:"flex flex-col",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qS,{className:"h-5 w-5"}),"Recent activity"]}),i.jsxs("select",{value:r,onChange:$=>n($.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[i.jsx("option",{value:"",children:"All"}),Object.entries(OO).map(([$,ee])=>i.jsx("option",{value:$,children:ee},$))]})]}),i.jsx(Z,{className:"flex-1 overflow-hidden",children:i.jsx(yt,{className:"h-[280px] pr-4",children:w?i.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>i.jsx(de,{className:"h-14 w-full rounded-lg"},$))}):M.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):i.jsx("ul",{className:"space-y-2",children:M.map($=>i.jsx("li",{children:i.jsxs("div",{className:X("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===$.id&&"ring-2 ring-ring"),children:[i.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>a(s===$.id?null:$.id),"aria-expanded":s===$.id,children:[s===$.id?i.jsx(bc,{className:"h-4 w-4 shrink-0"}):i.jsx(qn,{className:"h-4 w-4 shrink-0"}),i.jsx(Xe,{variant:"secondary",className:"text-xs",children:OO[$.activity_type]??$.activity_type}),i.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Br(new Date($.created_at),{addSuffix:!0})})]}),s===$.id&&i.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:i.jsx(E,{variant:"outline",size:"sm",onClick:()=>l($),children:"View details"})})]})},$.id))})})})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Jm,{className:"h-5 w-5"}),"Quick Run"]}),i.jsx(we,{children:"Send a message to the default session or channel."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:$=>t($.target.value),onKeyDown:$=>$.key==="Enter"&&D(),"aria-label":"Quick run message"}),i.jsx(E,{onClick:D,disabled:!e.trim()||O.isPending,children:O.isPending?i.jsx("span",{className:"animate-pulse",children:"Sending"}):i.jsx(Ju,{className:"h-4 w-4"})})]})})]})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Active runs"}),i.jsx(we,{children:"Stream and abort running jobs."})]}),i.jsx(Z,{children:j?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):S.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):i.jsx("ul",{className:"space-y-2",children:S.map($=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xe,{variant:ase[$.status],children:$.status}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Br(new Date($.start_time),{addSuffix:!0})]})]}),i.jsxs(E,{variant:"destructive",size:"sm",onClick:()=>u($),disabled:$.status!=="running",children:[i.jsx(WS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},$.id))})})]}),i.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[i.jsxs(J,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsx(ie,{children:"Cron overview"}),i.jsxs(E,{size:"sm",onClick:()=>f(!0),children:[i.jsx($t,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),i.jsx(Z,{children:N?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-10 w-full rounded-lg"}),i.jsx(de,{className:"h-10 w-full rounded-lg"})]}):_.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),i.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(he,{to:"/cron",children:"Manage cron"})})]}):i.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map($=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:$.description||$.schedule}),i.jsx("p",{className:"text-xs text-muted-foreground",children:$.schedule})]}),i.jsx(Xe,{variant:$.status==="active"?"default":"secondary",children:$.status})]},$.id)),_.length>5&&i.jsx("li",{children:i.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(he,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),i.jsxs(J,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsx(ie,{children:"Nodes status"}),i.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(he,{to:"/nodes",children:"Pair node"})})]}),i.jsx(Z,{children:C?i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsx(de,{className:"h-20 rounded-lg"}),i.jsx(de,{className:"h-20 rounded-lg"})]}):k.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),i.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(he,{to:"/nodes",children:"Pair node"})})]}):i.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map($=>i.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m($),children:[i.jsx(Ua,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:$.name??"Node"}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs(Xe,{variant:ise[$.connection_health],className:"text-xs",children:[$.connection_health==="healthy"&&i.jsx(XS,{className:"mr-0.5 h-3 w-3"}),$.connection_health==="offline"&&i.jsx(w4,{className:"mr-0.5 h-3 w-3"}),$.connection_health]})})]})]},$.id))})})]})]}),i.jsxs(J,{children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(wc,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),i.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(he,{to:"/security",children:"Run audit"})})]}),i.jsx(Z,{children:I?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):A.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),i.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(he,{to:"/security",children:"Run audit"})})]}):i.jsx("ul",{className:"space-y-2",children:A.map($=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:$.type}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:$.description})]}),i.jsx(Xe,{variant:$.severity==="critical"?"destructive":$.severity==="high"?"warning":"secondary",className:"shrink-0",children:$.severity}),i.jsx(E,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p($),children:"Fix"})]},$.id))})})]}),i.jsx(fne,{activity:o,open:!!o,onOpenChange:$=>!$&&l(null),onDelete:$=>{q.mutate($),l(null)}}),i.jsx(hne,{run:c,open:!!c,onOpenChange:$=>!$&&u(null),onConfirm:$=>{U.mutate($),u(null)},isAborting:U.isPending}),i.jsx(U3,{open:d,onOpenChange:f,onSubmit:$=>{"user_id"in $&&$.user_id!==void 0&&T.mutate($)},isSubmitting:T.isPending,userId:b}),i.jsx(B3,{node:h,open:!!h,onOpenChange:$=>!$&&m(null),onUpdateHealth:($,ee)=>z.mutate({id:$,data:{connection_health:ee}}),isUpdating:z.isPending}),i.jsx(sse,{alert:g,open:!!g,onOpenChange:$=>!$&&p(null),onResolve:($,ee)=>R.mutate({id:$,data:{resolution_status:ee}}),isUpdating:R.isPending})]})}const ya={getSessions:async()=>{const{data:e,error:t}=await B.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await B.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await B.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await B.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=B.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await B.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=B.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await B.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await B.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>ya.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>ya.updateToolInvocation(e,{status:"denied"})};function lse(e,t){return e().catch(()=>t)}const In={all:["chat"],sessions:()=>[...In.all,"sessions"],session:e=>[...In.all,"session",e],messages:(e,t)=>[...In.all,"messages",e,t],toolInvocations:(e,t)=>[...In.all,"toolInvocations",e,t]};function cse(){return Oe({queryKey:In.sessions(),queryFn:()=>lse(()=>ya.getSessions(),[])})}function use(e){return Oe({queryKey:In.session(e??""),queryFn:()=>e?ya.getSession(e):Promise.resolve(null),enabled:!!e})}function dse(){const e=ye();return ve({mutationFn:t=>ya.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:In.sessions()}),W.success("Session created")},onError:t=>{W.error(t.message||"Failed to create session")}})}function fse(){const e=ye();return ve({mutationFn:({id:t,data:r})=>ya.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:In.sessions()}),e.invalidateQueries({queryKey:In.session(r)}),W.success("Session updated")},onError:t=>{W.error(t.message||"Failed to update session")}})}function hse(e,t){return Oe({queryKey:In.messages(e??"",{limit:t}),queryFn:()=>e?ya.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function mse(){const e=ye();return ve({mutationFn:t=>ya.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:In.messages(r.session_id)}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}function pse(e,t){return Oe({queryKey:In.toolInvocations(e??"",t),queryFn:()=>e?ya.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function gse(){const e=ye();return ve({mutationFn:({id:t,sessionId:r})=>ya.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:In.toolInvocations(r)}),W.success("Tool output approved")},onError:t=>{W.error(t.message||"Failed to approve")}})}function vse(){const e=ye();return ve({mutationFn:({id:t,sessionId:r})=>ya.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:In.toolInvocations(r)}),W.success("Tool output denied")},onError:t=>{W.error(t.message||"Failed to deny")}})}function yse({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return i.jsxs("div",{className:X("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[i.jsx(yx,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:i.jsx(xx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?i.jsx(s4,{className:"h-4 w-4"}):i.jsx(lx,{className:"h-4 w-4"})})}),i.jsxs("div",{className:X("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),i.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Br(new Date(e.created_at),{addSuffix:!0})})]}),i.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&i.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((a,o)=>i.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:a.name??"Attachment"},o))})]})]})}function xse({messages:e,isLoading:t,currentUserId:r,className:n}){const s=x.useRef(null);return x.useEffect(()=>{var a;(a=s.current)==null||a.scrollIntoView({behavior:"smooth"})},[e.length]),i.jsx(yt,{className:X("flex-1",n),"data-testid":"message-thread",children:i.jsx("div",{className:"space-y-1 p-4",children:t?i.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(a=>i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),i.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},a))}):e.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((a,o)=>i.jsx("div",{ref:o===e.length-1?s:void 0,children:i.jsx(yse,{message:a,currentUserId:r})},a.id))})})}function bse({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:a,availableTools:o=[],className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(null),h=x.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!a);return i.jsx("form",{onSubmit:h,className:X("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:i.jsx(r7,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx(ge,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&i.jsxs(xt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[i.jsxs(ht,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[i.jsx(cx,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),i.jsx(bt,{placeholder:"Tool"})]}),i.jsx(mt,{children:o.map(g=>i.jsx(Ce,{value:g.id,children:g.name},g.id))})]})]}),i.jsx(E,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:a?i.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):i.jsx(Ju,{className:"h-4 w-4"})})]})})}function wse(e,t=[]){let r=[];function n(a,o){const l=x.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return i.jsx(p.Provider,{value:y,children:m})};u.displayName=a+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,jse(s,...t)]}function jse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var _se=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q3=_se.reduce((e,t)=>{const r=Zm(`Primitive.${t}`),n=x.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),DN="Progress",LN=100,[Sse]=wse(DN),[Nse,kse]=Sse(DN),z3=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Cse,...o}=e;(s||s===0)&&!PO(s)&&console.error(Ese(`${s}`,"Progress"));const l=PO(s)?s:LN;n!==null&&!AO(n,l)&&console.error(Ose(`${n}`,"Progress"));const c=AO(n,l)?n:null,u=Pv(c)?a(c,l):void 0;return i.jsx(Nse,{scope:r,value:c,max:l,children:i.jsx(q3.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Pv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":K3(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});z3.displayName=DN;var W3="ProgressIndicator",V3=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=kse(W3,r);return i.jsx(q3.div,{"data-state":K3(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});V3.displayName=W3;function Cse(e,t){return`${Math.round(e/t*100)}%`}function K3(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Pv(e){return typeof e=="number"}function PO(e){return Pv(e)&&!isNaN(e)&&e>0}function AO(e,t){return Pv(e)&&!isNaN(e)&&e<=t&&e>=0}function Ese(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${LN}\`.`}function Ose(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${LN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var H3=z3,Pse=V3;const FN=x.forwardRef(({className:e,value:t,...r},n)=>i.jsx(H3,{ref:n,className:X("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Pse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));FN.displayName=H3.displayName;const Ase={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Tse({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",a=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return i.jsxs(J,{className:X("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(cx,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),i.jsx(Xe,{variant:Ase[e.status],className:"text-xs",children:e.status})]}),i.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Br(new Date(e.created_at),{addSuffix:!0})})]}),i.jsxs(Z,{className:"p-4",children:[s&&i.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(hn,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Running"}),i.jsx(FN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&i.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),a&&t&&r&&i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsxs(E,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[i.jsx(Zu,{className:"h-4 w-4"}),"Deny"]}),i.jsxs(E,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[i.jsx(Qm,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Rse({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:a}){return i.jsxs("aside",{className:X("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",a),"aria-label":"Chat sidebar",children:[i.jsxs(J,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-sm font-semibold",children:"Session"})}),i.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?i.jsx("p",{className:"font-medium text-foreground",children:e.title}):i.jsx("p",{children:"Main session (default)"}),e&&i.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",i.jsx(Xe,{variant:"outline",children:e.status})]})]})]}),t.length>1&&i.jsxs(J,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-sm font-semibold",children:"Sessions"})}),i.jsx(Z,{children:i.jsx(yt,{className:"h-32",children:i.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>r(o.id),className:X("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[i.jsx(Jm,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),i.jsxs(J,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-sm font-semibold",children:"Routing targets"})}),i.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?i.jsx("p",{children:"No channels configured."}):i.jsx("ul",{className:"space-y-1",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(h4,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{children:o.name}),i.jsx(Xe,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Mse({traces:e,isLoading:t,onExport:r,className:n}){const[s,a]=x.useState(!1);return i.jsxs(J,{className:X("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[r&&i.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:i.jsx(zn,{className:"h-4 w-4"})}),i.jsx(E,{variant:"ghost",size:"icon",onClick:()=>a(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?i.jsx(bc,{className:"h-4 w-4"}):i.jsx(i4,{className:"h-4 w-4"})})]})]}),s&&i.jsx(Z,{className:"p-0",children:i.jsx(yt,{className:"h-48",children:i.jsx("div",{className:"space-y-1 p-2",children:t?i.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>i.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?i.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>i.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-medium",children:o.type}),i.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function $se({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:a,maxAttachments:o=5,className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{a(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:X("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Manage attachments"}),i.jsxs(Be,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),i.jsxs("div",{className:"space-y-4 py-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(G,{htmlFor:"attach-url",children:"URL"}),i.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),i.jsxs("div",{className:"w-32 space-y-2",children:[i.jsx(G,{htmlFor:"attach-name",children:"Name (optional)"}),i.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),i.jsx(E,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:i.jsx(b4,{className:"h-4 w-4"})})]}),r.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(G,{children:["Attachments (",r.length,"/",o,")"]}),i.jsx(yt,{className:"h-32 rounded-md border border-border p-2",children:i.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>i.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[i.jsx("span",{className:"truncate",children:g.name??g.url}),i.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:i.jsx(Zu,{className:"h-4 w-4"})})]},p))})})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{onClick:m,children:"Done"})]})]})})}const Ise={new:"Start new session",reset:"Reset session",stop:"Stop session"},Dse={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Lse({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:a}){if(!r)return null;const o=()=>{n(r),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:X("max-w-[640px]",a),"aria-describedby":"session-dialog-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:Ise[r]}),i.jsx(Be,{id:"session-dialog-description",children:Dse[r]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{onClick:o,disabled:s,children:s?i.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):i.jsxs(i.Fragment,{children:[r==="new"&&i.jsx($t,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&i.jsx(m4,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&i.jsx(Yh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Fse=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Use(){const{data:e}=Rx(),t=(e==null?void 0:e.user_id)??null,[r,n]=x.useState(null),[s,a]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,m]=x.useState([]),{data:g=[],isLoading:p}=cse(),{data:y}=use(r),{data:b=[],isLoading:v}=hse(r,200),{data:w=[]}=pse(r,{limit:20}),S=dse(),j=fse(),_=mse(),N=gse(),k=vse();x.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&S.mutate({title:"New session"},{onSuccess:T=>n(T.id)})}},[p,g.length,g,r,S]);const C=x.useCallback((T,q)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:T,attachment_links:(q==null?void 0:q.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,_]),A=x.useCallback(T=>{T==="new"?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:q=>{n(q.id),l(!1),a(null)}}):T==="reset"&&r?S.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:q=>{n(q.id),l(!1),a(null)}}):T==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),a(null)}})},[r,S,j]),I=x.useCallback(T=>{r&&N.mutate({id:T,sessionId:r})},[r,N]),O=x.useCallback(T=>{r&&k.mutate({id:T,sessionId:r})},[r,k]),U=T=>{a(T),l(!0)};return i.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[i.jsxs("header",{className:"flex items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>U("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx($t,{className:"h-4 w-4"}),"/new"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>U("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx(m4,{className:"h-4 w-4"}),"/reset"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>U("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx(Yh,{className:"h-4 w-4"}),"/stop"]})]})]}),i.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[i.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[i.jsxs(J,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[i.jsx(xse,{messages:b,isLoading:v,currentUserId:t,className:"min-h-0"}),i.jsx(bse,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:Fse})]}),w.length>0&&i.jsx(yt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(T=>i.jsx(Tse,{invocation:T,onApprove:I,onDeny:O},T.id))]})})]}),i.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[i.jsx(Rse,{session:y??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),i.jsx(Mse,{traces:h,onExport:()=>m([])})]})]}),i.jsx($se,{open:c,onOpenChange:u,attachments:d,onAdd:(T,q)=>f(R=>[...R,{url:T,name:q}]),onRemove:T=>f(q=>q.filter((R,z)=>z!==T)),onConfirm:()=>{},maxAttachments:5}),i.jsx(Lse,{open:o,onOpenChange:l,action:s,onConfirm:A,isLoading:S.isPending||j.isPending})]})}const il={getChannels:async()=>{const{data:e,error:t}=await B.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await B.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await B.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await B.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await B.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await il.getAdapterConfig(e.channel_id);if(t){const{data:a,error:o}=await B.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return a}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await B.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await B.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=B.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await B.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function Bse(e,t){return e().catch(()=>t)}const Ns={all:["channels"],list:()=>[...Ns.all,"list"],detail:e=>[...Ns.all,"detail",e],adapterConfig:e=>[...Ns.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...Ns.all,"deliveryLogs",e,t]};function qse(){return Oe({queryKey:Ns.list(),queryFn:()=>Bse(()=>il.getChannels(),[])})}function zse(e){return Oe({queryKey:Ns.detail(e??""),queryFn:()=>e?il.getChannel(e):Promise.resolve(null),enabled:!!e})}function Wse(){const e=ye();return ve({mutationFn:t=>il.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ns.list()}),W.success("Channel added")},onError:t=>{W.error(t.message||"Failed to add channel")}})}function Vse(){const e=ye();return ve({mutationFn:t=>il.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ns.list()}),W.success("Channel removed")},onError:t=>{W.error(t.message||"Failed to remove channel")}})}function Kse(e){return Oe({queryKey:Ns.adapterConfig(e??""),queryFn:()=>e?il.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function Hse(){const e=ye();return ve({mutationFn:t=>il.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:Ns.adapterConfig(n)}),e.invalidateQueries({queryKey:Ns.detail(n)}),W.success("Channel config saved")},onError:t=>{W.error(t.message||"Failed to save config")}})}function Gse(e,t){return Oe({queryKey:Ns.deliveryLogs(e,t),queryFn:()=>e?il.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const Tw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},Yse=dt({provider:ir(["whatsapp","telegram","slack","discord"]),display_name:_e().optional()}),Qse=dt({retrieval_mode:ir(["webhook","polling"]),webhook_url:_e().url().optional().or(MN("")),polling_interval_seconds:as.number().min(30).max(3600).optional()}),Xse=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function Jse({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,a]=x.useState(1),o=lt({resolver:ct(Yse),defaultValues:{provider:"telegram",display_name:""}}),l=lt({resolver:ct(Qse),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const m=o.getValues(),g=l.getValues();r({provider:m.provider,display_name:m.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),a(1),o.reset(),l.reset();return}a(m=>m+1)}},f=()=>{s>1&&a(m=>m-1)},h=m=>{m||(a(1),o.reset(),l.reset()),t(m)};return i.jsx(qe,{open:e,onOpenChange:h,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Add channel"}),i.jsx(Be,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),i.jsx("div",{className:"flex gap-2 py-2",children:Xse.map(m=>i.jsx("div",{className:X("h-1 flex-1 rounded-full transition-colors",m.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},m.id))}),s===1&&i.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>a(2)),children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider"}),i.jsxs(xt,{value:c,onValueChange:m=>o.setValue("provider",m),children:[i.jsx(ht,{children:i.jsx(bt,{placeholder:"Select provider"})}),i.jsx(mt,{children:Object.keys(Tw).map(m=>i.jsx(Ce,{value:m,children:Tw[m]},m))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"display_name",children:"Display name (optional)"}),i.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&i.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>a(3)),children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Message retrieval"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[i.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),i.jsx(h4,{className:"h-4 w-4"}),"Webhook"]}),i.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[i.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),i.jsx(ch,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"webhook_url",children:"Webhook URL"}),i.jsx(ge,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&i.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),i.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[i.jsx(QS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[i.jsx("p",{className:"font-medium",children:Tw[c]}),o.getValues("display_name")&&i.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),i.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[s>1?i.jsxs(E,{type:"button",variant:"outline",onClick:f,disabled:n,children:[i.jsx(a4,{className:"mr-2 h-4 w-4"}),"Back"]}):i.jsx("div",{}),i.jsx(E,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":i.jsxs(i.Fragment,{children:["Next",i.jsx(qn,{className:"ml-2 h-4 w-4"})]})})]})]})})}const Zse=dt({dm_policy:ir(["pairing","allowlist","open","disabled"]),group_policy:ir(["mention","open","disabled"]),mention_gating:Za()}),TO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},RO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function eae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:a,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=lt({resolver:ct(Zse),defaultValues:l}),g=d("mention_gating");x.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{a(b),f(b),t(!1)},y=b=>{b||f(l),t(b)};return i.jsx(qe,{open:e,onOpenChange:y,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Channel policy"}),i.jsx(Be,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),i.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"DM policy"}),i.jsxs(xt,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[i.jsx(ht,{className:X(h.dm_policy&&"border-destructive"),children:i.jsx(bt,{placeholder:"Select DM policy"})}),i.jsx(mt,{children:Object.keys(TO).map(b=>i.jsx(Ce,{value:b,children:TO[b]},b))})]}),h.dm_policy&&i.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Group policy"}),i.jsxs(xt,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[i.jsx(ht,{className:X(h.group_policy&&"border-destructive"),children:i.jsx(bt,{placeholder:"Select group policy"})}),i.jsx(mt,{children:Object.keys(RO).map(b=>i.jsx(Ce,{value:b,children:RO[b]},b))})]}),h.group_policy&&i.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mention_gating",children:"Mention gating"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),i.jsx(Ur,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),i.jsx(E,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function tae({open:e,onOpenChange:t,log:r}){return r?i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Wi,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),i.jsxs(Be,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",hu(new Date(r.created_at),"PPp")]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),i.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),i.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const MO={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},rae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function nae(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(""),{data:h=[],isLoading:m}=qse(),{data:g}=zse(r),{data:p}=Kse(r),{data:y=[]}=Gse(r,{limit:50}),b=Wse(),v=Vse(),w=Hse(),S=async N=>{const k=await b.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},_=N=>{l(N),u(!0)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),i.jsxs(E,{onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),i.jsxs(ei,{defaultValue:"channels",className:"space-y-4",children:[i.jsxs(ba,{className:"grid w-full max-w-md grid-cols-3",children:[i.jsx(jt,{value:"channels",children:"Channels"}),i.jsx(jt,{value:"logs",children:"Delivery logs"}),i.jsx(jt,{value:"test",children:"Test console"})]}),i.jsx(_t,{value:"channels",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Channels list"}),i.jsx(we,{children:"Manage chat channel adapters and per-channel policies."})]}),i.jsx(Z,{children:m?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>i.jsx(de,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(ch,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),i.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("div",{className:"space-y-2",children:h.map(N=>i.jsxs("div",{className:X("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[i.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:i.jsx(ch,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:N.display_name||MO[N.provider]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[MO[N.provider],N.last_event_at&&`  Last event ${Br(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),i.jsx(Xe,{variant:rae[N.status],className:"shrink-0",children:N.status}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{n(N.id),a(!0)},children:[i.jsx(_i,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(v.mutate(N.id),r===N.id&&n(null))},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Channel config"}),i.jsx(we,{children:"DM policy, group policy, mention gating."})]}),i.jsx(Z,{children:r?i.jsx("div",{className:"space-y-4",children:p===void 0?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-10 w-full"}),i.jsx(de,{className:"h-10 w-full"}),i.jsx(de,{className:"h-12 w-full"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),i.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.dm_policy)??""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),i.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.group_policy)??""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),i.jsx("span",{className:"font-medium",children:p!=null&&p.mention_gating?"On":"Off"})]})]}),i.jsxs(E,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[i.jsx(_i,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(_i,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),i.jsx(_t,{value:"logs",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Delivery logs"}),i.jsxs(we,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),i.jsx(Z,{children:r?y.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Ti,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):i.jsx(yt,{className:"h-[400px] pr-4",children:i.jsx("div",{className:"space-y-2",children:y.map(N=>i.jsx("div",{className:X("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:i.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?i.jsx(Ti,{className:"h-4 w-4 shrink-0 text-success"}):i.jsx(sx,{className:"h-4 w-4 shrink-0 text-destructive"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:N.event_type}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Br(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&i.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>_(N),className:"shrink-0",children:[i.jsx(Hl,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(ch,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),i.jsx(_t,{value:"test",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Test console"}),i.jsx(we,{children:"Send test messages through the selected channel."})]}),i.jsx(Z,{children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),i.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),i.jsxs(E,{disabled:!d.trim(),onClick:()=>{f("")},children:[i.jsx(Ju,{className:"mr-2 h-4 w-4"}),"Send test message"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Ju,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),i.jsx(Jse,{open:e,onOpenChange:t,onSubmit:S,isSubmitting:b.isPending||w.isPending}),i.jsx(eae,{open:s,onOpenChange:a,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:p??null,onSubmit:j,isSubmitting:w.isPending}),i.jsx(tae,{open:c,onOpenChange:u,log:o})]})}function sae(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(E,{variant:"outline",asChild:!0,children:i.jsxs(he,{to:"/marketplace",children:[i.jsx(ox,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),i.jsx(E,{variant:"outline",asChild:!0,children:i.jsxs(he,{to:"/skill-editor",children:[i.jsx(zS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Installed skills"}),i.jsx(we,{children:"Enable/disable and manage local skills."})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Registry browser"}),i.jsx(we,{children:"Browse and install skills from the registry."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ix,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{placeholder:"Search skills...",className:"pl-9"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Skill detail"}),i.jsx(we,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Hn="/skills",Ki={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Hn}${t?`?${t}`:""}`)},get:e=>je.get(`${Hn}/${e}`),create:e=>je.post(Hn,e),update:(e,t)=>je.patch(`${Hn}/${e}`,t),delete:e=>je.delete(`${Hn}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return je.get(`${Hn}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>je.get(`${Hn}/${e}/test-runs/${t}`),runTest:(e,t)=>je.post(`${Hn}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>je.post(`${Hn}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>je.get(`${Hn}/${e}/check-requirements`),getVersions:e=>je.get(`${Hn}/${e}/versions`),createVersion:(e,t)=>je.post(`${Hn}/${e}/versions`,t),commit:(e,t)=>je.post(`${Hn}/${e}/commit`,t)};function Dx(e,t){return e().catch(()=>t)}const Zr={all:["skills"],list:e=>[...Zr.all,"list",e],detail:e=>[...Zr.all,"detail",e],testRuns:(e,t)=>[...Zr.all,"test-runs",e,t],testRun:(e,t)=>[...Zr.all,"test-run",e,t],versions:e=>[...Zr.all,"versions",e],gating:e=>[...Zr.all,"gating",e]};function aae(e){return Oe({queryKey:Zr.list(e),queryFn:()=>Dx(()=>Ki.list(e),[])})}function iae(e){return Oe({queryKey:Zr.detail(e??""),queryFn:()=>e?Dx(()=>Ki.get(e),null):Promise.resolve(null),enabled:!!e})}function oae(){const e=ye();return ve({mutationFn:t=>Ki.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:Zr.list()}),W.success("Skill created")},onError:t=>{W.error(t.message||"Failed to create skill")}})}function lae(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Ki.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Zr.list()}),e.invalidateQueries({queryKey:Zr.detail(r)}),W.success("Skill saved")},onError:t=>{W.error(t.message||"Failed to save skill")}})}function cae(e,t){return Oe({queryKey:Zr.testRuns(e??"",t),queryFn:()=>e?Dx(()=>Ki.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function uae(){const e=ye();return ve({mutationFn:({skillId:t,payload:r})=>Ki.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Zr.testRuns(r)}),W.success("Test run started")},onError:t=>{W.error(t.message||"Failed to run skill test")}})}function dae(e){return Oe({queryKey:Zr.versions(e??""),queryFn:()=>e?Dx(()=>Ki.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function fae(e){return Oe({queryKey:Zr.gating(e??""),queryFn:()=>e?Ki.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function hae(){const e=ye();return ve({mutationFn:({skillId:t,message:r,sign:n})=>Ki.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:Zr.detail(r)}),e.invalidateQueries({queryKey:Zr.versions(r)}),W.success("Changes committed")},onError:t=>{W.error(t.message||"Failed to commit")}})}const mae=dt({name:_e().min(1,"Name is required"),version:_e().min(1,"Version is required"),description:_e().optional(),permissions:_e().optional(),env_keys:_e().optional()}),Rw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function pae({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const a=()=>({...Rw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=lt({resolver:ct(mae),defaultValues:a()});x.useEffect(()=>{e&&c(a())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(Rw),t(!1)},f=h=>{h||c(Rw),t(h)};return i.jsx(qe,{open:e,onOpenChange:f,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Edit frontmatter"}),i.jsx(Be,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),i.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-name",children:"Name"}),i.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:X(u.name&&"border-destructive")}),u.name&&i.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-version",children:"Version"}),i.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:X(u.version&&"border-destructive")}),u.version&&i.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-description",children:"Description (optional)"}),i.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),i.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),i.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const gae=dt({message:_e().optional(),sign:Za().optional()}),Mw={message:"",sign:!1};function vae({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:a,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=lt({resolver:ct(gae),defaultValues:Mw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(Mw),t(!1)},m=g=>{g||u(Mw),t(g)};return i.jsx(qe,{open:e,onOpenChange:m,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Commit changes"}),i.jsx(Be,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),i.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"commit-message",children:"Commit message (optional)"}),i.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...a("message"),className:X(d.message&&"border-destructive")}),d.message&&i.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"commit-sign",children:"Sign package"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),i.jsx(Ur,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function yae({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:a}){return e?i.jsx("div",{className:X("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",a),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:i.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),i.jsx(E,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:i.jsx(Zu,{className:"h-4 w-4"})})]}),i.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),i.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>i.jsxs("li",{className:X("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?i.jsx(o4,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):i.jsx(Wi,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("span",{className:"font-medium",children:o.label}),o.message&&i.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx(E,{onClick:t,children:"Close"})})]})}):null}const Vc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function xae(){const{skillId:e}=lW(),t=nl(),[r,n]=x.useState("editor"),[s,a]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),{data:g=[],isLoading:p}=aae(),{data:y,isLoading:b}=iae(e??null),{data:v=[]}=cae(e??null,{limit:5}),{data:w=[]}=dae(e??null),{data:S}=fae(e??null),j=lae(),_=uae(),N=hae(),k=oae(),C=y??null,A=C&&(s!==C.content||o!==C.name),I=x.useCallback(()=>{C?(a(C.content||Vc),l(C.name||"")):(a(Vc),l(""))},[C]);x.useEffect(()=>{C?(a(C.content||Vc),l(C.name||"")):e||(a(Vc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const O=$=>{t(`/skill-editor/${$}`)},U=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},T=()=>{e&&_.mutate({skillId:e})},q=$=>{e&&N.mutate({skillId:e,...$},{onSuccess:()=>f(!1)})},R=$=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...$}}},{onSuccess:()=>{u(!1)}})},z=v[0],D=S&&!S.passed,M=(S==null?void 0:S.requirements)??[];return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[i.jsx(QH,{className:"mr-1 h-4 w-4"}),"All skills"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[i.jsx(s7,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:U,disabled:!e||!A||j.isPending,children:[i.jsx(p4,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>m(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[i.jsx(Wi,{className:"mr-1 h-4 w-4"}),"Gating"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[i.jsx(XH,{className:"mr-1 h-4 w-4"}),"Commit"]}),i.jsxs(E,{size:"sm",onClick:T,disabled:!e||_.isPending,children:[i.jsx(ji,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[i.jsxs(J,{className:"lg:col-span-1",children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-sm",children:"Skills"}),i.jsx(we,{children:"Select a skill to edit."})]}),i.jsxs(Z,{className:"pt-0",children:[p?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-9 w-full"}),i.jsx(de,{className:"h-9 w-full"}),i.jsx(de,{className:"h-9 w-4/5"})]}):g.length===0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),i.jsxs(E,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Vc},{onSuccess:$=>{t(`/skill-editor/${$.id}`)}}),disabled:k.isPending,children:[i.jsx($t,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):i.jsx(yt,{className:"h-[200px] pr-2",children:i.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map($=>i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>O($.id),className:X("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===$.id&&"bg-primary/15 text-primary"),children:[i.jsx(kr,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{className:"truncate",children:$.name}),i.jsx(qn,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},$.id))})}),i.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[i.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&i.jsx(yt,{className:"h-[120px] pr-2",children:w.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):i.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map($=>i.jsxs("li",{className:"flex justify-between gap-2",children:[i.jsx("span",{className:"truncate font-mono",children:$.version_number}),i.jsx("span",{className:"text-muted-foreground shrink-0",children:$.changes?"":""})]},$.id))})}),!e&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),i.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?i.jsx(J,{children:i.jsx(Z,{className:"flex items-center justify-center py-12",children:i.jsx(de,{className:"h-8 w-48"})})}):i.jsxs(i.Fragment,{children:[i.jsxs(ei,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(ba,{className:"grid w-full grid-cols-3",children:[i.jsx(jt,{value:"editor",children:"SKILL.md editor"}),i.jsx(jt,{value:"preview",children:"Preview"}),i.jsx(jt,{value:"frontmatter",children:"Frontmatter"})]}),i.jsx(_t,{value:"editor",className:"mt-4",children:i.jsxs(J,{className:"relative overflow-hidden",children:[h&&i.jsx(yae,{open:h,onClose:()=>m(!1),requirements:M.map($=>({id:$.id,label:$.label,met:$.met,message:$.message})),passed:(S==null?void 0:S.passed)??!0}),i.jsxs(Z,{className:"pt-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(G,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),i.jsx(ge,{id:"skill-name",value:o,onChange:$=>l($.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),i.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Vc,value:s,onChange:$=>a($.target.value)})]})]})}),i.jsx(_t,{value:"preview",className:"mt-4",children:i.jsx(J,{children:i.jsx(Z,{className:"pt-6",children:i.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:i.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),i.jsx(_t,{value:"frontmatter",className:"mt-4",children:i.jsx(J,{children:i.jsxs(Z,{className:"pt-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&i.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{className:"text-sm",children:"Test runner"}),i.jsx(we,{children:"Run skill in sandbox and view logs."})]}),i.jsx(Z,{children:z?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Status: ",z.status]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(z.created_at).toLocaleString()})]}),i.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:z.logs||"No logs."})]}):i.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),i.jsx(pae,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:R,isSubmitting:j.isPending}),i.jsx(vae,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:q,isSubmitting:N.isPending})]})}const bae=10,$w=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function $O(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Wn={getNodes:async()=>{const{data:e,error:t}=await B.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await B.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await B.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await B.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await B.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await B.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await B.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await B.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=B.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await B.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await B.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const t=wae(),r=new Date;r.setMinutes(r.getMinutes()+bae);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:a}=await B.from("pairing_requests").insert(n).select().single();if(a)throw new Error(a.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await B.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await B.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const a=await Wn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:$w});await B.from("pairing_requests").update({node_id:a.id}).eq("id",n.id);for(const o of $w)await Wn.upsertNodeCapability({node_id:a.id,capability_key:o,status:"enabled",description:$O(o)});return a},getDefaultCapabilityKeys:()=>$w,getCapabilityDescription:$O};function wae(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function G3(e,t){return e().catch(()=>t)}const Ir={all:["nodes"],list:()=>[...Ir.all,"list"],detail:e=>[...Ir.all,"detail",e],capabilities:e=>[...Ir.all,"capabilities",e],approvals:e=>[...Ir.all,"approvals",e],pairing:()=>[...Ir.all,"pairing"]};function jae(){return Oe({queryKey:Ir.list(),queryFn:()=>G3(()=>Wn.getNodes(),[])})}function _ae(e){return Oe({queryKey:Ir.detail(e??""),queryFn:()=>e?Wn.getNode(e):Promise.resolve(null),enabled:!!e})}function Sae(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Wn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ir.list()}),e.invalidateQueries({queryKey:Ir.detail(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function Nae(){const e=ye();return ve({mutationFn:t=>Wn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ir.list()}),e.invalidateQueries({queryKey:Ir.approvals()}),W.success("Node removed")},onError:t=>{W.error(t.message||"Failed to remove node")}})}function kae(e){return Oe({queryKey:Ir.capabilities(e??""),queryFn:()=>e?Wn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Cae(){const e=ye();return ve({mutationFn:t=>Wn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ir.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Ir.detail(r.node_id)}),W.success("Capability updated")},onError:t=>{W.error(t.message||"Failed to update capability")}})}function Eae(e){return Oe({queryKey:Ir.approvals(e),queryFn:()=>G3(()=>Wn.getNodeApprovals(e),[])})}function Oae(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Wn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Ir.approvals()}),W.success("Approval updated")},onError:t=>{W.error(t.message||"Failed to update approval")}})}function Pae(){const e=ye();return ve({mutationFn:()=>Wn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Ir.pairing()})},onError:t=>{W.error(t.message||"Failed to start pairing")}})}function Aae(){const e=ye();return ve({mutationFn:({code:t,nodeName:r})=>Wn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Ir.list()}),e.invalidateQueries({queryKey:Ir.pairing()}),W.success("Device paired")},onError:t=>{W.error(t.message||"Failed to pair device")}})}function Tae(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),a=n%60;return`${s}:${a.toString().padStart(2,"0")}`}function Rae({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:a}){const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),h=Aae();x.useEffect(()=>{if(!r||!e)return;const y=()=>l(Tae(r.expires_at));y();const b=setInterval(y,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),a==null||a(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsx(Le,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Pair device"}),i.jsx(Be,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?i.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsxs("div",{className:X("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[i.jsx(QS,{className:"h-16 w-16 text-muted-foreground"}),i.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),i.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ao,{className:"h-4 w-4"}),i.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{className:"text-muted-foreground",children:"One-time code"}),i.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[i.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),i.jsx(E,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?i.jsx(Qm,{className:"h-4 w-4 text-success"}):i.jsx(l4,{className:"h-4 w-4"})})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),i.jsxs("div",{className:"border-t border-border pt-4",children:[i.jsx(G,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),i.jsxs("div",{className:"mt-2 flex gap-2",children:[i.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:y=>u(y.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),i.jsx(E,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),i.jsx(E,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&i.jsx(E,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const Mae={pending:{label:"Pending",variant:"secondary",icon:Ao},approved:{label:"Approved",variant:"success",icon:Ti},denied:{label:"Denied",variant:"destructive",icon:sx}};function $ae({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:a,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=Mae[r.status],d=r.status==="pending";return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-md","aria-describedby":"approval-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Approval request"}),i.jsx(Be,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:c,className:"gap-1",children:[i.jsx(u,{className:"h-3 w-3"}),l]}),i.jsx("span",{className:"text-sm text-muted-foreground",children:Br(new Date(r.created_at),{addSuffix:!0})})]}),i.jsxs("dl",{className:"grid gap-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"Action"}),i.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"Node"}),i.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),i.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&i.jsxs(i.Fragment,{children:[i.jsx(E,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>a(r.id),disabled:o,children:"Deny"}),i.jsx(E,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Iae=dt({status:ir(["enabled","disabled","pending_approval"]),description:_e().optional()});function Dae({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:a=!1}){const o=lt({resolver:ct(Iae),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Wn.getCapabilityDescription(n.capability_key):"";return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-md","aria-describedby":"capability-config-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Capability configuration"}),i.jsxs(Be,{id:"capability-config-description",children:["Update status and description for this capability on"," ",i.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),i.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&i.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),i.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&i.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"cap-status",children:"Status"}),i.jsxs(xt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[i.jsx(ht,{id:"cap-status",children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"enabled",children:"Enabled"}),i.jsx(Ce,{value:"disabled",children:"Disabled"}),i.jsx(Ce,{value:"pending_approval",children:"Pending approval"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"cap-description",children:"Description (optional)"}),i.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:X(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&i.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:a,children:a?"Saving":"Save"})]})]})]})})}const Lae={paired:"success",offline:"destructive",error:"warning"},Fae={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Uae={voice_wake:Hh,talk_mode:Hh,remote_exec:o7,browser_proxy:ax,camera_capture:KH};function Bae(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,a]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(!1),{data:y=[],isLoading:b}=jae(),{data:v}=_ae(s),{data:w=[]}=kae(s),{data:S=[]}=Eae({status:"pending",limit:20}),j=Pae(),_=Sae(),N=Nae(),k=Cae(),C=Oae(),A=S.find(R=>R.id===c),I=async()=>{try{const R=await j.mutateAsync();n(R)}catch{}},O=R=>{!s||!h||(k.mutate({node_id:s,capability_key:h.capability_key,status:R.status,description:R.description??null}),f(!1),m(null))},U=R=>{C.mutate({id:R,data:{status:"approved"}}),l(!1),u(null)},T=R=>{C.mutate({id:R,data:{status:"denied"}}),l(!1),u(null)},q=(R,z)=>{_.mutate({id:R,data:{connection_health:z}})};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),i.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Nodes list"}),i.jsx(we,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),i.jsx(Z,{children:b?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>i.jsx(de,{className:"h-16 w-full rounded-lg"},R))}):y.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Ua,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."}),i.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("div",{className:"space-y-2",children:y.map(R=>i.jsxs("div",{className:X("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===R.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[i.jsxs("button",{type:"button",onClick:()=>a(R.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:i.jsx(Ua,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:R.name??`Node ${R.id.slice(0,8)}`}),i.jsx("p",{className:"text-xs text-muted-foreground",children:R.last_active_at?`Last active ${Br(new Date(R.last_active_at),{addSuffix:!0})}`:"Never"})]}),i.jsx(Xe,{variant:Lae[R.status],className:"shrink-0",children:R.status}),i.jsx(Xe,{variant:Fae[R.connection_health],className:"shrink-0",children:R.connection_health})]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{a(R.id),p(!0)},children:[i.jsx(XS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Unpair this device? This cannot be undone.")&&(N.mutate(R.id),s===R.id&&a(null))},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Unpair"]})]})]})]},R.id))})})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Pair node"}),i.jsx(we,{children:"QR on left, code and instructions on right, expiry countdown."})]}),i.jsx(Z,{children:i.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(QS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),i.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Capabilities"}),i.jsx(we,{children:"Enable or disable capabilities for the selected node."})]}),i.jsx(Z,{children:s?w.length===0?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-10 w-full"}),i.jsx(de,{className:"h-10 w-full"}),i.jsx(de,{className:"h-10 w-full"})]}):i.jsx("div",{className:"space-y-2",children:w.map(R=>{const z=Uae[R.capability_key]??Ua;return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium capitalize",children:R.capability_key.replace(/_/g," ")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Wn.getCapabilityDescription(R.capability_key)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Xe,{variant:R.status==="enabled"?"success":R.status==="pending_approval"?"warning":"secondary",children:R.status}),i.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(R),f(!0)},"aria-label":"Edit capability",children:i.jsx(_i,{className:"h-4 w-4"})})]})]},R.id)})}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(_i,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Approval requests"}),i.jsx(we,{children:"Pending capability or execution requests."})]}),i.jsx(Z,{children:S.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx(v4,{className:"mb-3 h-10 w-10 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No pending approvals."})]}):i.jsx(yt,{className:"h-[240px] pr-2",children:i.jsx("div",{className:"space-y-2",children:S.map(R=>i.jsxs("button",{type:"button",onClick:()=>{u(R.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm font-medium capitalize",children:R.action_type.replace(/_/g," ")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Br(new Date(R.created_at),{addSuffix:!0})})]}),i.jsx(Xe,{variant:"secondary",children:R.status})]},R.id))})})})]})]})]}),i.jsx(Rae,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:I,isStartingPairing:j.isPending,onPaired:()=>{n(null),t(!1)}}),i.jsx($ae,{open:o,onOpenChange:l,approval:A??null,node:A?y.find(R=>R.id===A.node_id)??null:null,onApprove:U,onDeny:T,isUpdating:C.isPending}),i.jsx(Dae,{open:d,onOpenChange:f,node:v??null,capability:h,onSubmit:O,isSubmitting:k.isPending}),i.jsx(B3,{node:v??null,open:g,onOpenChange:p,onUpdateHealth:q,isUpdating:_.isPending})]})}function qae({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const a=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{"aria-describedby":"cron-delete-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Delete cron job?"}),i.jsxs(Be,{id:"cron-delete-description",children:['This will permanently delete "',a,'" and its run history. This action cannot be undone.']})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(E,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const zae={running:{label:"Running",icon:hn,variant:"secondary"},completed:{label:"Completed",icon:Ti,variant:"default"},failed:{label:"Failed",icon:sx,variant:"destructive"},aborted:{label:"Aborted",icon:zH,variant:"outline"}};function Wae({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?i.jsxs(J,{className:X("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(se,{children:[i.jsx(de,{className:"h-6 w-32"}),i.jsx(de,{className:"h-4 w-48"})]}),i.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>i.jsx(de,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?i.jsxs(J,{className:X("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Kf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(we,{children:"Past executions with output and logs. Newest first."})]}),i.jsx(Z,{children:i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-3",children:t.map(s=>{const a=zae[s.status],o=a.icon;return i.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Xe,{variant:a.variant,className:"gap-1",children:[s.status==="running"?i.jsx(o,{className:"h-3 w-3 animate-spin"}):i.jsx(o,{className:"h-3 w-3"}),a.label]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:Br(new Date(s.execution_time),{addSuffix:!0})})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?i.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),i.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),i.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):i.jsxs(J,{className:X("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Kf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(we,{children:"Past executions for this job. Run the job to see entries here."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Kf,{className:"h-10 w-10 text-muted-foreground/50"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):i.jsxs(J,{className:X("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Kf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(we,{children:"Select a job to view its run history, or run a job to see entries here."})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function Vae(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),{data:h}=Rx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=ZF(),{data:y=[],isLoading:b}=ine(c??d,{limit:20}),v=e3(),w=sne(),S=ane(),j=one(),_=()=>{a(null),t(!0)},N=T=>{a(T),t(!0)},k=T=>{s?w.mutate({id:s.id,data:T},{onSuccess:()=>{t(!1),a(null)}}):v.mutate(T,{onSuccess:()=>t(!1)})},C=T=>{l(T),n(!0)},A=T=>{S.mutate(T,{onSuccess:()=>{n(!1),l(null),c===T&&u(null)}})},I=T=>{f(T.id),j.mutate(T.id,{onSuccess:()=>{u(T.id),f(null)},onError:()=>f(null)})},O=T=>T.name||T.description||"Unnamed job",U=T=>T==="active"?"default":T==="paused"?"secondary":"destructive";return i.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),i.jsxs(E,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),i.jsxs(J,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Cron list"}),i.jsx(we,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),i.jsx(Z,{className:"p-0",children:p?i.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(T=>i.jsx(de,{className:"h-16 w-full rounded-lg"},T))}):g.length?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden overflow-x-auto md:block",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[i.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),i.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),i.jsx("tbody",{children:g.map(T=>i.jsxs("tr",{className:X("border-b border-border transition-colors hover:bg-secondary/30",c===T.id&&"bg-primary/5"),children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&i.jsx("span",{title:"Isolated",children:i.jsx(Fr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),i.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:T.schedule}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(Xe,{variant:U(T.status),children:T.status})}),i.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.next_run_time?Br(new Date(T.next_run_time),{addSuffix:!0}):""}),i.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.session_target||""}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(T),disabled:j.isPending&&d===T.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===T.id?i.jsx(Ao,{className:"h-4 w-4 animate-spin"}):i.jsx(ji,{className:"h-4 w-4"}),i.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===T.id?"Running":"Run now"})]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsx(E,{variant:"outline",size:"icon",className:"h-8 w-8",children:i.jsx(Ba,{className:"h-4 w-4"})})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>N(T),children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{onClick:()=>{u(T.id)},children:[i.jsx(Ao,{className:"mr-2 h-4 w-4"}),"View history"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},T.id))})]})}),i.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(T=>i.jsx(J,{className:X("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===T.id&&"ring-2 ring-primary"),children:i.jsxs(Z,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&i.jsx("span",{title:"Isolated",children:i.jsx(Fr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),i.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:T.schedule}),i.jsx(Xe,{variant:U(T.status),className:"mt-2",children:T.status}),T.next_run_time&&i.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Br(new Date(T.next_run_time),{addSuffix:!0})]})]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Ba,{className:"h-4 w-4"})})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>I(T),children:[i.jsx(ji,{className:"mr-2 h-4 w-4"}),"Run now"]}),i.jsxs(Wt,{onClick:()=>N(T),children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{onClick:()=>u(T.id),children:[i.jsx(Ao,{className:"mr-2 h-4 w-4"}),"View history"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(T),disabled:j.isPending&&d===T.id,children:[j.isPending&&d===T.id?i.jsx(Ao,{className:"mr-1 h-4 w-4 animate-spin"}):i.jsx(ji,{className:"mr-1 h-4 w-4"}),"Run now"]}),i.jsx(E,{variant:"outline",size:"sm",onClick:()=>N(T),children:"Edit"})]})]})},T.id))})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[i.jsx(Ym,{className:"h-12 w-12 text-muted-foreground/50"}),i.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),i.jsxs(E,{onClick:_,className:"mt-4",children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),i.jsx(Wae,{jobId:c??d,runs:y,isLoading:b}),i.jsx(U3,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:v.isPending||w.isPending,userId:m,job:s}),i.jsx(qae,{job:o,open:r,onOpenChange:n,onConfirm:A,isDeleting:S.isPending})]})}function Kae(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const ti={getWebhooks:async()=>{const{data:e,error:t}=await B.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await B.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r=Kae(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,a={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await B.from("webhooks").insert(a).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await B.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await B.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)return[];let r=B.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await B.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await B.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await B.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await B.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await B.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await ti.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await B.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:a}=await B.from("payload_templates").insert(n).select().single();if(a)throw new Error(a.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await B.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function Hae(e,t){return e().catch(()=>t)}const Dn={all:["webhooks"],list:()=>[...Dn.all,"list"],detail:e=>[...Dn.all,"detail",e],hookScripts:e=>[...Dn.all,"hookScripts",e],payloadTemplate:e=>[...Dn.all,"payloadTemplate",e]};function Gae(){return Oe({queryKey:Dn.list(),queryFn:()=>Hae(()=>ti.getWebhooks(),[])})}function Yae(){const e=ye();return ve({mutationFn:t=>ti.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Dn.list()}),W.success("Webhook created")},onError:t=>{W.error(t.message||"Failed to create webhook")}})}function Qae(){const e=ye();return ve({mutationFn:t=>ti.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Dn.list()}),W.success("Webhook removed")},onError:t=>{W.error(t.message||"Failed to remove webhook")}})}function Xae(e){return Oe({queryKey:Dn.hookScripts(e),queryFn:()=>ti.getHookScripts(e)})}function Jae(){const e=ye();return ve({mutationFn:t=>ti.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Dn.hookScripts(r.webhook_id??null)}),W.success("Hook script added")},onError:t=>{W.error(t.message||"Failed to add hook script")}})}function Zae(){const e=ye();return ve({mutationFn:({id:t,data:r})=>ti.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:Dn.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:Dn.hookScripts(null)}),W.success("Hook script updated")},onError:t=>{W.error(t.message||"Failed to update hook script")}})}function eie(){const e=ye();return ve({mutationFn:t=>ti.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Dn.all}),W.success("Hook script removed")},onError:t=>{W.error(t.message||"Failed to remove hook script")}})}function tie(e){return Oe({queryKey:Dn.payloadTemplate(e??""),queryFn:()=>e?ti.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function rie(){const e=ye();return ve({mutationFn:t=>ti.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Dn.payloadTemplate(r.webhook_id)}),W.success("Payload template saved")},onError:t=>{W.error(t.message||"Failed to save payload template")}})}const nie=dt({route_name:_e().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:_e().optional(),delivery_route:_e().optional()}),Iw={route_name:"",mapping_template:"",delivery_route:""};function sie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:a,reset:o,formState:{errors:l}}=lt({resolver:ct(nie),defaultValues:Iw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null}),o(Iw)},u=d=>{d||o(Iw),t(d)};return i.jsx(qe,{open:e,onOpenChange:u,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Create webhook"}),i.jsx(Be,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),i.jsxs("form",{onSubmit:a(c),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"route_name",children:"Route name"}),i.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&i.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),i.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),i.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const aie=dt({event_trigger:_e().min(1,"Event trigger is required"),language:ir(["javascript","python"]),script_content:_e(),webhook_id:_e().nullable()}),iie=["/new","/reset","start","end","before_run","after_run"],Jp={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function oie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:a}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=lt({resolver:ct(aie),defaultValues:Jp}),h=u("language"),m=u("webhook_id");x.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:Jp)},[s,e,d]);const g=y=>{r(y),s||d(Jp),t(!1)},p=y=>{y||d(Jp),t(y)};return i.jsx(qe,{open:e,onOpenChange:p,children:i.jsxs(Le,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:s?"Edit hook script":"Add hook script"}),i.jsx(Be,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),i.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"event_trigger",children:"Event trigger"}),i.jsxs(xt,{value:u("event_trigger"),onValueChange:y=>c("event_trigger",y),children:[i.jsx(ht,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:i.jsx(bt,{placeholder:"Select trigger"})}),i.jsx(mt,{children:iie.map(y=>i.jsx(Ce,{value:y,children:y},y))})]}),f.event_trigger&&i.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"language",children:"Language"}),i.jsxs(xt,{value:h,onValueChange:y=>c("language",y),children:[i.jsx(ht,{id:"language",children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"javascript",children:"JavaScript"}),i.jsx(Ce,{value:"python",children:"Python"})]})]})]})]}),a.length>0&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"webhook_id",children:"Webhook (optional)"}),i.jsxs(xt,{value:m??"none",onValueChange:y=>c("webhook_id",y==="none"?null:y),children:[i.jsx(ht,{id:"webhook_id",children:i.jsx(bt,{placeholder:"Global (all webhooks)"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"none",children:"Global (all webhooks)"}),a.map(y=>i.jsx(Ce,{value:y.id,children:y.route_name},y.id))]})]})]}),i.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[i.jsx(G,{htmlFor:"script_content",children:"Script content"}),i.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function lie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=x.useState(null),[s,a]=x.useState(null),{data:o,isLoading:l}=tie(r),c=rie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>a(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return i.jsxs(J,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(GH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),i.jsx(we,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"payload-webhook",children:"Webhook"}),t?i.jsx(de,{className:"h-10 w-full rounded-md"}):i.jsxs(xt,{value:r??"",onValueChange:h=>{n(h||null),a(null)},children:[i.jsx(ht,{id:"payload-webhook",children:i.jsx(bt,{placeholder:"Select a webhook"})}),i.jsx(mt,{children:e.length===0?i.jsx(Ce,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>i.jsx(Ce,{value:h.id,children:h.route_name},h.id))})]})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"template_content",children:"Template content"}),l?i.jsx(de,{className:"h-[200px] w-full rounded-md"}):i.jsx("textarea",{id:"template_content",rows:10,className:X("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>a(h.target.value),spellCheck:!1})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(E,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":i.jsxs(i.Fragment,{children:[i.jsx(p4,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function cie(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState(null),{data:c=[],isLoading:u}=Gae(),{data:d=[],isLoading:f}=Xae(null),h=Yae(),m=Qae(),g=Jae(),p=Zae(),y=eie(),b=async _=>{await h.mutateAsync(_),t(!1)},v=_=>{navigator.clipboard.writeText(_),l(_),W.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?p.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{a(null),n(!1)}}):g.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},S=_=>{a(_),n(!0)},j=()=>{a(null),n(!0)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),i.jsxs(E,{onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),i.jsxs(ei,{defaultValue:"endpoints",className:"space-y-4",children:[i.jsxs(ba,{className:"grid w-full max-w-2xl grid-cols-4",children:[i.jsx(jt,{value:"endpoints",children:"Endpoints"}),i.jsx(jt,{value:"hooks",children:"Hook scripts"}),i.jsx(jt,{value:"transform",children:"Payload transformer"}),i.jsx(jt,{value:"gmail",children:"Gmail Pub/Sub"})]}),i.jsx(_t,{value:"endpoints",className:"space-y-4",children:i.jsxs(J,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(qj,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),i.jsx(we,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),i.jsx(Z,{children:u?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>i.jsx(de,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(qj,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),i.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):i.jsx(yt,{className:"h-[400px] pr-4",children:i.jsx("div",{className:"space-y-3",children:c.map(_=>i.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:_.route_name}),i.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),i.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ym,{className:"h-3 w-3"}),"Last received"," ",Br(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&i.jsx(Xe,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),i.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[i.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>v(_.url),"aria-label":"Copy URL",children:o===_.url?i.jsx(Qm,{className:"h-4 w-4 text-success"}):i.jsx(l4,{className:"h-4 w-4"})}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsx(Ps,{align:"end",children:i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&m.mutate(_.id)},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),i.jsx(_t,{value:"hooks",className:"space-y-4",children:i.jsxs(J,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(oE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),i.jsx(we,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),i.jsxs(Z,{children:[i.jsx("div",{className:"mb-4 flex justify-end",children:i.jsxs(E,{onClick:j,children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),f?i.jsx("div",{className:"space-y-3",children:[1,2].map(_=>i.jsx(de,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(oE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),i.jsxs(E,{className:"mt-4",variant:"outline",onClick:j,children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):i.jsx(yt,{className:"h-[360px] pr-4",children:i.jsx("div",{className:"space-y-2",children:d.map(_=>{var N;return i.jsxs("div",{className:X("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:_.event_trigger}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((N=c.find(k=>k.id===_.webhook_id))==null?void 0:N.route_name)??_.webhook_id}`:"  Global"]})]}),i.jsxs("div",{className:"flex shrink-0 gap-1",children:[i.jsx(E,{variant:"ghost",size:"sm",onClick:()=>S(_),children:"Edit"}),i.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&y.mutate(_.id)},"aria-label":"Remove script",children:i.jsx(mn,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),i.jsx(_t,{value:"transform",className:"space-y-4",children:i.jsx(lie,{webhooks:c,isLoadingWebhooks:u})}),i.jsx(_t,{value:"gmail",className:"space-y-4",children:i.jsxs(J,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(Kh,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),i.jsx(we,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Kh,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),i.jsx(E,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),i.jsx(sie,{open:e,onOpenChange:t,onSubmit:b,isSubmitting:h.isPending}),i.jsx(oie,{open:r,onOpenChange:_=>{n(_),_||a(null)},onSubmit:w,isSubmitting:g.isPending||p.isPending,script:s,webhooks:c})]})}var uie=Array.isArray,Kn=uie,die=typeof gp=="object"&&gp&&gp.Object===Object&&gp,Y3=die,fie=Y3,hie=typeof self=="object"&&self&&self.Object===Object&&self,mie=fie||hie||Function("return this")(),ri=mie,pie=ri,gie=pie.Symbol,op=gie,IO=op,Q3=Object.prototype,vie=Q3.hasOwnProperty,yie=Q3.toString,kf=IO?IO.toStringTag:void 0;function xie(e){var t=vie.call(e,kf),r=e[kf];try{e[kf]=void 0;var n=!0}catch{}var s=yie.call(e);return n&&(t?e[kf]=r:delete e[kf]),s}var bie=xie,wie=Object.prototype,jie=wie.toString;function _ie(e){return jie.call(e)}var Sie=_ie,DO=op,Nie=bie,kie=Sie,Cie="[object Null]",Eie="[object Undefined]",LO=DO?DO.toStringTag:void 0;function Oie(e){return e==null?e===void 0?Eie:Cie:LO&&LO in Object(e)?Nie(e):kie(e)}var Hi=Oie;function Pie(e){return e!=null&&typeof e=="object"}var Gi=Pie,Aie=Hi,Tie=Gi,Rie="[object Symbol]";function Mie(e){return typeof e=="symbol"||Tie(e)&&Aie(e)==Rie}var Kd=Mie,$ie=Kn,Iie=Kd,Die=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lie=/^\w*$/;function Fie(e,t){if($ie(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Iie(e)?!0:Lie.test(e)||!Die.test(e)||t!=null&&e in Object(t)}var UN=Fie;function Uie(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ol=Uie;const Hd=Bt(ol);var Bie=Hi,qie=ol,zie="[object AsyncFunction]",Wie="[object Function]",Vie="[object GeneratorFunction]",Kie="[object Proxy]";function Hie(e){if(!qie(e))return!1;var t=Bie(e);return t==Wie||t==Vie||t==zie||t==Kie}var BN=Hie;const nt=Bt(BN);var Gie=ri,Yie=Gie["__core-js_shared__"],Qie=Yie,Dw=Qie,FO=function(){var e=/[^.]+$/.exec(Dw&&Dw.keys&&Dw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xie(e){return!!FO&&FO in e}var Jie=Xie,Zie=Function.prototype,eoe=Zie.toString;function toe(e){if(e!=null){try{return eoe.call(e)}catch{}try{return e+""}catch{}}return""}var X3=toe,roe=BN,noe=Jie,soe=ol,aoe=X3,ioe=/[\\^$.*+?()[\]{}|]/g,ooe=/^\[object .+?Constructor\]$/,loe=Function.prototype,coe=Object.prototype,uoe=loe.toString,doe=coe.hasOwnProperty,foe=RegExp("^"+uoe.call(doe).replace(ioe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hoe(e){if(!soe(e)||noe(e))return!1;var t=roe(e)?foe:ooe;return t.test(aoe(e))}var moe=hoe;function poe(e,t){return e==null?void 0:e[t]}var goe=poe,voe=moe,yoe=goe;function xoe(e,t){var r=yoe(e,t);return voe(r)?r:void 0}var Sc=xoe,boe=Sc,woe=boe(Object,"create"),Lx=woe,UO=Lx;function joe(){this.__data__=UO?UO(null):{},this.size=0}var _oe=joe;function Soe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Noe=Soe,koe=Lx,Coe="__lodash_hash_undefined__",Eoe=Object.prototype,Ooe=Eoe.hasOwnProperty;function Poe(e){var t=this.__data__;if(koe){var r=t[e];return r===Coe?void 0:r}return Ooe.call(t,e)?t[e]:void 0}var Aoe=Poe,Toe=Lx,Roe=Object.prototype,Moe=Roe.hasOwnProperty;function $oe(e){var t=this.__data__;return Toe?t[e]!==void 0:Moe.call(t,e)}var Ioe=$oe,Doe=Lx,Loe="__lodash_hash_undefined__";function Foe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Doe&&t===void 0?Loe:t,this}var Uoe=Foe,Boe=_oe,qoe=Noe,zoe=Aoe,Woe=Ioe,Voe=Uoe;function Gd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gd.prototype.clear=Boe;Gd.prototype.delete=qoe;Gd.prototype.get=zoe;Gd.prototype.has=Woe;Gd.prototype.set=Voe;var Koe=Gd;function Hoe(){this.__data__=[],this.size=0}var Goe=Hoe;function Yoe(e,t){return e===t||e!==e&&t!==t}var qN=Yoe,Qoe=qN;function Xoe(e,t){for(var r=e.length;r--;)if(Qoe(e[r][0],t))return r;return-1}var Fx=Xoe,Joe=Fx,Zoe=Array.prototype,ele=Zoe.splice;function tle(e){var t=this.__data__,r=Joe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ele.call(t,r,1),--this.size,!0}var rle=tle,nle=Fx;function sle(e){var t=this.__data__,r=nle(t,e);return r<0?void 0:t[r][1]}var ale=sle,ile=Fx;function ole(e){return ile(this.__data__,e)>-1}var lle=ole,cle=Fx;function ule(e,t){var r=this.__data__,n=cle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var dle=ule,fle=Goe,hle=rle,mle=ale,ple=lle,gle=dle;function Yd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yd.prototype.clear=fle;Yd.prototype.delete=hle;Yd.prototype.get=mle;Yd.prototype.has=ple;Yd.prototype.set=gle;var Ux=Yd,vle=Sc,yle=ri,xle=vle(yle,"Map"),zN=xle,BO=Koe,ble=Ux,wle=zN;function jle(){this.size=0,this.__data__={hash:new BO,map:new(wle||ble),string:new BO}}var _le=jle;function Sle(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Nle=Sle,kle=Nle;function Cle(e,t){var r=e.__data__;return kle(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Bx=Cle,Ele=Bx;function Ole(e){var t=Ele(this,e).delete(e);return this.size-=t?1:0,t}var Ple=Ole,Ale=Bx;function Tle(e){return Ale(this,e).get(e)}var Rle=Tle,Mle=Bx;function $le(e){return Mle(this,e).has(e)}var Ile=$le,Dle=Bx;function Lle(e,t){var r=Dle(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Fle=Lle,Ule=_le,Ble=Ple,qle=Rle,zle=Ile,Wle=Fle;function Qd(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Qd.prototype.clear=Ule;Qd.prototype.delete=Ble;Qd.prototype.get=qle;Qd.prototype.has=zle;Qd.prototype.set=Wle;var WN=Qd,J3=WN,Vle="Expected a function";function VN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vle);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var o=e.apply(this,n);return r.cache=a.set(s,o)||a,o};return r.cache=new(VN.Cache||J3),r}VN.Cache=J3;var Z3=VN;const Kle=Bt(Z3);var Hle=Z3,Gle=500;function Yle(e){var t=Hle(e,function(n){return r.size===Gle&&r.clear(),n}),r=t.cache;return t}var Qle=Yle,Xle=Qle,Jle=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zle=/\\(\\)?/g,ece=Xle(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Jle,function(r,n,s,a){t.push(s?a.replace(Zle,"$1"):n||r)}),t}),tce=ece;function rce(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var KN=rce,qO=op,nce=KN,sce=Kn,ace=Kd,zO=qO?qO.prototype:void 0,WO=zO?zO.toString:void 0;function e5(e){if(typeof e=="string")return e;if(sce(e))return nce(e,e5)+"";if(ace(e))return WO?WO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ice=e5,oce=ice;function lce(e){return e==null?"":oce(e)}var t5=lce,cce=Kn,uce=UN,dce=tce,fce=t5;function hce(e,t){return cce(e)?e:uce(e,t)?[e]:dce(fce(e))}var r5=hce,mce=Kd;function pce(e){if(typeof e=="string"||mce(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var qx=pce,gce=r5,vce=qx;function yce(e,t){t=gce(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[vce(t[r++])];return r&&r==n?e:void 0}var HN=yce,xce=HN;function bce(e,t,r){var n=e==null?void 0:xce(e,t);return n===void 0?r:n}var n5=bce;const As=Bt(n5);function wce(e){return e==null}var jce=wce;const ft=Bt(jce);var _ce=Hi,Sce=Kn,Nce=Gi,kce="[object String]";function Cce(e){return typeof e=="string"||!Sce(e)&&Nce(e)&&_ce(e)==kce}var Ece=Cce;const dc=Bt(Ece);var s5={exports:{}},Dt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GN=Symbol.for("react.element"),YN=Symbol.for("react.portal"),zx=Symbol.for("react.fragment"),Wx=Symbol.for("react.strict_mode"),Vx=Symbol.for("react.profiler"),Kx=Symbol.for("react.provider"),Hx=Symbol.for("react.context"),Oce=Symbol.for("react.server_context"),Gx=Symbol.for("react.forward_ref"),Yx=Symbol.for("react.suspense"),Qx=Symbol.for("react.suspense_list"),Xx=Symbol.for("react.memo"),Jx=Symbol.for("react.lazy"),Pce=Symbol.for("react.offscreen"),a5;a5=Symbol.for("react.module.reference");function Ls(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case GN:switch(e=e.type,e){case zx:case Vx:case Wx:case Yx:case Qx:return e;default:switch(e=e&&e.$$typeof,e){case Oce:case Hx:case Gx:case Jx:case Xx:case Kx:return e;default:return t}}case YN:return t}}}Dt.ContextConsumer=Hx;Dt.ContextProvider=Kx;Dt.Element=GN;Dt.ForwardRef=Gx;Dt.Fragment=zx;Dt.Lazy=Jx;Dt.Memo=Xx;Dt.Portal=YN;Dt.Profiler=Vx;Dt.StrictMode=Wx;Dt.Suspense=Yx;Dt.SuspenseList=Qx;Dt.isAsyncMode=function(){return!1};Dt.isConcurrentMode=function(){return!1};Dt.isContextConsumer=function(e){return Ls(e)===Hx};Dt.isContextProvider=function(e){return Ls(e)===Kx};Dt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===GN};Dt.isForwardRef=function(e){return Ls(e)===Gx};Dt.isFragment=function(e){return Ls(e)===zx};Dt.isLazy=function(e){return Ls(e)===Jx};Dt.isMemo=function(e){return Ls(e)===Xx};Dt.isPortal=function(e){return Ls(e)===YN};Dt.isProfiler=function(e){return Ls(e)===Vx};Dt.isStrictMode=function(e){return Ls(e)===Wx};Dt.isSuspense=function(e){return Ls(e)===Yx};Dt.isSuspenseList=function(e){return Ls(e)===Qx};Dt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===zx||e===Vx||e===Wx||e===Yx||e===Qx||e===Pce||typeof e=="object"&&e!==null&&(e.$$typeof===Jx||e.$$typeof===Xx||e.$$typeof===Kx||e.$$typeof===Hx||e.$$typeof===Gx||e.$$typeof===a5||e.getModuleId!==void 0)};Dt.typeOf=Ls;s5.exports=Dt;var Ace=s5.exports,Tce=Hi,Rce=Gi,Mce="[object Number]";function $ce(e){return typeof e=="number"||Rce(e)&&Tce(e)==Mce}var i5=$ce;const Ice=Bt(i5);var Dce=i5;function Lce(e){return Dce(e)&&e!=+e}var Fce=Lce;const Xd=Bt(Fce);var la=function(t){return t===0?0:t>0?1:-1},Al=function(t){return dc(t)&&t.indexOf("%")===t.length-1},pe=function(t){return Ice(t)&&!Xd(t)},Uce=function(t){return ft(t)},Lr=function(t){return pe(t)||dc(t)},Bce=0,lp=function(t){var r=++Bce;return"".concat(t||"").concat(r)},fc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!pe(t)&&!dc(t))return n;var a;if(Al(t)){var o=t.indexOf("%");a=r*parseFloat(t.slice(0,o))/100}else a=+t;return Xd(a)&&(a=n),s&&a>r&&(a=r),a},yo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},qce=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},js=function(t,r){return pe(t)&&pe(r)?function(n){return t+n*(r-t)}:function(){return r}};function Av(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):As(n,t))===r})}var zce=function(t,r){return pe(t)&&pe(r)?t-r:dc(t)&&dc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Cu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function f_(e){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f_(e)}var Wce=["viewBox","children"],Vce=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],VO=["points","pathLength"],Lw={svg:Wce,polygon:VO,polyline:VO},QN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!Hd(n))return null;var s={};return Object.keys(n).forEach(function(a){QN.includes(a)&&(s[a]=r||function(o){return n[a](n,o)})}),s},Kce=function(t,r,n){return function(s){return t(r,n,s),null}},Rv=function(t,r,n){if(!Hd(t)||f_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(a){var o=t[a];QN.includes(a)&&typeof o=="function"&&(s||(s={}),s[a]=Kce(o,r,n))}),s},Hce=["children"],Gce=["children"];function KO(e,t){if(e==null)return{};var r=Yce(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yce(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h_(e){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h_(e)}var HO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Si=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},GO=null,Fw=null,XN=function e(t){if(t===GO&&Array.isArray(Fw))return Fw;var r=[];return x.Children.forEach(t,function(n){ft(n)||(Ace.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Fw=r,GO=t,r};function ma(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Si(s)}):n=[Si(t)],XN(e).forEach(function(s){var a=As(s,"type.displayName")||As(s,"type.name");n.indexOf(a)!==-1&&r.push(s)}),r}function Jn(e,t){var r=ma(e,t);return r&&r[0]}var YO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!pe(n)||n<=0||!pe(s)||s<=0)},Qce=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Xce=function(t){return t&&t.type&&dc(t.type)&&Qce.indexOf(t.type)>=0},Jce=function(t){return t&&h_(t)==="object"&&"clipDot"in t},Zce=function(t,r,n,s){var a,o=(a=Lw==null?void 0:Lw[s])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||Vce.includes(r))||n&&QN.includes(r)},it=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!Hd(s))return null;var a={};return Object.keys(s).forEach(function(o){var l;Zce((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=s[o])}),a},m_=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return QO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var a=t[s],o=r[s];if(Array.isArray(a)||Array.isArray(o)){if(!e(a,o))return!1}else if(!QO(a,o))return!1}return!0},QO=function(t,r){if(ft(t)&&ft(r))return!0;if(!ft(t)&&!ft(r)){var n=t.props||{},s=n.children,a=KO(n,Hce),o=r.props||{},l=o.children,c=KO(o,Gce);return s&&l?Cu(a,c)&&m_(s,l):!s&&!l?Cu(a,c):!1}return!1},XO=function(t,r){var n=[],s={};return XN(t).forEach(function(a,o){if(Xce(a))n.push(a);else if(a){var l=Si(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(a,l,o);n.push(f),s[l]=!0}}}),n},eue=function(t){var r=t&&t.type;return r&&HO[r]?HO[r]:null},tue=function(t,r){return XN(r).indexOf(t)},rue=["children","width","height","viewBox","className","style","title","desc"];function p_(){return p_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p_.apply(this,arguments)}function nue(e,t){if(e==null)return{};var r=sue(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function g_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,a=e.className,o=e.style,l=e.title,c=e.desc,u=nue(e,rue),d=s||{width:r,height:n,x:0,y:0},f=vt("recharts-surface",a);return P.createElement("svg",p_({},it(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),P.createElement("title",null,l),P.createElement("desc",null,c),t)}var aue=["children","className"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function iue(e,t){if(e==null)return{};var r=oue(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cr=P.forwardRef(function(e,t){var r=e.children,n=e.className,s=iue(e,aue),a=vt("recharts-layer",n);return P.createElement("g",v_({className:a},it(s,!0),{ref:t}),r)}),Ni=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a]};function lue(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var cue=lue,uue=cue;function due(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:uue(e,t,r)}var fue=due,hue="\\ud800-\\udfff",mue="\\u0300-\\u036f",pue="\\ufe20-\\ufe2f",gue="\\u20d0-\\u20ff",vue=mue+pue+gue,yue="\\ufe0e\\ufe0f",xue="\\u200d",bue=RegExp("["+xue+hue+vue+yue+"]");function wue(e){return bue.test(e)}var o5=wue;function jue(e){return e.split("")}var _ue=jue,l5="\\ud800-\\udfff",Sue="\\u0300-\\u036f",Nue="\\ufe20-\\ufe2f",kue="\\u20d0-\\u20ff",Cue=Sue+Nue+kue,Eue="\\ufe0e\\ufe0f",Oue="["+l5+"]",y_="["+Cue+"]",x_="\\ud83c[\\udffb-\\udfff]",Pue="(?:"+y_+"|"+x_+")",c5="[^"+l5+"]",u5="(?:\\ud83c[\\udde6-\\uddff]){2}",d5="[\\ud800-\\udbff][\\udc00-\\udfff]",Aue="\\u200d",f5=Pue+"?",h5="["+Eue+"]?",Tue="(?:"+Aue+"(?:"+[c5,u5,d5].join("|")+")"+h5+f5+")*",Rue=h5+f5+Tue,Mue="(?:"+[c5+y_+"?",y_,u5,d5,Oue].join("|")+")",$ue=RegExp(x_+"(?="+x_+")|"+Mue+Rue,"g");function Iue(e){return e.match($ue)||[]}var Due=Iue,Lue=_ue,Fue=o5,Uue=Due;function Bue(e){return Fue(e)?Uue(e):Lue(e)}var que=Bue,zue=fue,Wue=o5,Vue=que,Kue=t5;function Hue(e){return function(t){t=Kue(t);var r=Wue(t)?Vue(t):void 0,n=r?r[0]:t.charAt(0),s=r?zue(r,1).join(""):t.slice(1);return n[e]()+s}}var Gue=Hue,Yue=Gue,Que=Yue("toUpperCase"),Xue=Que;const Zx=Bt(Xue);function Ht(e){return function(){return e}}const m5=Math.cos,Mv=Math.sin,ja=Math.sqrt,$v=Math.PI,eb=2*$v,b_=Math.PI,w_=2*b_,bl=1e-6,Jue=w_-bl;function p5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Zue(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return p5;const r=10**t;return function(n){this._+=n[0];for(let s=1,a=n.length;s<a;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class ede{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?p5:Zue(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,a,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+a},${this._y1=+o}`}arcTo(t,r,n,s,a){if(t=+t,r=+r,n=+n,s=+s,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>bl)if(!(Math.abs(f*c-u*d)>bl)||!a)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,y=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(h),w=a*Math.tan((b_-Math.acos((p+h-y)/(2*b*v)))/2),S=w/v,j=w/b;Math.abs(S-1)>bl&&this._append`L${t+S*d},${r+S*f}`,this._append`A${a},${a},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,a,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-a:a-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>bl||Math.abs(this._y1-d)>bl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%w_+w_),h>Jue?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>bl&&this._append`A${n},${n},0,${+(h>=b_)},${f},${this._x1=t+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function JN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ede(t)}function ZN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function g5(e){this._context=e}g5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function tb(e){return new g5(e)}function v5(e){return e[0]}function y5(e){return e[1]}function x5(e,t){var r=Ht(!0),n=null,s=tb,a=null,o=JN(l);e=typeof e=="function"?e:e===void 0?v5:Ht(e),t=typeof t=="function"?t:t===void 0?y5:Ht(t);function l(c){var u,d=(c=ZN(c)).length,f,h=!1,m;for(n==null&&(a=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ht(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ht(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ht(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(a=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=a=null:a=s(n=c),l):n},l}function Zp(e,t,r){var n=null,s=Ht(!0),a=null,o=tb,l=null,c=JN(u);e=typeof e=="function"?e:e===void 0?v5:Ht(+e),t=typeof t=="function"?t:Ht(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?y5:Ht(+r);function u(f){var h,m,g,p=(f=ZN(f)).length,y,b=!1,v,w=new Array(p),S=new Array(p);for(a==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],S[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(y,h,f),S[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):S[h]))}if(v)return l=null,v+""||null}function d(){return x5().defined(s).curve(o).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ht(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ht(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ht(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ht(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ht(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class b5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function tde(e){return new b5(e,!0)}function rde(e){return new b5(e,!1)}const ek={draw(e,t){const r=ja(t/$v);e.moveTo(r,0),e.arc(0,0,r,0,eb)}},nde={draw(e,t){const r=ja(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},w5=ja(1/3),sde=w5*2,ade={draw(e,t){const r=ja(t/sde),n=r*w5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ide={draw(e,t){const r=ja(t),n=-r/2;e.rect(n,n,r,r)}},ode=.8908130915292852,j5=Mv($v/10)/Mv(7*$v/10),lde=Mv(eb/10)*j5,cde=-m5(eb/10)*j5,ude={draw(e,t){const r=ja(t*ode),n=lde*r,s=cde*r;e.moveTo(0,-r),e.lineTo(n,s);for(let a=1;a<5;++a){const o=eb*a/5,l=m5(o),c=Mv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Uw=ja(3),dde={draw(e,t){const r=-ja(t/(Uw*3));e.moveTo(0,r*2),e.lineTo(-Uw*r,-r),e.lineTo(Uw*r,-r),e.closePath()}},ms=-.5,ps=ja(3)/2,j_=1/ja(12),fde=(j_/2+1)*3,hde={draw(e,t){const r=ja(t/fde),n=r/2,s=r*j_,a=n,o=r*j_+r,l=-a,c=o;e.moveTo(n,s),e.lineTo(a,o),e.lineTo(l,c),e.lineTo(ms*n-ps*s,ps*n+ms*s),e.lineTo(ms*a-ps*o,ps*a+ms*o),e.lineTo(ms*l-ps*c,ps*l+ms*c),e.lineTo(ms*n+ps*s,ms*s-ps*n),e.lineTo(ms*a+ps*o,ms*o-ps*a),e.lineTo(ms*l+ps*c,ms*c-ps*l),e.closePath()}};function mde(e,t){let r=null,n=JN(s);e=typeof e=="function"?e:Ht(e||ek),t=typeof t=="function"?t:Ht(t===void 0?64:+t);function s(){let a;if(r||(r=a=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),a)return r=null,a+""||null}return s.type=function(a){return arguments.length?(e=typeof a=="function"?a:Ht(a),s):e},s.size=function(a){return arguments.length?(t=typeof a=="function"?a:Ht(+a),s):t},s.context=function(a){return arguments.length?(r=a??null,s):r},s}function Iv(){}function Dv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function _5(e){this._context=e}_5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function pde(e){return new _5(e)}function S5(e){this._context=e}S5.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function gde(e){return new S5(e)}function N5(e){this._context=e}N5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vde(e){return new N5(e)}function k5(e){this._context=e}k5.prototype={areaStart:Iv,areaEnd:Iv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function yde(e){return new k5(e)}function JO(e){return e<0?-1:1}function ZO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,a=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(a*s+o*n)/(n+s);return(JO(a)+JO(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function eP(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bw(e,t,r){var n=e._x0,s=e._y0,a=e._x1,o=e._y1,l=(a-n)/3;e._context.bezierCurveTo(n+l,s+l*t,a-l,o-l*r,a,o)}function Lv(e){this._context=e}Lv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bw(this,this._t0,eP(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bw(this,eP(this,r=ZO(this,e,t)),r);break;default:Bw(this,this._t0,r=ZO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function C5(e){this._context=new E5(e)}(C5.prototype=Object.create(Lv.prototype)).point=function(e,t){Lv.prototype.point.call(this,t,e)};function E5(e){this._context=e}E5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,a){this._context.bezierCurveTo(t,e,n,r,a,s)}};function xde(e){return new Lv(e)}function bde(e){return new C5(e)}function O5(e){this._context=e}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=tP(e),s=tP(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],s[0][a],n[1][a],s[1][a],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function tP(e){var t,r=e.length-1,n,s=new Array(r),a=new Array(r),o=new Array(r);for(s[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/a[t];for(a[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-s[t+1];return[s,a]}function wde(e){return new O5(e)}function rb(e,t){this._context=e,this._t=t}rb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jde(e){return new rb(e,.5)}function _de(e){return new rb(e,0)}function Sde(e){return new rb(e,1)}function ld(e,t){if((o=e.length)>1)for(var r=1,n,s,a=e[t[0]],o,l=a.length;r<o;++r)for(s=a,a=e[t[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function __(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Nde(e,t){return e[t]}function kde(e){const t=[];return t.key=e,t}function Cde(){var e=Ht([]),t=__,r=ld,n=Nde;function s(a){var o=Array.from(e.apply(this,arguments),kde),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=ZN(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Ht(Array.from(a)),s):e},s.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ht(+a),s):n},s.order=function(a){return arguments.length?(t=a==null?__:typeof a=="function"?a:Ht(Array.from(a)),s):t},s.offset=function(a){return arguments.length?(r=a??ld,s):r},s}function Ede(e,t){if((n=e.length)>0){for(var r,n,s=0,a=e[0].length,o;s<a;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}ld(e,t)}}function Ode(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,a=n.length;r<a;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ld(e,t)}}function Pde(e,t){if(!(!((o=e.length)>0)||!((a=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[n][1]||0,b=p[n-1][1]||0;m+=y-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,ld(e,t)}}function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}var Ade=["type","size","sizeType"];function S_(){return S_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S_.apply(this,arguments)}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){Tde(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tde(e,t,r){return t=Rde(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rde(e){var t=Mde(e,"string");return tm(t)=="symbol"?t:t+""}function Mde(e,t){if(tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $de(e,t){if(e==null)return{};var r=Ide(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ide(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var P5={symbolCircle:ek,symbolCross:nde,symbolDiamond:ade,symbolSquare:ide,symbolStar:ude,symbolTriangle:dde,symbolWye:hde},Dde=Math.PI/180,Lde=function(t){var r="symbol".concat(Zx(t));return P5[r]||ek},Fde=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Dde;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Ude=function(t,r){P5["symbol".concat(Zx(t))]=r},tk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,a=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=$de(t,Ade),u=nP(nP({},c),{},{type:n,size:a,sizeType:l}),d=function(){var y=Lde(n),b=mde().type(y).size(Fde(a,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=it(u,!0);return h===+h&&m===+m&&a===+a?P.createElement("path",S_({},g,{className:vt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};tk.registerSymbol=Ude;function cd(e){"@babel/helpers - typeof";return cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cd(e)}function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bde(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){rm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qde(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zde(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,T5(n.key),n)}}function Wde(e,t,r){return t&&zde(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vde(e,t,r){return t=Fv(t),Kde(e,A5()?Reflect.construct(t,r||[],Fv(e).constructor):t.apply(e,r))}function Kde(e,t){if(t&&(cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hde(e)}function Hde(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(A5=function(){return!!e})()}function Fv(e){return Fv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Fv(e)}function Gde(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k_(e,t)}function k_(e,t){return k_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k_(e,t)}function rm(e,t,r){return t=T5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T5(e){var t=Yde(e,"string");return cd(t)=="symbol"?t:t+""}function Yde(e,t){if(cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gs=32,rk=function(e){function t(){return qde(this,t),Vde(this,t,arguments)}return Gde(t,e),Wde(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,a=gs/2,o=gs/6,l=gs/3,c=n.inactive?s:n.color;if(n.type==="plainline")return P.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:gs,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return P.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(gs,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return P.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(gs/8,"h").concat(gs,"v").concat(gs*3/4,"h").concat(-gs,"z"),className:"recharts-legend-icon"});if(P.isValidElement(n.legendIcon)){var u=Bde({},n);return delete u.legendIcon,P.cloneElement(n.legendIcon,u)}return P.createElement(tk,{fill:c,cx:a,cy:a,size:gs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,a=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:gs,height:gs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var p=m.formatter||c,y=vt(rm(rm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=nt(m.value)?null:m.value;Ni(!nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return P.createElement("li",N_({className:y,style:f,key:"legend-item-".concat(g)},Rv(n.props,m,g)),P.createElement(g_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),P.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,a=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return P.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);rm(rk,"displayName","Legend");rm(rk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Qde=Ux;function Xde(){this.__data__=new Qde,this.size=0}var Jde=Xde;function Zde(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var efe=Zde;function tfe(e){return this.__data__.get(e)}var rfe=tfe;function nfe(e){return this.__data__.has(e)}var sfe=nfe,afe=Ux,ife=zN,ofe=WN,lfe=200;function cfe(e,t){var r=this.__data__;if(r instanceof afe){var n=r.__data__;if(!ife||n.length<lfe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new ofe(n)}return r.set(e,t),this.size=r.size,this}var ufe=cfe,dfe=Ux,ffe=Jde,hfe=efe,mfe=rfe,pfe=sfe,gfe=ufe;function Jd(e){var t=this.__data__=new dfe(e);this.size=t.size}Jd.prototype.clear=ffe;Jd.prototype.delete=hfe;Jd.prototype.get=mfe;Jd.prototype.has=pfe;Jd.prototype.set=gfe;var R5=Jd,vfe="__lodash_hash_undefined__";function yfe(e){return this.__data__.set(e,vfe),this}var xfe=yfe;function bfe(e){return this.__data__.has(e)}var wfe=bfe,jfe=WN,_fe=xfe,Sfe=wfe;function Uv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new jfe;++t<r;)this.add(e[t])}Uv.prototype.add=Uv.prototype.push=_fe;Uv.prototype.has=Sfe;var M5=Uv;function Nfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var $5=Nfe;function kfe(e,t){return e.has(t)}var I5=kfe,Cfe=M5,Efe=$5,Ofe=I5,Pfe=1,Afe=2;function Tfe(e,t,r,n,s,a){var o=r&Pfe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&Afe?new Cfe:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var y=o?n(p,g,f,t,e,a):n(g,p,f,e,t,a);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!Efe(t,function(b,v){if(!Ofe(m,v)&&(g===b||s(g,b,r,n,a)))return m.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var D5=Tfe,Rfe=ri,Mfe=Rfe.Uint8Array,$fe=Mfe;function Ife(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var Dfe=Ife;function Lfe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var nk=Lfe,aP=op,iP=$fe,Ffe=qN,Ufe=D5,Bfe=Dfe,qfe=nk,zfe=1,Wfe=2,Vfe="[object Boolean]",Kfe="[object Date]",Hfe="[object Error]",Gfe="[object Map]",Yfe="[object Number]",Qfe="[object RegExp]",Xfe="[object Set]",Jfe="[object String]",Zfe="[object Symbol]",ehe="[object ArrayBuffer]",the="[object DataView]",oP=aP?aP.prototype:void 0,qw=oP?oP.valueOf:void 0;function rhe(e,t,r,n,s,a,o){switch(r){case the:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ehe:return!(e.byteLength!=t.byteLength||!a(new iP(e),new iP(t)));case Vfe:case Kfe:case Yfe:return Ffe(+e,+t);case Hfe:return e.name==t.name&&e.message==t.message;case Qfe:case Jfe:return e==t+"";case Gfe:var l=Bfe;case Xfe:var c=n&zfe;if(l||(l=qfe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Wfe,o.set(e,t);var d=Ufe(l(e),l(t),n,s,a,o);return o.delete(e),d;case Zfe:if(qw)return qw.call(e)==qw.call(t)}return!1}var nhe=rhe;function she(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var L5=she,ahe=L5,ihe=Kn;function ohe(e,t,r){var n=t(e);return ihe(e)?n:ahe(n,r(e))}var lhe=ohe;function che(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var o=e[r];t(o,r,e)&&(a[s++]=o)}return a}var uhe=che;function dhe(){return[]}var fhe=dhe,hhe=uhe,mhe=fhe,phe=Object.prototype,ghe=phe.propertyIsEnumerable,lP=Object.getOwnPropertySymbols,vhe=lP?function(e){return e==null?[]:(e=Object(e),hhe(lP(e),function(t){return ghe.call(e,t)}))}:mhe,yhe=vhe;function xhe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var bhe=xhe,whe=Hi,jhe=Gi,_he="[object Arguments]";function She(e){return jhe(e)&&whe(e)==_he}var Nhe=She,cP=Nhe,khe=Gi,F5=Object.prototype,Che=F5.hasOwnProperty,Ehe=F5.propertyIsEnumerable,Ohe=cP(function(){return arguments}())?cP:function(e){return khe(e)&&Che.call(e,"callee")&&!Ehe.call(e,"callee")},sk=Ohe,Bv={exports:{}};function Phe(){return!1}var Ahe=Phe;Bv.exports;(function(e,t){var r=ri,n=Ahe,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,o=a&&a.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Bv,Bv.exports);var U5=Bv.exports,The=9007199254740991,Rhe=/^(?:0|[1-9]\d*)$/;function Mhe(e,t){var r=typeof e;return t=t??The,!!t&&(r=="number"||r!="symbol"&&Rhe.test(e))&&e>-1&&e%1==0&&e<t}var ak=Mhe,$he=9007199254740991;function Ihe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$he}var ik=Ihe,Dhe=Hi,Lhe=ik,Fhe=Gi,Uhe="[object Arguments]",Bhe="[object Array]",qhe="[object Boolean]",zhe="[object Date]",Whe="[object Error]",Vhe="[object Function]",Khe="[object Map]",Hhe="[object Number]",Ghe="[object Object]",Yhe="[object RegExp]",Qhe="[object Set]",Xhe="[object String]",Jhe="[object WeakMap]",Zhe="[object ArrayBuffer]",eme="[object DataView]",tme="[object Float32Array]",rme="[object Float64Array]",nme="[object Int8Array]",sme="[object Int16Array]",ame="[object Int32Array]",ime="[object Uint8Array]",ome="[object Uint8ClampedArray]",lme="[object Uint16Array]",cme="[object Uint32Array]",Jt={};Jt[tme]=Jt[rme]=Jt[nme]=Jt[sme]=Jt[ame]=Jt[ime]=Jt[ome]=Jt[lme]=Jt[cme]=!0;Jt[Uhe]=Jt[Bhe]=Jt[Zhe]=Jt[qhe]=Jt[eme]=Jt[zhe]=Jt[Whe]=Jt[Vhe]=Jt[Khe]=Jt[Hhe]=Jt[Ghe]=Jt[Yhe]=Jt[Qhe]=Jt[Xhe]=Jt[Jhe]=!1;function ume(e){return Fhe(e)&&Lhe(e.length)&&!!Jt[Dhe(e)]}var dme=ume;function fme(e){return function(t){return e(t)}}var B5=fme,qv={exports:{}};qv.exports;(function(e,t){var r=Y3,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,o=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(qv,qv.exports);var hme=qv.exports,mme=dme,pme=B5,uP=hme,dP=uP&&uP.isTypedArray,gme=dP?pme(dP):mme,q5=gme,vme=bhe,yme=sk,xme=Kn,bme=U5,wme=ak,jme=q5,_me=Object.prototype,Sme=_me.hasOwnProperty;function Nme(e,t){var r=xme(e),n=!r&&yme(e),s=!r&&!n&&bme(e),a=!r&&!n&&!s&&jme(e),o=r||n||s||a,l=o?vme(e.length,String):[],c=l.length;for(var u in e)(t||Sme.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||wme(u,c)))&&l.push(u);return l}var kme=Nme,Cme=Object.prototype;function Eme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Cme;return e===r}var Ome=Eme;function Pme(e,t){return function(r){return e(t(r))}}var z5=Pme,Ame=z5,Tme=Ame(Object.keys,Object),Rme=Tme,Mme=Ome,$me=Rme,Ime=Object.prototype,Dme=Ime.hasOwnProperty;function Lme(e){if(!Mme(e))return $me(e);var t=[];for(var r in Object(e))Dme.call(e,r)&&r!="constructor"&&t.push(r);return t}var Fme=Lme,Ume=BN,Bme=ik;function qme(e){return e!=null&&Bme(e.length)&&!Ume(e)}var cp=qme,zme=kme,Wme=Fme,Vme=cp;function Kme(e){return Vme(e)?zme(e):Wme(e)}var nb=Kme,Hme=lhe,Gme=yhe,Yme=nb;function Qme(e){return Hme(e,Yme,Gme)}var Xme=Qme,fP=Xme,Jme=1,Zme=Object.prototype,epe=Zme.hasOwnProperty;function tpe(e,t,r,n,s,a){var o=r&Jme,l=fP(e),c=l.length,u=fP(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:epe.call(t,h)))return!1}var m=a.get(e),g=a.get(t);if(m&&g)return m==t&&g==e;var p=!0;a.set(e,t),a.set(t,e);for(var y=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var w=o?n(v,b,h,t,e,a):n(b,v,h,e,t,a);if(!(w===void 0?b===v||s(b,v,r,n,a):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var S=e.constructor,j=t.constructor;S!=j&&"constructor"in e&&"constructor"in t&&!(typeof S=="function"&&S instanceof S&&typeof j=="function"&&j instanceof j)&&(p=!1)}return a.delete(e),a.delete(t),p}var rpe=tpe,npe=Sc,spe=ri,ape=npe(spe,"DataView"),ipe=ape,ope=Sc,lpe=ri,cpe=ope(lpe,"Promise"),upe=cpe,dpe=Sc,fpe=ri,hpe=dpe(fpe,"Set"),W5=hpe,mpe=Sc,ppe=ri,gpe=mpe(ppe,"WeakMap"),vpe=gpe,C_=ipe,E_=zN,O_=upe,P_=W5,A_=vpe,V5=Hi,Zd=X3,hP="[object Map]",ype="[object Object]",mP="[object Promise]",pP="[object Set]",gP="[object WeakMap]",vP="[object DataView]",xpe=Zd(C_),bpe=Zd(E_),wpe=Zd(O_),jpe=Zd(P_),_pe=Zd(A_),wl=V5;(C_&&wl(new C_(new ArrayBuffer(1)))!=vP||E_&&wl(new E_)!=hP||O_&&wl(O_.resolve())!=mP||P_&&wl(new P_)!=pP||A_&&wl(new A_)!=gP)&&(wl=function(e){var t=V5(e),r=t==ype?e.constructor:void 0,n=r?Zd(r):"";if(n)switch(n){case xpe:return vP;case bpe:return hP;case wpe:return mP;case jpe:return pP;case _pe:return gP}return t});var Spe=wl,zw=R5,Npe=D5,kpe=nhe,Cpe=rpe,yP=Spe,xP=Kn,bP=U5,Epe=q5,Ope=1,wP="[object Arguments]",jP="[object Array]",eg="[object Object]",Ppe=Object.prototype,_P=Ppe.hasOwnProperty;function Ape(e,t,r,n,s,a){var o=xP(e),l=xP(t),c=o?jP:yP(e),u=l?jP:yP(t);c=c==wP?eg:c,u=u==wP?eg:u;var d=c==eg,f=u==eg,h=c==u;if(h&&bP(e)){if(!bP(t))return!1;o=!0,d=!1}if(h&&!d)return a||(a=new zw),o||Epe(e)?Npe(e,t,r,n,s,a):kpe(e,t,c,r,n,s,a);if(!(r&Ope)){var m=d&&_P.call(e,"__wrapped__"),g=f&&_P.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return a||(a=new zw),s(p,y,r,n,a)}}return h?(a||(a=new zw),Cpe(e,t,r,n,s,a)):!1}var Tpe=Ape,Rpe=Tpe,SP=Gi;function K5(e,t,r,n,s){return e===t?!0:e==null||t==null||!SP(e)&&!SP(t)?e!==e&&t!==t:Rpe(e,t,r,n,K5,s)}var ok=K5,Mpe=R5,$pe=ok,Ipe=1,Dpe=2;function Lpe(e,t,r,n){var s=r.length,a=s,o=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Mpe;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?$pe(d,u,Ipe|Dpe,n,f):h))return!1}}return!0}var Fpe=Lpe,Upe=ol;function Bpe(e){return e===e&&!Upe(e)}var H5=Bpe,qpe=H5,zpe=nb;function Wpe(e){for(var t=zpe(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,qpe(s)]}return t}var Vpe=Wpe;function Kpe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var G5=Kpe,Hpe=Fpe,Gpe=Vpe,Ype=G5;function Qpe(e){var t=Gpe(e);return t.length==1&&t[0][2]?Ype(t[0][0],t[0][1]):function(r){return r===e||Hpe(r,e,t)}}var Xpe=Qpe;function Jpe(e,t){return e!=null&&t in Object(e)}var Zpe=Jpe,ege=r5,tge=sk,rge=Kn,nge=ak,sge=ik,age=qx;function ige(e,t,r){t=ege(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var o=age(t[n]);if(!(a=e!=null&&r(e,o)))break;e=e[o]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&sge(s)&&nge(o,s)&&(rge(e)||tge(e)))}var oge=ige,lge=Zpe,cge=oge;function uge(e,t){return e!=null&&cge(e,t,lge)}var dge=uge,fge=ok,hge=n5,mge=dge,pge=UN,gge=H5,vge=G5,yge=qx,xge=1,bge=2;function wge(e,t){return pge(e)&&gge(t)?vge(yge(e),t):function(r){var n=hge(r,e);return n===void 0&&n===t?mge(r,e):fge(t,n,xge|bge)}}var jge=wge;function _ge(e){return e}var ef=_ge;function Sge(e){return function(t){return t==null?void 0:t[e]}}var Nge=Sge,kge=HN;function Cge(e){return function(t){return kge(t,e)}}var Ege=Cge,Oge=Nge,Pge=Ege,Age=UN,Tge=qx;function Rge(e){return Age(e)?Oge(Tge(e)):Pge(e)}var Mge=Rge,$ge=Xpe,Ige=jge,Dge=ef,Lge=Kn,Fge=Mge;function Uge(e){return typeof e=="function"?e:e==null?Dge:typeof e=="object"?Lge(e)?Ige(e[0],e[1]):$ge(e):Fge(e)}var ll=Uge;function Bge(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var Y5=Bge;function qge(e){return e!==e}var zge=qge;function Wge(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Vge=Wge,Kge=Y5,Hge=zge,Gge=Vge;function Yge(e,t,r){return t===t?Gge(e,t,r):Kge(e,Hge,r)}var Qge=Yge,Xge=Qge;function Jge(e,t){var r=e==null?0:e.length;return!!r&&Xge(e,t,0)>-1}var Zge=Jge;function eve(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var tve=eve;function rve(){}var nve=rve,Ww=W5,sve=nve,ave=nk,ive=1/0,ove=Ww&&1/ave(new Ww([,-0]))[1]==ive?function(e){return new Ww(e)}:sve,lve=ove,cve=M5,uve=Zge,dve=tve,fve=I5,hve=lve,mve=nk,pve=200;function gve(e,t,r){var n=-1,s=uve,a=e.length,o=!0,l=[],c=l;if(r)o=!1,s=dve;else if(a>=pve){var u=t?null:hve(e);if(u)return mve(u);o=!1,s=fve,c=new cve}else c=t?[]:l;e:for(;++n<a;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var vve=gve,yve=ll,xve=vve;function bve(e,t){return e&&e.length?xve(e,yve(t)):[]}var wve=bve;const NP=Bt(wve);function Q5(e,t,r){return t===!0?NP(e,r):nt(t)?NP(e,t):e}function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}var jve=["ref"];function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ii(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _ve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J5(n.key),n)}}function Sve(e,t,r){return t&&CP(e.prototype,t),r&&CP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nve(e,t,r){return t=zv(t),kve(e,X5()?Reflect.construct(t,r||[],zv(e).constructor):t.apply(e,r))}function kve(e,t){if(t&&(ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cve(e)}function Cve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X5=function(){return!!e})()}function zv(e){return zv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zv(e)}function Eve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T_(e,t)}function T_(e,t){return T_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},T_(e,t)}function sb(e,t,r){return t=J5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J5(e){var t=Ove(e,"string");return ud(t)=="symbol"?t:t+""}function Ove(e,t){if(ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Pve(e,t){if(e==null)return{};var r=Ave(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ave(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Tve(e){return e.value}function Rve(e,t){if(P.isValidElement(e))return P.cloneElement(e,t);if(typeof e=="function")return P.createElement(e,t);t.ref;var r=Pve(t,jve);return P.createElement(rk,r)}var EP=1,Eu=function(e){function t(){var r;_ve(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Nve(this,t,[].concat(s)),sb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Eve(t,e),Sve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>EP||Math.abs(s.height-this.lastBoundingBox.height)>EP)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ii({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,a=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ii(ii({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,a=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ii(ii({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return P.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Rve(a,ii(ii({},this.props),{},{payload:Q5(d,u,Tve)})))}}],[{key:"getWithHeight",value:function(n,s){var a=ii(ii({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&pe(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);sb(Eu,"displayName","Legend");sb(Eu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var OP=op,Mve=sk,$ve=Kn,PP=OP?OP.isConcatSpreadable:void 0;function Ive(e){return $ve(e)||Mve(e)||!!(PP&&e&&e[PP])}var Dve=Ive,Lve=L5,Fve=Dve;function Z5(e,t,r,n,s){var a=-1,o=e.length;for(r||(r=Fve),s||(s=[]);++a<o;){var l=e[a];t>0&&r(l)?t>1?Z5(l,t-1,r,n,s):Lve(s,l):n||(s[s.length]=l)}return s}var eU=Z5;function Uve(e){return function(t,r,n){for(var s=-1,a=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var Bve=Uve,qve=Bve,zve=qve(),Wve=zve,Vve=Wve,Kve=nb;function Hve(e,t){return e&&Vve(e,t,Kve)}var tU=Hve,Gve=cp;function Yve(e,t){return function(r,n){if(r==null)return r;if(!Gve(r))return e(r,n);for(var s=r.length,a=t?s:-1,o=Object(r);(t?a--:++a<s)&&n(o[a],a,o)!==!1;);return r}}var Qve=Yve,Xve=tU,Jve=Qve,Zve=Jve(Xve),lk=Zve,eye=lk,tye=cp;function rye(e,t){var r=-1,n=tye(e)?Array(e.length):[];return eye(e,function(s,a,o){n[++r]=t(s,a,o)}),n}var rU=rye;function nye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var sye=nye,AP=Kd;function aye(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=AP(e),o=t!==void 0,l=t===null,c=t===t,u=AP(t);if(!l&&!u&&!a&&e>t||a&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!o&&s||!c)return-1}return 0}var iye=aye,oye=iye;function lye(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,o=s.length,l=r.length;++n<o;){var c=oye(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var cye=lye,Vw=KN,uye=HN,dye=ll,fye=rU,hye=sye,mye=B5,pye=cye,gye=ef,vye=Kn;function yye(e,t,r){t.length?t=Vw(t,function(a){return vye(a)?function(o){return uye(o,a.length===1?a[0]:a)}:a}):t=[gye];var n=-1;t=Vw(t,mye(dye));var s=fye(e,function(a,o,l){var c=Vw(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return hye(s,function(a,o){return pye(a,o,r)})}var xye=yye;function bye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var wye=bye,jye=wye,TP=Math.max;function _ye(e,t,r){return t=TP(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=TP(n.length-t,0),o=Array(a);++s<a;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),jye(e,this,l)}}var Sye=_ye;function Nye(e){return function(){return e}}var kye=Nye,Cye=Sc,Eye=function(){try{var e=Cye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),nU=Eye,Oye=kye,RP=nU,Pye=ef,Aye=RP?function(e,t){return RP(e,"toString",{configurable:!0,enumerable:!1,value:Oye(t),writable:!0})}:Pye,Tye=Aye,Rye=800,Mye=16,$ye=Date.now;function Iye(e){var t=0,r=0;return function(){var n=$ye(),s=Mye-(n-r);if(r=n,s>0){if(++t>=Rye)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Dye=Iye,Lye=Tye,Fye=Dye,Uye=Fye(Lye),Bye=Uye,qye=ef,zye=Sye,Wye=Bye;function Vye(e,t){return Wye(zye(e,t,qye),e+"")}var Kye=Vye,Hye=qN,Gye=cp,Yye=ak,Qye=ol;function Xye(e,t,r){if(!Qye(r))return!1;var n=typeof t;return(n=="number"?Gye(r)&&Yye(t,r.length):n=="string"&&t in r)?Hye(r[t],e):!1}var ab=Xye,Jye=eU,Zye=xye,exe=Kye,MP=ab,txe=exe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&MP(e,t[0],t[1])?t=[]:r>2&&MP(t[0],t[1],t[2])&&(t=[t[0]]),Zye(e,Jye(t,1),[])}),rxe=txe;const ck=Bt(rxe);function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function R_(){return R_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R_.apply(this,arguments)}function nxe(e,t){return oxe(e)||ixe(e,t)||axe(e,t)||sxe()}function sxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function axe(e,t){if(e){if(typeof e=="string")return $P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $P(e,t)}}function $P(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ixe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function oxe(e){if(Array.isArray(e))return e}function IP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Kw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IP(Object(r),!0).forEach(function(n){lxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lxe(e,t,r){return t=cxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cxe(e){var t=uxe(e,"string");return nm(t)=="symbol"?t:t+""}function uxe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dxe(e){return Array.isArray(e)&&Lr(e[0])&&Lr(e[1])?e.join(" ~ "):e}var fxe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,a=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},U=(h?ck(d,h):d).map(function(T,q){if(T.type==="none")return null;var R=Kw({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),z=T.formatter||f||dxe,D=T.value,M=T.name,$=D,ee=M;if(z&&$!=null&&ee!=null){var Y=z(D,M,T,q,d);if(Array.isArray(Y)){var ce=nxe(Y,2);$=ce[0],ee=ce[1]}else $=Y}return P.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:R},Lr(ee)?P.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Lr(ee)?P.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,P.createElement("span",{className:"recharts-tooltip-item-value"},$),P.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return P.createElement("ul",{className:"recharts-tooltip-item-list",style:O},U)}return null},S=Kw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),j=Kw({margin:0},u),_=!ft(p),N=_?p:"",k=vt("recharts-default-tooltip",m),C=vt("recharts-tooltip-label",g);_&&y&&d!==void 0&&d!==null&&(N=y(p,d));var A=v?{role:"status","aria-live":"assertive"}:{};return P.createElement("div",R_({className:k,style:S},A),P.createElement("p",{className:C,style:j},P.isValidElement(N)?N:"".concat(N)),w())};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function tg(e,t,r){return t=hxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hxe(e){var t=mxe(e,"string");return sm(t)=="symbol"?t:t+""}function mxe(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cf="recharts-tooltip-wrapper",pxe={visibility:"hidden"};function gxe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return vt(Cf,tg(tg(tg(tg({},"".concat(Cf,"-right"),pe(r)&&t&&pe(t.x)&&r>=t.x),"".concat(Cf,"-left"),pe(r)&&t&&pe(t.x)&&r<t.x),"".concat(Cf,"-bottom"),pe(n)&&t&&pe(t.y)&&n>=t.y),"".concat(Cf,"-top"),pe(n)&&t&&pe(t.y)&&n<t.y))}function DP(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,a=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(a&&pe(a[n]))return a[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function vxe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yxe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=DP({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=DP({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=vxe({translateX:d,translateY:f,useTranslate3d:l})):u=pxe,{cssProperties:u,cssClasses:gxe({translateX:d,translateY:f,coordinate:r})}}function dd(e){"@babel/helpers - typeof";return dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dd(e)}function LP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function FP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LP(Object(r),!0).forEach(function(n){$_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aU(n.key),n)}}function wxe(e,t,r){return t&&bxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jxe(e,t,r){return t=Wv(t),_xe(e,sU()?Reflect.construct(t,r||[],Wv(e).constructor):t.apply(e,r))}function _xe(e,t){if(t&&(dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Sxe(e)}function Sxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sU=function(){return!!e})()}function Wv(e){return Wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wv(e)}function Nxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M_(e,t)}function $_(e,t,r){return t=aU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aU(e){var t=kxe(e,"string");return dd(t)=="symbol"?t:t+""}function kxe(e,t){if(dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var UP=1,Cxe=function(e){function t(){var r;xxe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=jxe(this,t,[].concat(s)),$_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Nxe(t,e),wxe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>UP||Math.abs(n.height-this.state.lastBoundingBox.height)>UP)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,v=s.wrapperStyle,w=yxe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),S=w.cssClasses,j=w.cssProperties,_=FP(FP({transition:h&&a?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return P.createElement("div",{tabIndex:-1,className:S,style:_,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),Exe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tf={isSsr:Exe()};function fd(e){"@babel/helpers - typeof";return fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fd(e)}function BP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(r),!0).forEach(function(n){uk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oU(n.key),n)}}function Axe(e,t,r){return t&&Pxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Txe(e,t,r){return t=Vv(t),Rxe(e,iU()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function Rxe(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mxe(e)}function Mxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iU=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function $xe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I_(e,t)}function uk(e,t,r){return t=oU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oU(e){var t=Ixe(e,"string");return fd(t)=="symbol"?t:t+""}function Ixe(e,t){if(fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Dxe(e){return e.dataKey}function Lxe(e,t){return P.isValidElement(e)?P.cloneElement(e,t):typeof e=="function"?P.createElement(e,t):P.createElement(fxe,t)}var xs=function(e){function t(){return Oxe(this,t),Txe(this,t,arguments)}return $xe(t,e),Axe(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,y=s.position,b=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,S=s.wrapperStyle,j=g??[];f&&j.length&&(j=Q5(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,Dxe));var _=j.length>0;return P.createElement(Cxe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:a,coordinate:d,hasPayload:_,offset:m,position:y,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:S},Lxe(u,qP(qP({},this.props),{},{payload:j})))}}])}(x.PureComponent);uk(xs,"displayName","Tooltip");uk(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Fxe=ri,Uxe=function(){return Fxe.Date.now()},Bxe=Uxe,qxe=/\s/;function zxe(e){for(var t=e.length;t--&&qxe.test(e.charAt(t)););return t}var Wxe=zxe,Vxe=Wxe,Kxe=/^\s+/;function Hxe(e){return e&&e.slice(0,Vxe(e)+1).replace(Kxe,"")}var Gxe=Hxe,Yxe=Gxe,zP=ol,Qxe=Kd,WP=NaN,Xxe=/^[-+]0x[0-9a-f]+$/i,Jxe=/^0b[01]+$/i,Zxe=/^0o[0-7]+$/i,ebe=parseInt;function tbe(e){if(typeof e=="number")return e;if(Qxe(e))return WP;if(zP(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=zP(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Yxe(e);var r=Jxe.test(e);return r||Zxe.test(e)?ebe(e.slice(2),r?2:8):Xxe.test(e)?WP:+e}var lU=tbe,rbe=ol,Hw=Bxe,VP=lU,nbe="Expected a function",sbe=Math.max,abe=Math.min;function ibe(e,t,r){var n,s,a,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(nbe);t=VP(t)||0,rbe(r)&&(d=!!r.leading,f="maxWait"in r,a=f?sbe(VP(r.maxWait)||0,t):a,h="trailing"in r?!!r.trailing:h);function m(_){var N=n,k=s;return n=s=void 0,u=_,o=e.apply(k,N),o}function g(_){return u=_,l=setTimeout(b,t),d?m(_):o}function p(_){var N=_-c,k=_-u,C=t-N;return f?abe(C,a-k):C}function y(_){var N=_-c,k=_-u;return c===void 0||N>=t||N<0||f&&k>=a}function b(){var _=Hw();if(y(_))return v(_);l=setTimeout(b,p(_))}function v(_){return l=void 0,h&&n?m(_):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function S(){return l===void 0?o:v(Hw())}function j(){var _=Hw(),N=y(_);if(n=arguments,s=this,c=_,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=S,j}var obe=ibe,lbe=obe,cbe=ol,ube="Expected a function";function dbe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(ube);return cbe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),lbe(e,t,{leading:n,maxWait:t,trailing:s})}var fbe=dbe;const cU=Bt(fbe);function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function KP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KP(Object(r),!0).forEach(function(n){hbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hbe(e,t,r){return t=mbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mbe(e){var t=pbe(e,"string");return am(t)=="symbol"?t:t+""}function pbe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gbe(e,t){return bbe(e)||xbe(e,t)||ybe(e,t)||vbe()}function vbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ybe(e,t){if(e){if(typeof e=="string")return HP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HP(e,t)}}function HP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function bbe(e){if(Array.isArray(e))return e}var D_=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,a=e.width,o=a===void 0?"100%":a,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,b=e.className,v=e.onResize,w=e.style,S=w===void 0?{}:w,j=x.useRef(null),_=x.useRef();_.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=x.useState({containerWidth:s.width,containerHeight:s.height}),k=gbe(N,2),C=k[0],A=k[1],I=x.useCallback(function(U,T){A(function(q){var R=Math.round(U),z=Math.round(T);return q.containerWidth===R&&q.containerHeight===z?q:{containerWidth:R,containerHeight:z}})},[]);x.useEffect(function(){var U=function(M){var $,ee=M[0].contentRect,Y=ee.width,ce=ee.height;I(Y,ce),($=_.current)===null||$===void 0||$.call(_,Y,ce)};p>0&&(U=cU(U,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(U),q=j.current.getBoundingClientRect(),R=q.width,z=q.height;return I(R,z),T.observe(j.current),function(){T.disconnect()}},[I,p]);var O=x.useMemo(function(){var U=C.containerWidth,T=C.containerHeight;if(U<0||T<0)return null;Ni(Al(o)||Al(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ni(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Al(o)?U:o,R=Al(c)?T:c;r&&r>0&&(q?R=q/r:R&&(q=R*r),h&&R>h&&(R=h)),Ni(q>0||R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,R,o,c,d,f,r);var z=!Array.isArray(m)&&Si(m.type).endsWith("Chart");return P.Children.map(m,function(D){return P.isValidElement(D)?x.cloneElement(D,rg({width:q,height:R},z?{style:rg({height:"100%",width:"100%",maxHeight:R,maxWidth:q},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return P.createElement("div",{id:y?"".concat(y):void 0,className:vt("recharts-responsive-container",b),style:rg(rg({},S),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),uU=function(t){return null};uU.displayName="Cell";function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function GP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(r),!0).forEach(function(n){wbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wbe(e,t,r){return t=jbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jbe(e){var t=_be(e,"string");return im(t)=="symbol"?t:t+""}function _be(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kc={widthCache:{},cacheCount:0},Sbe=2e3,Nbe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YP="recharts_measurement_span";function kbe(e){var t=L_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var fh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||tf.isSsr)return{width:0,height:0};var n=kbe(r),s=JSON.stringify({text:t,copyStyle:n});if(Kc.widthCache[s])return Kc.widthCache[s];try{var a=document.getElementById(YP);a||(a=document.createElement("span"),a.setAttribute("id",YP),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=L_(L_({},Nbe),n);Object.assign(a.style,o),a.textContent="".concat(t);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return Kc.widthCache[s]=c,++Kc.cacheCount>Sbe&&(Kc.cacheCount=0,Kc.widthCache={}),c}catch{return{width:0,height:0}}},Cbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function Kv(e,t){return Abe(e)||Pbe(e,t)||Obe(e,t)||Ebe()}function Ebe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Obe(e,t){if(e){if(typeof e=="string")return QP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QP(e,t)}}function QP(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Pbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Abe(e){if(Array.isArray(e))return e}function Tbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XP(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mbe(n.key),n)}}function Rbe(e,t,r){return t&&XP(e.prototype,t),r&&XP(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mbe(e){var t=$be(e,"string");return om(t)=="symbol"?t:t+""}function $be(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ibe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Dbe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lbe=Object.keys(dU),mu="NaN";function Fbe(e,t){return e*dU[t]}var ng=function(){function e(t,r){Tbe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Ibe.test(r)&&(this.num=NaN,this.unit=""),Lbe.includes(r)&&(this.num=Fbe(t,r),this.unit="px")}return Rbe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=Dbe.exec(r))!==null&&n!==void 0?n:[],a=Kv(s,3),o=a[1],l=a[2];return new e(parseFloat(o),l??"")}}])}();function fU(e){if(e.includes(mu))return mu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=JP.exec(t))!==null&&r!==void 0?r:[],s=Kv(n,4),a=s[1],o=s[2],l=s[3],c=ng.parse(a??""),u=ng.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return mu;t=t.replace(JP,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=ZP.exec(t))!==null&&f!==void 0?f:[],m=Kv(h,4),g=m[1],p=m[2],y=m[3],b=ng.parse(g??""),v=ng.parse(y??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return mu;t=t.replace(ZP,w.toString())}return t}var eA=/\(([^()]*)\)/;function Ube(e){for(var t=e;t.includes("(");){var r=eA.exec(t),n=Kv(r,2),s=n[1];t=t.replace(eA,fU(s))}return t}function Bbe(e){var t=e.replace(/\s+/g,"");return t=Ube(t),t=fU(t),t}function qbe(e){try{return Bbe(e)}catch{return mu}}function Gw(e){var t=qbe(e.slice(5,-1));return t===mu?"":t}var zbe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wbe=["dx","dy","angle","className","breakAll"];function F_(){return F_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F_.apply(this,arguments)}function tA(e,t){if(e==null)return{};var r=Vbe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vbe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rA(e,t){return Ybe(e)||Gbe(e,t)||Hbe(e,t)||Kbe()}function Kbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(e,t){if(e){if(typeof e=="string")return nA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nA(e,t)}}function nA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Ybe(e){if(Array.isArray(e))return e}var hU=/[ \f\n\r\t\v\u2028\u2029]+/,mU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var a=[];ft(r)||(n?a=r.toString().split(""):a=r.toString().split(hU));var o=a.map(function(c){return{word:c,width:fh(c,s).width}}),l=n?0:fh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Qbe=function(t,r,n,s,a){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=pe(o),f=l,h=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(R,z){var D=z.word,M=z.width,$=R[R.length-1];if($&&(s==null||a||$.width+M+n<Number(s)))$.words.push(D),$.width+=M+n;else{var ee={words:[D],width:M};R.push(ee)}return R},[])},m=h(r),g=function(q){return q.reduce(function(R,z){return R.width>z.width?R:z})};if(!d)return m;for(var p="",y=function(q){var R=f.slice(0,q),z=mU({breakAll:u,style:c,children:R+p}).wordsWithComputedWidth,D=h(z),M=D.length>o||g(D).width>Number(s);return[M,D]},b=0,v=f.length-1,w=0,S;b<=v&&w<=f.length-1;){var j=Math.floor((b+v)/2),_=j-1,N=y(_),k=rA(N,2),C=k[0],A=k[1],I=y(j),O=rA(I,1),U=O[0];if(!C&&!U&&(b=j+1),C&&U&&(v=j-1),!C&&U){S=A;break}w++}return S||m},sA=function(t){var r=ft(t)?[]:t.toString().split(hU);return[{words:r}]},Xbe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,a=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!tf.isSsr){var c,u,d=mU({breakAll:o,children:s,style:a});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return sA(s);return Qbe({breakAll:o,children:s,maxLines:l,style:a},c,u,r,n)}return sA(s)},aA="#808080",Hv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,b=y===void 0?aA:y,v=tA(t,zbe),w=x.useMemo(function(){return Xbe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),S=v.dx,j=v.dy,_=v.angle,N=v.className,k=v.breakAll,C=tA(v,Wbe);if(!Lr(n)||!Lr(a))return null;var A=n+(pe(S)?S:0),I=a+(pe(j)?j:0),O;switch(p){case"start":O=Gw("calc(".concat(u,")"));break;case"middle":O=Gw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=Gw("calc(".concat(w.length-1," * -").concat(l,")"));break}var U=[];if(f){var T=w[0].width,q=v.width;U.push("scale(".concat((pe(q)?q/T:1)/T,")"))}return _&&U.push("rotate(".concat(_,", ").concat(A,", ").concat(I,")")),U.length&&(C.transform=U.join(" ")),P.createElement("text",F_({},it(C,!0),{x:A,y:I,className:vt("recharts-text",N),textAnchor:m,fill:b.includes("url")?aA:b}),w.map(function(R,z){var D=R.words.join(k?"":" ");return P.createElement("tspan",{x:A,dy:z===0?O:l,key:"".concat(D,"-").concat(z)},D)}))};function Ko(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Jbe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dk(e){let t,r,n;e.length!==2?(t=Ko,r=(l,c)=>Ko(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ko||e===Jbe?e:Zbe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:a}}function Zbe(){return 0}function pU(e){return e===null?NaN:+e}function*ewe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const twe=dk(Ko),up=twe.right;dk(pU).center;class iA extends Map{constructor(t,r=swe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(oA(this,t))}has(t){return super.has(oA(this,t))}set(t,r){return super.set(rwe(this,t),r)}delete(t){return super.delete(nwe(this,t))}}function oA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function rwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function nwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function swe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function awe(e=Ko){if(e===Ko)return gU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function gU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const iwe=Math.sqrt(50),owe=Math.sqrt(10),lwe=Math.sqrt(2);function Gv(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),a=n/Math.pow(10,s),o=a>=iwe?10:a>=owe?5:a>=lwe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Gv(e,t,r*2):[l,c,u]}function U_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,a,o]=n?Gv(t,e,r):Gv(e,t,r);if(!(a>=s))return[];const l=a-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function B_(e,t,r){return t=+t,e=+e,r=+r,Gv(e,t,r)[2]}function q_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?B_(t,e,r):B_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function lA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function cA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?gU:awe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));vU(e,t,m,g,s)}const a=e[t];let o=r,l=n;for(Ef(e,r,t),s(e[n],a)>0&&Ef(e,r,n);o<l;){for(Ef(e,o,l),++o,--l;s(e[o],a)<0;)++o;for(;s(e[l],a)>0;)--l}s(e[r],a)===0?Ef(e,r,l):(++l,Ef(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Ef(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function cwe(e,t,r){if(e=Float64Array.from(ewe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return cA(e);if(t>=1)return lA(e);var n,s=(n-1)*t,a=Math.floor(s),o=lA(vU(e,a).subarray(0,a+1)),l=cA(e.subarray(a+1));return o+(l-o)*(s-a)}}function uwe(e,t,r=pU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,a=Math.floor(s),o=+r(e[a],a,e),l=+r(e[a+1],a+1,e);return o+(l-o)*(s-a)}}function dwe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(s);++n<s;)a[n]=e+n*r;return a}function Fs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const z_=Symbol("implicit");function fk(){var e=new iA,t=[],r=[],n=z_;function s(a){let o=e.get(a);if(o===void 0){if(n!==z_)return n;e.set(a,o=t.push(a)-1)}return r[o%r.length]}return s.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new iA;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(a){return arguments.length?(r=Array.from(a),s):r.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return fk(t,r).unknown(n)},Fs.apply(s,arguments),s}function lm(){var e=fk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,a,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;a=(p-g)/Math.max(1,h-c+u*2),l&&(a=Math.floor(a)),g+=(p-g-a*(h-c))*d,o=a*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=dwe(h).map(function(b){return g+a*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return lm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Fs.apply(f(),arguments)}function yU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return yU(t())},e}function hh(){return yU(lm.apply(null,arguments).paddingInner(1))}function hk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function xU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function dp(){}var cm=.7,Yv=1/cm,Ou="\\s*([+-]?\\d+)\\s*",um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Wa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fwe=/^#([0-9a-f]{3,8})$/,hwe=new RegExp(`^rgb\\(${Ou},${Ou},${Ou}\\)$`),mwe=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),pwe=new RegExp(`^rgba\\(${Ou},${Ou},${Ou},${um}\\)$`),gwe=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${um}\\)$`),vwe=new RegExp(`^hsl\\(${um},${Wa},${Wa}\\)$`),ywe=new RegExp(`^hsla\\(${um},${Wa},${Wa},${um}\\)$`),uA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hk(dp,dm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:dA,formatHex:dA,formatHex8:xwe,formatHsl:bwe,formatRgb:fA,toString:fA});function dA(){return this.rgb().formatHex()}function xwe(){return this.rgb().formatHex8()}function bwe(){return bU(this).formatHsl()}function fA(){return this.rgb().formatRgb()}function dm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=fwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hA(t):r===3?new Ln(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?sg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?sg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=hwe.exec(e))?new Ln(t[1],t[2],t[3],1):(t=mwe.exec(e))?new Ln(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=pwe.exec(e))?sg(t[1],t[2],t[3],t[4]):(t=gwe.exec(e))?sg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vwe.exec(e))?gA(t[1],t[2]/100,t[3]/100,1):(t=ywe.exec(e))?gA(t[1],t[2]/100,t[3]/100,t[4]):uA.hasOwnProperty(e)?hA(uA[e]):e==="transparent"?new Ln(NaN,NaN,NaN,0):null}function hA(e){return new Ln(e>>16&255,e>>8&255,e&255,1)}function sg(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ln(e,t,r,n)}function wwe(e){return e instanceof dp||(e=dm(e)),e?(e=e.rgb(),new Ln(e.r,e.g,e.b,e.opacity)):new Ln}function W_(e,t,r,n){return arguments.length===1?wwe(e):new Ln(e,t,r,n??1)}function Ln(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}hk(Ln,W_,xU(dp,{brighter(e){return e=e==null?Yv:Math.pow(Yv,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?cm:Math.pow(cm,e),new Ln(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ln(Gl(this.r),Gl(this.g),Gl(this.b),Qv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mA,formatHex:mA,formatHex8:jwe,formatRgb:pA,toString:pA}));function mA(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}`}function jwe(){return`#${Tl(this.r)}${Tl(this.g)}${Tl(this.b)}${Tl((isNaN(this.opacity)?1:this.opacity)*255)}`}function pA(){const e=Qv(this.opacity);return`${e===1?"rgb(":"rgba("}${Gl(this.r)}, ${Gl(this.g)}, ${Gl(this.b)}${e===1?")":`, ${e})`}`}function Qv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Gl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tl(e){return e=Gl(e),(e<16?"0":"")+e.toString(16)}function gA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new oa(e,t,r,n)}function bU(e){if(e instanceof oa)return new oa(e.h,e.s,e.l,e.opacity);if(e instanceof dp||(e=dm(e)),!e)return new oa;if(e instanceof oa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,l=a-s,c=(a+s)/2;return l?(t===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?a+s:2-a-s,o*=60):l=c>0&&c<1?0:o,new oa(o,l,c,e.opacity)}function _we(e,t,r,n){return arguments.length===1?bU(e):new oa(e,t,r,n??1)}function oa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}hk(oa,_we,xU(dp,{brighter(e){return e=e==null?Yv:Math.pow(Yv,e),new oa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?cm:Math.pow(cm,e),new oa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ln(Yw(e>=240?e-240:e+120,s,n),Yw(e,s,n),Yw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new oa(vA(this.h),ag(this.s),ag(this.l),Qv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qv(this.opacity);return`${e===1?"hsl(":"hsla("}${vA(this.h)}, ${ag(this.s)*100}%, ${ag(this.l)*100}%${e===1?")":`, ${e})`}`}}));function vA(e){return e=(e||0)%360,e<0?e+360:e}function ag(e){return Math.max(0,Math.min(1,e||0))}function Yw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const mk=e=>()=>e;function Swe(e,t){return function(r){return e+r*t}}function Nwe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function kwe(e){return(e=+e)==1?wU:function(t,r){return r-t?Nwe(t,r,e):mk(isNaN(t)?r:t)}}function wU(e,t){var r=t-e;return r?Swe(e,r):mk(isNaN(e)?t:e)}const yA=function e(t){var r=kwe(t);function n(s,a){var o=r((s=W_(s)).r,(a=W_(a)).r),l=r(s.g,a.g),c=r(s.b,a.b),u=wU(s.opacity,a.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Cwe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(a){for(s=0;s<r;++s)n[s]=e[s]*(1-a)+t[s]*a;return n}}function Ewe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Owe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)s[o]=rf(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(l){for(o=0;o<n;++o)a[o]=s[o](l);return a}}function Pwe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Xv(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Awe(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=rf(e[s],t[s]):n[s]=t[s];return function(a){for(s in r)n[s]=r[s](a);return n}}var V_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qw=new RegExp(V_.source,"g");function Twe(e){return function(){return e}}function Rwe(e){return function(t){return e(t)+""}}function Mwe(e,t){var r=V_.lastIndex=Qw.lastIndex=0,n,s,a,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=V_.exec(e))&&(s=Qw.exec(t));)(a=s.index)>r&&(a=t.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Xv(n,s)})),r=Qw.lastIndex;return r<t.length&&(a=t.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?Rwe(c[0].x):Twe(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function rf(e,t){var r=typeof t,n;return t==null||r==="boolean"?mk(t):(r==="number"?Xv:r==="string"?(n=dm(t))?(t=n,yA):Mwe:t instanceof dm?yA:t instanceof Date?Pwe:Ewe(t)?Cwe:Array.isArray(t)?Owe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Awe:Xv)(e,t)}function pk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function $we(e,t){t===void 0&&(t=e,e=rf);for(var r=0,n=t.length-1,s=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function Iwe(e){return function(){return e}}function Jv(e){return+e}var xA=[0,1];function wn(e){return e}function K_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Iwe(isNaN(t)?NaN:.5)}function Dwe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Lwe(e,t,r){var n=e[0],s=e[1],a=t[0],o=t[1];return s<n?(n=K_(s,n),a=r(o,a)):(n=K_(n,s),a=r(a,o)),function(l){return a(n(l))}}function Fwe(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=K_(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(l){var c=up(e,l,1,n)-1;return a[c](s[c](l))}}function fp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ib(){var e=xA,t=xA,r=rf,n,s,a,o=wn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==wn&&(o=Dwe(e[0],e[h-1])),l=h>2?Fwe:Lwe,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),Xv)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Jv),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=pk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:wn,d()):o!==wn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return n=h,s=m,d()}}function gk(){return ib()(wn,wn)}function Uwe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Zv(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hd(e){return e=Zv(Math.abs(e)),e?e[1]:NaN}function Bwe(e,t){return function(r,n){for(var s=r.length,a=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return a.reverse().join(t)}}function qwe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var zwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fm(e){if(!(t=zwe.exec(e)))throw new Error("invalid format: "+e);var t;return new vk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fm.prototype=vk.prototype;function vk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wwe(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var ey;function Vwe(e,t){var r=Zv(e,t);if(!r)return ey=void 0,e.toPrecision(t);var n=r[0],s=r[1],a=s-(ey=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Zv(e,Math.max(0,t+a-1))[0]}function bA(e,t){var r=Zv(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const wA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Uwe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bA(e*100,t),r:bA,s:Vwe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function jA(e){return e}var _A=Array.prototype.map,SA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kwe(e){var t=e.grouping===void 0||e.thousands===void 0?jA:Bwe(_A.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?jA:qwe(_A.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=fm(f);var m=f.fill,g=f.align,p=f.sign,y=f.symbol,b=f.zero,v=f.width,w=f.comma,S=f.precision,j=f.trim,_=f.type;_==="n"?(w=!0,_="g"):wA[_]||(S===void 0&&(S=12),j=!0,_="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():""),k=(y==="$"?n:/[%p]/.test(_)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=wA[_],A=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var U=N,T=k,q,R,z;if(_==="c")T=C(O)+T,O="";else{O=+O;var D=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),S),j&&(O=Wwe(O)),D&&+O==0&&p!=="+"&&(D=!1),U=(D?p==="("?p:l:p==="-"||p==="("?"":p)+U,T=(_==="s"&&!isNaN(O)&&ey!==void 0?SA[8+ey/3]:"")+T+(D&&p==="("?")":""),A){for(q=-1,R=O.length;++q<R;)if(z=O.charCodeAt(q),48>z||z>57){T=(z===46?s+O.slice(q+1):O.slice(q))+T,O=O.slice(0,q);break}}}w&&!b&&(O=t(O,1/0));var M=U.length+O.length+T.length,$=M<v?new Array(v-M+1).join(m):"";switch(w&&b&&(O=t($+O,$.length?v-T.length:1/0),$=""),g){case"<":O=U+O+T+$;break;case"=":O=U+$+O+T;break;case"^":O=$.slice(0,M=$.length>>1)+U+O+T+$.slice(M);break;default:O=$+U+O+T;break}return a(O)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(hd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=fm(f),f.type="f",f),{suffix:SA[8+m/3]});return function(y){return p(g*y)}}return{format:u,formatPrefix:d}}var ig,yk,jU;Hwe({thousands:",",grouping:[3],currency:["$",""]});function Hwe(e){return ig=Kwe(e),yk=ig.format,jU=ig.formatPrefix,ig}function Gwe(e){return Math.max(0,-hd(Math.abs(e)))}function Ywe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hd(t)/3)))*3-hd(Math.abs(e)))}function Qwe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hd(t)-hd(e))+1}function _U(e,t,r,n){var s=q_(e,t,r),a;switch(n=fm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=Ywe(s,o))&&(n.precision=a),jU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=Qwe(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=Gwe(s))&&(n.precision=a-(n.type==="%")*2);break}}return yk(n)}function cl(e){var t=e.domain;return e.ticks=function(r){var n=t();return U_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return _U(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,a=n.length-1,o=n[s],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=a,a=u);d-- >0;){if(u=B_(o,l,r),u===c)return n[s]=o,n[a]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ty(){var e=gk();return e.copy=function(){return fp(e,ty())},Fs.apply(e,arguments),cl(e)}function SU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Jv),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return SU(e).unknown(t)},e=arguments.length?Array.from(e,Jv):[0,1],cl(r)}function NU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],a=e[n],o;return a<s&&(o=r,r=n,n=o,o=s,s=a,a=o),e[r]=t.floor(s),e[n]=t.ceil(a),e}function NA(e){return Math.log(e)}function kA(e){return Math.exp(e)}function Xwe(e){return-Math.log(-e)}function Jwe(e){return-Math.exp(-e)}function Zwe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function e0e(e){return e===10?Zwe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function t0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function CA(e){return(t,r)=>-e(-t,r)}function xk(e){const t=e(NA,kA),r=t.domain;let n=10,s,a;function o(){return s=t0e(n),a=e0e(n),r()[0]<0?(s=CA(s),a=CA(a),e(Xwe,Jwe)):e(NA,kA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/a(-h):g*a(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<y&&(b=U_(u,d,y))}else b=U_(h,m,Math.min(m-h,y)).map(a);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=fm(c)).precision==null&&(c.trim=!0),c=yk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/a(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(NU(r(),{floor:l=>a(Math.floor(s(l))),ceil:l=>a(Math.ceil(s(l)))})),t}function kU(){const e=xk(ib()).domain([1,10]);return e.copy=()=>fp(e,kU()).base(e.base()),Fs.apply(e,arguments),e}function EA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function OA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function bk(e){var t=1,r=e(EA(t),OA(t));return r.constant=function(n){return arguments.length?e(EA(t=+n),OA(t)):t},cl(r)}function CU(){var e=bk(ib());return e.copy=function(){return fp(e,CU()).constant(e.constant())},Fs.apply(e,arguments)}function PA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function r0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function n0e(e){return e<0?-e*e:e*e}function wk(e){var t=e(wn,wn),r=1;function n(){return r===1?e(wn,wn):r===.5?e(r0e,n0e):e(PA(r),PA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},cl(t)}function jk(){var e=wk(ib());return e.copy=function(){return fp(e,jk()).exponent(e.exponent())},Fs.apply(e,arguments),e}function s0e(){return jk.apply(null,arguments).exponent(.5)}function AA(e){return Math.sign(e)*e*e}function a0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EU(){var e=gk(),t=[0,1],r=!1,n;function s(a){var o=a0e(e(a));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(a){return e.invert(AA(a))},s.domain=function(a){return arguments.length?(e.domain(a),s):e.domain()},s.range=function(a){return arguments.length?(e.range((t=Array.from(a,Jv)).map(AA)),s):t.slice()},s.rangeRound=function(a){return s.range(a).round(!0)},s.round=function(a){return arguments.length?(r=!!a,s):r},s.clamp=function(a){return arguments.length?(e.clamp(a),s):e.clamp()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.copy=function(){return EU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Fs.apply(s,arguments),cl(s)}function OU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=uwe(e,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:t[up(r,o)]}return a.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ko),s()},a.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return OU().domain(e).range(t).unknown(n)},Fs.apply(a,arguments)}function PU(){var e=0,t=1,r=1,n=[.5],s=[0,1],a;function o(c){return c!=null&&c<=c?s[up(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return PU().domain([e,t]).range(s).unknown(a)},Fs.apply(cl(o),arguments)}function AU(){var e=[.5],t=[0,1],r,n=1;function s(a){return a!=null&&a<=a?t[up(e,a,0,n)]:r}return s.domain=function(a){return arguments.length?(e=Array.from(a),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(a){return arguments.length?(t=Array.from(a),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},s.unknown=function(a){return arguments.length?(r=a,s):r},s.copy=function(){return AU().domain(e).range(t).unknown(r)},Fs.apply(s,arguments)}const Xw=new Date,Jw=new Date;function qr(e,t,r,n){function s(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return s.floor=a=>(e(a=new Date(+a)),a),s.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),s.round=a=>{const o=s(a),l=s.ceil(a);return a-o<l-a?o:l},s.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),s.range=(a,o,l)=>{const c=[];if(a=s.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),t(a,l),e(a);while(u<a&&a<o);return c},s.filter=a=>qr(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!a(o););else for(;--l>=0;)for(;t(o,1),!a(o););}),r&&(s.count=(a,o)=>(Xw.setTime(+a),Jw.setTime(+o),e(Xw),e(Jw),Math.floor(r(Xw,Jw))),s.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?s.filter(n?o=>n(o)%a===0:o=>s.count(0,o)%a===0):s)),s}const ry=qr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ry.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?qr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ry);ry.range;const yi=1e3,ks=yi*60,xi=ks*60,Di=xi*24,_k=Di*7,TA=Di*30,Zw=Di*365,Rl=qr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCSeconds());Rl.range;const Sk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getMinutes());Sk.range;const Nk=qr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ks)},(e,t)=>(t-e)/ks,e=>e.getUTCMinutes());Nk.range;const kk=qr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi-e.getMinutes()*ks)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getHours());kk.range;const Ck=qr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xi)},(e,t)=>(t-e)/xi,e=>e.getUTCHours());Ck.range;const hp=qr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ks)/Di,e=>e.getDate()-1);hp.range;const ob=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>e.getUTCDate()-1);ob.range;const TU=qr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Di,e=>Math.floor(e/Di));TU.range;function Nc(e){return qr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ks)/_k)}const lb=Nc(0),ny=Nc(1),i0e=Nc(2),o0e=Nc(3),md=Nc(4),l0e=Nc(5),c0e=Nc(6);lb.range;ny.range;i0e.range;o0e.range;md.range;l0e.range;c0e.range;function kc(e){return qr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/_k)}const cb=kc(0),sy=kc(1),u0e=kc(2),d0e=kc(3),pd=kc(4),f0e=kc(5),h0e=kc(6);cb.range;sy.range;u0e.range;d0e.range;pd.range;f0e.range;h0e.range;const Ek=qr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ek.range;const Ok=qr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ok.range;const Li=qr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Li.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Li.range;const Fi=qr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:qr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Fi.range;function RU(e,t,r,n,s,a){const o=[[Rl,1,yi],[Rl,5,5*yi],[Rl,15,15*yi],[Rl,30,30*yi],[a,1,ks],[a,5,5*ks],[a,15,15*ks],[a,30,30*ks],[s,1,xi],[s,3,3*xi],[s,6,6*xi],[s,12,12*xi],[n,1,Di],[n,2,2*Di],[r,1,_k],[t,1,TA],[t,3,3*TA],[e,1,Zw]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=dk(([,,y])=>y).right(o,h);if(m===o.length)return e.every(q_(u/Zw,d/Zw,f));if(m===0)return ry.every(Math.max(q_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[m0e,p0e]=RU(Fi,Ok,cb,TU,Ck,Nk),[g0e,v0e]=RU(Li,Ek,lb,hp,kk,Sk);function e0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function t0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Of(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function y0e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,a=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Pf(s),d=Af(s),f=Pf(a),h=Af(a),m=Pf(o),g=Af(o),p=Pf(l),y=Af(l),b=Pf(c),v=Af(c),w={a:z,A:D,b:M,B:$,c:null,d:LA,e:LA,f:B0e,g:X0e,G:Z0e,H:L0e,I:F0e,j:U0e,L:MU,m:q0e,M:z0e,p:ee,q:Y,Q:BA,s:qA,S:W0e,u:V0e,U:K0e,V:H0e,w:G0e,W:Y0e,x:null,X:null,y:Q0e,Y:J0e,Z:eje,"%":UA},S={a:ce,A:xe,b:We,B:ne,c:null,d:FA,e:FA,f:sje,g:mje,G:gje,H:tje,I:rje,j:nje,L:IU,m:aje,M:ije,p:ae,q:Ie,Q:BA,s:qA,S:oje,u:lje,U:cje,V:uje,w:dje,W:fje,x:null,X:null,y:hje,Y:pje,Z:vje,"%":UA},j={a:A,A:I,b:O,B:U,c:T,d:IA,e:IA,f:M0e,g:$A,G:MA,H:DA,I:DA,j:P0e,L:R0e,m:O0e,M:A0e,p:C,q:E0e,Q:I0e,s:D0e,S:T0e,u:_0e,U:S0e,V:N0e,w:j0e,W:k0e,x:q,X:R,y:$A,Y:MA,Z:C0e,"%":$0e};w.x=_(r,w),w.X=_(n,w),w.c=_(t,w),S.x=_(r,S),S.X=_(n,S),S.c=_(t,S);function _(re,ue){return function(K){var H=[],Je=-1,Ke=0,At=re.length,Et,rr,nn;for(K instanceof Date||(K=new Date(+K));++Je<At;)re.charCodeAt(Je)===37&&(H.push(re.slice(Ke,Je)),(rr=RA[Et=re.charAt(++Je)])!=null?Et=re.charAt(++Je):rr=Et==="e"?" ":"0",(nn=ue[Et])&&(Et=nn(K,rr)),H.push(Et),Ke=Je+1);return H.push(re.slice(Ke,Je)),H.join("")}}function N(re,ue){return function(K){var H=Of(1900,void 0,1),Je=k(H,re,K+="",0),Ke,At;if(Je!=K.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(ue&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ke=t0(Of(H.y,0,1)),At=Ke.getUTCDay(),Ke=At>4||At===0?sy.ceil(Ke):sy(Ke),Ke=ob.offset(Ke,(H.V-1)*7),H.y=Ke.getUTCFullYear(),H.m=Ke.getUTCMonth(),H.d=Ke.getUTCDate()+(H.w+6)%7):(Ke=e0(Of(H.y,0,1)),At=Ke.getDay(),Ke=At>4||At===0?ny.ceil(Ke):ny(Ke),Ke=hp.offset(Ke,(H.V-1)*7),H.y=Ke.getFullYear(),H.m=Ke.getMonth(),H.d=Ke.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),At="Z"in H?t0(Of(H.y,0,1)).getUTCDay():e0(Of(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(At+5)%7:H.w+H.U*7-(At+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,t0(H)):e0(H)}}function k(re,ue,K,H){for(var Je=0,Ke=ue.length,At=K.length,Et,rr;Je<Ke;){if(H>=At)return-1;if(Et=ue.charCodeAt(Je++),Et===37){if(Et=ue.charAt(Je++),rr=j[Et in RA?ue.charAt(Je++):Et],!rr||(H=rr(re,K,H))<0)return-1}else if(Et!=K.charCodeAt(H++))return-1}return H}function C(re,ue,K){var H=u.exec(ue.slice(K));return H?(re.p=d.get(H[0].toLowerCase()),K+H[0].length):-1}function A(re,ue,K){var H=m.exec(ue.slice(K));return H?(re.w=g.get(H[0].toLowerCase()),K+H[0].length):-1}function I(re,ue,K){var H=f.exec(ue.slice(K));return H?(re.w=h.get(H[0].toLowerCase()),K+H[0].length):-1}function O(re,ue,K){var H=b.exec(ue.slice(K));return H?(re.m=v.get(H[0].toLowerCase()),K+H[0].length):-1}function U(re,ue,K){var H=p.exec(ue.slice(K));return H?(re.m=y.get(H[0].toLowerCase()),K+H[0].length):-1}function T(re,ue,K){return k(re,t,ue,K)}function q(re,ue,K){return k(re,r,ue,K)}function R(re,ue,K){return k(re,n,ue,K)}function z(re){return o[re.getDay()]}function D(re){return a[re.getDay()]}function M(re){return c[re.getMonth()]}function $(re){return l[re.getMonth()]}function ee(re){return s[+(re.getHours()>=12)]}function Y(re){return 1+~~(re.getMonth()/3)}function ce(re){return o[re.getUTCDay()]}function xe(re){return a[re.getUTCDay()]}function We(re){return c[re.getUTCMonth()]}function ne(re){return l[re.getUTCMonth()]}function ae(re){return s[+(re.getUTCHours()>=12)]}function Ie(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var ue=_(re+="",w);return ue.toString=function(){return re},ue},parse:function(re){var ue=N(re+="",!1);return ue.toString=function(){return re},ue},utcFormat:function(re){var ue=_(re+="",S);return ue.toString=function(){return re},ue},utcParse:function(re){var ue=N(re+="",!0);return ue.toString=function(){return re},ue}}}var RA={"-":"",_:" ",0:"0"},Gr=/^\s*\d+/,x0e=/^%/,b0e=/[\\^$*+?|[\]().{}]/g;function Ct(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",a=s.length;return n+(a<r?new Array(r-a+1).join(t)+s:s)}function w0e(e){return e.replace(b0e,"\\$&")}function Pf(e){return new RegExp("^(?:"+e.map(w0e).join("|")+")","i")}function Af(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function j0e(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function _0e(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function S0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function N0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function k0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MA(e,t,r){var n=Gr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function $A(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function C0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function E0e(e,t,r){var n=Gr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function O0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IA(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function P0e(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function DA(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function A0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function T0e(e,t,r){var n=Gr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function R0e(e,t,r){var n=Gr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function M0e(e,t,r){var n=Gr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function $0e(e,t,r){var n=x0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function I0e(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function D0e(e,t,r){var n=Gr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function LA(e,t){return Ct(e.getDate(),t,2)}function L0e(e,t){return Ct(e.getHours(),t,2)}function F0e(e,t){return Ct(e.getHours()%12||12,t,2)}function U0e(e,t){return Ct(1+hp.count(Li(e),e),t,3)}function MU(e,t){return Ct(e.getMilliseconds(),t,3)}function B0e(e,t){return MU(e,t)+"000"}function q0e(e,t){return Ct(e.getMonth()+1,t,2)}function z0e(e,t){return Ct(e.getMinutes(),t,2)}function W0e(e,t){return Ct(e.getSeconds(),t,2)}function V0e(e){var t=e.getDay();return t===0?7:t}function K0e(e,t){return Ct(lb.count(Li(e)-1,e),t,2)}function $U(e){var t=e.getDay();return t>=4||t===0?md(e):md.ceil(e)}function H0e(e,t){return e=$U(e),Ct(md.count(Li(e),e)+(Li(e).getDay()===4),t,2)}function G0e(e){return e.getDay()}function Y0e(e,t){return Ct(ny.count(Li(e)-1,e),t,2)}function Q0e(e,t){return Ct(e.getFullYear()%100,t,2)}function X0e(e,t){return e=$U(e),Ct(e.getFullYear()%100,t,2)}function J0e(e,t){return Ct(e.getFullYear()%1e4,t,4)}function Z0e(e,t){var r=e.getDay();return e=r>=4||r===0?md(e):md.ceil(e),Ct(e.getFullYear()%1e4,t,4)}function eje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ct(t/60|0,"0",2)+Ct(t%60,"0",2)}function FA(e,t){return Ct(e.getUTCDate(),t,2)}function tje(e,t){return Ct(e.getUTCHours(),t,2)}function rje(e,t){return Ct(e.getUTCHours()%12||12,t,2)}function nje(e,t){return Ct(1+ob.count(Fi(e),e),t,3)}function IU(e,t){return Ct(e.getUTCMilliseconds(),t,3)}function sje(e,t){return IU(e,t)+"000"}function aje(e,t){return Ct(e.getUTCMonth()+1,t,2)}function ije(e,t){return Ct(e.getUTCMinutes(),t,2)}function oje(e,t){return Ct(e.getUTCSeconds(),t,2)}function lje(e){var t=e.getUTCDay();return t===0?7:t}function cje(e,t){return Ct(cb.count(Fi(e)-1,e),t,2)}function DU(e){var t=e.getUTCDay();return t>=4||t===0?pd(e):pd.ceil(e)}function uje(e,t){return e=DU(e),Ct(pd.count(Fi(e),e)+(Fi(e).getUTCDay()===4),t,2)}function dje(e){return e.getUTCDay()}function fje(e,t){return Ct(sy.count(Fi(e)-1,e),t,2)}function hje(e,t){return Ct(e.getUTCFullYear()%100,t,2)}function mje(e,t){return e=DU(e),Ct(e.getUTCFullYear()%100,t,2)}function pje(e,t){return Ct(e.getUTCFullYear()%1e4,t,4)}function gje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?pd(e):pd.ceil(e),Ct(e.getUTCFullYear()%1e4,t,4)}function vje(){return"+0000"}function UA(){return"%"}function BA(e){return+e}function qA(e){return Math.floor(+e/1e3)}var Hc,LU,FU;yje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yje(e){return Hc=y0e(e),LU=Hc.format,Hc.parse,FU=Hc.utcFormat,Hc.utcParse,Hc}function xje(e){return new Date(e)}function bje(e){return e instanceof Date?+e:+new Date(+e)}function Pk(e,t,r,n,s,a,o,l,c,u){var d=gk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),S=u("%Y");function j(_){return(c(_)<_?m:l(_)<_?g:o(_)<_?p:a(_)<_?y:n(_)<_?s(_)<_?b:v:r(_)<_?w:S)(_)}return d.invert=function(_){return new Date(f(_))},d.domain=function(_){return arguments.length?h(Array.from(_,bje)):h().map(xje)},d.ticks=function(_){var N=h();return e(N[0],N[N.length-1],_??10)},d.tickFormat=function(_,N){return N==null?j:u(N)},d.nice=function(_){var N=h();return(!_||typeof _.range!="function")&&(_=t(N[0],N[N.length-1],_??10)),_?h(NU(N,_)):d},d.copy=function(){return fp(d,Pk(e,t,r,n,s,a,o,l,c,u))},d}function wje(){return Fs.apply(Pk(g0e,v0e,Li,Ek,lb,hp,kk,Sk,Rl,LU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jje(){return Fs.apply(Pk(m0e,p0e,Fi,Ok,cb,ob,Ck,Nk,Rl,FU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ub(){var e=0,t=1,r,n,s,a,o=wn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(a(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=a(e=+e),n=a(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(rf),u.rangeRound=d(pk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ul(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function UU(){var e=cl(ub()(wn));return e.copy=function(){return ul(e,UU())},Yi.apply(e,arguments)}function BU(){var e=xk(ub()).domain([1,10]);return e.copy=function(){return ul(e,BU()).base(e.base())},Yi.apply(e,arguments)}function qU(){var e=bk(ub());return e.copy=function(){return ul(e,qU()).constant(e.constant())},Yi.apply(e,arguments)}function Ak(){var e=wk(ub());return e.copy=function(){return ul(e,Ak()).exponent(e.exponent())},Yi.apply(e,arguments)}function _je(){return Ak.apply(null,arguments).exponent(.5)}function zU(){var e=[],t=wn;function r(n){if(n!=null&&!isNaN(n=+n))return t((up(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ko),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,a)=>cwe(e,a/n))},r.copy=function(){return zU(t).domain(e)},Yi.apply(r,arguments)}function db(){var e=0,t=.5,r=1,n=1,s,a,o,l,c,u=wn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-a)*(n*p<n*a?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),a=d(t=+t),o=d(r=+r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var b,v,w;return arguments.length?([b,v,w]=y,u=$we(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(rf),m.rangeRound=g(pk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),a=p(t),o=p(r),l=s===a?0:.5/(a-s),c=a===o?0:.5/(o-a),n=a<s?-1:1,m}}function WU(){var e=cl(db()(wn));return e.copy=function(){return ul(e,WU())},Yi.apply(e,arguments)}function VU(){var e=xk(db()).domain([.1,1,10]);return e.copy=function(){return ul(e,VU()).base(e.base())},Yi.apply(e,arguments)}function KU(){var e=bk(db());return e.copy=function(){return ul(e,KU()).constant(e.constant())},Yi.apply(e,arguments)}function Tk(){var e=wk(db());return e.copy=function(){return ul(e,Tk()).exponent(e.exponent())},Yi.apply(e,arguments)}function Sje(){return Tk.apply(null,arguments).exponent(.5)}const zA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lm,scaleDiverging:WU,scaleDivergingLog:VU,scaleDivergingPow:Tk,scaleDivergingSqrt:Sje,scaleDivergingSymlog:KU,scaleIdentity:SU,scaleImplicit:z_,scaleLinear:ty,scaleLog:kU,scaleOrdinal:fk,scalePoint:hh,scalePow:jk,scaleQuantile:OU,scaleQuantize:PU,scaleRadial:EU,scaleSequential:UU,scaleSequentialLog:BU,scaleSequentialPow:Ak,scaleSequentialQuantile:zU,scaleSequentialSqrt:_je,scaleSequentialSymlog:qU,scaleSqrt:s0e,scaleSymlog:CU,scaleThreshold:AU,scaleTime:wje,scaleUtc:jje,tickFormat:_U},Symbol.toStringTag,{value:"Module"}));var Nje=Kd;function kje(e,t,r){for(var n=-1,s=e.length;++n<s;){var a=e[n],o=t(a);if(o!=null&&(l===void 0?o===o&&!Nje(o):r(o,l)))var l=o,c=a}return c}var HU=kje;function Cje(e,t){return e>t}var Eje=Cje,Oje=HU,Pje=Eje,Aje=ef;function Tje(e){return e&&e.length?Oje(e,Aje,Pje):void 0}var Rje=Tje;const To=Bt(Rje);function Mje(e,t){return e<t}var $je=Mje,Ije=HU,Dje=$je,Lje=ef;function Fje(e){return e&&e.length?Ije(e,Lje,Dje):void 0}var Uje=Fje;const fb=Bt(Uje);var Bje=KN,qje=ll,zje=rU,Wje=Kn;function Vje(e,t){var r=Wje(e)?Bje:zje;return r(e,qje(t))}var Kje=Vje,Hje=eU,Gje=Kje;function Yje(e,t){return Hje(Gje(e,t),1)}var Qje=Yje;const Xje=Bt(Qje);var Jje=ok;function Zje(e,t){return Jje(e,t)}var e_e=Zje;const hm=Bt(e_e);var nf=1e9,t_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Mk,ar=!0,Ms="[DecimalError] ",Yl=Ms+"Invalid argument: ",Rk=Ms+"Exponent out of range: ",sf=Math.floor,jl=Math.pow,r_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,Wr=1e7,Zt=7,GU=9007199254740991,ay=sf(GU/Zt),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,s,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(n=a.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===s?0:n>s^a.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Zt;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return ki(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return Vt(ki(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Er(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,s=n.precision,a=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(rs))throw Error(Ms+"NaN");if(r.s<1)throw Error(Ms+(r.s?"NaN":"-Infinity"));return r.eq(rs)?new n(0):(ar=!1,t=ki(mm(r,a),mm(e,a),a),ar=!0,Vt(t,s))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XU(t,e):YU(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Ms+"NaN");return r.s?(ar=!1,t=ki(r,e,0,1).times(e),ar=!0,r.minus(t)):Vt(new n(r),s)};Ae.naturalExponential=Ae.exp=function(){return QU(this)};Ae.naturalLogarithm=Ae.ln=function(){return mm(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?YU(t,e):XU(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Yl+e);if(t=Er(s)+1,n=s.d.length-1,r=n*Zt+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,s,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ms+"NaN")}for(e=Er(l),ar=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ia(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=sf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(a=n,n=a.plus(ki(l,a,o+2)).times(.5),Ia(a.d).slice(0,o)===(t=Ia(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Vt(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(t!="9999")break;o+=4}return ar=!0,Vt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,s,a,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=a[s]+m[n]*h[s-n-1]+t,a[s--]=l%Wr|0,t=l/Wr|0;a[s]=(a[s]+t)%Wr|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,ar?Vt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ga(e,0,nf),t===void 0?t=n.rounding:Ga(t,0,8),Vt(r,e+Er(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=hc(n,!0):(Ga(e,0,nf),t===void 0?t=s.rounding:Ga(t,0,8),n=Vt(new s(n),e+1,t),r=hc(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?hc(s):(Ga(e,0,nf),t===void 0?t=a.rounding:Ga(t,0,8),n=Vt(new a(s),e+Er(s)+1,t),r=hc(n.abs(),!1,e+Er(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return Vt(new t(e),Er(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,s,a,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(rs);if(l=new c(l),!l.s){if(e.s<1)throw Error(Ms+"Infinity");return l}if(l.eq(rs))return l;if(n=c.precision,e.eq(rs))return Vt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,a=l.s,o){if((r=d<0?-d:d)<=GU){for(s=new c(rs),t=Math.ceil(n/Zt+4),ar=!1;r%2&&(s=s.times(l),VA(s.d,t)),r=sf(r/2),r!==0;)l=l.times(l),VA(l.d,t);return ar=!0,e.s<0?new c(rs).div(s):Vt(s,n)}}else if(a<0)throw Error(Ms+"NaN");return a=a<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ar=!1,s=e.times(mm(l,n+u)),ar=!0,s=QU(s),s.s=a,s};Ae.toPrecision=function(e,t){var r,n,s=this,a=s.constructor;return e===void 0?(r=Er(s),n=hc(s,r<=a.toExpNeg||r>=a.toExpPos)):(Ga(e,1,nf),t===void 0?t=a.rounding:Ga(t,0,8),s=Vt(new a(s),e,t),r=Er(s),n=hc(s,e<=r||r<=a.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ga(e,1,nf),t===void 0?t=n.rounding:Ga(t,0,8)),Vt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Er(e),r=e.constructor;return hc(e,t<=r.toExpNeg||t>=r.toExpPos)};function YU(e,t){var r,n,s,a,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ar?Vt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),a=o-s,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/Zt),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Wr|0,c[a]%=Wr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ar?Vt(t,f):t}function Ga(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Yl+e)}function Ia(e){var t,r,n,s=e.length-1,a="",o=e[0];if(s>0){for(a+=o,t=1;t<s;t++)n=e[t]+"",r=Zt-n.length,r&&(a+=ho(r)),a+=n;o=e[t],n=o+"",r=Zt-n.length,r&&(a+=ho(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var ki=function(){function e(n,s){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*s+o,n[l]=a%Wr|0,o=a/Wr|0;return o&&n.unshift(o),n}function t(n,s,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,a){for(var o=0;a--;)n[a]-=o,o=n[a]<s[a]?1:0,n[a]=o*Wr+n[a]-s[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,a,o){var l,c,u,d,f,h,m,g,p,y,b,v,w,S,j,_,N,k,C=n.constructor,A=n.s==s.s?1:-1,I=n.d,O=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Ms+"Division by zero");for(c=n.e-s.e,N=O.length,j=I.length,m=new C(A),g=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,a==null?v=a=C.precision:o?v=a+(Er(n)-Er(s))+1:v=a,v<0)return new C(0);if(v=v/Zt+2|0,u=0,N==1)for(d=0,O=O[0],v++;(u<j||d)&&v--;u++)w=d*Wr+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Wr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),N=O.length,j=I.length),S=N,p=I.slice(0,N),y=p.length;y<N;)p[y++]=0;k=O.slice(),k.unshift(0),_=O[0],O[1]>=Wr/2&&++_;do d=0,l=t(O,p,N,y),l<0?(b=p[0],N!=y&&(b=b*Wr+(p[1]||0)),d=b/_|0,d>1?(d>=Wr&&(d=Wr-1),f=e(O,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(O,p,N,y),l<1&&(d++,r(p,N<y?k:O,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=I[S]||0:(p=[I[S]],y=1);while((S++<j||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Vt(m,o?a+Er(m)+1:a)}}();function QU(e,t){var r,n,s,a,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Er(e)>16)throw Error(Rk+Er(e));if(!e.s)return new d(rs);for(ar=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(jl(2,u))/Math.LN10*2+5|0,l+=n,r=s=a=new d(rs),d.precision=l;;){if(s=Vt(s.times(e),l),r=r.times(++c),o=a.plus(ki(s,r,l)),Ia(o.d).slice(0,l)===Ia(a.d).slice(0,l)){for(;u--;)a=Vt(a.times(a),l);return d.precision=f,t==null?(ar=!0,Vt(a,f)):a}a=o}}function Er(e){for(var t=e.e*Zt,r=e.d[0];r>=10;r/=10)t++;return t}function r0(e,t,r){if(t>e.LN10.sd())throw ar=!0,r&&(e.precision=r),Error(Ms+"LN10 precision limit exceeded");return Vt(new e(e.LN10),t)}function ho(e){for(var t="";e--;)t+="0";return t}function mm(e,t){var r,n,s,a,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(Ms+(m.s?"NaN":"-Infinity"));if(m.eq(rs))return new p(0);if(t==null?(ar=!1,u=y):u=t,m.eq(10))return t==null&&(ar=!0),r0(p,u);if(u+=h,p.precision=u,r=Ia(g),n=r.charAt(0),a=Er(m),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ia(m.d),n=r.charAt(0),f++;a=Er(m),n>1?(m=new p("0."+r),a++):m=new p(n+"."+r.slice(1))}else return c=r0(p,u+2,y).times(a+""),m=mm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(ar=!0,Vt(m,y)):m;for(l=o=m=ki(m.minus(rs),m.plus(rs),u),d=Vt(m.times(m),u),s=3;;){if(o=Vt(o.times(d),u),c=l.plus(ki(o,new p(s),u)),Ia(c.d).slice(0,u)===Ia(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(r0(p,u+2,y).times(a+""))),l=ki(l,new p(f),u),p.precision=y,t==null?(ar=!0,Vt(l,y)):l;l=c,s+=2}}function WA(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=sf(r/Zt),e.d=[],n=(r+1)%Zt,r<0&&(n+=Zt),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Zt;n<s;)e.d.push(+t.slice(n,n+=Zt));t=t.slice(n),n=Zt-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ar&&(e.e>ay||e.e<-ay))throw Error(Rk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Vt(e,t,r){var n,s,a,o,l,c,u,d,f=e.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=t-o,n<0)n+=Zt,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Zt),a=f.length,d>=a)return e;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=Zt,s=n-Zt+o}if(r!==void 0&&(a=jl(10,o-s-1),l=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/jl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(a=Er(e),f.length=1,t=t-a-1,f[0]=jl(10,(Zt-t%Zt)%Zt),e.e=sf(-t/Zt)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=jl(10,Zt-n),f[d]=s>0?(u/jl(10,o-s)%jl(10,s)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Wr&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=Wr)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(ar&&(e.e>ay||e.e<-ay))throw Error(Rk+Er(e));return e}function XU(e,t){var r,n,s,a,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ar?Vt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/Zt),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(a=s;a&&c[--a]===0;)c[a]=Wr-1;--c[a],c[s]+=Wr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ar?Vt(t,m):t):new h(0)}function hc(e,t,r){var n,s=Er(e),a=Ia(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+ho(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(s<0?"e":"e+")+s):s<0?(a="0."+ho(-s-1)+a,r&&(n=r-o)>0&&(a+=ho(n))):s>=o?(a+=ho(s+1-o),r&&(n=r-s-1)>0&&(a=a+"."+ho(n))):((n=s+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(a+="."),a+=ho(n))),e.s<0?"-"+a:a}function VA(e,t){if(e.length>t)return e.length=t,!0}function JU(e){var t,r,n;function s(a){var o=this;if(!(o instanceof s))return new s(a);if(o.constructor=s,a instanceof s){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Yl+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return WA(o,a.toString())}else if(typeof a!="string")throw Error(Yl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,r_e.test(a))WA(o,a);else throw Error(Yl+a)}if(s.prototype=Ae,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=JU,s.config=s.set=n_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function n_e(e){if(!e||typeof e!="object")throw Error(Ms+"Object expected");var t,r,n,s=["precision",1,nf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(sf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Yl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Yl+r+": "+n);return this}var Mk=JU(t_e);rs=new Mk(1);const Ft=Mk;function s_e(e){return l_e(e)||o_e(e)||i_e(e)||a_e()}function a_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i_e(e,t){if(e){if(typeof e=="string")return H_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H_(e,t)}}function o_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function l_e(e){if(Array.isArray(e))return H_(e)}function H_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c_e=function(t){return t},ZU={},eB=function(t){return t===ZU},KA=function(t){return function r(){return arguments.length===0||arguments.length===1&&eB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},u_e=function e(t,r){return t===1?r:KA(function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];var o=s.filter(function(l){return l!==ZU}).length;return o>=t?r.apply(void 0,s):e(t-o,KA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return eB(f)?c.shift():f});return r.apply(void 0,s_e(d).concat(c))}))})},hb=function(t){return u_e(t.length,t)},G_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},d_e=hb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),f_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return c_e;var s=r.reverse(),a=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},Y_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},tB=function(t){var r=null,n=null;return function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=t.apply(void 0,a)),n}};function h_e(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function m_e(e,t,r){for(var n=new Ft(e),s=0,a=[];n.lt(t)&&s<1e5;)a.push(n.toNumber()),n=n.add(r),s++;return a}var p_e=hb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),g_e=hb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),v_e=hb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const mb={rangeStep:m_e,getDigitCount:h_e,interpolateNumber:p_e,uninterpolateNumber:g_e,uninterpolateTruncation:v_e};function Q_(e){return b_e(e)||x_e(e)||rB(e)||y_e()}function y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function b_e(e){if(Array.isArray(e))return X_(e)}function pm(e,t){return __e(e)||j_e(e,t)||rB(e,t)||w_e()}function w_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rB(e,t){if(e){if(typeof e=="string")return X_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X_(e,t)}}function X_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function j_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,a=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw a}}return r}}function __e(e){if(Array.isArray(e))return e}function nB(e){var t=pm(e,2),r=t[0],n=t[1],s=r,a=n;return r>n&&(s=n,a=r),[s,a]}function sB(e,t,r){if(e.lte(0))return new Ft(0);var n=mb.getDigitCount(e.toNumber()),s=new Ft(10).pow(n),a=e.div(s),o=n!==1?.05:.1,l=new Ft(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ft(Math.ceil(c))}function S_e(e,t,r){var n=1,s=new Ft(e);if(!s.isint()&&r){var a=Math.abs(e);a<1?(n=new Ft(10).pow(mb.getDigitCount(e)-1),s=new Ft(Math.floor(s.div(n).toNumber())).mul(n)):a>1&&(s=new Ft(Math.floor(e)))}else e===0?s=new Ft(Math.floor((t-1)/2)):r||(s=new Ft(Math.floor(e)));var o=Math.floor((t-1)/2),l=f_e(d_e(function(c){return s.add(new Ft(c-o).mul(n)).toNumber()}),G_);return l(0,t)}function aB(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var a=sB(new Ft(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ft(0):(o=new Ft(e).add(t).div(2),o=o.sub(new Ft(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ft(t).sub(o).div(a).toNumber()),u=l+c+1;return u>r?aB(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ft(l).mul(a)),tickMax:o.add(new Ft(c).mul(a))})}function N_e(e){var t=pm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=nB([r,n]),c=pm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(Q_(G_(0,s-1).map(function(){return 1/0}))):[].concat(Q_(G_(0,s-1).map(function(){return-1/0})),[d]);return r>n?Y_(f):f}if(u===d)return S_e(u,s,a);var h=aB(u,d,o,a),m=h.step,g=h.tickMin,p=h.tickMax,y=mb.rangeStep(g,p.add(new Ft(.1).mul(m)),m);return r>n?Y_(y):y}function k_e(e,t){var r=pm(e,2),n=r[0],s=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=nB([n,s]),l=pm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=sB(new Ft(u).sub(c).div(d-1),a,0),h=[].concat(Q_(mb.rangeStep(new Ft(c),new Ft(u).sub(new Ft(.99).mul(f)),f)),[u]);return n>s?Y_(h):h}var C_e=tB(N_e),E_e=tB(k_e),O_e="Invariant failed";function mc(e,t){throw new Error(O_e)}var P_e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}function iy(){return iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iy.apply(this,arguments)}function A_e(e,t){return $_e(e)||M_e(e,t)||R_e(e,t)||T_e()}function T_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R_e(e,t){if(e){if(typeof e=="string")return HA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(e,t)}}function HA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M_e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $_e(e){if(Array.isArray(e))return e}function I_e(e,t){if(e==null)return{};var r=D_e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L_e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function U_e(e,t,r){return t&&F_e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function B_e(e,t,r){return t=oy(t),q_e(e,iB()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function q_e(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z_e(e)}function z_e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function W_e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J_(e,t)}function J_(e,t){return J_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J_(e,t)}function oB(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=V_e(e,"string");return gd(t)=="symbol"?t:t+""}function V_e(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var pb=function(e){function t(){return L_e(this,t),B_e(this,t,arguments)}return W_e(t,e),U_e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=I_e(n,P_e),m=it(h,!1);this.props.direction==="x"&&d.type!=="number"&&mc();var g=c.map(function(p){var y=u(p,l),b=y.x,v=y.y,w=y.value,S=y.errorVal;if(!S)return null;var j=[],_,N;if(Array.isArray(S)){var k=A_e(S,2);_=k[0],N=k[1]}else _=N=S;if(a==="vertical"){var C=d.scale,A=v+s,I=A+o,O=A-o,U=C(w-_),T=C(w+N);j.push({x1:T,y1:I,x2:T,y2:O}),j.push({x1:U,y1:A,x2:T,y2:A}),j.push({x1:U,y1:I,x2:U,y2:O})}else if(a==="horizontal"){var q=f.scale,R=b+s,z=R-o,D=R+o,M=q(w-_),$=q(w+N);j.push({x1:z,y1:$,x2:D,y2:$}),j.push({x1:R,y1:M,x2:R,y2:$}),j.push({x1:z,y1:M,x2:D,y2:M})}return P.createElement(cr,iy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return P.createElement("line",iy({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return P.createElement(cr,{className:"recharts-errorBars"},g)}}])}(P.Component);oB(pb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});oB(pb,"displayName","ErrorBar");function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function GA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(r),!0).forEach(function(n){K_e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K_e(e,t,r){return t=H_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H_e(e){var t=G_e(e,"string");return gm(t)=="symbol"?t:t+""}function G_e(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cB=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,a=t.legendContent,o=Jn(r,Eu);if(!o)return null;var l=Eu.defaultProps,c=l!==void 0?pl(pl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?pl(pl({},h),f.props):{},g=m.dataKey,p=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:$k(f),value:p||g,payload:m}}),pl(pl(pl({},c),Eu.getWithHeight(o,s)),{},{payload:u,item:o})};function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function YA(e){return J_e(e)||X_e(e)||Q_e(e)||Y_e()}function Y_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_e(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function X_e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J_e(e){if(Array.isArray(e))return Z_(e)}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QA(Object(r),!0).forEach(function(n){Pu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pu(e,t,r){return t=Z_e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z_e(e){var t=e1e(e,"string");return vm(t)=="symbol"?t:t+""}function e1e(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function us(e,t,r){return ft(e)||ft(t)?r:Lr(t)?As(e,t,r):nt(t)?t(e):r}function mh(e,t,r,n){var s=Xje(e,function(l){return us(l,t)});if(r==="number"){var a=s.filter(function(l){return pe(l)||parseFloat(l)});return a.length?[fb(a),To(a)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!ft(l)}):s;return o.map(function(l){return Lr(l)||l instanceof Date?l:""})}var t1e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(la(f-d)!==la(h-f)){var g=[];if(la(h-f)===la(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var S=0;S<l;S++)if(S===0&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S>0&&S<l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2&&t<=(n[S].coordinate+n[S+1].coordinate)/2||S===l-1&&t>(n[S].coordinate+n[S-1].coordinate)/2){o=n[S].index;break}return o},$k=function(t){var r,n=t,s=n.type.displayName,a=(r=t.type)!==null&&r!==void 0&&r.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,o=a.stroke,l=a.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},r1e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,a=s===void 0?{}:s;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,b=p.filter(function(N){return Si(N.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?gr(gr({},v),b[0].props):b[0].props,S=w.barSize,j=w[y];o[j]||(o[j]=[]);var _=ft(S)?r:S;o[j].push({item:b[0],stackList:b.slice(1),barSize:ft(_)?void 0:fc(_,n,0)})}}return o},n1e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,a=t.sizeList,o=a===void 0?[]:a,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=fc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(S,j){return S+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(S,j){var _={item:j.item,position:{offset:y.offset+y.size+u,size:h?m:j.barSize}},N=[].concat(YA(S),[_]);return y=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:y})}),N},f)}else{var b=fc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var v=(s-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(S,j,_){var N=[].concat(YA(S),[{item:j.item,position:{offset:b+(v+u)*_+(v-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},s1e=function(t,r,n,s){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=cB({children:a,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&pe(t[m]))return gr(gr({},t),{},Pu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&pe(t[g]))return gr(gr({},t),{},Pu({},g,t[g]+(h||0)))}return t},a1e=function(t,r,n){return ft(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},uB=function(t,r,n,s,a){var o=r.props.children,l=ma(o,pb).filter(function(u){return a1e(s,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=us(d,n);if(ft(f))return u;var h=Array.isArray(f)?[fb(f),To(f)]:[f,f],m=c.reduce(function(g,p){var y=us(d,p,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),v=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},i1e=function(t,r,n,s,a){var o=r.map(function(l){return uB(t,l,n,a,s)}).filter(function(l){return!ft(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},dB=function(t,r,n,s,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&uB(t,c,u,s)||mh(t,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},fB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},hB=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var a,o,l=t.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},bi=function(t,r,n){if(!t)return null;var s=t.scale,a=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?la(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!Xd(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:a?a[f]:f,index:h,offset:u}})},n0=new WeakMap,og=function(t,r){if(typeof r!="function")return t;n0.has(t)||n0.set(t,new WeakMap);var n=n0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},o1e=function(t,r,n){var s=t.scale,a=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:lm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ty(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:hh(),realScaleType:"point"}:a==="category"?{scale:lm(),realScaleType:"band"}:{scale:ty(),realScaleType:"linear"};if(dc(s)){var c="scale".concat(Zx(s));return{scale:(zA[c]||hh)(),realScaleType:zA[c]?c:"point"}}return nt(s)?{scale:s}:{scale:hh(),realScaleType:"point"}},XA=1e-4,l1e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),a=Math.min(s[0],s[1])-XA,o=Math.max(s[0],s[1])+XA,l=t(r[0]),c=t(r[n-1]);(l<a||l>o||c<a||c>o)&&t.domain([r[0],r[n-1]])}},c1e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},u1e=function(t,r){if(!r||r.length!==2||!pe(r[0])||!pe(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),a=[t[0],t[1]];return(!pe(t[0])||t[0]<n)&&(a[0]=n),(!pe(t[1])||t[1]>s)&&(a[1]=s),a[0]>s&&(a[0]=s),a[1]<n&&(a[1]=n),a},d1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Xd(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=a,t[l][n][1]=a+c,a=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},f1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var a=0,o=0;o<r;++o){var l=Xd(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=a,t[o][n][1]=a+l,a=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},h1e={sign:d1e,expand:Ede,none:ld,silhouette:Ode,wiggle:Pde,positive:f1e},m1e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),a=h1e[n],o=Cde().keys(s).value(function(l,c){return+us(l,c,0)}).order(__).offset(a);return o(t)},p1e=function(t,r,n,s,a,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?gr(gr({},h.type.defaultProps),h.props):h.props,p=g.stackId,y=g.hide;if(y)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(Lr(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[lp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return gr(gr({},f),{},Pu({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var b=m.stackGroups[y];return gr(gr({},p),{},Pu({},y,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:m1e(t,b.items,a)}))},g)}return gr(gr({},f),{},Pu({},h,m))},d)},g1e=function(t,r){var n=r.realScaleType,s=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=C_e(u,a,l);return t.domain([fb(d),To(d)]),{niceTicks:d}}if(a&&s==="number"){var f=t.domain(),h=E_e(f,a,l);return{niceTicks:h}}return null};function JA(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,a=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ft(s[t.dataKey])){var l=Av(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=us(s,ft(o)?t.dataKey:o);return ft(c)?null:t.scale(c)}var ZA=function(t){var r=t.axis,n=t.ticks,s=t.offset,a=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=us(o,r.dataKey,r.domain[l]);return ft(c)?null:r.scale(c)-a/2+s},v1e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return s<=0&&a>=0?0:a<0?a:s}return n[0]},y1e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,a=s.stackId;if(Lr(a)){var o=r[a];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},x1e=function(t){return t.reduce(function(r,n){return[fb(n.concat([r[0]]).filter(pe)),To(n.concat([r[1]]).filter(pe))]},[1/0,-1/0])},mB=function(t,r,n){return Object.keys(t).reduce(function(s,a){var o=t[a],l=o.stackedData,c=l.reduce(function(u,d){var f=x1e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},eT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e1=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(pe(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(eT.test(t[0])){var a=+eT.exec(t[0])[1];s[0]=r[0]-a}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(pe(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(tT.test(t[1])){var o=+tT.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},ly=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var a=ck(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},rT=function(t,r,n){return!t||!t.length||hm(t,As(n,"type.defaultProps.domain"))?r:t},pB=function(t,r){var n=t.type.defaultProps?gr(gr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return gr(gr({},it(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:a||s,color:$k(t),value:us(r,s),type:c,payload:r,chartType:u,hide:d})};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function nT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(r),!0).forEach(function(n){b1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b1e(e,t,r){return t=w1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w1e(e){var t=j1e(e,"string");return ym(t)=="symbol"?t:t+""}function j1e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cy=Math.PI/180,_1e=function(t){return t*180/Math.PI},en=function(t,r,n,s){return{x:t+Math.cos(-cy*s)*n,y:r+Math.sin(-cy*s)*n}},S1e=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(s-o,2))},N1e=function(t,r){var n=t.x,s=t.y,a=r.cx,o=r.cy,l=S1e({x:n,y:s},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:_1e(u),angleInRadian:u}},k1e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(s,a);return{startAngle:r-o*360,endAngle:n-o*360}},C1e=function(t,r){var n=r.startAngle,s=r.endAngle,a=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(a,o);return t+l*360},aT=function(t,r){var n=t.x,s=t.y,a=N1e({x:n,y:s},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=k1e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?sT(sT({},r),{},{radius:o,angle:C1e(m,r)}):null};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}var E1e=["offset"];function O1e(e){return R1e(e)||T1e(e)||A1e(e)||P1e()}function P1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A1e(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function T1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R1e(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M1e(e,t){if(e==null)return{};var r=$1e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(r),!0).forEach(function(n){I1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I1e(e,t,r){return t=D1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D1e(e){var t=L1e(e,"string");return xm(t)=="symbol"?t:t+""}function L1e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bm(){return bm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bm.apply(this,arguments)}var F1e=function(t){var r=t.value,n=t.formatter,s=ft(t.children)?r:t.children;return nt(n)?n(s):s},U1e=function(t,r){var n=la(r-t),s=Math.min(Math.abs(r-t),360);return n*s},B1e=function(t,r,n){var s=t.position,a=t.viewBox,o=t.offset,l=t.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,b=U1e(m,g),v=b>=0?1:-1,w,S;s==="insideStart"?(w=m+v*o,S=p):s==="insideEnd"?(w=g-v*o,S=!p):s==="end"&&(w=g+v*o,S=p),S=b<=0?S:!S;var j=en(u,d,y,w),_=en(u,d,y,w+(S?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(S?0:1,`,
    `).concat(_.x,",").concat(_.y),k=ft(t.id)?lp("recharts-radial-line-"):t.id;return P.createElement("text",bm({},n,{dominantBaseline:"central",className:vt("recharts-radial-bar-label",l)}),P.createElement("defs",null,P.createElement("path",{id:k,d:N})),P.createElement("textPath",{xlinkHref:"#".concat(k)},r))},q1e=function(t){var r=t.viewBox,n=t.offset,s=t.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,h=(d+f)/2;if(s==="outside"){var m=en(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=en(o,l,y,h),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},z1e=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,a=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*s,b=p>0?"end":"start",v=p>0?"start":"end";if(a==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Ar(Ar({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var S={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Ar(Ar({},S),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var j={x:l-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ar(Ar({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(a==="right"){var _={x:l+u+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ar(Ar({},_),n?{width:Math.max(n.x+n.width-_.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return a==="insideLeft"?Ar({x:l+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):a==="insideRight"?Ar({x:l+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):a==="insideTop"?Ar({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):a==="insideBottom"?Ar({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):a==="insideTopLeft"?Ar({x:l+y,y:c+h,textAnchor:v,verticalAnchor:g},N):a==="insideTopRight"?Ar({x:l+u-y,y:c+h,textAnchor:b,verticalAnchor:g},N):a==="insideBottomLeft"?Ar({x:l+y,y:c+d-h,textAnchor:v,verticalAnchor:m},N):a==="insideBottomRight"?Ar({x:l+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},N):Hd(a)&&(pe(a.x)||Al(a.x))&&(pe(a.y)||Al(a.y))?Ar({x:l+fc(a.x,u),y:c+fc(a.y,d),textAnchor:"end",verticalAnchor:"end"},N):Ar({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},W1e=function(t){return"cx"in t&&pe(t.cx)};function un(e){var t=e.offset,r=t===void 0?5:t,n=M1e(e,E1e),s=Ar({offset:r},n),a=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!a||ft(l)&&ft(c)&&!x.isValidElement(u)&&!nt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var m;if(nt(u)){if(m=x.createElement(u,s),x.isValidElement(m))return m}else m=F1e(s);var g=W1e(a),p=it(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return B1e(s,m,p);var y=g?q1e(s):z1e(s);return P.createElement(Hv,bm({className:vt("recharts-label",f)},p,y,{breakAll:h}),m)}un.displayName="Label";var gB=function(t){var r=t.cx,n=t.cy,s=t.angle,a=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(pe(p)&&pe(y)){if(pe(f)&&pe(h))return{x:f,y:h,width:p,height:y};if(pe(m)&&pe(g))return{x:m,y:g,width:p,height:y}}return pe(f)&&pe(h)?{x:f,y:h,width:0,height:0}:pe(r)&&pe(n)?{cx:r,cy:n,startAngle:a||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},V1e=function(t,r){return t?t===!0?P.createElement(un,{key:"label-implicit",viewBox:r}):Lr(t)?P.createElement(un,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===un?x.cloneElement(t,{key:"label-implicit",viewBox:r}):P.createElement(un,{key:"label-implicit",content:t,viewBox:r}):nt(t)?P.createElement(un,{key:"label-implicit",content:t,viewBox:r}):Hd(t)?P.createElement(un,bm({viewBox:r},t,{key:"label-implicit"})):null:null},K1e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,a=gB(t),o=ma(s,un).map(function(c,u){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=V1e(t.label,r||a);return[l].concat(O1e(o))};un.parseViewBox=gB;un.renderCallByParent=K1e;function H1e(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var G1e=H1e;const Y1e=Bt(G1e);function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var Q1e=["valueAccessor"],X1e=["data","dataKey","clockWise","id","textBreakAll"];function J1e(e){return rSe(e)||tSe(e)||eSe(e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(e,t){if(e){if(typeof e=="string")return r1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r1(e,t)}}function tSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rSe(e){if(Array.isArray(e))return r1(e)}function r1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uy(){return uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uy.apply(this,arguments)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){nSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nSe(e,t,r){return t=sSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sSe(e){var t=aSe(e,"string");return wm(t)=="symbol"?t:t+""}function aSe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cT(e,t){if(e==null)return{};var r=iSe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oSe=function(t){return Array.isArray(t.value)?Y1e(t.value):t.value};function Ho(e){var t=e.valueAccessor,r=t===void 0?oSe:t,n=cT(e,Q1e),s=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=cT(n,X1e);return!s||!s.length?null:P.createElement(cr,{className:"recharts-label-list"},s.map(function(d,f){var h=ft(a)?r(d,f):us(d&&d.payload,a),m=ft(l)?{}:{id:"".concat(l,"-").concat(f)};return P.createElement(un,uy({},it(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:un.parseViewBox(ft(o)?d:lT(lT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Ho.displayName="LabelList";function lSe(e,t){return e?e===!0?P.createElement(Ho,{key:"labelList-implicit",data:t}):P.isValidElement(e)||nt(e)?P.createElement(Ho,{key:"labelList-implicit",data:t,content:e}):Hd(e)?P.createElement(Ho,uy({data:t},e,{key:"labelList-implicit"})):null:null}function cSe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ma(n,Ho).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var a=lSe(e.label,t);return[a].concat(J1e(s))}Ho.renderCallByParent=cSe;function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n1.apply(this,arguments)}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){uSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uSe(e,t,r){return t=dSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dSe(e){var t=fSe(e,"string");return jm(t)=="symbol"?t:t+""}function fSe(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hSe=function(t,r){var n=la(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},lg=function(t){var r=t.cx,n=t.cy,s=t.radius,a=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/cy,h=u?a:a+o*f,m=en(r,n,d,h),g=en(r,n,s,h),p=u?a-o*f:a,y=en(r,n,d*Math.cos(f*cy),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},vB=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.startAngle,l=t.endAngle,c=hSe(o,l),u=o+c,d=en(r,n,a,o),f=en(r,n,a,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=en(r,n,s,o),g=en(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},mSe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,a=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=la(d-u),h=lg({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=lg({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,v=y.lineTangency,w=y.theta,S=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(S<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):vB({cx:r,cy:n,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var _=lg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=_.circleTangency,k=_.lineTangency,C=_.theta,A=lg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=A.circleTangency,O=A.lineTangency,U=A.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-U;if(T<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},pSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yB=function(t){var r=dT(dT({},pSe),t),n=r.cx,s=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<a||d===f)return null;var m=vt("recharts-sector",h),g=o-a,p=fc(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=mSe({cx:n,cy:s,innerRadius:a,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=vB({cx:n,cy:s,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),P.createElement("path",n1({},it(r,!0),{className:m,d:y,role:"img"}))};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}function fT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(r),!0).forEach(function(n){gSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gSe(e,t,r){return t=vSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vSe(e){var t=ySe(e,"string");return _m(t)=="symbol"?t:t+""}function ySe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mT={curveBasisClosed:gde,curveBasisOpen:vde,curveBasis:pde,curveBumpX:tde,curveBumpY:rde,curveLinearClosed:yde,curveLinear:tb,curveMonotoneX:xde,curveMonotoneY:bde,curveNatural:wde,curveStep:jde,curveStepAfter:Sde,curveStepBefore:_de},cg=function(t){return t.x===+t.x&&t.y===+t.y},Tf=function(t){return t.x},Rf=function(t){return t.y},xSe=function(t,r){if(nt(t))return t;var n="curve".concat(Zx(t));return(n==="curveMonotone"||n==="curveBump")&&r?mT["".concat(n).concat(r==="vertical"?"Y":"X")]:mT[n]||tb},bSe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,a=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=xSe(n,l),f=u?a.filter(function(p){return cg(p)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return cg(p)}):o,g=f.map(function(p,y){return hT(hT({},p),{},{base:m[y]})});return l==="vertical"?h=Zp().y(Rf).x1(Tf).x0(function(p){return p.base.x}):h=Zp().x(Tf).y1(Rf).y0(function(p){return p.base.y}),h.defined(cg).curve(d),h(g)}return l==="vertical"&&pe(o)?h=Zp().y(Rf).x1(Tf).x0(o):pe(o)?h=Zp().x(Tf).y1(Rf).y0(o):h=x5().x(Tf).y(Rf),h.defined(cg).curve(d),h(f)},ph=function(t){var r=t.className,n=t.points,s=t.path,a=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?bSe(t):s;return x.createElement("path",s1({},it(t,!1),Tv(t),{className:vt("recharts-curve",r),d:o,ref:a}))},xB={exports:{}},wSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jSe=wSe,_Se=jSe;function bB(){}function wB(){}wB.resetWarningCache=bB;var SSe=function(){function e(n,s,a,o,l,c){if(c!==_Se){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:wB,resetWarningCache:bB};return r.PropTypes=r,r};xB.exports=SSe();var NSe=xB.exports;const Tt=Bt(NSe),{getOwnPropertyNames:kSe,getOwnPropertySymbols:CSe}=Object,{hasOwnProperty:ESe}=Object.prototype;function s0(e,t){return function(n,s,a){return e(n,s,a)&&t(n,s,a)}}function ug(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:a}=s,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);const c=e(r,n,s);return a.delete(r),a.delete(n),c}}function OSe(e){return e!=null?e[Symbol.toStringTag]:void 0}function pT(e){return kSe(e).concat(CSe(e))}const PSe=Object.hasOwn||((e,t)=>ESe.call(e,t));function Cc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const ASe="__v",TSe="__o",RSe="_owner",{getOwnPropertyDescriptor:gT,keys:vT}=Object;function MSe(e,t){return e.byteLength===t.byteLength&&dy(new Uint8Array(e),new Uint8Array(t))}function $Se(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function ISe(e,t){return e.byteLength===t.byteLength&&dy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function DSe(e,t){return Cc(e.getTime(),t.getTime())}function LSe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function FSe(e,t){return e===t}function yT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.entries();let o,l,c=0;for(;(o=a.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const USe=Cc;function BSe(e,t,r){const n=vT(e);let s=n.length;if(vT(t).length!==s)return!1;for(;s-- >0;)if(!jB(e,t,r,n[s]))return!1;return!0}function Mf(e,t,r){const n=pT(e);let s=n.length;if(pT(t).length!==s)return!1;let a,o,l;for(;s-- >0;)if(a=n[s],!jB(e,t,r,a)||(o=gT(e,a),l=gT(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function qSe(e,t){return Cc(e.valueOf(),t.valueOf())}function zSe(e,t){return e.source===t.source&&e.flags===t.flags}function xT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function dy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function WSe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function jB(e,t,r,n){return(n===RSe||n===TSe||n===ASe)&&(e.$$typeof||t.$$typeof)?!0:PSe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const VSe="[object ArrayBuffer]",KSe="[object Arguments]",HSe="[object Boolean]",GSe="[object DataView]",YSe="[object Date]",QSe="[object Error]",XSe="[object Map]",JSe="[object Number]",ZSe="[object Object]",eNe="[object RegExp]",tNe="[object Set]",rNe="[object String]",nNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},sNe="[object URL]",aNe=Object.prototype.toString;function iNe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;const w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(y,b,v):w==="function"?a(y,b,v):!1;const S=y.constructor;if(S!==b.constructor)return!1;if(S===Object)return c(y,b,v);if(Array.isArray(y))return t(y,b,v);if(S===Date)return n(y,b,v);if(S===RegExp)return d(y,b,v);if(S===Map)return o(y,b,v);if(S===Set)return f(y,b,v);const j=aNe.call(y);if(j===YSe)return n(y,b,v);if(j===eNe)return d(y,b,v);if(j===XSe)return o(y,b,v);if(j===tNe)return f(y,b,v);if(j===ZSe)return typeof y.then!="function"&&typeof b.then!="function"&&c(y,b,v);if(j===sNe)return m(y,b,v);if(j===QSe)return s(y,b,v);if(j===KSe)return c(y,b,v);if(nNe[j])return h(y,b,v);if(j===VSe)return e(y,b,v);if(j===GSe)return r(y,b,v);if(j===HSe||j===JSe||j===rNe)return u(y,b,v);if(g){let _=g[j];if(!_){const N=OSe(y);N&&(_=g[N])}if(_)return _(y,b,v)}return!1}}function oNe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:MSe,areArraysEqual:r?Mf:$Se,areDataViewsEqual:ISe,areDatesEqual:DSe,areErrorsEqual:LSe,areFunctionsEqual:FSe,areMapsEqual:r?s0(yT,Mf):yT,areNumbersEqual:USe,areObjectsEqual:r?Mf:BSe,arePrimitiveWrappersEqual:qSe,areRegExpsEqual:zSe,areSetsEqual:r?s0(xT,Mf):xT,areTypedArraysEqual:r?s0(dy,Mf):dy,areUrlsEqual:WSe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=ug(n.areArraysEqual),a=ug(n.areMapsEqual),o=ug(n.areObjectsEqual),l=ug(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return n}function lNe(e){return function(t,r,n,s,a,o,l){return e(t,r,l)}}function cNe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const a={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,a)}}const uNe=dl();dl({strict:!0});dl({circular:!0});dl({circular:!0,strict:!0});dl({createInternalComparator:()=>Cc});dl({strict:!0,createInternalComparator:()=>Cc});dl({circular:!0,createInternalComparator:()=>Cc});dl({circular:!0,createInternalComparator:()=>Cc,strict:!0});function dl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,a=oNe(e),o=iNe(a),l=r?r(o):lNe(o);return cNe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function dNe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function bT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(a){r<0&&(r=a),a-r>t?(e(a),r=-1):dNe(s)};requestAnimationFrame(n)}function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function fNe(e){return gNe(e)||pNe(e)||mNe(e)||hNe()}function hNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mNe(e,t){if(e){if(typeof e=="string")return wT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wT(e,t)}}function wT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function pNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gNe(e){if(Array.isArray(e))return e}function vNe(){var e={},t=function(){return null},r=!1,n=function s(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=fNe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){bT(s.bind(null,u),c);return}s(c),bT(s.bind(null,u));return}a1(a)==="object"&&(e=a,t(e)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return t=a,function(){t=function(){return null}}}}}function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function jT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _T(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(r),!0).forEach(function(n){_B(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _B(e,t,r){return t=yNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yNe(e){var t=xNe(e,"string");return Sm(t)==="symbol"?t:String(t)}function xNe(e,t){if(Sm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bNe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(a){return s.includes(a)})})},wNe=function(t){return t},jNe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},gh=function(t,r){return Object.keys(r).reduce(function(n,s){return _T(_T({},n),{},_B({},s,t(s,r[s])))},{})},ST=function(t,r,n){return t.map(function(s){return"".concat(jNe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function _Ne(e,t){return kNe(e)||NNe(e,t)||SB(e,t)||SNe()}function SNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kNe(e){if(Array.isArray(e))return e}function CNe(e){return PNe(e)||ONe(e)||SB(e)||ENe()}function ENe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SB(e,t){if(e){if(typeof e=="string")return i1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i1(e,t)}}function ONe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PNe(e){if(Array.isArray(e))return i1(e)}function i1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var fy=1e-4,NB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},kB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},NT=function(t,r){return function(n){var s=NB(t,r);return kB(s,n)}},ANe=function(t,r){return function(n){var s=NB(t,r),a=[].concat(CNe(s.map(function(o,l){return o*l}).slice(1)),[0]);return kB(a,n)}},kT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,a=0,o=1,l=1;break;case"ease":s=.25,a=.1,o=.25,l=1;break;case"ease-in":s=.42,a=0,o=1,l=1;break;case"ease-out":s=.42,a=0,o=.58,l=1;break;case"ease-in-out":s=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=_Ne(u,4);s=d[0],a=d[1],o=d[2],l=d[3]}}}var f=NT(s,o),h=NT(a,l),m=ANe(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,S=0;S<8;++S){var j=f(w)-v,_=m(w);if(Math.abs(j-v)<fy||_<fy)return h(w);w=g(w-j/_)}return h(w)};return p.isStepper=!1,p},TNe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,a=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*a,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<fy&&Math.abs(p)<fy?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},RNe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kT(s);case"spring":return TNe();default:if(s.split("(")[0]==="cubic-bezier")return kT(s)}return typeof s=="function"?s:null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function CT(e){return INe(e)||$Ne(e)||CB(e)||MNe()}function MNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Ne(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function INe(e){if(Array.isArray(e))return l1(e)}function ET(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(r),!0).forEach(function(n){o1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ET(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o1(e,t,r){return t=DNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DNe(e){var t=LNe(e,"string");return Nm(t)==="symbol"?t:String(t)}function LNe(e,t){if(Nm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FNe(e,t){return qNe(e)||BNe(e,t)||CB(e,t)||UNe()}function UNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CB(e,t){if(e){if(typeof e=="string")return l1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(e,t)}}function l1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function qNe(e){if(Array.isArray(e))return e}var hy=function(t,r,n){return t+(r-t)*n},c1=function(t){var r=t.from,n=t.to;return r!==n},zNe=function e(t,r,n){var s=gh(function(a,o){if(c1(o)){var l=t(o.from,o.to,o.velocity),c=FNe(l,2),u=c[0],d=c[1];return Xr(Xr({},o),{},{from:u,velocity:d})}return o},r);return n<1?gh(function(a,o){return c1(o)?Xr(Xr({},o),{},{velocity:hy(o.velocity,s[a].velocity,n),from:hy(o.from,s[a].from,n)}):o},r):e(t,s,n-1)};const WNe=function(e,t,r,n,s){var a=bNe(e,t),o=a.reduce(function(y,b){return Xr(Xr({},y),{},o1({},b,[e[b],t[b]]))},{}),l=a.reduce(function(y,b){return Xr(Xr({},y),{},o1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return gh(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(c1).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=zNe(r,l,w),s(Xr(Xr(Xr({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,w=gh(function(j,_){return hy.apply(void 0,CT(_).concat([r(v)]))},o);if(s(Xr(Xr(Xr({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var S=gh(function(j,_){return hy.apply(void 0,CT(_).concat([r(1)]))},o);s(Xr(Xr(Xr({},e),t),S))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}var VNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function KNe(e,t){if(e==null)return{};var r=HNe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HNe(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function a0(e){return XNe(e)||QNe(e)||YNe(e)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function QNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XNe(e){if(Array.isArray(e))return u1(e)}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){Qf(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qf(e,t,r){return t=EB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EB(n.key),n)}}function eke(e,t,r){return t&&ZNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EB(e){var t=tke(e,"string");return vd(t)==="symbol"?t:String(t)}function tke(e,t){if(vd(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d1(e,t)}function d1(e,t){return d1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},d1(e,t)}function nke(e){var t=ske();return function(){var n=my(e),s;if(t){var a=my(this).constructor;s=Reflect.construct(n,arguments,a)}else s=n.apply(this,arguments);return f1(this,s)}}function f1(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1(e)}function h1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ske(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},my(e)}var Ui=function(e){rke(r,e);var t=nke(r);function r(n,s){var a;JNe(this,r),a=t.call(this,n,s);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(h1(a)),a.changeStyle=a.changeStyle.bind(h1(a)),!l||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:d}),f1(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},f1(a);a.state={style:c?Qf({},c,u):u}}else a.state={style:{}};return a}return eke(r,[{key:"componentDidMount",value:function(){var s=this.props,a=s.isActive,o=s.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,h=this.state.style;if(l){if(!o){var m={style:c?Qf({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(uNe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var y={style:c?Qf({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Gs(Gs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var a=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=WNe(o,l,RNe(u),c,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var a=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,b){if(b===0)return p;var v=y.duration,w=y.easing,S=w===void 0?"ease":w,j=y.style,_=y.properties,N=y.onAnimationEnd,k=b>0?o[b-1]:y,C=_||Object.keys(j);if(typeof S=="function"||S==="spring")return[].concat(a0(p),[a.runJSAnimation.bind(a,{from:k.style,to:j,duration:v,easing:S}),v]);var A=ST(C,v,S),I=Gs(Gs(Gs({},k.style),j),{},{transition:A});return[].concat(a0(p),[I,v,N]).filter(wNe)};return this.manager.start([c].concat(a0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=vNe());var a=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?Qf({},l,c):c,y=ST(Object.keys(p),o,u);g.start([d,a,Gs(Gs({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,a=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=KNe(s,VNe),u=x.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,b=g.className,v=x.cloneElement(m,Gs(Gs({},c),{},{style:Gs(Gs({},y),d),className:b}));return v};return u===1?f(x.Children.only(a)):P.createElement("div",null,x.Children.map(a,function(h){return f(h)}))}}]),r}(x.PureComponent);Ui.displayName="Animate";Ui.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ui.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(this,arguments)}function ake(e,t){return cke(e)||lke(e,t)||oke(e,t)||ike()}function ike(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oke(e,t){if(e){if(typeof e=="string")return PT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PT(e,t)}}function PT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cke(e){if(Array.isArray(e))return e}function AT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function TT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(r),!0).forEach(function(n){uke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uke(e,t,r){return t=dke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dke(e){var t=fke(e,"string");return km(t)=="symbol"?t:t+""}function fke(e,t){if(km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RT=function(t,r,n,s,a){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},hke=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},mke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ik=function(t){var r=TT(TT({},mke),t),n=x.useRef(),s=x.useState(-1),a=ake(s,2),o=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=vt("recharts-rectangle",m);return v?P.createElement(Ui,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(S){var j=S.width,_=S.height,N=S.x,k=S.y;return P.createElement(Ui,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},P.createElement("path",py({},it(r,!0),{className:w,d:RT(N,k,j,_,h),ref:n})))}):P.createElement("path",py({},it(r,!0),{className:w,d:RT(c,u,d,f,h)}))};function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}var Dk=function(t){var r=t.cx,n=t.cy,s=t.r,a=t.className,o=vt("recharts-dot",a);return r===+r&&n===+n&&s===+s?x.createElement("circle",m1({},it(t,!1),Tv(t),{className:o,cx:r,cy:n,r:s})):null};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}var pke=["x","y","top","left","width","height","className"];function p1(){return p1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p1.apply(this,arguments)}function MT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MT(Object(r),!0).forEach(function(n){vke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vke(e,t,r){return t=yke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yke(e){var t=xke(e,"string");return Cm(t)=="symbol"?t:t+""}function xke(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bke(e,t){if(e==null)return{};var r=wke(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var jke=function(t,r,n,s,a,o){return"M".concat(t,",").concat(a,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},_ke=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,a=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=bke(t,pke),y=gke({x:n,y:a,top:l,left:u,width:f,height:m},p);return!pe(n)||!pe(a)||!pe(f)||!pe(m)||!pe(l)||!pe(u)?null:P.createElement("path",p1({},it(y,!0),{className:vt("recharts-cross",g),d:jke(n,a,f,m,l,u)}))},Ske=z5,Nke=Ske(Object.getPrototypeOf,Object),kke=Nke,Cke=Hi,Eke=kke,Oke=Gi,Pke="[object Object]",Ake=Function.prototype,Tke=Object.prototype,OB=Ake.toString,Rke=Tke.hasOwnProperty,Mke=OB.call(Object);function $ke(e){if(!Oke(e)||Cke(e)!=Pke)return!1;var t=Eke(e);if(t===null)return!0;var r=Rke.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&OB.call(r)==Mke}var Ike=$ke;const Dke=Bt(Ike);var Lke=Hi,Fke=Gi,Uke="[object Boolean]";function Bke(e){return e===!0||e===!1||Fke(e)&&Lke(e)==Uke}var qke=Bke;const zke=Bt(qke);function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function Wke(e,t){return Gke(e)||Hke(e,t)||Kke(e,t)||Vke()}function Vke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kke(e,t){if(e){if(typeof e=="string")return $T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $T(e,t)}}function $T(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Gke(e){if(Array.isArray(e))return e}function IT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function DT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IT(Object(r),!0).forEach(function(n){Yke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yke(e,t,r){return t=Qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qke(e){var t=Xke(e,"string");return Em(t)=="symbol"?t:t+""}function Xke(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LT=function(t,r,n,s,a){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+a),l+="L ".concat(t+n-o/2-s,",").concat(r+a),l+="L ".concat(t,",").concat(r," Z"),l},Jke={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zke=function(t){var r=DT(DT({},Jke),t),n=x.useRef(),s=x.useState(-1),a=Wke(s,2),o=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=vt("recharts-trapezoid",m);return b?P.createElement(Ui,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var S=w.upperWidth,j=w.lowerWidth,_=w.height,N=w.x,k=w.y;return P.createElement(Ui,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},P.createElement("path",gy({},it(r,!0),{className:v,d:LT(N,k,S,j,_),ref:n})))}):P.createElement("g",null,P.createElement("path",gy({},it(r,!0),{className:v,d:LT(c,u,d,f,h)})))},eCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function tCe(e,t){if(e==null)return{};var r=rCe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){nCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nCe(e,t,r){return t=sCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sCe(e){var t=aCe(e,"string");return Om(t)=="symbol"?t:t+""}function aCe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iCe(e,t){return vy(vy({},t),e)}function oCe(e,t){return e==="symbols"}function UT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return P.createElement(Ik,r);case"trapezoid":return P.createElement(Zke,r);case"sector":return P.createElement(yB,r);case"symbols":if(oCe(t))return P.createElement(tk,r);break;default:return null}}function lCe(e){return x.isValidElement(e)?e.props:e}function cCe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?iCe:n,a=e.activeClassName,o=a===void 0?"recharts-active-shape":a,l=e.isActive,c=tCe(e,eCe),u;if(x.isValidElement(t))u=x.cloneElement(t,vy(vy({},c),lCe(t)));else if(nt(t))u=t(c);else if(Dke(t)&&!zke(t)){var d=s(t,c);u=P.createElement(UT,{shapeType:r,elementProps:d})}else{var f=c;u=P.createElement(UT,{shapeType:r,elementProps:f})}return l?P.createElement(cr,{className:o},u):u}function gb(e,t){return t!=null&&"trapezoids"in e.props}function vb(e,t){return t!=null&&"sectors"in e.props}function Pm(e,t){return t!=null&&"points"in e.props}function uCe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,a=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&a}function dCe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function fCe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function hCe(e,t){var r;return gb(e,t)?r=uCe:vb(e,t)?r=dCe:Pm(e,t)&&(r=fCe),r}function mCe(e,t){var r;return gb(e,t)?r="trapezoids":vb(e,t)?r="sectors":Pm(e,t)&&(r="points"),r}function pCe(e,t){if(gb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(vb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pm(e,t)?t.payload:{}}function gCe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=mCe(r,t),a=pCe(r,t),o=n.filter(function(c,u){var d=hm(a,c),f=r.props[s].filter(function(g){var p=hCe(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var vCe=Math.ceil,yCe=Math.max;function xCe(e,t,r,n){for(var s=-1,a=yCe(vCe((t-e)/(r||1)),0),o=Array(a);a--;)o[n?a:++s]=e,e+=r;return o}var bCe=xCe,wCe=lU,BT=1/0,jCe=17976931348623157e292;function _Ce(e){if(!e)return e===0?e:0;if(e=wCe(e),e===BT||e===-BT){var t=e<0?-1:1;return t*jCe}return e===e?e:0}var PB=_Ce,SCe=bCe,NCe=ab,i0=PB;function kCe(e){return function(t,r,n){return n&&typeof n!="number"&&NCe(t,r,n)&&(r=n=void 0),t=i0(t),r===void 0?(r=t,t=0):r=i0(r),n=n===void 0?t<r?1:-1:i0(n),SCe(t,r,n,e)}}var CCe=kCe,ECe=CCe,OCe=ECe(),PCe=OCe;const yy=Bt(PCe);function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){AB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AB(e,t,r){return t=ACe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ACe(e){var t=TCe(e,"string");return Am(t)=="symbol"?t:t+""}function TCe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RCe=["Webkit","Moz","O","ms"],MCe=function(t,r){var n=t.replace(/(\w)/,function(a){return a.toUpperCase()}),s=RCe.reduce(function(a,o){return zT(zT({},a),{},AB({},o+n,r))},{});return s[t]=r,s};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function WT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function o0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WT(Object(r),!0).forEach(function(n){Qn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function ICe(e,t,r){return t&&VT(e.prototype,t),r&&VT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DCe(e,t,r){return t=by(t),LCe(e,TB()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function LCe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FCe(e)}function FCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TB=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function UCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g1(e,t)}function g1(e,t){return g1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},g1(e,t)}function Qn(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RB(e){var t=BCe(e,"string");return yd(t)=="symbol"?t:t+""}function BCe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var qCe=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,a=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=hh().domain(yy(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},KT=function(t){return t.changedTouches&&!!t.changedTouches.length},xd=function(e){function t(r){var n;return $Ce(this,t),n=DCe(this,t,[r]),Qn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Qn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Qn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,a=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),Qn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Qn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Qn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Qn(n,"handleSlideDragStart",function(s){var a=KT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return UCe(t,e),ICe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,a),h=Math.max(s,a),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,a=s.data,o=s.tickFormatter,l=s.dataKey,c=us(a[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,a=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-a;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var a=KT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,a=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-a;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var w=this.getIndex(b),S=w.startIndex,j=w.endIndex,_=function(){var k=y.length-1;return o==="startX"&&(l>c?S%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:S%p===0)||l>c&&j===k};this.setState(Qn(Qn({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&_()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Qn({},s,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return P.createElement("rect",{stroke:u,fill:c,x:s,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?P.cloneElement(f,{x:s,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),v=o0(o0({},it(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((a=g[p])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return P.createElement(cr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return P.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return P.createElement(cr,{className:"recharts-brush-texts"},P.createElement(Hv,xy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),P.createElement(Hv,xy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,s=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!pe(l)||!pe(c)||!pe(u)||!pe(d)||u<=0||d<=0)return null;var w=vt("recharts-brush",a),S=P.Children.count(o)===1,j=MCe("userSelect","none");return P.createElement(cr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return P.createElement(P.Fragment,null,P.createElement("rect",{x:s,y:a,width:o,height:l,fill:c,stroke:"none"}),P.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),P.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var a;return P.isValidElement(n)?a=P.cloneElement(n,s):nt(n)?a=n(s):a=t.renderDefaultTraveller(s),a}},{key:"getDerivedStateFromProps",value:function(n,s){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==s.prevData||u!==s.prevUpdateId)return o0({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?qCe({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(x.PureComponent);Qn(xd,"displayName","Brush");Qn(xd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var zCe=lk;function WCe(e,t){var r;return zCe(e,function(n,s,a){return r=t(n,s,a),!r}),!!r}var VCe=WCe,KCe=$5,HCe=ll,GCe=VCe,YCe=Kn,QCe=ab;function XCe(e,t,r){var n=YCe(e)?KCe:GCe;return r&&QCe(e,t,r)&&(t=void 0),n(e,HCe(t))}var JCe=XCe;const ZCe=Bt(JCe);var Va=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},HT=nU;function e2e(e,t,r){t=="__proto__"&&HT?HT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var t2e=e2e,r2e=t2e,n2e=tU,s2e=ll;function a2e(e,t){var r={};return t=s2e(t),n2e(e,function(n,s,a){r2e(r,s,t(n,s,a))}),r}var i2e=a2e;const o2e=Bt(i2e);function l2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var c2e=l2e,u2e=lk;function d2e(e,t){var r=!0;return u2e(e,function(n,s,a){return r=!!t(n,s,a),r}),r}var f2e=d2e,h2e=c2e,m2e=f2e,p2e=ll,g2e=Kn,v2e=ab;function y2e(e,t,r){var n=g2e(e)?h2e:m2e;return r&&v2e(e,t,r)&&(t=void 0),n(e,p2e(t))}var x2e=y2e;const MB=Bt(x2e);var b2e=["x","y"];function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $f(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){w2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w2e(e,t,r){return t=j2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j2e(e){var t=_2e(e,"string");return Tm(t)=="symbol"?t:t+""}function _2e(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S2e(e,t){if(e==null)return{};var r=N2e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function N2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k2e(e,t){var r=e.x,n=e.y,s=S2e(e,b2e),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return $f($f($f($f($f({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function YT(e){return P.createElement(cCe,v1({shapeType:"rectangle",propTransformer:k2e,activeClassName:"recharts-active-bar"},e))}var C2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var a=pe(n)||Uce(n);return a?t(n,s):(a||mc(),r)}},E2e=["value","background"],$B;function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function O2e(e,t){if(e==null)return{};var r=P2e(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function P2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){Ro(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,DB(n.key),n)}}function T2e(e,t,r){return t&&XT(e.prototype,t),r&&XT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function R2e(e,t,r){return t=jy(t),M2e(e,IB()?Reflect.construct(t,r||[],jy(e).constructor):t.apply(e,r))}function M2e(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $2e(e)}function $2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function jy(e){return jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jy(e)}function I2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},y1(e,t)}function Ro(e,t,r){return t=DB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DB(e){var t=D2e(e,"string");return bd(t)=="symbol"?t:t+""}function D2e(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ec=function(e){function t(){var r;A2e(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=R2e(this,t,[].concat(s)),Ro(r,"state",{isAnimationFinished:!1}),Ro(r,"id",lp("recharts-bar-")),Ro(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ro(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return I2e(t,e),T2e(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=it(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=wr(wr(wr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return P.createElement(cr,wy({className:"recharts-bar-rectangle"},Rv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),P.createElement(YT,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,a=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return P.createElement(Ui,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=a.map(function(y,b){var v=h&&h[b];if(v){var w=js(v.x,y.x),S=js(v.y,y.y),j=js(v.width,y.width),_=js(v.height,y.height);return wr(wr({},y),{},{x:w(g),y:S(g),width:j(g),height:_(g)})}if(o==="horizontal"){var N=js(0,y.height),k=N(g);return wr(wr({},y),{},{y:y.y+y.height-k,height:k})}var C=js(0,y.width),A=C(g);return wr(wr({},y),{},{width:A})});return P.createElement(cr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&s&&s.length&&(!o||!hm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,a=s.data,o=s.dataKey,l=s.activeIndex,c=it(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,h=O2e(u,E2e);if(!f)return null;var m=wr(wr(wr(wr(wr({},h),{},{fill:"#eee"},f),c),Rv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return P.createElement(YT,wy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ma(d,pb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:us(y,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return P.createElement(cr,g,f.map(function(p){return P.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!a||!a.length)return null;var y=this.state.isAnimationFinished,b=vt("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,S=v||w,j=ft(p)?this.id:p;return P.createElement(cr,{className:b},v||w?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(j)},P.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,P.createElement(cr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,j),(!m||y)&&Ho.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);$B=Ec;Ro(Ec,"displayName","Bar");Ro(Ec,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ro(Ec,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,a=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=c1e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,y=p!==void 0?wr(wr({},p),r.props):r.props,b=y.dataKey,v=y.children,w=y.minPointSize,S=g==="horizontal"?o:a,j=u?S.scale.domain():null,_=v1e({numericAxis:S}),N=ma(v,uU),k=f.map(function(C,A){var I,O,U,T,q,R;u?I=u1e(u[d+A],j):(I=us(C,b),Array.isArray(I)||(I=[_,I]));var z=C2e(w,$B.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var D,M=[o.scale(I[0]),o.scale(I[1])],$=M[0],ee=M[1];O=ZA({axis:a,ticks:l,bandSize:s,offset:m.offset,entry:C,index:A}),U=(D=ee??$)!==null&&D!==void 0?D:void 0,T=m.size;var Y=$-ee;if(q=Number.isNaN(Y)?0:Y,R={x:O,y:o.y,width:T,height:o.height},Math.abs(z)>0&&Math.abs(q)<Math.abs(z)){var ce=la(q||z)*(Math.abs(z)-Math.abs(q));U-=ce,q+=ce}}else{var xe=[a.scale(I[0]),a.scale(I[1])],We=xe[0],ne=xe[1];if(O=We,U=ZA({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:A}),T=ne-We,q=m.size,R={x:a.x,y:U,width:a.width,height:q},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var ae=la(T||z)*(Math.abs(z)-Math.abs(T));T+=ae}}return wr(wr(wr({},C),{},{x:O,y:U,width:T,height:q,value:u?I:I[1],payload:C,background:R},N&&N[A]&&N[A].props),{},{tooltipPayload:[pB(r,C)],tooltipPosition:{x:O+T/2,y:U+q/2}})});return wr({data:k,layout:g},h)});function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function L2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function F2e(e,t,r){return t&&JT(e.prototype,t),r&&JT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){yb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yb(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=U2e(e,"string");return Rm(t)=="symbol"?t:t+""}function U2e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FB=function(t,r,n,s,a){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!Jn(u,Ec);return d.reduce(function(m,g){var p=r[g],y=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,S=p.mirror,j=p.reversed,_="".concat(y).concat(S?"Mirror":""),N,k,C,A,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],U=1/0,T=p.categoricalDomain.sort(zce);if(T.forEach(function(xe,We){We>0&&(U=Math.min((xe||0)-(T[We-1]||0),U))}),Number.isFinite(U)){var q=U/O,R=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=q*R/2),p.padding==="no-gap"){var z=fc(t.barCategoryGap,q*R),D=q*R/2;N=D-z-(D-z)/R*z}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var M=o1e(p,a,h),$=M.scale,ee=M.realScaleType;$.domain(b).range(k),l1e($);var Y=g1e($,na(na({},p),{},{realScaleType:ee}));s==="xAxis"?(I=y==="top"&&!S||y==="bottom"&&S,C=n.left,A=f[_]-I*p.height):s==="yAxis"&&(I=y==="left"&&!S||y==="right"&&S,C=f[_]-I*p.width,A=n.top);var ce=na(na(na({},p),Y),{},{realScaleType:ee,x:C,y:A,scale:$,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ce.bandSize=ly(ce,Y),!p.hide&&s==="xAxis"?f[_]+=(I?-1:1)*ce.height:p.hide||(f[_]+=(I?-1:1)*ce.width),na(na({},m),{},yb({},g,ce))},{})},UB=function(t,r){var n=t.x,s=t.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(s,o),width:Math.abs(a-n),height:Math.abs(o-s)}},B2e=function(t){var r=t.x1,n=t.y1,s=t.x2,a=t.y2;return UB({x:r,y:n},{x:s,y:a})},BB=function(){function e(t){L2e(this,e),this.scale=t}return F2e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],a=n[n.length-1];return s<=a?r>=s&&r<=a:r>=a&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();yb(BB,"EPS",1e-4);var Lk=function(t){var r=Object.keys(t).reduce(function(n,s){return na(na({},n),{},yb({},s,BB.create(t[s])))},{});return na(na({},r),{},{apply:function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return o2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return MB(s,function(a,o){return r[o].isInRange(a)})}})};function q2e(e){return(e%180+180)%180}var z2e=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=q2e(s),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},W2e=ll,V2e=cp,K2e=nb;function H2e(e){return function(t,r,n){var s=Object(t);if(!V2e(t)){var a=W2e(r);t=K2e(t),r=function(l){return a(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[a?t[o]:o]:void 0}}var G2e=H2e,Y2e=PB;function Q2e(e){var t=Y2e(e),r=t%1;return t===t?r?t-r:t:0}var X2e=Q2e,J2e=Y5,Z2e=ll,eEe=X2e,tEe=Math.max;function rEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:eEe(r);return s<0&&(s=tEe(n+s,0)),J2e(e,Z2e(t),s)}var nEe=rEe,sEe=G2e,aEe=nEe,iEe=sEe(aEe),oEe=iEe;const lEe=Bt(oEe);var cEe=Kle(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Fk=x.createContext(void 0),Uk=x.createContext(void 0),qB=x.createContext(void 0),zB=x.createContext({}),WB=x.createContext(void 0),VB=x.createContext(0),KB=x.createContext(0),eR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,a=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=cEe(a);return P.createElement(Fk.Provider,{value:n},P.createElement(Uk.Provider,{value:s},P.createElement(zB.Provider,{value:a},P.createElement(qB.Provider,{value:d},P.createElement(WB.Provider,{value:o},P.createElement(VB.Provider,{value:u},P.createElement(KB.Provider,{value:c},l)))))))},uEe=function(){return x.useContext(WB)},HB=function(t){var r=x.useContext(Fk);r==null&&mc();var n=r[t];return n==null&&mc(),n},dEe=function(){var t=x.useContext(Fk);return yo(t)},fEe=function(){var t=x.useContext(Uk),r=lEe(t,function(n){return MB(n.domain,Number.isFinite)});return r||yo(t)},GB=function(t){var r=x.useContext(Uk);r==null&&mc();var n=r[t];return n==null&&mc(),n},hEe=function(){var t=x.useContext(qB);return t},mEe=function(){return x.useContext(zB)},Bk=function(){return x.useContext(KB)},qk=function(){return x.useContext(VB)};function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}function pEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QB(n.key),n)}}function vEe(e,t,r){return t&&gEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yEe(e,t,r){return t=_y(t),xEe(e,YB()?Reflect.construct(t,r||[],_y(e).constructor):t.apply(e,r))}function xEe(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bEe(e)}function bEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YB=function(){return!!e})()}function _y(e){return _y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_y(e)}function wEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x1(e,t)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){zk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zk(e,t,r){return t=QB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QB(e){var t=jEe(e,"string");return wd(t)=="symbol"?t:t+""}function jEe(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _Ee(e,t){return CEe(e)||kEe(e,t)||NEe(e,t)||SEe()}function SEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NEe(e,t){if(e){if(typeof e=="string")return nR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nR(e,t)}}function nR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function CEe(e){if(Array.isArray(e))return e}function b1(){return b1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},b1.apply(this,arguments)}var EEe=function(t,r){var n;return P.isValidElement(t)?n=P.cloneElement(t,r):nt(t)?n=t(r):n=P.createElement("line",b1({},r,{className:"recharts-reference-line-line"})),n},OEe=function(t,r,n,s,a,o,l,c,u){var d=a.x,f=a.y,h=a.width,m=a.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Va(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(Va(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var S=u.segment,j=S.map(function(_){return t.apply(_,{position:o})});return Va(u,"discard")&&ZCe(j,function(_){return!t.isInRange(_)})?null:j}return null};function PEe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,a=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=uEe(),d=HB(s),f=GB(a),h=hEe();if(!u||!h)return null;Ni(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Lk({x:d.scale,y:f.scale}),g=Lr(t),p=Lr(r),y=n&&n.length===2,b=OEe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=_Ee(b,2),w=v[0],S=w.x,j=w.y,_=v[1],N=_.x,k=_.y,C=Va(e,"hidden")?"url(#".concat(u,")"):void 0,A=rR(rR({clipPath:C},it(e,!0)),{},{x1:S,y1:j,x2:N,y2:k});return P.createElement(cr,{className:vt("recharts-reference-line",l)},EEe(o,A),un.renderCallByParent(e,B2e({x1:S,y1:j,x2:N,y2:k})))}var Wk=function(e){function t(){return pEe(this,t),yEe(this,t,arguments)}return wEe(t,e),vEe(t,[{key:"render",value:function(){return P.createElement(PEe,this.props)}}])}(P.Component);zk(Wk,"displayName","ReferenceLine");zk(Wk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function w1(){return w1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1.apply(this,arguments)}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){xb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JB(n.key),n)}}function REe(e,t,r){return t&&TEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function MEe(e,t,r){return t=Sy(t),$Ee(e,XB()?Reflect.construct(t,r||[],Sy(e).constructor):t.apply(e,r))}function $Ee(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IEe(e)}function IEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function XB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XB=function(){return!!e})()}function Sy(e){return Sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sy(e)}function DEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j1(e,t)}function j1(e,t){return j1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},j1(e,t)}function xb(e,t,r){return t=JB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JB(e){var t=LEe(e,"string");return jd(t)=="symbol"?t:t+""}function LEe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var FEe=function(t){var r=t.x,n=t.y,s=t.xAxis,a=t.yAxis,o=Lk({x:s.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Va(t,"discard")&&!o.isInRange(l)?null:l},bb=function(e){function t(){return AEe(this,t),MEe(this,t,arguments)}return DEe(t,e),REe(t,[{key:"render",value:function(){var n=this.props,s=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Lr(s),d=Lr(a);if(Ni(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=FEe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,y=g.className,b=Va(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=aR(aR({clipPath:b},it(this.props,!0)),{},{cx:h,cy:m});return P.createElement(cr,{className:vt("recharts-reference-dot",y)},t.renderDot(p,v),un.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(P.Component);xb(bb,"displayName","ReferenceDot");xb(bb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xb(bb,"renderDot",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(Dk,w1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e6(n.key),n)}}function qEe(e,t,r){return t&&BEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zEe(e,t,r){return t=Ny(t),WEe(e,ZB()?Reflect.construct(t,r||[],Ny(e).constructor):t.apply(e,r))}function WEe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(e)}function VEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZB=function(){return!!e})()}function Ny(e){return Ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ny(e)}function KEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},S1(e,t)}function wb(e,t,r){return t=e6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e6(e){var t=HEe(e,"string");return _d(t)=="symbol"?t:t+""}function HEe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var GEe=function(t,r,n,s,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var h=Lk({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Va(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:UB(m,g)},jb=function(e){function t(){return UEe(this,t),zEe(this,t,arguments)}return KEe(t,e),qEe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ni(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Lr(s),h=Lr(a),m=Lr(o),g=Lr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var y=GEe(f,h,m,g,this.props);if(!y&&!p)return null;var b=Va(this.props,"hidden")?"url(#".concat(d,")"):void 0;return P.createElement(cr,{className:vt("recharts-reference-area",c)},t.renderRect(p,oR(oR({clipPath:b},it(this.props,!0)),y)),un.renderCallByParent(this.props,y))}}])}(P.Component);wb(jb,"displayName","ReferenceArea");wb(jb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});wb(jb,"renderRect",function(e,t){var r;return P.isValidElement(e)?r=P.cloneElement(e,t):nt(e)?r=e(t):r=P.createElement(Ik,_1({},t,{className:"recharts-reference-area-rect"})),r});function t6(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function YEe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return z2e(n,r)}function QEe(e,t,r){var n=r==="width",s=e.x,a=e.y,o=e.width,l=e.height;return t===1?{start:n?s:a,end:n?s+o:a+l}:{start:n?s+o:a+l,end:n?s:a}}function ky(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-s)<=0}function XEe(e,t){return t6(e,t+1)}function JEe(e,t,r,n,s){for(var a=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:t6(n,u)};var p=c,y,b=function(){return y===void 0&&(y=r(g,p)),y},v=g.coordinate,w=c===0||ky(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+s),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){ZEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZEe(e,t,r){return t=eOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eOe(e){var t=tOe(e,"string");return Mm(t)=="symbol"?t:t+""}function tOe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rOe(e,t,r,n,s){for(var a=(n||[]).slice(),o=a.length,l=t.start,c=t.end,u=function(h){var m=a[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);a[h]=m=ln(ln({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=ln(ln({},m),{},{tickCoord:m.coordinate});var b=ky(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),a[h]=ln(ln({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function nOe(e,t,r,n,s,a){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(a){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=ln(ln({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ky(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=ln(ln({},d),{},{isShow:!0}))}for(var g=a?l-1:l,p=function(v){var w=o[v],S,j=function(){return S===void 0&&(S=r(w,v)),S};if(v===0){var _=e*(w.coordinate-e*j()/2-c);o[v]=w=ln(ln({},w),{},{tickCoord:_<0?w.coordinate-_*e:w.coordinate})}else o[v]=w=ln(ln({},w),{},{tickCoord:w.coordinate});var N=ky(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[v]=ln(ln({},w),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function Vk(e,t,r){var n=e.tick,s=e.ticks,a=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(pe(c)||tf.isSsr)return XEe(s,typeof c=="number"&&pe(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?fh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,S){var j=nt(u)?u(w.value,S):w.value;return m==="width"?YEe(fh(j,{fontSize:t,letterSpacing:r}),g,f):fh(j,{fontSize:t,letterSpacing:r})[m]},y=s.length>=2?la(s[1].coordinate-s[0].coordinate):1,b=QEe(a,y,m);return c==="equidistantPreserveStart"?JEe(y,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=nOe(y,b,p,s,o,c==="preserveStartEnd"):h=rOe(y,b,p,s,o),h.filter(function(v){return v.isShow}))}var sOe=["viewBox"],aOe=["viewBox"],iOe=["ticks"];function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function pu(){return pu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pu.apply(this,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){Kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l0(e,t){if(e==null)return{};var r=oOe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n6(n.key),n)}}function cOe(e,t,r){return t&&uR(e.prototype,t),r&&uR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uOe(e,t,r){return t=Cy(t),dOe(e,r6()?Reflect.construct(t,r||[],Cy(e).constructor):t.apply(e,r))}function dOe(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fOe(e)}function fOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!e})()}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}function hOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N1(e,t)}function N1(e,t){return N1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},N1(e,t)}function Kk(e,t,r){return t=n6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=mOe(e,"string");return Sd(t)=="symbol"?t:t+""}function mOe(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var af=function(e){function t(r){var n;return lOe(this,t),n=uOe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return hOe(t,e),cOe(t,[{key:"shouldComponentUpdate",value:function(n,s){var a=n.viewBox,o=l0(n,sOe),l=this.props,c=l.viewBox,u=l0(l,aOe);return!Cu(a,c)||!Cu(o,u)||!Cu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,a=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,y,b,v,w=f?-1:1,S=n.tickSize||d,j=pe(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,y=o+ +!f*c,p=y-w*S,v=p-w*h,b=j;break;case"left":p=y=n.coordinate,g=a+ +!f*l,m=g-w*S,b=m-w*h,v=j;break;case"right":p=y=n.coordinate,g=a+ +f*l,m=g+w*S,b=m+w*h,v=j;break;default:m=g=n.coordinate,y=o+ +f*c,p=y+w*S,v=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o;switch(s){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,a=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Or(Or(Or({},it(this.props,!1)),it(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Or(Or({},f),{},{x1:s,y1:a+h*l,x2:s+o,y2:a+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Or(Or({},f),{},{x1:s+m*o,y1:a,x2:s+m*o,y2:a+l})}return P.createElement("line",pu({},f,{className:vt("recharts-cartesian-axis-line",As(d,"className"))}))}},{key:"renderTicks",value:function(n,s,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Vk(Or(Or({},this.props),{},{ticks:n}),s,a),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=it(this.props,!1),b=it(d,!1),v=Or(Or({},y),{},{fill:"none"},it(c,!1)),w=m.map(function(S,j){var _=o.getTickLineCoord(S),N=_.line,k=_.tick,C=Or(Or(Or(Or({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:S,visibleTicksCount:m.length,tickFormatter:f});return P.createElement(cr,pu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Rv(o.props,S,j)),c&&P.createElement("line",pu({},v,N,{className:vt("recharts-cartesian-axis-tick-line",As(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(S.value,j):S.value).concat(h||"")))});return P.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,a=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=l0(f,iOe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:P.createElement(cr,{className:vt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,a){var o,l=vt(s.className,"recharts-cartesian-axis-tick-value");return P.isValidElement(n)?o=P.cloneElement(n,Or(Or({},s),{},{className:l})):nt(n)?o=n(Or(Or({},s),{},{className:l})):o=P.createElement(Hv,pu({},s,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);Kk(af,"displayName","CartesianAxis");Kk(af,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var pOe=["x1","y1","x2","y2","key"],gOe=["offset"];function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){vOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vOe(e,t,r){return t=yOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yOe(e){var t=xOe(e,"string");return pc(t)=="symbol"?t:t+""}function xOe(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function fR(e,t){if(e==null)return{};var r=bOe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var wOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.ry;return P.createElement("rect",{x:s,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function s6(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,a=t.x2,o=t.y2,l=t.key,c=fR(t,pOe),u=it(c,!1);u.offset;var d=fR(u,gOe);r=P.createElement("line",Ml({},d,{x1:n,y1:s,x2:a,y2:o,fill:"none",key:l}))}return r}function jOe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,a=e.horizontalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=dn(dn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return s6(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function _Oe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,a=e.verticalPoints;if(!s||!a||!a.length)return null;var o=a.map(function(l,c){var u=dn(dn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return s6(s,u)});return P.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function SOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,a=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return P.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:a,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function NOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,a=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?a+l-h:d[m+1]-h;if(p<=0)return null;var y=m%n.length;return P.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return P.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var kOe=function(t,r){var n=t.xAxis,s=t.width,a=t.height,o=t.offset;return hB(Vk(dn(dn(dn({},af.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.left,o.left+o.width,r)},COe=function(t,r){var n=t.yAxis,s=t.width,a=t.height,o=t.offset;return hB(Vk(dn(dn(dn({},af.defaultProps),n),{},{ticks:bi(n,!0),viewBox:{x:0,y:0,width:s,height:a}})),o.top,o.top+o.height,r)},Gc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ey(e){var t,r,n,s,a,o,l=Bk(),c=qk(),u=mEe(),d=dn(dn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Gc.horizontalFill,vertical:(a=e.vertical)!==null&&a!==void 0?a:Gc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Gc.verticalFill,x:pe(e.x)?e.x:u.left,y:pe(e.y)?e.y:u.top,width:pe(e.width)?e.width:u.width,height:pe(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,v=dEe(),w=fEe();if(!pe(m)||m<=0||!pe(g)||g<=0||!pe(f)||f!==+f||!pe(h)||h!==+h)return null;var S=d.verticalCoordinatesGenerator||kOe,j=d.horizontalCoordinatesGenerator||COe,_=d.horizontalPoints,N=d.verticalPoints;if((!_||!_.length)&&nt(j)){var k=y&&y.length,C=j({yAxis:w?dn(dn({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Ni(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(pc(C),"]")),Array.isArray(C)&&(_=C)}if((!N||!N.length)&&nt(S)){var A=b&&b.length,I=S({xAxis:v?dn(dn({},v),{},{ticks:A?b:v.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Ni(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(pc(I),"]")),Array.isArray(I)&&(N=I)}return P.createElement("g",{className:"recharts-cartesian-grid"},P.createElement(wOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),P.createElement(jOe,Ml({},d,{offset:u,horizontalPoints:_,xAxis:v,yAxis:w})),P.createElement(_Oe,Ml({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:w})),P.createElement(SOe,Ml({},d,{horizontalPoints:_})),P.createElement(NOe,Ml({},d,{verticalPoints:N})))}Ey.displayName="CartesianGrid";var EOe=["layout","type","stroke","connectNulls","isRange","ref"],OOe=["key"],a6;function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function i6(e,t){if(e==null)return{};var r=POe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function POe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $l(){return $l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$l.apply(this,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Da(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function TOe(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ROe(e,t,r){return t=Oy(t),MOe(e,o6()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function MOe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Oe(e)}function $Oe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function IOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(e,t)}function Da(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=DOe(e,"string");return Nd(t)=="symbol"?t:t+""}function DOe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Qi=function(e){function t(){var r;AOe(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=ROe(this,t,[].concat(s)),Da(r,"state",{isAnimationFinished:!0}),Da(r,"id",lp("recharts-area-")),Da(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),Da(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return IOe(t,e),TOe(t,[{key:"renderDots",value:function(n,s,a){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=it(this.props,!1),m=it(u,!0),g=d.map(function(y,b){var v=oo(oo(oo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(a,")"):null};return P.createElement(cr,$l({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=To(o.map(function(h){return h.y||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(To(a.map(function(h){return h.y||0})),f)),pe(f)?P.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,a=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=To(o.map(function(h){return h.x||0}));return pe(a)&&typeof a=="number"?f=Math.max(a,f):a&&Array.isArray(a)&&a.length&&(f=Math.max(To(a.map(function(h){return h.x||0})),f)),pe(f)?P.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,a,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=i6(l,EOe);return P.createElement(cr,{clipPath:a?"url(#clipPath-".concat(o,")"):null},P.createElement(ph,$l({},it(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&P.createElement(ph,$l({},it(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&P.createElement(ph,$l({},it(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var a=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,y=g.prevBaseLine;return P.createElement(Ui,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,S=l.map(function(k,C){var A=Math.floor(C*w);if(p[A]){var I=p[A],O=js(I.x,k.x),U=js(I.y,k.y);return oo(oo({},k),{},{x:O(v),y:U(v)})}return k}),j;if(pe(c)&&typeof c=="number"){var _=js(y,c);j=_(v)}else if(ft(c)||Xd(c)){var N=js(y,0);j=N(v)}else j=c.map(function(k,C){var A=Math.floor(C*w);if(y[A]){var I=y[A],O=js(I.x,k.x),U=js(I.y,k.y);return oo(oo({},k),{},{x:O(v),y:U(v)})}return k});return a.renderAreaStatically(S,j,n,s)}return P.createElement(cr,null,P.createElement("defs",null,P.createElement("clipPath",{id:"animationClipPath-".concat(s)},a.renderClipRect(v))),P.createElement(cr,{clipPath:"url(#animationClipPath-".concat(s,")")},a.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var a=this.props,o=a.points,l=a.baseLine,c=a.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!hm(d,o)||!hm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,a=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,y=s.id;if(a||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=vt("recharts-area",c),S=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,_=S||j,N=ft(y)?this.id:y,k=(n=it(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,I=k.strokeWidth,O=I===void 0?2:I,U=Jce(o)?o:{},T=U.clipDot,q=T===void 0?!0:T,R=A*2+O;return P.createElement(cr,{className:w},S||j?P.createElement("defs",null,P.createElement("clipPath",{id:"clipPath-".concat(N)},P.createElement("rect",{x:S?d:d-m/2,y:j?u:u-g/2,width:S?m:m*2,height:j?g:g*2})),!q&&P.createElement("clipPath",{id:"clipPath-dots-".concat(N)},P.createElement("rect",{x:d-R/2,y:u-R/2,width:m+R,height:g+R}))):null,v?null:this.renderArea(_,N),(o||v)&&this.renderDots(_,q,N),(!p||b)&&Ho.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);a6=Qi;Da(Qi,"displayName","Area");Da(Qi,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!tf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Da(Qi,"getBaseValue",function(e,t,r,n){var s=e.layout,a=e.baseValue,o=t.props.baseValue,l=o??a;if(pe(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Da(Qi,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,a=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=a6.getBaseValue(t,r,n,s),y=m==="horizontal",b=!1,v=f.map(function(S,j){var _;g?_=u[d+j]:(_=us(S,c),Array.isArray(_)?b=!0:_=[p,_]);var N=_[1]==null||g&&us(S,c)==null;return y?{x:JA({axis:n,ticks:a,bandSize:l,entry:S,index:j}),y:N?null:s.scale(_[1]),value:_,payload:S}:{x:N?null:n.scale(_[1]),y:JA({axis:s,ticks:o,bandSize:l,entry:S,index:j}),value:_,payload:S}}),w;return g||b?w=v.map(function(S){var j=Array.isArray(S.value)?S.value[0]:null;return y?{x:S.x,y:j!=null&&S.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:S.y}}):w=y?s.scale(p):n.scale(p),oo({points:v,baseLine:w,layout:m,isRange:b},h)});Da(Qi,"renderDotItem",function(e,t){var r;if(P.isValidElement(e))r=P.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=vt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,a=i6(t,OOe);r=P.createElement(Dk,$l({},a,{key:s,className:n}))}return r});function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function LOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d6(n.key),n)}}function UOe(e,t,r){return t&&FOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BOe(e,t,r){return t=Py(t),qOe(e,c6()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function qOe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zOe(e)}function zOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(c6=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function WOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C1(e,t)}function u6(e,t,r){return t=d6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d6(e){var t=VOe(e,"string");return kd(t)=="symbol"?t:t+""}function VOe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function E1(){return E1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E1.apply(this,arguments)}function KOe(e){var t=e.xAxisId,r=Bk(),n=qk(),s=HB(t);return s==null?null:x.createElement(af,E1({},s,{className:vt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bi(o,!0)}}))}var gc=function(e){function t(){return LOe(this,t),BOe(this,t,arguments)}return WOe(t,e),UOe(t,[{key:"render",value:function(){return x.createElement(KOe,this.props)}}])}(x.Component);u6(gc,"displayName","XAxis");u6(gc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function HOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m6(n.key),n)}}function YOe(e,t,r){return t&&GOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QOe(e,t,r){return t=Ay(t),XOe(e,f6()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function XOe(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JOe(e)}function JOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function ZOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O1(e,t)}function O1(e,t){return O1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},O1(e,t)}function h6(e,t,r){return t=m6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m6(e){var t=ePe(e,"string");return Cd(t)=="symbol"?t:t+""}function ePe(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function P1(){return P1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P1.apply(this,arguments)}var tPe=function(t){var r=t.yAxisId,n=Bk(),s=qk(),a=GB(r);return a==null?null:x.createElement(af,P1({},a,{className:vt("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return bi(l,!0)}}))},vc=function(e){function t(){return HOe(this,t),QOe(this,t,arguments)}return ZOe(t,e),YOe(t,[{key:"render",value:function(){return x.createElement(tPe,this.props)}}])}(x.Component);h6(vc,"displayName","YAxis");h6(vc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function pR(e){return aPe(e)||sPe(e)||nPe(e)||rPe()}function rPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nPe(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function sPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aPe(e){if(Array.isArray(e))return A1(e)}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var T1=function(t,r,n,s,a){var o=ma(t,Wk),l=ma(t,bb),c=[].concat(pR(o),pR(l)),u=ma(t,jb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&Va(y.props,"extendDomain")&&pe(y.props[f])){var b=y.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&Va(y.props,"extendDomain")&&pe(y.props[m])&&pe(y.props[g])){var b=y.props[m],v=y.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return a&&a.length&&(h=a.reduce(function(p,y){return pe(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},p6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],b=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var S=y.length,j;for(w=0;w<S;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];y[w].fn.apply(y[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(p6);var iPe=p6.exports;const oPe=Bt(iPe);var c0=new oPe,u0="recharts.syncMouseEvents";function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function lPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function uPe(e,t,r){return t&&cPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d0(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=dPe(e,"string");return $m(t)=="symbol"?t:t+""}function dPe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var fPe=function(){function e(){lPe(this,e),d0(this,"activeIndex",0),d0(this,"coordinateList",[]),d0(this,"layout","horizontal")}return uPe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,a=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),a=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function hPe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&pe(n)&&pe(s))return!0}return!1}function mPe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function v6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,a=e.endAngle,o=en(t,r,n,s),l=en(t,r,n,a);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:a}}function pPe(e,t,r){var n,s,a,o;if(e==="horizontal")n=t.x,a=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,a=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=en(l,c,u,f),m=en(l,c,d,f);n=h.x,s=h.y,a=m.x,o=m.y}else return v6(t);return[{x:n,y:s},{x:a,y:o}]}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function gR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gR(Object(r),!0).forEach(function(n){gPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gPe(e,t,r){return t=vPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vPe(e){var t=yPe(e,"string");return Im(t)=="symbol"?t:t+""}function yPe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xPe(e){var t,r,n=e.element,s=e.tooltipEventType,a=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!a||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=ph;if(h==="ScatterChart")g=o,p=_ke;else if(h==="BarChart")g=mPe(f,o,c,d),p=Ik;else if(f==="radial"){var y=v6(o),b=y.cx,v=y.cy,w=y.radius,S=y.startAngle,j=y.endAngle;g={cx:b,cy:v,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},p=yB}else g={points:pPe(f,o,c)},p=ph;var _=dg(dg(dg(dg({stroke:"#ccc",pointerEvents:"none"},c),g),it(m,!1)),{},{payload:l,payloadIndex:u,className:vt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,_):x.createElement(p,_)}var bPe=["item"],wPe=["children","className","width","height","style","compact","title","desc"];function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gu.apply(this,arguments)}function vR(e,t){return SPe(e)||_Pe(e,t)||x6(e,t)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function SPe(e){if(Array.isArray(e))return e}function yR(e,t){if(e==null)return{};var r=NPe(e,t),n,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function kPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,b6(n.key),n)}}function EPe(e,t,r){return t&&CPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function OPe(e,t,r){return t=Ty(t),PPe(e,y6()?Reflect.construct(t,r||[],Ty(e).constructor):t.apply(e,r))}function PPe(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return APe(e)}function APe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y6=function(){return!!e})()}function Ty(e){return Ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ty(e)}function TPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R1(e,t)}function R1(e,t){return R1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},R1(e,t)}function Od(e){return $Pe(e)||MPe(e)||x6(e)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6(e,t){if(e){if(typeof e=="string")return M1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M1(e,t)}}function MPe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $Pe(e){if(Array.isArray(e))return M1(e)}function M1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){He(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function He(e,t,r){return t=b6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b6(e){var t=IPe(e,"string");return Ed(t)=="symbol"?t:t+""}function IPe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DPe={xAxis:["bottom","top"],yAxis:["left","right"]},LPe={width:"100%",height:"100%"},w6={x:0,y:0};function fg(e){return e}var FPe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},UPe=function(t,r,n,s){var a=r.find(function(d){return d&&d.index===n});if(a){if(t==="horizontal")return{x:a.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:a.coordinate};if(t==="centric"){var o=a.coordinate,l=s.radius;return te(te(te({},s),en(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=s.angle;return te(te(te({},s),en(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return w6},_b=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Od(l),Od(u)):l},[]);return o.length>0?o:t&&t.length&&pe(s)&&pe(a)?t.slice(s,a+1):[]};function j6(e){return e==="number"?[0,"auto"]:void 0}var $1=function(t,r,n,s){var a=t.graphicalItems,o=t.tooltipAxis,l=_b(r,t);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Av(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Od(c),[pB(u,h)]):c},[])},bR=function(t,r,n,s){var a=s||{x:t.chartX,y:t.chartY},o=FPe(a,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=t1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=$1(t,r,d,f),m=UPe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},BPe=function(t,r){var n=r.axes,s=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=fB(d,a);return n.reduce(function(g,p){var y,b=p.type.defaultProps!==void 0?te(te({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,S=b.allowDataOverflow,j=b.allowDuplicatedCategory,_=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var A=_b(t.data,{graphicalItems:s.filter(function(Y){var ce,xe=o in Y.props?Y.props[o]:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce[o];return xe===C}),dataStartIndex:c,dataEndIndex:u}),I=A.length,O,U,T;hPe(b.domain,S,v)&&(O=e1(b.domain,null,S),m&&(v==="number"||_!=="auto")&&(T=mh(A,w,"category")));var q=j6(v);if(!O||O.length===0){var R,z=(R=b.domain)!==null&&R!==void 0?R:q;if(w){if(O=mh(A,w,v),v==="category"&&m){var D=qce(O);j&&D?(U=O,O=yy(0,I)):j||(O=rT(z,O,p).reduce(function(Y,ce){return Y.indexOf(ce)>=0?Y:[].concat(Od(Y),[ce])},[]))}else if(v==="category")j?O=O.filter(function(Y){return Y!==""&&!ft(Y)}):O=rT(z,O,p).reduce(function(Y,ce){return Y.indexOf(ce)>=0||ce===""||ft(ce)?Y:[].concat(Od(Y),[ce])},[]);else if(v==="number"){var M=i1e(A,s.filter(function(Y){var ce,xe,We=o in Y.props?Y.props[o]:(ce=Y.type.defaultProps)===null||ce===void 0?void 0:ce[o],ne="hide"in Y.props?Y.props.hide:(xe=Y.type.defaultProps)===null||xe===void 0?void 0:xe.hide;return We===C&&(k||!ne)}),w,a,d);M&&(O=M)}m&&(v==="number"||_!=="auto")&&(T=mh(A,w,"category"))}else m?O=yy(0,I):l&&l[C]&&l[C].hasStack&&v==="number"?O=h==="expand"?[0,1]:mB(l[C].stackGroups,c,u):O=dB(A,s.filter(function(Y){var ce=o in Y.props?Y.props[o]:Y.type.defaultProps[o],xe="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return ce===C&&(k||!xe)}),v,d,!0);if(v==="number")O=T1(f,O,C,a,N),z&&(O=e1(z,O,S));else if(v==="category"&&z){var $=z,ee=O.every(function(Y){return $.indexOf(Y)>=0});ee&&(O=$)}}return te(te({},g),{},He({},C,te(te({},b),{},{axisType:a,domain:O,categoricalDomain:T,duplicateDomain:U,originalDomain:(y=b.domain)!==null&&y!==void 0?y:q,isCategorical:m,layout:d})))},{})},qPe=function(t,r){var n=r.graphicalItems,s=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=_b(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=fB(d,a),p=-1;return n.reduce(function(y,b){var v=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,w=v[o],S=j6("number");if(!y[w]){p++;var j;return g?j=yy(0,m):l&&l[w]&&l[w].hasStack?(j=mB(l[w].stackGroups,c,u),j=T1(f,j,w,a)):(j=e1(S,dB(h,n.filter(function(_){var N,k,C=o in _.props?_.props[o]:(N=_.type.defaultProps)===null||N===void 0?void 0:N[o],A="hide"in _.props?_.props.hide:(k=_.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),j=T1(f,j,w,a)),te(te({},y),{},He({},w,te(te({axisType:a},s.defaultProps),{},{hide:!0,orientation:As(DPe,"".concat(a,".").concat(p%2),null),domain:j,originalDomain:S,isCategorical:g,layout:d})))}return y},{})},zPe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ma(d,a),m={};return h&&h.length?m=BPe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=qPe(t,{Axis:a,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},WPe=function(t){var r=yo(t),n=bi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ck(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:ly(r,n)}},wR=function(t){var r=t.children,n=t.defaultShowTooltip,s=Jn(r,xd),a=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(a=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},VPe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Si(r&&r.type);return n&&n.indexOf("Bar")>=0})},jR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},KPe=function(t,r){var n=t.props,s=t.graphicalItems,a=t.xAxisMap,o=a===void 0?{}:a,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=Jn(f,xd),g=Jn(f,Eu),p=Object.keys(c).reduce(function(j,_){var N=c[_],k=N.orientation;return!N.mirror&&!N.hide?te(te({},j),{},He({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,_){var N=o[_],k=N.orientation;return!N.mirror&&!N.hide?te(te({},j),{},He({},k,As(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=te(te({},y),p),v=b.bottom;m&&(b.bottom+=m.props.height||xd.defaultProps.height),g&&r&&(b=s1e(b,s,n,r));var w=u-b.left-b.right,S=d-b.top-b.bottom;return te(te({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(S,0)})},HPe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},_6=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,a=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var w=v.graphicalItems,S=v.stackGroups,j=v.offset,_=v.updateId,N=v.dataStartIndex,k=v.dataEndIndex,C=b.barSize,A=b.layout,I=b.barGap,O=b.barCategoryGap,U=b.maxBarSize,T=jR(A),q=T.numericAxisName,R=T.cateAxisName,z=VPe(w),D=[];return w.forEach(function(M,$){var ee=_b(b.data,{graphicalItems:[M],dataStartIndex:N,dataEndIndex:k}),Y=M.type.defaultProps!==void 0?te(te({},M.type.defaultProps),M.props):M.props,ce=Y.dataKey,xe=Y.maxBarSize,We=Y["".concat(q,"Id")],ne=Y["".concat(R,"Id")],ae={},Ie=c.reduce(function(L,V){var Q=v["".concat(V.axisType,"Map")],Se=Y["".concat(V.axisType,"Id")];Q&&Q[Se]||V.axisType==="zAxis"||mc();var be=Q[Se];return te(te({},L),{},He(He({},V.axisType,be),"".concat(V.axisType,"Ticks"),bi(be)))},ae),re=Ie[R],ue=Ie["".concat(R,"Ticks")],K=S&&S[We]&&S[We].hasStack&&y1e(M,S[We].stackGroups),H=Si(M.type).indexOf("Bar")>=0,Je=ly(re,ue),Ke=[],At=z&&r1e({barSize:C,stackGroups:S,totalSize:HPe(Ie,R)});if(H){var Et,rr,nn=ft(xe)?U:xe,On=(Et=(rr=ly(re,ue,!0))!==null&&rr!==void 0?rr:nn)!==null&&Et!==void 0?Et:0;Ke=n1e({barGap:I,barCategoryGap:O,bandSize:On!==Je?On:Je,sizeList:At[ne],maxBarSize:nn}),On!==Je&&(Ke=Ke.map(function(L){return te(te({},L),{},{position:te(te({},L.position),{},{offset:L.position.offset-On/2})})}))}var Na=M&&M.type&&M.type.getComposedData;Na&&D.push({props:te(te({},Na(te(te({},Ie),{},{displayedData:ee,props:b,dataKey:ce,item:M,bandSize:Je,barPosition:Ke,offset:j,stackedData:K,layout:A,dataStartIndex:N,dataEndIndex:k}))),{},He(He(He({key:M.key||"item-".concat($)},q,Ie[q]),R,Ie[R]),"animationId",_)),childIndex:tue(M,b.children),item:M})}),D},m=function(b,v){var w=b.props,S=b.dataStartIndex,j=b.dataEndIndex,_=b.updateId;if(!YO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,A=w.data,I=w.reverseStackOrder,O=jR(k),U=O.numericAxisName,T=O.cateAxisName,q=ma(N,n),R=p1e(A,q,"".concat(U,"Id"),"".concat(T,"Id"),C,I),z=c.reduce(function(Y,ce){var xe="".concat(ce.axisType,"Map");return te(te({},Y),{},He({},xe,zPe(w,te(te({},ce),{},{graphicalItems:q,stackGroups:ce.axisType===U&&R,dataStartIndex:S,dataEndIndex:j}))))},{}),D=KPe(te(te({},z),{},{props:w,graphicalItems:q}),v==null?void 0:v.legendBBox);Object.keys(z).forEach(function(Y){z[Y]=d(w,z[Y],D,Y.replace("Map",""),r)});var M=z["".concat(T,"Map")],$=WPe(M),ee=h(w,te(te({},z),{},{dataStartIndex:S,dataEndIndex:j,updateId:_,graphicalItems:q,stackGroups:R,offset:D}));return te(te({formattedGraphicalItems:ee,graphicalItems:q,offset:D,stackGroups:R},$),z)},g=function(y){function b(v){var w,S,j;return kPe(this,b),j=OPe(this,b,[v]),He(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),He(j,"accessibilityManager",new fPe),He(j,"handleLegendBBoxUpdate",function(_){if(_){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;j.setState(te({legendBBox:_},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:A},te(te({},j.state),{},{legendBBox:_}))))}}),He(j,"handleReceiveSyncEvent",function(_,N,k){if(j.props.syncId===_){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),He(j,"handleBrushChange",function(_){var N=_.startIndex,k=_.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return te({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),He(j,"handleMouseEnter",function(_){var N=j.getMouseInfo(_);if(N){var k=te(te({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,_)}}),He(j,"triggeredAfterMouseMove",function(_){var N=j.getMouseInfo(_),k=N?te(te({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,_)}),He(j,"handleItemMouseEnter",function(_){j.setState(function(){return{isTooltipActive:!0,activeItem:_,activePayload:_.tooltipPayload,activeCoordinate:_.tooltipPosition||{x:_.cx,y:_.cy}}})}),He(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),He(j,"handleMouseMove",function(_){_.persist(),j.throttleTriggeredAfterMouseMove(_)}),He(j,"handleMouseLeave",function(_){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,_)}),He(j,"handleOuterEvent",function(_){var N=eue(_),k=As(j.props,"".concat(N));if(N&&nt(k)){var C,A;/.*touch.*/i.test(N)?A=j.getMouseInfo(_.changedTouches[0]):A=j.getMouseInfo(_),k((C=A)!==null&&C!==void 0?C:{},_)}}),He(j,"handleClick",function(_){var N=j.getMouseInfo(_);if(N){var k=te(te({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,_)}}),He(j,"handleMouseDown",function(_){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleMouseUp",function(_){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleTouchMove",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(_.changedTouches[0])}),He(j,"handleTouchStart",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseDown(_.changedTouches[0])}),He(j,"handleTouchEnd",function(_){_.changedTouches!=null&&_.changedTouches.length>0&&j.handleMouseUp(_.changedTouches[0])}),He(j,"handleDoubleClick",function(_){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"handleContextMenu",function(_){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(_);N(k,_)}}),He(j,"triggerSyncEvent",function(_){j.props.syncId!==void 0&&c0.emit(u0,j.props.syncId,_,j.eventEmitterSymbol)}),He(j,"applySyncEvent",function(_){var N=j.props,k=N.layout,C=N.syncMethod,A=j.state.updateId,I=_.dataStartIndex,O=_.dataEndIndex;if(_.dataStartIndex!==void 0||_.dataEndIndex!==void 0)j.setState(te({dataStartIndex:I,dataEndIndex:O},m({props:j.props,dataStartIndex:I,dataEndIndex:O,updateId:A},j.state)));else if(_.activeTooltipIndex!==void 0){var U=_.chartX,T=_.chartY,q=_.activeTooltipIndex,R=j.state,z=R.offset,D=R.tooltipTicks;if(!z)return;if(typeof C=="function")q=C(D,_);else if(C==="value"){q=-1;for(var M=0;M<D.length;M++)if(D[M].value===_.activeLabel){q=M;break}}var $=te(te({},z),{},{x:z.left,y:z.top}),ee=Math.min(U,$.x+$.width),Y=Math.min(T,$.y+$.height),ce=D[q]&&D[q].value,xe=$1(j.state,j.props.data,q),We=D[q]?{x:k==="horizontal"?D[q].coordinate:ee,y:k==="horizontal"?Y:D[q].coordinate}:w6;j.setState(te(te({},_),{},{activeLabel:ce,activeCoordinate:We,activePayload:xe,activeTooltipIndex:q}))}else j.setState(_)}),He(j,"renderCursor",function(_){var N,k=j.state,C=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,O=k.offset,U=k.activeTooltipIndex,T=k.tooltipAxisBandSize,q=j.getTooltipEventType(),R=(N=_.props.active)!==null&&N!==void 0?N:C,z=j.props.layout,D=_.key||"_recharts-cursor";return P.createElement(xPe,{key:D,activeCoordinate:A,activePayload:I,activeTooltipIndex:U,chartName:r,element:_,isActive:R,layout:z,offset:O,tooltipAxisBandSize:T,tooltipEventType:q})}),He(j,"renderPolarAxis",function(_,N,k){var C=As(_,"type.axisType"),A=As(j.state,"".concat(C,"Map")),I=_.type.defaultProps,O=I!==void 0?te(te({},I),_.props):_.props,U=A&&A[O["".concat(C,"Id")]];return x.cloneElement(_,te(te({},U),{},{className:vt(C,U.className),key:_.key||"".concat(N,"-").concat(k),ticks:bi(U,!0)}))}),He(j,"renderPolarGrid",function(_){var N=_.props,k=N.radialLines,C=N.polarAngles,A=N.polarRadius,I=j.state,O=I.radiusAxisMap,U=I.angleAxisMap,T=yo(O),q=yo(U),R=q.cx,z=q.cy,D=q.innerRadius,M=q.outerRadius;return x.cloneElement(_,{polarAngles:Array.isArray(C)?C:bi(q,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(A)?A:bi(T,!0).map(function($){return $.coordinate}),cx:R,cy:z,innerRadius:D,outerRadius:M,key:_.key||"polar-grid",radialLines:k})}),He(j,"renderLegend",function(){var _=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,A=N.height,I=j.props.margin||{},O=C-(I.left||0)-(I.right||0),U=cB({children:k,formattedGraphicalItems:_,legendWidth:O,legendContent:u});if(!U)return null;var T=U.item,q=yR(U,bPe);return x.cloneElement(T,te(te({},q),{},{chartWidth:C,chartHeight:A,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),He(j,"renderTooltip",function(){var _,N=j.props,k=N.children,C=N.accessibilityLayer,A=Jn(k,xs);if(!A)return null;var I=j.state,O=I.isTooltipActive,U=I.activeCoordinate,T=I.activePayload,q=I.activeLabel,R=I.offset,z=(_=A.props.active)!==null&&_!==void 0?_:O;return x.cloneElement(A,{viewBox:te(te({},R),{},{x:R.left,y:R.top}),active:z,label:q,payload:z?T:[],coordinate:U,accessibilityLayer:C})}),He(j,"renderBrush",function(_){var N=j.props,k=N.margin,C=N.data,A=j.state,I=A.offset,O=A.dataStartIndex,U=A.dataEndIndex,T=A.updateId;return x.cloneElement(_,{key:_.key||"_recharts-brush",onChange:og(j.handleBrushChange,_.props.onChange),data:C,x:pe(_.props.x)?_.props.x:I.left,y:pe(_.props.y)?_.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:pe(_.props.width)?_.props.width:I.width,startIndex:O,endIndex:U,updateId:"brush-".concat(T)})}),He(j,"renderReferenceElement",function(_,N,k){if(!_)return null;var C=j,A=C.clipPathId,I=j.state,O=I.xAxisMap,U=I.yAxisMap,T=I.offset,q=_.type.defaultProps||{},R=_.props,z=R.xAxisId,D=z===void 0?q.xAxisId:z,M=R.yAxisId,$=M===void 0?q.yAxisId:M;return x.cloneElement(_,{key:_.key||"".concat(N,"-").concat(k),xAxis:O[D],yAxis:U[$],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:A})}),He(j,"renderActivePoints",function(_){var N=_.item,k=_.activePoint,C=_.basePoint,A=_.childIndex,I=_.isRange,O=[],U=N.props.key,T=N.item.type.defaultProps!==void 0?te(te({},N.item.type.defaultProps),N.item.props):N.item.props,q=T.activeDot,R=T.dataKey,z=te(te({index:A,dataKey:R,cx:k.x,cy:k.y,r:4,fill:$k(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},it(q,!1)),Tv(q));return O.push(b.renderActiveDot(q,z,"".concat(U,"-activePoint-").concat(A))),C?O.push(b.renderActiveDot(q,te(te({},z),{},{cx:C.x,cy:C.y}),"".concat(U,"-basePoint-").concat(A))):I&&O.push(null),O}),He(j,"renderGraphicChild",function(_,N,k){var C=j.filterFormatItem(_,N,k);if(!C)return null;var A=j.getTooltipEventType(),I=j.state,O=I.isTooltipActive,U=I.tooltipAxis,T=I.activeTooltipIndex,q=I.activeLabel,R=j.props.children,z=Jn(R,xs),D=C.props,M=D.points,$=D.isRange,ee=D.baseLine,Y=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,ce=Y.activeDot,xe=Y.hide,We=Y.activeBar,ne=Y.activeShape,ae=!!(!xe&&O&&z&&(ce||We||ne)),Ie={};A!=="axis"&&z&&z.props.trigger==="click"?Ie={onClick:og(j.handleItemMouseEnter,_.props.onClick)}:A!=="axis"&&(Ie={onMouseLeave:og(j.handleItemMouseLeave,_.props.onMouseLeave),onMouseEnter:og(j.handleItemMouseEnter,_.props.onMouseEnter)});var re=x.cloneElement(_,te(te({},C.props),Ie));function ue(V){return typeof U.dataKey=="function"?U.dataKey(V.payload):null}if(ae)if(T>=0){var K,H;if(U.dataKey&&!U.allowDuplicatedCategory){var Je=typeof U.dataKey=="function"?ue:"payload.".concat(U.dataKey.toString());K=Av(M,Je,q),H=$&&ee&&Av(ee,Je,q)}else K=M==null?void 0:M[T],H=$&&ee&&ee[T];if(ne||We){var Ke=_.props.activeIndex!==void 0?_.props.activeIndex:T;return[x.cloneElement(_,te(te(te({},C.props),Ie),{},{activeIndex:Ke})),null,null]}if(!ft(K))return[re].concat(Od(j.renderActivePoints({item:C,activePoint:K,basePoint:H,childIndex:T,isRange:$})))}else{var At,Et=(At=j.getItemByXY(j.state.activeCoordinate))!==null&&At!==void 0?At:{graphicalItem:re},rr=Et.graphicalItem,nn=rr.item,On=nn===void 0?_:nn,Na=rr.childIndex,L=te(te(te({},C.props),Ie),{},{activeIndex:Na});return[x.cloneElement(On,L),null,null]}return $?[re,null,null]:[re,null]}),He(j,"renderCustomized",function(_,N,k){return x.cloneElement(_,te(te({key:"recharts-customized-".concat(k)},j.props),j.state))}),He(j,"renderMap",{CartesianGrid:{handler:fg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:fg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:fg},YAxis:{handler:fg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:lp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=cU(j.triggeredAfterMouseMove,(S=v.throttleDelay)!==null&&S!==void 0?S:1e3/60),j.state={},j}return TPe(b,y),EPe(b,[{key:"componentDidMount",value:function(){var w,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,S=w.children,j=w.data,_=w.height,N=w.layout,k=Jn(S,xs);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=$1(this.state,j,C,A),O=this.state.tooltipTicks[C].coordinate,U=(this.state.offset.top+_)/2,T=N==="horizontal",q=T?{x:O,y:U}:{y:O,x:U},R=this.state.formattedGraphicalItems.find(function(D){var M=D.item;return M.type.name==="Scatter"});R&&(q=te(te({},q),R.props.points[C].tooltipPosition),I=R.props.points[C].tooltipPayload);var z={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:q};this.setState(z),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,_;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0}})}return null}},{key:"componentDidUpdate",value:function(w){m_([Jn(w.children,xs)],[Jn(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Jn(this.props.children,xs);if(w&&typeof w.props.shared=="boolean"){var S=w.props.shared?"axis":"item";return l.indexOf(S)>=0?S:a}return a}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var S=this.container,j=S.getBoundingClientRect(),_=Cbe(j),N={chartX:Math.round(w.pageX-_.left),chartY:Math.round(w.pageY-_.top)},k=j.width/S.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var A=this.state,I=A.xAxisMap,O=A.yAxisMap,U=this.getTooltipEventType(),T=bR(this.state,this.props.data,this.props.layout,C);if(U!=="axis"&&I&&O){var q=yo(I).scale,R=yo(O).scale,z=q&&q.invert?q.invert(N.chartX):null,D=R&&R.invert?R.invert(N.chartY):null;return te(te({},N),{},{xValue:z,yValue:D},T)}return T?te(te({},N),T):null}},{key:"inRange",value:function(w,S){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=this.props.layout,N=w/j,k=S/j;if(_==="horizontal"||_==="vertical"){var C=this.state.offset,A=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:N,y:k}:null}var I=this.state,O=I.angleAxisMap,U=I.radiusAxisMap;if(O&&U){var T=yo(O);return aT({x:N,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,S=this.getTooltipEventType(),j=Jn(w,xs),_={};j&&S==="axis"&&(j.props.trigger==="click"?_={onClick:this.handleClick}:_={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Tv(this.props,this.handleOuterEvent);return te(te({},N),_)}},{key:"addListener",value:function(){c0.on(u0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){c0.removeListener(u0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,S,j){for(var _=this.state.formattedGraphicalItems,N=0,k=_.length;N<k;N++){var C=_[N];if(C.item===w||C.props.key===w.key||S===Si(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,S=this.state.offset,j=S.left,_=S.top,N=S.height,k=S.width;return P.createElement("defs",null,P.createElement("clipPath",{id:w},P.createElement("rect",{x:j,y:_,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=vR(j,2),N=_[0],k=_[1];return te(te({},S),{},He({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(S,j){var _=vR(j,2),N=_[0],k=_[1];return te(te({},S),{},He({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(w){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[w])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(w){var S=this.state,j=S.formattedGraphicalItems,_=S.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],A=C.props,I=C.item,O=I.type.defaultProps!==void 0?te(te({},I.type.defaultProps),I.props):I.props,U=Si(I.type);if(U==="Bar"){var T=(A.data||[]).find(function(D){return hke(w,D)});if(T)return{graphicalItem:C,payload:T}}else if(U==="RadialBar"){var q=(A.data||[]).find(function(D){return aT(w,D)});if(q)return{graphicalItem:C,payload:q}}else if(gb(C,_)||vb(C,_)||Pm(C,_)){var R=gCe({graphicalItem:C,activeTooltipItem:_,itemData:O.data}),z=O.activeIndex===void 0?R:O.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:z}),payload:Pm(C,_)?O.data[R]:C.props.data[R]}}}return null}},{key:"render",value:function(){var w=this;if(!YO(this))return null;var S=this.props,j=S.children,_=S.className,N=S.width,k=S.height,C=S.style,A=S.compact,I=S.title,O=S.desc,U=yR(S,wPe),T=it(U,!1);if(A)return P.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement(g_,gu({},T,{width:N,height:k,title:I,desc:O}),this.renderClipPath(),XO(j,this.renderMap)));if(this.props.accessibilityLayer){var q,R;T.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,T.role=(R=this.props.role)!==null&&R!==void 0?R:"application",T.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},T.onFocus=function(){w.accessibilityManager.focus()}}var z=this.parseEventsOfWrapper();return P.createElement(eR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},P.createElement("div",gu({className:vt("recharts-wrapper",_),style:te({position:"relative",cursor:"default",width:N,height:k},C)},z,{ref:function(M){w.container=M}}),P.createElement(g_,gu({},T,{width:N,height:k,title:I,desc:O,style:LPe}),this.renderClipPath(),XO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);He(g,"displayName",r),He(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),He(g,"getDerivedStateFromProps",function(y,b){var v=y.dataKey,w=y.data,S=y.children,j=y.width,_=y.height,N=y.layout,k=y.stackOffset,C=y.margin,A=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=wR(y);return te(te(te({},O),{},{updateId:0},m(te(te({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(v!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||_!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Cu(C,b.prevMargin)){var U=wR(y),T={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},q=te(te({},bR(b,w,N)),{},{updateId:b.updateId+1}),R=te(te(te({},U),T),q);return te(te(te({},R),m(te({props:y},R),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:_,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:S})}if(!m_(S,b.prevChildren)){var z,D,M,$,ee=Jn(S,xd),Y=ee&&(z=(D=ee.props)===null||D===void 0?void 0:D.startIndex)!==null&&z!==void 0?z:A,ce=ee&&(M=($=ee.props)===null||$===void 0?void 0:$.endIndex)!==null&&M!==void 0?M:I,xe=Y!==A||ce!==I,We=!ft(w),ne=We&&!xe?b.updateId:b.updateId+1;return te(te({updateId:ne},m(te(te({props:y},b),{},{updateId:ne,dataStartIndex:Y,dataEndIndex:ce}),b)),{},{prevChildren:S,dataStartIndex:Y,dataEndIndex:ce})}return null}),He(g,"renderActiveDot",function(y,b,v){var w;return x.isValidElement(y)?w=x.cloneElement(y,b):nt(y)?w=y(b):w=P.createElement(Dk,b),P.createElement(cr,{className:"recharts-active-dot",key:v},w)});var p=x.forwardRef(function(b,v){return P.createElement(g,gu({},b,{ref:v}))});return p.displayName=g.displayName,p},GPe=_6({chartName:"BarChart",GraphicalChild:Ec,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:vc}],formatAxisMap:FB}),S6=_6({chartName:"AreaChart",GraphicalChild:Qi,axisComponents:[{axisType:"xAxis",AxisComp:gc},{axisType:"yAxis",AxisComp:vc}],formatAxisMap:FB});const _a={getProviders:async()=>{const{data:e,error:t}=await B.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await B.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await B.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await B.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=B.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await B.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await B.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=B.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await _a.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((a,o)=>a+o.token_count_input,0),n=t.reduce((a,o)=>a+o.token_count_output,0),s=new Set(t.map(a=>a.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await B.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await B.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await B.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function Hk(e,t){return e().catch(()=>t)}const Sr={all:["model-providers"],providers:()=>[...Sr.all,"providers"],provider:e=>[...Sr.all,"provider",e],requests:e=>[...Sr.all,"requests",e],request:e=>[...Sr.all,"request",e],usageMetrics:e=>[...Sr.all,"usage-metrics",e],usageSummary:e=>[...Sr.all,"usage-summary",e],configOverride:e=>[...Sr.all,"config-override",e]};function YPe(){return Oe({queryKey:Sr.providers(),queryFn:()=>Hk(()=>_a.getProviders(),[])})}function QPe(){const e=ye();return ve({mutationFn:t=>_a.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sr.providers()}),W.success("Provider added")},onError:t=>{W.error(t.message||"Failed to add provider")}})}function XPe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>_a.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Sr.providers()}),e.invalidateQueries({queryKey:Sr.provider(r)}),W.success("Provider updated")},onError:t=>{W.error(t.message||"Failed to update provider")}})}function JPe(){const e=ye();return ve({mutationFn:t=>_a.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sr.providers()}),e.invalidateQueries({queryKey:Sr.requests()}),W.success("Provider removed")},onError:t=>{W.error(t.message||"Failed to remove provider")}})}function ZPe(e){return Oe({queryKey:Sr.requests(e),queryFn:()=>Hk(()=>_a.getRequests(e),[])})}function eAe(){const e=ye();return ve({mutationFn:t=>_a.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sr.requests()}),W.success("Request logged")},onError:t=>{W.error(t.message||"Failed to log request")}})}function tAe(e){return Oe({queryKey:Sr.usageMetrics(e),queryFn:()=>Hk(()=>_a.getUsageMetrics(e),[])})}function rAe(e){return Oe({queryKey:Sr.usageSummary(e),queryFn:()=>_a.getUsageSummary(e)})}function nAe(){const e=ye();return ve({mutationFn:t=>_a.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sr.usageMetrics()}),e.invalidateQueries({queryKey:Sr.usageSummary()})},onError:t=>{W.error(t.message||"Failed to record usage")}})}function sAe(){const e=ye();return ve({mutationFn:t=>_a.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Sr.configOverride(r.request_id)}),W.success("Configuration saved")},onError:t=>{W.error(t.message||"Failed to save configuration")}})}const _R={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},aAe=dt({name:_e().min(1,"Name is required").max(128),slug:ir(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:_e().url().optional().or(MN("")),priority:as.number().int().min(0).max(999),is_default:Za(),status:ir(["active","inactive","error"])});function iAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const a=!!s,o=lt({resolver:ct(aAe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});x.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return i.jsx(qe,{open:e,onOpenChange:c,children:i.jsxs(Le,{className:"max-w-md",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:a?"Edit provider":"Add provider"}),i.jsx(Be,{children:a?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),i.jsxs("form",{onSubmit:l,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"name",children:"Name"}),i.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:X(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&i.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Provider type"}),i.jsxs(xt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:a,children:[i.jsx(ht,{children:i.jsx(bt,{placeholder:"Select type"})}),i.jsx(mt,{children:Object.keys(_R).map(u=>i.jsx(Ce,{value:u,children:_R[u]},u))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),i.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"priority",children:"Priority (higher = preferred)"}),i.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[i.jsx(G,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),i.jsx(Ur,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),a&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(xt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"active",children:"Active"}),i.jsx(Ce,{value:"inactive",children:"Inactive"}),i.jsx(Ce,{value:"error",children:"Error"})]})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":a?"Update":"Add"})]})]})]})})}const oAe=dt({provider_id:_e().uuid().optional().nullable(),model_name:_e().max(128).optional(),temperature:as.number().min(0).max(2).optional(),max_tokens:as.number().int().min(1).max(128e3).optional()}),lAe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},cAe={active:"success",inactive:"secondary",error:"destructive"};function uAe(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s]=x.useState(()=>XF(new Date,7).toISOString()),{data:a=[],isLoading:o}=YPe(),{data:l=[],isLoading:c}=ZPe({limit:50}),{data:u,isLoading:d}=rAe({since:s}),{data:f=[]}=tAe({limit:100,since:s}),h=QPe(),m=XPe(),g=JPe(),p=eAe(),y=nAe(),b=sAe(),v=lt({resolver:ct(oAe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=_=>{r?m.mutate({id:r.id,data:{name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??void 0,priority:_.priority,is_default:_.is_default,status:_.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:_.name,slug:_.slug,api_endpoint_base:_.api_endpoint_base??null,priority:_.priority,is_default:_.is_default,status:_.status},{onSuccess:()=>t(!1)})},S=v.handleSubmit(async _=>{var C,A;const N=_.provider_id??((C=a.find(I=>I.is_default))==null?void 0:C.id)??((A=a[0])==null?void 0:A.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:_.model_name??null,temperature:_.temperature??null,max_tokens:_.max_tokens??null}),await y.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),v.reset()}),j=f.slice().reverse().reduce((_,N)=>{const k=hu(N.created_at,"yyyy-MM-dd");_.find(A=>A.date===k)||_.push({date:k,tokens:0,requests:0});const C=_.find(A=>A.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),_},[]);return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:i.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),i.jsxs(ei,{defaultValue:"request",className:"space-y-4",children:[i.jsxs(ba,{className:"grid w-full max-w-md grid-cols-3",children:[i.jsxs(jt,{value:"request",className:"gap-2",children:[i.jsx(Ju,{className:"h-4 w-4"}),"Request"]}),i.jsxs(jt,{value:"usage",className:"gap-2",children:[i.jsx(Vf,{className:"h-4 w-4"}),"Usage"]}),i.jsxs(jt,{value:"providers",className:"gap-2",children:[i.jsx(Ua,{className:"h-4 w-4"}),"Providers"]})]}),i.jsxs(_t,{value:"request",className:"space-y-4",children:[i.jsxs(J,{className:"shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"New request"}),i.jsx(we,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:S,className:"flex flex-col gap-4 sm:max-w-lg",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Provider"}),i.jsxs(xt,{value:v.watch("provider_id")??"",onValueChange:_=>v.setValue("provider_id",_||null),children:[i.jsx(ht,{children:i.jsx(bt,{placeholder:"Default provider"})}),i.jsxs(mt,{children:[a.map(_=>i.jsxs(Ce,{value:_.id,children:[_.name," ",_.is_default&&"(default)"]},_.id)),a.length===0&&i.jsx(Ce,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"model_name",children:"Model (optional)"}),i.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...v.register("model_name")})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"temperature",children:"Temperature"}),i.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...v.register("temperature")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"max_tokens",children:"Max tokens"}),i.jsx(ge,{id:"max_tokens",type:"number",...v.register("max_tokens")})]})]}),i.jsx(E,{type:"submit",disabled:p.isPending||a.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),i.jsxs(J,{className:"shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Recent requests"}),i.jsx(we,{children:"Last 50 model requests"})]}),i.jsx(Z,{children:c?i.jsx(de,{className:"h-32 w-full rounded-lg"}):l.length===0?i.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):i.jsx(yt,{className:"h-64",children:i.jsx("ul",{className:"space-y-2",children:l.map(_=>{var N;return i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(qS,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:_.provider_id?((N=a.find(k=>k.id===_.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Br(_.created_at,{addSuffix:!0})})]})]}),i.jsx(Xe,{variant:lAe[_.status],children:_.status})]},_.id)})})})})]})]}),i.jsxs(_t,{value:"usage",className:"space-y-4",children:[d?i.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(de,{className:"h-24 rounded-lg"}),i.jsx(de,{className:"h-24 rounded-lg"}),i.jsx(de,{className:"h-24 rounded-lg"})]}):i.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Total input tokens"}),i.jsx(lE,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Total output tokens"}),i.jsx(lE,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-sm font-medium",children:"Requests (period)"}),i.jsx(u7,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Z,{children:i.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),i.jsxs(J,{className:"shadow-card",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Usage over time"}),i.jsx(we,{children:"Tokens and request count (last 7 days by default)"})]}),i.jsx(Z,{children:j.length===0?i.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):i.jsx(D_,{width:"100%",height:280,children:i.jsxs(S6,{data:j,children:[i.jsx(Ey,{strokeDasharray:"3 3",className:"stroke-border"}),i.jsx(gc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(vc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(xs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),i.jsx(Qi,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),i.jsxs(_t,{value:"providers",className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),i.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?i.jsx(de,{className:"h-48 w-full rounded-lg"}):a.length===0?i.jsx(J,{className:"shadow-card",children:i.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(Ua,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),i.jsxs(E,{onClick:()=>t(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:a.map(_=>i.jsxs(J,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[i.jsxs(se,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsxs(ie,{className:"text-base flex items-center gap-2",children:[_.name,_.is_default&&i.jsx(Xe,{variant:"secondary",className:"text-xs",children:"Default"})]}),i.jsxs(we,{className:"text-xs mt-1",children:[_.api_endpoint_base??_.slug," Priority ",_.priority]})]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Ba,{className:"h-4 w-4"})})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{n(_),t(!0)},children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(_.id),children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),i.jsx(Z,{children:i.jsx(Xe,{variant:cAe[_.status],children:_.status})})]},_.id))})]})]}),i.jsx(iAe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const En={getProfiles:async()=>{const{data:e,error:t}=await B.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await B.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await B.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await B.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await B.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await B.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(a=>({...a,browser_profile_id:e})),{data:n,error:s}=await B.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await B.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await B.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await B.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await B.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await B.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await B.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=B.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await B.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await B.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await B.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await B.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await B.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await B.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await B.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await B.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await B.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await B.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await B.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Gk(e,t){return e().catch(()=>t)}const zt={all:["browser"],profiles:()=>[...zt.all,"profiles"],profile:e=>[...zt.all,"profile",e??""],tabs:e=>[...zt.all,"tabs",e??""],tab:e=>[...zt.all,"tab",e??""],scripts:()=>[...zt.all,"scripts"],script:e=>[...zt.all,"script",e??""],captures:(e,t)=>[...zt.all,"captures",e??"",t],commands:e=>[...zt.all,"commands",e??""],command:e=>[...zt.all,"command",e??""],cdpTokens:()=>[...zt.all,"cdpTokens"],cdpToken:e=>[...zt.all,"cdpToken",e??""]};function dAe(){return Oe({queryKey:zt.profiles(),queryFn:()=>Gk(()=>En.getProfiles(),[])})}function fAe(e){return Oe({queryKey:zt.profile(e),queryFn:()=>e?En.getProfile(e):Promise.resolve(null),enabled:!!e})}function hAe(){const e=ye();return ve({mutationFn:t=>En.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:zt.profiles()}),W.success("Profile created")},onError:t=>{W.error(t.message||"Failed to create profile")}})}function mAe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>En.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:zt.profiles()}),e.invalidateQueries({queryKey:zt.profile(r)}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function pAe(e){return Oe({queryKey:zt.tabs(e),queryFn:()=>En.getTabs(e),enabled:!!e})}function gAe(){return Oe({queryKey:zt.scripts(),queryFn:()=>Gk(()=>En.getScripts(),[])})}function vAe(){const e=ye();return ve({mutationFn:t=>En.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:zt.scripts()}),W.success("Script added")},onError:t=>{W.error(t.message||"Failed to add script")}})}function yAe(e,t){return Oe({queryKey:zt.captures(e,t),queryFn:()=>En.getCaptureRecords(e,t),enabled:!!e})}function xAe(){const e=ye();return ve({mutationFn:t=>En.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zt.captures(r.browser_profile_id)}),W.success("Capture saved")},onError:t=>{W.error(t.message||"Failed to save capture")}})}function bAe(){const e=ye();return ve({mutationFn:t=>En.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zt.all}),W.success("Capture removed")},onError:t=>{W.error(t.message||"Failed to remove capture")}})}function wAe(e){return Oe({queryKey:zt.commands(e),queryFn:()=>En.getCommands(e),enabled:!!e})}function jAe(){const e=ye();return ve({mutationFn:t=>En.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:zt.commands(r.browser_profile_id)}),W.success("Command added to queue")},onError:t=>{W.error(t.message||"Failed to add command")}})}function _Ae(){const e=ye();return ve({mutationFn:t=>En.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:zt.all}),W.success("Command removed")},onError:t=>{W.error(t.message||"Failed to remove command")}})}function SAe(){return Oe({queryKey:zt.cdpTokens(),queryFn:()=>Gk(()=>En.getCdpTokens(),[])})}function NAe(){const e=ye();return ve({mutationFn:t=>En.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:zt.cdpTokens()}),W.success("CDP token added")},onError:t=>{W.error(t.message||"Failed to add CDP token")}})}function kAe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:a,isIsolated:o=!0}){const l=r==="start";return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[420px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:l?"Start managed profile":"Stop managed profile"}),i.jsx(Be,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(a!=null||o!=null)&&i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[a&&i.jsxs("p",{className:"truncate",title:a,children:[i.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",a]}),o!=null&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(E,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?i.jsxs(i.Fragment,{children:[i.jsx(ji,{className:"mr-2 h-4 w-4"}),"Start profile"]}):i.jsxs(i.Fragment,{children:[i.jsx(Yh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function CAe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{className:"flex items-center gap-2 truncate pr-8",children:s}),i.jsx(Be,{className:"break-all",children:n})]}),i.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&i.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:i.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),i.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"URL"}),i.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),i.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),i.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&i.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:X("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[i.jsx(Hl,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const EAe=dt({name:_e().min(1,"Name is required").max(200,"Name too long"),script_content:_e().optional()}),SR={name:"",script_content:""};function OAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:a,reset:o,formState:{errors:l}}=lt({resolver:ct(EAe),defaultValues:SR}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(SR),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Add automation script"}),i.jsx(Be,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),i.jsxs("form",{onSubmit:a(c),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"script-name",children:"Script name"}),i.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&i.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"script-content",children:"Content (optional)"}),i.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const PAe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},AAe={screenshot:zh,pdf:kr,dom:cv};function TAe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:a,onClose:o}){const l=AAe[r],c=PAe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[420px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),i.jsxs(Be,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&i.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{variant:"outline",onClick:d,children:"Close"}),u&&i.jsxs(E,{onClick:()=>{if(a==null||a(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[i.jsx(zn,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const RAe=dt({connection_type:ir(["local","node_proxy"]),token_preview:_e().max(20).optional(),config_json:_e().optional()}),f0={connection_type:"local",token_preview:"",config_json:"{}"};function MAe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:a,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=lt({resolver:ct(RAe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:f0}),f=c("connection_type");x.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:f0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(f0),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:r?"Edit CDP connector":"Add CDP connector"}),i.jsx(Be,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),i.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Connection type"}),i.jsxs(xt,{value:f,onValueChange:m=>l("connection_type",m),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"local",children:"Local"}),i.jsx(Ce,{value:"node_proxy",children:"Node proxy"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(G,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[i.jsx(c4,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),i.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...a("token_preview")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"config-json",children:"Config (JSON, optional)"}),i.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...a("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&i.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const $Ae=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],IAe=dt({command_type:ir(["click","type","select","navigate","scroll","wait","screenshot"]),selector:_e().optional(),text:_e().optional(),url:_e().url().optional().or(MN("")),value:_e().optional(),x:as.number().optional(),y:as.number().optional(),ms:as.number().min(0).optional(),sequence_order:as.number().min(0).optional()}),h0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function DAe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:a=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=lt({resolver:ct(IAe),defaultValues:{...h0,sequence_order:n}}),h=c("command_type");x.useEffect(()=>{e&&r&&d({...h0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,v;const y={};return(b=p.selector)!=null&&b.trim()&&(y.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(y.text=p.text),(v=p.url)!=null&&v.trim()&&(y.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(y.value=p.value),p.x!==void 0&&(y.x=p.x),p.y!==void 0&&(y.y=p.y),p.ms!==void 0&&(y.ms=p.ms),y},g=p=>{if(!r)return;const y=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:y,sequence_order:p.sequence_order??n,status:"pending"}),d({...h0,sequence_order:n+1}),t(!1)};return r?i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[480px]",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Add command to queue"}),i.jsx(Be,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),i.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Command type"}),i.jsxs(xt,{value:h,onValueChange:p=>u("command_type",p),children:[i.jsx(ht,{className:"w-full",children:i.jsx(bt,{placeholder:"Select type"})}),i.jsx(mt,{children:$Ae.map(({value:p,label:y})=>i.jsx(Ce,{value:p,children:y},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),i.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&i.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"text",children:"Text to type"}),i.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"value",children:"Option value"}),i.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"url",children:"URL"}),i.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&i.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"scroll-x",children:"X (px)"}),i.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"scroll-y",children:"Y (px)"}),i.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"ms",children:"Delay (ms)"}),i.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&i.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"sequence_order",children:"Order in queue"}),i.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&i.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:a,className:"transition-transform hover:scale-[1.02]",children:a?"Adding":"Add command"})]})]})]})}):null}const LAe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},FAe={screenshot:zh,pdf:kr,dom:cv};function UAe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:a=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Captured outputs"}),i.jsx(Be,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),i.jsx(yt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[i.jsx(zh,{className:"h-12 w-12 mb-3 opacity-50"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),i.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):i.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=FAe[l.capture_type],u=LAe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return i.jsxs("li",{className:X("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:i.jsx(c,{className:"h-5 w-5"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium text-foreground",children:u}),i.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),i.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),i.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&i.jsx(E,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:i.jsx(Hl,{className:"h-4 w-4"})}),i.jsx(E,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:i.jsx(zn,{className:"h-4 w-4"})}),i.jsx(E,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:a,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:i.jsx(mn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const BAe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},NR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function qAe(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,a]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(!1),[y,b]=x.useState(!1),{data:v=[],isLoading:w}=dAe(),S=x.useMemo(()=>v.find(K=>K.status==="running")??v[0]??null,[v]),j=r??(S==null?void 0:S.id)??null,{data:_}=fAe(j),{data:N=[],isLoading:k,refetch:C}=pAe(j),{data:A=[],isLoading:I}=gAe(),{data:O=[]}=yAe(j,{limit:20}),{data:U=[]}=SAe(),{data:T=[],isLoading:q}=wAe(j),R=mAe(),z=hAe(),D=vAe(),M=xAe(),$=bAe(),ee=NAe(),Y=jAe(),ce=_Ae(),xe=(_==null?void 0:_.status)==="running",We=x.useMemo(()=>T.length===0?0:Math.max(...T.map(K=>K.sequence_order),0)+1,[T]),ne=K=>{j&&t({open:!0,action:K})},ae=()=>{if(!e||!j)return;const K=e.action==="start"?"running":"stopped";R.mutate({id:j,data:{status:K}},{onSettled:()=>t(null)})},Ie=K=>{j&&M.mutate({browser_profile_id:j,capture_type:K,file_path:null,file_url:`/api/browser/captures/${K}-${Date.now()}`,tab_id:null},{onSuccess:H=>{f({open:!0,type:K,fileUrl:H.file_url,filePath:H.file_path})}})},re=K=>{if(K.file_url){const H=document.createElement("a");H.href=K.file_url,H.download=`capture-${K.capture_type}-${Date.now()}`,H.click()}},ue=x.useMemo(()=>{const K=[];return T.slice(0,5).forEach(H=>{K.push({id:H.id,label:`${NR[H.command_type]}  ${H.status}`,time:new Date(H.created_at).toLocaleTimeString(),createdAt:H.created_at})}),O.slice(0,3).forEach(H=>{K.push({id:H.id,label:`Capture: ${H.capture_type}`,time:new Date(H.created_at).toLocaleTimeString(),createdAt:H.created_at})}),K.sort((H,Je)=>Je.createdAt.localeCompare(H.createdAt)).slice(0,8).map(({id:H,label:Je,time:Ke})=>({id:H,label:Je,time:Ke}))},[T,O]);return i.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[i.jsxs("header",{className:"shrink-0 mb-4",children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),i.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[i.jsxs(J,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(u4,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),i.jsxs(E,{size:"sm",onClick:()=>p(!0),disabled:!j||Y.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx($t,{className:"h-4 w-4 mr-1"}),"Add"]})]}),i.jsx(we,{children:"Add and manage automation commands. They run in sequence."})]}),i.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?q?i.jsx("ul",{className:"space-y-2",children:[1,2,3].map(K=>i.jsx(de,{className:"h-10 rounded-md"},K))}):T.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx(t7,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),i.jsxs(E,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):i.jsx(yt,{className:"flex-1 -mx-1 px-1",children:i.jsx("ul",{className:"space-y-1",children:T.map(K=>i.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[i.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:K.sequence_order+1}),i.jsx("span",{className:"truncate text-sm flex-1",children:NR[K.command_type]}),i.jsx(Xe,{variant:"secondary",className:"text-xs shrink-0",children:K.status}),i.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ce.mutate(K.id),disabled:ce.isPending,"aria-label":"Remove command",children:i.jsx(mn,{className:"h-3 w-3"})})]},K.id))})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),i.jsxs(J,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(ax,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:K=>n(K.target.value||null),children:v.map(K=>i.jsxs("option",{value:K.id,children:["Profile  ",BAe[K.status]??K.status]},K.id))}),i.jsxs(E,{size:"sm",onClick:()=>ne("start"),disabled:xe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(ji,{className:"h-4 w-4 mr-1"}),"Start"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>ne("stop"),disabled:!xe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(Yh,{className:"h-4 w-4 mr-1"}),"Stop"]}),i.jsx(E,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!xe,children:i.jsx(Fd,{className:X("h-4 w-4",k&&"animate-spin")})})]})]}),i.jsx(we,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),i.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?i.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(K=>i.jsx(de,{className:"h-24 rounded-lg"},K))}):N.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(cE,{className:"h-12 w-12 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:xe?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):i.jsx(yt,{className:"flex-1",children:i.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(K=>i.jsxs("button",{type:"button",onClick:()=>{a(K),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[K.snapshot_url?i.jsx("img",{src:K.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):i.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:i.jsx(cE,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{className:"p-2",children:[i.jsx("p",{className:"truncate text-sm font-medium",title:K.title??K.url,children:K.title||K.url||"Untitled"}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",title:K.url,children:K.url||""})]})]},K.id))})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),i.jsxs(J,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-lg",children:[i.jsx(zh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),i.jsx(we,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),i.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ie("screenshot"),disabled:!j||!xe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(zh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ie("pdf"),disabled:!j||!xe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(kr,{className:"h-4 w-4 mr-1"}),"PDF"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ie("dom"),disabled:!j||!xe||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(cv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),i.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),i.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",i.jsx(qn,{className:"h-4 w-4 ml-0.5"})]})]}),O.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):i.jsx(yt,{className:"flex-1",children:i.jsx("ul",{className:"space-y-1",children:O.slice(0,5).map(K=>i.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[i.jsx("span",{children:K.capture_type}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(K.created_at).toLocaleDateString()})]},K.id))})})]})]})]})]}),i.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),v.length>0&&j&&i.jsxs(i.Fragment,{children:[i.jsxs(E,{size:"sm",onClick:()=>ne("start"),disabled:xe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(ji,{className:"h-4 w-4 mr-1"}),"Start"]}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>ne("stop"),disabled:!xe||R.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(Yh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),v.length===0&&i.jsx(E,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,children:z.isPending?"Creating":"Create profile"})]}),i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx(qS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),i.jsx(yt,{className:"max-w-full",children:i.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:ue.length===0?i.jsx("span",{children:"No activity yet"}):ue.map(K=>i.jsx("span",{className:"shrink-0 whitespace-nowrap",title:K.time,children:K.label},K.id))})})]})]})}),!w&&v.length===0&&i.jsx(J,{className:"mt-4 shadow-card",children:i.jsxs(Z,{className:"pt-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),i.jsx(E,{size:"sm",variant:"outline",onClick:()=>z.mutate({status:"stopped",is_isolated:!0}),disabled:z.isPending,className:"transition-transform hover:scale-[1.02]",children:z.isPending?"Creating":"Create profile"})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[i.jsx(cv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),i.jsxs(E,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[i.jsx(b4,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),i.jsx(we,{children:"Upload and run automation scripts."})]}),i.jsx(Z,{children:I?i.jsx(de,{className:"h-10 rounded-md"}):A.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):i.jsx("ul",{className:"space-y-1",children:A.slice(0,3).map(K=>i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"truncate",children:K.name}),i.jsx(Xe,{variant:"secondary",children:K.execution_status})]},K.id))})})]}),i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-base",children:[i.jsx(_i,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),i.jsxs(E,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[i.jsx($t,{className:"h-4 w-4 mr-1"}),"Add"]})]}),i.jsx(we,{children:"Local or node proxy CDP settings."})]}),i.jsx(Z,{children:U.length===0?i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(c4,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):i.jsx("ul",{className:"space-y-1",children:U.slice(0,3).map(K=>i.jsxs("li",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-mono truncate",children:K.token_preview||K.connection_type}),i.jsx(Xe,{variant:"secondary",children:K.connection_type})]},K.id))})})]})]}),e&&i.jsx(kAe,{open:e.open,onOpenChange:K=>!K&&t(null),action:e.action,onConfirm:ae,isPending:R.isPending,profilePath:_==null?void 0:_.footprint_path,isIsolated:_==null?void 0:_.is_isolated}),i.jsx(CAe,{open:o,onOpenChange:l,tab:s}),i.jsx(OAe,{open:c,onOpenChange:u,onSubmit:K=>D.mutate(K),isSubmitting:D.isPending}),d&&i.jsx(TAe,{open:d.open,onOpenChange:K=>!K&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),i.jsx(MAe,{open:h,onOpenChange:m,existing:null,onSubmit:K=>ee.mutate(K),isSubmitting:ee.isPending}),i.jsx(DAe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:We,onSubmit:K=>Y.mutate(K),isSubmitting:Y.isPending}),i.jsx(UAe,{open:y,onOpenChange:b,captures:O,onDownload:re,onDelete:K=>$.mutate(K),isDeleting:$.isPending})]})}const Us={getWakeWords:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await B.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await B.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");let r=B.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await B.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await B.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await B.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await B.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await B.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await B.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await B.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function N6(e,t){return e().catch(()=>t)}const $r={all:["voice"],wakeWords:()=>[...$r.all,"wakeWords"],talkModeSettings:()=>[...$r.all,"talkModeSettings"],talkModeSetting:e=>[...$r.all,"talkModeSetting",e],transcriptionBackends:()=>[...$r.all,"transcriptionBackends"],ttsProviderSetting:()=>[...$r.all,"ttsProviderSetting"],mediaSetting:()=>[...$r.all,"mediaSetting"]};function zAe(){return Oe({queryKey:$r.wakeWords(),queryFn:()=>N6(()=>Us.getWakeWords(),[])})}function WAe(){const e=ye();return ve({mutationFn:t=>Us.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.wakeWords()}),W.success("Wake word added")},onError:t=>{W.error(t.message||"Failed to add wake word")}})}function VAe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Us.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:$r.wakeWords()}),W.success("Wake word updated")},onError:t=>{W.error(t.message||"Failed to update wake word")}})}function KAe(){const e=ye();return ve({mutationFn:t=>Us.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.wakeWords()}),W.success("Wake word removed")},onError:t=>{W.error(t.message||"Failed to remove wake word")}})}function HAe(){return Oe({queryKey:$r.talkModeSettings(),queryFn:()=>N6(()=>Us.getTalkModeSettings(),[])})}function GAe(){const e=ye();return ve({mutationFn:t=>Us.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.talkModeSettings()}),e.invalidateQueries({queryKey:$r.all}),W.success("Talk mode saved")},onError:t=>{W.error(t.message||"Failed to save talk mode")}})}function YAe(){return Oe({queryKey:$r.transcriptionBackends(),queryFn:()=>Us.getTranscriptionBackends()})}function QAe(){const e=ye();return ve({mutationFn:t=>Us.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.transcriptionBackends()}),W.success("Transcription backends saved")},onError:t=>{W.error(t.message||"Failed to save transcription backends")}})}function XAe(){return Oe({queryKey:$r.ttsProviderSetting(),queryFn:()=>Us.getTtsProviderSetting()})}function JAe(){const e=ye();return ve({mutationFn:t=>Us.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.ttsProviderSetting()}),W.success("TTS provider saved")},onError:t=>{W.error(t.message||"Failed to save TTS provider")}})}function ZAe(){return Oe({queryKey:$r.mediaSetting(),queryFn:()=>Us.getMediaSetting()})}function eTe(){const e=ye();return ve({mutationFn:t=>Us.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.mediaSetting()}),W.success("Media settings saved")},onError:t=>{W.error(t.message||"Failed to save media settings")}})}const tTe=dt({word:_e().min(1,"Wake word is required").max(64),status:ir(["active","inactive"]),propagate_to_nodes:Za()}),m0={word:"",status:"active",propagate_to_nodes:!0};function rTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:a,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=lt({resolver:ct(tTe),defaultValues:m0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(m0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(m0),t(p)};return i.jsx(qe,{open:e,onOpenChange:g,children:i.jsxs(Le,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:s?"Edit wake word":"Add wake word"}),i.jsx(Be,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),i.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"wake-word-input",children:"Wake word"}),i.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...a("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&i.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(xt,{value:h,onValueChange:p=>l("status",p),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"active",children:"Active"}),i.jsx(Ce,{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),i.jsx(Ur,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const nTe=dt({node_id:_e().nullable(),enabled:Za(),interrupt_sensitivity:ir(["low","medium","high"])});function sTe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const a="",o={node_id:a,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=lt({resolver:ct(nTe),defaultValues:o});x.useEffect(()=>{d({node_id:a,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const y=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:y,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Talk mode"}),i.jsx(we,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),i.jsx(Z,{className:"space-y-6",children:i.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Node"}),i.jsxs(xt,{value:f||a,onValueChange:p=>{const y=p===a?null:p,b=y===null?r:t.find(v=>v.node_id===y);c("node_id",p||a),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[i.jsx(ht,{children:i.jsx(bt,{placeholder:"Default (all nodes)"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"",children:"Default (all nodes)"}),e.map(p=>i.jsx(Ce,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"talk-enabled",children:"Talk mode"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),i.jsx(Ur,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Interrupt sensitivity"}),i.jsxs(xt,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"low",children:"Low"}),i.jsx(Ce,{value:"medium",children:"Medium"}),i.jsx(Ce,{value:"high",children:"High"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),i.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const kR=["whisper","google","assemblyai","deepgram","local-cli"];function aTe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:a=!1}){const[o,l]=x.useState(r.length>0?[...r]:[...kR]),[c,u]=x.useState(n??"");x.useEffect(()=>{e&&(l(r.length>0?[...r]:[...kR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((y,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Transcription backends"}),i.jsx(Be,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider order (first = preferred)"}),i.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>i.jsxs("li",{className:X("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[i.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:i.jsx(u4,{className:"h-4 w-4"})}),i.jsx("span",{className:"flex-1 font-medium",children:g}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:i.jsx(mn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"cli-fallback",children:"CLI fallback command"}),i.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{onClick:m,disabled:a,children:a?"Saving":"Save order"})]})]})})}const iTe=dt({provider:_e().min(1,"Provider is required"),model:_e().optional()}),oTe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],CR={provider:"default",model:""};function lTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:a=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=lt({resolver:ct(iTe),defaultValues:{provider:s,model:a??""}}),h=u("provider"),m=p=>{var y;r({provider:p.provider,model:((y=p.model)==null?void 0:y.trim())||null}),d(CR),t(!1)},g=p=>{d(p?{provider:s,model:a??""}:CR),t(p)};return i.jsx(qe,{open:e,onOpenChange:g,children:i.jsxs(Le,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"TTS provider"}),i.jsx(Be,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),i.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider"}),i.jsxs(xt,{value:h,onValueChange:p=>c("provider",p),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsx(mt,{children:oTe.map(p=>i.jsx(Ce,{value:p.id,children:p.label},p.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"tts-model",children:"Model (optional)"}),i.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&i.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const cTe=dt({retention_days:as.number().min(1).max(3650),size_cap_mb:as.number().min(1).max(1048576),fallback_strategy:ir(["local","cloud","none"]),audio_note_handling:ir(["store","transcribe_and_store","transcribe_only","discard"])}),ER={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function uTe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:a,watch:o,reset:l,formState:{errors:c}}=lt({resolver:ct(cTe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:ER}),u=o("fallback_strategy"),d=o("audio_note_handling");return x.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:ER)},[e,l]),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Media storage"}),i.jsx(we,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"retention-days",children:"Retention (days)"}),i.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&i.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),i.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&i.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Fallback strategy"}),i.jsxs(xt,{value:u,onValueChange:f=>a("fallback_strategy",f),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"local",children:"Local only"}),i.jsx(Ce,{value:"cloud",children:"Cloud when local full"}),i.jsx(Ce,{value:"none",children:"No fallback (fail when full)"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Audio note handling"}),i.jsxs(xt,{value:d,onValueChange:f=>a("audio_note_handling",f),children:[i.jsx(ht,{children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"store",children:"Store only"}),i.jsx(Ce,{value:"transcribe_and_store",children:"Transcribe and store"}),i.jsx(Ce,{value:"transcribe_only",children:"Transcribe only"}),i.jsx(Ce,{value:"discard",children:"Discard"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),i.jsx(E,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function dTe(){var D;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,a]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[],isLoading:u}=zAe(),d=WAe(),f=VAe(),h=KAe(),{data:m=[],isLoading:g}=HAe(),p=GAe(),y=m.find(M=>M.node_id===null)??null,{data:b=[]}=t3(),{data:v,isLoading:w}=YAe(),S=QAe(),{data:j,isLoading:_}=XAe(),N=JAe(),{data:k,isLoading:C}=ZAe(),A=eTe(),I=()=>{n(null),t(!0)},O=M=>{n(M),t(!0)},U=M=>{r?f.mutate({id:r.id,data:{word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes},{onSuccess:()=>t(!1)})},T=M=>{p.mutate({node_id:M.node_id,enabled:M.enabled,interrupt_sensitivity:M.interrupt_sensitivity})},q=(M,$)=>{S.mutate({provider_list:M,cli_fallback:$})},R=M=>{N.mutate({provider:M.provider,model:M.model})},z=M=>{A.mutate(M)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(qn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(Hh,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),i.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsx(ie,{children:"Wake words"}),i.jsx(we,{children:"Voice activation phrases; optionally propagated to nodes."})]}),i.jsxs(E,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[i.jsx($t,{className:"h-4 w-4 mr-2"}),"Add"]})]}),i.jsx(Z,{children:u?i.jsx(de,{className:"h-24 w-full rounded-lg"}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx(Hh,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),i.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):i.jsx("ul",{className:"space-y-2",children:c.map(M=>i.jsxs("li",{className:X("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-medium",children:M.word}),i.jsx(Xe,{variant:M.status==="active"?"success":"secondary",children:M.status}),M.propagate_to_nodes&&i.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O(M),"aria-label":"Edit wake word",children:i.jsx(Wo,{className:"h-4 w-4"})}),i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(M.id),"aria-label":"Delete wake word",children:i.jsx(mn,{className:"h-4 w-4"})})]})]},M.id))})})]}),g?i.jsx(de,{className:"h-64 w-full rounded-lg"}):i.jsx(sTe,{nodes:b,settings:m,defaultSetting:y,onSave:T,isSubmitting:p.isPending}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(e7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),i.jsx(we,{children:"Provider order and CLI fallback for voice-to-text."})]}),i.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>a(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),i.jsx(Z,{children:w?i.jsx(de,{className:"h-16 w-full rounded-lg"}):v?i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=v.provider_list)!=null&&D.length?v.provider_list.join("  "):"default"]}),v.cli_fallback&&i.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",i.jsx("code",{className:"rounded bg-secondary px-1",children:v.cli_fallback})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsxs(ie,{className:"flex items-center gap-2",children:[i.jsx(i7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),i.jsx(we,{children:"Text-to-speech provider and model for voice output."})]}),i.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),i.jsx(Z,{children:_?i.jsx(de,{className:"h-12 w-full rounded-lg"}):j?i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:j.provider}),j.model&&i.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?i.jsx(de,{className:"h-80 w-full rounded-lg"}):i.jsx(uTe,{initial:k??null,onSave:z,isSubmitting:A.isPending})]}),i.jsxs("aside",{className:"space-y-4 lg:order-last",children:[i.jsxs(J,{className:"border-border bg-card/80",children:[i.jsx(se,{className:"pb-2",children:i.jsx(ie,{className:"text-base",children:"Related"})}),i.jsxs(Z,{className:"space-y-2",children:[i.jsxs(he,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[i.jsx(_i,{className:"h-4 w-4 shrink-0"}),"Settings"]}),i.jsx(he,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),i.jsxs(J,{className:"border-border bg-card/80",children:[i.jsx(se,{className:"pb-2",children:i.jsxs(ie,{className:"text-base flex items-center gap-2",children:[i.jsx(Xm,{className:"h-4 w-4"}),"Help"]})}),i.jsx(Z,{children:i.jsx(he,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),i.jsx(rTe,{open:e,onOpenChange:t,onSubmit:U,isSubmitting:d.isPending||f.isPending,initial:r}),i.jsx(aTe,{open:s,onOpenChange:a,providerList:(v==null?void 0:v.provider_list)??[],cliFallback:(v==null?void 0:v.cli_fallback)??null,onSave:q,isSubmitting:S.isPending}),i.jsx(lTe,{open:o,onOpenChange:l,onSubmit:R,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function fTe(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),i.jsxs(ei,{defaultValue:"network",children:[i.jsxs(ba,{children:[i.jsx(jt,{value:"network",children:"Network"}),i.jsx(jt,{value:"remote",children:"Remote access"}),i.jsx(jt,{value:"secrets",children:"Secrets"}),i.jsx(jt,{value:"tools",children:"Tool policies"}),i.jsx(jt,{value:"model",children:"Model defaults"})]}),i.jsx(_t,{value:"network",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Network binding / TLS"}),i.jsx(we,{children:"Bind address and TLS certificate."})]}),i.jsx(Z,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Bind address"}),i.jsx(ge,{placeholder:"0.0.0.0:3000"})]})})]})}),i.jsx(_t,{value:"remote",className:"space-y-4",children:i.jsxs(J,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Remote access (tailnet / proxy)"})}),i.jsx(Z,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),i.jsx(_t,{value:"secrets",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Secrets management"}),i.jsx(we,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),i.jsx(E,{asChild:!0,variant:"secondary",children:i.jsx(he,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),i.jsx(_t,{value:"tools",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Tool policies"}),i.jsx(we,{children:"Exec allowlist, sandbox toggle."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"sandbox",children:"Sandbox tools"}),i.jsx(Ur,{id:"sandbox"})]})})]})}),i.jsx(_t,{value:"model",className:"space-y-4",children:i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Model defaults"}),i.jsx(we,{children:"Default provider and model for runs."})]}),i.jsx(Z,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Default model"}),i.jsx(ge,{placeholder:"gpt-4"})]})})]})})]}),i.jsx(J,{children:i.jsxs(Z,{className:"pt-6",children:[i.jsx(E,{children:"Restart / Apply"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const OR="[ENCRYPTED]";async function k6(){const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function hg(e,t,r={}){const s={user_id:await k6(),secret_id:t,action:e,details:r};await B.from("secret_audit_logs").insert(s)}const Oc={getSecrets:async()=>{const{data:e,error:t}=await B.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await B.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await k6(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?OR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:a}=await B.from("secrets").insert(n).select().single();if(a)throw new Error(a.message);const o=s;return await hg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await B.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await hg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?OR:void 0,{data:n,error:s}=await B.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await hg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Oc.getSecret(e),{error:r}=await B.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await hg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await B.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function hTe(e,t){return e().catch(()=>t)}const _n={all:["secrets"],list:()=>[..._n.all,"list"],detail:e=>[..._n.all,"detail",e],auditLogs:e=>[..._n.all,"auditLogs",e]};function mTe(){return Oe({queryKey:_n.list(),queryFn:()=>hTe(()=>Oc.getSecrets(),[])})}function pTe(){const e=ye();return ve({mutationFn:t=>Oc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.list()}),e.invalidateQueries({queryKey:_n.auditLogs()}),W.success("Secret created")},onError:t=>{W.error(t.message||"Failed to create secret")}})}function gTe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Oc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:_n.list()}),e.invalidateQueries({queryKey:_n.detail(r)}),e.invalidateQueries({queryKey:_n.auditLogs()}),W.success("Secret updated")},onError:t=>{W.error(t.message||"Failed to update secret")}})}function vTe(){const e=ye();return ve({mutationFn:({id:t,value:r})=>Oc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:_n.list()}),e.invalidateQueries({queryKey:_n.detail(r)}),e.invalidateQueries({queryKey:_n.auditLogs()}),W.success("Secret rotated")},onError:t=>{W.error(t.message||"Failed to rotate secret")}})}function yTe(){const e=ye();return ve({mutationFn:t=>Oc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.list()}),e.invalidateQueries({queryKey:_n.auditLogs()}),W.success("Secret removed")},onError:t=>{W.error(t.message||"Failed to remove secret")}})}function xTe(e=50){return Oe({queryKey:_n.auditLogs(e),queryFn:()=>Oc.getAuditLogs(e)})}const bTe=dt({name:_e().min(1,"Name is required").max(128,"Name too long"),storage_method:ir(["os_keychain","onepassword","encrypted_fallback"]),value:_e().optional(),key_reference:_e().optional()}),p0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function wTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:a,reset:o,watch:l,setValue:c,formState:{errors:u}}=lt({resolver:ct(bTe),defaultValues:p0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(p0)},h=m=>{m||o(p0),t(m)};return i.jsx(qe,{open:e,onOpenChange:h,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Add secret"}),i.jsx(Be,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),i.jsxs("form",{onSubmit:a(f),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"name",children:"Name"}),i.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&i.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Storage method"}),i.jsxs(xt,{value:d,onValueChange:m=>c("storage_method",m),children:[i.jsx(ht,{className:u.storage_method?"border-destructive":"",children:i.jsx(bt,{placeholder:"Select storage"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"os_keychain",children:"OS Keychain"}),i.jsx(Ce,{value:"onepassword",children:"1Password"}),i.jsx(Ce,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"value",children:"Value"}),i.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"key_reference",children:"Key reference (optional)"}),i.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const jTe=dt({name:_e().min(1,"Name is required").max(128,"Name too long"),storage_method:ir(["os_keychain","onepassword","encrypted_fallback"]),key_reference:_e().optional()});function _Te({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:a,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=lt({resolver:ct(jTe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");x.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?i.jsx(qe,{open:e,onOpenChange:m,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Edit secret"}),i.jsx(Be,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),i.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"edit-name",children:"Name"}),i.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...a("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&i.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Storage method"}),i.jsxs(xt,{value:f,onValueChange:g=>u("storage_method",g),children:[i.jsx(ht,{className:d.storage_method?"border-destructive":"",children:i.jsx(bt,{placeholder:"Select storage"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"os_keychain",children:"OS Keychain"}),i.jsx(Ce,{value:"onepassword",children:"1Password"}),i.jsx(Ce,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),i.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...a("key_reference"),autoComplete:"off"})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function STe({values:e,onChange:t,disabled:r=!1,className:n}){return i.jsxs(J,{className:X("shadow-card transition-shadow hover:shadow-card-hover",n),children:[i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Vh,{className:"h-5 w-5 text-accent","aria-hidden":!0}),i.jsx(ie,{children:"Setup & configuration"})]}),i.jsx(we,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),i.jsxs(Z,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),i.jsx(Ur,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),i.jsx(Ur,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),i.jsx(Ur,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),i.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Fr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const PR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function NTe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=mTe(),{data:d=[],isLoading:f}=xTe(50),h=pTe(),m=gTe(),g=yTe(),p=vTe(),y=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),a(null))},v=j=>{a(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},S=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),i.jsxs(E,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx($t,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),i.jsxs(J,{className:"border-border shadow-card",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),i.jsx(ie,{className:"text-base",children:"Keychain status"})]}),i.jsx(we,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),i.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&i.jsxs(Xe,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[i.jsx(Ti,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&i.jsxs(Xe,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[i.jsx(Ti,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&i.jsxs(Xe,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[i.jsx(Wi,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),i.jsxs(ei,{defaultValue:"secrets",className:"space-y-4",children:[i.jsxs(ba,{children:[i.jsx(jt,{value:"secrets",children:"Secrets management"}),i.jsx(jt,{value:"setup",children:"Setup & configuration"}),i.jsx(jt,{value:"audit",children:"Audit logs"})]}),i.jsx(_t,{value:"secrets",className:"space-y-4",children:i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{className:"text-lg",children:"Stored secrets"}),i.jsx(we,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),i.jsx(Z,{children:u?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>i.jsx(de,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Vh,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),i.jsxs(E,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[i.jsx($t,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-2",children:c.map(j=>i.jsxs("li",{className:X("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:i.jsx(Vh,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:j.name}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[PR[j.storage_method]??j.storage_method,"  Updated"," ",Br(new Date(j.updated_at),{addSuffix:!0})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.jsx(Xe,{variant:"secondary",className:"text-xs",children:PR[j.storage_method]??j.storage_method}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsx(E,{variant:"ghost",size:"icon","aria-label":"Actions",children:i.jsx(Ba,{className:"h-4 w-4"})})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>v(j),children:[i.jsx(Wo,{className:"h-4 w-4 mr-2"}),"Edit"]}),i.jsxs(Wt,{onClick:()=>w(j),children:[i.jsx(Fd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>S(j),children:[i.jsx(mn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),i.jsx(_t,{value:"setup",className:"space-y-4",children:i.jsx(STe,{values:o,onChange:l})}),i.jsx(_t,{value:"audit",className:"space-y-4",children:i.jsxs(J,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),i.jsx(ie,{className:"text-lg",children:"Audit logs"})]}),i.jsx(we,{children:"Recent secret access, rotation, and configuration changes."})]}),i.jsx(Z,{children:f?i.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>i.jsx(de,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(kr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):i.jsx(yt,{className:"h-[360px] pr-4",children:i.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[i.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),i.jsx("span",{className:"text-muted-foreground",children:Br(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),i.jsx(wTe,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:h.isPending}),i.jsx(_Te,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const Gn="/security",Pc={runAudit:()=>je.post(`${Gn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${Gn}/audits${t?`?${t}`:""}`)},getAudit:e=>je.get(`${Gn}/audits/${e}`),createAudit:e=>je.post(`${Gn}/audits`,e),getIssuesByAuditId:e=>je.get(`${Gn}/audits/${e}/issues`),createIssue:e=>je.post(`${Gn}/issues`,e),applyAutoFix:e=>je.post(`${Gn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>je.patch(`${Gn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${Gn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>je.post(`${Gn}/incident-actions`,e),exportAuditLogs:e=>je.post(`${Gn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${Gn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>je.post(`${Gn}/audit-logs`,e)};function C6(e,t){return e().catch(()=>t)}const ns={all:["security"],audits:e=>[...ns.all,"audits",e],audit:e=>[...ns.all,"audit",e??""],issues:e=>[...ns.all,"issues",e??""],incidentActions:e=>[...ns.all,"incident-actions",e],auditLogs:e=>[...ns.all,"audit-logs",e]};function kTe(e){return Oe({queryKey:ns.audits(e),queryFn:()=>C6(()=>Pc.getAudits(e),[])})}function CTe(e){return Oe({queryKey:ns.issues(e),queryFn:()=>e?C6(()=>Pc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function ETe(){const e=ye();return ve({mutationFn:()=>Pc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:ns.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:ns.audit(t.audit.id)}),e.invalidateQueries({queryKey:ns.issues(t.audit.id)})),W.success("Security audit completed")},onError:t=>{W.error(t.message||"Audit failed")}})}function OTe(){const e=ye();return ve({mutationFn:t=>Pc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:ns.all}),W.success("Auto-fix applied")},onError:t=>{W.error(t.message||"Auto-fix failed")}})}function PTe(){const e=ye();return ve({mutationFn:({issueId:t,data:r})=>Pc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ns.all}),W.success("Issue updated")},onError:t=>{W.error(t.message||"Update failed")}})}function ATe(){const e=ye();return ve({mutationFn:t=>Pc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:ns.all}),W.success("Action submitted")},onError:t=>{W.error(t.message||"Action failed")}})}function TTe(){return ve({mutationFn:e=>Pc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}const Yk=x.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Yk.displayName="Textarea";function RTe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:a}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[i.jsxs(Fe,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(v4,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),i.jsx(Ue,{children:l})]}),i.jsxs(Be,{id:"remediation-confirm-desc",children:[c,a&&i.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:a,children:["Issue: ",a.slice(0,80),a.length>80?"":""]})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const AR={critical:{label:"Critical",icon:Wi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:wc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:KS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:HS,className:"text-accent bg-accent/15 border-accent/30"}};function MTe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function $Te({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:a,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=x.useState(!1),[f,h]=x.useState("");if(!e)return null;const m=AR[e.severity]??AR.medium,g=m.icon,p=o||c,y=()=>{d(!0)},b=()=>{a==null||a(e.id)},v=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return i.jsxs(i.Fragment,{children:[i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[i.jsxs(Fe,{children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(g,{className:X("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),i.jsx(Xe,{variant:"secondary",className:X("border text-xs font-medium",m.className),children:m.label})]}),i.jsx(Ue,{className:"text-left pt-1",children:"Security finding"}),i.jsx(Be,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),i.jsx(yt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:i.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),i.jsx(Xe,{variant:"outline",className:"text-xs font-medium",children:MTe(e.category)})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),i.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),i.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),i.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,S)=>i.jsx("li",{children:w},S))})]}),e.applied_fix&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),i.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),i.jsx(Ur,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),i.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&i.jsx("div",{className:"flex justify-end",children:i.jsx(E,{variant:"default",size:"sm",onClick:y,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(G,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[i.jsx(cx,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),i.jsx(Yk,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),i.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),i.jsx(E,{variant:"outline",size:"sm",onClick:v,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),i.jsx(RTe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const ITe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:YS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:Fd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:zn,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:WS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:g4,variant:"destructive"}};function DTe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const a=ITe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:g4,variant:"default"},o=a.icon,l=()=>{n(e),r(!1)};return i.jsx(qe,{open:t,onOpenChange:r,children:i.jsxs(Le,{"aria-describedby":"incident-action-description",children:[i.jsxs(Fe,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),i.jsx(Ue,{children:a.label})]}),i.jsx(Be,{id:"incident-action-description",children:a.description})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(E,{variant:a.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const LTe=dt({format:ir(["json","csv"]),applyRedaction:Za(),from:_e().optional(),to:_e().optional()});function FTe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:a,setValue:o,watch:l}=lt({resolver:ct(LTe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Export security logs"}),i.jsx(Be,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),i.jsxs("form",{onSubmit:a(d),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-format",children:"Format"}),i.jsxs(xt,{value:u,onValueChange:f=>o("format",f),children:[i.jsx(ht,{id:"security-export-format",children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"json",children:"JSON"}),i.jsx(Ce,{value:"csv",children:"CSV"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"security-export-redaction",children:"Apply redaction"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),i.jsx(Ur,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-from",children:"From (optional)"}),i.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-to",children:"To (optional)"}),i.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const TR={critical:{label:"Critical",icon:Wi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:wc,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:KS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:HS,className:"text-accent bg-accent/15 border-accent/30"}};function RR(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function UTe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function MR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function BTe({issue:e,isSelected:t,onSelect:r}){const n=TR[e.severity]??TR.medium,s=n.icon,a=e.description.length>120?e.description.slice(0,120)+"":e.description;return i.jsxs("button",{type:"button",onClick:r,className:X("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(s,{className:X("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),i.jsx(Xe,{variant:"secondary",className:X("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&i.jsx(Xe,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),i.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:a})]})}const qTe=[{type:"revoke_sessions",label:"Revoke sessions",icon:YS},{type:"rotate_secrets",label:"Rotate secrets",icon:Fd},{type:"export_logs",label:"Export logs",icon:zn},{type:"stop_blast_radius",label:"Stop blast radius",icon:WS}];function zTe(){const{user:e}=nx(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),{data:m=[],isLoading:g}=kTe({limit:10}),p=m[0]??null,y=(p==null?void 0:p.id)??null,{data:b=[],isLoading:v}=CTe(y),w=ETe(),S=ATe(),j=TTe(),_=OTe(),N=PTe(),k={critical:b.filter(R=>R.severity==="critical").length,high:b.filter(R=>R.severity==="high").length,medium:b.filter(R=>R.severity==="medium").length,low:b.filter(R=>R.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,A=R=>{r(R),s(!1),o(!0)},I=R=>{if(R==="export_logs"){h(!0);return}d(R),c(!0)},O=R=>{S.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:y??void 0,action_type:R},{onSuccess:()=>{d(null)}})},U=R=>{j.mutate(R,{onSuccess:z=>{z!=null&&z.download_url&&window.open(z.download_url,"_blank")}})},T=R=>{_.mutate(R,{onSuccess:()=>{o(!1),r(null)}})},q=(R,z)=>{N.mutate({issueId:R,data:{applied_fix:z}},{onSuccess:()=>{o(!1),r(null)}})};return i.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[i.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(qn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(Fr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),i.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[i.jsx(he,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),i.jsx(he,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),i.jsx(he,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Run audit"}),i.jsx(we,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx(ji,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&i.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),i.jsx(FN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Audit summary"}),i.jsx(we,{children:"Overall risk score and issue counts from the latest audit."})]}),i.jsx(Z,{children:g?i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(de,{className:"h-14 w-14 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-6 w-32"}),i.jsx(de,{className:"h-4 w-48"})]})]}):p?i.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:X("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",MR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),i.jsxs("div",{children:[i.jsx("p",{className:X("font-semibold text-lg",MR(C)),children:UTe(C)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",RR(p.created_at)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&i.jsxs(Xe,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&i.jsxs(Xe,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&i.jsxs(Xe,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&i.jsxs(Xe,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&i.jsx(Xe,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Fr,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Issue list"}),i.jsx(we,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),i.jsx(Z,{children:i.jsx(yt,{className:"h-[360px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:v?[1,2,3,4].map(R=>i.jsx(de,{className:"h-20 w-full rounded-lg"},R)):b.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(KS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(R=>i.jsx(BTe,{issue:R,isSelected:(t==null?void 0:t.id)===R.id,onSelect:()=>A(R)},R.id))})})})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Incident response"}),i.jsx(we,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),i.jsx(Z,{children:i.jsx("div",{className:"flex flex-wrap gap-2",children:qTe.map(({type:R,label:z,icon:D})=>i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(R),disabled:S.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx(D,{className:"mr-2 h-4 w-4"}),z]},R))})})]})]}),i.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs(ie,{className:"text-base flex items-center gap-2",children:[i.jsx(Kf,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),i.jsx(we,{children:"Quick links to recent audit runs."})]}),i.jsx(Z,{children:g?i.jsx("div",{className:"space-y-2",children:[1,2,3].map(R=>i.jsx(de,{className:"h-12 w-full rounded-lg"},R))}):m.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):i.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(R=>i.jsx("li",{children:i.jsx("div",{className:X("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===R.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("span",{className:"text-sm font-medium",children:["Risk ",R.risk_score]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:RR(R.created_at)})]})})},R.id))})})]}),i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-base",children:"Export"}),i.jsx(we,{children:"Export audit logs for compliance or incident response."})]}),i.jsx(Z,{children:i.jsxs(E,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[i.jsx(zn,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),i.jsx($Te,{issue:t,open:a,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:T,isApplyingAutoFix:_.isPending,onApplyManualFix:q,isApplyingManualFix:N.isPending}),i.jsx(DTe,{actionType:u,open:l,onOpenChange:c,onConfirm:O,isSubmitting:S.isPending}),i.jsx(FTe,{open:f,onOpenChange:h,onExport:U,isExporting:j.isPending})]})}const gn="/logs",Ac={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return je.get(`${gn}${t?`?${t}`:""}`)},getLog:e=>je.get(`${gn}/${e}`),createLog:e=>je.post(`${gn}`,e),getTraceByLogId:e=>je.get(`${gn}/${e}/trace`),getTrace:e=>je.get(`${gn}/traces/${e}`),createTrace:e=>je.post(`${gn}/traces`,e),updateTrace:(e,t)=>je.patch(`${gn}/traces/${e}`,t),exportLogs:e=>je.post(`${gn}/export`,e),getRetentionSettings:()=>je.get(`${gn}/retention`),updateRetentionSettings:e=>je.patch(`${gn}/retention`,e),createRetentionSettings:e=>je.post(`${gn}/retention`,e),getRedactionRules:()=>je.get(`${gn}/redaction-rules`),createRedactionRule:e=>je.post(`${gn}/redaction-rules`,e),updateRedactionRule:(e,t)=>je.patch(`${gn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>je.delete(`${gn}/redaction-rules/${e}`)};function Qk(e,t){return e().catch(()=>t)}const _s={all:["logs"],list:e=>[..._s.all,"list",e],detail:e=>[..._s.all,"detail",e],traceByLogId:e=>[..._s.all,"trace",e],trace:e=>[..._s.all,"trace-id",e],retention:()=>[..._s.all,"retention"],redactionRules:()=>[..._s.all,"redaction-rules"]};function WTe(e){return Oe({queryKey:_s.list(e),queryFn:()=>Qk(()=>Ac.getLogs(e),[])})}function VTe(e){return Oe({queryKey:_s.traceByLogId(e??""),queryFn:()=>e?Qk(()=>Ac.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function KTe(){return ve({mutationFn:e=>Ac.exportLogs(e),onSuccess:()=>{W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}function HTe(){return Oe({queryKey:_s.redactionRules(),queryFn:()=>Qk(()=>Ac.getRedactionRules(),[])})}function GTe(){const e=ye();return ve({mutationFn:t=>Ac.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:_s.redactionRules()}),W.success("Redaction rule added")},onError:t=>{W.error(t.message||"Failed to add redaction rule")}})}function YTe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>Ac.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:_s.redactionRules()}),W.success("Redaction rule updated")},onError:t=>{W.error(t.message||"Failed to update redaction rule")}})}function QTe(){const e=ye();return ve({mutationFn:t=>Ac.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:_s.redactionRules()}),W.success("Redaction rule removed")},onError:t=>{W.error(t.message||"Failed to remove redaction rule")}})}const E6=["debug","info","warning","error","critical"],XTe=dt({severity:ir(E6).optional(),from:_e().optional(),to:_e().optional(),search:_e().optional(),limit:as.number().min(10).max(500).optional()});function JTe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:a,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=lt({resolver:ct(XTe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Filter logs"}),i.jsx(Be,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),i.jsxs("form",{onSubmit:a(f),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-severity",children:"Severity"}),i.jsxs(xt,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[i.jsx(ht,{id:"filter-severity",children:i.jsx(bt,{placeholder:"All severities"})}),i.jsx(mt,{children:E6.map(m=>i.jsx(Ce,{value:m,children:m},m))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-from",children:"From (ISO date)"}),i.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-to",children:"To (ISO date)"}),i.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-search",children:"Keyword search"}),i.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-limit",children:"Max results"}),i.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{type:"button",variant:"outline",onClick:h,children:"Clear"}),i.jsx(E,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const O6=["debug","info","warning","error","critical"],ZTe=dt({format:ir(["json","csv"]),applyRedaction:Za(),from:_e().optional(),to:_e().optional(),severity:ir(O6).optional()});function eRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[a,o]=x.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=lt({resolver:ct(ZTe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const y={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(y),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Export logs"}),i.jsx(Be,{id:"export-desc",children:g})]}),i.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-format",children:"Format"}),i.jsxs(xt,{value:a,onValueChange:p=>{o(p),u("format",p)},children:[i.jsx(ht,{id:"export-format",children:i.jsx(bt,{})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"json",children:"JSON"}),i.jsx(Ce,{value:"csv",children:"CSV"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"export-redaction",children:"Apply redaction"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),i.jsx(Ur,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-from",children:"From (optional)"}),i.jsx(ge,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-to",children:"To (optional)"}),i.jsx(ge,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-severity",children:"Severity filter (optional)"}),i.jsxs(xt,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[i.jsx(ht,{id:"export-severity",children:i.jsx(bt,{placeholder:"All severities"})}),i.jsx(mt,{children:O6.map(p=>i.jsx(Ce,{value:p,children:p},p))})]})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const tRe=dt({field_name:_e().min(1,"Field name is required").max(120),is_redacted:Za()});function rRe({open:e,onOpenChange:t}){const[r,n]=x.useState(!1),{data:s=[],isLoading:a}=HTe(),o=GTe(),l=YTe(),c=QTe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=lt({resolver:ct(tRe),defaultValues:{field_name:"",is_redacted:!0}}),y=h("field_name"),b=h("is_redacted"),v=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},S=j=>{c.mutate(j)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),i.jsx(Be,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),i.jsx(yt,{className:"flex-1 min-h-0 rounded-md border border-border",children:i.jsx("div",{className:"p-2 space-y-3",children:a?i.jsxs(i.Fragment,{children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[i.jsx(Fr,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),i.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):i.jsxs(i.Fragment,{children:[s.map(j=>i.jsxs("div",{className:X("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[i.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.jsx(Ur,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),i.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>S(j.id),"aria-label":`Delete rule ${j.field_name}`,children:i.jsx(mn,{className:"h-4 w-4"})})]})]},j.id)),r&&i.jsxs("form",{onSubmit:d(v),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"redaction-field-name",children:"Field name"}),i.jsx(ge,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&i.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(G,{htmlFor:"redaction-enabled",children:"Redact by default"}),i.jsx(Ur,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0 pt-2",children:[i.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),i.jsx(E,{type:"submit",size:"sm",disabled:!(y!=null&&y.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&i.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function nRe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function $R({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,a]=x.useState(n);return i.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[i.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>a(o=>!o),"aria-expanded":s,children:[s?i.jsx(bc,{className:"h-4 w-4 shrink-0"}):i.jsx(qn,{className:"h-4 w-4 shrink-0"}),i.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&i.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function IR({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return i.jsxs(J,{className:X("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:i.jsxs(ie,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),i.jsx(Z,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(de,{className:"h-10 w-full"}),i.jsx(de,{className:"h-24 w-full"}),i.jsx(de,{className:"h-24 w-full"})]})})]});if(!e)return i.jsxs(J,{className:X("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&i.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:i.jsx(Zu,{className:"h-4 w-4"})})]}),i.jsx(Z,{className:"p-6",children:i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const a=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return i.jsxs(J,{className:X("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ie,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[n&&i.jsx(E,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:i.jsx(zn,{className:"h-4 w-4"})}),r&&i.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:i.jsx(Zu,{className:"h-4 w-4"})})]})]}),i.jsxs(Z,{className:"p-0",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[i.jsx(Ao,{className:"h-3.5 w-3.5"}),"Duration: ",nRe(e.duration_ms)]}),i.jsx(yt,{className:"h-[320px]",children:i.jsxs("div",{className:"space-y-2 p-3",children:[i.jsx($R,{label:"Tool invocations",icon:cx,defaultOpen:!0,children:a.length===0?i.jsx("p",{className:"text-muted-foreground",children:"None"}):i.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(a,null,2)})}),i.jsx($R,{label:"Model calls",icon:Ua,defaultOpen:!0,children:o.length===0?i.jsx("p",{className:"text-muted-foreground",children:"None"}):i.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const DR={debug:{label:"debug",icon:VH,className:"text-muted-foreground"},info:{label:"info",icon:HS,className:"text-primary"},warning:{label:"warning",icon:wc,className:"text-warning"},error:{label:"error",icon:Wi,className:"text-destructive"},critical:{label:"critical",icon:sx,className:"text-destructive font-semibold"}};function sRe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function g0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const a=DR[e.severity]??DR.info,o=a.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return i.jsxs("div",{className:X("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&i.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:i.jsx("span",{className:X("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),i.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(o,{className:X("h-4 w-4 shrink-0",a.className),"aria-hidden":!0}),i.jsx(Xe,{variant:"secondary",className:X("text-xs font-mono shrink-0",a.className),children:a.label}),i.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:sRe(e.timestamp)})]}),i.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function aRe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,a]=x.useState(!1),[o,l]=x.useState("logs"),[c,u]=x.useState({limit:100}),[d,f]=x.useState(null),[h,m]=x.useState(new Set),{data:g=[],isLoading:p}=WTe(c),{data:y,isLoading:b}=VTe(d),v=KTe(),w=C=>{u(C)},S=C=>{v.mutate(C,{onSuccess:A=>{A!=null&&A.download_url&&window.open(A.download_url,"_blank")}})},j=C=>{m(A=>{const I=new Set(A);return I.has(C)?I.delete(C):I.add(C),I})},_=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=x.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(qn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(kr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),i.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),i.jsxs(ei,{value:o,onValueChange:l,className:"space-y-4",children:[i.jsxs(ba,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[i.jsxs(jt,{value:"logs",className:"gap-2",children:[i.jsx(kr,{className:"h-4 w-4"}),"Logs"]}),i.jsxs(jt,{value:"traces",className:"gap-2",children:[i.jsx(uE,{className:"h-4 w-4"}),"Traces"]}),i.jsxs(jt,{value:"export",className:"gap-2",children:[i.jsx(Gh,{className:"h-4 w-4"}),"Export"]})]}),i.jsx(_t,{value:"logs",className:"space-y-6 mt-4",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[i.jsxs("div",{className:"space-y-6 min-w-0",children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:i.jsxs("div",{children:[i.jsx(ie,{children:"Log stream"}),i.jsx(we,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),i.jsx(Z,{children:i.jsx(yt,{className:"h-[400px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>i.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(kr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>i.jsx(g0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),i.jsx(IR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),i.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:i.jsxs(J,{className:"transition-shadow duration-200",children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-base",children:"Filters & actions"}),i.jsx(we,{children:"Refine the log view, export, and redaction rules."})]}),i.jsxs(Z,{className:"space-y-3",children:[i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[i.jsx(lh,{className:"mr-2 h-4 w-4"}),"Filters"]}),i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[i.jsx(zn,{className:"mr-2 h-4 w-4"}),"Export logs"]}),i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>a(!0),children:[i.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),i.jsx(_t,{value:"traces",className:"space-y-6 mt-4",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[i.jsxs("div",{className:"space-y-6 min-w-0",children:[i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:i.jsxs("div",{children:[i.jsx(ie,{children:"Run traces"}),i.jsx(we,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),i.jsx(Z,{children:i.jsx(yt,{className:"h-[400px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>i.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(uE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>i.jsx(g0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),i.jsx(IR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),i.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:i.jsxs(J,{className:"transition-shadow duration-200",children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-base",children:"Trace actions"}),i.jsx(we,{children:"View run trace details and configure redaction for exports."})]}),i.jsxs(Z,{className:"space-y-3",children:[i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[i.jsx(lh,{className:"mr-2 h-4 w-4"}),"Filters"]}),i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>a(!0),children:[i.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),i.jsx(_t,{value:"export",className:"space-y-6 mt-4",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[i.jsx("div",{className:"space-y-6 min-w-0",children:i.jsxs(J,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsx(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:i.jsxs("div",{children:[i.jsx(ie,{children:"Export logs"}),i.jsx(we,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(E,{variant:"outline",size:"sm",onClick:()=>_(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),i.jsxs(E,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[i.jsx(zn,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),i.jsx(yt,{className:"h-[400px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>i.jsx(de,{className:"h-20 w-full rounded-lg"},C)):g.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Gh,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>i.jsx(g0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),i.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:i.jsxs(J,{className:"transition-shadow duration-200",children:[i.jsxs(se,{className:"pb-2",children:[i.jsx(ie,{className:"text-base",children:"Export options"}),i.jsx(we,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),i.jsxs(Z,{className:"space-y-3",children:[i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>a(!0),children:[i.jsx(Fr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),i.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[i.jsx(lh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),i.jsx("footer",{className:"pt-4 border-t border-border",children:i.jsxs(he,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[i.jsx(_i,{className:"h-4 w-4"}),"Manage retention settings"]})}),i.jsx(JTe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),i.jsx(eRe,{open:r,onOpenChange:n,onExport:S,isExporting:v.isPending,selectedLogIds:N}),i.jsx(rRe,{open:s,onOpenChange:a})]})}const If="admin_workspaces",Df="admin_workspace_members",Lf="admin_licenses",LR="admin_analytics_metrics",hs={getWorkspaces:async()=>{const{data:e,error:t}=await B.from(If).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await B.from(If).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await B.from(If).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await B.from(If).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await B.from(If).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await B.from(Df).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await B.from(Df).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await B.from(Df).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await B.from(Df).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await B.from(Df).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=B.from(Lf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await B.from(Lf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await B.from(Lf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await B.from(Lf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await B.from(Lf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=B.from(LR).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await B.from(LR).insert(e).select().single();if(r)throw new Error(r.message);return t}};function Sb(e,t){return e().catch(()=>t)}const er={all:["admin"],workspaces:()=>[...er.all,"workspaces"],workspace:e=>[...er.all,"workspace",e],workspaceMembers:e=>[...er.all,"workspace-members",e],allMembers:()=>[...er.all,"members"],licenses:e=>[...er.all,"licenses",e],license:e=>[...er.all,"license",e],analytics:e=>[...er.all,"analytics",e]};function iRe(){return Oe({queryKey:er.workspaces(),queryFn:()=>Sb(()=>hs.getWorkspaces(),[])})}function oRe(){const e=ye();return ve({mutationFn:t=>hs.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.workspaces()}),W.success("Workspace created")},onError:t=>{W.error(t.message??"Failed to create workspace")}})}function lRe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>hs.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:er.workspaces()}),e.invalidateQueries({queryKey:er.workspace(r)}),W.success("Workspace updated")},onError:t=>{W.error(t.message??"Failed to update workspace")}})}function cRe(){const e=ye();return ve({mutationFn:t=>hs.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.workspaces()}),W.success("Workspace deleted")},onError:t=>{W.error(t.message??"Failed to delete workspace")}})}function uRe(){return Oe({queryKey:er.allMembers(),queryFn:()=>Sb(()=>hs.getAllMembers(),[])})}function dRe(){const e=ye();return ve({mutationFn:t=>hs.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r.workspace_id)}),W.success("User added to workspace")},onError:t=>{W.error(t.message??"Failed to add user")}})}function fRe(){const e=ye();return ve({mutationFn:({id:t,data:r,workspaceId:n})=>hs.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r)}),W.success("Member updated")},onError:t=>{W.error(t.message??"Failed to update member")}})}function hRe(){const e=ye();return ve({mutationFn:({id:t})=>hs.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:er.allMembers()}),e.invalidateQueries({queryKey:er.workspaceMembers(r)}),W.success("Member removed")},onError:t=>{W.error(t.message??"Failed to remove member")}})}function mRe(e){return Oe({queryKey:er.licenses(e),queryFn:()=>Sb(()=>hs.getLicenses(e),[])})}function pRe(){const e=ye();return ve({mutationFn:t=>hs.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.licenses()}),W.success("License created")},onError:t=>{W.error(t.message??"Failed to create license")}})}function gRe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>hs.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:er.licenses()}),e.invalidateQueries({queryKey:er.license(r)}),W.success("License updated")},onError:t=>{W.error(t.message??"Failed to update license")}})}function vRe(){const e=ye();return ve({mutationFn:t=>hs.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:er.licenses()}),W.success("License deleted")},onError:t=>{W.error(t.message??"Failed to delete license")}})}function yRe(e){return Oe({queryKey:er.analytics(e),queryFn:()=>Sb(()=>hs.getAnalyticsMetrics(e),[])})}const xRe=dt({name:_e().min(1,"Name is required").max(200,"Name too long"),active_users_count:as.number().min(0,"Must be 0 or more"),status:ir(["active","archived","suspended"])}),FR={name:"",active_users_count:0,status:"active"};function bRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const a=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=lt({resolver:ct(xRe),defaultValues:FR}),h=u("status");x.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(FR)},[e,s,d]);const m=g=>{r(a&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[640px]",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:a?"Edit workspace":"Create workspace"}),i.jsx(Be,{children:a?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),i.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"workspace-name",children:"Name"}),i.jsx(ge,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&i.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"workspace-active-users",children:"Active users count"}),i.jsx(ge,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&i.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(xt,{value:h,onValueChange:g=>c("status",g),children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:i.jsx(bt,{placeholder:"Select status"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"active",children:"Active"}),i.jsx(Ce,{value:"archived",children:"Archived"}),i.jsx(Ce,{value:"suspended",children:"Suspended"})]})]})]}),i.jsxs(Ve,{className:"gap-2 pt-4",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":a?"Save":"Create"})]})]})]})})}const wRe=dt({user_id:_e().uuid("Invalid user ID"),role:ir(["admin","member","viewer"])}),UR={user_id:"",role:"member"};function jRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:a=null}){const o=!!a,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=lt({resolver:ct(wRe),defaultValues:UR}),m=d("role");x.useEffect(()=>{e&&a?f({user_id:a.user_id,role:a.role}):e&&!a&&f(UR)},[e,a,f]);const g=p=>{if(o&&a)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[640px]",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:o?"Edit workspace member":"Add user to workspace"}),i.jsx(Be,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),i.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"member-user-id",children:"User ID"}),i.jsx(ge,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&i.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Role"}),i.jsxs(xt,{value:m,onValueChange:p=>u("role",p),children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:i.jsx(bt,{placeholder:"Select role"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"admin",children:"Admin"}),i.jsx(Ce,{value:"member",children:"Member"}),i.jsx(Ce,{value:"viewer",children:"Viewer"})]})]})]}),i.jsxs(Ve,{className:"gap-2 pt-4",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const _Re=dt({workspace_id:_e().uuid("Select a workspace"),user_id:_e().optional(),license_type:ir(["seat","pro","enterprise","trial"]),expiry_date:_e().optional()}),BR={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function SRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:a=null}){const o=!!a,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=lt({resolver:ct(_Re),defaultValues:BR}),m=d("workspace_id"),g=d("license_type");x.useEffect(()=>{var y;e&&a?f({workspace_id:a.workspace_id,user_id:a.user_id??"",license_type:a.license_type,expiry_date:a.expiry_date?a.expiry_date.slice(0,10):""}):e&&!a&&f({...BR,workspace_id:((y=s[0])==null?void 0:y.id)??""})},[e,a,s,f]);const p=y=>{const b=y.expiry_date?new Date(y.expiry_date).toISOString():null;r(o&&a?{user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}:{workspace_id:y.workspace_id,user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[640px]",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:o?"Edit license":"Allocate license"}),i.jsx(Be,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),i.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Workspace"}),i.jsxs(xt,{value:m,onValueChange:y=>u("workspace_id",y),disabled:o,children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:i.jsx(bt,{placeholder:"Select workspace"})}),i.jsx(mt,{children:s.map(y=>i.jsx(Ce,{value:y.id,children:y.name},y.id))})]}),h.workspace_id&&i.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"license-user-id",children:"User ID (optional)"}),i.jsx(ge,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"License type"}),i.jsxs(xt,{value:g,onValueChange:y=>u("license_type",y),children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:i.jsx(bt,{placeholder:"Select type"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"seat",children:"Seat"}),i.jsx(Ce,{value:"pro",children:"Pro"}),i.jsx(Ce,{value:"enterprise",children:"Enterprise"}),i.jsx(Ce,{value:"trial",children:"Trial"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),i.jsx(ge,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),i.jsxs(Ve,{className:"gap-2 pt-4",children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const NRe=dt({workspace_id:_e().optional(),metric_type:_e().optional(),from:_e().optional(),to:_e().optional(),limit:as.number().min(10).max(500).optional()}),mg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},kRe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function CRe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:a,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=lt({resolver:ct(NRe),defaultValues:s??mg});x.useEffect(()=>{e&&u(s??mg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(mg),r(mg),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"max-w-[640px]",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Filter analytics"}),i.jsx(Be,{children:"Refine data by workspace, metric type, date range, and limit."})]}),i.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Workspace"}),i.jsxs(xt,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:i.jsx(bt,{placeholder:"All workspaces"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"all",children:"All workspaces"}),n.map(p=>i.jsx(Ce,{value:p.id,children:p.name},p.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Metric type"}),i.jsxs(xt,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[i.jsx(ht,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:i.jsx(bt,{placeholder:"All types"})}),i.jsxs(mt,{children:[i.jsx(Ce,{value:"all",children:"All types"}),kRe.map(p=>i.jsx(Ce,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-from",children:"From date"}),i.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("from")})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-to",children:"To date"}),i.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("to")})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-limit",children:"Max results"}),i.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("limit",{valueAsNumber:!0})}),d.limit&&i.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),i.jsxs(Ve,{className:"gap-2 pt-4",children:[i.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Reset"}),i.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(E,{type:"submit",children:"Apply"})]})]})]})})}const ERe={active:"default",archived:"secondary",suspended:"destructive"},ORe={admin:"default",member:"secondary",viewer:"outline"},PRe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function ARe(){const[e,t]=x.useState("workspaces"),[r,n]=x.useState(!1),[s,a]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(null),[y,b]=x.useState(!1),[v,w]=x.useState(null),{data:S=[],isLoading:j}=iRe(),{data:_=[],isLoading:N}=uRe(),{data:k=[],isLoading:C}=mRe(),{data:A=[],isLoading:I}=yRe({workspace_id:(v==null?void 0:v.workspace_id)||void 0,metric_type:(v==null?void 0:v.metric_type)||void 0,from:(v==null?void 0:v.from)||void 0,to:(v==null?void 0:v.to)||void 0,limit:(v==null?void 0:v.limit)??100}),O=oRe(),U=lRe(),T=cRe(),q=dRe(),R=fRe(),z=hRe(),D=pRe(),M=gRe(),$=vRe(),ee=x.useMemo(()=>{const ne={},ae=v!=null&&v.from?Sf(v.from):XF(new Date,30),Ie=v!=null&&v.to?Sf(v.to):new Date;for(let re=new Date(ae);re<=Ie;re.setDate(re.getDate()+1)){const ue=hu(re,"yyyy-MM-dd");ne[ue]={date:ue,value:0,sessions:0,runs:0}}return A.forEach(re=>{const ue=re.bucket_time.slice(0,10);ne[ue]||(ne[ue]={date:ue,value:0,sessions:0,runs:0}),ne[ue].value+=Number(re.value),re.metric_type==="active_sessions"&&(ne[ue].sessions=Number(re.value)),(re.metric_type==="run_success_rate"||re.metric_type==="run_failure_count")&&(ne[ue].runs=Number(re.value))}),Object.values(ne).sort((re,ue)=>new Date(re.date).getTime()-new Date(ue.date).getTime())},[A,v]),Y=x.useMemo(()=>{const ne={};return S.forEach(ae=>{ne[ae.id]=ae}),ne},[S]),ce=ne=>{s?(U.mutate({id:s.id,data:ne}),a(null)):O.mutate(ne),n(!1)},xe=ne=>{c?(R.mutate({id:c.id,data:ne,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in ne&&(q.mutate(ne),f(null)),l(!1)},We=ne=>{g?(M.mutate({id:g.id,data:ne}),p(null)):D.mutate(ne),m(!1)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),i.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),i.jsxs(ei,{value:e,onValueChange:t,className:"space-y-4",children:[i.jsxs(ba,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[i.jsxs(jt,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(hw,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),i.jsxs(jt,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(mw,{className:"mr-2 h-4 w-4"}),"User Management"]}),i.jsxs(jt,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(Wh,{className:"mr-2 h-4 w-4"}),"License Management"]}),i.jsxs(jt,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[i.jsx(Vf,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),i.jsx(_t,{value:"workspaces",className:"space-y-4 mt-4",children:i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-lg",children:"Workspaces"}),i.jsxs(E,{size:"sm",onClick:()=>{a(null),n(!0)},children:[i.jsx($t,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),i.jsx(Z,{children:j?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):S.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(hw,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),i.jsxs(E,{onClick:()=>n(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-2",children:S.map(ne=>i.jsxs("li",{className:X("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium truncate",children:ne.name}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ne.active_users_count," active users"]})]}),i.jsx(Xe,{variant:ERe[ne.status],className:"shrink-0 ml-2",children:ne.status}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{a(ne),n(!0)},children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&T.mutate(ne.id)},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},ne.id))})})})]})}),i.jsx(_t,{value:"users",className:"space-y-4 mt-4",children:i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-lg",children:"User Management"}),i.jsxs(E,{size:"sm",onClick:()=>{u(null),f(S[0]??null),l(!0)},disabled:S.length===0,children:[i.jsx(dE,{className:"mr-1 h-4 w-4"}),"Add user"]})]}),i.jsx(Z,{children:N?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):_.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(mw,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),i.jsxs(E,{onClick:()=>{f(S[0]??null),l(!0)},disabled:S.length===0,children:[i.jsx(dE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-2",children:_.map(ne=>{var ae;return i.jsxs("li",{className:X("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-mono text-sm truncate",children:ne.user_id}),i.jsx("p",{className:"text-xs text-muted-foreground",children:((ae=Y[ne.workspace_id])==null?void 0:ae.name)??ne.workspace_id})]}),i.jsx(Xe,{variant:ORe[ne.role],className:"shrink-0 ml-2",children:ne.role}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{u(ne),f(null),l(!0)},children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit role"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&z.mutate({id:ne.id,workspaceId:ne.workspace_id})},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},ne.id)})})})})]})}),i.jsx(_t,{value:"licenses",className:"space-y-4 mt-4",children:i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(ie,{className:"text-lg",children:"License Management"}),i.jsxs(E,{size:"sm",onClick:()=>{p(null),m(!0)},children:[i.jsx($t,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),i.jsx(Z,{children:C?i.jsxs("div",{className:"space-y-2",children:[i.jsx(de,{className:"h-12 w-full rounded-lg"}),i.jsx(de,{className:"h-12 w-full rounded-lg"})]}):k.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Wh,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),i.jsxs(E,{onClick:()=>m(!0),children:[i.jsx($t,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):i.jsx(yt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-2",children:k.map(ne=>{var ae;return i.jsxs("li",{className:X("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:PRe[ne.license_type]??ne.license_type}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[((ae=Y[ne.workspace_id])==null?void 0:ae.name)??ne.workspace_id,ne.user_id?`  ${ne.user_id.slice(0,8)}`:""]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[ne.expiry_date&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",hu(Sf(ne.expiry_date),"MMM d, yyyy")]}),i.jsxs(fa,{children:[i.jsx(ha,{asChild:!0,children:i.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[i.jsx(Ba,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(Ps,{align:"end",children:[i.jsxs(Wt,{onClick:()=>{p(ne),m(!0)},children:[i.jsx(Wo,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Wt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&$.mutate(ne.id)},children:[i.jsx(mn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},ne.id)})})})})]})}),i.jsxs(_t,{value:"analytics",className:"space-y-4 mt-4",children:[i.jsxs("div",{className:"flex flex-row items-center justify-between",children:[i.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>b(!0),children:[i.jsx(lh,{className:"mr-1 h-4 w-4"}),"Filter"]})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:A.filter(ne=>ne.metric_type==="active_sessions").reduce((ne,ae)=>ne+Number(ae.value),0),icon:mw},{title:"Run success rate",value:A.filter(ne=>ne.metric_type==="run_success_rate").reduce((ne,ae)=>ne+Number(ae.value),0)||"",icon:Vf},{title:"Skill installs",value:A.filter(ne=>ne.metric_type==="skill_installs").reduce((ne,ae)=>ne+Number(ae.value),0),icon:hw},{title:"Data points",value:A.length,icon:Vf}].map(({title:ne,value:ae,icon:Ie})=>i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[i.jsxs(se,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ie,{className:"text-sm font-medium text-muted-foreground",children:ne}),i.jsx(Ie,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(Z,{children:i.jsx("div",{className:"text-2xl font-bold",children:ae})})]},ne))}),i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Metrics over time"}),i.jsx(we,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),i.jsx(Z,{children:I?i.jsx(de,{className:"h-[280px] w-full rounded-lg"}):ee.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Vf,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),i.jsxs(E,{variant:"outline",onClick:()=>b(!0),children:[i.jsx(lh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):i.jsx(D_,{width:"100%",height:280,children:i.jsxs(S6,{data:ee,children:[i.jsx(Ey,{strokeDasharray:"3 3",className:"stroke-border"}),i.jsx(gc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(vc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(xs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:ne=>[ne,"Value"],labelFormatter:ne=>hu(Sf(ne),"MMM d, yyyy")}),i.jsx(Qi,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),ee.length>0&&i.jsxs(J,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Metric breakdown (bar)"}),i.jsx(we,{children:"Daily values for the selected period."})]}),i.jsx(Z,{children:i.jsx(D_,{width:"100%",height:240,children:i.jsxs(GPe,{data:ee,children:[i.jsx(Ey,{strokeDasharray:"3 3",className:"stroke-border"}),i.jsx(gc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(vc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),i.jsx(xs,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:ne=>hu(Sf(ne),"MMM d, yyyy")}),i.jsx(Ec,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),i.jsx(bRe,{open:r,onOpenChange:n,onSubmit:ce,isSubmitting:O.isPending||U.isPending,workspace:s}),i.jsx(jRe,{open:o,onOpenChange:l,onSubmit:xe,isSubmitting:q.isPending||R.isPending,workspace:c?Y[c.workspace_id]??null:d,member:c}),i.jsx(SRe,{open:h,onOpenChange:m,onSubmit:We,isSubmitting:D.isPending||M.isPending,workspaces:S,license:g}),i.jsx(CRe,{open:y,onOpenChange:b,onApply:w,workspaces:S,currentValues:v})]})}var Nb="Collapsible",[TRe,P6]=$s(Nb),[RRe,Xk]=TRe(Nb),A6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:a,onOpenChange:o,...l}=e,[c,u]=Ka({prop:n,defaultProp:s??!1,onChange:o,caller:Nb});return i.jsx(RRe,{scope:r,disabled:a,contentId:Es(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:i.jsx(Ye.div,{"data-state":Zk(c),"data-disabled":a?"":void 0,...l,ref:t})})});A6.displayName=Nb;var T6="CollapsibleTrigger",R6=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Xk(T6,r);return i.jsx(Ye.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":Zk(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Ee(e.onClick,s.onOpenToggle)})});R6.displayName=T6;var Jk="CollapsibleContent",M6=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Xk(Jk,e.__scopeCollapsible);return i.jsx(Vn,{present:r||s.open,children:({present:a})=>i.jsx(MRe,{...n,ref:t,present:a})})});M6.displayName=Jk;var MRe=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...a}=e,o=Xk(Jk,r),[l,c]=x.useState(n),u=x.useRef(null),d=ot(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),g=m.current,p=o.open||l,y=x.useRef(p),b=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),yr(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,y.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),i.jsx(Ye.div,{"data-state":Zk(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...a,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function Zk(e){return e?"open":"closed"}var $Re=A6,IRe=R6,DRe=M6,Sa="Accordion",LRe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[eC,FRe,URe]=bx(Sa),[kb]=$s(Sa,[URe,P6]),tC=P6(),$6=P.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,a=n;return i.jsx(eC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?i.jsx(WRe,{...a,ref:t}):i.jsx(zRe,{...s,ref:t})})});$6.displayName=Sa;var[I6,BRe]=kb(Sa),[D6,qRe]=kb(Sa,{collapsible:!1}),zRe=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:a=!1,...o}=e,[l,c]=Ka({prop:r,defaultProp:n??"",onChange:s,caller:Sa});return i.jsx(I6,{scope:e.__scopeAccordion,value:P.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:P.useCallback(()=>a&&c(""),[a,c]),children:i.jsx(D6,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(L6,{...o,ref:t})})})}),WRe=P.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...a}=e,[o,l]=Ka({prop:r,defaultProp:n??[],onChange:s,caller:Sa}),c=P.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=P.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return i.jsx(I6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:i.jsx(D6,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(L6,{...a,ref:t})})})}),[VRe,Cb]=kb(Sa),L6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:a="vertical",...o}=e,l=P.useRef(null),c=ot(l,t),u=FRe(r),f=Bd(s)==="ltr",h=Ee(e.onKeyDown,m=>{var k;if(!LRe.includes(m.key))return;const g=m.target,p=u().filter(C=>{var A;return!((A=C.ref.current)!=null&&A.disabled)}),y=p.findIndex(C=>C.ref.current===g),b=p.length;if(y===-1)return;m.preventDefault();let v=y;const w=0,S=b-1,j=()=>{v=y+1,v>S&&(v=w)},_=()=>{v=y-1,v<w&&(v=S)};switch(m.key){case"Home":v=w;break;case"End":v=S;break;case"ArrowRight":a==="horizontal"&&(f?j():_());break;case"ArrowDown":a==="vertical"&&j();break;case"ArrowLeft":a==="horizontal"&&(f?_():j());break;case"ArrowUp":a==="vertical"&&_();break}const N=v%b;(k=p[N].ref.current)==null||k.focus()});return i.jsx(VRe,{scope:r,disabled:n,direction:s,orientation:a,children:i.jsx(eC.Slot,{scope:r,children:i.jsx(Ye.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:h})})})}),Ry="AccordionItem",[KRe,rC]=kb(Ry),F6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,a=Cb(Ry,r),o=BRe(Ry,r),l=tC(r),c=Es(),u=n&&o.value.includes(n)||!1,d=a.disabled||e.disabled;return i.jsx(KRe,{scope:r,open:u,disabled:d,triggerId:c,children:i.jsx($Re,{"data-orientation":a.orientation,"data-state":V6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});F6.displayName=Ry;var U6="AccordionHeader",B6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Cb(Sa,r),a=rC(U6,r);return i.jsx(Ye.h3,{"data-orientation":s.orientation,"data-state":V6(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:t})});B6.displayName=U6;var I1="AccordionTrigger",q6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Cb(Sa,r),a=rC(I1,r),o=qRe(I1,r),l=tC(r);return i.jsx(eC.ItemSlot,{scope:r,children:i.jsx(IRe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...l,...n,ref:t})})});q6.displayName=I1;var z6="AccordionContent",W6=P.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Cb(Sa,r),a=rC(z6,r),o=tC(r);return i.jsx(DRe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});W6.displayName=z6;function V6(e){return e?"open":"closed"}var HRe=$6,K6=F6,GRe=B6,H6=q6,G6=W6;const YRe=HRe,Y6=x.forwardRef(({className:e,...t},r)=>i.jsx(K6,{ref:r,className:X("border-b border-border",e),...t}));Y6.displayName=K6.displayName;const Q6=x.forwardRef(({className:e,children:t,...r},n)=>i.jsx(GRe,{className:"flex",children:i.jsxs(H6,{ref:n,className:X("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,i.jsx(bc,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));Q6.displayName=H6.displayName;const X6=x.forwardRef(({className:e,children:t,...r},n)=>i.jsx(G6,{ref:n,className:X("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:i.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));X6.displayName=G6.displayName;const QRe="help_faqs",XRe="help_doc_links",JRe="support_requests",ZRe="help_changelog",Eb={getFaqs:async()=>{const{data:e,error:t}=await B.from(QRe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await B.from(XRe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await B.from(JRe).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await B.from(ZRe).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},Ql={all:["help"],faqs:()=>[...Ql.all,"faqs"],docLinks:()=>[...Ql.all,"doc-links"],changelog:()=>[...Ql.all,"changelog"]};function nC(e,t){return e().catch(()=>t)}function eMe(){return Oe({queryKey:Ql.faqs(),queryFn:()=>nC(Eb.getFaqs,[])})}function tMe(){return Oe({queryKey:Ql.docLinks(),queryFn:()=>nC(Eb.getDocLinks,[])})}function rMe(){const e=ye();return ve({mutationFn:t=>Eb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ql.all}),W.success("Support request submitted. Well get back to you soon.")},onError:t=>{W.error(t.message||"Failed to submit support request")}})}function nMe(e){return Oe({queryKey:[...Ql.changelog(),50],queryFn:()=>nC(()=>Eb.getChangelog(50),[])})}function sMe({open:e,onOpenChange:t}){return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{showClose:!0,className:"max-w-md",children:[i.jsx(Fe,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:i.jsx(Ti,{className:"h-6 w-6"})}),i.jsxs("div",{children:[i.jsx(Ue,{children:"Request received"}),i.jsx(Be,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),i.jsx(Ve,{className:"sm:justify-end",children:i.jsx(E,{onClick:()=>t(!1),children:"Done"})})]})})}const aMe=dt({name:_e().min(1,"Name is required").max(255,"Name is too long"),email:_e().min(1,"Email is required").email("Enter a valid email"),issue_description:_e().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),v0={name:"",email:"",issue_description:""};function iMe(){var f;const{user:e}=nx(),t=rMe(),[r,n]=x.useState(!1),s=x.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:a,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=lt({resolver:ct(aMe),defaultValues:e!=null&&e.email?{...v0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:v0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(v0),n(!0)};return i.jsxs(i.Fragment,{children:[i.jsxs(J,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(se,{children:[i.jsx(ie,{className:"text-lg font-semibold",children:"Send a request"}),i.jsx(we,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),i.jsx(Z,{children:i.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"support_name",children:"Name"}),i.jsx(ge,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...a("name")}),c.name&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"support_email",children:"Email"}),i.jsx(ge,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...a("email")}),c.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"support_issue",children:"Issue description"}),i.jsx(Yk,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...a("issue_description")}),c.issue_description&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),i.jsx(E,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),i.jsx(sMe,{open:r,onOpenChange:n})]})}const oMe=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:zn,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:ch,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:x4,cta:"Dashboard"}];function lMe(){const[e,t]=x.useState(""),{data:r=[],isLoading:n}=eMe(),{data:s=[],isLoading:a}=tMe(),{data:o=[],isLoading:l}=nMe(),c=x.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return i.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(he,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),i.jsx(qn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),i.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),i.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),i.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[i.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:oMe.map((u,d)=>i.jsxs(J,{className:X("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[i.jsxs(se,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:i.jsx(u.icon,{className:"h-5 w-5"})}),i.jsx(ie,{className:"text-base",children:u.title})]}),i.jsx(we,{className:"text-sm",children:u.description})]}),i.jsx(Z,{className:"pt-0",children:i.jsx(E,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:i.jsx(he,{to:u.href,children:u.cta})})})]},u.href))})]}),i.jsxs("section",{"aria-labelledby":"faq-heading",children:[i.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),i.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[i.jsx(ix,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?i.jsx(J,{className:"rounded-[10px] border border-border",children:i.jsx(Z,{className:"p-6",children:i.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>i.jsx(de,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?i.jsx(J,{className:"rounded-[10px] border border-border bg-card",children:i.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Xm,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):i.jsx(YRe,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>i.jsxs(Y6,{value:u.id,children:[i.jsx(Q6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),i.jsx(X6,{children:i.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),i.jsxs("section",{"aria-labelledby":"docs-heading",children:[i.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),a?i.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>i.jsx(de,{className:"h-10 w-full rounded-md"},u))}):s.length===0?i.jsx(J,{className:"rounded-[10px] border border-border bg-card",children:i.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(kr,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),i.jsx(E,{variant:"link",className:"mt-2",asChild:!0,children:i.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",i.jsx(Hl,{className:"h-4 w-4"})]})})]})}):i.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>i.jsx("li",{children:i.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:X("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[i.jsx(zS,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),i.jsx("span",{className:"flex-1 font-medium",children:u.title}),i.jsx(Hl,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),i.jsxs("section",{"aria-labelledby":"support-heading",children:[i.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),i.jsx(iMe,{})]}),i.jsxs("section",{"aria-labelledby":"changelog-heading",children:[i.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?i.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>i.jsx(de,{className:"h-16 w-full rounded-md"},u))}):o.length===0?i.jsx(J,{className:"rounded-[10px] border border-border bg-card",children:i.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Ym,{className:"h-12 w-12 text-muted-foreground mb-4"}),i.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):i.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>i.jsxs("li",{className:"relative pb-6 last:pb-0",children:[i.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),i.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&i.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),i.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),i.jsx("footer",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[i.jsx(he,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),i.jsx(he,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),i.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",i.jsx(Hl,{className:"h-3.5 w-3.5"})]})]})})]})}const Ob={getPrivacySettings:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)return null;const{data:t,error:r}=await B.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await B.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await B.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await B.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Ob.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await B.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await B.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Dm={all:["privacy"],settings:()=>[...Dm.all,"settings"],policyDocument:e=>[...Dm.all,"policy",e]};function J6(e,t){return e().catch(()=>t)}function cMe(){return Oe({queryKey:Dm.settings(),queryFn:()=>J6(Ob.getPrivacySettings,null)})}function uMe(){const e=ye();return ve({mutationFn:t=>Ob.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Dm.settings()}),W.success("Privacy preferences updated")},onError:t=>{W.error(t.message||"Failed to update privacy preferences")}})}function dMe(e="privacy"){return Oe({queryKey:Dm.policyDocument(e),queryFn:()=>J6(()=>Ob.getCurrentPolicyDocument(e),null)})}function fMe({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const a=()=>{n(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{"aria-describedby":"preferences-modal-description",children:[i.jsxs(Fe,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx(Ue,{children:"Confirm privacy preference"})]}),i.jsx(Be,{id:"preferences-modal-description",children:r?i.jsx(i.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):i.jsx(i.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(E,{onClick:a,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function hMe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:a="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{"aria-describedby":"download-confirmation-description",children:[i.jsxs(Fe,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx(Ue,{children:s})]}),i.jsx(Be,{id:"download-confirmation-description",children:a})]}),i.jsxs(Ve,{className:"gap-2 sm:gap-0",children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&i.jsx(E,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),i.jsxs(E,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[i.jsx(zn,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const qR=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function mMe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,a]=x.useState(n);return i.jsxs("details",{id:e,open:s,onToggle:o=>a(o.target.open),className:"group border-b border-border last:border-b-0",children:[i.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?i.jsx(bc,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):i.jsx(qn,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),i.jsx("span",{children:t})]}),i.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:i.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function pMe(){const{data:e,isLoading:t}=cMe(),r=uMe(),{data:n}=dMe("privacy"),[s,a]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=x.useCallback(b=>{l(b),a(!0)},[]),h=x.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??qR.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:qR,p=x.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(v)},[m]),y=x.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),v=URL.createObjectURL(b);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(v),5e3)},[m]);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),i.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),i.jsxs(J,{className:"mb-8",children:[i.jsxs(se,{children:[i.jsx(ie,{className:"text-lg",children:"Policy sections"}),i.jsx(we,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),i.jsx(Z,{className:"px-0 sm:px-6",children:i.jsx("div",{className:"divide-y-0",children:g.map((b,v)=>i.jsx(mMe,{id:b.id,title:b.title,content:b.content,defaultOpen:v===0},b.id))})})]}),i.jsxs(J,{className:"mb-8",children:[i.jsxs(se,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Fr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx(ie,{className:"text-lg",children:"Opt-out controls"})]}),i.jsx(we,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),i.jsxs(Z,{children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),i.jsx(Ur,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&i.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),i.jsxs(J,{className:"mb-8",children:[i.jsxs(se,{children:[i.jsx(ie,{className:"text-lg",children:"Download policy"}),i.jsx(we,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),i.jsx(Z,{children:i.jsxs(E,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[i.jsx(zn,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),i.jsx("footer",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsx(E,{variant:"outline",asChild:!0,children:i.jsx(he,{to:"/",children:"Back to home"})}),i.jsxs("nav",{className:"flex flex-wrap gap-6",children:[i.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),i.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),i.jsx(fMe,{open:s,onOpenChange:a,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),i.jsx(hMe,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:y,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function gMe(){return i.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),i.jsxs(J,{children:[i.jsx(se,{children:i.jsx(ie,{children:"Terms of Service"})}),i.jsx(Z,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:i.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),i.jsx(E,{variant:"outline",asChild:!0,children:i.jsx(he,{to:"/",children:"Back"})})]})}async function vMe(e){var s;let t=B.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const a=e.search.trim();t=t.or(`name.ilike.%${a}%,description.ilike.%${a}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function yMe(e){const{data:t,error:r}=await B.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function xMe(){const{data:{user:e}}=await B.auth.getUser();if(!e)return[];const{data:t,error:r}=await B.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function bMe(){const{data:{user:e}}=await B.auth.getUser();if(!e)return[];const{data:t,error:r}=await B.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function wMe(e){return je.post("/marketplace/checkout-session",e)}async function jMe(e){await je.post("/marketplace/subscription/cancel",{subscription_id:e})}async function _Me(e,t){const{data:r,error:n}=await B.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function sC(e,t){return e().catch(()=>t)}const ca={all:["marketplace"],skills:e=>[...ca.all,"skills",e],skill:e=>[...ca.all,"skill",e],transactions:()=>[...ca.all,"transactions"],licenses:()=>[...ca.all,"licenses"]};function Z6(e){return Oe({queryKey:ca.skills(e),queryFn:()=>sC(()=>vMe(e),[])})}function SMe(e){return Oe({queryKey:ca.skill(e??""),queryFn:()=>e?yMe(e):Promise.resolve(null),enabled:!!e})}function NMe(){return Oe({queryKey:ca.transactions(),queryFn:()=>sC(()=>xMe(),[])})}function eq(){return Oe({queryKey:ca.licenses(),queryFn:()=>sC(()=>bMe(),[])})}function tq(){return ve({mutationFn:wMe,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:W.success("Checkout session created")},onError:e=>{W.error(e.message||"Failed to start checkout")}})}function kMe(){const e=ye();return ve({mutationFn:jMe,onSuccess:()=>{e.invalidateQueries({queryKey:ca.transactions()}),e.invalidateQueries({queryKey:ca.licenses()}),W.success("Subscription cancelled")},onError:t=>{W.error(t.message||"Failed to cancel subscription")}})}function CMe(){const e=ye();return ve({mutationFn:({id:t,data:r})=>_Me(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ca.licenses()}),W.success("License updated")},onError:t=>{W.error(t.message||"Failed to update license")}})}function zR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function EMe({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:a=!1}){if(!r)return null;const o=n==="subscription"?`${zR(r.price,r.currency)} / month`:zR(r.price,r.currency);return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"sm:max-w-[480px]",showClose:!a,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Confirm purchase"}),i.jsx(Be,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[i.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&i.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),i.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&i.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:a,children:"Cancel"}),i.jsxs(E,{onClick:s,disabled:a,className:"transition-transform hover:scale-[1.02]",children:[a?i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(y4,{className:"mr-2 h-4 w-4"}),a?"Redirecting":"Continue to checkout"]})]})]})})}function rq({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"sm:max-w-[440px]",children:[i.jsxs(Fe,{children:[i.jsxs(Ue,{className:"flex items-center gap-2 text-destructive",children:[i.jsx(Wi,{className:"h-5 w-5"}),r]}),i.jsx(Be,{children:n})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&i.jsx(E,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function WR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function OMe({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${WR(e.price,e.currency)} / mo`:WR(e.price,e.currency);return i.jsx(J,{className:X("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:i.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?i.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:i.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):i.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:i.jsx(x4,{className:"h-10 w-10 text-muted-foreground"})}),i.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx(ie,{className:"text-lg",children:e.name}),e.category&&i.jsx(Xe,{variant:"secondary",className:"mt-1",children:e.category})]}),i.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&i.jsx(we,{className:"mt-2 line-clamp-2",children:e.description}),i.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?i.jsx(Xe,{variant:"success",children:"Owned"}):i.jsxs(i.Fragment,{children:[i.jsxs(E,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[i.jsx(ox,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&i.jsxs(E,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[i.jsx(VS,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function PMe(){const[e,t]=x.useState(""),[r,n]=x.useState(),[s,a]=x.useState(null),[o,l]=x.useState("one_time"),[c,u]=x.useState(!1),{data:d=[],isLoading:f}=Z6({search:e.trim()||void 0,category:r}),{data:h=[]}=eq(),m=tq(),g=new Set(h.filter(v=>v.activation_status==="active").map(v=>v.skill_id)),p=(v,w)=>{a(v),l(w)},y=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(v=>v.category).filter(Boolean)));return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),i.jsx("div",{className:"flex gap-2",children:i.jsx(E,{variant:"outline",asChild:!0,children:i.jsxs(he,{to:"/marketplace/licenses",children:[i.jsx(Gh,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Browse skills"}),i.jsx(we,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(ix,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(ge,{placeholder:"Search skills...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]}),i.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:v=>n(v.target.value?v.target.value:void 0),children:[i.jsx("option",{value:"",children:"All categories"}),b.map(v=>i.jsx("option",{value:v,children:v},v))]})]}),f?i.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(v=>i.jsx(de,{className:"h-32 rounded-lg"},v))}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(ox,{className:"h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):i.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(v=>i.jsx(OMe,{skill:v,hasLicense:g.has(v.id),onPurchase:p},v.id))})]})]}),i.jsx(EMe,{open:!!s,onOpenChange:v=>!v&&a(null),skill:s,mode:o,onConfirm:y,isSubmitting:m.isPending}),i.jsx(rq,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&y()}})]})}const AMe=dt({email:_e().email("Invalid email"),accept_terms:Za().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function VR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function TMe({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:a,handleSubmit:o,formState:{errors:l}}=lt({resolver:ct(AMe),defaultValues:{email:s,accept_terms:!1}});if(!e)return i.jsx(J,{children:i.jsx(Z,{className:"pt-6",children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${VR(e.price,e.currency)} / month`:VR(e.price,e.currency);return i.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Order summary"}),i.jsx(we,{children:"Review your selection before payment."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:e.name}),i.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Contact"}),i.jsx(we,{children:"Receipt and updates will be sent to this email."})]}),i.jsxs(Z,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"checkout-email",children:"Email"}),i.jsx(ge,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...a("email")}),l.email&&i.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...a("accept_terms")}),i.jsxs(G,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",i.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",i.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&i.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),i.jsxs(E,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(y4,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function RMe(){const[e]=EI(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=x.useState(!1),{data:a,isLoading:o}=SMe(t),l=tq(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx(de,{className:"h-8 w-48"}),i.jsx(de,{className:"h-64 w-full"})]}):i.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[i.jsx(E,{variant:"ghost",asChild:!0,children:i.jsxs(he,{to:"/marketplace",children:[i.jsx(Xu,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),i.jsx(TMe,{skill:a??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),i.jsx(rq,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx(E,{variant:"ghost",asChild:!0,children:i.jsxs(he,{to:"/marketplace",children:[i.jsx(Xu,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),i.jsx(J,{children:i.jsxs(Z,{className:"pt-6",children:[i.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),i.jsx(E,{asChild:!0,className:"mt-4",children:i.jsx(he,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function MMe({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:a=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return i.jsx(qe,{open:e,onOpenChange:t,children:i.jsxs(Le,{className:"sm:max-w-[480px]",showClose:!a,children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Manage subscription"}),i.jsxs(Be,{children:["View and manage your subscription for ",n,"."]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsx(Xe,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Amount"}),i.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&i.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Started"}),i.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&i.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(VS,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),i.jsxs(Ve,{children:[i.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:a,children:"Close"}),o&&i.jsxs(E,{variant:"destructive",onClick:s,disabled:a,className:"transition-transform hover:scale-[1.02]",children:[a?i.jsx(hn,{className:"mr-2 h-4 w-4 animate-spin"}):i.jsx(Wi,{className:"mr-2 h-4 w-4"}),a?"Cancelling":"Cancel subscription"]})]})]})})}function $Me(){var m;const[e,t]=x.useState(null),{data:r=[],isLoading:n}=eq(),{data:s=[]}=Z6(),{data:a=[]}=NMe(),o=CMe(),l=kMe(),c=new Map(s.map(g=>[g.id,g])),u=new Map(a.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):a.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),i.jsx(E,{variant:"outline",asChild:!0,children:i.jsxs(he,{to:"/marketplace",children:[i.jsx(Gh,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),i.jsxs(J,{children:[i.jsxs(se,{children:[i.jsx(ie,{children:"Licenses"}),i.jsx(we,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),i.jsx(Z,{children:n?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>i.jsx(de,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Gh,{className:"h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),i.jsx(E,{asChild:!0,className:"mt-4",children:i.jsx(he,{to:"/marketplace",children:"Go to Marketplace"})})]}):i.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),y=h(g),b=g.activation_status==="active";return i.jsxs("li",{className:X("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),i.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[i.jsx(Xe,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[(y==null?void 0:y.stripe_subscription_id)&&i.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(y),children:[i.jsx(VS,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&i.jsx(E,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?i.jsxs(i.Fragment,{children:[i.jsx(c7,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):i.jsxs(i.Fragment,{children:[i.jsx(l7,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),i.jsx(MMe,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function IMe(e,t,r){try{const{data:{user:n}}=await B.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await B.from("error_logs").insert(s)}catch{}}async function DMe(e,t,r,n){try{const{data:{user:s}}=await B.auth.getUser(),a={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await B.from("error_logs").insert(a)}catch{}}function KR(){const e=Qa(),t=e.pathname+e.search;x.useEffect(()=>{IMe(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),i.jsxs("nav",{className:"flex items-center gap-4",children:[i.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(E,{asChild:!0,size:"sm",children:i.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:i.jsxs("div",{className:X("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[i.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:i.jsx(YH,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),i.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&i.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",i.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),i.jsx(J,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:i.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[i.jsxs(E,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[i.jsx(Fd,{className:"mr-2 h-4 w-4"}),"Retry"]}),i.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/",children:[i.jsx(d4,{className:"mr-2 h-4 w-4"}),"Home"]})}),i.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/dashboard",children:[i.jsx(GS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),i.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[i.jsxs(he,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(kr,{className:"h-4 w-4"}),"Docs & support"]}),i.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),i.jsx(he,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),i.jsx("footer",{className:"border-t border-border py-8",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function LMe(e){var a;const{data:{user:t}}=await B.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((a=e.contact_email)==null?void 0:a.trim())||null,context:e.context??{}},{data:n,error:s}=await B.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const FMe=dt({description:_e().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:_e().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:_e().max(1e3).optional()}),y0={description:"",contact_email:"",comments:""};function UMe({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:a,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=lt({resolver:ct(FMe),defaultValues:y0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(y0),t(!1)},f=h=>{h||l(y0),t(h)};return i.jsx(qe,{open:e,onOpenChange:f,children:i.jsxs(Le,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[i.jsxs(Fe,{children:[i.jsx(Ue,{children:"Report an issue"}),i.jsx(Be,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),i.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-description",children:"What happened?"}),i.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("description"),"aria-invalid":!!c.description}),c.description&&i.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-contact",children:"Contact email (optional)"}),i.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...a("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&i.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-comments",children:"Additional details (optional)"}),i.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("comments")})]}),i.jsxs(Ve,{children:[i.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),i.jsx(E,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function BMe(){const e=Qa(),[t,r]=x.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,a=typeof navigator<"u"?navigator.userAgent:null;x.useEffect(()=>{DMe(n,s,a,{path:n,referrer:s??void 0})},[n,s,a]);const o=()=>{window.location.reload()},l=async c=>{await LMe(c),W.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(he,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),i.jsxs("nav",{className:"flex gap-4",children:[i.jsx(he,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(E,{asChild:!0,size:"sm",children:i.jsx(he,{to:"/signup",children:"Sign up"})})]})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:i.jsxs("div",{className:X("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[i.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:i.jsx(wc,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),i.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&i.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",i.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),i.jsx(J,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:i.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[i.jsxs(E,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[i.jsx(Fd,{className:"mr-2 h-4 w-4"}),"Retry"]}),i.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/",children:[i.jsx(d4,{className:"mr-2 h-4 w-4"}),"Home"]})}),i.jsxs(E,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[i.jsx(Jm,{className:"mr-2 h-4 w-4"}),"Report issue"]}),i.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(he,{to:"/dashboard",children:[i.jsx(GS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),i.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[i.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[i.jsxs(he,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(kr,{className:"h-4 w-4"}),"Logs & tracing"]}),i.jsxs(he,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(Fr,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),i.jsx("footer",{className:"border-t border-border py-8",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(he,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx(he,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(he,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),i.jsx(UMe,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const qMe=new uV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function zMe(){return i.jsxs(dV,{client:qMe,children:[i.jsx(MW,{children:i.jsx(LH,{children:i.jsx(qY,{children:i.jsxs(NW,{children:[i.jsx(pt,{path:"/",element:i.jsx(IZ,{})}),i.jsx(pt,{path:"/login",element:i.jsx(Wee,{})}),i.jsx(pt,{path:"/signup",element:i.jsx(Kee,{})}),i.jsx(pt,{path:"/forgot-password",element:i.jsx(Xee,{})}),i.jsx(pt,{path:"/verify-email",element:i.jsx(Zee,{})}),i.jsx(pt,{path:"/download",element:i.jsx(Jre,{})}),i.jsx(pt,{path:"/privacy",element:i.jsx(pMe,{})}),i.jsx(pt,{path:"/terms",element:i.jsx(gMe,{})}),i.jsx(pt,{path:"/500",element:i.jsx(BMe,{})}),i.jsxs(pt,{element:i.jsx(OZ,{}),children:[i.jsx(pt,{path:"/dashboard",element:i.jsx(ose,{})}),i.jsx(pt,{path:"/profile",element:i.jsx(FH,{}),children:i.jsx(pt,{index:!0,element:i.jsx(Xre,{})})}),i.jsx(pt,{path:"/chat",element:i.jsx(Use,{})}),i.jsx(pt,{path:"/channels",element:i.jsx(nae,{})}),i.jsx(pt,{path:"/skills",element:i.jsx(sae,{})}),i.jsx(pt,{path:"/skill-editor/:skillId?",element:i.jsx(xae,{})}),i.jsx(pt,{path:"/marketplace",element:i.jsx(PMe,{})}),i.jsx(pt,{path:"/marketplace/checkout",element:i.jsx(RMe,{})}),i.jsx(pt,{path:"/marketplace/licenses",element:i.jsx($Me,{})}),i.jsx(pt,{path:"/nodes",element:i.jsx(Bae,{})}),i.jsx(pt,{path:"/cron",element:i.jsx(Vae,{})}),i.jsx(pt,{path:"/webhooks",element:i.jsx(cie,{})}),i.jsx(pt,{path:"/model-providers",element:i.jsx(uAe,{})}),i.jsx(pt,{path:"/browser",element:i.jsx(qAe,{})}),i.jsx(pt,{path:"/voice",element:i.jsx(dTe,{})}),i.jsx(pt,{path:"/secrets",element:i.jsx(NTe,{})}),i.jsx(pt,{path:"/settings",element:i.jsx(fTe,{})}),i.jsx(pt,{path:"/security",element:i.jsx(zTe,{})}),i.jsx(pt,{path:"/logs",element:i.jsx(aRe,{})}),i.jsx(pt,{path:"/admin",element:i.jsx(ARe,{})}),i.jsx(pt,{path:"/help",element:i.jsx(lMe,{})})]}),i.jsx(pt,{path:"/404",element:i.jsx(KR,{})}),i.jsx(pt,{path:"*",element:i.jsx(KR,{})})]})})})}),i.jsx(YV,{position:"top-right",richColors:!0,closeButton:!0})]})}const nq=document.getElementById("root");if(!nq)throw new Error("Root element not found");x0.createRoot(nq).render(i.jsx(P.StrictMode,{children:i.jsx(zMe,{})}));

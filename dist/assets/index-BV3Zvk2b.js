var PC=e=>{throw TypeError(e)};var Xb=(e,t,r)=>t.has(e)||PC("Cannot "+r);var W=(e,t,r)=>(Xb(e,t,"read from private field"),r?r.call(e):t.get(e)),Ve=(e,t,r)=>t.has(e)?PC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Ee=(e,t,r,n)=>(Xb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),dt=(e,t,r)=>(Xb(e,t,"access private method"),r);var Rp=(e,t,r,n)=>({set _(s){Ee(e,t,s,r)},get _(){return W(e,t,n)}});function A6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var PM={exports:{}},rx={},OM={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),T6=Symbol.for("react.portal"),R6=Symbol.for("react.fragment"),M6=Symbol.for("react.strict_mode"),$6=Symbol.for("react.profiler"),I6=Symbol.for("react.provider"),D6=Symbol.for("react.context"),L6=Symbol.for("react.forward_ref"),F6=Symbol.for("react.suspense"),U6=Symbol.for("react.memo"),q6=Symbol.for("react.lazy"),OC=Symbol.iterator;function B6(e){return e===null||typeof e!="object"?null:(e=OC&&e[OC]||e["@@iterator"],typeof e=="function"?e:null)}var AM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TM=Object.assign,RM={};function Kd(e,t,r){this.props=e,this.context=t,this.refs=RM,this.updater=r||AM}Kd.prototype.isReactComponent={};Kd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MM(){}MM.prototype=Kd.prototype;function aS(e,t,r){this.props=e,this.context=t,this.refs=RM,this.updater=r||AM}var iS=aS.prototype=new MM;iS.constructor=aS;TM(iS,Kd.prototype);iS.isPureReactComponent=!0;var AC=Array.isArray,$M=Object.prototype.hasOwnProperty,oS={current:null},IM={key:!0,ref:!0,__self:!0,__source:!0};function DM(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)$M.call(t,n)&&!IM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:ep,type:e,key:i,ref:o,props:s,_owner:oS.current}}function z6(e,t){return{$$typeof:ep,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function lS(e){return typeof e=="object"&&e!==null&&e.$$typeof===ep}function W6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var TC=/\/+/g;function Jb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?W6(""+e.key):t.toString(36)}function Mg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ep:case T6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Jb(o,0):n,AC(s)?(r="",e!=null&&(r=e.replace(TC,"$&/")+"/"),Mg(s,t,r,"",function(u){return u})):s!=null&&(lS(s)&&(s=z6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(TC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",AC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Jb(i,l);o+=Mg(i,t,r,c,s)}else if(c=B6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Jb(i,l++),o+=Mg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function $p(e,t,r){if(e==null)return e;var n=[],s=0;return Mg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function V6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var In={current:null},$g={transition:null},K6={ReactCurrentDispatcher:In,ReactCurrentBatchConfig:$g,ReactCurrentOwner:oS};function LM(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:$p,forEach:function(e,t,r){$p(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $p(e,function(){t++}),t},toArray:function(e){return $p(e,function(t){return t})||[]},only:function(e){if(!lS(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Kd;vt.Fragment=R6;vt.Profiler=$6;vt.PureComponent=aS;vt.StrictMode=M6;vt.Suspense=F6;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K6;vt.act=LM;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=TM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=oS.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$M.call(t,c)&&!IM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:ep,type:e.type,key:s,ref:i,props:n,_owner:o}};vt.createContext=function(e){return e={$$typeof:D6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:I6,_context:e},e.Consumer=e};vt.createElement=DM;vt.createFactory=function(e){var t=DM.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:L6,render:e}};vt.isValidElement=lS;vt.lazy=function(e){return{$$typeof:q6,_payload:{_status:-1,_result:e},_init:V6}};vt.memo=function(e,t){return{$$typeof:U6,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=$g.transition;$g.transition={};try{e()}finally{$g.transition=t}};vt.unstable_act=LM;vt.useCallback=function(e,t){return In.current.useCallback(e,t)};vt.useContext=function(e){return In.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return In.current.useDeferredValue(e)};vt.useEffect=function(e,t){return In.current.useEffect(e,t)};vt.useId=function(){return In.current.useId()};vt.useImperativeHandle=function(e,t,r){return In.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return In.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return In.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return In.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return In.current.useReducer(e,t,r)};vt.useRef=function(e){return In.current.useRef(e)};vt.useState=function(e){return In.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return In.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return In.current.useTransition()};vt.version="18.3.1";OM.exports=vt;var v=OM.exports;const R=zt(v),nx=A6({__proto__:null,default:R},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H6=v,G6=Symbol.for("react.element"),Y6=Symbol.for("react.fragment"),Q6=Object.prototype.hasOwnProperty,X6=H6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,J6={key:!0,ref:!0,__self:!0,__source:!0};function FM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Q6.call(t,n)&&!J6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:G6,type:e,key:i,ref:o,props:s,_owner:X6.current}}rx.Fragment=Y6;rx.jsx=FM;rx.jsxs=FM;PM.exports=rx;var a=PM.exports,U0={},UM={exports:{}},bs={},qM={exports:{}},BM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var I=T.length;T.push($);e:for(;0<I;){var ee=I-1>>>1,F=T[ee];if(0<s(F,$))T[ee]=$,T[I]=F,I=ee;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var $=T[0],I=T.pop();if(I!==$){T[0]=I;e:for(var ee=0,F=T.length,ie=F>>>1;ee<ie;){var ye=2*(ee+1)-1,ze=T[ye],Ke=ye+1,me=T[Ke];if(0>s(ze,I))Ke<F&&0>s(me,ze)?(T[ee]=me,T[Ke]=I,ee=Ke):(T[ee]=ze,T[ye]=I,ee=ye);else if(Ke<F&&0>s(me,I))T[ee]=me,T[Ke]=I,ee=Ke;else break e}}return $}function s(T,$){var I=T.sortIndex-$.sortIndex;return I!==0?I:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(T){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=T)n(u),$.sortIndex=$.expirationTime,t(c,$);else break;$=r(u)}}function _(T){if(p=!1,w(T),!g)if(r(c)!==null)g=!0,A(j);else{var $=r(u);$!==null&&V(_,$.startTime-T)}}function j(T,$){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var I=h;try{for(w($),f=r(c);f!==null&&(!(f.expirationTime>$)||T&&!D());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var F=ee(f.expirationTime<=$);$=e.unstable_now(),typeof F=="function"?f.callback=F:f===r(c)&&n(c),w($)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var ye=r(u);ye!==null&&V(_,ye.startTime-$),ie=!1}return ie}finally{f=null,h=I,m=!1}}var S=!1,N=null,k=-1,C=5,O=-1;function D(){return!(e.unstable_now()-O<C)}function E(){if(N!==null){var T=e.unstable_now();O=T;var $=!0;try{$=N(!0,T)}finally{$?L():(S=!1,N=null)}}else S=!1}var L;if(typeof y=="function")L=function(){y(E)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,K=M.port2;M.port1.onmessage=E,L=function(){K.postMessage(null)}}else L=function(){x(E,0)};function A(T){N=T,S||(S=!0,L())}function V(T,$){k=x(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,A(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var I=h;h=$;try{return T()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var I=h;h=T;try{return $()}finally{h=I}},e.unstable_scheduleCallback=function(T,$,I){var ee=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?ee+I:ee):I=ee,T){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=I+F,T={id:d++,callback:$,priorityLevel:T,startTime:I,expirationTime:F,sortIndex:-1},I>ee?(T.sortIndex=I,t(u,T),r(c)===null&&T===r(u)&&(p?(b(k),k=-1):p=!0,V(_,I-ee))):(T.sortIndex=F,t(c,T),g||m||(g=!0,A(j))),T},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(T){var $=h;return function(){var I=h;h=$;try{return T.apply(this,arguments)}finally{h=I}}}})(BM);qM.exports=BM;var Z6=qM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e8=v,gs=Z6;function xe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zM=new Set,Rh={};function Tc(e,t){ed(e,t),ed(e+"Capture",t)}function ed(e,t){for(Rh[e]=t,e=0;e<t.length;e++)zM.add(t[e])}var Li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q0=Object.prototype.hasOwnProperty,t8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,RC={},MC={};function r8(e){return q0.call(MC,e)?!0:q0.call(RC,e)?!1:t8.test(e)?MC[e]=!0:(RC[e]=!0,!1)}function n8(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function s8(e,t,r,n){if(t===null||typeof t>"u"||n8(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Dn(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fn[e]=new Dn(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fn[t]=new Dn(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fn[e]=new Dn(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fn[e]=new Dn(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fn[e]=new Dn(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fn[e]=new Dn(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fn[e]=new Dn(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fn[e]=new Dn(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fn[e]=new Dn(e,5,!1,e.toLowerCase(),null,!1,!1)});var cS=/[\-:]([a-z])/g;function uS(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(cS,uS);fn[t]=new Dn(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(cS,uS);fn[t]=new Dn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(cS,uS);fn[t]=new Dn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fn[e]=new Dn(e,1,!1,e.toLowerCase(),null,!0,!0)});function dS(e,t,r,n){var s=fn.hasOwnProperty(t)?fn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(s8(t,r,s,n)&&(r=null),n||s===null?r8(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Qi=e8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ip=Symbol.for("react.element"),fu=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),fS=Symbol.for("react.strict_mode"),B0=Symbol.for("react.profiler"),WM=Symbol.for("react.provider"),VM=Symbol.for("react.context"),hS=Symbol.for("react.forward_ref"),z0=Symbol.for("react.suspense"),W0=Symbol.for("react.suspense_list"),mS=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),KM=Symbol.for("react.offscreen"),$C=Symbol.iterator;function Cf(e){return e===null||typeof e!="object"?null:(e=$C&&e[$C]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,Zb;function rh(e){if(Zb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Zb=t&&t[1]||""}return`
`+Zb+e}var ew=!1;function tw(e,t){if(!e||ew)return"";ew=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{ew=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rh(e):""}function a8(e){switch(e.tag){case 5:return rh(e.type);case 16:return rh("Lazy");case 13:return rh("Suspense");case 19:return rh("SuspenseList");case 0:case 2:case 15:return e=tw(e.type,!1),e;case 11:return e=tw(e.type.render,!1),e;case 1:return e=tw(e.type,!0),e;default:return""}}function V0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hu:return"Fragment";case fu:return"Portal";case B0:return"Profiler";case fS:return"StrictMode";case z0:return"Suspense";case W0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VM:return(e.displayName||"Context")+".Consumer";case WM:return(e._context.displayName||"Context")+".Provider";case hS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case mS:return t=e.displayName||null,t!==null?t:V0(e.type)||"Memo";case wo:t=e._payload,e=e._init;try{return V0(e(t))}catch{}}return null}function i8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V0(t);case 8:return t===fS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function al(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o8(e){var t=HM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dp(e){e._valueTracker||(e._valueTracker=o8(e))}function GM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function K0(e,t){var r=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function IC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=al(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YM(e,t){t=t.checked,t!=null&&dS(e,"checked",t,!1)}function H0(e,t){YM(e,t);var r=al(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?G0(e,t.type,r):t.hasOwnProperty("defaultValue")&&G0(e,t.type,al(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function DC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function G0(e,t,r){(t!=="number"||Jg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nh=Array.isArray;function Eu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+al(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Y0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(xe(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function LC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(xe(92));if(nh(r)){if(1<r.length)throw Error(xe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:al(r)}}function QM(e,t){var r=al(t.value),n=al(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function FC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Q0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lp,JM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lp=Lp||document.createElement("div"),Lp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Mh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var mh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l8=["Webkit","ms","Moz","O"];Object.keys(mh).forEach(function(e){l8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),mh[t]=mh[e]})});function ZM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||mh.hasOwnProperty(e)&&mh[e]?(""+t).trim():t+"px"}function e$(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ZM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var c8=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function X0(e,t){if(t){if(c8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(xe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(xe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(xe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(xe(62))}}function J0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Z0=null;function pS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ej=null,Pu=null,Ou=null;function UC(e){if(e=np(e)){if(typeof ej!="function")throw Error(xe(280));var t=e.stateNode;t&&(t=lx(t),ej(e.stateNode,e.type,t))}}function t$(e){Pu?Ou?Ou.push(e):Ou=[e]:Pu=e}function r$(){if(Pu){var e=Pu,t=Ou;if(Ou=Pu=null,UC(e),t)for(e=0;e<t.length;e++)UC(t[e])}}function n$(e,t){return e(t)}function s$(){}var rw=!1;function a$(e,t,r){if(rw)return e(t,r);rw=!0;try{return n$(e,t,r)}finally{rw=!1,(Pu!==null||Ou!==null)&&(s$(),r$())}}function $h(e,t){var r=e.stateNode;if(r===null)return null;var n=lx(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(xe(231,t,typeof r));return r}var tj=!1;if(Li)try{var Ef={};Object.defineProperty(Ef,"passive",{get:function(){tj=!0}}),window.addEventListener("test",Ef,Ef),window.removeEventListener("test",Ef,Ef)}catch{tj=!1}function u8(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var ph=!1,Zg=null,ev=!1,rj=null,d8={onError:function(e){ph=!0,Zg=e}};function f8(e,t,r,n,s,i,o,l,c){ph=!1,Zg=null,u8.apply(d8,arguments)}function h8(e,t,r,n,s,i,o,l,c){if(f8.apply(this,arguments),ph){if(ph){var u=Zg;ph=!1,Zg=null}else throw Error(xe(198));ev||(ev=!0,rj=u)}}function Rc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i$(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qC(e){if(Rc(e)!==e)throw Error(xe(188))}function m8(e){var t=e.alternate;if(!t){if(t=Rc(e),t===null)throw Error(xe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return qC(s),e;if(i===n)return qC(s),t;i=i.sibling}throw Error(xe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(xe(189))}}if(r.alternate!==n)throw Error(xe(190))}if(r.tag!==3)throw Error(xe(188));return r.stateNode.current===r?e:t}function o$(e){return e=m8(e),e!==null?l$(e):null}function l$(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l$(e);if(t!==null)return t;e=e.sibling}return null}var c$=gs.unstable_scheduleCallback,BC=gs.unstable_cancelCallback,p8=gs.unstable_shouldYield,g8=gs.unstable_requestPaint,br=gs.unstable_now,v8=gs.unstable_getCurrentPriorityLevel,gS=gs.unstable_ImmediatePriority,u$=gs.unstable_UserBlockingPriority,tv=gs.unstable_NormalPriority,y8=gs.unstable_LowPriority,d$=gs.unstable_IdlePriority,sx=null,Ya=null;function x8(e){if(Ya&&typeof Ya.onCommitFiberRoot=="function")try{Ya.onCommitFiberRoot(sx,e,void 0,(e.current.flags&128)===128)}catch{}}var xa=Math.clz32?Math.clz32:j8,b8=Math.log,w8=Math.LN2;function j8(e){return e>>>=0,e===0?32:31-(b8(e)/w8|0)|0}var Fp=64,Up=4194304;function sh(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rv(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=sh(l):(i&=o,i!==0&&(n=sh(i)))}else o=r&~s,o!==0?n=sh(o):i!==0&&(n=sh(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xa(t),s=1<<r,n|=e[r],t&=~s;return n}function _8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-xa(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=_8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function nj(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f$(){var e=Fp;return Fp<<=1,!(Fp&4194240)&&(Fp=64),e}function nw(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function tp(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xa(t),e[t]=r}function N8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-xa(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function vS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xa(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Lt=0;function h$(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m$,yS,p$,g$,v$,sj=!1,qp=[],Ko=null,Ho=null,Go=null,Ih=new Map,Dh=new Map,ko=[],k8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zC(e,t){switch(e){case"focusin":case"focusout":Ko=null;break;case"dragenter":case"dragleave":Ho=null;break;case"mouseover":case"mouseout":Go=null;break;case"pointerover":case"pointerout":Ih.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Pf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=np(t),t!==null&&yS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function C8(e,t,r,n,s){switch(t){case"focusin":return Ko=Pf(Ko,e,t,r,n,s),!0;case"dragenter":return Ho=Pf(Ho,e,t,r,n,s),!0;case"mouseover":return Go=Pf(Go,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ih.set(i,Pf(Ih.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Dh.set(i,Pf(Dh.get(i)||null,e,t,r,n,s)),!0}return!1}function y$(e){var t=Dl(e.target);if(t!==null){var r=Rc(t);if(r!==null){if(t=r.tag,t===13){if(t=i$(r),t!==null){e.blockedOn=t,v$(e.priority,function(){p$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ig(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aj(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Z0=n,r.target.dispatchEvent(n),Z0=null}else return t=np(r),t!==null&&yS(t),e.blockedOn=r,!1;t.shift()}return!0}function WC(e,t,r){Ig(e)&&r.delete(t)}function E8(){sj=!1,Ko!==null&&Ig(Ko)&&(Ko=null),Ho!==null&&Ig(Ho)&&(Ho=null),Go!==null&&Ig(Go)&&(Go=null),Ih.forEach(WC),Dh.forEach(WC)}function Of(e,t){e.blockedOn===t&&(e.blockedOn=null,sj||(sj=!0,gs.unstable_scheduleCallback(gs.unstable_NormalPriority,E8)))}function Lh(e){function t(s){return Of(s,e)}if(0<qp.length){Of(qp[0],e);for(var r=1;r<qp.length;r++){var n=qp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ko!==null&&Of(Ko,e),Ho!==null&&Of(Ho,e),Go!==null&&Of(Go,e),Ih.forEach(t),Dh.forEach(t),r=0;r<ko.length;r++)n=ko[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ko.length&&(r=ko[0],r.blockedOn===null);)y$(r),r.blockedOn===null&&ko.shift()}var Au=Qi.ReactCurrentBatchConfig,nv=!0;function P8(e,t,r,n){var s=Lt,i=Au.transition;Au.transition=null;try{Lt=1,xS(e,t,r,n)}finally{Lt=s,Au.transition=i}}function O8(e,t,r,n){var s=Lt,i=Au.transition;Au.transition=null;try{Lt=4,xS(e,t,r,n)}finally{Lt=s,Au.transition=i}}function xS(e,t,r,n){if(nv){var s=aj(e,t,r,n);if(s===null)hw(e,t,n,sv,r),zC(e,n);else if(C8(s,e,t,r,n))n.stopPropagation();else if(zC(e,n),t&4&&-1<k8.indexOf(e)){for(;s!==null;){var i=np(s);if(i!==null&&m$(i),i=aj(e,t,r,n),i===null&&hw(e,t,n,sv,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else hw(e,t,n,null,r)}}var sv=null;function aj(e,t,r,n){if(sv=null,e=pS(n),e=Dl(e),e!==null)if(t=Rc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i$(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sv=e,null}function x$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v8()){case gS:return 1;case u$:return 4;case tv:case y8:return 16;case d$:return 536870912;default:return 16}default:return 16}}var Uo=null,bS=null,Dg=null;function b$(){if(Dg)return Dg;var e,t=bS,r=t.length,n,s="value"in Uo?Uo.value:Uo.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Dg=s.slice(e,1<n?1-n:void 0)}function Lg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bp(){return!0}function VC(){return!1}function ws(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bp:VC,this.isPropagationStopped=VC,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),t}var Hd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wS=ws(Hd),rp=pr({},Hd,{view:0,detail:0}),A8=ws(rp),sw,aw,Af,ax=pr({},rp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Af&&(Af&&e.type==="mousemove"?(sw=e.screenX-Af.screenX,aw=e.screenY-Af.screenY):aw=sw=0,Af=e),sw)},movementY:function(e){return"movementY"in e?e.movementY:aw}}),KC=ws(ax),T8=pr({},ax,{dataTransfer:0}),R8=ws(T8),M8=pr({},rp,{relatedTarget:0}),iw=ws(M8),$8=pr({},Hd,{animationName:0,elapsedTime:0,pseudoElement:0}),I8=ws($8),D8=pr({},Hd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),L8=ws(D8),F8=pr({},Hd,{data:0}),HC=ws(F8),U8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},q8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},B8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function z8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=B8[e])?!!t[e]:!1}function jS(){return z8}var W8=pr({},rp,{key:function(e){if(e.key){var t=U8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?q8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jS,charCode:function(e){return e.type==="keypress"?Lg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V8=ws(W8),K8=pr({},ax,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),GC=ws(K8),H8=pr({},rp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jS}),G8=ws(H8),Y8=pr({},Hd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Q8=ws(Y8),X8=pr({},ax,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),J8=ws(X8),Z8=[9,13,27,32],_S=Li&&"CompositionEvent"in window,gh=null;Li&&"documentMode"in document&&(gh=document.documentMode);var ez=Li&&"TextEvent"in window&&!gh,w$=Li&&(!_S||gh&&8<gh&&11>=gh),YC=" ",QC=!1;function j$(e,t){switch(e){case"keyup":return Z8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mu=!1;function tz(e,t){switch(e){case"compositionend":return _$(t);case"keypress":return t.which!==32?null:(QC=!0,YC);case"textInput":return e=t.data,e===YC&&QC?null:e;default:return null}}function rz(e,t){if(mu)return e==="compositionend"||!_S&&j$(e,t)?(e=b$(),Dg=bS=Uo=null,mu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w$&&t.locale!=="ko"?null:t.data;default:return null}}var nz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nz[e.type]:t==="textarea"}function S$(e,t,r,n){t$(n),t=av(t,"onChange"),0<t.length&&(r=new wS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var vh=null,Fh=null;function sz(e){$$(e,0)}function ix(e){var t=vu(e);if(GM(t))return e}function az(e,t){if(e==="change")return t}var N$=!1;if(Li){var ow;if(Li){var lw="oninput"in document;if(!lw){var JC=document.createElement("div");JC.setAttribute("oninput","return;"),lw=typeof JC.oninput=="function"}ow=lw}else ow=!1;N$=ow&&(!document.documentMode||9<document.documentMode)}function ZC(){vh&&(vh.detachEvent("onpropertychange",k$),Fh=vh=null)}function k$(e){if(e.propertyName==="value"&&ix(Fh)){var t=[];S$(t,Fh,e,pS(e)),a$(sz,t)}}function iz(e,t,r){e==="focusin"?(ZC(),vh=t,Fh=r,vh.attachEvent("onpropertychange",k$)):e==="focusout"&&ZC()}function oz(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ix(Fh)}function lz(e,t){if(e==="click")return ix(t)}function cz(e,t){if(e==="input"||e==="change")return ix(t)}function uz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Na=typeof Object.is=="function"?Object.is:uz;function Uh(e,t){if(Na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!q0.call(t,s)||!Na(e[s],t[s]))return!1}return!0}function e2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function t2(e,t){var r=e2(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=e2(r)}}function C$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?C$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function E$(){for(var e=window,t=Jg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Jg(e.document)}return t}function SS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function dz(e){var t=E$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&C$(r.ownerDocument.documentElement,r)){if(n!==null&&SS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=t2(r,i);var o=t2(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fz=Li&&"documentMode"in document&&11>=document.documentMode,pu=null,ij=null,yh=null,oj=!1;function r2(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;oj||pu==null||pu!==Jg(n)||(n=pu,"selectionStart"in n&&SS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),yh&&Uh(yh,n)||(yh=n,n=av(ij,"onSelect"),0<n.length&&(t=new wS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pu)))}function zp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var gu={animationend:zp("Animation","AnimationEnd"),animationiteration:zp("Animation","AnimationIteration"),animationstart:zp("Animation","AnimationStart"),transitionend:zp("Transition","TransitionEnd")},cw={},P$={};Li&&(P$=document.createElement("div").style,"AnimationEvent"in window||(delete gu.animationend.animation,delete gu.animationiteration.animation,delete gu.animationstart.animation),"TransitionEvent"in window||delete gu.transitionend.transition);function ox(e){if(cw[e])return cw[e];if(!gu[e])return e;var t=gu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in P$)return cw[e]=t[r];return e}var O$=ox("animationend"),A$=ox("animationiteration"),T$=ox("animationstart"),R$=ox("transitionend"),M$=new Map,n2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dl(e,t){M$.set(e,t),Tc(t,[e])}for(var uw=0;uw<n2.length;uw++){var dw=n2[uw],hz=dw.toLowerCase(),mz=dw[0].toUpperCase()+dw.slice(1);dl(hz,"on"+mz)}dl(O$,"onAnimationEnd");dl(A$,"onAnimationIteration");dl(T$,"onAnimationStart");dl("dblclick","onDoubleClick");dl("focusin","onFocus");dl("focusout","onBlur");dl(R$,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);Tc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ah="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("cancel close invalid load scroll toggle".split(" ").concat(ah));function s2(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,h8(n,t,void 0,e),e.currentTarget=null}function $$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;s2(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;s2(s,l,u),i=c}}}if(ev)throw e=rj,ev=!1,rj=null,e}function er(e,t){var r=t[fj];r===void 0&&(r=t[fj]=new Set);var n=e+"__bubble";r.has(n)||(I$(t,e,2,!1),r.add(n))}function fw(e,t,r){var n=0;t&&(n|=4),I$(r,e,n,t)}var Wp="_reactListening"+Math.random().toString(36).slice(2);function qh(e){if(!e[Wp]){e[Wp]=!0,zM.forEach(function(r){r!=="selectionchange"&&(pz.has(r)||fw(r,!1,e),fw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wp]||(t[Wp]=!0,fw("selectionchange",!1,t))}}function I$(e,t,r,n){switch(x$(t)){case 1:var s=P8;break;case 4:s=O8;break;default:s=xS}r=s.bind(null,t,r,e),s=void 0,!tj||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function hw(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Dl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}a$(function(){var u=i,d=pS(r),f=[];e:{var h=M$.get(e);if(h!==void 0){var m=wS,g=e;switch(e){case"keypress":if(Lg(r)===0)break e;case"keydown":case"keyup":m=V8;break;case"focusin":g="focus",m=iw;break;case"focusout":g="blur",m=iw;break;case"beforeblur":case"afterblur":m=iw;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=KC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=R8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=G8;break;case O$:case A$:case T$:m=I8;break;case R$:m=Q8;break;case"scroll":m=A8;break;case"wheel":m=J8;break;case"copy":case"cut":case"paste":m=L8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=GC}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var y=u,w;y!==null;){w=y;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=$h(y,b),_!=null&&p.push(Bh(y,_,w)))),x)break;y=y.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Z0&&(g=r.relatedTarget||r.fromElement)&&(Dl(g)||g[Fi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Dl(g):null,g!==null&&(x=Rc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=KC,_="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(p=GC,_="onPointerLeave",b="onPointerEnter",y="pointer"),x=m==null?h:vu(m),w=g==null?h:vu(g),h=new p(_,y+"leave",m,r,d),h.target=x,h.relatedTarget=w,_=null,Dl(d)===u&&(p=new p(b,y+"enter",g,r,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&g)t:{for(p=m,b=g,y=0,w=p;w;w=Vc(w))y++;for(w=0,_=b;_;_=Vc(_))w++;for(;0<y-w;)p=Vc(p),y--;for(;0<w-y;)b=Vc(b),w--;for(;y--;){if(p===b||b!==null&&p===b.alternate)break t;p=Vc(p),b=Vc(b)}p=null}else p=null;m!==null&&a2(f,h,m,p,!1),g!==null&&x!==null&&a2(f,x,g,p,!0)}}e:{if(h=u?vu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=az;else if(XC(h))if(N$)j=cz;else{j=oz;var S=iz}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=lz);if(j&&(j=j(e,u))){S$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&G0(h,"number",h.value)}switch(S=u?vu(u):window,e){case"focusin":(XC(S)||S.contentEditable==="true")&&(pu=S,ij=u,yh=null);break;case"focusout":yh=ij=pu=null;break;case"mousedown":oj=!0;break;case"contextmenu":case"mouseup":case"dragend":oj=!1,r2(f,r,d);break;case"selectionchange":if(fz)break;case"keydown":case"keyup":r2(f,r,d)}var N;if(_S)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mu?j$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(w$&&r.locale!=="ko"&&(mu||k!=="onCompositionStart"?k==="onCompositionEnd"&&mu&&(N=b$()):(Uo=d,bS="value"in Uo?Uo.value:Uo.textContent,mu=!0)),S=av(u,k),0<S.length&&(k=new HC(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=_$(r),N!==null&&(k.data=N)))),(N=ez?tz(e,r):rz(e,r))&&(u=av(u,"onBeforeInput"),0<u.length&&(d=new HC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}$$(f,t)})}function Bh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function av(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=$h(e,r),i!=null&&n.unshift(Bh(e,i,s)),i=$h(e,t),i!=null&&n.push(Bh(e,i,s))),e=e.return}return n}function Vc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function a2(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=$h(r,i),c!=null&&o.unshift(Bh(r,c,l))):s||(c=$h(r,i),c!=null&&o.push(Bh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var gz=/\r\n?/g,vz=/\u0000|\uFFFD/g;function i2(e){return(typeof e=="string"?e:""+e).replace(gz,`
`).replace(vz,"")}function Vp(e,t,r){if(t=i2(t),i2(e)!==t&&r)throw Error(xe(425))}function iv(){}var lj=null,cj=null;function uj(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dj=typeof setTimeout=="function"?setTimeout:void 0,yz=typeof clearTimeout=="function"?clearTimeout:void 0,o2=typeof Promise=="function"?Promise:void 0,xz=typeof queueMicrotask=="function"?queueMicrotask:typeof o2<"u"?function(e){return o2.resolve(null).then(e).catch(bz)}:dj;function bz(e){setTimeout(function(){throw e})}function mw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Lh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Lh(t)}function Yo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function l2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),za="__reactFiber$"+Gd,zh="__reactProps$"+Gd,Fi="__reactContainer$"+Gd,fj="__reactEvents$"+Gd,wz="__reactListeners$"+Gd,jz="__reactHandles$"+Gd;function Dl(e){var t=e[za];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fi]||r[za]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=l2(e);e!==null;){if(r=e[za])return r;e=l2(e)}return t}e=r,r=e.parentNode}return null}function np(e){return e=e[za]||e[Fi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(xe(33))}function lx(e){return e[zh]||null}var hj=[],yu=-1;function fl(e){return{current:e}}function nr(e){0>yu||(e.current=hj[yu],hj[yu]=null,yu--)}function Xt(e,t){yu++,hj[yu]=e.current,e.current=t}var il={},Nn=fl(il),Yn=fl(!1),cc=il;function td(e,t){var r=e.type.contextTypes;if(!r)return il;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qn(e){return e=e.childContextTypes,e!=null}function ov(){nr(Yn),nr(Nn)}function c2(e,t,r){if(Nn.current!==il)throw Error(xe(168));Xt(Nn,t),Xt(Yn,r)}function D$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(xe(108,i8(e)||"Unknown",s));return pr({},r,n)}function lv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||il,cc=Nn.current,Xt(Nn,e),Xt(Yn,Yn.current),!0}function u2(e,t,r){var n=e.stateNode;if(!n)throw Error(xe(169));r?(e=D$(e,t,cc),n.__reactInternalMemoizedMergedChildContext=e,nr(Yn),nr(Nn),Xt(Nn,e)):nr(Yn),Xt(Yn,r)}var yi=null,cx=!1,pw=!1;function L$(e){yi===null?yi=[e]:yi.push(e)}function _z(e){cx=!0,L$(e)}function hl(){if(!pw&&yi!==null){pw=!0;var e=0,t=Lt;try{var r=yi;for(Lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}yi=null,cx=!1}catch(s){throw yi!==null&&(yi=yi.slice(e+1)),c$(gS,hl),s}finally{Lt=t,pw=!1}}return null}var xu=[],bu=0,cv=null,uv=0,Ps=[],Os=0,uc=null,Si=1,Ni="";function Cl(e,t){xu[bu++]=uv,xu[bu++]=cv,cv=e,uv=t}function F$(e,t,r){Ps[Os++]=Si,Ps[Os++]=Ni,Ps[Os++]=uc,uc=e;var n=Si;e=Ni;var s=32-xa(n)-1;n&=~(1<<s),r+=1;var i=32-xa(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Si=1<<32-xa(t)+s|r<<s|n,Ni=i+e}else Si=1<<i|r<<s|n,Ni=e}function NS(e){e.return!==null&&(Cl(e,1),F$(e,1,0))}function kS(e){for(;e===cv;)cv=xu[--bu],xu[bu]=null,uv=xu[--bu],xu[bu]=null;for(;e===uc;)uc=Ps[--Os],Ps[Os]=null,Ni=Ps[--Os],Ps[Os]=null,Si=Ps[--Os],Ps[Os]=null}var hs=null,fs=null,or=!1,ha=null;function U$(e,t){var r=Rs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function d2(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,hs=e,fs=Yo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,hs=e,fs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=uc!==null?{id:Si,overflow:Ni}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,hs=e,fs=null,!0):!1;default:return!1}}function mj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pj(e){if(or){var t=fs;if(t){var r=t;if(!d2(e,t)){if(mj(e))throw Error(xe(418));t=Yo(r.nextSibling);var n=hs;t&&d2(e,t)?U$(n,r):(e.flags=e.flags&-4097|2,or=!1,hs=e)}}else{if(mj(e))throw Error(xe(418));e.flags=e.flags&-4097|2,or=!1,hs=e}}}function f2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;hs=e}function Kp(e){if(e!==hs)return!1;if(!or)return f2(e),or=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!uj(e.type,e.memoizedProps)),t&&(t=fs)){if(mj(e))throw q$(),Error(xe(418));for(;t;)U$(e,t),t=Yo(t.nextSibling)}if(f2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(xe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){fs=Yo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}fs=null}}else fs=hs?Yo(e.stateNode.nextSibling):null;return!0}function q$(){for(var e=fs;e;)e=Yo(e.nextSibling)}function rd(){fs=hs=null,or=!1}function CS(e){ha===null?ha=[e]:ha.push(e)}var Sz=Qi.ReactCurrentBatchConfig;function Tf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(xe(309));var n=r.stateNode}if(!n)throw Error(xe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(xe(284));if(!r._owner)throw Error(xe(290,e))}return e}function Hp(e,t){throw e=Object.prototype.toString.call(t),Error(xe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function h2(e){var t=e._init;return t(e._payload)}function B$(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function r(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function n(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function s(b,y){return b=Zo(b,y),b.index=0,b.sibling=null,b}function i(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,y,w,_){return y===null||y.tag!==6?(y=jw(w,b.mode,_),y.return=b,y):(y=s(y,w),y.return=b,y)}function c(b,y,w,_){var j=w.type;return j===hu?d(b,y,w.props.children,_,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wo&&h2(j)===y.type)?(_=s(y,w.props),_.ref=Tf(b,y,w),_.return=b,_):(_=Vg(w.type,w.key,w.props,null,b.mode,_),_.ref=Tf(b,y,w),_.return=b,_)}function u(b,y,w,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=_w(w,b.mode,_),y.return=b,y):(y=s(y,w.children||[]),y.return=b,y)}function d(b,y,w,_,j){return y===null||y.tag!==7?(y=ac(w,b.mode,_,j),y.return=b,y):(y=s(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=jw(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ip:return w=Vg(y.type,y.key,y.props,null,b.mode,w),w.ref=Tf(b,null,y),w.return=b,w;case fu:return y=_w(y,b.mode,w),y.return=b,y;case wo:var _=y._init;return f(b,_(y._payload),w)}if(nh(y)||Cf(y))return y=ac(y,b.mode,w,null),y.return=b,y;Hp(b,y)}return null}function h(b,y,w,_){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,y,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ip:return w.key===j?c(b,y,w,_):null;case fu:return w.key===j?u(b,y,w,_):null;case wo:return j=w._init,h(b,y,j(w._payload),_)}if(nh(w)||Cf(w))return j!==null?null:d(b,y,w,_,null);Hp(b,w)}return null}function m(b,y,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(y,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ip:return b=b.get(_.key===null?w:_.key)||null,c(y,b,_,j);case fu:return b=b.get(_.key===null?w:_.key)||null,u(y,b,_,j);case wo:var S=_._init;return m(b,y,w,S(_._payload),j)}if(nh(_)||Cf(_))return b=b.get(w)||null,d(y,b,_,j,null);Hp(y,_)}return null}function g(b,y,w,_){for(var j=null,S=null,N=y,k=y=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var O=h(b,N,w[k],_);if(O===null){N===null&&(N=C);break}e&&N&&O.alternate===null&&t(b,N),y=i(O,y,k),S===null?j=O:S.sibling=O,S=O,N=C}if(k===w.length)return r(b,N),or&&Cl(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],_),N!==null&&(y=i(N,y,k),S===null?j=N:S.sibling=N,S=N);return or&&Cl(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),y=i(C,y,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(D){return t(b,D)}),or&&Cl(b,k),j}function p(b,y,w,_){var j=Cf(w);if(typeof j!="function")throw Error(xe(150));if(w=j.call(w),w==null)throw Error(xe(151));for(var S=j=null,N=y,k=y=0,C=null,O=w.next();N!==null&&!O.done;k++,O=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var D=h(b,N,O.value,_);if(D===null){N===null&&(N=C);break}e&&N&&D.alternate===null&&t(b,N),y=i(D,y,k),S===null?j=D:S.sibling=D,S=D,N=C}if(O.done)return r(b,N),or&&Cl(b,k),j;if(N===null){for(;!O.done;k++,O=w.next())O=f(b,O.value,_),O!==null&&(y=i(O,y,k),S===null?j=O:S.sibling=O,S=O);return or&&Cl(b,k),j}for(N=n(b,N);!O.done;k++,O=w.next())O=m(N,b,k,O.value,_),O!==null&&(e&&O.alternate!==null&&N.delete(O.key===null?k:O.key),y=i(O,y,k),S===null?j=O:S.sibling=O,S=O);return e&&N.forEach(function(E){return t(b,E)}),or&&Cl(b,k),j}function x(b,y,w,_){if(typeof w=="object"&&w!==null&&w.type===hu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ip:e:{for(var j=w.key,S=y;S!==null;){if(S.key===j){if(j=w.type,j===hu){if(S.tag===7){r(b,S.sibling),y=s(S,w.props.children),y.return=b,b=y;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wo&&h2(j)===S.type){r(b,S.sibling),y=s(S,w.props),y.ref=Tf(b,S,w),y.return=b,b=y;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===hu?(y=ac(w.props.children,b.mode,_,w.key),y.return=b,b=y):(_=Vg(w.type,w.key,w.props,null,b.mode,_),_.ref=Tf(b,y,w),_.return=b,b=_)}return o(b);case fu:e:{for(S=w.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){r(b,y.sibling),y=s(y,w.children||[]),y.return=b,b=y;break e}else{r(b,y);break}else t(b,y);y=y.sibling}y=_w(w,b.mode,_),y.return=b,b=y}return o(b);case wo:return S=w._init,x(b,y,S(w._payload),_)}if(nh(w))return g(b,y,w,_);if(Cf(w))return p(b,y,w,_);Hp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(r(b,y.sibling),y=s(y,w),y.return=b,b=y):(r(b,y),y=jw(w,b.mode,_),y.return=b,b=y),o(b)):r(b,y)}return x}var nd=B$(!0),z$=B$(!1),dv=fl(null),fv=null,wu=null,ES=null;function PS(){ES=wu=fv=null}function OS(e){var t=dv.current;nr(dv),e._currentValue=t}function gj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tu(e,t){fv=e,ES=wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Hn=!0),e.firstContext=null)}function qs(e){var t=e._currentValue;if(ES!==e)if(e={context:e,memoizedValue:t,next:null},wu===null){if(fv===null)throw Error(xe(308));wu=e,fv.dependencies={lanes:0,firstContext:e}}else wu=wu.next=e;return t}var Ll=null;function AS(e){Ll===null?Ll=[e]:Ll.push(e)}function W$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,AS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ui(e,n)}function Ui(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var jo=!1;function TS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ui(e,r)}return s=n.interleaved,s===null?(t.next=t,AS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ui(e,r)}function Fg(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vS(e,r)}}function m2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function hv(e,t,r,n){var s=e.updateQueue;jo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=pr({},f,h);break e;case 2:jo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);fc|=o,e.lanes=o,e.memoizedState=f}}function p2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(xe(191,s));s.call(n)}}}var sp={},Qa=fl(sp),Wh=fl(sp),Vh=fl(sp);function Fl(e){if(e===sp)throw Error(xe(174));return e}function RS(e,t){switch(Xt(Vh,t),Xt(Wh,e),Xt(Qa,sp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Q0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Q0(t,e)}nr(Qa),Xt(Qa,t)}function sd(){nr(Qa),nr(Wh),nr(Vh)}function K$(e){Fl(Vh.current);var t=Fl(Qa.current),r=Q0(t,e.type);t!==r&&(Xt(Wh,e),Xt(Qa,r))}function MS(e){Wh.current===e&&(nr(Qa),nr(Wh))}var ur=fl(0);function mv(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var gw=[];function $S(){for(var e=0;e<gw.length;e++)gw[e]._workInProgressVersionPrimary=null;gw.length=0}var Ug=Qi.ReactCurrentDispatcher,vw=Qi.ReactCurrentBatchConfig,dc=0,hr=null,qr=null,Jr=null,pv=!1,xh=!1,Kh=0,Nz=0;function mn(){throw Error(xe(321))}function IS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Na(e[r],t[r]))return!1;return!0}function DS(e,t,r,n,s,i){if(dc=i,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ug.current=e===null||e.memoizedState===null?Pz:Oz,e=r(n,s),xh){i=0;do{if(xh=!1,Kh=0,25<=i)throw Error(xe(301));i+=1,Jr=qr=null,t.updateQueue=null,Ug.current=Az,e=r(n,s)}while(xh)}if(Ug.current=gv,t=qr!==null&&qr.next!==null,dc=0,Jr=qr=hr=null,pv=!1,t)throw Error(xe(300));return e}function LS(){var e=Kh!==0;return Kh=0,e}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jr===null?hr.memoizedState=Jr=e:Jr=Jr.next=e,Jr}function Bs(){if(qr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=qr.next;var t=Jr===null?hr.memoizedState:Jr.next;if(t!==null)Jr=t,qr=e;else{if(e===null)throw Error(xe(310));qr=e,e={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Jr===null?hr.memoizedState=Jr=e:Jr=Jr.next=e}return Jr}function Hh(e,t){return typeof t=="function"?t(e):t}function yw(e){var t=Bs(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=qr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((dc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,hr.lanes|=d,fc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,Na(n,t.memoizedState)||(Hn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,hr.lanes|=i,fc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function xw(e){var t=Bs(),r=t.queue;if(r===null)throw Error(xe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Na(i,t.memoizedState)||(Hn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function H$(){}function G$(e,t){var r=hr,n=Bs(),s=t(),i=!Na(n.memoizedState,s);if(i&&(n.memoizedState=s,Hn=!0),n=n.queue,FS(X$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Jr!==null&&Jr.memoizedState.tag&1){if(r.flags|=2048,Gh(9,Q$.bind(null,r,n,s,t),void 0,null),en===null)throw Error(xe(349));dc&30||Y$(r,t,s)}return s}function Y$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Q$(e,t,r,n){t.value=r,t.getSnapshot=n,J$(t)&&Z$(e)}function X$(e,t,r){return r(function(){J$(t)&&Z$(e)})}function J$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Na(e,r)}catch{return!0}}function Z$(e){var t=Ui(e,1);t!==null&&ba(t,e,1,-1)}function g2(e){var t=La();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hh,lastRenderedState:e},t.queue=e,e=e.dispatch=Ez.bind(null,hr,e),[t.memoizedState,e]}function Gh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function e4(){return Bs().memoizedState}function qg(e,t,r,n){var s=La();hr.flags|=e,s.memoizedState=Gh(1|t,r,void 0,n===void 0?null:n)}function ux(e,t,r,n){var s=Bs();n=n===void 0?null:n;var i=void 0;if(qr!==null){var o=qr.memoizedState;if(i=o.destroy,n!==null&&IS(n,o.deps)){s.memoizedState=Gh(t,r,i,n);return}}hr.flags|=e,s.memoizedState=Gh(1|t,r,i,n)}function v2(e,t){return qg(8390656,8,e,t)}function FS(e,t){return ux(2048,8,e,t)}function t4(e,t){return ux(4,2,e,t)}function r4(e,t){return ux(4,4,e,t)}function n4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function s4(e,t,r){return r=r!=null?r.concat([e]):null,ux(4,4,n4.bind(null,t,e),r)}function US(){}function a4(e,t){var r=Bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&IS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function i4(e,t){var r=Bs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&IS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function o4(e,t,r){return dc&21?(Na(r,t)||(r=f$(),hr.lanes|=r,fc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Hn=!0),e.memoizedState=r)}function kz(e,t){var r=Lt;Lt=r!==0&&4>r?r:4,e(!0);var n=vw.transition;vw.transition={};try{e(!1),t()}finally{Lt=r,vw.transition=n}}function l4(){return Bs().memoizedState}function Cz(e,t,r){var n=Jo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},c4(e))u4(t,r);else if(r=W$(e,t,r,n),r!==null){var s=Rn();ba(r,e,n,s),d4(r,t,n)}}function Ez(e,t,r){var n=Jo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(c4(e))u4(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Na(l,o)){var c=t.interleaved;c===null?(s.next=s,AS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=W$(e,t,s,n),r!==null&&(s=Rn(),ba(r,e,n,s),d4(r,t,n))}}function c4(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function u4(e,t){xh=pv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function d4(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vS(e,r)}}var gv={readContext:qs,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useInsertionEffect:mn,useLayoutEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useMutableSource:mn,useSyncExternalStore:mn,useId:mn,unstable_isNewReconciler:!1},Pz={readContext:qs,useCallback:function(e,t){return La().memoizedState=[e,t===void 0?null:t],e},useContext:qs,useEffect:v2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qg(4194308,4,n4.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qg(4194308,4,e,t)},useInsertionEffect:function(e,t){return qg(4,2,e,t)},useMemo:function(e,t){var r=La();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=La();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Cz.bind(null,hr,e),[n.memoizedState,e]},useRef:function(e){var t=La();return e={current:e},t.memoizedState=e},useState:g2,useDebugValue:US,useDeferredValue:function(e){return La().memoizedState=e},useTransition:function(){var e=g2(!1),t=e[0];return e=kz.bind(null,e[1]),La().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=hr,s=La();if(or){if(r===void 0)throw Error(xe(407));r=r()}else{if(r=t(),en===null)throw Error(xe(349));dc&30||Y$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,v2(X$.bind(null,n,i,e),[e]),n.flags|=2048,Gh(9,Q$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=La(),t=en.identifierPrefix;if(or){var r=Ni,n=Si;r=(n&~(1<<32-xa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Kh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Nz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Oz={readContext:qs,useCallback:a4,useContext:qs,useEffect:FS,useImperativeHandle:s4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:i4,useReducer:yw,useRef:e4,useState:function(){return yw(Hh)},useDebugValue:US,useDeferredValue:function(e){var t=Bs();return o4(t,qr.memoizedState,e)},useTransition:function(){var e=yw(Hh)[0],t=Bs().memoizedState;return[e,t]},useMutableSource:H$,useSyncExternalStore:G$,useId:l4,unstable_isNewReconciler:!1},Az={readContext:qs,useCallback:a4,useContext:qs,useEffect:FS,useImperativeHandle:s4,useInsertionEffect:t4,useLayoutEffect:r4,useMemo:i4,useReducer:xw,useRef:e4,useState:function(){return xw(Hh)},useDebugValue:US,useDeferredValue:function(e){var t=Bs();return qr===null?t.memoizedState=e:o4(t,qr.memoizedState,e)},useTransition:function(){var e=xw(Hh)[0],t=Bs().memoizedState;return[e,t]},useMutableSource:H$,useSyncExternalStore:G$,useId:l4,unstable_isNewReconciler:!1};function ia(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function vj(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:pr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var dx={isMounted:function(e){return(e=e._reactInternals)?Rc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Rn(),s=Jo(e),i=Oi(n,s);i.payload=t,r!=null&&(i.callback=r),t=Qo(e,i,s),t!==null&&(ba(t,e,s,n),Fg(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Rn(),s=Jo(e),i=Oi(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Qo(e,i,s),t!==null&&(ba(t,e,s,n),Fg(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Rn(),n=Jo(e),s=Oi(r,n);s.tag=2,t!=null&&(s.callback=t),t=Qo(e,s,n),t!==null&&(ba(t,e,n,r),Fg(t,e,n))}};function y2(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Uh(r,n)||!Uh(s,i):!0}function f4(e,t,r){var n=!1,s=il,i=t.contextType;return typeof i=="object"&&i!==null?i=qs(i):(s=Qn(t)?cc:Nn.current,n=t.contextTypes,i=(n=n!=null)?td(e,s):il),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=dx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function x2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&dx.enqueueReplaceState(t,t.state,null)}function yj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},TS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=qs(i):(i=Qn(t)?cc:Nn.current,s.context=td(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(vj(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&dx.enqueueReplaceState(s,s.state,null),hv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ad(e,t){try{var r="",n=t;do r+=a8(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function bw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tz=typeof WeakMap=="function"?WeakMap:Map;function h4(e,t,r){r=Oi(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yv||(yv=!0,Pj=n),xj(e,t)},r}function m4(e,t,r){r=Oi(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){xj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){xj(e,t),typeof n!="function"&&(Xo===null?Xo=new Set([this]):Xo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function b2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Tz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Kz.bind(null,e,t,r),t.then(e,e))}function w2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function j2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Oi(-1,1),t.tag=2,Qo(r,t,1))),r.lanes|=1),e)}var Rz=Qi.ReactCurrentOwner,Hn=!1;function Pn(e,t,r,n){t.child=e===null?z$(t,null,r,n):nd(t,e.child,r,n)}function _2(e,t,r,n,s){r=r.render;var i=t.ref;return Tu(t,s),n=DS(e,t,r,n,i,s),r=LS(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s)):(or&&r&&NS(t),t.flags|=1,Pn(e,t,n,s),t.child)}function S2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!GS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,p4(e,t,i,n,s)):(e=Vg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Uh,r(o,n)&&e.ref===t.ref)return qi(e,t,s)}return t.flags|=1,e=Zo(i,n),e.ref=t.ref,e.return=t,t.child=e}function p4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Uh(i,n)&&e.ref===t.ref)if(Hn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Hn=!0);else return t.lanes=e.lanes,qi(e,t,s)}return bj(e,t,r,n,s)}function g4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(_u,as),as|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(_u,as),as|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Xt(_u,as),as|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Xt(_u,as),as|=n;return Pn(e,t,s,r),t.child}function v4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function bj(e,t,r,n,s){var i=Qn(r)?cc:Nn.current;return i=td(t,i),Tu(t,s),r=DS(e,t,r,n,i,s),n=LS(),e!==null&&!Hn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,qi(e,t,s)):(or&&n&&NS(t),t.flags|=1,Pn(e,t,r,s),t.child)}function N2(e,t,r,n,s){if(Qn(r)){var i=!0;lv(t)}else i=!1;if(Tu(t,s),t.stateNode===null)Bg(e,t),f4(t,r,n),yj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=qs(u):(u=Qn(r)?cc:Nn.current,u=td(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&x2(t,o,n,u),jo=!1;var h=t.memoizedState;o.state=h,hv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Yn.current||jo?(typeof d=="function"&&(vj(t,r,d,n),c=t.memoizedState),(l=jo||y2(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,V$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ia(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=qs(c):(c=Qn(r)?cc:Nn.current,c=td(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&x2(t,o,n,c),jo=!1,h=t.memoizedState,o.state=h,hv(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Yn.current||jo?(typeof m=="function"&&(vj(t,r,m,n),g=t.memoizedState),(u=jo||y2(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return wj(e,t,r,n,i,s)}function wj(e,t,r,n,s,i){v4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&u2(t,r,!1),qi(e,t,i);n=t.stateNode,Rz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=nd(t,e.child,null,i),t.child=nd(t,null,l,i)):Pn(e,t,l,i),t.memoizedState=n.state,s&&u2(t,r,!0),t.child}function y4(e){var t=e.stateNode;t.pendingContext?c2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&c2(e,t.context,!1),RS(e,t.containerInfo)}function k2(e,t,r,n,s){return rd(),CS(s),t.flags|=256,Pn(e,t,r,n),t.child}var jj={dehydrated:null,treeContext:null,retryLane:0};function _j(e){return{baseLanes:e,cachePool:null,transitions:null}}function x4(e,t,r){var n=t.pendingProps,s=ur.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Xt(ur,s&1),e===null)return pj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mx(o,n,0,null),e=ac(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=_j(r),t.memoizedState=jj,e):qS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Mz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Zo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Zo(l,i):(i=ac(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?_j(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=jj,n}return i=e.child,e=i.sibling,n=Zo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qS(e,t){return t=mx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gp(e,t,r,n){return n!==null&&CS(n),nd(t,e.child,null,r),e=qS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Mz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=bw(Error(xe(422))),Gp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=mx({mode:"visible",children:n.children},s,0,null),i=ac(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&nd(t,e.child,null,o),t.child.memoizedState=_j(o),t.memoizedState=jj,i);if(!(t.mode&1))return Gp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(xe(419)),n=bw(i,n,void 0),Gp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Hn||l){if(n=en,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ui(e,s),ba(n,e,s,-1))}return HS(),n=bw(Error(xe(421))),Gp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Hz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,fs=Yo(s.nextSibling),hs=t,or=!0,ha=null,e!==null&&(Ps[Os++]=Si,Ps[Os++]=Ni,Ps[Os++]=uc,Si=e.id,Ni=e.overflow,uc=t),t=qS(t,n.children),t.flags|=4096,t)}function C2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),gj(e.return,t,r)}function ww(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function b4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Pn(e,t,n.children,r),n=ur.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&C2(e,r,t);else if(e.tag===19)C2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Xt(ur,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&mv(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),ww(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&mv(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}ww(t,!0,r,null,i);break;case"together":ww(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qi(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),fc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(xe(153));if(t.child!==null){for(e=t.child,r=Zo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $z(e,t,r){switch(t.tag){case 3:y4(t),rd();break;case 5:K$(t);break;case 1:Qn(t.type)&&lv(t);break;case 4:RS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Xt(dv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Xt(ur,ur.current&1),t.flags|=128,null):r&t.child.childLanes?x4(e,t,r):(Xt(ur,ur.current&1),e=qi(e,t,r),e!==null?e.sibling:null);Xt(ur,ur.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return b4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Xt(ur,ur.current),n)break;return null;case 22:case 23:return t.lanes=0,g4(e,t,r)}return qi(e,t,r)}var w4,Sj,j4,_4;w4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sj=function(){};j4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Fl(Qa.current);var i=null;switch(r){case"input":s=K0(e,s),n=K0(e,n),i=[];break;case"select":s=pr({},s,{value:void 0}),n=pr({},n,{value:void 0}),i=[];break;case"textarea":s=Y0(e,s),n=Y0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=iv)}X0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Rh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Rh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&er("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};_4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Rf(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Iz(e,t,r){var n=t.pendingProps;switch(kS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(t),null;case 1:return Qn(t.type)&&ov(),pn(t),null;case 3:return n=t.stateNode,sd(),nr(Yn),nr(Nn),$S(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ha!==null&&(Tj(ha),ha=null))),Sj(e,t),pn(t),null;case 5:MS(t);var s=Fl(Vh.current);if(r=t.type,e!==null&&t.stateNode!=null)j4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(xe(166));return pn(t),null}if(e=Fl(Qa.current),Kp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[za]=t,n[zh]=i,e=(t.mode&1)!==0,r){case"dialog":er("cancel",n),er("close",n);break;case"iframe":case"object":case"embed":er("load",n);break;case"video":case"audio":for(s=0;s<ah.length;s++)er(ah[s],n);break;case"source":er("error",n);break;case"img":case"image":case"link":er("error",n),er("load",n);break;case"details":er("toggle",n);break;case"input":IC(n,i),er("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},er("invalid",n);break;case"textarea":LC(n,i),er("invalid",n)}X0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vp(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vp(n.textContent,l,e),s=["children",""+l]):Rh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&er("scroll",n)}switch(r){case"input":Dp(n),DC(n,i,!0);break;case"textarea":Dp(n),FC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=iv)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[za]=t,e[zh]=n,w4(e,t,!1,!1),t.stateNode=e;e:{switch(o=J0(r,n),r){case"dialog":er("cancel",e),er("close",e),s=n;break;case"iframe":case"object":case"embed":er("load",e),s=n;break;case"video":case"audio":for(s=0;s<ah.length;s++)er(ah[s],e);s=n;break;case"source":er("error",e),s=n;break;case"img":case"image":case"link":er("error",e),er("load",e),s=n;break;case"details":er("toggle",e),s=n;break;case"input":IC(e,n),s=K0(e,n),er("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=pr({},n,{value:void 0}),er("invalid",e);break;case"textarea":LC(e,n),s=Y0(e,n),er("invalid",e);break;default:s=n}X0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?e$(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Mh(e,c):typeof c=="number"&&Mh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&er("scroll",e):c!=null&&dS(e,i,c,o))}switch(r){case"input":Dp(e),DC(e,n,!1);break;case"textarea":Dp(e),FC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+al(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Eu(e,!!n.multiple,i,!1):n.defaultValue!=null&&Eu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=iv)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pn(t),null;case 6:if(e&&t.stateNode!=null)_4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(xe(166));if(r=Fl(Vh.current),Fl(Qa.current),Kp(t)){if(n=t.stateNode,r=t.memoizedProps,n[za]=t,(i=n.nodeValue!==r)&&(e=hs,e!==null))switch(e.tag){case 3:Vp(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vp(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[za]=t,t.stateNode=n}return pn(t),null;case 13:if(nr(ur),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(or&&fs!==null&&t.mode&1&&!(t.flags&128))q$(),rd(),t.flags|=98560,i=!1;else if(i=Kp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(xe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(xe(317));i[za]=t}else rd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pn(t),i=!1}else ha!==null&&(Tj(ha),ha=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ur.current&1?Vr===0&&(Vr=3):HS())),t.updateQueue!==null&&(t.flags|=4),pn(t),null);case 4:return sd(),Sj(e,t),e===null&&qh(t.stateNode.containerInfo),pn(t),null;case 10:return OS(t.type._context),pn(t),null;case 17:return Qn(t.type)&&ov(),pn(t),null;case 19:if(nr(ur),i=t.memoizedState,i===null)return pn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Rf(i,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=mv(e),o!==null){for(t.flags|=128,Rf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Xt(ur,ur.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>id&&(t.flags|=128,n=!0,Rf(i,!1),t.lanes=4194304)}else{if(!n)if(e=mv(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Rf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!or)return pn(t),null}else 2*br()-i.renderingStartTime>id&&r!==1073741824&&(t.flags|=128,n=!0,Rf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=ur.current,Xt(ur,n?r&1|2:r&1),t):(pn(t),null);case 22:case 23:return KS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?as&1073741824&&(pn(t),t.subtreeFlags&6&&(t.flags|=8192)):pn(t),null;case 24:return null;case 25:return null}throw Error(xe(156,t.tag))}function Dz(e,t){switch(kS(t),t.tag){case 1:return Qn(t.type)&&ov(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return sd(),nr(Yn),nr(Nn),$S(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return MS(t),null;case 13:if(nr(ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(xe(340));rd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(ur),null;case 4:return sd(),null;case 10:return OS(t.type._context),null;case 22:case 23:return KS(),null;case 24:return null;default:return null}}var Yp=!1,xn=!1,Lz=typeof WeakSet=="function"?WeakSet:Set,De=null;function ju(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){yr(e,t,n)}else r.current=null}function Nj(e,t,r){try{r()}catch(n){yr(e,t,n)}}var E2=!1;function Fz(e,t){if(lj=nv,e=E$(),SS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cj={focusedElem:e,selectionRange:r},nv=!1,De=t;De!==null;)if(t=De,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,De=e;else for(;De!==null;){t=De;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:ia(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(xe(163))}}catch(_){yr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,De=e;break}De=t.return}return g=E2,E2=!1,g}function bh(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Nj(t,r,i)}s=s.next}while(s!==n)}}function fx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function kj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function S4(e){var t=e.alternate;t!==null&&(e.alternate=null,S4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[za],delete t[zh],delete t[fj],delete t[wz],delete t[jz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function N4(e){return e.tag===5||e.tag===3||e.tag===4}function P2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||N4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=iv));else if(n!==4&&(e=e.child,e!==null))for(Cj(e,t,r),e=e.sibling;e!==null;)Cj(e,t,r),e=e.sibling}function Ej(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ej(e,t,r),e=e.sibling;e!==null;)Ej(e,t,r),e=e.sibling}var on=null,ua=!1;function ho(e,t,r){for(r=r.child;r!==null;)k4(e,t,r),r=r.sibling}function k4(e,t,r){if(Ya&&typeof Ya.onCommitFiberUnmount=="function")try{Ya.onCommitFiberUnmount(sx,r)}catch{}switch(r.tag){case 5:xn||ju(r,t);case 6:var n=on,s=ua;on=null,ho(e,t,r),on=n,ua=s,on!==null&&(ua?(e=on,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):on.removeChild(r.stateNode));break;case 18:on!==null&&(ua?(e=on,r=r.stateNode,e.nodeType===8?mw(e.parentNode,r):e.nodeType===1&&mw(e,r),Lh(e)):mw(on,r.stateNode));break;case 4:n=on,s=ua,on=r.stateNode.containerInfo,ua=!0,ho(e,t,r),on=n,ua=s;break;case 0:case 11:case 14:case 15:if(!xn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Nj(r,t,o),s=s.next}while(s!==n)}ho(e,t,r);break;case 1:if(!xn&&(ju(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){yr(r,t,l)}ho(e,t,r);break;case 21:ho(e,t,r);break;case 22:r.mode&1?(xn=(n=xn)||r.memoizedState!==null,ho(e,t,r),xn=n):ho(e,t,r);break;default:ho(e,t,r)}}function O2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Lz),t.forEach(function(n){var s=Gz.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ea(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:on=l.stateNode,ua=!1;break e;case 3:on=l.stateNode.containerInfo,ua=!0;break e;case 4:on=l.stateNode.containerInfo,ua=!0;break e}l=l.return}if(on===null)throw Error(xe(160));k4(i,o,s),on=null,ua=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){yr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)C4(t,e),t=t.sibling}function C4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ea(t,e),Da(e),n&4){try{bh(3,e,e.return),fx(3,e)}catch(p){yr(e,e.return,p)}try{bh(5,e,e.return)}catch(p){yr(e,e.return,p)}}break;case 1:ea(t,e),Da(e),n&512&&r!==null&&ju(r,r.return);break;case 5:if(ea(t,e),Da(e),n&512&&r!==null&&ju(r,r.return),e.flags&32){var s=e.stateNode;try{Mh(s,"")}catch(p){yr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&YM(s,i),J0(l,o);var u=J0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?e$(s,f):d==="dangerouslySetInnerHTML"?JM(s,f):d==="children"?Mh(s,f):dS(s,d,f,u)}switch(l){case"input":H0(s,i);break;case"textarea":QM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Eu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Eu(s,!!i.multiple,i.defaultValue,!0):Eu(s,!!i.multiple,i.multiple?[]:"",!1))}s[zh]=i}catch(p){yr(e,e.return,p)}}break;case 6:if(ea(t,e),Da(e),n&4){if(e.stateNode===null)throw Error(xe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){yr(e,e.return,p)}}break;case 3:if(ea(t,e),Da(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Lh(t.containerInfo)}catch(p){yr(e,e.return,p)}break;case 4:ea(t,e),Da(e);break;case 13:ea(t,e),Da(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(WS=br())),n&4&&O2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(xn=(u=xn)||d,ea(t,e),xn=u):ea(t,e),Da(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(De=e,d=e.child;d!==null;){for(f=De=d;De!==null;){switch(h=De,m=h.child,h.tag){case 0:case 11:case 14:case 15:bh(4,h,h.return);break;case 1:ju(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){yr(n,r,p)}}break;case 5:ju(h,h.return);break;case 22:if(h.memoizedState!==null){T2(f);continue}}m!==null?(m.return=h,De=m):T2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZM("display",o))}catch(p){yr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){yr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ea(t,e),Da(e),n&4&&O2(e);break;case 21:break;default:ea(t,e),Da(e)}}function Da(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(N4(r)){var n=r;break e}r=r.return}throw Error(xe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Mh(s,""),n.flags&=-33);var i=P2(e);Ej(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=P2(e);Cj(e,l,o);break;default:throw Error(xe(161))}}catch(c){yr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Uz(e,t,r){De=e,E4(e)}function E4(e,t,r){for(var n=(e.mode&1)!==0;De!==null;){var s=De,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Yp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||xn;l=Yp;var u=xn;if(Yp=o,(xn=c)&&!u)for(De=s;De!==null;)o=De,c=o.child,o.tag===22&&o.memoizedState!==null?R2(s):c!==null?(c.return=o,De=c):R2(s);for(;i!==null;)De=i,E4(i),i=i.sibling;De=s,Yp=l,xn=u}A2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,De=i):A2(e)}}function A2(e){for(;De!==null;){var t=De;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xn||fx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!xn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ia(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&p2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}p2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Lh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(xe(163))}xn||t.flags&512&&kj(t)}catch(h){yr(t,t.return,h)}}if(t===e){De=null;break}if(r=t.sibling,r!==null){r.return=t.return,De=r;break}De=t.return}}function T2(e){for(;De!==null;){var t=De;if(t===e){De=null;break}var r=t.sibling;if(r!==null){r.return=t.return,De=r;break}De=t.return}}function R2(e){for(;De!==null;){var t=De;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fx(4,t)}catch(c){yr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){yr(t,s,c)}}var i=t.return;try{kj(t)}catch(c){yr(t,i,c)}break;case 5:var o=t.return;try{kj(t)}catch(c){yr(t,o,c)}}}catch(c){yr(t,t.return,c)}if(t===e){De=null;break}var l=t.sibling;if(l!==null){l.return=t.return,De=l;break}De=t.return}}var qz=Math.ceil,vv=Qi.ReactCurrentDispatcher,BS=Qi.ReactCurrentOwner,$s=Qi.ReactCurrentBatchConfig,_t=0,en=null,Mr=null,dn=0,as=0,_u=fl(0),Vr=0,Yh=null,fc=0,hx=0,zS=0,wh=null,Kn=null,WS=0,id=1/0,gi=null,yv=!1,Pj=null,Xo=null,Qp=!1,qo=null,xv=0,jh=0,Oj=null,zg=-1,Wg=0;function Rn(){return _t&6?br():zg!==-1?zg:zg=br()}function Jo(e){return e.mode&1?_t&2&&dn!==0?dn&-dn:Sz.transition!==null?(Wg===0&&(Wg=f$()),Wg):(e=Lt,e!==0||(e=window.event,e=e===void 0?16:x$(e.type)),e):1}function ba(e,t,r,n){if(50<jh)throw jh=0,Oj=null,Error(xe(185));tp(e,r,n),(!(_t&2)||e!==en)&&(e===en&&(!(_t&2)&&(hx|=r),Vr===4&&Co(e,dn)),Xn(e,n),r===1&&_t===0&&!(t.mode&1)&&(id=br()+500,cx&&hl()))}function Xn(e,t){var r=e.callbackNode;S8(e,t);var n=rv(e,e===en?dn:0);if(n===0)r!==null&&BC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&BC(r),t===1)e.tag===0?_z(M2.bind(null,e)):L$(M2.bind(null,e)),xz(function(){!(_t&6)&&hl()}),r=null;else{switch(h$(n)){case 1:r=gS;break;case 4:r=u$;break;case 16:r=tv;break;case 536870912:r=d$;break;default:r=tv}r=I4(r,P4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function P4(e,t){if(zg=-1,Wg=0,_t&6)throw Error(xe(327));var r=e.callbackNode;if(Ru()&&e.callbackNode!==r)return null;var n=rv(e,e===en?dn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=bv(e,n);else{t=n;var s=_t;_t|=2;var i=A4();(en!==e||dn!==t)&&(gi=null,id=br()+500,sc(e,t));do try{Wz();break}catch(l){O4(e,l)}while(!0);PS(),vv.current=i,_t=s,Mr!==null?t=0:(en=null,dn=0,t=Vr)}if(t!==0){if(t===2&&(s=nj(e),s!==0&&(n=s,t=Aj(e,s))),t===1)throw r=Yh,sc(e,0),Co(e,n),Xn(e,br()),r;if(t===6)Co(e,n);else{if(s=e.current.alternate,!(n&30)&&!Bz(s)&&(t=bv(e,n),t===2&&(i=nj(e),i!==0&&(n=i,t=Aj(e,i))),t===1))throw r=Yh,sc(e,0),Co(e,n),Xn(e,br()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(xe(345));case 2:El(e,Kn,gi);break;case 3:if(Co(e,n),(n&130023424)===n&&(t=WS+500-br(),10<t)){if(rv(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Rn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=dj(El.bind(null,e,Kn,gi),t);break}El(e,Kn,gi);break;case 4:if(Co(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-xa(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qz(n/1960))-n,10<n){e.timeoutHandle=dj(El.bind(null,e,Kn,gi),n);break}El(e,Kn,gi);break;case 5:El(e,Kn,gi);break;default:throw Error(xe(329))}}}return Xn(e,br()),e.callbackNode===r?P4.bind(null,e):null}function Aj(e,t){var r=wh;return e.current.memoizedState.isDehydrated&&(sc(e,t).flags|=256),e=bv(e,t),e!==2&&(t=Kn,Kn=r,t!==null&&Tj(t)),e}function Tj(e){Kn===null?Kn=e:Kn.push.apply(Kn,e)}function Bz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Na(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Co(e,t){for(t&=~zS,t&=~hx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xa(t),n=1<<r;e[r]=-1,t&=~n}}function M2(e){if(_t&6)throw Error(xe(327));Ru();var t=rv(e,0);if(!(t&1))return Xn(e,br()),null;var r=bv(e,t);if(e.tag!==0&&r===2){var n=nj(e);n!==0&&(t=n,r=Aj(e,n))}if(r===1)throw r=Yh,sc(e,0),Co(e,t),Xn(e,br()),r;if(r===6)throw Error(xe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Kn,gi),Xn(e,br()),null}function VS(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(id=br()+500,cx&&hl())}}function hc(e){qo!==null&&qo.tag===0&&!(_t&6)&&Ru();var t=_t;_t|=1;var r=$s.transition,n=Lt;try{if($s.transition=null,Lt=1,e)return e()}finally{Lt=n,$s.transition=r,_t=t,!(_t&6)&&hl()}}function KS(){as=_u.current,nr(_u)}function sc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,yz(r)),Mr!==null)for(r=Mr.return;r!==null;){var n=r;switch(kS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ov();break;case 3:sd(),nr(Yn),nr(Nn),$S();break;case 5:MS(n);break;case 4:sd();break;case 13:nr(ur);break;case 19:nr(ur);break;case 10:OS(n.type._context);break;case 22:case 23:KS()}r=r.return}if(en=e,Mr=e=Zo(e.current,null),dn=as=t,Vr=0,Yh=null,zS=hx=fc=0,Kn=wh=null,Ll!==null){for(t=0;t<Ll.length;t++)if(r=Ll[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ll=null}return e}function O4(e,t){do{var r=Mr;try{if(PS(),Ug.current=gv,pv){for(var n=hr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}pv=!1}if(dc=0,Jr=qr=hr=null,xh=!1,Kh=0,BS.current=null,r===null||r.return===null){Vr=1,Yh=t,Mr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=dn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=w2(o);if(m!==null){m.flags&=-257,j2(m,o,l,i,t),m.mode&1&&b2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){b2(i,u,t),HS();break e}c=Error(xe(426))}}else if(or&&l.mode&1){var x=w2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),j2(x,o,l,i,t),CS(ad(c,l));break e}}i=c=ad(c,l),Vr!==4&&(Vr=2),wh===null?wh=[i]:wh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=h4(i,c,t);m2(i,b);break e;case 1:l=c;var y=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Xo===null||!Xo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=m4(i,l,t);m2(i,_);break e}}i=i.return}while(i!==null)}R4(r)}catch(j){t=j,Mr===r&&r!==null&&(Mr=r=r.return);continue}break}while(!0)}function A4(){var e=vv.current;return vv.current=gv,e===null?gv:e}function HS(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),en===null||!(fc&268435455)&&!(hx&268435455)||Co(en,dn)}function bv(e,t){var r=_t;_t|=2;var n=A4();(en!==e||dn!==t)&&(gi=null,sc(e,t));do try{zz();break}catch(s){O4(e,s)}while(!0);if(PS(),_t=r,vv.current=n,Mr!==null)throw Error(xe(261));return en=null,dn=0,Vr}function zz(){for(;Mr!==null;)T4(Mr)}function Wz(){for(;Mr!==null&&!p8();)T4(Mr)}function T4(e){var t=$4(e.alternate,e,as);e.memoizedProps=e.pendingProps,t===null?R4(e):Mr=t,BS.current=null}function R4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dz(r,t),r!==null){r.flags&=32767,Mr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,Mr=null;return}}else if(r=Iz(r,t,as),r!==null){Mr=r;return}if(t=t.sibling,t!==null){Mr=t;return}Mr=t=e}while(t!==null);Vr===0&&(Vr=5)}function El(e,t,r){var n=Lt,s=$s.transition;try{$s.transition=null,Lt=1,Vz(e,t,r,n)}finally{$s.transition=s,Lt=n}return null}function Vz(e,t,r,n){do Ru();while(qo!==null);if(_t&6)throw Error(xe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(xe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(N8(e,i),e===en&&(Mr=en=null,dn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qp||(Qp=!0,I4(tv,function(){return Ru(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=$s.transition,$s.transition=null;var o=Lt;Lt=1;var l=_t;_t|=4,BS.current=null,Fz(e,r),C4(r,e),dz(cj),nv=!!lj,cj=lj=null,e.current=r,Uz(r),g8(),_t=l,Lt=o,$s.transition=i}else e.current=r;if(Qp&&(Qp=!1,qo=e,xv=s),i=e.pendingLanes,i===0&&(Xo=null),x8(r.stateNode),Xn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(yv)throw yv=!1,e=Pj,Pj=null,e;return xv&1&&e.tag!==0&&Ru(),i=e.pendingLanes,i&1?e===Oj?jh++:(jh=0,Oj=e):jh=0,hl(),null}function Ru(){if(qo!==null){var e=h$(xv),t=$s.transition,r=Lt;try{if($s.transition=null,Lt=16>e?16:e,qo===null)var n=!1;else{if(e=qo,qo=null,xv=0,_t&6)throw Error(xe(331));var s=_t;for(_t|=4,De=e.current;De!==null;){var i=De,o=i.child;if(De.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(De=u;De!==null;){var d=De;switch(d.tag){case 0:case 11:case 15:bh(8,d,i)}var f=d.child;if(f!==null)f.return=d,De=f;else for(;De!==null;){d=De;var h=d.sibling,m=d.return;if(S4(d),d===u){De=null;break}if(h!==null){h.return=m,De=h;break}De=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}De=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,De=o;else e:for(;De!==null;){if(i=De,i.flags&2048)switch(i.tag){case 0:case 11:case 15:bh(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,De=b;break e}De=i.return}}var y=e.current;for(De=y;De!==null;){o=De;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,De=w;else e:for(o=y;De!==null;){if(l=De,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fx(9,l)}}catch(j){yr(l,l.return,j)}if(l===o){De=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,De=_;break e}De=l.return}}if(_t=s,hl(),Ya&&typeof Ya.onPostCommitFiberRoot=="function")try{Ya.onPostCommitFiberRoot(sx,e)}catch{}n=!0}return n}finally{Lt=r,$s.transition=t}}return!1}function $2(e,t,r){t=ad(r,t),t=h4(e,t,1),e=Qo(e,t,1),t=Rn(),e!==null&&(tp(e,1,t),Xn(e,t))}function yr(e,t,r){if(e.tag===3)$2(e,e,r);else for(;t!==null;){if(t.tag===3){$2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xo===null||!Xo.has(n))){e=ad(r,e),e=m4(t,e,1),t=Qo(t,e,1),e=Rn(),t!==null&&(tp(t,1,e),Xn(t,e));break}}t=t.return}}function Kz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Rn(),e.pingedLanes|=e.suspendedLanes&r,en===e&&(dn&r)===r&&(Vr===4||Vr===3&&(dn&130023424)===dn&&500>br()-WS?sc(e,0):zS|=r),Xn(e,t)}function M4(e,t){t===0&&(e.mode&1?(t=Up,Up<<=1,!(Up&130023424)&&(Up=4194304)):t=1);var r=Rn();e=Ui(e,t),e!==null&&(tp(e,t,r),Xn(e,r))}function Hz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),M4(e,r)}function Gz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(xe(314))}n!==null&&n.delete(t),M4(e,r)}var $4;$4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Yn.current)Hn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Hn=!1,$z(e,t,r);Hn=!!(e.flags&131072)}else Hn=!1,or&&t.flags&1048576&&F$(t,uv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Bg(e,t),e=t.pendingProps;var s=td(t,Nn.current);Tu(t,r),s=DS(null,t,n,e,s,r);var i=LS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qn(n)?(i=!0,lv(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,TS(t),s.updater=dx,t.stateNode=s,s._reactInternals=t,yj(t,n,e,r),t=wj(null,t,n,!0,i,r)):(t.tag=0,or&&i&&NS(t),Pn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Bg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Qz(n),e=ia(n,e),s){case 0:t=bj(null,t,n,e,r);break e;case 1:t=N2(null,t,n,e,r);break e;case 11:t=_2(null,t,n,e,r);break e;case 14:t=S2(null,t,n,ia(n.type,e),r);break e}throw Error(xe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ia(n,s),bj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ia(n,s),N2(e,t,n,s,r);case 3:e:{if(y4(t),e===null)throw Error(xe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,V$(e,t),hv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=ad(Error(xe(423)),t),t=k2(e,t,n,r,s);break e}else if(n!==s){s=ad(Error(xe(424)),t),t=k2(e,t,n,r,s);break e}else for(fs=Yo(t.stateNode.containerInfo.firstChild),hs=t,or=!0,ha=null,r=z$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rd(),n===s){t=qi(e,t,r);break e}Pn(e,t,n,r)}t=t.child}return t;case 5:return K$(t),e===null&&pj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,uj(n,s)?o=null:i!==null&&uj(n,i)&&(t.flags|=32),v4(e,t),Pn(e,t,o,r),t.child;case 6:return e===null&&pj(t),null;case 13:return x4(e,t,r);case 4:return RS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=nd(t,null,n,r):Pn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ia(n,s),_2(e,t,n,s,r);case 7:return Pn(e,t,t.pendingProps,r),t.child;case 8:return Pn(e,t,t.pendingProps.children,r),t.child;case 12:return Pn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Xt(dv,n._currentValue),n._currentValue=o,i!==null)if(Na(i.value,o)){if(i.children===s.children&&!Yn.current){t=qi(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Oi(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),gj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(xe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),gj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Tu(t,r),s=qs(s),n=n(s),t.flags|=1,Pn(e,t,n,r),t.child;case 14:return n=t.type,s=ia(n,t.pendingProps),s=ia(n.type,s),S2(e,t,n,s,r);case 15:return p4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ia(n,s),Bg(e,t),t.tag=1,Qn(n)?(e=!0,lv(t)):e=!1,Tu(t,r),f4(t,n,s),yj(t,n,s,r),wj(null,t,n,!0,e,r);case 19:return b4(e,t,r);case 22:return g4(e,t,r)}throw Error(xe(156,t.tag))};function I4(e,t){return c$(e,t)}function Yz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rs(e,t,r,n){return new Yz(e,t,r,n)}function GS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qz(e){if(typeof e=="function")return GS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hS)return 11;if(e===mS)return 14}return 2}function Zo(e,t){var r=e.alternate;return r===null?(r=Rs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")GS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hu:return ac(r.children,s,i,t);case fS:o=8,s|=8;break;case B0:return e=Rs(12,r,t,s|2),e.elementType=B0,e.lanes=i,e;case z0:return e=Rs(13,r,t,s),e.elementType=z0,e.lanes=i,e;case W0:return e=Rs(19,r,t,s),e.elementType=W0,e.lanes=i,e;case KM:return mx(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WM:o=10;break e;case VM:o=9;break e;case hS:o=11;break e;case mS:o=14;break e;case wo:o=16,n=null;break e}throw Error(xe(130,e==null?e:typeof e,""))}return t=Rs(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ac(e,t,r,n){return e=Rs(7,e,n,t),e.lanes=r,e}function mx(e,t,r,n){return e=Rs(22,e,n,t),e.elementType=KM,e.lanes=r,e.stateNode={isHidden:!1},e}function jw(e,t,r){return e=Rs(6,e,null,t),e.lanes=r,e}function _w(e,t,r){return t=Rs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nw(0),this.expirationTimes=nw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nw(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function YS(e,t,r,n,s,i,o,l,c){return e=new Xz(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Rs(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},TS(i),e}function Jz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fu,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function D4(e){if(!e)return il;e=e._reactInternals;e:{if(Rc(e)!==e||e.tag!==1)throw Error(xe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(xe(171))}if(e.tag===1){var r=e.type;if(Qn(r))return D$(e,r,t)}return t}function L4(e,t,r,n,s,i,o,l,c){return e=YS(r,n,!0,e,s,i,o,l,c),e.context=D4(null),r=e.current,n=Rn(),s=Jo(r),i=Oi(n,s),i.callback=t??null,Qo(r,i,s),e.current.lanes=s,tp(e,s,n),Xn(e,n),e}function px(e,t,r,n){var s=t.current,i=Rn(),o=Jo(s);return r=D4(r),t.context===null?t.context=r:t.pendingContext=r,t=Oi(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Qo(s,t,o),e!==null&&(ba(e,s,o,i),Fg(e,s,o)),o}function wv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function I2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function QS(e,t){I2(e,t),(e=e.alternate)&&I2(e,t)}function Zz(){return null}var F4=typeof reportError=="function"?reportError:function(e){console.error(e)};function XS(e){this._internalRoot=e}gx.prototype.render=XS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(xe(409));px(e,t,null,null)};gx.prototype.unmount=XS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hc(function(){px(null,e,null,null)}),t[Fi]=null}};function gx(e){this._internalRoot=e}gx.prototype.unstable_scheduleHydration=function(e){if(e){var t=g$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ko.length&&t!==0&&t<ko[r].priority;r++);ko.splice(r,0,e),r===0&&y$(e)}};function JS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function D2(){}function eW(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=wv(o);i.call(u)}}var o=L4(t,n,e,0,null,!1,!1,"",D2);return e._reactRootContainer=o,e[Fi]=o.current,qh(e.nodeType===8?e.parentNode:e),hc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=wv(c);l.call(u)}}var c=YS(e,0,!1,null,null,!1,!1,"",D2);return e._reactRootContainer=c,e[Fi]=c.current,qh(e.nodeType===8?e.parentNode:e),hc(function(){px(t,c,r,n)}),c}function yx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=wv(o);l.call(c)}}px(t,o,e,s)}else o=eW(r,t,e,s,n);return wv(o)}m$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sh(t.pendingLanes);r!==0&&(vS(t,r|1),Xn(t,br()),!(_t&6)&&(id=br()+500,hl()))}break;case 13:hc(function(){var n=Ui(e,1);if(n!==null){var s=Rn();ba(n,e,1,s)}}),QS(e,1)}};yS=function(e){if(e.tag===13){var t=Ui(e,134217728);if(t!==null){var r=Rn();ba(t,e,134217728,r)}QS(e,134217728)}};p$=function(e){if(e.tag===13){var t=Jo(e),r=Ui(e,t);if(r!==null){var n=Rn();ba(r,e,t,n)}QS(e,t)}};g$=function(){return Lt};v$=function(e,t){var r=Lt;try{return Lt=e,t()}finally{Lt=r}};ej=function(e,t,r){switch(t){case"input":if(H0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=lx(n);if(!s)throw Error(xe(90));GM(n),H0(n,s)}}}break;case"textarea":QM(e,r);break;case"select":t=r.value,t!=null&&Eu(e,!!r.multiple,t,!1)}};n$=VS;s$=hc;var tW={usingClientEntryPoint:!1,Events:[np,vu,lx,t$,r$,VS]},Mf={findFiberByHostInstance:Dl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},rW={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o$(e),e===null?null:e.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||Zz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{sx=Xp.inject(rW),Ya=Xp}catch{}}bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tW;bs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!JS(t))throw Error(xe(200));return Jz(e,t,null,r)};bs.createRoot=function(e,t){if(!JS(e))throw Error(xe(299));var r=!1,n="",s=F4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=YS(e,1,!1,null,null,r,!1,n,s),e[Fi]=t.current,qh(e.nodeType===8?e.parentNode:e),new XS(t)};bs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(xe(188)):(e=Object.keys(e).join(","),Error(xe(268,e)));return e=o$(t),e=e===null?null:e.stateNode,e};bs.flushSync=function(e){return hc(e)};bs.hydrate=function(e,t,r){if(!vx(t))throw Error(xe(200));return yx(null,e,t,!0,r)};bs.hydrateRoot=function(e,t,r){if(!JS(e))throw Error(xe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=F4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=L4(t,null,e,1,r??null,s,!1,i,o),e[Fi]=t.current,qh(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new gx(t)};bs.render=function(e,t,r){if(!vx(t))throw Error(xe(200));return yx(null,e,t,!1,r)};bs.unmountComponentAtNode=function(e){if(!vx(e))throw Error(xe(40));return e._reactRootContainer?(hc(function(){yx(null,null,e,!1,function(){e._reactRootContainer=null,e[Fi]=null})}),!0):!1};bs.unstable_batchedUpdates=VS;bs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vx(r))throw Error(xe(200));if(e==null||e._reactInternals===void 0)throw Error(xe(38));return yx(e,t,r,!1,n)};bs.version="18.3.1-next-f1338f8080-20240426";function U4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(U4)}catch(e){console.error(e)}}U4(),UM.exports=bs;var Yd=UM.exports;const q4=zt(Yd);var L2=Yd;U0.createRoot=L2.createRoot,U0.hydrateRoot=L2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qh(){return Qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qh.apply(this,arguments)}var Bo;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Bo||(Bo={}));const F2="popstate";function nW(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Rj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:jv(s)}return aW(t,r,null,e)}function mr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ZS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function sW(){return Math.random().toString(36).substr(2,8)}function U2(e,t){return{usr:e.state,key:e.key,idx:t}}function Rj(e,t,r,n){return r===void 0&&(r=null),Qh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Qd(t):t,{state:r,key:t&&t.key||n||sW()})}function jv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Qd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function aW(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Bo.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Qh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Bo.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:b})}function h(x,b){l=Bo.Push;let y=Rj(p.location,x,b);u=d()+1;let w=U2(y,u),_=p.createHref(y);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=Bo.Replace;let y=Rj(p.location,x,b);u=d();let w=U2(y,u),_=p.createHref(y);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof x=="string"?x:jv(x);return y=y.replace(/ $/,"%20"),mr(b,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,b)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(F2,f),c=x,()=>{s.removeEventListener(F2,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var q2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(q2||(q2={}));function iW(e,t,r){return r===void 0&&(r="/"),oW(e,t,r)}function oW(e,t,r,n){let s=typeof t=="string"?Qd(t):t,i=od(s.pathname||"/",r);if(i==null)return null;let o=B4(e);lW(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=xW(i);l=vW(o[c],u)}return l}function B4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(mr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=el([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(mr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),B4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:pW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of z4(i.path))s(i,o,c)}),t}function z4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=z4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function lW(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:gW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const cW=/^:[\w-]+$/,uW=3,dW=2,fW=1,hW=10,mW=-2,B2=e=>e==="*";function pW(e,t){let r=e.split("/"),n=r.length;return r.some(B2)&&(n+=mW),t&&(n+=dW),r.filter(s=>!B2(s)).reduce((s,i)=>s+(cW.test(i)?uW:i===""?fW:hW),n)}function gW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function vW(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=Mj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:el([i,f.pathname]),pathnameBase:SW(el([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=el([i,f.pathnameBase]))}return o}function Mj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yW(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function yW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),ZS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function xW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ZS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const bW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wW=e=>bW.test(e);function jW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Qd(e):e,i;if(r)if(wW(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ZS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=z2(r.substring(1),"/"):i=z2(r,t)}else i=t;return{pathname:i,search:NW(n),hash:kW(s)}}function z2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _W(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function eN(e,t){let r=_W(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function tN(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Qd(e):(s=Qh({},e),mr(!s.pathname||!s.pathname.includes("?"),Sw("?","pathname","search",s)),mr(!s.pathname||!s.pathname.includes("#"),Sw("#","pathname","hash",s)),mr(!s.search||!s.search.includes("#"),Sw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=jW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const el=e=>e.join("/").replace(/\/\/+/g,"/"),SW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),NW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function CW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const W4=["post","put","patch","delete"];new Set(W4);const EW=["get",...W4];new Set(EW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xh(){return Xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xh.apply(this,arguments)}const xx=v.createContext(null),V4=v.createContext(null),Xi=v.createContext(null),bx=v.createContext(null),ai=v.createContext({outlet:null,matches:[],isDataRoute:!1}),K4=v.createContext(null);function PW(e,t){let{relative:r}=t===void 0?{}:t;Xd()||mr(!1);let{basename:n,navigator:s}=v.useContext(Xi),{hash:i,pathname:o,search:l}=wx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:el([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Xd(){return v.useContext(bx)!=null}function ii(){return Xd()||mr(!1),v.useContext(bx).location}function H4(e){v.useContext(Xi).static||v.useLayoutEffect(e)}function Ji(){let{isDataRoute:e}=v.useContext(ai);return e?VW():OW()}function OW(){Xd()||mr(!1);let e=v.useContext(xx),{basename:t,future:r,navigator:n}=v.useContext(Xi),{matches:s}=v.useContext(ai),{pathname:i}=ii(),o=JSON.stringify(eN(s,r.v7_relativeSplatPath)),l=v.useRef(!1);return H4(()=>{l.current=!0}),v.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=tN(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:el([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const AW=v.createContext(null);function TW(e){let t=v.useContext(ai).outlet;return t&&v.createElement(AW.Provider,{value:e},t)}function RW(){let{matches:e}=v.useContext(ai),t=e[e.length-1];return t?t.params:{}}function wx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=v.useContext(Xi),{matches:s}=v.useContext(ai),{pathname:i}=ii(),o=JSON.stringify(eN(s,n.v7_relativeSplatPath));return v.useMemo(()=>tN(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function MW(e,t){return $W(e,t)}function $W(e,t,r,n){Xd()||mr(!1);let{navigator:s}=v.useContext(Xi),{matches:i}=v.useContext(ai),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ii(),d;if(t){var f;let x=typeof t=="string"?Qd(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||mr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=iW(e,{pathname:m}),p=UW(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:el([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:el([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?v.createElement(bx.Provider,{value:{location:Xh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bo.Pop}},p):p}function IW(){let e=WW(),t=CW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:s},r):null,null)}const DW=v.createElement(IW,null);class LW extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(ai.Provider,{value:this.props.routeContext},v.createElement(K4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function FW(e){let{routeContext:t,match:r,children:n}=e,s=v.useContext(xx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(ai.Provider,{value:t},n)}function UW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||mr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||DW,c&&(u<0&&h===0?(KW("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),y=()=>{let w;return m?w=p:g?w=x:f.route.Component?w=v.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,v.createElement(FW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?v.createElement(LW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:y(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):y()},null)}var G4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(G4||{}),Y4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y4||{});function qW(e){let t=v.useContext(xx);return t||mr(!1),t}function BW(e){let t=v.useContext(V4);return t||mr(!1),t}function zW(e){let t=v.useContext(ai);return t||mr(!1),t}function Q4(e){let t=zW(),r=t.matches[t.matches.length-1];return r.route.id||mr(!1),r.route.id}function WW(){var e;let t=v.useContext(K4),r=BW(),n=Q4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function VW(){let{router:e}=qW(G4.UseNavigateStable),t=Q4(Y4.UseNavigateStable),r=v.useRef(!1);return H4(()=>{r.current=!0}),v.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Xh({fromRouteId:t},i)))},[e,t])}const W2={};function KW(e,t,r){W2[e]||(W2[e]=!0)}function HW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function GW(e){let{to:t,replace:r,state:n,relative:s}=e;Xd()||mr(!1);let{future:i,static:o}=v.useContext(Xi),{matches:l}=v.useContext(ai),{pathname:c}=ii(),u=Ji(),d=tN(t,eN(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function X4(e){return TW(e.context)}function bt(e){mr(!1)}function YW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Bo.Pop,navigator:i,static:o=!1,future:l}=e;Xd()&&mr(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:i,static:o,future:Xh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Qd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=v.useMemo(()=>{let x=od(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:v.createElement(Xi.Provider,{value:u},v.createElement(bx.Provider,{children:r,value:p}))}function QW(e){let{children:t,location:r}=e;return MW($j(t),r)}new Promise(()=>{});function $j(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,s)=>{if(!v.isValidElement(n))return;let i=[...t,s];if(n.type===v.Fragment){r.push.apply(r,$j(n.props.children,i));return}n.type!==bt&&mr(!1),!n.props.index||!n.props.children||mr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$j(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_v.apply(this,arguments)}function J4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function XW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function JW(e,t){return e.button===0&&(!t||t==="_self")&&!XW(e)}function Ij(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function ZW(e,t){let r=Ij(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const eV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],tV=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],rV="6";try{window.__reactRouterVersion=rV}catch{}const nV=v.createContext({isTransitioning:!1}),sV="startTransition",V2=nx[sV];function aV(e){let{basename:t,children:r,future:n,window:s}=e,i=v.useRef();i.current==null&&(i.current=nW({window:s,v5Compat:!0}));let o=i.current,[l,c]=v.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=v.useCallback(f=>{u&&V2?V2(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>o.listen(d),[o,d]),v.useEffect(()=>HW(n),[n]),v.createElement(YW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const iV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=v.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=J4(t,eV),{basename:m}=v.useContext(Xi),g,p=!1;if(typeof u=="string"&&oV.test(u)&&(g=u,iV))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=od(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=PW(u,{relative:s}),b=cV(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function y(w){n&&n(w),w.defaultPrevented||b(w)}return v.createElement("a",_v({},h,{href:g||x,onClick:p||i?n:y,ref:r,target:c}))}),Z4=v.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=J4(t,tV),h=wx(c,{relative:f.relative}),m=ii(),g=v.useContext(V4),{navigator:p,basename:x}=v.useContext(Xi),b=g!=null&&uV(h)&&u===!0,y=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&x&&(_=od(_,x)||_);const j=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let S=w===y||!o&&w.startsWith(y)&&w.charAt(j)==="/",N=_!=null&&(_===y||!o&&_.startsWith(y)&&_.charAt(y.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},C=S?n:void 0,O;typeof i=="function"?O=i(k):O=[i,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(k):l;return v.createElement(ue,_v({},f,{"aria-current":C,className:O,ref:r,style:D,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var Dj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dj||(Dj={}));var K2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(K2||(K2={}));function lV(e){let t=v.useContext(xx);return t||mr(!1),t}function cV(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ji(),u=ii(),d=wx(e,{relative:o});return v.useCallback(f=>{if(JW(f,r)){f.preventDefault();let h=n!==void 0?n:jv(u)===jv(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function eI(e){let t=v.useRef(Ij(e)),r=v.useRef(!1),n=ii(),s=v.useMemo(()=>ZW(n.search,r.current?null:t.current),[n.search]),i=Ji(),o=v.useCallback((l,c)=>{const u=Ij(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function uV(e,t){t===void 0&&(t={});let r=v.useContext(nV);r==null&&mr(!1);let{basename:n}=lV(Dj.useViewTransitionState),s=wx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=od(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=od(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Mj(s.pathname,o)!=null||Mj(s.pathname,i)!=null}var Jd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dV={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ao,sS,yM,fV=(yM=class{constructor(){Ve(this,Ao,dV);Ve(this,sS,!1)}setTimeoutProvider(e){Ee(this,Ao,e)}setTimeout(e,t){return W(this,Ao).setTimeout(e,t)}clearTimeout(e){W(this,Ao).clearTimeout(e)}setInterval(e,t){return W(this,Ao).setInterval(e,t)}clearInterval(e){W(this,Ao).clearInterval(e)}},Ao=new WeakMap,sS=new WeakMap,yM),Ul=new fV;function hV(e){setTimeout(e,0)}var mc=typeof window>"u"||"Deno"in globalThis;function On(){}function mV(e,t){return typeof e=="function"?e(t):e}function Lj(e){return typeof e=="number"&&e>=0&&e!==1/0}function tI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function tl(e,t){return typeof e=="function"?e(t):e}function Cs(e,t){return typeof e=="function"?e(t):e}function H2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==rN(o,t.options))return!1}else if(!Jh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function G2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(pc(t.options.mutationKey)!==pc(i))return!1}else if(!Jh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function rN(e,t){return((t==null?void 0:t.queryKeyHashFn)||pc)(e)}function pc(e){return JSON.stringify(e,(t,r)=>Fj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Jh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jh(e[r],t[r])):!1}var pV=Object.prototype.hasOwnProperty;function rI(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=Y2(e)&&Y2(t);if(!n&&!(Fj(e)&&Fj(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:pV.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=rI(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function Sv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Y2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fj(e){if(!Q2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Q2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Q2(e){return Object.prototype.toString.call(e)==="[object Object]"}function gV(e){return new Promise(t=>{Ul.setTimeout(t,e)})}function Uj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?rI(e,t):t}function vV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function yV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var nN=Symbol();function nI(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===nN?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function sN(e,t){return typeof e=="function"?e(...t):!!e}function xV(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Yl,To,Bu,xM,bV=(xM=class extends Jd{constructor(){super();Ve(this,Yl);Ve(this,To);Ve(this,Bu);Ee(this,Bu,t=>{if(!mc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){W(this,To)||this.setEventListener(W(this,Bu))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,To))==null||t.call(this),Ee(this,To,void 0))}setEventListener(t){var r;Ee(this,Bu,t),(r=W(this,To))==null||r.call(this),Ee(this,To,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){W(this,Yl)!==t&&(Ee(this,Yl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof W(this,Yl)=="boolean"?W(this,Yl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Yl=new WeakMap,To=new WeakMap,Bu=new WeakMap,xM),aN=new bV;function qj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var wV=hV;function jV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=wV;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Br=jV(),zu,Ro,Wu,bM,_V=(bM=class extends Jd{constructor(){super();Ve(this,zu,!0);Ve(this,Ro);Ve(this,Wu);Ee(this,Wu,t=>{if(!mc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){W(this,Ro)||this.setEventListener(W(this,Wu))}onUnsubscribe(){var t;this.hasListeners()||((t=W(this,Ro))==null||t.call(this),Ee(this,Ro,void 0))}setEventListener(t){var r;Ee(this,Wu,t),(r=W(this,Ro))==null||r.call(this),Ee(this,Ro,t(this.setOnline.bind(this)))}setOnline(t){W(this,zu)!==t&&(Ee(this,zu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return W(this,zu)}},zu=new WeakMap,Ro=new WeakMap,Wu=new WeakMap,bM),Nv=new _V;function SV(e){return Math.min(1e3*2**e,3e4)}function sI(e){return(e??"online")==="online"?Nv.isOnline():!0}var Bj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function aI(e){let t=!1,r=0,n;const s=qj(),i=()=>s.status!=="pending",o=p=>{var x;if(!i()){const b=new Bj(p);h(b),(x=e.onCancel)==null||x.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>aN.isFocused()&&(e.networkMode==="always"||Nv.isOnline())&&e.canRun(),d=()=>sI(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var x;n=b=>{(i()||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(i())return;const y=e.retry??(mc?0:3),w=e.retryDelay??SV,_=typeof w=="function"?w(r,b):w,j=y===!0||typeof y=="number"&&r<y||typeof y=="function"&&y(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),gV(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Ql,wM,iI=(wM=class{constructor(){Ve(this,Ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lj(this.gcTime)&&Ee(this,Ql,Ul.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(mc?1/0:5*60*1e3))}clearGcTimeout(){W(this,Ql)&&(Ul.clearTimeout(W(this,Ql)),Ee(this,Ql,void 0))}},Ql=new WeakMap,wM),Xl,Vu,ks,Jl,Qr,Ym,Zl,la,pi,jM,NV=(jM=class extends iI{constructor(t){super();Ve(this,la);Ve(this,Xl);Ve(this,Vu);Ve(this,ks);Ve(this,Jl);Ve(this,Qr);Ve(this,Ym);Ve(this,Zl);Ee(this,Zl,!1),Ee(this,Ym,t.defaultOptions),this.setOptions(t.options),this.observers=[],Ee(this,Jl,t.client),Ee(this,ks,W(this,Jl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Ee(this,Xl,J2(this.options)),this.state=t.state??W(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=W(this,Qr))==null?void 0:t.promise}setOptions(t){if(this.options={...W(this,Ym),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=J2(this.options);r.data!==void 0&&(this.setState(X2(r.data,r.dataUpdatedAt)),Ee(this,Xl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&W(this,ks).remove(this)}setData(t,r){const n=Uj(this.state.data,t,this.options);return dt(this,la,pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){dt(this,la,pi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=W(this,Qr))==null?void 0:n.promise;return(s=W(this,Qr))==null||s.cancel(t),r?r.then(On).catch(On):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(W(this,Xl))}isActive(){return this.observers.some(t=>Cs(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===nN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>tl(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!tI(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Qr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=W(this,Qr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),W(this,ks).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(W(this,Qr)&&(W(this,Zl)?W(this,Qr).cancel({revert:!0}):W(this,Qr).cancelRetry()),this.scheduleGc()),W(this,ks).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||dt(this,la,pi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,x,b,y,w;if(this.state.fetchStatus!=="idle"&&((c=W(this,Qr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(W(this,Qr))return W(this,Qr).continueRetry(),W(this,Qr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Ee(this,Zl,!0),n.signal)})},i=()=>{const _=nI(this.options,r),S=(()=>{const N={client:W(this,Jl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return Ee(this,Zl,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:W(this,Jl),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),Ee(this,Vu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&dt(this,la,pi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),Ee(this,Qr,aI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Bj&&_.revert&&this.setState({...W(this,Vu),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{dt(this,la,pi).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{dt(this,la,pi).call(this,{type:"pause"})},onContinue:()=>{dt(this,la,pi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await W(this,Qr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=W(this,ks).config).onSuccess)==null||m.call(h,_,this),(p=(g=W(this,ks).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Bj){if(_.silent)return W(this,Qr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw dt(this,la,pi).call(this,{type:"error",error:_}),(b=(x=W(this,ks).config).onError)==null||b.call(x,_,this),(w=(y=W(this,ks).config).onSettled)==null||w.call(y,this.state.data,_,this),_}finally{this.scheduleGc()}}},Xl=new WeakMap,Vu=new WeakMap,ks=new WeakMap,Jl=new WeakMap,Qr=new WeakMap,Ym=new WeakMap,Zl=new WeakMap,la=new WeakSet,pi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...oI(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...X2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Ee(this,Vu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Br.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),W(this,ks).notify({query:this,type:"updated",action:t})})},jM);function oI(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:sI(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function X2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function J2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Bn,wt,Qm,Cn,ec,Ku,xi,Mo,Xm,Hu,Gu,tc,rc,$o,Yu,$t,ih,zj,Wj,Vj,Kj,Hj,Gj,Yj,lI,_M,kV=(_M=class extends Jd{constructor(t,r){super();Ve(this,$t);Ve(this,Bn);Ve(this,wt);Ve(this,Qm);Ve(this,Cn);Ve(this,ec);Ve(this,Ku);Ve(this,xi);Ve(this,Mo);Ve(this,Xm);Ve(this,Hu);Ve(this,Gu);Ve(this,tc);Ve(this,rc);Ve(this,$o);Ve(this,Yu,new Set);this.options=r,Ee(this,Bn,t),Ee(this,Mo,null),Ee(this,xi,qj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(W(this,wt).addObserver(this),Z2(W(this,wt),this.options)?dt(this,$t,ih).call(this):this.updateResult(),dt(this,$t,Kj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qj(W(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qj(W(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,dt(this,$t,Hj).call(this),dt(this,$t,Gj).call(this),W(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=W(this,wt);if(this.options=W(this,Bn).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Cs(this.options.enabled,W(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");dt(this,$t,Yj).call(this),W(this,wt).setOptions(this.options),r._defaulted&&!Sv(this.options,r)&&W(this,Bn).getQueryCache().notify({type:"observerOptionsUpdated",query:W(this,wt),observer:this});const s=this.hasListeners();s&&eE(W(this,wt),n,this.options,r)&&dt(this,$t,ih).call(this),this.updateResult(),s&&(W(this,wt)!==n||Cs(this.options.enabled,W(this,wt))!==Cs(r.enabled,W(this,wt))||tl(this.options.staleTime,W(this,wt))!==tl(r.staleTime,W(this,wt)))&&dt(this,$t,zj).call(this);const i=dt(this,$t,Wj).call(this);s&&(W(this,wt)!==n||Cs(this.options.enabled,W(this,wt))!==Cs(r.enabled,W(this,wt))||i!==W(this,$o))&&dt(this,$t,Vj).call(this,i)}getOptimisticResult(t){const r=W(this,Bn).getQueryCache().build(W(this,Bn),t),n=this.createResult(r,t);return EV(this,n)&&(Ee(this,Cn,n),Ee(this,Ku,this.options),Ee(this,ec,W(this,wt).state)),n}getCurrentResult(){return W(this,Cn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&W(this,xi).status==="pending"&&W(this,xi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){W(this,Yu).add(t)}getCurrentQuery(){return W(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=W(this,Bn).defaultQueryOptions(t),n=W(this,Bn).getQueryCache().build(W(this,Bn),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return dt(this,$t,ih).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),W(this,Cn)))}createResult(t,r){var C;const n=W(this,wt),s=this.options,i=W(this,Cn),o=W(this,ec),l=W(this,Ku),u=t!==n?t.state:W(this,Qm),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const O=this.hasListeners(),D=!O&&Z2(t,r),E=O&&eE(t,n,r,s);(D||E)&&(f={...f,...oI(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let O;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(O=i.data,b=!0):O=typeof r.placeholderData=="function"?r.placeholderData((C=W(this,Gu))==null?void 0:C.state.data,W(this,Gu)):r.placeholderData,O!==void 0&&(x="success",m=Uj(i==null?void 0:i.data,O,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===W(this,Xm))m=W(this,Hu);else try{Ee(this,Xm,r.select),m=r.select(m),m=Uj(i==null?void 0:i.data,m,r),Ee(this,Hu,m),Ee(this,Mo,null)}catch(O){Ee(this,Mo,O)}W(this,Mo)&&(g=W(this,Mo),m=W(this,Hu),p=Date.now(),x="error");const y=f.fetchStatus==="fetching",w=x==="pending",_=x==="error",j=w&&y,S=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:y,isRefetching:y&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:iN(t,r),refetch:this.refetch,promise:W(this,xi),isEnabled:Cs(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const O=k.data!==void 0,D=k.status==="error"&&!O,E=K=>{D?K.reject(k.error):O&&K.resolve(k.data)},L=()=>{const K=Ee(this,xi,k.promise=qj());E(K)},M=W(this,xi);switch(M.status){case"pending":t.queryHash===n.queryHash&&E(M);break;case"fulfilled":(D||k.data!==M.value)&&L();break;case"rejected":(!D||k.error!==M.reason)&&L();break}}return k}updateResult(){const t=W(this,Cn),r=this.createResult(W(this,wt),this.options);if(Ee(this,ec,W(this,wt).state),Ee(this,Ku,this.options),W(this,ec).data!==void 0&&Ee(this,Gu,W(this,wt)),Sv(r,t))return;Ee(this,Cn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!W(this,Yu).size)return!0;const o=new Set(i??W(this,Yu));return this.options.throwOnError&&o.add("error"),Object.keys(W(this,Cn)).some(l=>{const c=l;return W(this,Cn)[c]!==t[c]&&o.has(c)})};dt(this,$t,lI).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&dt(this,$t,Kj).call(this)}},Bn=new WeakMap,wt=new WeakMap,Qm=new WeakMap,Cn=new WeakMap,ec=new WeakMap,Ku=new WeakMap,xi=new WeakMap,Mo=new WeakMap,Xm=new WeakMap,Hu=new WeakMap,Gu=new WeakMap,tc=new WeakMap,rc=new WeakMap,$o=new WeakMap,Yu=new WeakMap,$t=new WeakSet,ih=function(t){dt(this,$t,Yj).call(this);let r=W(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(On)),r},zj=function(){dt(this,$t,Hj).call(this);const t=tl(this.options.staleTime,W(this,wt));if(mc||W(this,Cn).isStale||!Lj(t))return;const n=tI(W(this,Cn).dataUpdatedAt,t)+1;Ee(this,tc,Ul.setTimeout(()=>{W(this,Cn).isStale||this.updateResult()},n))},Wj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(W(this,wt)):this.options.refetchInterval)??!1},Vj=function(t){dt(this,$t,Gj).call(this),Ee(this,$o,t),!(mc||Cs(this.options.enabled,W(this,wt))===!1||!Lj(W(this,$o))||W(this,$o)===0)&&Ee(this,rc,Ul.setInterval(()=>{(this.options.refetchIntervalInBackground||aN.isFocused())&&dt(this,$t,ih).call(this)},W(this,$o)))},Kj=function(){dt(this,$t,zj).call(this),dt(this,$t,Vj).call(this,dt(this,$t,Wj).call(this))},Hj=function(){W(this,tc)&&(Ul.clearTimeout(W(this,tc)),Ee(this,tc,void 0))},Gj=function(){W(this,rc)&&(Ul.clearInterval(W(this,rc)),Ee(this,rc,void 0))},Yj=function(){const t=W(this,Bn).getQueryCache().build(W(this,Bn),this.options);if(t===W(this,wt))return;const r=W(this,wt);Ee(this,wt,t),Ee(this,Qm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},lI=function(t){Br.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(W(this,Cn))}),W(this,Bn).getQueryCache().notify({query:W(this,wt),type:"observerResultsUpdated"})})},_M);function CV(e,t){return Cs(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Z2(e,t){return CV(e,t)||e.state.data!==void 0&&Qj(e,t,t.refetchOnMount)}function Qj(e,t,r){if(Cs(t.enabled,e)!==!1&&tl(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&iN(e,t)}return!1}function eE(e,t,r,n){return(e!==t||Cs(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&iN(e,r)}function iN(e,t){return Cs(t.enabled,e)!==!1&&e.isStaleByTime(tl(t.staleTime,e))}function EV(e,t){return!Sv(e.getCurrentResult(),t)}function tE(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{xV(w,()=>t.signal,()=>p=!0)},b=nI(t.options,t.fetchOptions),y=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(D),D})(),k=await b(N),{maxPages:C}=t.options,O=j?yV:vV;return{pages:O(w.pages,k,C),pageParams:O(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?PV:rE,j={pages:i,pageParams:o},S=_(n,j);l=await y(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:rE(n,l);if(c>0&&_==null)break;l=await y(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function rE(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function PV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Jm,Ua,vn,nc,qa,yo,SM,OV=(SM=class extends iI{constructor(t){super();Ve(this,qa);Ve(this,Jm);Ve(this,Ua);Ve(this,vn);Ve(this,nc);Ee(this,Jm,t.client),this.mutationId=t.mutationId,Ee(this,vn,t.mutationCache),Ee(this,Ua,[]),this.state=t.state||cI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){W(this,Ua).includes(t)||(W(this,Ua).push(t),this.clearGcTimeout(),W(this,vn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Ee(this,Ua,W(this,Ua).filter(r=>r!==t)),this.scheduleGc(),W(this,vn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){W(this,Ua).length||(this.state.status==="pending"?this.scheduleGc():W(this,vn).remove(this))}continue(){var t;return((t=W(this,nc))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,x,b,y,w,_,j,S,N;const r=()=>{dt(this,qa,yo).call(this,{type:"continue"})},n={client:W(this,Jm),meta:this.options.meta,mutationKey:this.options.mutationKey};Ee(this,nc,aI({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{dt(this,qa,yo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{dt(this,qa,yo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>W(this,vn).canRun(this)}));const s=this.state.status==="pending",i=!W(this,nc).canStart();try{if(s)r();else{dt(this,qa,yo).call(this,{type:"pending",variables:t,isPaused:i}),W(this,vn).config.onMutate&&await W(this,vn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&dt(this,qa,yo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await W(this,nc).start();return await((u=(c=W(this,vn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=W(this,vn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),dt(this,qa,yo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(x=W(this,vn).config).onError)==null?void 0:b.call(x,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(y=this.options).onError)==null?void 0:w.call(y,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(_=W(this,vn).config).onSettled)==null?void 0:j.call(_,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw dt(this,qa,yo).call(this,{type:"error",error:k}),k}finally{W(this,vn).runNext(this)}}},Jm=new WeakMap,Ua=new WeakMap,vn=new WeakMap,nc=new WeakMap,qa=new WeakSet,yo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Br.batch(()=>{W(this,Ua).forEach(n=>{n.onMutationUpdate(t)}),W(this,vn).notify({mutation:this,type:"updated",action:t})})},SM);function cI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var bi,ca,Zm,NM,AV=(NM=class extends Jd{constructor(t={}){super();Ve(this,bi);Ve(this,ca);Ve(this,Zm);this.config=t,Ee(this,bi,new Set),Ee(this,ca,new Map),Ee(this,Zm,0)}build(t,r,n){const s=new OV({client:t,mutationCache:this,mutationId:++Rp(this,Zm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){W(this,bi).add(t);const r=Jp(t);if(typeof r=="string"){const n=W(this,ca).get(r);n?n.push(t):W(this,ca).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(W(this,bi).delete(t)){const r=Jp(t);if(typeof r=="string"){const n=W(this,ca).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&W(this,ca).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Jp(t);if(typeof r=="string"){const n=W(this,ca).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Jp(t);if(typeof r=="string"){const s=(n=W(this,ca).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Br.batch(()=>{W(this,bi).forEach(t=>{this.notify({type:"removed",mutation:t})}),W(this,bi).clear(),W(this,ca).clear()})}getAll(){return Array.from(W(this,bi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>G2(r,n))}findAll(t={}){return this.getAll().filter(r=>G2(t,r))}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Br.batch(()=>Promise.all(t.map(r=>r.continue().catch(On))))}},bi=new WeakMap,ca=new WeakMap,Zm=new WeakMap,NM);function Jp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var wi,Io,zn,ji,Di,Kg,Xj,kM,TV=(kM=class extends Jd{constructor(r,n){super();Ve(this,Di);Ve(this,wi);Ve(this,Io);Ve(this,zn);Ve(this,ji);Ee(this,wi,r),this.setOptions(n),this.bindMethods(),dt(this,Di,Kg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=W(this,wi).defaultMutationOptions(r),Sv(this.options,n)||W(this,wi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:W(this,zn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&pc(n.mutationKey)!==pc(this.options.mutationKey)?this.reset():((s=W(this,zn))==null?void 0:s.state.status)==="pending"&&W(this,zn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=W(this,zn))==null||r.removeObserver(this)}onMutationUpdate(r){dt(this,Di,Kg).call(this),dt(this,Di,Xj).call(this,r)}getCurrentResult(){return W(this,Io)}reset(){var r;(r=W(this,zn))==null||r.removeObserver(this),Ee(this,zn,void 0),dt(this,Di,Kg).call(this),dt(this,Di,Xj).call(this)}mutate(r,n){var s;return Ee(this,ji,n),(s=W(this,zn))==null||s.removeObserver(this),Ee(this,zn,W(this,wi).getMutationCache().build(W(this,wi),this.options)),W(this,zn).addObserver(this),W(this,zn).execute(r)}},wi=new WeakMap,Io=new WeakMap,zn=new WeakMap,ji=new WeakMap,Di=new WeakSet,Kg=function(){var n;const r=((n=W(this,zn))==null?void 0:n.state)??cI();Ee(this,Io,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xj=function(r){Br.batch(()=>{var n,s,i,o,l,c,u,d;if(W(this,ji)&&this.hasListeners()){const f=W(this,Io).variables,h=W(this,Io).context,m={client:W(this,wi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=W(this,ji)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=W(this,ji)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=W(this,ji)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=W(this,ji)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(W(this,Io))})})},kM),Ba,CM,RV=(CM=class extends Jd{constructor(t={}){super();Ve(this,Ba);this.config=t,Ee(this,Ba,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??rN(s,r);let o=this.get(i);return o||(o=new NV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){W(this,Ba).has(t.queryHash)||(W(this,Ba).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=W(this,Ba).get(t.queryHash);r&&(t.destroy(),r===t&&W(this,Ba).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Br.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return W(this,Ba).get(t)}getAll(){return[...W(this,Ba).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>H2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>H2(t,n)):r}notify(t){Br.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Br.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Br.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Ba=new WeakMap,CM),gr,Do,Lo,Qu,Xu,Fo,Ju,Zu,EM,MV=(EM=class{constructor(e={}){Ve(this,gr);Ve(this,Do);Ve(this,Lo);Ve(this,Qu);Ve(this,Xu);Ve(this,Fo);Ve(this,Ju);Ve(this,Zu);Ee(this,gr,e.queryCache||new RV),Ee(this,Do,e.mutationCache||new AV),Ee(this,Lo,e.defaultOptions||{}),Ee(this,Qu,new Map),Ee(this,Xu,new Map),Ee(this,Fo,0)}mount(){Rp(this,Fo)._++,W(this,Fo)===1&&(Ee(this,Ju,aN.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gr).onFocus())})),Ee(this,Zu,Nv.subscribe(async e=>{e&&(await this.resumePausedMutations(),W(this,gr).onOnline())})))}unmount(){var e,t;Rp(this,Fo)._--,W(this,Fo)===0&&((e=W(this,Ju))==null||e.call(this),Ee(this,Ju,void 0),(t=W(this,Zu))==null||t.call(this),Ee(this,Zu,void 0))}isFetching(e){return W(this,gr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return W(this,Do).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,gr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=W(this,gr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(tl(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return W(this,gr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=W(this,gr).get(n.queryHash),i=s==null?void 0:s.state.data,o=mV(t,i);if(o!==void 0)return W(this,gr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Br.batch(()=>W(this,gr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=W(this,gr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=W(this,gr);Br.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=W(this,gr);return Br.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Br.batch(()=>W(this,gr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(On).catch(On)}invalidateQueries(e,t={}){return Br.batch(()=>(W(this,gr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Br.batch(()=>W(this,gr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(On)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(On)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=W(this,gr).build(this,t);return r.isStaleByTime(tl(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(On).catch(On)}fetchInfiniteQuery(e){return e.behavior=tE(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(On).catch(On)}ensureInfiniteQueryData(e){return e.behavior=tE(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Nv.isOnline()?W(this,Do).resumePausedMutations():Promise.resolve()}getQueryCache(){return W(this,gr)}getMutationCache(){return W(this,Do)}getDefaultOptions(){return W(this,Lo)}setDefaultOptions(e){Ee(this,Lo,e)}setQueryDefaults(e,t){W(this,Qu).set(pc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...W(this,Qu).values()],r={};return t.forEach(n=>{Jh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){W(this,Xu).set(pc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...W(this,Xu).values()],r={};return t.forEach(n=>{Jh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...W(this,Lo).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rN(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===nN&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...W(this,Lo).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){W(this,gr).clear(),W(this,Do).clear()}},gr=new WeakMap,Do=new WeakMap,Lo=new WeakMap,Qu=new WeakMap,Xu=new WeakMap,Fo=new WeakMap,Ju=new WeakMap,Zu=new WeakMap,EM),uI=v.createContext(void 0),de=e=>{const t=v.useContext(uI);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},$V=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(uI.Provider,{value:e,children:t})),dI=v.createContext(!1),IV=()=>v.useContext(dI);dI.Provider;function DV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var LV=v.createContext(DV()),FV=()=>v.useContext(LV),UV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?sN(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},qV=e=>{v.useEffect(()=>{e.clearReset()},[e])},BV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||sN(r,[e.error,n])),zV=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},WV=(e,t)=>e.isLoading&&e.isFetching&&!t,VV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,nE=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function KV(e,t,r){var h,m,g,p;const n=IV(),s=FV(),i=de(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",zV(o),UV(o,s,l),qV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=v.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(v.useSyncExternalStore(v.useCallback(x=>{const b=f?u.subscribe(Br.batchCalls(x)):On;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(o)},[o,u]),VV(o,d))throw nE(o,u,s);if(BV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!mc&&WV(d,n)){const x=c?nE(o,u,s):l==null?void 0:l.promise;x==null||x.catch(On).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Ce(e,t){return KV(e,kV)}function ce(e,t){const r=de(),[n]=v.useState(()=>new TV(r,e));v.useEffect(()=>{n.setOptions(e)},[n,e]);const s=v.useSyncExternalStore(v.useCallback(o=>n.subscribe(Br.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=v.useCallback((o,l)=>{n.mutate(o,l).catch(On)},[n]);if(s.error&&sN(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var HV=e=>{switch(e){case"success":return QV;case"info":return JV;case"warning":return XV;case"error":return ZV;default:return null}},GV=Array(12).fill(0),YV=({visible:e,className:t})=>R.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},R.createElement("div",{className:"sonner-spinner"},GV.map((r,n)=>R.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),QV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),XV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),JV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ZV=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},R.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),e9=R.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},R.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),R.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),t9=()=>{let[e,t]=R.useState(document.hidden);return R.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Jj=1,r9=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Jj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],R.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(s9(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Jj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Wn=new r9,n9=(e,t)=>{let r=(t==null?void 0:t.id)||Jj++;return Wn.addToast({title:e,...t,id:r}),r},s9=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",a9=n9,i9=()=>Wn.toasts,o9=()=>Wn.getActiveToasts(),q=Object.assign(a9,{success:Wn.success,info:Wn.info,warning:Wn.warning,error:Wn.error,custom:Wn.custom,message:Wn.message,promise:Wn.promise,dismiss:Wn.dismiss,loading:Wn.loading},{getHistory:i9,getToasts:o9});function l9(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}l9(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Zp(e){return e.label!==void 0}var c9=3,u9="32px",d9="16px",sE=4e3,f9=356,h9=14,m9=20,p9=200;function ta(...e){return e.filter(Boolean).join(" ")}function g9(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var v9=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:b,heights:y,index:w,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:O,actionButtonStyle:D,className:E="",descriptionClassName:L="",duration:M,position:K,gap:A,loadingIcon:V,expandByDefault:T,classNames:$,icons:I,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:F}=e,[ie,ye]=R.useState(null),[ze,Ke]=R.useState(null),[me,Se]=R.useState(!1),[re,pe]=R.useState(!1),[Y,Q]=R.useState(!1),[Xe,He]=R.useState(!1),[xt,ft]=R.useState(!1),[Wt,Cr]=R.useState(0),[hn,js]=R.useState(0),B=R.useRef(m.duration||M||sE),G=R.useRef(null),z=R.useRef(null),fe=w===0,ve=w+1<=b,ae=m.type,ke=m.dismissible!==!1,Ot=m.className||"",At=m.descriptionClassName||"",Er=R.useMemo(()=>y.findIndex(st=>st.toastId===m.id)||0,[y,m.id]),di=R.useMemo(()=>{var st;return(st=m.closeButton)!=null?st:k},[m.closeButton,k]),Qs=R.useMemo(()=>m.duration||M||sE,[m.duration,M]),Nf=R.useRef(0),Ia=R.useRef(0),Wc=R.useRef(0),lo=R.useRef(null),[Tp,Yb]=K.split("-"),kf=R.useMemo(()=>y.reduce((st,Ut,ir)=>ir>=Er?st:st+Ut.height,0),[y,Er]),EC=t9(),P6=m.invert||h,Qb=ae==="loading";Ia.current=R.useMemo(()=>Er*A+kf,[Er,kf]),R.useEffect(()=>{B.current=Qs},[Qs]),R.useEffect(()=>{Se(!0)},[]),R.useEffect(()=>{let st=z.current;if(st){let Ut=st.getBoundingClientRect().height;return js(Ut),x(ir=>[{toastId:m.id,height:Ut,position:m.position},...ir]),()=>x(ir=>ir.filter(Xs=>Xs.toastId!==m.id))}},[x,m.id]),R.useLayoutEffect(()=>{if(!me)return;let st=z.current,Ut=st.style.height;st.style.height="auto";let ir=st.getBoundingClientRect().height;st.style.height=Ut,js(ir),x(Xs=>Xs.find(Js=>Js.toastId===m.id)?Xs.map(Js=>Js.toastId===m.id?{...Js,height:ir}:Js):[{toastId:m.id,height:ir,position:m.position},...Xs])},[me,m.title,m.description,x,m.id]);let co=R.useCallback(()=>{pe(!0),Cr(Ia.current),x(st=>st.filter(Ut=>Ut.toastId!==m.id)),setTimeout(()=>{S(m)},p9)},[m,S,x,Ia]);R.useEffect(()=>{if(m.promise&&ae==="loading"||m.duration===1/0||m.type==="loading")return;let st;return j||p||F&&EC?(()=>{if(Wc.current<Nf.current){let Ut=new Date().getTime()-Nf.current;B.current=B.current-Ut}Wc.current=new Date().getTime()})():B.current!==1/0&&(Nf.current=new Date().getTime(),st=setTimeout(()=>{var Ut;(Ut=m.onAutoClose)==null||Ut.call(m,m),co()},B.current)),()=>clearTimeout(st)},[j,p,m,ae,F,EC,co]),R.useEffect(()=>{m.delete&&co()},[co,m.delete]);function O6(){var st,Ut,ir;return I!=null&&I.loading?R.createElement("div",{className:ta($==null?void 0:$.loader,(st=m==null?void 0:m.classNames)==null?void 0:st.loader,"sonner-loader"),"data-visible":ae==="loading"},I.loading):V?R.createElement("div",{className:ta($==null?void 0:$.loader,(Ut=m==null?void 0:m.classNames)==null?void 0:Ut.loader,"sonner-loader"),"data-visible":ae==="loading"},V):R.createElement(YV,{className:ta($==null?void 0:$.loader,(ir=m==null?void 0:m.classNames)==null?void 0:ir.loader),visible:ae==="loading"})}return R.createElement("li",{tabIndex:0,ref:z,className:ta(E,Ot,$==null?void 0:$.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,$==null?void 0:$.default,$==null?void 0:$[ae],(r=m==null?void 0:m.classNames)==null?void 0:r[ae]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":me,"data-promise":!!m.promise,"data-swiped":xt,"data-removed":re,"data-visible":ve,"data-y-position":Tp,"data-x-position":Yb,"data-index":w,"data-front":fe,"data-swiping":Y,"data-dismissible":ke,"data-type":ae,"data-invert":P6,"data-swipe-out":Xe,"data-swipe-direction":ze,"data-expanded":!!(j||T&&me),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${re?Wt:Ia.current}px`,"--initial-height":T?"auto":`${hn}px`,...C,...m.style},onDragEnd:()=>{Q(!1),ye(null),lo.current=null},onPointerDown:st=>{Qb||!ke||(G.current=new Date,Cr(Ia.current),st.target.setPointerCapture(st.pointerId),st.target.tagName!=="BUTTON"&&(Q(!0),lo.current={x:st.clientX,y:st.clientY}))},onPointerUp:()=>{var st,Ut,ir,Xs;if(Xe||!ke)return;lo.current=null;let Js=Number(((st=z.current)==null?void 0:st.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),uo=Number(((Ut=z.current)==null?void 0:Ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_l=new Date().getTime()-((ir=G.current)==null?void 0:ir.getTime()),Zs=ie==="x"?Js:uo,fo=Math.abs(Zs)/_l;if(Math.abs(Zs)>=m9||fo>.11){Cr(Ia.current),(Xs=m.onDismiss)==null||Xs.call(m,m),Ke(ie==="x"?Js>0?"right":"left":uo>0?"down":"up"),co(),He(!0),ft(!1);return}Q(!1),ye(null)},onPointerMove:st=>{var Ut,ir,Xs,Js;if(!lo.current||!ke||((Ut=window.getSelection())==null?void 0:Ut.toString().length)>0)return;let uo=st.clientY-lo.current.y,_l=st.clientX-lo.current.x,Zs=(ir=e.swipeDirections)!=null?ir:g9(K);!ie&&(Math.abs(_l)>1||Math.abs(uo)>1)&&ye(Math.abs(_l)>Math.abs(uo)?"x":"y");let fo={x:0,y:0};ie==="y"?(Zs.includes("top")||Zs.includes("bottom"))&&(Zs.includes("top")&&uo<0||Zs.includes("bottom")&&uo>0)&&(fo.y=uo):ie==="x"&&(Zs.includes("left")||Zs.includes("right"))&&(Zs.includes("left")&&_l<0||Zs.includes("right")&&_l>0)&&(fo.x=_l),(Math.abs(fo.x)>0||Math.abs(fo.y)>0)&&ft(!0),(Xs=z.current)==null||Xs.style.setProperty("--swipe-amount-x",`${fo.x}px`),(Js=z.current)==null||Js.style.setProperty("--swipe-amount-y",`${fo.y}px`)}},di&&!m.jsx?R.createElement("button",{"aria-label":ee,"data-disabled":Qb,"data-close-button":!0,onClick:Qb||!ke?()=>{}:()=>{var st;co(),(st=m.onDismiss)==null||st.call(m,m)},className:ta($==null?void 0:$.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=I==null?void 0:I.close)!=null?i:e9):null,m.jsx||v.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:R.createElement(R.Fragment,null,ae||m.icon||m.promise?R.createElement("div",{"data-icon":"",className:ta($==null?void 0:$.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||O6():null,m.type!=="loading"?m.icon||(I==null?void 0:I[ae])||HV(ae):null):null,R.createElement("div",{"data-content":"",className:ta($==null?void 0:$.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},R.createElement("div",{"data-title":"",className:ta($==null?void 0:$.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?R.createElement("div",{"data-description":"",className:ta(L,At,$==null?void 0:$.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),v.isValidElement(m.cancel)?m.cancel:m.cancel&&Zp(m.cancel)?R.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:st=>{var Ut,ir;Zp(m.cancel)&&ke&&((ir=(Ut=m.cancel).onClick)==null||ir.call(Ut,st),co())},className:ta($==null?void 0:$.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,v.isValidElement(m.action)?m.action:m.action&&Zp(m.action)?R.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:st=>{var Ut,ir;Zp(m.action)&&((ir=(Ut=m.action).onClick)==null||ir.call(Ut,st),!st.defaultPrevented&&co())},className:ta($==null?void 0:$.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function aE(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function y9(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?d9:u9;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var x9=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=c9,toastOptions:p,dir:x=aE(),gap:b=h9,loadingIcon:y,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=R.useState([]),k=R.useMemo(()=>Array.from(new Set([n].concat(S.filter(F=>F.position).map(F=>F.position)))),[S,n]),[C,O]=R.useState([]),[D,E]=R.useState(!1),[L,M]=R.useState(!1),[K,A]=R.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),V=R.useRef(null),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=R.useRef(null),I=R.useRef(!1),ee=R.useCallback(F=>{N(ie=>{var ye;return(ye=ie.find(ze=>ze.id===F.id))!=null&&ye.delete||Wn.dismiss(F.id),ie.filter(({id:ze})=>ze!==F.id)})},[]);return R.useEffect(()=>Wn.subscribe(F=>{if(F.dismiss){N(ie=>ie.map(ye=>ye.id===F.id?{...ye,delete:!0}:ye));return}setTimeout(()=>{q4.flushSync(()=>{N(ie=>{let ye=ie.findIndex(ze=>ze.id===F.id);return ye!==-1?[...ie.slice(0,ye),{...ie[ye],...F},...ie.slice(ye+1)]:[F,...ie]})})})}),[]),R.useEffect(()=>{if(d!=="system"){A(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?A("dark"):A("light")),typeof window>"u")return;let F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:ie})=>{A(ie?"dark":"light")})}catch{F.addListener(({matches:ye})=>{try{A(ye?"dark":"light")}catch(ze){console.error(ze)}})}},[d]),R.useEffect(()=>{S.length<=1&&E(!1)},[S]),R.useEffect(()=>{let F=ie=>{var ye,ze;s.every(Ke=>ie[Ke]||ie.code===Ke)&&(E(!0),(ye=V.current)==null||ye.focus()),ie.code==="Escape"&&(document.activeElement===V.current||(ze=V.current)!=null&&ze.contains(document.activeElement))&&E(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[s]),R.useEffect(()=>{if(V.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,I.current=!1)}},[V.current]),R.createElement("section",{ref:t,"aria-label":`${_} ${T}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((F,ie)=>{var ye;let[ze,Ke]=F.split("-");return S.length?R.createElement("ol",{key:F,dir:x==="auto"?aE():x,tabIndex:-1,ref:V,className:l,"data-sonner-toaster":!0,"data-theme":K,"data-y-position":ze,"data-lifted":D&&S.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ye=C[0])==null?void 0:ye.height)||0}px`,"--width":`${f9}px`,"--gap":`${b}px`,...m,...y9(c,u)},onBlur:me=>{I.current&&!me.currentTarget.contains(me.relatedTarget)&&(I.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||I.current||(I.current=!0,$.current=me.relatedTarget)},onMouseEnter:()=>E(!0),onMouseMove:()=>E(!0),onMouseLeave:()=>{L||E(!1)},onDragEnd:()=>E(!1),onPointerDown:me=>{me.target instanceof HTMLElement&&me.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},S.filter(me=>!me.position&&ie===0||me.position===F).map((me,Se)=>{var re,pe;return R.createElement(v9,{key:me.id,icons:w,index:Se,toast:me,defaultRichColors:f,duration:(re=p==null?void 0:p.duration)!=null?re:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(pe=p==null?void 0:p.closeButton)!=null?pe:o,interacting:L,position:F,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:S.filter(Y=>Y.position==me.position),heights:C.filter(Y=>Y.position==me.position),setHeights:O,expandByDefault:i,gap:b,loadingIcon:y,expanded:D,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Wa=function(){return Wa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Wa.apply(this,arguments)};function Zd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function b9(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function w9(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const j9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class oN extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class _9 extends oN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class iE extends oN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class oE extends oN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zj||(Zj={}));class S9{constructor(t,{headers:r={},customFetch:n,region:s=Zj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=j9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return b9(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(j=>{throw new _9(j)}),y=b.headers.get("x-relay-error");if(y&&y==="true")throw new iE(b);if(!b.ok)throw new oE(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof oE||l instanceof iE?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var N9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},k9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new N9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},C9=class extends k9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const lE=new RegExp("[,()]");var ou=class extends C9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&lE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&lE.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},E9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new ou({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new ou({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new ou({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ou({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ou({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},P9=class fI{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new E9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new fI(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new ou({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class O9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const A9="2.93.3",T9=`realtime-js/${A9}`,R9="1.0.0",hI="2.0.0",cE=hI,e_=1e4,M9=1e3,$9=100;var _o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_o||(_o={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var da;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(da||(da={}));var t_;(function(e){e.websocket="websocket"})(t_||(t_={}));var Ml;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ml||(Ml={}));class I9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class mI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Gt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Gt||(Gt={}));const uE=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=D9(o,e,t,s),i),{}):{}},D9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?pI(i,o):r_(o)},pI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return q9(t,r)}switch(e){case Gt.bool:return L9(t);case Gt.float4:case Gt.float8:case Gt.int2:case Gt.int4:case Gt.int8:case Gt.numeric:case Gt.oid:return F9(t);case Gt.json:case Gt.jsonb:return U9(t);case Gt.timestamp:return B9(t);case Gt.abstime:case Gt.date:case Gt.daterange:case Gt.int4range:case Gt.int8range:case Gt.money:case Gt.reltime:case Gt.text:case Gt.time:case Gt.timestamptz:case Gt.timetz:case Gt.tsrange:case Gt.tstzrange:return r_(t);default:return r_(t)}},r_=e=>e,L9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},F9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},U9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},q9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>pI(t,l))}return e},B9=e=>typeof e=="string"?e.replace(" ","T"):e,gI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Nw{constructor(t,r,n={},s=e_){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var dE;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(dE||(dE={}));class _h{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_h.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=_h.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_h.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var fE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(fE||(fE={}));var Sh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Sh||(Sh={}));var vi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class Su{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Nw(this,da.join,this.params,this.timeout),this.rejoinTimer=new mI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(da.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new _h(this),this.broadcastEndpointURL=gI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Sh.PRESENCE]&&this.bindings[Sh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(vi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(vi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(vi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let y=0;y<x;y++){const w=p[y],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=m&&m[y];if(k&&k.event===_&&Su.isFilterValueEqual(k.schema,j)&&Su.isFilterValueEqual(k.table,S)&&Su.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ur.errored,t==null||t(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(vi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ur.errored,t==null||t(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ur.joined&&t===Sh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(da.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Nw(this,da.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Nw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=da;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,b,y,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(y=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:b,type:y,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Su.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(da.close,{},t)}_onError(t){this._on(da.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=uE(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=uE(t.columns,t.old_record)),r}}const kw=()=>{},eg={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},z9=[1e3,2e3,5e3,1e4],W9=1e4,V9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class K9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e_,this.transport=null,this.heartbeatIntervalMs=eg.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kw,this.ref=0,this.reconnectTimer=null,this.vsn=cE,this.logger=kw,this.conn=null,this.sendBuffer=[],this.serializer=new I9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${t_.websocket}`,this.httpEndpoint=gI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=O9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return Ml.Connecting;case _o.open:return Ml.Open;case _o.closing:return Ml.Closing;default:return Ml.Closed}}isConnected(){return this.connectionState()===Ml.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Su(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(M9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},eg.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===_o.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===_o.open||this.conn.readyState===_o.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(da.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([V9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:T9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(da.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new mI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},eg.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:e_,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:eg.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:kw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:cE,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>z9[g-1]||W9,this.vsn){case R9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case hI:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Zh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function H9(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function G9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Y9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=H9(e.baseUrl,n,s),c=await G9(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Zh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function tg(e){return e.join("")}var Q9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:tg(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${tg(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${tg(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${tg(e.namespace)}`}),!0}catch(t){if(t instanceof Zh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Zh&&r.status===409)return;throw r}}};function Kc(e){return e.join("")}var X9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Zh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Zh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},J9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Y9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Q9(this.client,t),this.tableOps=new X9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},jx=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function _x(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var rg=class extends jx{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vI=class extends jx{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Z9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eK=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},n_=e=>{if(Array.isArray(e))return e.map(r=>n_(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=n_(n)}),t},tK=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function rK(e,t){if(em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nK(e){var t=rK(e,"string");return em(t)=="symbol"?t:t+""}function sK(e,t,r){return(t=nK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hE(Object(r),!0).forEach(function(n){sK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const mE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aK=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new rg(mE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new rg(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new rg(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new rg(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new vI(mE(e),e,n))},iK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(eK(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function $f(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,iK(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>aK(u,c,n,o))})}function yI(e="storage"){return{get:async(t,r,n,s)=>$f(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>$f(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>$f(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>$f(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>$f(t,"DELETE",r,s,i,n,e)}}const oK=yI("storage"),{get:tm,post:oa,put:s_,head:lK,remove:lN}=oK,ls=yI("vectors");var ef=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Z9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(_x(r))return{data:null,error:r};throw r}}},cK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_x(t))return{data:null,error:t};throw t}}};let xI;xI=Symbol.toStringTag;var uK=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xI]="BlobDownloadBuilder",this.promise=null}asStream(){return new cK(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(_x(t))return{data:null,error:t};throw t}}};const dK={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var fK=class extends ef{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},pE),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?s_:oa)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:pE.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await s_(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await oa(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new jx("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await oa(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await oa(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await oa(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await oa(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>tm(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new uK(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>n_(await tm(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await lK(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_x(n)&&n instanceof vI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await lN(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},dK),t),{},{prefix:e||""});return await oa(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await oa(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const hK="2.93.3",ap={"X-Client-Info":`storage-js/${hK}`};var mK=class extends ef{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},ap),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await tm(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await tm(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await oa(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await s_(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await oa(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},pK=class extends ef{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ap),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await oa(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await tm(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await lN(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!tK(e))throw new jx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new J9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},gK=class extends ef{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ap),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ls.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ls.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},vK=class extends ef{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ap),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},yK=class extends ef{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ap),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ls.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},xK=class extends yK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new bK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},bK=class extends gK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new wK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},wK=class extends vK{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},jK=class extends mK{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new fK(this.url,this.headers,e,this.fetch)}get vectors(){return new xK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new pK(this.url+"/iceberg",this.headers,this.fetch)}};const bI="2.93.3",lu=30*1e3,a_=3,Cw=a_*lu,_K="http://localhost:9999",SK="supabase.auth.token",NK={"X-Client-Info":`gotrue-js/${bI}`},i_="X-Supabase-Api-Version",wI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CK=10*60*1e3;class rm extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class EK extends rm{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function PK(e){return Be(e)&&e.name==="AuthApiError"}class $l extends rm{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Zi extends rm{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ns extends Zi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ew(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Hc extends Zi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ng extends Zi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sg extends Zi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OK(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class gE extends Zi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class AK extends Zi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class o_ extends Zi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Pw(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class vE extends Zi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class l_ extends Zi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yE=` 	
\r=`.split(""),TK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yE.length;t+=1)e[yE[t].charCodeAt(0)]=-2;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=t;return e})();function xE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(kv[n]),t.queuedBits-=6}}function jI(e,t,r){const n=TK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function bE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{$K(o,n,r)};for(let o=0;o<e.length;o+=1)jI(e.charCodeAt(o),s,i);return t.join("")}function RK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}RK(n,t)}}function $K(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mu(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)jI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function IK(e){const t=[];return MK(e,r=>t.push(r)),new Uint8Array(t)}function ql(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>xE(s,r,n)),xE(null,r,n),t.join("")}function DK(e){return Math.round(Date.now()/1e3)+e}function LK(){return Symbol("auth-callback")}const sn=()=>typeof window<"u"&&typeof document<"u",Sl={tested:!1,writable:!1},_I=()=>{if(!sn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sl.tested)return Sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sl.tested=!0,Sl.writable=!0}catch{Sl.tested=!0,Sl.writable=!1}return Sl.writable};function FK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const SI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),UK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Nl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},nn=async(e,t)=>{await e.removeItem(t)};class Sx{constructor(){this.promise=new Sx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Sx.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new l_("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kK.test(t[n]))throw new l_("JWT not in base64url format");return{header:JSON.parse(bE(t[0])),payload:JSON.parse(bE(t[1])),signature:Mu(t[2]),raw:{header:t[0],payload:t[1]}}}async function qK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function BK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function zK(e){return("0"+e.toString(16)).substr(-2)}function WK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zK).join("")}async function VK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function KK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gc(e,t,r=!1){const n=WK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await cu(e,`${t}-code-verifier`,s);const i=await KK(n);return[i,n===i?"plain":"s256"]}const HK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function GK(e){const t=e.headers.get(i_);if(!t||!t.match(HK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function YK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const XK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yc(e){if(!XK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ow(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function wE(e){return JSON.parse(JSON.stringify(e))}const Pl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ZK=[502,503,504];async function jE(e){var t;if(!UK(e))throw new o_(Pl(e),0);if(ZK.includes(e.status))throw new o_(Pl(e),e.status);let r;try{r=await e.json()}catch(i){throw new $l(Pl(i),i)}let n;const s=GK(e);if(s&&s.getTime()>=wI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new vE(Pl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new vE(Pl(r),e.status,r.weak_password.reasons);throw new EK(Pl(r),e.status||500,n)}const eH=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[i_]||(i[i_]=wI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tH(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function tH(e,t,r,n,s,i){const o=eH(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new o_(Pl(c),0)}if(l.ok||await jE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await jE(c)}}function sa(e){var t;let r=null;sH(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=DK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function _E(e){const t=sa(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Eo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function rH(e){return{data:e,error:null}}function nH(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Zd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function SE(e){return e}function sH(e){return e.access_token&&e.refresh_token&&e.expires_in}const Aw=["global","local","others"];class aH{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=SI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Aw[0]){if(Aw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Aw.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Eo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Zd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:nH,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Eo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Yc(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Eo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Yc(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Eo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Yc(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Eo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Yc(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Yc(t.userId),Yc(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:SE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function NE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Qc={debug:!!(globalThis&&_I()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class NI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class iH extends NI{}async function oH(e,t,r){Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new iH(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function lH(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function kI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function cH(e){return parseInt(e,16)}function uH(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function dH(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=kI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let y=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);y+=`
- ${w}`}b+=y}return`${x}
${b}`}class Ar extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Cv extends Ar{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function fH({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Ar({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Ar({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Ar({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Ar({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Ar({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Ar({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(CI(o)){if(i.rp.id!==o)return new Ar({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Ar({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function hH({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Ar({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Ar({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(CI(n)){if(r.rpId!==n)return new Ar({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Ar({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Ar({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Ar({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class mH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const pH=new mH;function gH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Zd(e,["challenge","user","excludeCredentials"]),i=Mu(t).buffer,o=Object.assign(Object.assign({},r),{id:Mu(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Mu(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function vH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Zd(e,["challenge","allowCredentials"]),s=Mu(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Mu(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function yH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ql(new Uint8Array(e.response.attestationObject)),clientDataJSON:ql(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ql(new Uint8Array(s.authenticatorData)),clientDataJSON:ql(new Uint8Array(s.clientDataJSON)),signature:ql(new Uint8Array(s.signature)),userHandle:s.userHandle?ql(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function kE(){var e,t;return!!(sn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function bH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:fH({error:t,options:e})}}}async function wH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Cv("Browser returned unexpected credential type",t)}:{data:null,error:new Cv("Empty credential response",t)}}catch(t){return{data:null,error:hH({error:t,options:e})}}}const jH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},_H={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ev(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=Ev(l,o):n[i]=Ev(o)}else n[i]=o}return n}function SH(e,t){return Ev(jH,e,t||{})}function NH(e,t){return Ev(_H,e,t||{})}class kH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??pH.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=SH(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await bH({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=NH(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await wH(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new $l("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn authentication")};try{if(!kE())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new rm("rpId is required for WebAuthn registration")};try{if(!kE())return{data:null,error:new $l("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new $l("Unexpected error in register",o)}}}}lH();const CH={url:_K,storageKey:SK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function CE(e,t,r){return await r()}const Xc={};class nm{get jwks(){var t,r;return(r=(t=Xc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xc[this.storageKey]=Object.assign(Object.assign({},Xc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xc[this.storageKey]=Object.assign(Object.assign({},Xc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},CH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=nm.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,nm.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&sn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new aH({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=SI(i.fetch),this.lock=i.lock||CE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&sn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=oH:this.lock=CE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:_I()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=NE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=NE(this.memoryStorage)),sn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${bI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(sn()&&(r=FK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),sn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),OK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new $l("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:sa}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Gc(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:sa})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:sa})}else throw new ng("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await nn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_E})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_E})}else throw new ng("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Hc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:y}=t;let w;if(sn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=kI(j[0]);let N=(n=y==null?void 0:y.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=cH(C)}const k={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:N,nonce:(s=y==null?void 0:y.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=y==null?void 0:y.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=y==null?void 0:y.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=y==null?void 0:y.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=y==null?void 0:y.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=y==null?void 0:y.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=dH(k),g=await w.request({method:"personal_sign",params:[uH(m),S]})}try{const{data:p,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:sa});if(x)throw x;if(!p||!p.session||!p.user){const b=new Hc;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:y,options:w}=t;let _;if(sn())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),y?{statement:y}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:ql(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:sa});if(b)throw b;if(!x||!x.session||!x.user){const y=new Hc;return this._returnResult({data:{user:null,session:null},error:y})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new AK;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:sa});if(await nn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Hc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:sa}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Hc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gc(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ng("You must provide either an email or phone number.")}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:sa});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Gc(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:rH});return!((i=u.data)===null||i===void 0)&&i.url&&sn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ns;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ng("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Nl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Nl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ow()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=JK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Eo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ns}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Eo})})}catch(r){if(Be(r))return Ew(r)&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ns;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Gc(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Eo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ns;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=ag(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ns;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!sn())throw new sg("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sg(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new gE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sg("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gE("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new sg("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=lu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Nl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!Ew(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(PK(l)&&(l.status===404||l.status===401||l.status===403)||Ew(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await nn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=LK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Gc(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return sn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:sa}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Hc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await nn(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await BK(async s=>(s>0&&await qK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:sa})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Pw(i)&&Date.now()+o-n<lu})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),sn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Nl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Nl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await cu(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ow()}else if(s&&!s.user&&!s.user){const o=await Nl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await nn(this.storage,this.storageKey+"-user"),await cu(this.storage,this.storageKey,s)):s.user=Ow()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Cw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Pw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ns;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return Pw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await nn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=wE(s);await cu(this.storage,this.storageKey,i)}else{const s=wE(r);await cu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await nn(this.storage,this.storageKey),await nn(this.storage,this.storageKey+"-code-verifier"),await nn(this.storage,this.storageKey+"-user"),this.userStorage&&await nn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),lu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/lu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${lu}ms, refresh threshold is ${a_} ticks`),s<=a_&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof NI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?yH(t.webauthn.credential_response):xH(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:gH(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:vH(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=ag(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:x},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(Be(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=ag(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new ns})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new ns});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&sn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new ns})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ns})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+CK>s)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ag(n);r!=null&&r.allowExpired||YK(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=QK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,IK(`${l}.${c}`)))throw new l_("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}nm.nextInstanceID={};const EH=nm,PH="2.93.3";let oh="";typeof Deno<"u"?oh="deno":typeof document<"u"?oh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?oh="react-native":oh="node";const OH={"X-Client-Info":`supabase-js-${oh}/${PH}`},AH={headers:OH},TH={schema:"public"},RH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MH={};function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function $H(e,t){if(sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IH(e){var t=$H(e,"string");return sm(t)=="symbol"?t:t+""}function DH(e,t,r){return(t=IH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EE(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const LH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),FH=()=>Headers,UH=(e,t,r)=>{const n=LH(r),s=FH();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,vr(vr({},o),{},{headers:u}))}};function qH(e){return e.endsWith("/")?e:e+"/"}function BH(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:vr(vr({},c),s),auth:vr(vr({},u),i),realtime:vr(vr({},d),o),storage:{},global:vr(vr(vr({},f),l),{},{headers:vr(vr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function zH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(qH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var WH=class extends EH{constructor(e){super(e)}},VH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=zH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:TH,realtime:MH,auth:vr(vr({},RH),{},{storageKey:o}),global:AH},c=BH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=UH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(vr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new P9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new jK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new S9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new WH({url:this.authUrl.href,headers:vr(vr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new K9(this.realtimeUrl.href,vr(vr({},e),{},{params:vr(vr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KH=(e,t,r)=>new VH(e,t,r);function HH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}HH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const GH="https://prqmzdstrfmahymkekef.supabase.co",YH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",U=KH(GH,YH);async function QH(e,t){const{error:r}=await U.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function XH(){const{error:e}=await U.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function JH(){const{data:{session:e}}=await U.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function ZH(e){const{data:{subscription:t}}=U.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function e7(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await U.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function t7(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await U.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function r7(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await U.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function n7(e){const{error:t}=await U.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function s7(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function a7(){const{data:{user:e}}=await U.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await U.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function PE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await U.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function i7(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function o7(){const{data:{user:e}}=await U.auth.getUser();return e?!!e.email_confirmed_at:!1}const EI=v.createContext(null);function l7({children:e}){const[t,r]=v.useState({user:null,session:null,isLoading:!0});v.useEffect(()=>{let i=!1;JH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=ZH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=v.useCallback(async()=>{await XH(),r({user:null,session:null,isLoading:!1})},[]),s=v.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(EI.Provider,{value:s,children:e})}function ip(){const e=v.useContext(EI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function c7(){const{user:e,isLoading:t}=ip(),r=ii();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(GW,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(X4,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),PI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>v.createElement("svg",{ref:c,...d7,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:PI("lucide",s),...l},[...o.map(([u,d])=>v.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=v.forwardRef(({className:n,...s},i)=>v.createElement(f7,{ref:i,iconNode:t,className:PI(`lucide-${u7(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const op=le("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=le("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=le("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=le("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=le("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=le("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=le("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=le("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lh=le("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=le("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=le("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=le("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=le("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=le("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=le("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=le("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=le("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=le("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=le("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=le("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=le("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=le("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=le("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=le("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=le("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=le("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=le("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=le("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=le("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=le("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=le("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=le("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=le("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=le("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=le("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=le("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=le("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=le("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=le("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=le("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=le("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=le("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=le("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=le("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=le("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=le("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gc=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=le("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=le("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=le("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=le("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vc=le("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=le("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=le("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=le("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k7=le("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=le("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=le("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=le("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=le("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=le("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=le("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=le("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=le("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=le("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=le("Slash",[["path",{d:"M22 2 2 22",key:"y4kqgn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=le("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=le("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=le("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=le("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=le("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=le("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A7=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=le("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=le("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=le("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=le("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M7=le("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=le("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=le("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fp=le("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=le("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=le("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function KI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=KI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=KI(e))&&(n&&(n+=" "),n+=t);return n}const wN="-",$7=e=>{const t=D7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(wN);return l[0]===""&&l.length!==1&&l.shift(),HI(l,t)||I7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},HI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?HI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(wN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},$E=/^\[(.+)\]$/,I7=e=>{if($E.test(e)){const t=$E.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},D7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return F7(Object.entries(e.classGroups),r).forEach(([i,o])=>{u_(o,n,i,t)}),n},u_=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:IE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(L7(s)){u_(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{u_(o,IE(t,i),r,n)})})},IE=(e,t)=>{let r=e;return t.split(wN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},L7=e=>e.isThemeGetter,F7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,U7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},GI="!",q7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(GI),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},B7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},z7=e=>({cache:U7(e.cacheSize),parseClassName:q7(e),...$7(e)}),W7=/\s+/,V7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(W7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=B7(d).join(":"),b=f?x+GI:x,y=b+p;if(i.includes(y))continue;i.push(y);const w=s(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function K7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=YI(t))&&(n&&(n+=" "),n+=r);return n}const YI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=YI(e[n]))&&(r&&(r+=" "),r+=t);return r};function H7(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=z7(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=V7(c,r);return s(c,d),d}return function(){return i(K7.apply(null,arguments))}}const Jt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},QI=/^\[(?:([a-z-]+):)?(.+)\]$/i,G7=/^\d+\/\d+$/,Y7=new Set(["px","full","screen"]),Q7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,X7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,J7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Z7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eG=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=e=>$u(e)||Y7.has(e)||G7.test(e),mo=e=>sf(e,"length",lG),$u=e=>!!e&&!Number.isNaN(Number(e)),Rw=e=>sf(e,"number",$u),If=e=>!!e&&Number.isInteger(Number(e)),tG=e=>e.endsWith("%")&&$u(e.slice(0,-1)),ct=e=>QI.test(e),po=e=>Q7.test(e),rG=new Set(["length","size","percentage"]),nG=e=>sf(e,rG,XI),sG=e=>sf(e,"position",XI),aG=new Set(["image","url"]),iG=e=>sf(e,aG,uG),oG=e=>sf(e,"",cG),Df=()=>!0,sf=(e,t,r)=>{const n=QI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},lG=e=>X7.test(e)&&!J7.test(e),XI=()=>!1,cG=e=>Z7.test(e),uG=e=>eG.test(e),dG=()=>{const e=Jt("colors"),t=Jt("spacing"),r=Jt("blur"),n=Jt("brightness"),s=Jt("borderColor"),i=Jt("borderRadius"),o=Jt("borderSpacing"),l=Jt("borderWidth"),c=Jt("contrast"),u=Jt("grayscale"),d=Jt("hueRotate"),f=Jt("invert"),h=Jt("gap"),m=Jt("gradientColorStops"),g=Jt("gradientColorStopPositions"),p=Jt("inset"),x=Jt("margin"),b=Jt("opacity"),y=Jt("padding"),w=Jt("saturate"),_=Jt("scale"),j=Jt("sepia"),S=Jt("skew"),N=Jt("space"),k=Jt("translate"),C=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ct,t],E=()=>[ct,t],L=()=>["",fi,mo],M=()=>["auto",$u,ct],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],A=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],T=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",ct],I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[$u,ct];return{cacheSize:500,separator:":",theme:{colors:[Df],spacing:[fi,mo],blur:["none","",po,ct],brightness:ee(),borderColor:[e],borderRadius:["none","","full",po,ct],borderSpacing:E(),borderWidth:L(),contrast:ee(),grayscale:$(),hueRotate:ee(),invert:$(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[tG,mo],inset:D(),margin:D(),opacity:ee(),padding:E(),saturate:ee(),scale:ee(),sepia:$(),skew:ee(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",ct]}],container:["container"],columns:[{columns:[po]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),ct]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",If,ct]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ct]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",If,ct]}],"grid-cols":[{"grid-cols":[Df]}],"col-start-end":[{col:["auto",{span:["full",If,ct]},ct]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Df]}],"row-start-end":[{row:["auto",{span:[If,ct]},ct]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ct]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ct]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...T()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...T(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...T(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ct,t]}],"min-w":[{"min-w":[ct,t,"min","max","fit"]}],"max-w":[{"max-w":[ct,t,"none","full","min","max","fit","prose",{screen:[po]},po]}],h:[{h:[ct,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ct,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ct,t,"auto","min","max","fit"]}],"font-size":[{text:["base",po,mo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Rw]}],"font-family":[{font:[Df]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ct]}],"line-clamp":[{"line-clamp":["none",$u,Rw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,ct]}],"list-image":[{"list-image":["none",ct]}],"list-style-type":[{list:["none","disc","decimal",ct]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...A(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,mo]}],"underline-offset":[{"underline-offset":["auto",fi,ct]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),sG]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nG]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iG]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...A(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:A()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...A()]}],"outline-offset":[{"outline-offset":[fi,ct]}],"outline-w":[{outline:[fi,mo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fi,mo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",po,oG]}],"shadow-color":[{shadow:[Df]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",po,ct]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ct]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",ct]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",ct]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[If,ct]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ct]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fi,mo,Rw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fG=H7(dG);function J(...e){return fG(jt(e))}function hG({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:J("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(jr,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function $e(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function DE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ro(...e){return t=>{let r=!1;const n=e.map(s=>{const i=DE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():DE(e[s],null)}}}}function gt(...e){return v.useCallback(ro(...e),e)}function mG(e,t){const r=v.createContext(t),n=i=>{const{children:o,...l}=i,c=v.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=v.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Ws(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,pG(s,...t)]}function pG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Nr=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},gG=nx[" useId ".trim().toString()]||(()=>{}),vG=0;function Is(e){const[t,r]=v.useState(gG());return Nr(()=>{r(n=>n??String(vG++))},[e]),t?`radix-${t}`:""}var yG=nx[" useInsertionEffect ".trim().toString()]||Nr;function ri({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=xG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=v.useRef(e!==void 0);v.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=v.useCallback(d=>{var f;if(l){const h=bG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function xG({defaultProp:e,onChange:t}){const[r,n]=v.useState(e),s=v.useRef(r),i=v.useRef(t);return yG(()=>{i.current=t},[t]),v.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function bG(e){return typeof e=="function"}function wG(e){const t=jG(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(SG);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function jG(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=kG(s),l=NG(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _G=Symbol("radix.slottable");function SG(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_G}function NG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function kG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=CG.reduce((e,t)=>{const r=wG(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function JI(e,t){e&&Yd.flushSync(()=>e.dispatchEvent(t))}function Zr(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function EG(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e);v.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var PG="DismissableLayer",d_="dismissableLayer.update",OG="dismissableLayer.pointerDownOutside",AG="dismissableLayer.focusOutside",LE,ZI=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Ox=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=v.useContext(ZI),[d,f]=v.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=v.useState({}),g=gt(t,N=>f(N)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),y=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=y>=b,j=MG(N=>{const k=N.target,C=[...u.branches].some(O=>O.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=$G(N=>{const k=N.target;[...u.branches].some(O=>O.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return EG(N=>{y===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),v.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(LE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),FE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=LE)}},[d,h,r,u]),v.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),FE())},[d,u]),v.useEffect(()=>{const N=()=>m({});return document.addEventListener(d_,N),()=>document.removeEventListener(d_,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,S.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,j.onPointerDownCapture)})});Ox.displayName=PG;var TG="DismissableLayerBranch",RG=v.forwardRef((e,t)=>{const r=v.useContext(ZI),n=v.useRef(null),s=gt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});RG.displayName=TG;function MG(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=v.useRef(!1),s=v.useRef(()=>{});return v.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){eD(OG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function $G(e,t=globalThis==null?void 0:globalThis.document){const r=Zr(e),n=v.useRef(!1);return v.useEffect(()=>{const s=i=>{i.target&&!n.current&&eD(AG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function FE(){const e=new CustomEvent(d_);document.dispatchEvent(e)}function eD(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?JI(s,i):s.dispatchEvent(i)}var Mw="focusScope.autoFocusOnMount",$w="focusScope.autoFocusOnUnmount",UE={bubbles:!1,cancelable:!0},IG="FocusScope",Ax=v.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=v.useState(null),u=Zr(s),d=Zr(i),f=v.useRef(null),h=gt(t,p=>c(p)),m=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:xo(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||xo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&xo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const y=new MutationObserver(b);return l&&y.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),y.disconnect()}}},[n,l,m.paused]),v.useEffect(()=>{if(l){BE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(Mw,UE);l.addEventListener(Mw,u),l.dispatchEvent(b),b.defaultPrevented||(DG(BG(tD(l)),{select:!0}),document.activeElement===p&&xo(l))}return()=>{l.removeEventListener(Mw,u),setTimeout(()=>{const b=new CustomEvent($w,UE);l.addEventListener($w,d),l.dispatchEvent(b),b.defaultPrevented||xo(p??document.body,{select:!0}),l.removeEventListener($w,d),BE.remove(m)},0)}}},[l,u,d,m]);const g=v.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const y=p.currentTarget,[w,_]=LG(y);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&xo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&xo(_,{select:!0})):b===y&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Ax.displayName=IG;function DG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(xo(n,{select:t}),document.activeElement!==r)return}function LG(e){const t=tD(e),r=qE(t,e),n=qE(t.reverse(),e);return[r,n]}function tD(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function qE(e,t){for(const r of e)if(!FG(r,{upTo:t}))return r}function FG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function UG(e){return e instanceof HTMLInputElement&&"select"in e}function xo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&UG(e)&&t&&e.select()}}var BE=qG();function qG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=zE(e,t),e.unshift(t)},remove(t){var r;e=zE(e,t),(r=e[0])==null||r.resume()}}}function zE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function BG(e){return e.filter(t=>t.tagName!=="A")}var zG="Portal",Tx=v.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=v.useState(!1);Nr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?q4.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});Tx.displayName=zG;function WG(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var Zn=e=>{const{present:t,children:r}=e,n=VG(t),s=typeof r=="function"?r({present:n.isPresent}):v.Children.only(r),i=gt(n.ref,KG(s));return typeof r=="function"||n.isPresent?v.cloneElement(s,{ref:i}):null};Zn.displayName="Presence";function VG(e){const[t,r]=v.useState(),n=v.useRef(null),s=v.useRef(e),i=v.useRef("none"),o=e?"mounted":"unmounted",[l,c]=WG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=ig(n.current);i.current=l==="mounted"?u:"none"},[l]),Nr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=ig(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Nr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=ig(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=ig(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function ig(e){return(e==null?void 0:e.animationName)||"none"}function KG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Iw=0;function jN(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??WE()),document.body.insertAdjacentElement("beforeend",e[1]??WE()),Iw++,()=>{Iw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Iw--}},[])}function WE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Gg="right-scroll-bar-position",Yg="width-before-scroll-bar",HG="with-scroll-bars-hidden",GG="--removed-body-scroll-bar-size";function Dw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function YG(e,t){var r=v.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var QG=typeof window<"u"?v.useLayoutEffect:v.useEffect,VE=new WeakMap;function XG(e,t){var r=YG(null,function(n){return e.forEach(function(s){return Dw(s,n)})});return QG(function(){var n=VE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Dw(l,null)}),i.forEach(function(l){s.has(l)||Dw(l,o)})}VE.set(r,e)},[e]),r}function JG(e){return e}function ZG(e,t){t===void 0&&(t=JG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function eY(e){e===void 0&&(e={});var t=ZG(null);return t.options=Wa({async:!0,ssr:!1},e),t}var rD=function(e){var t=e.sideCar,r=Zd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return v.createElement(n,Wa({},r))};rD.isSideCarExport=!0;function tY(e,t){return e.useMedium(t),rD}var nD=eY(),Lw=function(){},Rx=v.forwardRef(function(e,t){var r=v.useRef(null),n=v.useState({onScrollCapture:Lw,onWheelCapture:Lw,onTouchMoveCapture:Lw}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,b=e.as,y=b===void 0?"div":b,w=e.gapMode,_=Zd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=XG([r,t]),N=Wa(Wa({},_),s);return v.createElement(v.Fragment,null,d&&v.createElement(j,{sideCar:nD,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?v.cloneElement(v.Children.only(l),Wa(Wa({},N),{ref:S})):v.createElement(y,Wa({},N,{className:c,ref:S}),l))});Rx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Rx.classNames={fullWidth:Yg,zeroRight:Gg};var rY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nY(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=rY();return t&&e.setAttribute("nonce",t),e}function sY(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function aY(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var iY=function(){var e=0,t=null;return{add:function(r){e==0&&(t=nY())&&(sY(t,r),aY(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},oY=function(){var e=iY();return function(t,r){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},sD=function(){var e=oY(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},lY={left:0,top:0,right:0,gap:0},Fw=function(e){return parseInt(e||"",10)||0},cY=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Fw(r),Fw(n),Fw(s)]},uY=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return lY;var t=cY(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},dY=sD(),Iu="data-scroll-locked",fY=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(HG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Iu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Yg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Gg," .").concat(Gg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Yg," .").concat(Yg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Iu,`] {
    `).concat(GG,": ").concat(l,`px;
  }
`)},KE=function(){var e=parseInt(document.body.getAttribute(Iu)||"0",10);return isFinite(e)?e:0},hY=function(){v.useEffect(function(){return document.body.setAttribute(Iu,(KE()+1).toString()),function(){var e=KE()-1;e<=0?document.body.removeAttribute(Iu):document.body.setAttribute(Iu,e.toString())}},[])},mY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;hY();var i=v.useMemo(function(){return uY(s)},[s]);return v.createElement(dY,{styles:fY(i,!t,s,r?"":"!important")})},f_=!1;if(typeof window<"u")try{var og=Object.defineProperty({},"passive",{get:function(){return f_=!0,!0}});window.addEventListener("test",og,og),window.removeEventListener("test",og,og)}catch{f_=!1}var Jc=f_?{passive:!1}:!1,pY=function(e){return e.tagName==="TEXTAREA"},aD=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!pY(e)&&r[t]==="visible")},gY=function(e){return aD(e,"overflowY")},vY=function(e){return aD(e,"overflowX")},HE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=iD(e,n);if(s){var i=oD(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},yY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},xY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},iD=function(e,t){return e==="v"?gY(t):vY(t)},oD=function(e,t){return e==="v"?yY(t):xY(t)},bY=function(e,t){return e==="h"&&t==="rtl"?-1:1},wY=function(e,t,r,n,s){var i=bY(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=oD(e,l),g=m[0],p=m[1],x=m[2],b=p-x-i*g;(g||b)&&iD(e,l)&&(f+=b,h+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},lg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},GE=function(e){return[e.deltaX,e.deltaY]},YE=function(e){return e&&"current"in e?e.current:e},jY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},_Y=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},SY=0,Zc=[];function NY(e){var t=v.useRef([]),r=v.useRef([0,0]),n=v.useRef(),s=v.useState(SY++)[0],i=v.useState(sD)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=w9([e.lockRef.current],(e.shards||[]).map(YE),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=lg(p),y=r.current,w="deltaX"in p?p.deltaX:y[0]-b[0],_="deltaY"in p?p.deltaY:y[1]-b[1],j,S=p.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,O=C?C===S||C.contains(S):!1;if(O)return!1;var D=HE(N,S);if(!D)return!0;if(D?j=N:(j=N==="v"?"h":"v",D=HE(N,S)),!D)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var E=n.current||j;return wY(E,x,p,E==="h"?w:_)},[]),c=v.useCallback(function(p){var x=p;if(!(!Zc.length||Zc[Zc.length-1]!==i)){var b="deltaY"in x?GE(x):lg(x),y=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&jY(j.delta,b)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var w=(o.current.shards||[]).map(YE).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=w.length>0?l(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=v.useCallback(function(p,x,b,y){var w={name:p,delta:x,target:b,should:y,shadowParent:kY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=v.useCallback(function(p){r.current=lg(p),n.current=void 0},[]),f=v.useCallback(function(p){u(p.type,GE(p),p.target,l(p,e.lockRef.current))},[]),h=v.useCallback(function(p){u(p.type,lg(p),p.target,l(p,e.lockRef.current))},[]);v.useEffect(function(){return Zc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Jc),document.addEventListener("touchmove",c,Jc),document.addEventListener("touchstart",d,Jc),function(){Zc=Zc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Jc),document.removeEventListener("touchmove",c,Jc),document.removeEventListener("touchstart",d,Jc)}},[]);var m=e.removeScrollBar,g=e.inert;return v.createElement(v.Fragment,null,g?v.createElement(i,{styles:_Y(s)}):null,m?v.createElement(mY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function kY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const CY=tY(nD,NY);var Mx=v.forwardRef(function(e,t){return v.createElement(Rx,Wa({},e,{ref:t,sideCar:CY}))});Mx.classNames=Rx.classNames;var EY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},eu=new WeakMap,cg=new WeakMap,ug={},Uw=0,lD=function(e){return e&&(e.host||lD(e.parentNode))},PY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=lD(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},OY=function(e,t,r,n){var s=PY(t,Array.isArray(e)?e:[e]);ug[r]||(ug[r]=new WeakMap);var i=ug[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(eu.get(h)||0)+1,x=(i.get(h)||0)+1;eu.set(h,p),i.set(h,x),o.push(h),p===1&&g&&cg.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Uw++,function(){o.forEach(function(f){var h=eu.get(f)-1,m=i.get(f)-1;eu.set(f,h),i.set(f,m),h||(cg.has(f)||f.removeAttribute(n),cg.delete(f)),m||f.removeAttribute(r)}),Uw--,Uw||(eu=new WeakMap,eu=new WeakMap,cg=new WeakMap,ug={})}},_N=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=EY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),OY(n,s,r,"aria-hidden")):function(){return null}};function AY(e){const t=TY(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(MY);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function TY(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=IY(s),l=$Y(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RY=Symbol("radix.slottable");function MY(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RY}function $Y(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function IY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var $x="Dialog",[cD]=Ws($x),[DY,Pa]=cD($x),uD=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=v.useRef(null),c=v.useRef(null),[u,d]=ri({prop:n,defaultProp:s??!1,onChange:i,caller:$x});return a.jsx(DY,{scope:t,triggerRef:l,contentRef:c,contentId:Is(),titleId:Is(),descriptionId:Is(),open:u,onOpenChange:d,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};uD.displayName=$x;var dD="DialogTrigger",LY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(dD,r),i=gt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":kN(s.open),...n,ref:i,onClick:$e(e.onClick,s.onOpenToggle)})});LY.displayName=dD;var SN="DialogPortal",[FY,fD]=cD(SN,{forceMount:void 0}),hD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Pa(SN,t);return a.jsx(FY,{scope:t,forceMount:r,children:v.Children.map(n,o=>a.jsx(Zn,{present:r||i.open,children:a.jsx(Tx,{asChild:!0,container:s,children:o})}))})};hD.displayName=SN;var Tv="DialogOverlay",mD=v.forwardRef((e,t)=>{const r=fD(Tv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Pa(Tv,e.__scopeDialog);return i.modal?a.jsx(Zn,{present:n||i.open,children:a.jsx(qY,{...s,ref:t})}):null});mD.displayName=Tv;var UY=AY("DialogOverlay.RemoveScroll"),qY=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(Tv,r);return a.jsx(Mx,{as:UY,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":kN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),yc="DialogContent",pD=v.forwardRef((e,t)=>{const r=fD(yc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Pa(yc,e.__scopeDialog);return a.jsx(Zn,{present:n||i.open,children:i.modal?a.jsx(BY,{...s,ref:t}):a.jsx(zY,{...s,ref:t})})});pD.displayName=yc;var BY=v.forwardRef((e,t)=>{const r=Pa(yc,e.__scopeDialog),n=v.useRef(null),s=gt(t,r.contentRef,n);return v.useEffect(()=>{const i=n.current;if(i)return _N(i)},[]),a.jsx(gD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault())})}),zY=v.forwardRef((e,t)=>{const r=Pa(yc,e.__scopeDialog),n=v.useRef(!1),s=v.useRef(!1);return a.jsx(gD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),gD=v.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Pa(yc,r),c=v.useRef(null),u=gt(t,c);return jN(),a.jsxs(a.Fragment,{children:[a.jsx(Ax,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Ox,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":kN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(WY,{titleId:l.titleId}),a.jsx(KY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),NN="DialogTitle",vD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(NN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});vD.displayName=NN;var yD="DialogDescription",xD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(yD,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});xD.displayName=yD;var bD="DialogClose",wD=v.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Pa(bD,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:$e(e.onClick,()=>s.onOpenChange(!1))})});wD.displayName=bD;function kN(e){return e?"open":"closed"}var jD="DialogTitleWarning",[D4e,_D]=mG(jD,{contentName:yc,titleName:NN,docsSlug:"dialog"}),WY=({titleId:e})=>{const t=_D(jD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},VY="DialogDescriptionWarning",KY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_D(VY).contentName}}.`;return v.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},HY=uD,GY=hD,SD=mD,ND=pD,kD=vD,CD=xD,YY=wD;const Re=HY,QY=GY,ED=v.forwardRef(({className:e,...t},r)=>a.jsx(SD,{ref:r,className:J("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));ED.displayName=SD.displayName;const Pe=v.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(QY,{children:[a.jsx(ED,{}),a.jsxs(ND,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(YY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(hd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Pe.displayName=ND.displayName;const Oe=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Oe.displayName="DialogHeader";const Ie=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ie.displayName="DialogFooter";const Ae=v.forwardRef(({className:e,...t},r)=>a.jsx(kD,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Ae.displayName=kD.displayName;const Te=v.forwardRef(({className:e,...t},r)=>a.jsx(CD,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Te.displayName=CD.displayName;var XY=Symbol.for("react.lazy"),Rv=nx[" use ".trim().toString()];function JY(e){return typeof e=="object"&&e!==null&&"then"in e}function PD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===XY&&"_payload"in e&&JY(e._payload)}function hp(e){const t=eQ(e),r=v.forwardRef((n,s)=>{let{children:i,...o}=n;PD(i)&&typeof Rv=="function"&&(i=Rv(i._payload));const l=v.Children.toArray(i),c=l.find(rQ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var ZY=hp("Slot");function eQ(e){const t=v.forwardRef((r,n)=>{let{children:s,...i}=r;if(PD(s)&&typeof Rv=="function"&&(s=Rv(s._payload)),v.isValidElement(s)){const o=sQ(s),l=nQ(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var tQ=Symbol("radix.slottable");function rQ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===tQ}function nQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function sQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const QE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,XE=jt,CN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return XE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=QE(d)||QE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,h]:u},[]);return XE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},aQ=CN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=v.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?ZY:"button";return a.jsx(o,{className:J(aQ({variant:t,size:r,className:e})),ref:i,...s})});P.displayName="Button";function iQ({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Re,{open:e,onOpenChange:o,children:a.jsxs(Pe,{showClose:!0,className:J("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(ka,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Success"}),a.jsx(Te,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Ie,{children:a.jsx(P,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function oQ({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{showClose:!0,className:J("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(to,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Cancel operation?"}),a.jsx(Te,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(P,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const JE={visible:!1},ZE={visible:!1},eP={visible:!1},OD=v.createContext(null);function lQ({children:e}){const[t,r]=v.useState(JE),[n,s]=v.useState(ZE),[i,o]=v.useState(eP),l=v.useCallback(g=>{r({visible:!0,message:g})},[]),c=v.useCallback(()=>{r(JE)},[]),u=v.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=v.useCallback(()=>{s(ZE)},[]),f=v.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=v.useCallback(()=>{o(eP)},[]),m=v.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(OD.Provider,{value:m,children:e})}function cQ(){const e=v.useContext(OD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function uQ(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=cQ();return a.jsxs(a.Fragment,{children:[a.jsx(hG,{visible:e.visible,message:e.message}),a.jsx(iQ,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(oQ,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function dQ({children:e}){return a.jsxs(lQ,{children:[a.jsx(uQ,{}),e]})}var fQ=v.createContext(void 0);function af(e){const t=v.useContext(fQ);return e||t||"ltr"}function h_(e,[t,r]){return Math.min(r,Math.max(t,e))}function hQ(e,t){return v.useReducer((r,n)=>t[r][n]??r,e)}var EN="ScrollArea",[AD]=Ws(EN),[mQ,Vs]=AD(EN),TD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=v.useState(null),[u,d]=v.useState(null),[f,h]=v.useState(null),[m,g]=v.useState(null),[p,x]=v.useState(null),[b,y]=v.useState(0),[w,_]=v.useState(0),[j,S]=v.useState(!1),[N,k]=v.useState(!1),C=gt(t,D=>c(D)),O=af(s);return a.jsx(mQ,{scope:r,type:n,dir:O,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:y,onCornerHeightChange:_,children:a.jsx(Qe.div,{dir:O,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});TD.displayName=EN;var RD="ScrollAreaViewport",MD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Vs(RD,r),l=v.useRef(null),c=gt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});MD.displayName=RD;var oi="ScrollAreaScrollbar",PN=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Vs(oi,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return v.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(pQ,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(gQ,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx($D,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(ON,{...n,ref:t}):null});PN.displayName=oi;var pQ=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Vs(oi,e.__scopeScrollArea),[i,o]=v.useState(!1);return v.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Zn,{present:r||i,children:a.jsx($D,{"data-state":i?"visible":"hidden",...n,ref:t})})}),gQ=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Vs(oi,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Dx(()=>c("SCROLL_END"),100),[l,c]=hQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),v.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Zn,{present:r||l!=="hidden",children:a.jsx(ON,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),$D=v.forwardRef((e,t)=>{const r=Vs(oi,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=v.useState(!1),l=e.orientation==="horizontal",c=Dx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return md(r.viewport,c),md(r.content,c),a.jsx(Zn,{present:n||i,children:a.jsx(ON,{"data-state":i?"visible":"hidden",...s,ref:t})})}),ON=v.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Vs(oi,e.__scopeScrollArea),i=v.useRef(null),o=v.useRef(0),[l,c]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=UD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return jQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(vQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=tP(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(yQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=tP(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),vQ=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Vs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=gt(t,c,i.onScrollbarXChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(DD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Ix(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),BD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$v(o.paddingLeft),paddingEnd:$v(o.paddingRight)}})}})}),yQ=v.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Vs(oi,e.__scopeScrollArea),[o,l]=v.useState(),c=v.useRef(null),u=gt(t,c,i.onScrollbarYChange);return v.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(DD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Ix(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),BD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$v(o.paddingTop),paddingEnd:$v(o.paddingBottom)}})}})}),[xQ,ID]=AD(oi),DD=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Vs(oi,r),[g,p]=v.useState(null),x=gt(t,C=>p(C)),b=v.useRef(null),y=v.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Zr(d),S=Zr(c),N=Dx(f,10);function k(C){if(b.current){const O=C.clientX-b.current.left,D=C.clientY-b.current.top;u({x:O,y:D})}}return v.useEffect(()=>{const C=O=>{const D=O.target;(g==null?void 0:g.contains(D))&&j(O,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),v.useEffect(S,[n,S]),md(g,N),md(m.content,N),a.jsx(xQ,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Zr(i),onThumbPointerUp:Zr(o),onThumbPositionChange:S,onThumbPointerDown:Zr(l),children:a.jsx(Qe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:$e(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:$e(e.onPointerMove,k),onPointerUp:$e(e.onPointerUp,C=>{const O=C.target;O.hasPointerCapture(C.pointerId)&&O.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=y.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Mv="ScrollAreaThumb",LD=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=ID(Mv,e.__scopeScrollArea);return a.jsx(Zn,{present:r||s.hasThumb,children:a.jsx(bQ,{ref:t,...n})})}),bQ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Vs(Mv,r),o=ID(Mv,r),{onThumbPositionChange:l}=o,c=gt(t,f=>o.onThumbChange(f)),u=v.useRef(void 0),d=Dx(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=_Q(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:$e(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:$e(e.onPointerUp,o.onThumbPointerUp)})});LD.displayName=Mv;var AN="ScrollAreaCorner",FD=v.forwardRef((e,t)=>{const r=Vs(AN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(wQ,{...e,ref:t}):null});FD.displayName=AN;var wQ=v.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Vs(AN,r),[i,o]=v.useState(0),[l,c]=v.useState(0),u=!!(i&&l);return md(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),md(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function $v(e){return e?parseInt(e,10):0}function UD(e,t){const r=e/t;return isNaN(r)?0:r}function Ix(e){const t=UD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function jQ(e,t,r,n="ltr"){const s=Ix(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return qD([c,u],f)(e)}function tP(e,t,r="ltr"){const n=Ix(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=h_(e,c);return qD([0,o],[0,l])(u)}function qD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function BD(e,t){return e>0&&e<t}var _Q=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Dx(e,t){const r=Zr(e),n=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),v.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function md(e,t){const r=Zr(t);Nr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var zD=TD,SQ=MD,NQ=FD;const ht=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(zD,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(SQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(WD,{}),a.jsx(NQ,{})]}));ht.displayName=zD.displayName;const WD=v.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(PN,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(LD,{className:"relative flex-1 rounded-full bg-border"})}));WD.displayName=PN.displayName;var kQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],CQ=kQ.reduce((e,t)=>{const r=hp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),EQ="Separator",rP="horizontal",PQ=["horizontal","vertical"],VD=v.forwardRef((e,t)=>{const{decorative:r,orientation:n=rP,...s}=e,i=OQ(n)?n:rP,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(CQ.div,{"data-orientation":i,...l,...s,ref:t})});VD.displayName=EQ;function OQ(e){return PQ.includes(e)}var KD=VD;const TN=v.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(KD,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));TN.displayName=KD.displayName;const AQ=[{to:"/dashboard",label:"Dashboard",icon:fN},{to:"/profile",label:"Profile",icon:dp},{to:"/chat",label:"Chat Session",icon:lp},{to:"/channels",label:"Channels & Adapters",icon:k7},{to:"/skills",label:"Skills Library",icon:cd},{to:"/skill-editor",label:"Skill Editor",icon:sr},{to:"/marketplace",label:"Marketplace",icon:Ex},{to:"/nodes",label:"Nodes",icon:wa},{to:"/cron",label:"Cron Jobs",icon:ml},{to:"/webhooks",label:"Webhooks & Hooks",icon:Av},{to:"/model-providers",label:"Model Providers",icon:OI},{to:"/browser",label:"Browser Automation",icon:Cx},{to:"/voice",label:"Voice & Media",icon:dd},{to:"/secrets",label:"Secrets & Keychain",icon:ud},{to:"/settings",label:"Settings",icon:Mn},{to:"/security",label:"Security Audit",icon:_r},{to:"/logs",label:"Logs & Tracing",icon:sr},{to:"/admin",label:"Admin",icon:_r}];function TQ(){const[e,t]=v.useState(!1);return a.jsxs("aside",{className:J("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(wr,{className:"h-4 w-4"}):a.jsx(Pv,{className:"h-4 w-4"})})]}),a.jsx(ht,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:AQ.map(({to:r,label:n,icon:s})=>a.jsxs(Z4,{to:r,className:({isActive:i})=>J("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(TN,{})]})}const ge=v.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function RQ(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,MQ(s,...t)]}function MQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var $Q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],RN=$Q.reduce((e,t)=>{const r=hp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),HD={exports:{}},GD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=v;function IQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var DQ=typeof Object.is=="function"?Object.is:IQ,LQ=pd.useState,FQ=pd.useEffect,UQ=pd.useLayoutEffect,qQ=pd.useDebugValue;function BQ(e,t){var r=t(),n=LQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return UQ(function(){s.value=r,s.getSnapshot=t,qw(s)&&i({inst:s})},[e,r,t]),FQ(function(){return qw(s)&&i({inst:s}),e(function(){qw(s)&&i({inst:s})})},[e]),qQ(r),r}function qw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!DQ(e,r)}catch{return!0}}function zQ(e,t){return t()}var WQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zQ:BQ;GD.useSyncExternalStore=pd.useSyncExternalStore!==void 0?pd.useSyncExternalStore:WQ;HD.exports=GD;var VQ=HD.exports;function KQ(){return VQ.useSyncExternalStore(HQ,()=>!0,()=>!1)}function HQ(){return()=>{}}var MN="Avatar",[GQ]=RQ(MN),[YQ,YD]=GQ(MN),QD=v.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=v.useState("idle");return a.jsx(YQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(RN.span,{...n,ref:t})})});QD.displayName=MN;var XD="AvatarImage",JD=v.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=YD(XD,r),l=QQ(n,i),c=Zr(u=>{s(u),o.onImageLoadingStatusChange(u)});return Nr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(RN.img,{...i,ref:t,src:n}):null});JD.displayName=XD;var ZD="AvatarFallback",eL=v.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=YD(ZD,r),[o,l]=v.useState(n===void 0);return v.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(RN.span,{...s,ref:t}):null});eL.displayName=ZD;function nP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function QQ(e,{referrerPolicy:t,crossOrigin:r}){const n=KQ(),s=v.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=v.useState(()=>nP(i,e));return Nr(()=>{l(nP(i,e))},[i,e]),Nr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var tL=QD,rL=JD,nL=eL;const Lx=v.forwardRef(({className:e,...t},r)=>a.jsx(tL,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Lx.displayName=tL.displayName;const $N=v.forwardRef(({className:e,...t},r)=>a.jsx(rL,{ref:r,className:J("aspect-square h-full w-full",e),...t}));$N.displayName=rL.displayName;const Fx=v.forwardRef(({className:e,...t},r)=>a.jsx(nL,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Fx.displayName=nL.displayName;function sP(e){const t=XQ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(ZQ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function XQ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=tX(s),l=eX(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JQ=Symbol("radix.slottable");function ZQ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JQ}function eX(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function tX(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Ux(e){const t=e+"CollectionProvider",[r,n]=Ws(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,y=R.useRef(null),w=R.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:y,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=sP(l),u=R.forwardRef((p,x)=>{const{scope:b,children:y}=p,w=i(l,b),_=gt(x,w.collectionRef);return a.jsx(c,{ref:_,children:y})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=sP(d),m=R.forwardRef((p,x)=>{const{scope:b,children:y,...w}=p,_=R.useRef(null),j=gt(x,_),S=i(d,b);return R.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:y})});m.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return R.useCallback(()=>{const y=x.collectionRef.current;if(!y)return[];const w=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const rX=["top","right","bottom","left"],ol=Math.min,os=Math.max,Iv=Math.round,dg=Math.floor,Ja=e=>({x:e,y:e}),nX={left:"right",right:"left",bottom:"top",top:"bottom"},sX={start:"end",end:"start"};function m_(e,t,r){return os(e,ol(t,r))}function Bi(e,t){return typeof e=="function"?e(t):e}function zi(e){return e.split("-")[0]}function of(e){return e.split("-")[1]}function IN(e){return e==="x"?"y":"x"}function DN(e){return e==="y"?"height":"width"}const aX=new Set(["top","bottom"]);function Va(e){return aX.has(zi(e))?"y":"x"}function LN(e){return IN(Va(e))}function iX(e,t,r){r===void 0&&(r=!1);const n=of(e),s=LN(e),i=DN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Dv(o)),[o,Dv(o)]}function oX(e){const t=Dv(e);return[p_(e),t,p_(t)]}function p_(e){return e.replace(/start|end/g,t=>sX[t])}const aP=["left","right"],iP=["right","left"],lX=["top","bottom"],cX=["bottom","top"];function uX(e,t,r){switch(e){case"top":case"bottom":return r?t?iP:aP:t?aP:iP;case"left":case"right":return t?lX:cX;default:return[]}}function dX(e,t,r,n){const s=of(e);let i=uX(zi(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(p_)))),i}function Dv(e){return e.replace(/left|right|bottom|top/g,t=>nX[t])}function fX(e){return{top:0,right:0,bottom:0,left:0,...e}}function sL(e){return typeof e!="number"?fX(e):{top:e,right:e,bottom:e,left:e}}function Lv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function oP(e,t,r){let{reference:n,floating:s}=e;const i=Va(t),o=LN(t),l=DN(o),c=zi(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(of(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function hX(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Bi(t,e),g=sL(m),x=l[h?f==="floating"?"reference":"floating":f],b=Lv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),y=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Lv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:y,offsetParent:w,strategy:c}):y);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const mX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=oP(u,n,c),h=n,m={},g=0;for(let x=0;x<l.length;x++){var p;const{name:b,fn:y}=l[x],{x:w,y:_,data:j,reset:S}=await y({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:hX},elements:{reference:e,floating:t}});d=w??d,f=_??f,m={...m,[b]:{...m[b],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=oP(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},pX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Bi(e,t)||{};if(u==null)return{};const f=sL(d),h={x:r,y:n},m=LN(s),g=DN(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",y=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=N/2-p[g]/2-1,O=ol(f[b],C),D=ol(f[y],C),E=O,L=N-p[g]-D,M=N/2-p[g]/2+k,K=m_(E,M,L),A=!c.arrow&&of(s)!=null&&M!==K&&i.reference[g]/2-(M<E?O:D)-p[g]/2<0,V=A?M<E?M-E:M-L:0;return{[m]:h[m]+V,data:{[m]:K,centerOffset:M-K-V,...A&&{alignmentOffset:V}},reset:A}}}),gX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=Bi(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=zi(s),y=Va(l),w=zi(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Dv(l)]:oX(l)),S=g!=="none";!h&&S&&j.push(...dX(l,p,g,_));const N=[l,...j],k=await c.detectOverflow(t,x),C=[];let O=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const M=iX(s,o,_);C.push(k[M[0]],k[M[1]])}if(O=[...O,{placement:s,overflows:C}],!C.every(M=>M<=0)){var D,E;const M=(((D=i.flip)==null?void 0:D.index)||0)+1,K=N[M];if(K&&(!(f==="alignment"?y!==Va(K):!1)||O.every(T=>Va(T.placement)===y?T.overflows[0]>0:!0)))return{data:{index:M,overflows:O},reset:{placement:K}};let A=(E=O.filter(V=>V.overflows[0]<=0).sort((V,T)=>V.overflows[1]-T.overflows[1])[0])==null?void 0:E.placement;if(!A)switch(m){case"bestFit":{var L;const V=(L=O.filter(T=>{if(S){const $=Va(T.placement);return $===y||$==="y"}return!0}).map(T=>[T.placement,T.overflows.filter($=>$>0).reduce(($,I)=>$+I,0)]).sort((T,$)=>T[1]-$[1])[0])==null?void 0:L[0];V&&(A=V);break}case"initialPlacement":A=l;break}if(s!==A)return{reset:{placement:A}}}return{}}}};function lP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function cP(e){return rX.some(t=>e[t]>=0)}const vX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Bi(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=lP(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:cP(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=lP(o,r.floating);return{data:{escapedOffsets:l,escaped:cP(l)}}}default:return{}}}}},aL=new Set(["left","top"]);async function yX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=zi(r),l=of(r),c=Va(r)==="y",u=aL.has(o)?-1:1,d=i&&c?-1:1,f=Bi(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const xX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await yX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},bX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...u}=Bi(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Va(zi(s)),m=IN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=g+f[b],_=g-f[y];g=m_(w,g,_)}if(l){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=p+f[b],_=p-f[y];p=m_(w,p,_)}const x=c.fn({...t,[m]:g,[h]:p});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},wX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Bi(e,t),d={x:r,y:n},f=Va(s),h=IN(f);let m=d[h],g=d[f];const p=Bi(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,y;const w=h==="y"?"width":"height",_=aL.has(zi(s)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((y=o.offset)==null?void 0:y[f])||0)-(_?x.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},jX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Bi(e,t),d=await o.detectOverflow(t,u),f=zi(s),h=of(s),m=Va(s)==="y",{width:g,height:p}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const y=p-d.top-d.bottom,w=g-d.left-d.right,_=ol(p-d[x],y),j=ol(g-d[b],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=y),S&&!h){const O=os(d.left,0),D=os(d.right,0),E=os(d.top,0),L=os(d.bottom,0);m?k=g-2*(O!==0||D!==0?O+D:os(d.left,d.right)):N=p-2*(E!==0||L!==0?E+L:os(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function qx(){return typeof window<"u"}function lf(e){return iL(e)?(e.nodeName||"").toLowerCase():"#document"}function ms(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function li(e){var t;return(t=(iL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iL(e){return qx()?e instanceof Node||e instanceof ms(e).Node:!1}function Ca(e){return qx()?e instanceof Element||e instanceof ms(e).Element:!1}function ni(e){return qx()?e instanceof HTMLElement||e instanceof ms(e).HTMLElement:!1}function uP(e){return!qx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ms(e).ShadowRoot}const _X=new Set(["inline","contents"]);function mp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Ea(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!_X.has(s)}const SX=new Set(["table","td","th"]);function NX(e){return SX.has(lf(e))}const kX=[":popover-open",":modal"];function Bx(e){return kX.some(t=>{try{return e.matches(t)}catch{return!1}})}const CX=["transform","translate","scale","rotate","perspective"],EX=["transform","translate","scale","rotate","perspective","filter"],PX=["paint","layout","strict","content"];function FN(e){const t=UN(),r=Ca(e)?Ea(e):e;return CX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||EX.some(n=>(r.willChange||"").includes(n))||PX.some(n=>(r.contain||"").includes(n))}function OX(e){let t=ll(e);for(;ni(t)&&!gd(t);){if(FN(t))return t;if(Bx(t))return null;t=ll(t)}return null}function UN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AX=new Set(["html","body","#document"]);function gd(e){return AX.has(lf(e))}function Ea(e){return ms(e).getComputedStyle(e)}function zx(e){return Ca(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ll(e){if(lf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||uP(e)&&e.host||li(e);return uP(t)?t.host:t}function oL(e){const t=ll(e);return gd(t)?e.ownerDocument?e.ownerDocument.body:e.body:ni(t)&&mp(t)?t:oL(t)}function om(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=oL(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ms(s);if(i){const l=g_(o);return t.concat(o,o.visualViewport||[],mp(s)?s:[],l&&r?om(l):[])}return t.concat(s,om(s,[],r))}function g_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lL(e){const t=Ea(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=ni(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Iv(r)!==i||Iv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function qN(e){return Ca(e)?e:e.contextElement}function Du(e){const t=qN(e);if(!ni(t))return Ja(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=lL(t);let o=(i?Iv(r.width):r.width)/n,l=(i?Iv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const TX=Ja(0);function cL(e){const t=ms(e);return!UN()||!t.visualViewport?TX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function RX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ms(e)?!1:t}function xc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=qN(e);let o=Ja(1);t&&(n?Ca(n)&&(o=Du(n)):o=Du(e));const l=RX(i,r,n)?cL(i):Ja(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ms(i),m=n&&Ca(n)?ms(n):n;let g=h,p=g_(g);for(;p&&n&&m!==g;){const x=Du(p),b=p.getBoundingClientRect(),y=Ea(p),w=b.left+(p.clientLeft+parseFloat(y.paddingLeft))*x.x,_=b.top+(p.clientTop+parseFloat(y.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=_,g=ms(p),p=g_(g)}}return Lv({width:d,height:f,x:c,y:u})}function Wx(e,t){const r=zx(e).scrollLeft;return t?t.left+r:xc(li(e)).left+r}function uL(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Wx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function MX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=li(n),l=t?Bx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ja(1);const d=Ja(0),f=ni(n);if((f||!f&&!i)&&((lf(n)!=="body"||mp(o))&&(c=zx(n)),ni(n))){const m=xc(n);u=Du(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?uL(o,c):Ja(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function $X(e){return Array.from(e.getClientRects())}function IX(e){const t=li(e),r=zx(e),n=e.ownerDocument.body,s=os(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=os(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Wx(e);const l=-r.scrollTop;return Ea(n).direction==="rtl"&&(o+=os(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const dP=25;function DX(e,t){const r=ms(e),n=li(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=UN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Wx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=dP&&(i-=g)}else u<=dP&&(i+=u);return{width:i,height:o,x:l,y:c}}const LX=new Set(["absolute","fixed"]);function FX(e,t){const r=xc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=ni(e)?Du(e):Ja(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function fP(e,t,r){let n;if(t==="viewport")n=DX(e,r);else if(t==="document")n=IX(li(e));else if(Ca(t))n=FX(t,r);else{const s=cL(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Lv(n)}function dL(e,t){const r=ll(e);return r===t||!Ca(r)||gd(r)?!1:Ea(r).position==="fixed"||dL(r,t)}function UX(e,t){const r=t.get(e);if(r)return r;let n=om(e,[],!1).filter(l=>Ca(l)&&lf(l)!=="body"),s=null;const i=Ea(e).position==="fixed";let o=i?ll(e):e;for(;Ca(o)&&!gd(o);){const l=Ea(o),c=FN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&LX.has(s.position)||mp(o)&&!c&&dL(e,o))?n=n.filter(d=>d!==o):s=l,o=ll(o)}return t.set(e,n),n}function qX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Bx(t)?[]:UX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=fP(t,d,s);return u.top=os(f.top,u.top),u.right=ol(f.right,u.right),u.bottom=ol(f.bottom,u.bottom),u.left=os(f.left,u.left),u},fP(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function BX(e){const{width:t,height:r}=lL(e);return{width:t,height:r}}function zX(e,t,r){const n=ni(t),s=li(t),i=r==="fixed",o=xc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ja(0);function u(){c.x=Wx(s)}if(n||!n&&!i)if((lf(t)!=="body"||mp(s))&&(l=zx(t)),n){const m=xc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?uL(s,l):Ja(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Bw(e){return Ea(e).position==="static"}function hP(e,t){if(!ni(e)||Ea(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return li(e)===r&&(r=r.ownerDocument.body),r}function fL(e,t){const r=ms(e);if(Bx(e))return r;if(!ni(e)){let s=ll(e);for(;s&&!gd(s);){if(Ca(s)&&!Bw(s))return s;s=ll(s)}return r}let n=hP(e,t);for(;n&&NX(n)&&Bw(n);)n=hP(n,t);return n&&gd(n)&&Bw(n)&&!FN(n)?r:n||OX(e)||r}const WX=async function(e){const t=this.getOffsetParent||fL,r=this.getDimensions,n=await r(e.floating);return{reference:zX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function VX(e){return Ea(e).direction==="rtl"}const KX={convertOffsetParentRelativeRectToViewportRelativeRect:MX,getDocumentElement:li,getClippingRect:qX,getOffsetParent:fL,getElementRects:WX,getClientRects:$X,getDimensions:BX,getScale:Du,isElement:Ca,isRTL:VX};function hL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function HX(e,t){let r=null,n;const s=li(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=dg(f),p=dg(s.clientWidth-(d+h)),x=dg(s.clientHeight-(f+m)),b=dg(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:os(0,ol(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!hL(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function GX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=qN(e),d=s||i?[...u?om(u):[],...om(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?HX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[y]=b;y&&y.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?xc(e):null;c&&x();function x(){const b=xc(e);p&&!hL(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(y=>{s&&y.removeEventListener("scroll",r),i&&y.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const YX=xX,QX=bX,XX=gX,JX=jX,ZX=vX,mP=pX,eJ=wX,tJ=(e,t,r)=>{const n=new Map,s={platform:KX,...r},i={...s.platform,_c:n};return mX(e,t,{...s,platform:i})};var rJ=typeof document<"u",nJ=function(){},Qg=rJ?v.useLayoutEffect:nJ;function Fv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Fv(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Fv(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function mL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function pP(e,t){const r=mL(e);return Math.round(t*r)/r}function zw(e){const t=v.useRef(e);return Qg(()=>{t.current=e}),t}function sJ(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=v.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=v.useState(n);Fv(h,n)||m(n);const[g,p]=v.useState(null),[x,b]=v.useState(null),y=v.useCallback(T=>{T!==S.current&&(S.current=T,p(T))},[]),w=v.useCallback(T=>{T!==N.current&&(N.current=T,b(T))},[]),_=i||g,j=o||x,S=v.useRef(null),N=v.useRef(null),k=v.useRef(d),C=c!=null,O=zw(c),D=zw(s),E=zw(u),L=v.useCallback(()=>{if(!S.current||!N.current)return;const T={placement:t,strategy:r,middleware:h};D.current&&(T.platform=D.current),tJ(S.current,N.current,T).then($=>{const I={...$,isPositioned:E.current!==!1};M.current&&!Fv(k.current,I)&&(k.current=I,Yd.flushSync(()=>{f(I)}))})},[h,t,r,D,E]);Qg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[u]);const M=v.useRef(!1);Qg(()=>(M.current=!0,()=>{M.current=!1}),[]),Qg(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(O.current)return O.current(_,j,L);L()}},[_,j,L,O,C]);const K=v.useMemo(()=>({reference:S,floating:N,setReference:y,setFloating:w}),[y,w]),A=v.useMemo(()=>({reference:_,floating:j}),[_,j]),V=v.useMemo(()=>{const T={position:r,left:0,top:0};if(!A.floating)return T;const $=pP(A.floating,d.x),I=pP(A.floating,d.y);return l?{...T,transform:"translate("+$+"px, "+I+"px)",...mL(A.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:I}},[r,l,A.floating,d.x,d.y]);return v.useMemo(()=>({...d,update:L,refs:K,elements:A,floatingStyles:V}),[d,L,K,A,V])}const aJ=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?mP({element:n.current,padding:s}).fn(r):{}:n?mP({element:n,padding:s}).fn(r):{}}}},iJ=(e,t)=>({...YX(e),options:[e,t]}),oJ=(e,t)=>({...QX(e),options:[e,t]}),lJ=(e,t)=>({...eJ(e),options:[e,t]}),cJ=(e,t)=>({...XX(e),options:[e,t]}),uJ=(e,t)=>({...JX(e),options:[e,t]}),dJ=(e,t)=>({...ZX(e),options:[e,t]}),fJ=(e,t)=>({...aJ(e),options:[e,t]});var hJ="Arrow",pL=v.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});pL.displayName=hJ;var mJ=pL;function gL(e){const[t,r]=v.useState(void 0);return Nr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var BN="Popper",[vL,Vx]=Ws(BN),[pJ,yL]=vL(BN),xL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=v.useState(null);return a.jsx(pJ,{scope:t,anchor:n,onAnchorChange:s,children:r})};xL.displayName=BN;var bL="PopperAnchor",wL=v.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=yL(bL,r),o=v.useRef(null),l=gt(t,o),c=v.useRef(null);return v.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});wL.displayName=bL;var zN="PopperContent",[gJ,vJ]=vL(zN),jL=v.forwardRef((e,t)=>{var me,Se,re,pe,Y,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=yL(zN,r),[b,y]=v.useState(null),w=gt(t,Xe=>y(Xe)),[_,j]=v.useState(null),S=gL(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),O=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],E=D.length>0,L={padding:O,boundary:D.filter(xJ),altBoundary:E},{refs:M,floatingStyles:K,placement:A,isPositioned:V,middlewareData:T}=sJ({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>GX(...Xe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[iJ({mainAxis:s+k,alignmentAxis:o}),c&&oJ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lJ():void 0,...L}),c&&cJ({...L}),uJ({...L,apply:({elements:Xe,rects:He,availableWidth:xt,availableHeight:ft})=>{const{width:Wt,height:Cr}=He.reference,hn=Xe.floating.style;hn.setProperty("--radix-popper-available-width",`${xt}px`),hn.setProperty("--radix-popper-available-height",`${ft}px`),hn.setProperty("--radix-popper-anchor-width",`${Wt}px`),hn.setProperty("--radix-popper-anchor-height",`${Cr}px`)}}),_&&fJ({element:_,padding:l}),bJ({arrowWidth:N,arrowHeight:k}),h&&dJ({strategy:"referenceHidden",...L})]}),[$,I]=NL(A),ee=Zr(g);Nr(()=>{V&&(ee==null||ee())},[V,ee]);const F=(me=T.arrow)==null?void 0:me.x,ie=(Se=T.arrow)==null?void 0:Se.y,ye=((re=T.arrow)==null?void 0:re.centerOffset)!==0,[ze,Ke]=v.useState();return Nr(()=>{b&&Ke(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:V?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(pe=T.transformOrigin)==null?void 0:pe.x,(Y=T.transformOrigin)==null?void 0:Y.y].join(" "),...((Q=T.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(gJ,{scope:r,placedSide:$,onArrowChange:j,arrowX:F,arrowY:ie,shouldHideArrow:ye,children:a.jsx(Qe.div,{"data-side":$,"data-align":I,...p,ref:w,style:{...p.style,animation:V?void 0:"none"}})})})});jL.displayName=zN;var _L="PopperArrow",yJ={top:"bottom",right:"left",bottom:"top",left:"right"},SL=v.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=vJ(_L,n),o=yJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(mJ,{...s,ref:r,style:{...s.style,display:"block"}})})});SL.displayName=_L;function xJ(e){return e!==null}var bJ=e=>({name:"transformOrigin",options:e,fn(t){var x,b,y;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=NL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((y=s.arrow)==null?void 0:y.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function NL(e){const[t,r="center"]=e.split("-");return[t,r]}var kL=xL,CL=wL,EL=jL,PL=SL,Ww="rovingFocusGroup.onEntryFocus",wJ={bubbles:!1,cancelable:!0},pp="RovingFocusGroup",[v_,OL,jJ]=Ux(pp),[_J,Kx]=Ws(pp,[jJ]),[SJ,NJ]=_J(pp),AL=v.forwardRef((e,t)=>a.jsx(v_.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(v_.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(kJ,{...e,ref:t})})}));AL.displayName=pp;var kJ=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=v.useRef(null),m=gt(t,h),g=af(i),[p,x]=ri({prop:o,defaultProp:l??null,onChange:c,caller:pp}),[b,y]=v.useState(!1),w=Zr(u),_=OL(r),j=v.useRef(!1),[S,N]=v.useState(0);return v.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Ww,w),()=>k.removeEventListener(Ww,w)},[w]),a.jsx(SJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:v.useCallback(k=>x(k),[x]),onItemShiftTab:v.useCallback(()=>y(!0),[]),onFocusableItemAdd:v.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:v.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{j.current=!0}),onFocus:$e(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const O=new CustomEvent(Ww,wJ);if(k.currentTarget.dispatchEvent(O),!O.defaultPrevented){const D=_().filter(A=>A.focusable),E=D.find(A=>A.active),L=D.find(A=>A.id===p),K=[E,L,...D].filter(Boolean).map(A=>A.ref.current);ML(K,d)}}j.current=!1}),onBlur:$e(e.onBlur,()=>y(!1))})})}),TL="RovingFocusGroupItem",RL=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Is(),u=i||c,d=NJ(TL,r),f=d.currentTabStopId===u,h=OL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return v.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(v_.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:$e(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:$e(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:$e(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=PJ(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?OJ(w,_+1):w.slice(_+1)}setTimeout(()=>ML(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});RL.displayName=TL;var CJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function EJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function PJ(e,t,r){const n=EJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return CJ[n]}function ML(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function OJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $L=AL,IL=RL;function AJ(e){const t=TJ(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(MJ);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function TJ(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=IJ(s),l=$J(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var RJ=Symbol("radix.slottable");function MJ(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===RJ}function $J(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function IJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y_=["Enter"," "],DJ=["ArrowDown","PageUp","Home"],DL=["ArrowUp","PageDown","End"],LJ=[...DJ,...DL],FJ={ltr:[...y_,"ArrowRight"],rtl:[...y_,"ArrowLeft"]},UJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},gp="Menu",[lm,qJ,BJ]=Ux(gp),[Mc,LL]=Ws(gp,[BJ,Vx,Kx]),Hx=Vx(),FL=Kx(),[zJ,$c]=Mc(gp),[WJ,vp]=Mc(gp),UL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Hx(t),[c,u]=v.useState(null),d=v.useRef(!1),f=Zr(i),h=af(s);return v.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(kL,{...l,children:a.jsx(zJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(WJ,{scope:t,onClose:v.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};UL.displayName=gp;var VJ="MenuAnchor",WN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Hx(r);return a.jsx(CL,{...s,...n,ref:t})});WN.displayName=VJ;var VN="MenuPortal",[KJ,qL]=Mc(VN,{forceMount:void 0}),BL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=$c(VN,t);return a.jsx(KJ,{scope:t,forceMount:r,children:a.jsx(Zn,{present:r||i.open,children:a.jsx(Tx,{asChild:!0,container:s,children:n})})})};BL.displayName=VN;var Ds="MenuContent",[HJ,KN]=Mc(Ds),zL=v.forwardRef((e,t)=>{const r=qL(Ds,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=$c(Ds,e.__scopeMenu),o=vp(Ds,e.__scopeMenu);return a.jsx(lm.Provider,{scope:e.__scopeMenu,children:a.jsx(Zn,{present:n||i.open,children:a.jsx(lm.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(GJ,{...s,ref:t}):a.jsx(YJ,{...s,ref:t})})})})}),GJ=v.forwardRef((e,t)=>{const r=$c(Ds,e.__scopeMenu),n=v.useRef(null),s=gt(t,n);return v.useEffect(()=>{const i=n.current;if(i)return _N(i)},[]),a.jsx(HN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),YJ=v.forwardRef((e,t)=>{const r=$c(Ds,e.__scopeMenu);return a.jsx(HN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),QJ=AJ("MenuContent.ScrollLock"),HN=v.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=$c(Ds,r),b=vp(Ds,r),y=Hx(r),w=FL(r),_=qJ(r),[j,S]=v.useState(null),N=v.useRef(null),k=gt(t,N,x.onContentChange),C=v.useRef(0),O=v.useRef(""),D=v.useRef(0),E=v.useRef(null),L=v.useRef("right"),M=v.useRef(0),K=g?Mx:v.Fragment,A=g?{as:QJ,allowPinchZoom:!0}:void 0,V=$=>{var me,Se;const I=O.current+$,ee=_().filter(re=>!re.disabled),F=document.activeElement,ie=(me=ee.find(re=>re.ref.current===F))==null?void 0:me.textValue,ye=ee.map(re=>re.textValue),ze=lZ(ye,I,ie),Ke=(Se=ee.find(re=>re.textValue===ze))==null?void 0:Se.ref.current;(function re(pe){O.current=pe,window.clearTimeout(C.current),pe!==""&&(C.current=window.setTimeout(()=>re(""),1e3))})(I),Ke&&setTimeout(()=>Ke.focus())};v.useEffect(()=>()=>window.clearTimeout(C.current),[]),jN();const T=v.useCallback($=>{var ee,F;return L.current===((ee=E.current)==null?void 0:ee.side)&&uZ($,(F=E.current)==null?void 0:F.area)},[]);return a.jsx(HJ,{scope:r,searchRef:O,onItemEnter:v.useCallback($=>{T($)&&$.preventDefault()},[T]),onItemLeave:v.useCallback($=>{var I;T($)||((I=N.current)==null||I.focus(),S(null))},[T]),onTriggerLeave:v.useCallback($=>{T($)&&$.preventDefault()},[T]),pointerGraceTimerRef:D,onPointerGraceIntentChange:v.useCallback($=>{E.current=$},[]),children:a.jsx(K,{...A,children:a.jsx(Ax,{asChild:!0,trapped:s,onMountAutoFocus:$e(i,$=>{var I;$.preventDefault(),(I=N.current)==null||I.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx($L,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:$e(c,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(EL,{role:"menu","aria-orientation":"vertical","data-state":a3(x.open),"data-radix-menu-content":"",dir:b.dir,...y,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:$e(p.onKeyDown,$=>{const ee=$.target.closest("[data-radix-menu-content]")===$.currentTarget,F=$.ctrlKey||$.altKey||$.metaKey,ie=$.key.length===1;ee&&($.key==="Tab"&&$.preventDefault(),!F&&ie&&V($.key));const ye=N.current;if($.target!==ye||!LJ.includes($.key))return;$.preventDefault();const Ke=_().filter(me=>!me.disabled).map(me=>me.ref.current);DL.includes($.key)&&Ke.reverse(),iZ(Ke)}),onBlur:$e(e.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(C.current),O.current="")}),onPointerMove:$e(e.onPointerMove,cm($=>{const I=$.target,ee=M.current!==$.clientX;if($.currentTarget.contains(I)&&ee){const F=$.clientX>M.current?"right":"left";L.current=F,M.current=$.clientX}}))})})})})})})});zL.displayName=Ds;var XJ="MenuGroup",GN=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});GN.displayName=XJ;var JJ="MenuLabel",WL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});WL.displayName=JJ;var Uv="MenuItem",gP="menu.itemSelect",Gx=v.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=v.useRef(null),o=vp(Uv,e.__scopeMenu),l=KN(Uv,e.__scopeMenu),c=gt(t,i),u=v.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(gP,{bubbles:!0,cancelable:!0});f.addEventListener(gP,m=>n==null?void 0:n(m),{once:!0}),JI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(VL,{...s,ref:c,disabled:r,onClick:$e(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:$e(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:$e(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||y_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Gx.displayName=Uv;var VL=v.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=KN(Uv,r),l=FL(r),c=v.useRef(null),u=gt(t,c),[d,f]=v.useState(!1),[h,m]=v.useState("");return v.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(lm.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(IL,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:$e(e.onPointerMove,cm(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,cm(g=>o.onItemLeave(g))),onFocus:$e(e.onFocus,()=>f(!0)),onBlur:$e(e.onBlur,()=>f(!1))})})})}),ZJ="MenuCheckboxItem",KL=v.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(XL,{scope:e.__scopeMenu,checked:r,children:a.jsx(Gx,{role:"menuitemcheckbox","aria-checked":qv(r)?"mixed":r,...s,ref:t,"data-state":QN(r),onSelect:$e(s.onSelect,()=>n==null?void 0:n(qv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});KL.displayName=ZJ;var HL="MenuRadioGroup",[eZ,tZ]=Mc(HL,{value:void 0,onValueChange:()=>{}}),GL=v.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Zr(n);return a.jsx(eZ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(GN,{...s,ref:t})})});GL.displayName=HL;var YL="MenuRadioItem",QL=v.forwardRef((e,t)=>{const{value:r,...n}=e,s=tZ(YL,e.__scopeMenu),i=r===s.value;return a.jsx(XL,{scope:e.__scopeMenu,checked:i,children:a.jsx(Gx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":QN(i),onSelect:$e(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});QL.displayName=YL;var YN="MenuItemIndicator",[XL,rZ]=Mc(YN,{checked:!1}),JL=v.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=rZ(YN,r);return a.jsx(Zn,{present:n||qv(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":QN(i.checked)})})});JL.displayName=YN;var nZ="MenuSeparator",ZL=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ZL.displayName=nZ;var sZ="MenuArrow",e3=v.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Hx(r);return a.jsx(PL,{...s,...n,ref:t})});e3.displayName=sZ;var aZ="MenuSub",[L4e,t3]=Mc(aZ),uh="MenuSubTrigger",r3=v.forwardRef((e,t)=>{const r=$c(uh,e.__scopeMenu),n=vp(uh,e.__scopeMenu),s=t3(uh,e.__scopeMenu),i=KN(uh,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>d,[d]),v.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(WN,{asChild:!0,...u,children:a.jsx(VL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":a3(r.open),...e,ref:ro(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,cm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:$e(e.onPointerLeave,cm(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",b=x?-5:5,y=h[x?"left":"right"],w=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:y,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:y,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||FJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});r3.displayName=uh;var n3="MenuSubContent",s3=v.forwardRef((e,t)=>{const r=qL(Ds,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=$c(Ds,e.__scopeMenu),o=vp(Ds,e.__scopeMenu),l=t3(n3,e.__scopeMenu),c=v.useRef(null),u=gt(t,c);return a.jsx(lm.Provider,{scope:e.__scopeMenu,children:a.jsx(Zn,{present:n||i.open,children:a.jsx(lm.Slot,{scope:e.__scopeMenu,children:a.jsx(HN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:$e(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:$e(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=UJ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});s3.displayName=n3;function a3(e){return e?"open":"closed"}function qv(e){return e==="indeterminate"}function QN(e){return qv(e)?"indeterminate":e?"checked":"unchecked"}function iZ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function oZ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function lZ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=oZ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function cZ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function uZ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return cZ(r,t)}function cm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var dZ=UL,fZ=WN,hZ=BL,mZ=zL,pZ=GN,gZ=WL,vZ=Gx,yZ=KL,xZ=GL,bZ=QL,wZ=JL,jZ=ZL,_Z=e3,SZ=r3,NZ=s3,Yx="DropdownMenu",[kZ]=Ws(Yx,[LL]),Ln=LL(),[CZ,i3]=kZ(Yx),o3=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Ln(t),u=v.useRef(null),[d,f]=ri({prop:s,defaultProp:i??!1,onChange:o,caller:Yx});return a.jsx(CZ,{scope:t,triggerId:Is(),triggerRef:u,contentId:Is(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(dZ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};o3.displayName=Yx;var l3="DropdownMenuTrigger",c3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=i3(l3,r),o=Ln(r);return a.jsx(fZ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:ro(t,i.triggerRef),onPointerDown:$e(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:$e(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});c3.displayName=l3;var EZ="DropdownMenuPortal",u3=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Ln(t);return a.jsx(hZ,{...n,...r})};u3.displayName=EZ;var d3="DropdownMenuContent",f3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=i3(d3,r),i=Ln(r),o=v.useRef(!1);return a.jsx(mZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});f3.displayName=d3;var PZ="DropdownMenuGroup",OZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(pZ,{...s,...n,ref:t})});OZ.displayName=PZ;var AZ="DropdownMenuLabel",h3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(gZ,{...s,...n,ref:t})});h3.displayName=AZ;var TZ="DropdownMenuItem",m3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(vZ,{...s,...n,ref:t})});m3.displayName=TZ;var RZ="DropdownMenuCheckboxItem",p3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(yZ,{...s,...n,ref:t})});p3.displayName=RZ;var MZ="DropdownMenuRadioGroup",$Z=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(xZ,{...s,...n,ref:t})});$Z.displayName=MZ;var IZ="DropdownMenuRadioItem",g3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(bZ,{...s,...n,ref:t})});g3.displayName=IZ;var DZ="DropdownMenuItemIndicator",v3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(wZ,{...s,...n,ref:t})});v3.displayName=DZ;var LZ="DropdownMenuSeparator",y3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(jZ,{...s,...n,ref:t})});y3.displayName=LZ;var FZ="DropdownMenuArrow",UZ=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(_Z,{...s,...n,ref:t})});UZ.displayName=FZ;var qZ="DropdownMenuSubTrigger",x3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(SZ,{...s,...n,ref:t})});x3.displayName=qZ;var BZ="DropdownMenuSubContent",b3=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Ln(r);return a.jsx(NZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});b3.displayName=BZ;var zZ=o3,WZ=c3,VZ=u3,w3=f3,j3=h3,_3=m3,S3=p3,N3=g3,k3=v3,C3=y3,E3=x3,P3=b3;const Ls=zZ,Fs=WZ,KZ=v.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(E3,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(wr,{className:"ml-auto h-4 w-4"})]}));KZ.displayName=E3.displayName;const HZ=v.forwardRef(({className:e,...t},r)=>a.jsx(P3,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));HZ.displayName=P3.displayName;const ps=v.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(VZ,{children:a.jsx(w3,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ps.displayName=w3.displayName;const Mt=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(_3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Mt.displayName=_3.displayName;const GZ=v.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(S3,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(k3,{children:a.jsx(tf,{className:"h-4 w-4"})})}),t]}));GZ.displayName=S3.displayName;const YZ=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(N3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(k3,{children:a.jsx(c_,{className:"h-2 w-2 fill-current"})})}),t]}));YZ.displayName=N3.displayName;const O3=v.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(j3,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));O3.displayName=j3.displayName;const x_=v.forwardRef(({className:e,...t},r)=>a.jsx(C3,{ref:r,className:J("-mx-1 my-1 h-px bg-border",e),...t}));x_.displayName=C3.displayName;function QZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(LI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Ae,{children:"Sign out"}),a.jsx(Te,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function XZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=ip(),s=Ji(),[i,o]=v.useState(!1),[l,c]=v.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:J("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(m7,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(ue,{to:"/help","aria-label":"Help",children:a.jsx(rf,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Lx,{className:"h-10 w-10",children:[a.jsx($N,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Fx,{className:"bg-primary/20 text-primary",children:a.jsx(dp,{className:"h-5 w-5"})})]})})}),a.jsxs(ps,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(O3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(x_,{}),a.jsx(Mt,{asChild:!0,children:a.jsx(ue,{to:"/profile",children:"Profile"})}),a.jsx(Mt,{asChild:!0,children:a.jsx(ue,{to:"/settings",children:"Settings"})}),a.jsx(x_,{}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(LI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/login",children:"Sign in"})}),a.jsx(P,{size:"sm",asChild:!0,children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(QZ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function JZ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(TQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(XZ,{}),a.jsx("main",{className:J("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(X4,{})})]})]})}const X=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const te=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));te.displayName="CardHeader";const se=v.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));se.displayName="CardTitle";const he=v.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));he.displayName="CardDescription";const Z=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const ZZ=v.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));ZZ.displayName="CardFooter";const eee="reveal-visible";function fg(e){const t=v.useRef(null),[r,n]=v.useState(!1);return v.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(eee))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const tee=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],ree=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],nee=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],see={MessageSquare:lp,Zap:VI,Smartphone:P7,Globe:$I,Shield:_r,Clock:zo};function aee(){const[e,t]=v.useState(null),r=fg(),n=fg(),s=fg(),i=fg();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(P,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(P,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Ai,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(P,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:tee.map((o,l)=>a.jsx(iee,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:ree.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:nee.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-lg",children:o.planName}),a.jsx(he,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Z,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Re,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Pe,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:e.planName}),a.jsx(Te,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(P,{asChild:!0,className:"mt-6 w-full",children:a.jsx(ue,{to:"/signup",children:"Get started"})})]})})})]})}function iee({feature:e,index:t}){const r=see[e.iconName]??VI;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(te,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(se,{className:"text-lg",children:e.name}),a.jsx(he,{children:e.description})]})})}var yp=e=>e.type==="checkbox",zl=e=>e instanceof Date,Vn=e=>e==null;const A3=e=>typeof e=="object";var $r=e=>!Vn(e)&&!Array.isArray(e)&&A3(e)&&!zl(e),oee=e=>$r(e)&&e.target?yp(e.target)?e.target.checked:e.target.value:e,lee=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,cee=(e,t)=>e.has(lee(t)),uee=e=>{const t=e.constructor&&e.constructor.prototype;return $r(t)&&t.hasOwnProperty("isPrototypeOf")},XN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(XN&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!($r(e)&&uee(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Lr(e[s]));return n}var Qx=e=>/^\w*$/.test(e),cr=e=>e===void 0,JN=e=>Array.isArray(e)?e.filter(Boolean):[],ZN=e=>JN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Fe=(e,t,r)=>{if(!t||!$r(e))return r;const n=(Qx(t)?[t]:ZN(t)).reduce((s,i)=>Vn(s)?s:s[i],e);return cr(n)||n===e?cr(e[t])?r:e[t]:n},Fa=e=>typeof e=="boolean",ma=e=>typeof e=="function",Vt=(e,t,r)=>{let n=-1;const s=Qx(t)?[t]:ZN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=$r(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const vP={BLUR:"blur",FOCUS_OUT:"focusout"},pa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},hi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dee=R.createContext(null);dee.displayName="HookFormControlContext";var fee=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==pa.all&&(t._proxyFormState[o]=!n||pa.all),e[o]}});return s};const hee=typeof window<"u"?R.useLayoutEffect:R.useEffect;var cs=e=>typeof e=="string",mee=(e,t,r,n,s)=>cs(e)?(n&&t.watch.add(e),Fe(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Fe(r,i))):(n&&(t.watchAll=!0),r),b_=e=>Vn(e)||!A3(e);function Po(e,t,r=new WeakSet){if(b_(e)||b_(t))return Object.is(e,t);if(zl(e)&&zl(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(zl(o)&&zl(l)||$r(o)&&$r(l)||Array.isArray(o)&&Array.isArray(l)?!Po(o,l,r):!Object.is(o,l))return!1}}return!0}const pee=R.createContext(null);pee.displayName="HookFormContext";var T3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},kh=e=>Array.isArray(e)?e:[e],yP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function R3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&$r(s)&&i){const o=R3(s,i);$r(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var En=e=>$r(e)&&!Object.keys(e).length,ek=e=>e.type==="file",Bv=e=>{if(!XN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},M3=e=>e.type==="select-multiple",tk=e=>e.type==="radio",gee=e=>tk(e)||yp(e),Vw=e=>Bv(e)&&e.isConnected;function vee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=cr(e)?n++:e[t[n++]];return e}function yee(e){for(const t in e)if(e.hasOwnProperty(t)&&!cr(e[t]))return!1;return!0}function Pr(e,t){const r=Array.isArray(t)?t:Qx(t)?[t]:ZN(t),n=r.length===1?e:vee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&($r(n)&&En(n)||Array.isArray(n)&&yee(n))&&Pr(e,r.slice(0,-1)),e}var xee=e=>{for(const t in e)if(ma(e[t]))return!0;return!1};function $3(e){return Array.isArray(e)||$r(e)&&!xee(e)}function w_(e,t={}){for(const r in e){const n=e[r];$3(n)?(t[r]=Array.isArray(n)?[]:{},w_(n,t[r])):cr(n)||(t[r]=!0)}return t}function uu(e,t,r){r||(r=w_(t));for(const n in e){const s=e[n];if($3(s))cr(t)||b_(r[n])?r[n]=w_(s,Array.isArray(s)?[]:{}):uu(s,Vn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!Po(s,i)}}return r}const xP={value:!1,isValid:!1},bP={value:!0,isValid:!0};var I3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!cr(e[0].attributes.value)?cr(e[0].value)||e[0].value===""?bP:{value:e[0].value,isValid:!0}:bP:xP}return xP},D3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>cr(e)?e:t?e===""?NaN:e&&+e:r&&cs(e)?new Date(e):n?n(e):e;const wP={isValid:!1,value:null};var L3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,wP):wP;function jP(e){const t=e.ref;return ek(t)?t.files:tk(t)?L3(e.refs).value:M3(t)?[...t.selectedOptions].map(({value:r})=>r):yp(t)?I3(e.refs).value:D3(cr(t.value)?e.ref.value:t.value,e)}var bee=(e,t,r,n)=>{const s={};for(const i of e){const o=Fe(t,i);o&&Vt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},zv=e=>e instanceof RegExp,Lf=e=>cr(e)?e:zv(e)?e.source:$r(e)?zv(e.value)?e.value.source:e.value:e,_P=e=>({isOnSubmit:!e||e===pa.onSubmit,isOnBlur:e===pa.onBlur,isOnChange:e===pa.onChange,isOnAll:e===pa.all,isOnTouch:e===pa.onTouched});const SP="AsyncFunction";var wee=e=>!!e&&!!e.validate&&!!(ma(e.validate)&&e.validate.constructor.name===SP||$r(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===SP)),jee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),NP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ch=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Fe(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Ch(l,t))break}else if($r(l)&&Ch(l,t))break}}};function kP(e,t,r){const n=Fe(e,r);if(n||Qx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Fe(t,i),l=Fe(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var _ee=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return En(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||pa.all))},See=(e,t,r)=>!e||!t||e===t||kh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Nee=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,kee=(e,t)=>!JN(Fe(e,t)).length&&Pr(e,t),Cee=(e,t,r)=>{const n=kh(Fe(e,r));return Vt(n,"root",t[r]),Vt(e,r,n),e};function CP(e,t,r="validate"){if(cs(e)||Array.isArray(e)&&e.every(cs)||Fa(e)&&!e)return{type:r,message:cs(e)?e:"",ref:t}}var tu=e=>$r(e)&&!zv(e)?e:{value:e,message:""},EP=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:b}=e._f,y=Fe(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=E=>{s&&w.reportValidity&&(w.setCustomValidity(Fa(E)?"":E||""),w.reportValidity())},j={},S=tk(o),N=yp(o),k=S||N,C=(x||ek(o))&&cr(o.value)&&cr(y)||Bv(o)&&o.value===""||y===""||Array.isArray(y)&&!y.length,O=T3.bind(null,p,n,j),D=(E,L,M,K=hi.maxLength,A=hi.minLength)=>{const V=E?L:M;j[p]={type:E?K:A,message:V,ref:o,...O(E?K:A,V)}};if(i?!Array.isArray(y)||!y.length:c&&(!k&&(C||Vn(y))||Fa(y)&&!y||N&&!I3(l).isValid||S&&!L3(l).isValid)){const{value:E,message:L}=cs(c)?{value:!!c,message:c}:tu(c);if(E&&(j[p]={type:hi.required,message:L,ref:w,...O(hi.required,L)},!n))return _(L),j}if(!C&&(!Vn(f)||!Vn(h))){let E,L;const M=tu(h),K=tu(f);if(!Vn(y)&&!isNaN(y)){const A=o.valueAsNumber||y&&+y;Vn(M.value)||(E=A>M.value),Vn(K.value)||(L=A<K.value)}else{const A=o.valueAsDate||new Date(y),V=I=>new Date(new Date().toDateString()+" "+I),T=o.type=="time",$=o.type=="week";cs(M.value)&&y&&(E=T?V(y)>V(M.value):$?y>M.value:A>new Date(M.value)),cs(K.value)&&y&&(L=T?V(y)<V(K.value):$?y<K.value:A<new Date(K.value))}if((E||L)&&(D(!!E,M.message,K.message,hi.max,hi.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(cs(y)||i&&Array.isArray(y))){const E=tu(u),L=tu(d),M=!Vn(E.value)&&y.length>+E.value,K=!Vn(L.value)&&y.length<+L.value;if((M||K)&&(D(M,E.message,L.message),!n))return _(j[p].message),j}if(m&&!C&&cs(y)){const{value:E,message:L}=tu(m);if(zv(E)&&!y.match(E)&&(j[p]={type:hi.pattern,message:L,ref:o,...O(hi.pattern,L)},!n))return _(L),j}if(g){if(ma(g)){const E=await g(y,r),L=CP(E,w);if(L&&(j[p]={...L,...O(hi.validate,L.message)},!n))return _(L.message),j}else if($r(g)){let E={};for(const L in g){if(!En(E)&&!n)break;const M=CP(await g[L](y,r),w,L);M&&(E={...M,...O(L,M.message)},_(M.message),n&&(j[p]=E))}if(!En(E)&&(j[p]={ref:w,...E},!n))return j}}return _(!0),j};const Eee={mode:pa.onSubmit,reValidateMode:pa.onChange,shouldFocusError:!0};function Pee(e={}){let t={...Eee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ma(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$r(t.defaultValues)||$r(t.values)?Lr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:yP(),state:yP()},g=t.criteriaMode===pa.all,p=B=>G=>{clearTimeout(u),u=setTimeout(B,G)},x=async B=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||B)){let G;t.resolver?(G=En((await k()).errors),b()):G=await O(n,!0),G!==r.isValid&&m.state.next({isValid:G})}},b=(B,G)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((B||Array.from(l.mount)).forEach(z=>{z&&(G?Vt(r.validatingFields,z,G):Pr(r.validatingFields,z))}),m.state.next({validatingFields:r.validatingFields,isValidating:!En(r.validatingFields)}))},y=(B,G=[],z,fe,ve=!0,ae=!0)=>{if(fe&&z&&!t.disabled){if(o.action=!0,ae&&Array.isArray(Fe(n,B))){const ke=z(Fe(n,B),fe.argA,fe.argB);ve&&Vt(n,B,ke)}if(ae&&Array.isArray(Fe(r.errors,B))){const ke=z(Fe(r.errors,B),fe.argA,fe.argB);ve&&Vt(r.errors,B,ke),kee(r.errors,B)}if((f.touchedFields||h.touchedFields)&&ae&&Array.isArray(Fe(r.touchedFields,B))){const ke=z(Fe(r.touchedFields,B),fe.argA,fe.argB);ve&&Vt(r.touchedFields,B,ke)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=uu(s,i)),m.state.next({name:B,isDirty:E(B,G),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Vt(i,B,G)},w=(B,G)=>{Vt(r.errors,B,G),m.state.next({errors:r.errors})},_=B=>{r.errors=B,m.state.next({errors:r.errors,isValid:!1})},j=(B,G,z,fe)=>{const ve=Fe(n,B);if(ve){const ae=Fe(i,B,cr(z)?Fe(s,B):z);cr(ae)||fe&&fe.defaultChecked||G?Vt(i,B,G?ae:jP(ve._f)):K(B,ae),o.mount&&!o.action&&x()}},S=(B,G,z,fe,ve)=>{let ae=!1,ke=!1;const Ot={name:B};if(!t.disabled){if(!z||fe){(f.isDirty||h.isDirty)&&(ke=r.isDirty,r.isDirty=Ot.isDirty=E(),ae=ke!==Ot.isDirty);const At=Po(Fe(s,B),G);ke=!!Fe(r.dirtyFields,B),At?Pr(r.dirtyFields,B):Vt(r.dirtyFields,B,!0),Ot.dirtyFields=r.dirtyFields,ae=ae||(f.dirtyFields||h.dirtyFields)&&ke!==!At}if(z){const At=Fe(r.touchedFields,B);At||(Vt(r.touchedFields,B,z),Ot.touchedFields=r.touchedFields,ae=ae||(f.touchedFields||h.touchedFields)&&At!==z)}ae&&ve&&m.state.next(Ot)}return ae?Ot:{}},N=(B,G,z,fe)=>{const ve=Fe(r.errors,B),ae=(f.isValid||h.isValid)&&Fa(G)&&r.isValid!==G;if(t.delayError&&z?(c=p(()=>w(B,z)),c(t.delayError)):(clearTimeout(u),c=null,z?Vt(r.errors,B,z):Pr(r.errors,B)),(z?!Po(ve,z):ve)||!En(fe)||ae){const ke={...fe,...ae&&Fa(G)?{isValid:G}:{},errors:r.errors,name:B};r={...r,...ke},m.state.next(ke)}},k=async B=>(b(B,!0),await t.resolver(i,t.context,bee(B||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async B=>{const{errors:G}=await k(B);if(b(B),B)for(const z of B){const fe=Fe(G,z);fe?Vt(r.errors,z,fe):Pr(r.errors,z)}else r.errors=G;return G},O=async(B,G,z={valid:!0})=>{for(const fe in B){const ve=B[fe];if(ve){const{_f:ae,...ke}=ve;if(ae){const Ot=l.array.has(ae.name),At=ve._f&&wee(ve._f);At&&f.validatingFields&&b([ae.name],!0);const Er=await EP(ve,l.disabled,i,g,t.shouldUseNativeValidation&&!G,Ot);if(At&&f.validatingFields&&b([ae.name]),Er[ae.name]&&(z.valid=!1,G||e.shouldUseNativeValidation))break;!G&&(Fe(Er,ae.name)?Ot?Cee(r.errors,Er,ae.name):Vt(r.errors,ae.name,Er[ae.name]):Pr(r.errors,ae.name))}!En(ke)&&await O(ke,G,z)}}return z.valid},D=()=>{for(const B of l.unMount){const G=Fe(n,B);G&&(G._f.refs?G._f.refs.every(z=>!Vw(z)):!Vw(G._f.ref))&&Se(B)}l.unMount=new Set},E=(B,G)=>!t.disabled&&(B&&G&&Vt(i,B,G),!Po(ee(),s)),L=(B,G,z)=>mee(B,l,{...o.mount?i:cr(G)?s:cs(B)?{[B]:G}:G},z,G),M=B=>JN(Fe(o.mount?i:s,B,t.shouldUnregister?Fe(s,B,[]):[])),K=(B,G,z={})=>{const fe=Fe(n,B);let ve=G;if(fe){const ae=fe._f;ae&&(!ae.disabled&&Vt(i,B,D3(G,ae)),ve=Bv(ae.ref)&&Vn(G)?"":G,M3(ae.ref)?[...ae.ref.options].forEach(ke=>ke.selected=ve.includes(ke.value)):ae.refs?yp(ae.ref)?ae.refs.forEach(ke=>{(!ke.defaultChecked||!ke.disabled)&&(Array.isArray(ve)?ke.checked=!!ve.find(Ot=>Ot===ke.value):ke.checked=ve===ke.value||!!ve)}):ae.refs.forEach(ke=>ke.checked=ke.value===ve):ek(ae.ref)?ae.ref.value="":(ae.ref.value=ve,ae.ref.type||m.state.next({name:B,values:Lr(i)})))}(z.shouldDirty||z.shouldTouch)&&S(B,ve,z.shouldTouch,z.shouldDirty,!0),z.shouldValidate&&I(B)},A=(B,G,z)=>{for(const fe in G){if(!G.hasOwnProperty(fe))return;const ve=G[fe],ae=B+"."+fe,ke=Fe(n,ae);(l.array.has(B)||$r(ve)||ke&&!ke._f)&&!zl(ve)?A(ae,ve,z):K(ae,ve,z)}},V=(B,G,z={})=>{const fe=Fe(n,B),ve=l.array.has(B),ae=Lr(G);Vt(i,B,ae),ve?(m.array.next({name:B,values:Lr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&z.shouldDirty&&m.state.next({name:B,dirtyFields:uu(s,i),isDirty:E(B,ae)})):fe&&!fe._f&&!Vn(ae)?A(B,ae,z):K(B,ae,z),NP(B,l)?m.state.next({...r,name:B,values:Lr(i)}):m.state.next({name:o.mount?B:void 0,values:Lr(i)})},T=async B=>{o.mount=!0;const G=B.target;let z=G.name,fe=!0;const ve=Fe(n,z),ae=At=>{fe=Number.isNaN(At)||zl(At)&&isNaN(At.getTime())||Po(At,Fe(i,z,At))},ke=_P(t.mode),Ot=_P(t.reValidateMode);if(ve){let At,Er;const di=G.type?jP(ve._f):oee(B),Qs=B.type===vP.BLUR||B.type===vP.FOCUS_OUT,Nf=!jee(ve._f)&&!t.resolver&&!Fe(r.errors,z)&&!ve._f.deps||Nee(Qs,Fe(r.touchedFields,z),r.isSubmitted,Ot,ke),Ia=NP(z,l,Qs);Vt(i,z,di),Qs?(!G||!G.readOnly)&&(ve._f.onBlur&&ve._f.onBlur(B),c&&c(0)):ve._f.onChange&&ve._f.onChange(B);const Wc=S(z,di,Qs),lo=!En(Wc)||Ia;if(!Qs&&m.state.next({name:z,type:B.type,values:Lr(i)}),Nf)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Qs&&x():Qs||x()),lo&&m.state.next({name:z,...Ia?{}:Wc});if(!Qs&&Ia&&m.state.next({...r}),t.resolver){const{errors:Tp}=await k([z]);if(b([z]),ae(di),fe){const Yb=kP(r.errors,n,z),kf=kP(Tp,n,Yb.name||z);At=kf.error,z=kf.name,Er=En(Tp)}}else b([z],!0),At=(await EP(ve,l.disabled,i,g,t.shouldUseNativeValidation))[z],b([z]),ae(di),fe&&(At?Er=!1:(f.isValid||h.isValid)&&(Er=await O(n,!0)));fe&&(ve._f.deps&&(!Array.isArray(ve._f.deps)||ve._f.deps.length>0)&&I(ve._f.deps),N(z,Er,At,Wc))}},$=(B,G)=>{if(Fe(r.errors,G)&&B.focus)return B.focus(),1},I=async(B,G={})=>{let z,fe;const ve=kh(B);if(t.resolver){const ae=await C(cr(B)?B:ve);z=En(ae),fe=B?!ve.some(ke=>Fe(ae,ke)):z}else B?(fe=(await Promise.all(ve.map(async ae=>{const ke=Fe(n,ae);return await O(ke&&ke._f?{[ae]:ke}:ke)}))).every(Boolean),!(!fe&&!r.isValid)&&x()):fe=z=await O(n);return m.state.next({...!cs(B)||(f.isValid||h.isValid)&&z!==r.isValid?{}:{name:B},...t.resolver||!B?{isValid:z}:{},errors:r.errors}),G.shouldFocus&&!fe&&Ch(n,$,B?ve:l.mount),fe},ee=(B,G)=>{let z={...o.mount?i:s};return G&&(z=R3(G.dirtyFields?r.dirtyFields:r.touchedFields,z)),cr(B)?z:cs(B)?Fe(z,B):B.map(fe=>Fe(z,fe))},F=(B,G)=>({invalid:!!Fe((G||r).errors,B),isDirty:!!Fe((G||r).dirtyFields,B),error:Fe((G||r).errors,B),isValidating:!!Fe(r.validatingFields,B),isTouched:!!Fe((G||r).touchedFields,B)}),ie=B=>{B&&kh(B).forEach(G=>Pr(r.errors,G)),m.state.next({errors:B?r.errors:{}})},ye=(B,G,z)=>{const fe=(Fe(n,B,{_f:{}})._f||{}).ref,ve=Fe(r.errors,B)||{},{ref:ae,message:ke,type:Ot,...At}=ve;Vt(r.errors,B,{...At,...G,ref:fe}),m.state.next({name:B,errors:r.errors,isValid:!1}),z&&z.shouldFocus&&fe&&fe.focus&&fe.focus()},ze=(B,G)=>ma(B)?m.state.subscribe({next:z=>"values"in z&&B(L(void 0,G),z)}):L(B,G,!0),Ke=B=>m.state.subscribe({next:G=>{See(B.name,G.name,B.exact)&&_ee(G,B.formState||f,Cr,B.reRenderRoot)&&B.callback({values:{...i},...r,...G,defaultValues:s})}}).unsubscribe,me=B=>(o.mount=!0,h={...h,...B.formState},Ke({...B,formState:{...d,...B.formState}})),Se=(B,G={})=>{for(const z of B?kh(B):l.mount)l.mount.delete(z),l.array.delete(z),G.keepValue||(Pr(n,z),Pr(i,z)),!G.keepError&&Pr(r.errors,z),!G.keepDirty&&Pr(r.dirtyFields,z),!G.keepTouched&&Pr(r.touchedFields,z),!G.keepIsValidating&&Pr(r.validatingFields,z),!t.shouldUnregister&&!G.keepDefaultValue&&Pr(s,z);m.state.next({values:Lr(i)}),m.state.next({...r,...G.keepDirty?{isDirty:E()}:{}}),!G.keepIsValid&&x()},re=({disabled:B,name:G})=>{if(Fa(B)&&o.mount||B||l.disabled.has(G)){const ve=l.disabled.has(G)!==!!B;B?l.disabled.add(G):l.disabled.delete(G),ve&&o.mount&&!o.action&&x()}},pe=(B,G={})=>{let z=Fe(n,B);const fe=Fa(G.disabled)||Fa(t.disabled);return Vt(n,B,{...z||{},_f:{...z&&z._f?z._f:{ref:{name:B}},name:B,mount:!0,...G}}),l.mount.add(B),z?re({disabled:Fa(G.disabled)?G.disabled:t.disabled,name:B}):j(B,!0,G.value),{...fe?{disabled:G.disabled||t.disabled}:{},...t.progressive?{required:!!G.required,min:Lf(G.min),max:Lf(G.max),minLength:Lf(G.minLength),maxLength:Lf(G.maxLength),pattern:Lf(G.pattern)}:{},name:B,onChange:T,onBlur:T,ref:ve=>{if(ve){pe(B,G),z=Fe(n,B);const ae=cr(ve.value)&&ve.querySelectorAll&&ve.querySelectorAll("input,select,textarea")[0]||ve,ke=gee(ae),Ot=z._f.refs||[];if(ke?Ot.find(At=>At===ae):ae===z._f.ref)return;Vt(n,B,{_f:{...z._f,...ke?{refs:[...Ot.filter(Vw),ae,...Array.isArray(Fe(s,B))?[{}]:[]],ref:{type:ae.type,name:B}}:{ref:ae}}}),j(B,!1,void 0,ae)}else z=Fe(n,B,{}),z._f&&(z._f.mount=!1),(t.shouldUnregister||G.shouldUnregister)&&!(cee(l.array,B)&&o.action)&&l.unMount.add(B)}}},Y=()=>t.shouldFocusError&&Ch(n,$,l.mount),Q=B=>{Fa(B)&&(m.state.next({disabled:B}),Ch(n,(G,z)=>{const fe=Fe(n,z);fe&&(G.disabled=fe._f.disabled||B,Array.isArray(fe._f.refs)&&fe._f.refs.forEach(ve=>{ve.disabled=fe._f.disabled||B}))},0,!1))},Xe=(B,G)=>async z=>{let fe;z&&(z.preventDefault&&z.preventDefault(),z.persist&&z.persist());let ve=Lr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ae,values:ke}=await k();b(),r.errors=ae,ve=Lr(ke)}else await O(n);if(l.disabled.size)for(const ae of l.disabled)Pr(ve,ae);if(Pr(r.errors,"root"),En(r.errors)){m.state.next({errors:{}});try{await B(ve,z)}catch(ae){fe=ae}}else G&&await G({...r.errors},z),Y(),setTimeout(Y);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:En(r.errors)&&!fe,submitCount:r.submitCount+1,errors:r.errors}),fe)throw fe},He=(B,G={})=>{Fe(n,B)&&(cr(G.defaultValue)?V(B,Lr(Fe(s,B))):(V(B,G.defaultValue),Vt(s,B,Lr(G.defaultValue))),G.keepTouched||Pr(r.touchedFields,B),G.keepDirty||(Pr(r.dirtyFields,B),r.isDirty=G.defaultValue?E(B,Lr(Fe(s,B))):E()),G.keepError||(Pr(r.errors,B),f.isValid&&x()),m.state.next({...r}))},xt=(B,G={})=>{const z=B?Lr(B):s,fe=Lr(z),ve=En(B),ae=ve?s:fe;if(G.keepDefaultValues||(s=z),!G.keepValues){if(G.keepDirtyValues){const ke=new Set([...l.mount,...Object.keys(uu(s,i))]);for(const Ot of Array.from(ke)){const At=Fe(r.dirtyFields,Ot),Er=Fe(i,Ot),di=Fe(ae,Ot);At&&!cr(Er)?Vt(ae,Ot,Er):!At&&!cr(di)&&V(Ot,di)}}else{if(XN&&cr(B))for(const ke of l.mount){const Ot=Fe(n,ke);if(Ot&&Ot._f){const At=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(Bv(At)){const Er=At.closest("form");if(Er){Er.reset();break}}}}if(G.keepFieldsRef)for(const ke of l.mount)V(ke,Fe(ae,ke));else n={}}i=t.shouldUnregister?G.keepDefaultValues?Lr(s):{}:Lr(ae),m.array.next({values:{...ae}}),m.state.next({values:{...ae}})}l={mount:G.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!G.keepIsValid||!!G.keepDirtyValues||!t.shouldUnregister&&!En(ae),o.watch=!!t.shouldUnregister,o.keepIsValid=!!G.keepIsValid,o.action=!1,G.keepErrors||(r.errors={}),m.state.next({submitCount:G.keepSubmitCount?r.submitCount:0,isDirty:ve?!1:G.keepDirty?r.isDirty:!!(G.keepDefaultValues&&!Po(B,s)),isSubmitted:G.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ve?{}:G.keepDirtyValues?G.keepDefaultValues&&i?uu(s,i):r.dirtyFields:G.keepDefaultValues&&B?uu(s,B):G.keepDirty?r.dirtyFields:{},touchedFields:G.keepTouched?r.touchedFields:{},errors:G.keepErrors?r.errors:{},isSubmitSuccessful:G.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ft=(B,G)=>xt(ma(B)?B(i):B,{...t.resetOptions,...G}),Wt=(B,G={})=>{const z=Fe(n,B),fe=z&&z._f;if(fe){const ve=fe.refs?fe.refs[0]:fe.ref;ve.focus&&setTimeout(()=>{ve.focus(),G.shouldSelect&&ma(ve.select)&&ve.select()})}},Cr=B=>{r={...r,...B}},js={control:{register:pe,unregister:Se,getFieldState:F,handleSubmit:Xe,setError:ye,_subscribe:Ke,_runSchema:k,_updateIsValidating:b,_focusError:Y,_getWatch:L,_getDirty:E,_setValid:x,_setFieldArray:y,_setDisabledField:re,_setErrors:_,_getFieldArray:M,_reset:xt,_resetDefaultValues:()=>ma(t.defaultValues)&&t.defaultValues().then(B=>{ft(B,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Q,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(B){o=B},get _defaultValues(){return s},get _names(){return l},set _names(B){l=B},get _formState(){return r},get _options(){return t},set _options(B){t={...t,...B}}},subscribe:me,trigger:I,register:pe,handleSubmit:Xe,watch:ze,setValue:V,getValues:ee,reset:ft,resetField:He,clearErrors:ie,unregister:Se,setError:ye,setFocus:Wt,getFieldState:F};return{...js,formControl:js}}function Ze(e={}){const t=R.useRef(void 0),r=R.useRef(void 0),[n,s]=R.useState({isDirty:!1,isValidating:!1,isLoading:ma(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ma(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ma(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=Pee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,hee(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),R.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),R.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),R.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),R.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),R.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),R.useEffect(()=>{var o;e.values&&!Po(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),R.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=R.useMemo(()=>fee(n,i),[i,n]),t.current}const PP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Fe(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},F3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?PP(n.ref,r,e):n.refs&&n.refs.forEach(s=>PP(s,r,e))}},Oee=(e,t)=>{t.shouldUseNativeValidation&&F3(e,t);const r={};for(const n in e){const s=Fe(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(Aee(t.names||Object.keys(e),n)){const o=Object.assign({},Fe(r,n));Vt(o,"root",i),Vt(r,n,o)}else Vt(r,n,i)}return r},Aee=(e,t)=>e.some(r=>r.startsWith(t+"."));var Tee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=T3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},et=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&F3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:Oee(Tee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var OP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(OP||(OP={}));const Ue=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),So=e=>{switch(typeof e){case"undefined":return Ue.undefined;case"string":return Ue.string;case"number":return Number.isNaN(e)?Ue.nan:Ue.number;case"boolean":return Ue.boolean;case"function":return Ue.function;case"bigint":return Ue.bigint;case"symbol":return Ue.symbol;case"object":return Array.isArray(e)?Ue.array:e===null?Ue.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ue.promise:typeof Map<"u"&&e instanceof Map?Ue.map:typeof Set<"u"&&e instanceof Set?Ue.set:typeof Date<"u"&&e instanceof Date?Ue.date:Ue.object;default:return Ue.unknown}},we=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Wi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Wi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Wi.create=e=>new Wi(e);const j_=(e,t)=>{let r;switch(e.code){case we.invalid_type:e.received===Ue.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case we.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case we.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case we.invalid_union:r="Invalid input";break;case we.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case we.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case we.invalid_arguments:r="Invalid function arguments";break;case we.invalid_return_type:r="Invalid function return type";break;case we.invalid_date:r="Invalid date";break;case we.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case we.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case we.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case we.custom:r="Invalid input";break;case we.invalid_intersection_types:r="Intersection results could not be merged";break;case we.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case we.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let Ree=j_;function Mee(){return Ree}const $ee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Me(e,t){const r=Mee(),n=$ee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===j_?void 0:j_].filter(s=>!!s)});e.common.issues.push(n)}class vs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return rt;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return vs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return rt;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const rt=Object.freeze({status:"aborted"}),dh=e=>({status:"dirty",value:e}),Ks=e=>({status:"valid",value:e}),AP=e=>e.status==="aborted",TP=e=>e.status==="dirty",vd=e=>e.status==="valid",Wv=e=>typeof Promise<"u"&&e instanceof Promise;var qe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(qe||(qe={}));class cl{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const RP=(e,t)=>{if(vd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Wi(e.common.issues);return this._error=r,this._error}}};function mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return So(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:So(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new vs,ctx:{common:t.parent.common,data:t.data,parsedType:So(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Wv(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:So(t)},s=this._parseSync({data:t,path:n.path,parent:n});return RP(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:So(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return vd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>vd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:So(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Wv(s)?s:Promise.resolve(s));return RP(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:we.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new bd({schema:this,typeName:nt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rl.create(this,this._def)}nullable(){return wd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Za.create(this)}promise(){return Gv.create(this,this._def)}or(t){return Kv.create([this,t],this._def)}and(t){return Hv.create(this,t,this._def)}transform(t){return new bd({...mt(this._def),schema:this,typeName:nt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new N_({...mt(this._def),innerType:this,defaultValue:r,typeName:nt.ZodDefault})}brand(){return new ste({typeName:nt.ZodBranded,type:this,...mt(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new k_({...mt(this._def),innerType:this,catchValue:r,typeName:nt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return rk.create(this,t)}readonly(){return C_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Iee=/^c[^\s-]{8,}$/i,Dee=/^[0-9a-z]+$/,Lee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Fee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Uee=/^[a-z0-9_-]{21}$/i,qee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Bee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Wee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Kw;const Vee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Hee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Gee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Yee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Qee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Xee=new RegExp(`^${U3}$`);function q3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Jee(e){return new RegExp(`^${q3(e)}$`)}function Zee(e){let t=`${U3}T${q3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ete(e,t){return!!((t==="v4"||!t)&&Vee.test(e)||(t==="v6"||!t)&&Hee.test(e))}function tte(e,t){if(!qee.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function rte(e,t){return!!((t==="v4"||!t)&&Kee.test(e)||(t==="v6"||!t)&&Gee.test(e))}class ki extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ue.string){const i=this._getOrReturnCtx(t);return Me(i,{code:we.invalid_type,expected:Ue.string,received:i.parsedType}),rt}const n=new vs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Me(s,{code:we.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Me(s,{code:we.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")zee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"email",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Kw||(Kw=new RegExp(Wee,"u")),Kw.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"emoji",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Fee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"uuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")Uee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"nanoid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")Iee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cuid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")Dee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cuid2",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")Lee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"ulid",code:we.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Me(s,{validation:"url",code:we.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"regex",code:we.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Zee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Xee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Jee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{code:we.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Bee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"duration",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?ete(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"ip",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?tte(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"jwt",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?rte(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"cidr",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Yee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"base64",code:we.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Qee.test(t.data)||(s=this._getOrReturnCtx(t,s),Me(s,{validation:"base64url",code:we.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:we.invalid_string,...qe.errToObj(n)})}_addCheck(t){return new ki({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...qe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...qe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...qe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...qe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...qe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...qe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...qe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...qe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...qe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...qe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...qe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...qe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...qe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...qe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...qe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...qe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...qe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...qe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...qe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...qe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...qe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...qe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...qe.errToObj(r)})}nonempty(t){return this.min(1,qe.errToObj(t))}trim(){return new ki({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ki({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ki.create=e=>new ki({checks:[],typeName:nt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});function nte(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class bc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ue.number){const i=this._getOrReturnCtx(t);return Me(i,{code:we.invalid_type,expected:Ue.number,received:i.parsedType}),rt}let n;const s=new vs;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:we.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?nte(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Me(n,{code:we.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new bc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new bc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:qe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:qe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:qe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:qe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}bc.create=e=>new bc({checks:[],typeName:nt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class wc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ue.bigint)return this._getInvalidInput(t);let n;const s=new vs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Me(n,{code:we.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Me(r,{code:we.invalid_type,expected:Ue.bigint,received:r.parsedType}),rt}gte(t,r){return this.setLimit("min",t,!0,qe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,qe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,qe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,qe.toString(r))}setLimit(t,r,n,s){return new wc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:qe.toString(s)}]})}_addCheck(t){return new wc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:qe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:qe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:qe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}wc.create=e=>new wc({checks:[],typeName:nt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...mt(e)});class Vv extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ue.boolean){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.boolean,received:n.parsedType}),rt}return Ks(t.data)}}Vv.create=e=>new Vv({typeName:nt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...mt(e)});class yd extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ue.date){const i=this._getOrReturnCtx(t);return Me(i,{code:we.invalid_type,expected:Ue.date,received:i.parsedType}),rt}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Me(i,{code:we.invalid_date}),rt}const n=new vs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:we.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Me(s,{code:we.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new yd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:qe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:qe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}yd.create=e=>new yd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:nt.ZodDate,...mt(e)});class MP extends kt{_parse(t){if(this._getType(t)!==Ue.symbol){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.symbol,received:n.parsedType}),rt}return Ks(t.data)}}MP.create=e=>new MP({typeName:nt.ZodSymbol,...mt(e)});class $P extends kt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.undefined,received:n.parsedType}),rt}return Ks(t.data)}}$P.create=e=>new $P({typeName:nt.ZodUndefined,...mt(e)});class IP extends kt{_parse(t){if(this._getType(t)!==Ue.null){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.null,received:n.parsedType}),rt}return Ks(t.data)}}IP.create=e=>new IP({typeName:nt.ZodNull,...mt(e)});class DP extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ks(t.data)}}DP.create=e=>new DP({typeName:nt.ZodAny,...mt(e)});class LP extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ks(t.data)}}LP.create=e=>new LP({typeName:nt.ZodUnknown,...mt(e)});class ul extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Me(r,{code:we.invalid_type,expected:Ue.never,received:r.parsedType}),rt}}ul.create=e=>new ul({typeName:nt.ZodNever,...mt(e)});class FP extends kt{_parse(t){if(this._getType(t)!==Ue.undefined){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.void,received:n.parsedType}),rt}return Ks(t.data)}}FP.create=e=>new FP({typeName:nt.ZodVoid,...mt(e)});class Za extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Ue.array)return Me(r,{code:we.invalid_type,expected:Ue.array,received:r.parsedType}),rt;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Me(r,{code:o?we.too_big:we.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Me(r,{code:we.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Me(r,{code:we.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new cl(r,o,r.path,l)))).then(o=>vs.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new cl(r,o,r.path,l)));return vs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Za({...this._def,minLength:{value:t,message:qe.toString(r)}})}max(t,r){return new Za({...this._def,maxLength:{value:t,message:qe.toString(r)}})}length(t,r){return new Za({...this._def,exactLength:{value:t,message:qe.toString(r)}})}nonempty(t){return this.min(1,t)}}Za.create=(e,t)=>new Za({type:e,minLength:null,maxLength:null,exactLength:null,typeName:nt.ZodArray,...mt(t)});function du(e){if(e instanceof Tr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=rl.create(du(n))}return new Tr({...e._def,shape:()=>t})}else return e instanceof Za?new Za({...e._def,type:du(e.element)}):e instanceof rl?rl.create(du(e.unwrap())):e instanceof wd?wd.create(du(e.unwrap())):e instanceof jc?jc.create(e.items.map(t=>du(t))):e}class Tr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Ue.object){const u=this._getOrReturnCtx(t);return Me(u,{code:we.invalid_type,expected:Ue.object,received:u.parsedType}),rt}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof ul&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new cl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ul){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Me(s,{code:we.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new cl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>vs.mergeObjectSync(n,u)):vs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return qe.errToObj,new Tr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:qe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Tr({...this._def,unknownKeys:"strip"})}passthrough(){return new Tr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Tr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Tr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:nt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Tr({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Tr({...this._def,shape:()=>r})}deepPartial(){return du(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Tr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof rl;)i=i._def.innerType;r[n]=i}return new Tr({...this._def,shape:()=>r})}keyof(){return B3(Et.objectKeys(this.shape))}}Tr.create=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strip",catchall:ul.create(),typeName:nt.ZodObject,...mt(t)});Tr.strictCreate=(e,t)=>new Tr({shape:()=>e,unknownKeys:"strict",catchall:ul.create(),typeName:nt.ZodObject,...mt(t)});Tr.lazycreate=(e,t)=>new Tr({shape:e,unknownKeys:"strip",catchall:ul.create(),typeName:nt.ZodObject,...mt(t)});class Kv extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Wi(l.ctx.common.issues));return Me(r,{code:we.invalid_union,unionErrors:o}),rt}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Wi(c));return Me(r,{code:we.invalid_union,unionErrors:l}),rt}}get options(){return this._def.options}}Kv.create=(e,t)=>new Kv({options:e,typeName:nt.ZodUnion,...mt(t)});function __(e,t){const r=So(e),n=So(t);if(e===t)return{valid:!0,data:e};if(r===Ue.object&&n===Ue.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=__(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Ue.array&&n===Ue.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=__(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Ue.date&&n===Ue.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Hv extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(AP(i)||AP(o))return rt;const l=__(i.value,o.value);return l.valid?((TP(i)||TP(o))&&r.dirty(),{status:r.value,value:l.data}):(Me(n,{code:we.invalid_intersection_types}),rt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Hv.create=(e,t,r)=>new Hv({left:e,right:t,typeName:nt.ZodIntersection,...mt(r)});class jc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.array)return Me(n,{code:we.invalid_type,expected:Ue.array,received:n.parsedType}),rt;if(n.data.length<this._def.items.length)return Me(n,{code:we.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rt;!this._def.rest&&n.data.length>this._def.items.length&&(Me(n,{code:we.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new cl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>vs.mergeArray(r,o)):vs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new jc({...this._def,rest:t})}}jc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jc({items:e,typeName:nt.ZodTuple,rest:null,...mt(t)})};class UP extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.map)return Me(n,{code:we.invalid_type,expected:Ue.map,received:n.parsedType}),rt;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new cl(n,l,n.path,[u,"key"])),value:i._parse(new cl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return rt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}UP.create=(e,t,r)=>new UP({valueType:t,keyType:e,typeName:nt.ZodMap,...mt(r)});class um extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Ue.set)return Me(n,{code:we.invalid_type,expected:Ue.set,received:n.parsedType}),rt;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Me(n,{code:we.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Me(n,{code:we.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return rt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new cl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new um({...this._def,minSize:{value:t,message:qe.toString(r)}})}max(t,r){return new um({...this._def,maxSize:{value:t,message:qe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}um.create=(e,t)=>new um({valueType:e,minSize:null,maxSize:null,typeName:nt.ZodSet,...mt(t)});class qP extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}qP.create=(e,t)=>new qP({getter:e,typeName:nt.ZodLazy,...mt(t)});class S_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Me(r,{received:r.data,code:we.invalid_literal,expected:this._def.value}),rt}return{status:"valid",value:t.data}}get value(){return this._def.value}}S_.create=(e,t)=>new S_({value:e,typeName:nt.ZodLiteral,...mt(t)});function B3(e,t){return new xd({values:e,typeName:nt.ZodEnum,...mt(t)})}class xd extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{expected:Et.joinValues(n),received:r.parsedType,code:we.invalid_type}),rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Me(r,{received:r.data,code:we.invalid_enum_value,options:n}),rt}return Ks(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return xd.create(t,{...this._def,...r})}exclude(t,r=this._def){return xd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}xd.create=B3;class BP extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Ue.string&&n.parsedType!==Ue.number){const s=Et.objectValues(r);return Me(n,{expected:Et.joinValues(s),received:n.parsedType,code:we.invalid_type}),rt}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Me(n,{received:n.data,code:we.invalid_enum_value,options:s}),rt}return Ks(t.data)}get enum(){return this._def.values}}BP.create=(e,t)=>new BP({values:e,typeName:nt.ZodNativeEnum,...mt(t)});class Gv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Ue.promise&&r.common.async===!1)return Me(r,{code:we.invalid_type,expected:Ue.promise,received:r.parsedType}),rt;const n=r.parsedType===Ue.promise?r.data:Promise.resolve(r.data);return Ks(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Gv.create=(e,t)=>new Gv({type:e,typeName:nt.ZodPromise,...mt(t)});class bd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===nt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Me(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return rt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?rt:c.status==="dirty"||r.value==="dirty"?dh(c.value):c});{if(r.value==="aborted")return rt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?rt:l.status==="dirty"||r.value==="dirty"?dh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?rt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!vd(o))return rt;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>vd(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):rt);Et.assertNever(s)}}bd.create=(e,t,r)=>new bd({schema:e,typeName:nt.ZodEffects,effect:t,...mt(r)});bd.createWithPreprocess=(e,t,r)=>new bd({schema:t,effect:{type:"preprocess",transform:e},typeName:nt.ZodEffects,...mt(r)});class rl extends kt{_parse(t){return this._getType(t)===Ue.undefined?Ks(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rl.create=(e,t)=>new rl({innerType:e,typeName:nt.ZodOptional,...mt(t)});class wd extends kt{_parse(t){return this._getType(t)===Ue.null?Ks(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wd.create=(e,t)=>new wd({innerType:e,typeName:nt.ZodNullable,...mt(t)});class N_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Ue.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}N_.create=(e,t)=>new N_({innerType:e,typeName:nt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...mt(t)});class k_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Wv(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Wi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}k_.create=(e,t)=>new k_({innerType:e,typeName:nt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...mt(t)});class zP extends kt{_parse(t){if(this._getType(t)!==Ue.nan){const n=this._getOrReturnCtx(t);return Me(n,{code:we.invalid_type,expected:Ue.nan,received:n.parsedType}),rt}return{status:"valid",value:t.data}}}zP.create=e=>new zP({typeName:nt.ZodNaN,...mt(e)});class ste extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class rk extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?rt:i.status==="dirty"?(r.dirty(),dh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?rt:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new rk({in:t,out:r,typeName:nt.ZodPipeline})}}class C_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(vd(s)&&(s.value=Object.freeze(s.value)),s);return Wv(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}C_.create=(e,t)=>new C_({innerType:e,typeName:nt.ZodReadonly,...mt(t)});var nt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(nt||(nt={}));const be=ki.create,ate=bc.create;wc.create;const Gr=Vv.create;yd.create;ul.create;Za.create;const tt=Tr.create,ite=Kv.create;Hv.create;jc.create;const nk=S_.create,ar=xd.create;Gv.create;rl.create;wd.create;const An={string:e=>ki.create({...e,coerce:!0}),number:e=>bc.create({...e,coerce:!0}),boolean:e=>Vv.create({...e,coerce:!0}),bigint:e=>wc.create({...e,coerce:!0}),date:e=>yd.create({...e,coerce:!0})};var ote=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lte=ote.reduce((e,t)=>{const r=hp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),cte="Label",z3=v.forwardRef((e,t)=>a.jsx(lte.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));z3.displayName=cte;var W3=z3;const ute=CN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=v.forwardRef(({className:e,...t},r)=>a.jsx(W3,{ref:r,className:J(ute(),e),...t}));H.displayName=W3.displayName;var Xx="Tabs",[dte]=Ws(Xx,[Kx]),V3=Kx(),[fte,sk]=dte(Xx),K3=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=af(l),[f,h]=ri({prop:n,onChange:s,defaultProp:i??"",caller:Xx});return a.jsx(fte,{scope:r,baseId:Is(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});K3.displayName=Xx;var H3="TabsList",G3=v.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=sk(H3,r),o=V3(r);return a.jsx($L,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});G3.displayName=H3;var Y3="TabsTrigger",Q3=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=sk(Y3,r),l=V3(r),c=Z3(o.baseId,n),u=eF(o.baseId,n),d=n===o.value;return a.jsx(IL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:$e(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:$e(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:$e(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});Q3.displayName=Y3;var X3="TabsContent",J3=v.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=sk(X3,r),c=Z3(l.baseId,n),u=eF(l.baseId,n),d=n===l.value,f=v.useRef(d);return v.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Zn,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});J3.displayName=X3;function Z3(e,t){return`${e}-trigger-${t}`}function eF(e,t){return`${e}-content-${t}`}var hte=K3,tF=G3,rF=Q3,nF=J3;const ci=hte,Oa=v.forwardRef(({className:e,...t},r)=>a.jsx(tF,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Oa.displayName=tF.displayName;const St=v.forwardRef(({className:e,...t},r)=>a.jsx(rF,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=rF.displayName;const Nt=v.forwardRef(({className:e,...t},r)=>a.jsx(nF,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=nF.displayName;const mte=tt({email:be().email("Invalid email"),password:be().min(1,"Password required")});function pte(){const e=Ji(),[t]=eI(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=Ze({resolver:et(mte)}),l=async u=>{const d=await QH(u.email,u.password);d.success?(q.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):q.error("Sign in failed",{description:d.error})},c=async u=>{const d=await e7(u,{redirectTo:r});d.success||q.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Sign in"}),a.jsx(he,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ci,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(ue,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(j7,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(ue,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const gte=tt({email:be().email("Invalid email"),password:be().min(8,"At least 8 characters"),confirmPassword:be()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function vte(){const e=Ji(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=Ze({resolver:et(gte)}),i=async o=>{const l=await t7(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(q.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(q.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):q.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Create account"}),a.jsx(he,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ci,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["By signing up you agree to our"," ",a.jsx(ue,{to:"/terms",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Terms of Service"})," ","and"," ",a.jsx(ue,{to:"/privacy",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Privacy Policy"}),"."]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(ue,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const WP={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function yte(e){if(!e||e.length===0)return{level:"empty",score:0,label:WP.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:WP[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function xte(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const bte=tt({email:be().min(1,"Email is required").email("Enter a valid email address")}),wte=tt({password:be().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:be().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function jte(){const[e,t]=v.useState("email"),[r,n]=v.useState(!0),s=Ze({resolver:et(bte),defaultValues:{email:""}}),i=Ze({resolver:et(wte),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=yte(o);v.useEffect(()=>{if(!s7()){n(!1);return}U.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await r7(d.email,"/forgot-password");f.success?(t("email_sent"),q.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):q.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await n7(d.password);f.success?(t("success"),q.success("Password updated",{description:"You can now sign in with your new password."}),await U.auth.signOut()):q.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(ld,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(ld,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(ue,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsx(se,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(he,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(gc,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(P,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(hN,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:J(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:J("h-full rounded-full transition-all duration-300",xte(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(ka,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(ue,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(ue,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(rf,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const _te=tt({token:be().min(1,"Enter the verification code from your email")});function Ste(){const e=Ji(),[t,r]=v.useState("checking"),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(null),u=Ze({resolver:et(_te),defaultValues:{token:""}});v.useEffect(()=>{let m=!1;async function g(){const p=i7();if(p){const y=await PE(p);m||(y.success?(r("verified"),q.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):q.error("Verification failed",{description:y.error}));return}const x=await o7();if(m)return;if(x){r("verified");return}const{data:{user:b}}=await U.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await PE(m.token);g.success?(r("verified"),u.reset(),q.success("Email verified",{description:"Your email has been confirmed."})):q.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await a7();o(!1),s(!1),m.success?q.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):q.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(ld,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(jr,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(ld,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(ue,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsxs(se,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(gc,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(he,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(TI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(gc,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(P,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(P,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(ue,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(P,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(_i,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(fd,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(rf,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Re,{open:n,onOpenChange:s,children:a.jsxs(Pe,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Resend verification email"}),a.jsx(Te,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function oe({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function sF(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Jx="Switch",[Nte]=Ws(Jx),[kte,Cte]=Nte(Jx),aF=v.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=v.useState(null),g=gt(t,w=>m(w)),p=v.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,y]=ri({prop:s,defaultProp:i??!1,onChange:u,caller:Jx});return a.jsxs(kte,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":cF(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:$e(e.onClick,w=>{y(_=>!_),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&a.jsx(lF,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});aF.displayName=Jx;var iF="SwitchThumb",oF=v.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=Cte(iF,r);return a.jsx(Qe.span,{"data-state":cF(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});oF.displayName=iF;var Ete="SwitchBubbleInput",lF=v.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=v.useRef(null),l=gt(o,i),c=sF(r),u=gL(t);return v.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});lF.displayName=Ete;function cF(e){return e?"checked":"unchecked"}var uF=aF,Pte=oF;const Rt=v.forwardRef(({className:e,...t},r)=>a.jsx(uF,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(Pte,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Rt.displayName=uF.displayName;const Ote="http://localhost:3000/api";async function Ff(e,t={}){const r=`${Ote}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const je={get:e=>Ff(e),post:(e,t)=>Ff(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Ff(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Ff(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Ff(e,{method:"DELETE"})},ra="/profile",Aa={getProfile:()=>je.get(`${ra}`),updateProfile:e=>je.patch(`${ra}`,e),getOAuthAccounts:()=>je.get(`${ra}/oauth-accounts`),unlinkOAuthAccount:e=>je.delete(`${ra}/oauth-accounts/${e}`),getDeviceSessions:()=>je.get(`${ra}/sessions`),revokeSession:e=>je.delete(`${ra}/sessions/${e}`),getApiKeys:()=>je.get(`${ra}/api-keys`),createApiKey:e=>je.post(`${ra}/api-keys`,e),revokeApiKey:e=>je.delete(`${ra}/api-keys/${e}`),getSecuritySettings:()=>je.get(`${ra}/security-settings`),updateSecuritySettings:e=>je.patch(`${ra}/security-settings`,e)},_n={all:["profile"],profile:()=>[..._n.all,"detail"],oauthAccounts:()=>[..._n.all,"oauth-accounts"],sessions:()=>[..._n.all,"sessions"],apiKeys:()=>[..._n.all,"api-keys"],securitySettings:()=>[..._n.all,"security-settings"]};function xp(e,t){return e().catch(()=>t)}function Zx(){return Ce({queryKey:_n.profile(),queryFn:()=>xp(Aa.getProfile,null)})}function Ate(){const e=de();return ce({mutationFn:t=>Aa.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.profile()}),q.success("Profile updated")},onError:t=>{q.error(t.message||"Failed to update profile")}})}function Tte(){return Ce({queryKey:_n.oauthAccounts(),queryFn:()=>xp(Aa.getOAuthAccounts,[])})}function Rte(){const e=de();return ce({mutationFn:t=>Aa.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.oauthAccounts()}),q.success("Account unlinked")},onError:t=>{q.error(t.message||"Failed to unlink account")}})}function Mte(){return Ce({queryKey:_n.sessions(),queryFn:()=>xp(Aa.getDeviceSessions,[])})}function $te(){const e=de();return ce({mutationFn:t=>Aa.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.sessions()}),q.success("Session revoked")},onError:t=>{q.error(t.message||"Failed to revoke session")}})}function Ite(){return Ce({queryKey:_n.apiKeys(),queryFn:()=>xp(Aa.getApiKeys,[])})}function Dte(){const e=de();return ce({mutationFn:t=>Aa.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.apiKeys()}),q.success("API key created")},onError:t=>{q.error(t.message||"Failed to create API key")}})}function Lte(){const e=de();return ce({mutationFn:t=>Aa.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.apiKeys()}),q.success("API key revoked")},onError:t=>{q.error(t.message||"Failed to revoke API key")}})}function dF(){return Ce({queryKey:_n.securitySettings(),queryFn:()=>xp(Aa.getSecuritySettings,null)})}function fF(){const e=de();return ce({mutationFn:t=>Aa.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:_n.securitySettings()}),q.success("Security settings updated")},onError:t=>{q.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Vi(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Fte(e,t){const r=Bt(e);return isNaN(t)?Vi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const hF=6048e5,Ute=864e5,mF=6e4,pF=36e5,hg=43200,VP=1440;let qte={};function bp(){return qte}function dm(e,t){var l,c,u,d;const r=bp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Yv(e){return dm(e,{weekStartsOn:1})}function gF(e){const t=Bt(e),r=t.getFullYear(),n=Vi(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Yv(n),i=Vi(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Yv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function KP(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Qv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Bte(e,t){const r=KP(e),n=KP(t),s=+r-Qv(r),i=+n-Qv(n);return Math.round((s-i)/Ute)}function zte(e){const t=gF(e),r=Vi(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Yv(r)}function Xg(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Wte(e){return Vi(e,Date.now())}function Vte(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Kte(e){if(!Vte(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Hte(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Gte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Yte(e,t){return+Bt(e)-+Bt(t)}function Qte(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function Xte(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Jte(e){const t=Bt(e);return+Qte(t)==+Xte(t)}function Zte(e,t){const r=Bt(e),n=Bt(t),s=Xg(r,n),i=Math.abs(Hte(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=Xg(r,n)===-s;Jte(Bt(e))&&i===1&&Xg(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function ere(e,t,r){const n=Yte(e,t)/1e3;return Gte(r==null?void 0:r.roundingMethod)(n)}function tre(e){const t=Bt(e),r=Vi(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const rre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nre=(e,t,r)=>{let n;const s=rre[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Hw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const sre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},are={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ire={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ore={date:Hw({formats:sre,defaultWidth:"full"}),time:Hw({formats:are,defaultWidth:"full"}),dateTime:Hw({formats:ire,defaultWidth:"full"})},lre={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},cre=(e,t,r,n)=>lre[e];function Uf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const ure={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},dre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},gre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},vre={ordinalNumber:gre,era:Uf({values:ure,defaultWidth:"wide"}),quarter:Uf({values:dre,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Uf({values:fre,defaultWidth:"wide"}),day:Uf({values:hre,defaultWidth:"wide"}),dayPeriod:Uf({values:mre,defaultWidth:"wide",formattingValues:pre,defaultFormattingWidth:"wide"})};function qf(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?xre(l,f=>f.test(o)):yre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function yre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function xre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function bre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const wre=/^(\d+)(th|st|nd|rd)?/i,jre=/\d+/i,_re={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sre={any:[/^b/i,/^(a|c)/i]},Nre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kre={any:[/1/i,/2/i,/3/i,/4/i]},Cre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ere={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ore={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Are={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Tre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Rre={ordinalNumber:bre({matchPattern:wre,parsePattern:jre,valueCallback:e=>parseInt(e,10)}),era:qf({matchPatterns:_re,defaultMatchWidth:"wide",parsePatterns:Sre,defaultParseWidth:"any"}),quarter:qf({matchPatterns:Nre,defaultMatchWidth:"wide",parsePatterns:kre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:qf({matchPatterns:Cre,defaultMatchWidth:"wide",parsePatterns:Ere,defaultParseWidth:"any"}),day:qf({matchPatterns:Pre,defaultMatchWidth:"wide",parsePatterns:Ore,defaultParseWidth:"any"}),dayPeriod:qf({matchPatterns:Are,defaultMatchWidth:"any",parsePatterns:Tre,defaultParseWidth:"any"})},vF={code:"en-US",formatDistance:nre,formatLong:ore,formatRelative:cre,localize:vre,match:Rre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Mre(e){const t=Bt(e);return Bte(t,tre(t))+1}function $re(e){const t=Bt(e),r=+Yv(t)-+zte(t);return Math.round(r/hF)+1}function yF(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=bp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Vi(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=dm(o,t),c=Vi(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=dm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ire(e,t){var l,c,u,d;const r=bp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=yF(e,t),i=Vi(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),dm(i,t)}function Dre(e,t){const r=Bt(e),n=+dm(r,t)-+Ire(r,t);return Math.round(n/hF)+1}function It(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const go={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return It(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):It(r+1,2)},d(e,t){return It(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return It(e.getHours()%12||12,t.length)},H(e,t){return It(e.getHours(),t.length)},m(e,t){return It(e.getMinutes(),t.length)},s(e,t){return It(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return It(s,t.length)}},ru={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return go.y(e,t)},Y:function(e,t,r,n){const s=yF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return It(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):It(i,t.length)},R:function(e,t){const r=gF(e);return It(r,t.length)},u:function(e,t){const r=e.getFullYear();return It(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return It(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return It(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return go.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return It(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Dre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):It(s,t.length)},I:function(e,t,r){const n=$re(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):It(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):go.d(e,t)},D:function(e,t,r){const n=Mre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):It(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return It(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return It(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return It(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=ru.noon:n===0?s=ru.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=ru.evening:n>=12?s=ru.afternoon:n>=4?s=ru.morning:s=ru.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return go.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):go.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):It(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):go.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):go.s(e,t)},S:function(e,t){return go.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return YP(n);case"XXXX":case"XX":return Ol(n);case"XXXXX":case"XXX":default:return Ol(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return YP(n);case"xxxx":case"xx":return Ol(n);case"xxxxx":case"xxx":default:return Ol(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+GP(n,":");case"OOOO":default:return"GMT"+Ol(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+GP(n,":");case"zzzz":default:return"GMT"+Ol(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return It(n,t.length)},T:function(e,t,r){const n=e.getTime();return It(n,t.length)}};function GP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+It(i,2)}function YP(e,t){return e%60===0?(e>0?"-":"+")+It(Math.abs(e)/60,2):Ol(e,t)}function Ol(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=It(Math.trunc(n/60),2),i=It(n%60,2);return r+s+t+i}const QP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Lre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return QP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",QP(n,t)).replace("{{time}}",xF(s,t))},Fre={p:xF,P:Lre},Ure=/^D+$/,qre=/^Y+$/,Bre=["D","DD","YY","YYYY"];function zre(e){return Ure.test(e)}function Wre(e){return qre.test(e)}function Vre(e,t,r){const n=Kre(e,t,r);if(console.warn(n),Bre.includes(e))throw new RangeError(n)}function Kre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Hre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Yre=/^'([^]*?)'?$/,Qre=/''/g,Xre=/[a-zA-Z]/;function Ka(e,t,r){var d,f,h,m;const n=bp(),s=n.locale??vF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!Kte(l))throw new RangeError("Invalid time value");let c=t.match(Gre).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=Fre[p];return x(g,s.formatLong)}return g}).join("").match(Hre).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Jre(g)};if(HP[p])return{isToken:!0,value:g};if(p.match(Xre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Wre(p)||zre(p))&&Vre(p,t,String(e));const x=HP[p[0]];return x(l,p,s.localize,u)}).join("")}function Jre(e){const t=e.match(Yre);return t?t[1].replace(Qre,"'"):e}function Zre(e,t,r){const n=bp(),s=(r==null?void 0:r.locale)??n.locale??vF,i=2520,o=Xg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=ere(u,c),f=(Qv(u)-Qv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<VP){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<hg){const g=Math.round(h/VP);return s.formatDistance("xDays",g,l)}else if(h<hg*2)return m=Math.round(h/hg),s.formatDistance("aboutXMonths",m,l)}if(m=Zte(u,c),m<12){const g=Math.round(h/hg);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function kr(e,t){return Zre(e,Wte(e),t)}function ak(e,t){return Fte(e,-t)}function Il(e,t){const n=nne(e);let s;if(n.date){const c=sne(n.date,2);s=ane(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=ine(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=one(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const mg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},ene=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tne=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,rne=/^([+-])(\d{2})(?::?(\d{2}))?$/;function nne(e){const t={},r=e.split(mg.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],mg.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mg.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=mg.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function sne(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function ane(e,t){if(t===null)return new Date(NaN);const r=e.match(ene);if(!r)return new Date(NaN);const n=!!r[4],s=Bf(r[1]),i=Bf(r[2])-1,o=Bf(r[3]),l=Bf(r[4]),c=Bf(r[5])-1;if(n)return fne(t,l,c)?lne(t,l,c):new Date(NaN);{const u=new Date(0);return!une(t,i,o)||!dne(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Bf(e){return e?parseInt(e):1}function ine(e){const t=e.match(tne);if(!t)return NaN;const r=Gw(t[1]),n=Gw(t[2]),s=Gw(t[3]);return hne(r,n,s)?r*pF+n*mF+s*1e3:NaN}function Gw(e){return e&&parseFloat(e.replace(",","."))||0}function one(e){if(e==="Z")return 0;const t=e.match(rne);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return mne(n,s)?r*(n*pF+s*mF):NaN}function lne(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const cne=[31,null,31,30,31,30,31,31,30,31,30,31];function bF(e){return e%400===0||e%4===0&&e%100!==0}function une(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(cne[t]||(bF(e)?29:28))}function dne(e,t){return t>=1&&t<=(bF(e)?366:365)}function fne(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function hne(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function mne(e,t){return t>=0&&t<=59}const pne=tt({name:be().min(1,"Name is required").max(64),scope:be().min(1,"Scope is required").max(128)}),gne={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function vne(){const{data:e,isLoading:t}=Zx(),r=Ate(),[n,s]=v.useState(!1),[i,o]=v.useState((e==null?void 0:e.display_name)??"");if(v.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"flex items-center gap-4",children:[a.jsx(oe,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-5 w-40"}),a.jsx(oe,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(dp,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(he,{children:"Account and avatar."})]}),a.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Lx,{className:"h-16 w-16 shrink-0",children:[a.jsx($N,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Fx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(P,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(P,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function yne(){const{data:e,isLoading:t}=Tte(),r=Rte(),[n,s]=v.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-40"}),a.jsx(oe,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(oe,{className:"h-12 w-full"}),a.jsx(oe,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(T7,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(he,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Z,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:gne[o.provider]??o.provider}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Re,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Unlink account"}),a.jsx(Te,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function xne(){const{data:e,isLoading:t}=Mte(),{data:r,isLoading:n}=dF(),s=fF(),i=$te(),[o,l]=v.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-24"}),a.jsx(oe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-32"}),a.jsx(oe,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5"}),"Security"]}),a.jsx(he,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Rt,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(TN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Cx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:kr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Re,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke session"}),a.jsx(Te,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function bne(){const{data:e,isLoading:t}=Ite(),r=Dte(),n=Lte(),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(null),d=Ze({resolver:et(pne),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-24"}),a.jsx(oe,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(oe,{className:"h-10 w-28"}),a.jsx(oe,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(ud,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(he,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(_i,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Re,{open:s,onOpenChange:i,children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Create API key"}),a.jsx(Te,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Ie,{children:a.jsx(P,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Re,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Pe,{showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke API key"}),a.jsx(Te,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function wne(){const{data:e,isLoading:t}=dF(),r=fF(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-48"}),a.jsx(oe,{className:"h-4 w-64 mt-2"})]}),a.jsx(Z,{children:a.jsx(oe,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(he,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(H,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Rt,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function jne(){return a.jsxs("div",{className:J("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(vne,{}),a.jsx(yne,{}),a.jsx(xne,{}),a.jsx(bne,{}),a.jsx(wne,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{asChild:!0,children:a.jsx(ue,{to:"/settings",children:"Settings"})})})]})}function _ne(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(he,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(P,{asChild:!0,className:"w-full",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(P,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(ue,{to:"/",children:"Back to home"})})]})]})})}const Sne=CN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,...r}){return a.jsx("div",{className:J(Sne({variant:t}),e),...r})}const Zt="/dashboard",Fn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Zt}/activities${t?`?${t}`:""}`)},getActivity:e=>je.get(`${Zt}/activities/${e}`),createActivity:e=>je.post(`${Zt}/activities`,e),deleteActivity:e=>je.delete(`${Zt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Zt}/runs${t?`?${t}`:""}`)},getRun:e=>je.get(`${Zt}/runs/${e}`),createRun:e=>je.post(`${Zt}/runs`,e),updateRun:(e,t)=>je.patch(`${Zt}/runs/${e}`,t),abortRun:e=>je.post(`${Zt}/runs/${e}/abort`,{}),getCronJobs:()=>je.get(`${Zt}/cron-jobs`),getCronJob:e=>je.get(`${Zt}/cron-jobs/${e}`),createCronJob:e=>je.post(`${Zt}/cron-jobs`,e),updateCronJob:(e,t)=>je.patch(`${Zt}/cron-jobs/${e}`,t),deleteCronJob:e=>je.delete(`${Zt}/cron-jobs/${e}`),runCronJobNow:e=>je.post(`${Zt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return je.get(`${Zt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>je.get(`${Zt}/nodes`),getNode:e=>je.get(`${Zt}/nodes/${e}`),createNode:e=>je.post(`${Zt}/nodes`,e),updateNode:(e,t)=>je.patch(`${Zt}/nodes/${e}`,t),deleteNode:e=>je.delete(`${Zt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${Zt}/alerts${t?`?${t}`:""}`)},getAlert:e=>je.get(`${Zt}/alerts/${e}`),updateAlert:(e,t)=>je.patch(`${Zt}/alerts/${e}`,t),quickRun:e=>je.post(`${Zt}/quick-run`,e)};function cf(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function Nne(e){return Ce({queryKey:Ct.activities(e),queryFn:()=>cf(()=>Fn.getActivities(e),[])})}function kne(){const e=de();return ce({mutationFn:t=>Fn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),q.success("Activity removed")},onError:t=>{q.error(t.message||"Failed to remove activity")}})}function Cne(e){return Ce({queryKey:Ct.runs(e),queryFn:()=>cf(()=>Fn.getRuns(e),[])})}function Ene(){const e=de();return ce({mutationFn:t=>Fn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),q.success("Run aborted")},onError:t=>{q.error(t.message||"Failed to abort run")}})}function wF(){return Ce({queryKey:Ct.cronJobs(),queryFn:()=>cf(()=>Fn.getCronJobs(),[])})}function jF(){const e=de();return ce({mutationFn:t=>Fn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),q.success("Cron job created")},onError:t=>{q.error(t.message||"Failed to create cron job")}})}function Pne(){const e=de();return ce({mutationFn:({id:t,data:r})=>Fn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),q.success("Cron job updated")},onError:t=>{q.error(t.message||"Failed to update cron job")}})}function One(){const e=de();return ce({mutationFn:t=>Fn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),q.success("Cron job deleted")},onError:t=>{q.error(t.message||"Failed to delete cron job")}})}function Ane(e,t){return Ce({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?cf(()=>Fn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function Tne(){const e=de();return ce({mutationFn:t=>Fn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),q.success("Job started")},onError:t=>{q.error(t.message||"Failed to run job")}})}function _F(){return Ce({queryKey:Ct.nodes(),queryFn:()=>cf(()=>Fn.getNodes(),[])})}function Rne(){const e=de();return ce({mutationFn:({id:t,data:r})=>Fn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),q.success("Node updated")},onError:t=>{q.error(t.message||"Failed to update node")}})}function Mne(e){return Ce({queryKey:Ct.alerts(e),queryFn:()=>cf(()=>Fn.getAlerts(e),[])})}function $ne(){const e=de();return ce({mutationFn:({id:t,data:r})=>Fn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),q.success("Alert updated")},onError:t=>{q.error(t.message||"Failed to update alert")}})}function Ine(){const e=de();return ce({mutationFn:t=>Fn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),q.success("Message sent")},onError:t=>{q.error(t.message||"Failed to send message")}})}const XP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function Dne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Activity details"}),a.jsxs(Te,{id:"activity-detail-description",children:[XP[e.activity_type]??e.activity_type," "," ",kr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:XP[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Ie,{children:[n&&a.jsx(P,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function Lne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"run-abort-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Abort run?"}),a.jsxs(Te,{id:"run-abort-description",children:["This will stop the run that started"," ",kr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Fne(e){const t=Une(e),r=v.forwardRef((n,s)=>{const{children:i,...o}=n,l=v.Children.toArray(i),c=l.find(Bne);if(c){const u=c.props.children,d=l.map(f=>f===c?v.Children.count(u)>1?v.Children.only(null):v.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:v.isValidElement(u)?v.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function Une(e){const t=v.forwardRef((r,n)=>{const{children:s,...i}=r;if(v.isValidElement(s)){const o=Wne(s),l=zne(i,s.props);return s.type!==v.Fragment&&(l.ref=n?ro(n,o):o),v.cloneElement(s,l)}return v.Children.count(s)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qne=Symbol("radix.slottable");function Bne(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qne}function zne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Wne(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var SF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vne="VisuallyHidden",Kne=v.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...SF,...e.style}}));Kne.displayName=Vne;var Hne=[" ","Enter","ArrowUp","ArrowDown"],Gne=[" ","Enter"],_c="Select",[eb,tb,Yne]=Ux(_c),[uf]=Ws(_c,[Yne,Vx]),rb=Vx(),[Qne,gl]=uf(_c),[Xne,Jne]=uf(_c),NF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=rb(t),[x,b]=v.useState(null),[y,w]=v.useState(null),[_,j]=v.useState(!1),S=af(u),[N,k]=ri({prop:n,defaultProp:s??!1,onChange:i,caller:_c}),[C,O]=ri({prop:o,defaultProp:l,onChange:c,caller:_c}),D=v.useRef(null),E=x?g||!!x.closest("form"):!0,[L,M]=v.useState(new Set),K=Array.from(L).map(A=>A.props.value).join(";");return a.jsx(kL,{...p,children:a.jsxs(Qne,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Is(),value:C,onValueChange:O,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:D,disabled:h,children:[a.jsx(eb.Provider,{scope:t,children:a.jsx(Xne,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(A=>{M(V=>new Set(V).add(A))},[]),onNativeOptionRemove:v.useCallback(A=>{M(V=>{const T=new Set(V);return T.delete(A),T})},[]),children:r})}),E?a.jsxs(YF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:A=>O(A.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(L)]},K):null]})})};NF.displayName=_c;var kF="SelectTrigger",CF=v.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=rb(r),o=gl(kF,r),l=o.disabled||n,c=gt(t,o.onTriggerChange),u=tb(r),d=v.useRef("touch"),[f,h,m]=XF(p=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),y=JF(x,p,b);y!==void 0&&o.onValueChange(y.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(CL,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":QF(o.value)?"":void 0,...s,ref:c,onClick:$e(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:$e(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:$e(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&Hne.includes(p.key)&&(g(),p.preventDefault())})})})});CF.displayName=kF;var EF="SelectValue",PF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=gl(EF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=gt(t,c.onValueNodeChange);return Nr(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:QF(c.value)?a.jsx(a.Fragment,{children:o}):i})});PF.displayName=EF;var Zne="SelectIcon",OF=v.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});OF.displayName=Zne;var ese="SelectPortal",AF=e=>a.jsx(Tx,{asChild:!0,...e});AF.displayName=ese;var Sc="SelectContent",TF=v.forwardRef((e,t)=>{const r=gl(Sc,e.__scopeSelect),[n,s]=v.useState();if(Nr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Yd.createPortal(a.jsx(RF,{scope:e.__scopeSelect,children:a.jsx(eb.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(MF,{...e,ref:t})});TF.displayName=Sc;var aa=10,[RF,vl]=uf(Sc),tse="SelectContentImpl",rse=Fne("SelectContent.RemoveScroll"),MF=v.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,y=gl(Sc,r),[w,_]=v.useState(null),[j,S]=v.useState(null),N=gt(t,me=>_(me)),[k,C]=v.useState(null),[O,D]=v.useState(null),E=tb(r),[L,M]=v.useState(!1),K=v.useRef(!1);v.useEffect(()=>{if(w)return _N(w)},[w]),jN();const A=v.useCallback(me=>{const[Se,...re]=E().map(Q=>Q.ref.current),[pe]=re.slice(-1),Y=document.activeElement;for(const Q of me)if(Q===Y||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===Se&&j&&(j.scrollTop=0),Q===pe&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==Y))return},[E,j]),V=v.useCallback(()=>A([k,w]),[A,k,w]);v.useEffect(()=>{L&&V()},[L,V]);const{onOpenChange:T,triggerPointerDownPosRef:$}=y;v.useEffect(()=>{if(w){let me={x:0,y:0};const Se=pe=>{var Y,Q;me={x:Math.abs(Math.round(pe.pageX)-(((Y=$.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(pe.pageY)-(((Q=$.current)==null?void 0:Q.y)??0))}},re=pe=>{me.x<=10&&me.y<=10?pe.preventDefault():w.contains(pe.target)||T(!1),document.removeEventListener("pointermove",Se),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",Se),document.addEventListener("pointerup",re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Se),document.removeEventListener("pointerup",re,{capture:!0})}}},[w,T,$]),v.useEffect(()=>{const me=()=>T(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[T]);const[I,ee]=XF(me=>{const Se=E().filter(Y=>!Y.disabled),re=Se.find(Y=>Y.ref.current===document.activeElement),pe=JF(Se,me,re);pe&&setTimeout(()=>pe.ref.current.focus())}),F=v.useCallback((me,Se,re)=>{const pe=!K.current&&!re;(y.value!==void 0&&y.value===Se||pe)&&(C(me),pe&&(K.current=!0))},[y.value]),ie=v.useCallback(()=>w==null?void 0:w.focus(),[w]),ye=v.useCallback((me,Se,re)=>{const pe=!K.current&&!re;(y.value!==void 0&&y.value===Se||pe)&&D(me)},[y.value]),ze=n==="popper"?E_:$F,Ke=ze===E_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(RF,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:F,selectedItem:k,onItemLeave:ie,itemTextRefCallback:ye,focusSelectedItem:V,selectedItemText:O,position:n,isPositioned:L,searchRef:I,children:a.jsx(Mx,{as:rse,allowPinchZoom:!0,children:a.jsx(Ax,{asChild:!0,trapped:y.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:$e(s,me=>{var Se;(Se=y.trigger)==null||Se.focus({preventScroll:!0}),me.preventDefault()}),children:a.jsx(Ox,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:a.jsx(ze,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:me=>me.preventDefault(),...b,...Ke,onPlaced:()=>M(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:$e(b.onKeyDown,me=>{const Se=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Se&&me.key.length===1&&ee(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let pe=E().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(me.key)&&(pe=pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const Y=me.target,Q=pe.indexOf(Y);pe=pe.slice(Q+1)}setTimeout(()=>A(pe)),me.preventDefault()}})})})})})})});MF.displayName=tse;var nse="SelectItemAlignedPosition",$F=v.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=gl(Sc,r),o=vl(Sc,r),[l,c]=v.useState(null),[u,d]=v.useState(null),f=gt(t,N=>d(N)),h=tb(r),m=v.useRef(!1),g=v.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:y}=o,w=v.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),O=b.getBoundingClientRect();if(i.dir!=="rtl"){const Y=O.left-k.left,Q=C.left-Y,Xe=N.left-Q,He=N.width+Xe,xt=Math.max(He,k.width),ft=window.innerWidth-aa,Wt=h_(Q,[aa,Math.max(aa,ft-xt)]);l.style.minWidth=He+"px",l.style.left=Wt+"px"}else{const Y=k.right-O.right,Q=window.innerWidth-C.right-Y,Xe=window.innerWidth-N.right-Q,He=N.width+Xe,xt=Math.max(He,k.width),ft=window.innerWidth-aa,Wt=h_(Q,[aa,Math.max(aa,ft-xt)]);l.style.minWidth=He+"px",l.style.right=Wt+"px"}const D=h(),E=window.innerHeight-aa*2,L=p.scrollHeight,M=window.getComputedStyle(u),K=parseInt(M.borderTopWidth,10),A=parseInt(M.paddingTop,10),V=parseInt(M.borderBottomWidth,10),T=parseInt(M.paddingBottom,10),$=K+A+L+T+V,I=Math.min(x.offsetHeight*5,$),ee=window.getComputedStyle(p),F=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),ye=N.top+N.height/2-aa,ze=E-ye,Ke=x.offsetHeight/2,me=x.offsetTop+Ke,Se=K+A+me,re=$-Se;if(Se<=ye){const Y=D.length>0&&x===D[D.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(ze,Ke+(Y?ie:0)+Q+V),He=Se+Xe;l.style.height=He+"px"}else{const Y=D.length>0&&x===D[0].ref.current;l.style.top="0px";const Xe=Math.max(ye,K+p.offsetTop+(Y?F:0)+Ke)+re;l.style.height=Xe+"px",p.scrollTop=Se-ye+p.offsetTop}l.style.margin=`${aa}px 0`,l.style.minHeight=I+"px",l.style.maxHeight=E+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,x,b,i.dir,n]);Nr(()=>w(),[w]);const[_,j]=v.useState();Nr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=v.useCallback(N=>{N&&g.current===!0&&(w(),y==null||y(),g.current=!1)},[w,y]);return a.jsx(ase,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$F.displayName=nse;var sse="SelectPopperPosition",E_=v.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=aa,...i}=e,o=rb(r);return a.jsx(EL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});E_.displayName=sse;var[ase,ik]=uf(Sc,{}),P_="SelectViewport",IF=v.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=vl(P_,r),o=ik(P_,r),l=gt(t,i.onViewportChange),c=v.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(eb.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:$e(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-aa*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<g){const y=b+m,w=Math.min(g,y),_=y-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});IF.displayName=P_;var DF="SelectGroup",[ise,ose]=uf(DF),lse=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Is();return a.jsx(ise,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});lse.displayName=DF;var LF="SelectLabel",FF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ose(LF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});FF.displayName=LF;var Xv="SelectItem",[cse,UF]=uf(Xv),qF=v.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=gl(Xv,r),c=vl(Xv,r),u=l.value===n,[d,f]=v.useState(i??""),[h,m]=v.useState(!1),g=gt(t,y=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,y,n,s)}),p=Is(),x=v.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(cse,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:v.useCallback(y=>{f(w=>w||((y==null?void 0:y.textContent)??"").trim())},[]),children:a.jsx(eb.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:$e(o.onFocus,()=>m(!0)),onBlur:$e(o.onBlur,()=>m(!1)),onClick:$e(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:$e(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:$e(o.onPointerDown,y=>{x.current=y.pointerType}),onPointerMove:$e(o.onPointerMove,y=>{var w;x.current=y.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,y=>{var w;y.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:$e(o.onKeyDown,y=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&y.key===" "||(Gne.includes(y.key)&&b(),y.key===" "&&y.preventDefault())})})})})});qF.displayName=Xv;var fh="SelectItemText",BF=v.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=gl(fh,r),l=vl(fh,r),c=UF(fh,r),u=Jne(fh,r),[d,f]=v.useState(null),h=gt(t,b=>f(b),c.onItemTextChange,b=>{var y;return(y=l.itemTextRefCallback)==null?void 0:y.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=v.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return Nr(()=>(p(g),()=>x(g)),[p,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yd.createPortal(i.children,o.valueNode):null]})});BF.displayName=fh;var zF="SelectItemIndicator",WF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return UF(zF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});WF.displayName=zF;var O_="SelectScrollUpButton",VF=v.forwardRef((e,t)=>{const r=vl(O_,e.__scopeSelect),n=ik(O_,e.__scopeSelect),[s,i]=v.useState(!1),o=gt(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(HF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});VF.displayName=O_;var A_="SelectScrollDownButton",KF=v.forwardRef((e,t)=>{const r=vl(A_,e.__scopeSelect),n=ik(A_,e.__scopeSelect),[s,i]=v.useState(!1),o=gt(t,n.onScrollButtonChange);return Nr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(HF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});KF.displayName=A_;var HF=v.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=vl("SelectScrollButton",r),o=v.useRef(null),l=tb(r),c=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>c(),[c]),Nr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:$e(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:$e(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:$e(s.onPointerLeave,()=>{c()})})}),use="SelectSeparator",GF=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});GF.displayName=use;var T_="SelectArrow",dse=v.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=rb(r),i=gl(T_,r),o=vl(T_,r);return i.open&&o.position==="popper"?a.jsx(PL,{...s,...n,ref:t}):null});dse.displayName=T_;var fse="SelectBubbleInput",YF=v.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=v.useRef(null),i=gt(n,s),o=sF(t);return v.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...SF,...r.style},ref:i,defaultValue:t})});YF.displayName=fse;function QF(e){return e===""||e===void 0}function XF(e){const t=Zr(e),r=v.useRef(""),n=v.useRef(0),s=v.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=v.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function JF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=hse(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function hse(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var mse=NF,ZF=CF,pse=PF,gse=OF,vse=AF,e5=TF,yse=IF,t5=FF,r5=qF,xse=BF,bse=WF,n5=VF,s5=KF,a5=GF;const ot=mse,lt=pse,at=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(ZF,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(gse,{asChild:!0,children:a.jsx(pl,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=ZF.displayName;const i5=v.forwardRef(({className:e,...t},r)=>a.jsx(n5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(AI,{className:"h-4 w-4"})}));i5.displayName=n5.displayName;const o5=v.forwardRef(({className:e,...t},r)=>a.jsx(s5,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(pl,{className:"h-4 w-4"})}));o5.displayName=s5.displayName;const it=v.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(vse,{children:a.jsxs(e5,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(i5,{}),a.jsx(yse,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(o5,{})]})}));it.displayName=e5.displayName;const wse=v.forwardRef(({className:e,...t},r)=>a.jsx(t5,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));wse.displayName=t5.displayName;const Ne=v.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(r5,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bse,{children:a.jsx(tf,{className:"h-4 w-4"})})}),a.jsx(xse,{children:t})]}));Ne.displayName=r5.displayName;const jse=v.forwardRef(({className:e,...t},r)=>a.jsx(a5,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));jse.displayName=a5.displayName;const _se=tt({name:be().min(1,"Name is required").max(200,"Name too long"),schedule:be().min(1,"Schedule is required"),description:be().optional(),payload_json:be().optional(),session_target:be().optional(),isolation_setting:Gr().optional(),status:ar(["active","paused"]).optional()}),pg={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function Sse(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function l5({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(_se),defaultValues:pg}),m=d("status"),g=d("isolation_setting");v.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(pg)},[e,i,f]);const p=b=>{const y=Sse(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:y,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:y,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(pg),t(!1)},x=b=>{b||f(pg),t(b)};return a.jsx(Re,{open:e,onOpenChange:x,children:a.jsxs(Pe,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Te,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Rt,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Yw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},Nse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},kse={paired:"success",offline:"destructive",error:"warning"};function c5({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=v.useState((e==null?void 0:e.connection_health)??"unknown");if(v.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(wa,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Te,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(We,{variant:kse[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(We,{variant:Nse[l],children:[l==="healthy"&&a.jsx(fp,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(WI,{className:"mr-1 h-3 w-3"}),Yw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(We,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Update connection health"}),a.jsxs(ot,{value:i,onValueChange:d=>o(d),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:Object.keys(Yw).map(d=>a.jsx(Ne,{value:d,children:Yw[d]},d))})]})]})]}),n&&a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const Cse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},Ese=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function Pse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(to,{className:J("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Te,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:J("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:Cse[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Resolution status"}),a.jsxs(ot,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:Ese.map(o=>a.jsx(Ne,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(P,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const JP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},Ose={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},Ase={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function Tse(){const[e,t]=v.useState(""),[r,n]=v.useState(""),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(null),{data:x}=Zx(),b=(x==null?void 0:x.user_id)??"",{data:y=[],isLoading:w}=Nne({limit:20,type:r||void 0}),{data:_=[],isLoading:j}=Cne({status:"running",limit:10}),{data:S=[],isLoading:N}=wF(),{data:k=[],isLoading:C}=_F(),{data:O=[],isLoading:D}=Mne({resolution_status:"open"}),E=Ine(),L=Ene(),M=jF(),K=kne(),A=$ne(),V=Rne(),T=()=>{const I=e.trim();I&&E.mutate({message:I},{onSuccess:()=>t("")})},$=r?y.filter(I=>I.activity_type===r):y;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Xa,href:"/chat"},{title:"Cron jobs",value:S.length,icon:ml,href:"/cron"},{title:"Nodes",value:k.length,icon:wa,href:"/nodes"},{title:"Alerts",value:O.length,icon:_r,href:"/security"}].map(({title:I,value:ee,icon:F,href:ie})=>a.jsx(ue,{to:ie,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:I}),a.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:ee})})]})},I))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(op,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:I=>n(I.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(JP).map(([I,ee])=>a.jsx("option",{value:I,children:ee},I))]})]}),a.jsx(Z,{className:"flex-1 overflow-hidden",children:a.jsx(ht,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(I=>a.jsx(oe,{className:"h-14 w-full rounded-lg"},I))}):$.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:$.map(I=>a.jsx("li",{children:a.jsxs("div",{className:J("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===I.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===I.id?null:I.id),"aria-expanded":s===I.id,children:[s===I.id?a.jsx(pl,{className:"h-4 w-4 shrink-0"}):a.jsx(wr,{className:"h-4 w-4 shrink-0"}),a.jsx(We,{variant:"secondary",className:"text-xs",children:JP[I.activity_type]??I.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:kr(new Date(I.created_at),{addSuffix:!0})})]}),s===I.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(I),children:"View details"})})]})},I.id))})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(lp,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(he,{children:"Send a message to the default session or channel."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:I=>t(I.target.value),onKeyDown:I=>I.key==="Enter"&&T(),"aria-label":"Quick run message"}),a.jsx(P,{onClick:T,disabled:!e.trim()||E.isPending,children:E.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(fd,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{children:"Active runs"}),a.jsx(he,{children:"Stream and abort running jobs."})]}),a.jsx(Z,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:Ose[I.status],children:I.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",kr(new Date(I.start_time),{addSuffix:!0})]})]}),a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>u(I),disabled:I.status!=="running",children:[a.jsx(cN,{className:"mr-1 h-4 w-4"}),"Abort"]})]},I.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(se,{children:"Cron overview"}),a.jsxs(P,{size:"sm",onClick:()=>f(!0),children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Z,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full rounded-lg"}),a.jsx(oe,{className:"h-10 w-full rounded-lg"})]}):S.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[S.slice(0,5).map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:I.description||I.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:I.schedule})]}),a.jsx(We,{variant:I.status==="active"?"default":"secondary",children:I.status})]},I.id)),S.length>5&&a.jsx("li",{children:a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(ue,{to:"/cron",children:["View all (",S.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(se,{children:"Nodes status"}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Z,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(oe,{className:"h-20 rounded-lg"}),a.jsx(oe,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(I=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m(I),children:[a.jsx(wa,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:I.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(We,{variant:Ase[I.connection_health],className:"text-xs",children:[I.connection_health==="healthy"&&a.jsx(fp,{className:"mr-0.5 h-3 w-3"}),I.connection_health==="offline"&&a.jsx(WI,{className:"mr-0.5 h-3 w-3"}),I.connection_health]})})]})]},I.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/security",children:"Run audit"})})]}),a.jsx(Z,{children:D?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):O.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:O.map(I=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:I.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:I.description})]}),a.jsx(We,{variant:I.severity==="critical"?"destructive":I.severity==="high"?"warning":"secondary",className:"shrink-0",children:I.severity}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p(I),children:"Fix"})]},I.id))})})]}),a.jsx(Dne,{activity:o,open:!!o,onOpenChange:I=>!I&&l(null),onDelete:I=>{K.mutate(I),l(null)}}),a.jsx(Lne,{run:c,open:!!c,onOpenChange:I=>!I&&u(null),onConfirm:I=>{L.mutate(I),u(null)},isAborting:L.isPending}),a.jsx(l5,{open:d,onOpenChange:f,onSubmit:I=>{"user_id"in I&&I.user_id!==void 0&&M.mutate(I)},isSubmitting:M.isPending,userId:b}),a.jsx(c5,{node:h,open:!!h,onOpenChange:I=>!I&&m(null),onUpdateHealth:(I,ee)=>V.mutate({id:I,data:{connection_health:ee}}),isUpdating:V.isPending}),a.jsx(Pse,{alert:g,open:!!g,onOpenChange:I=>!I&&p(null),onResolve:(I,ee)=>A.mutate({id:I,data:{resolution_status:ee}}),isUpdating:A.isPending})]})}const ys={getSessions:async()=>{const{data:e,error:t}=await U.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await U.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await U.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await U.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=U.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await U.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=U.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await U.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await U.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>ys.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>ys.updateToolInvocation(e,{status:"denied"}),getSessionCommands:async e=>{const{data:{user:t}}=await U.auth.getUser(),r=(e==null?void 0:e.userId)??(t==null?void 0:t.id);if(!r)return[];let n=U.from("session_commands").select("*").eq("user_id",r).order("created_at",{ascending:!1});e!=null&&e.sessionId&&(n=n.eq("session_id",e.sessionId)),e!=null&&e.limit&&(n=n.limit(e.limit));const{data:s,error:i}=await n;if(i)throw new Error(i.message);return s??[]},createSessionCommand:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("session_commands").insert(r).select().single();if(s)throw new Error(s.message);return n}};function Rse(e,t){return e().catch(()=>t)}const cn={all:["chat"],sessions:()=>[...cn.all,"sessions"],session:e=>[...cn.all,"session",e],messages:(e,t)=>[...cn.all,"messages",e,t],toolInvocations:(e,t)=>[...cn.all,"toolInvocations",e,t],sessionCommands:e=>[...cn.all,"sessionCommands",e]};function Mse(){return Ce({queryKey:cn.sessions(),queryFn:()=>Rse(()=>ys.getSessions(),[])})}function $se(e){return Ce({queryKey:cn.session(e??""),queryFn:()=>e?ys.getSession(e):Promise.resolve(null),enabled:!!e})}function Ise(){const e=de();return ce({mutationFn:t=>ys.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:cn.sessions()}),q.success("Session created")},onError:t=>{q.error(t.message||"Failed to create session")}})}function Dse(){const e=de();return ce({mutationFn:({id:t,data:r})=>ys.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:cn.sessions()}),e.invalidateQueries({queryKey:cn.session(r)}),q.success("Session updated")},onError:t=>{q.error(t.message||"Failed to update session")}})}function Lse(e,t){return Ce({queryKey:cn.messages(e??"",{limit:t}),queryFn:()=>e?ys.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Fse(){const e=de();return ce({mutationFn:t=>ys.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:cn.messages(r.session_id)}),q.success("Message sent")},onError:t=>{q.error(t.message||"Failed to send message")}})}function Use(e,t){return Ce({queryKey:cn.toolInvocations(e??"",t),queryFn:()=>e?ys.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function qse(){const e=de();return ce({mutationFn:({id:t,sessionId:r})=>ys.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:cn.toolInvocations(r)}),q.success("Tool output approved")},onError:t=>{q.error(t.message||"Failed to approve")}})}function Bse(){const e=de();return ce({mutationFn:({id:t,sessionId:r})=>ys.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:cn.toolInvocations(r)}),q.success("Tool output denied")},onError:t=>{q.error(t.message||"Failed to deny")}})}function zse(e){return Ce({queryKey:cn.sessionCommands({sessionId:(e==null?void 0:e.sessionId)??void 0,limit:e==null?void 0:e.limit}),queryFn:()=>ys.getSessionCommands({sessionId:(e==null?void 0:e.sessionId)??void 0,limit:e==null?void 0:e.limit})})}function Wse(){const e=de();return ce({mutationFn:t=>ys.createSessionCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:cn.sessionCommands({sessionId:r.session_id??void 0})})},onError:t=>{q.error(t.message||"Failed to execute command")}})}function Vse({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:J("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Lx,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Fx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(OI,{className:"h-4 w-4"}):a.jsx(dp,{className:"h-4 w-4"})})}),a.jsxs("div",{className:J("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:kr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Kse({messages:e,isLoading:t,currentUserId:r,className:n}){const s=v.useRef(null);return v.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(ht,{className:J("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Vse,{message:i,currentUserId:r})},i.id))})})}const Qw=[{id:"new",name:"new",description:"Start a new session"},{id:"reset",name:"reset",description:"Reset current session"},{id:"stop",name:"stop",description:"Stop/pause session"}];function Hse({sessionId:e,onSend:t,onSlashCommand:r,onAttachClick:n,onToolSelect:s,disabled:i,isSending:o,availableTools:l=[],className:c}){const[u,d]=v.useState(""),[f,h]=v.useState(null),[m,g]=v.useState(!1),[p,x]=v.useState(""),[b,y]=v.useState(0),w=v.useRef(null),_=v.useRef(null),j=R.useMemo(()=>{if(!p)return[...Qw];const E=p.toLowerCase();return Qw.filter(L=>L.name.toLowerCase().startsWith(E)||L.name.toLowerCase().includes(E))},[p]),S=v.useCallback(E=>{x(E),g(!0),y(0)},[]),N=v.useCallback(()=>{g(!1),x(""),y(0)},[]);v.useEffect(()=>{if(!u.startsWith("/")){N();return}const E=u.slice(1).split(/\s/)[0]??"";S(E)},[u,S,N]),v.useEffect(()=>{y(0)},[p]),v.useEffect(()=>{var L;if(!m||j.length===0)return;const E=(L=_.current)==null?void 0:L.querySelector(`[data-index="${b}"]`);E==null||E.scrollIntoView({block:"nearest"})},[m,b,j.length]);const k=v.useCallback(E=>{if(!(!m||j.length===0)){if(E.key==="ArrowDown"){E.preventDefault(),y(L=>L<j.length-1?L+1:0);return}if(E.key==="ArrowUp"){E.preventDefault(),y(L=>L>0?L-1:j.length-1);return}if(E.key==="Enter"&&j[b]){E.preventDefault();const L=j[b];r&&(L.id==="new"||L.id==="reset"||L.id==="stop")?(r(L.id),d(""),N()):(d(`/${L.name} `),N());return}E.key==="Escape"&&N()}},[m,j,b,r,N]),C=v.useCallback(E=>{var L;r&&(E.id==="new"||E.id==="reset"||E.id==="stop")?(r(E.id),d("")):d(`/${E.name} `),N(),(L=w.current)==null||L.focus()},[r,N]),O=v.useCallback(E=>{var M;E.preventDefault();const L=u.trim();if(!(!L||!e)){if(L.startsWith("/")){const K=(M=L.slice(1).split(/\s/)[0])==null?void 0:M.toLowerCase(),A=Qw.find(V=>V.name===K);if(A&&r&&(A.id==="new"||A.id==="reset"||A.id==="stop")){r(A.id),d("");return}}t(L,{toolName:f??void 0}),d(""),h(null)}},[u,e,t,f,r]),D=!!(e&&u.trim()&&!i&&!o);return a.jsx("form",{onSubmit:O,className:J("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",c),children:a.jsxs("div",{className:"relative flex items-end gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:n,disabled:i||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(N7,{className:"h-4 w-4"})}),a.jsxs("div",{className:"relative flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ge,{ref:w,value:u,onChange:E=>d(E.target.value),onKeyDown:k,placeholder:"Type a message or / for commands...",disabled:i||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring pr-8","aria-label":"Message input","aria-autocomplete":"list","aria-expanded":m,"aria-controls":"slash-suggestions"}),u.startsWith("/")&&a.jsx(E7,{className:"absolute right-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none"}),m&&j.length>0&&a.jsx("ul",{id:"slash-suggestions",ref:_,className:"absolute left-0 right-0 top-full z-50 mt-1 max-h-48 overflow-auto rounded-md border border-border bg-card py-1 shadow-lg",role:"listbox",children:j.map((E,L)=>a.jsx("li",{role:"option","aria-selected":L===b,children:a.jsxs("button",{type:"button","data-index":L,className:J("flex w-full items-center gap-2 px-3 py-2 text-left text-sm transition-colors",L===b?"bg-primary/15 text-primary":"text-foreground hover:bg-secondary"),onMouseEnter:()=>y(L),onClick:()=>C(E),children:[a.jsxs("span",{className:"font-medium",children:["/",E.name]}),a.jsx("span",{className:"text-muted-foreground",children:E.description})]})},E.id))})]}),l.length>0&&a.jsxs(ot,{value:f??"",onValueChange:E=>{h(E||null),E&&s&&s(E)},disabled:i||!e,children:[a.jsxs(at,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(Px,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(lt,{placeholder:"Tool"})]}),a.jsx(it,{children:l.map(E=>a.jsx(Ne,{value:E.id,children:E.name},E.id))})]})]}),a.jsx(P,{type:"submit",size:"icon",disabled:!D,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(fd,{className:"h-4 w-4"})})]})})}function Gse(e,t=[]){let r=[];function n(i,o){const l=v.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=v.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=v.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>v.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Yse(s,...t)]}function Yse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Qse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],u5=Qse.reduce((e,t)=>{const r=hp(`Primitive.${t}`),n=v.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ok="Progress",lk=100,[Xse]=Gse(ok),[Jse,Zse]=Xse(ok),d5=v.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=eae,...o}=e;(s||s===0)&&!ZP(s)&&console.error(tae(`${s}`,"Progress"));const l=ZP(s)?s:lk;n!==null&&!eO(n,l)&&console.error(rae(`${n}`,"Progress"));const c=eO(n,l)?n:null,u=Jv(c)?i(c,l):void 0;return a.jsx(Jse,{scope:r,value:c,max:l,children:a.jsx(u5.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Jv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":m5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});d5.displayName=ok;var f5="ProgressIndicator",h5=v.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Zse(f5,r);return a.jsx(u5.div,{"data-state":m5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});h5.displayName=f5;function eae(e,t){return`${Math.round(e/t*100)}%`}function m5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Jv(e){return typeof e=="number"}function ZP(e){return Jv(e)&&!isNaN(e)&&e>0}function eO(e,t){return Jv(e)&&!isNaN(e)&&e<=t&&e>=0}function tae(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${lk}\`.`}function rae(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${lk} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var p5=d5,nae=h5;const ck=v.forwardRef(({className:e,value:t,...r},n)=>a.jsx(p5,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(nae,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ck.displayName=p5.displayName;const sae={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function aae({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Px,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(We,{variant:sae[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:kr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Z,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(jr,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(ck,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(hd,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(P,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(tf,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function iae({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],commandHistory:i=[],onOpenSessionConfig:o,className:l}){return a.jsxs("aside",{className:J("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",l),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(We,{variant:"outline",children:e.status})]}),(e.routing_type==="shared"||e.routing_type==="isolate")&&a.jsxs("p",{className:"mt-1 text-xs",children:["Routing: ",a.jsx(We,{variant:"secondary",children:e.routing_type})]}),o&&a.jsxs(P,{variant:"ghost",size:"sm",className:"mt-2 gap-1.5 text-xs",onClick:o,children:[a.jsx(gN,{className:"h-3.5 w-3.5"}),"Configure routing"]})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(c=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(c.id),className:J("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===c.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(lp,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:c.title})]})},c.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(c=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(FI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:c.name}),a.jsx(We,{variant:"secondary",className:"text-xs",children:c.type})]},c.id))})})]}),i.length>0&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(yN,{className:"h-4 w-4"}),"Command history"]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-24",children:a.jsx("ul",{className:"space-y-1 text-xs text-muted-foreground",children:i.slice(0,10).map(c=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsxs("code",{className:"rounded bg-secondary px-1.5 py-0.5",children:["/",c.command_type]}),a.jsx("span",{children:new Date(c.created_at).toLocaleTimeString()})]},c.id))})})})]})]})}function oae({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=v.useState(!1);return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Sr,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(pl,{className:"h-4 w-4"}):a.jsx(AI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Z,{className:"p-0",children:a.jsx(ht,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function lae({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=v.useState(""),[d,f]=v.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Manage attachments"}),a.jsxs(Te,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(H,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(H,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(P,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(zI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(ht,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(hd,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,children:"Done"})]})]})})}const cae={new:"Start new session",reset:"Reset session",stop:"Stop session"},uae={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function dae({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:cae[r]}),a.jsx(Te,{id:"session-dialog-description",children:uae[r]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(Dt,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(UI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(im,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}function fae({open:e,onOpenChange:t,session:r,routingType:n,peerId:s,onSave:i,isLoading:o,peerOptions:l=[],className:c}){const[u,d]=v.useState(n),[f,h]=v.useState(s);v.useEffect(()=>{e&&(d(n),h(s))},[e,n,s]);const m=()=>{i(u,f),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",c),"aria-describedby":"session-config-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(gN,{className:"h-5 w-5 text-primary"}),"Session configuration"]}),a.jsx(Te,{id:"session-config-description",children:"Choose how messages are routed: shared (main session) or isolated per peer/channel."})]}),a.jsxs("div",{className:"grid gap-4 py-2",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"routing-type",children:"Routing mode"}),a.jsxs(ot,{value:u,onValueChange:g=>d(g),disabled:!r,children:[a.jsx(at,{id:"routing-type",className:"w-full",children:a.jsx(lt,{placeholder:"Select mode"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"shared",children:"Shared (main session)"}),a.jsx(Ne,{value:"isolate",children:"Isolated (per peer/channel)"})]})]})]}),u==="isolate"&&l.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"peer",children:"Peer / channel"}),a.jsxs(ot,{value:f??"",onValueChange:g=>h(g||null),children:[a.jsx(at,{id:"peer",className:"w-full",children:a.jsx(lt,{placeholder:"Select peer"})}),a.jsx(it,{children:l.map(g=>a.jsx(Ne,{value:g.id,children:g.name},g.id))})]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:o||!r,children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):"Save"})]})]})})}function hae({open:e,onOpenChange:t,command:r,description:n="This command requires additional permissions to run.",onConfirm:s,onDeny:i,isLoading:o,className:l}){const c=()=>{s(),t(!1)},u=()=>{i(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:J("max-w-[640px]",l),"aria-describedby":"permission-dialog-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(vN,{className:"h-5 w-5 text-warning"}),"Permission required"]}),a.jsxs(Te,{id:"permission-dialog-description",children:[n," Command: ",a.jsxs("code",{className:"rounded bg-secondary px-1 py-0.5 text-sm",children:["/",r]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,children:"Deny"}),a.jsx(P,{onClick:c,disabled:o,children:o?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):"Allow"})]})]})})}const mae=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function pae(){const{data:e}=Zx(),t=(e==null?void 0:e.user_id)??null,[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(!1),[x,b]=v.useState([]),[y,w]=v.useState([]),[_]=v.useState(!1),[j]=v.useState("normal"),{data:S=[],isLoading:N}=Mse(),{data:k}=$se(r),{data:C=[],isLoading:O}=Lse(r,200),{data:D=[]}=Use(r,{limit:20}),{data:E=[]}=zse({sessionId:r,limit:20}),L=Ise(),M=Dse(),K=Fse(),A=Wse(),V=qse(),T=Bse();v.useEffect(()=>{if(!N){if(S.length>0&&!r){n(S[0].id);return}S.length===0&&L.mutate({title:"New session"},{onSuccess:Se=>n(Se.id)})}},[N,S.length,S,r,L]);const $=v.useCallback((Se,re)=>{r&&K.mutate({session_id:r,sender_id:t??void 0,role:"user",text:Se,attachment_links:(re==null?void 0:re.attachmentUrls)??x},{onSuccess:()=>b([])})},[r,t,x,K]),I=v.useCallback(Se=>{const re=pe=>{A.mutate({session_id:pe,command_type:Se})};Se==="new"?L.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:pe=>{n(pe.id),l(!1),i(null),re(pe.id)}}):Se==="reset"&&r?L.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:pe=>{n(pe.id),l(!1),i(null),re(pe.id)}}):Se==="stop"&&r&&M.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null),re(r)}})},[r,L,M,A]),ee=v.useCallback(Se=>{r&&V.mutate({id:Se,sessionId:r})},[r,V]),F=v.useCallback(Se=>{r&&T.mutate({id:Se,sessionId:r})},[r,T]),ie=v.useCallback(Se=>{i(Se),l(!0)},[]),ye=v.useCallback(Se=>{ie(Se)},[ie]),ze=v.useCallback((Se,re)=>{r&&M.mutate({id:r,data:{routing_type:Se,peer_id:re}})},[r,M]),Ke=v.useCallback(()=>{h&&ie(h),m(null)},[h]),me=v.useCallback(()=>{m(null)},[]);return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),k&&a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsxs("span",{children:["Session: ",k.title]}),(k.routing_type==="shared"||k.routing_type==="isolate")&&a.jsx("span",{className:"rounded bg-secondary px-1.5 py-0.5 text-xs",children:k.routing_type})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>ie("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Dt,{className:"h-4 w-4"}),"/new"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>ie("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(UI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>ie("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(im,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Kse,{messages:C,isLoading:O,currentUserId:t,className:"min-h-0"}),a.jsx(Hse,{sessionId:r,onSend:$,onSlashCommand:ye,onAttachClick:()=>p(!0),disabled:!r,isSending:K.isPending,availableTools:mae})]}),D.length>0&&a.jsx(ht,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),D.map(Se=>a.jsx(aae,{invocation:Se,onApprove:ee,onDeny:F},Se.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(iae,{session:k??null,sessions:S,onSelectSession:n,currentSessionId:r,routingTargets:[],commandHistory:E,onOpenSessionConfig:()=>u(!0)}),a.jsx(oae,{traces:y,onExport:()=>w([])})]})]}),a.jsx("footer",{className:"flex items-center justify-between gap-2 border-t border-border px-4 py-2 text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(op,{className:J("h-3.5 w-3.5",_&&"text-accent")}),_?"Streaming":"Idle"]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(fp,{className:"h-3.5 w-3.5"}),"Backpressure: ",j]})]})}),a.jsx(lae,{open:g,onOpenChange:p,attachments:x,onAdd:(Se,re)=>b(pe=>[...pe,{url:Se,name:re}]),onRemove:Se=>b(re=>re.filter((pe,Y)=>Y!==Se)),onConfirm:()=>{},maxAttachments:5}),a.jsx(dae,{open:o,onOpenChange:l,action:s,onConfirm:I,isLoading:L.isPending||M.isPending}),a.jsx(fae,{open:c,onOpenChange:u,session:k??null,routingType:(k==null?void 0:k.routing_type)??"shared",peerId:(k==null?void 0:k.peer_id)??null,onSave:ze,isLoading:M.isPending,peerOptions:[]}),a.jsx(hae,{open:d,onOpenChange:f,command:h??"",onConfirm:Ke,onDeny:me})]})}const _a={getChannels:async()=>{const{data:e,error:t}=await U.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await U.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await U.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await U.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await U.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await _a.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await U.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await U.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await U.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=U.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await U.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t},getUserMappings:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("user_mappings").select("*").eq("channel_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createUserMapping:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("user_mappings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateUserMapping:async(e,t)=>{const{data:r,error:n}=await U.from("user_mappings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteUserMapping:async e=>{const{error:t}=await U.from("user_mappings").delete().eq("id",e);if(t)throw new Error(t.message)},getChannelAdapterMessages:async(e,t)=>{if(!e)return[];let r=U.from("channel_adapter_messages").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.direction&&(r=r.eq("direction",t.direction)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createChannelAdapterMessage:async e=>{const{data:{user:t}}=await U.auth.getUser(),r={...e,user_id:e.user_id??(t==null?void 0:t.id)??null},{data:n,error:s}=await U.from("channel_adapter_messages").insert(r).select().single();if(s)throw new Error(s.message);return n},sendTestMessage:async(e,t)=>{const r=await _a.createDeliveryLog({channel_id:e,event_type:"test_message_outbound",success:!0,metadata:{content:t.slice(0,200),test:!0}});try{const n=await _a.createChannelAdapterMessage({channel_id:e,content:t,direction:"outbound",metadata:{test:!0}});return{deliveryLog:r,message:n}}catch{return{deliveryLog:r}}}};function gae(e,t){return e().catch(()=>t)}const bn={all:["channels"],list:()=>[...bn.all,"list"],detail:e=>[...bn.all,"detail",e],adapterConfig:e=>[...bn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...bn.all,"deliveryLogs",e,t],userMappings:e=>[...bn.all,"userMappings",e],channelAdapterMessages:(e,t)=>[...bn.all,"channelAdapterMessages",e,t]};function vae(){return Ce({queryKey:bn.list(),queryFn:()=>gae(()=>_a.getChannels(),[])})}function yae(e){return Ce({queryKey:bn.detail(e??""),queryFn:()=>e?_a.getChannel(e):Promise.resolve(null),enabled:!!e})}function xae(){const e=de();return ce({mutationFn:t=>_a.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.list()}),q.success("Channel added")},onError:t=>{q.error(t.message||"Failed to add channel")}})}function bae(){const e=de();return ce({mutationFn:t=>_a.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.list()}),q.success("Channel removed")},onError:t=>{q.error(t.message||"Failed to remove channel")}})}function wae(e){return Ce({queryKey:bn.adapterConfig(e??""),queryFn:()=>e?_a.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function jae(){const e=de();return ce({mutationFn:t=>_a.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:bn.adapterConfig(n)}),e.invalidateQueries({queryKey:bn.detail(n)}),q.success("Channel config saved")},onError:t=>{q.error(t.message||"Failed to save config")}})}function _ae(e,t){return Ce({queryKey:bn.deliveryLogs(e,t),queryFn:()=>e?_a.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}function Sae(){const e=de();return ce({mutationFn:({channelId:t,content:r})=>_a.sendTestMessage(t,r),onSuccess:(t,{channelId:r})=>{e.invalidateQueries({queryKey:bn.deliveryLogs(r)}),e.invalidateQueries({queryKey:bn.channelAdapterMessages(r)}),q.success("Test message sent")},onError:t=>{q.error(t.message||"Failed to send test message")}})}const Xw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},Nae=tt({provider:ar(["whatsapp","telegram","slack","discord"]),display_name:be().optional()}),kae=tt({retrieval_mode:ar(["webhook","polling"]),webhook_url:be().url().optional().or(nk("")),polling_interval_seconds:An.number().min(30).max(3600).optional()}),Cae=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function Eae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s}){const[i,o]=v.useState(1),l=Ze({resolver:et(Nae),defaultValues:{provider:s??"telegram",display_name:""}});v.useEffect(()=>{e&&s&&l.setValue("provider",s)},[e,s,l]);const c=Ze({resolver:et(kae),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),u=l.watch("provider"),d=c.watch("retrieval_mode"),f=async()=>{if(!(i===1&&!await l.trigger())&&!(i===2&&!await c.trigger())){if(i===4){const g=l.getValues(),p=c.getValues();r({provider:g.provider,display_name:g.display_name||null,webhook_url:d==="webhook"&&p.webhook_url?p.webhook_url:null,polling_interval_seconds:d==="polling"?p.polling_interval_seconds??60:null}),t(!1),o(1),l.reset(),c.reset();return}o(g=>g+1)}},h=()=>{i>1&&o(g=>g-1)},m=g=>{g||(o(1),l.reset(),c.reset()),t(g)};return a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add channel"}),a.jsx(Te,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:Cae.map(g=>a.jsx("div",{className:J("h-1 flex-1 rounded-full transition-colors",g.id<=i?"bg-primary":"bg-muted"),"aria-hidden":!0},g.id))}),i===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>o(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:u,onValueChange:g=>l.setValue("provider",g),children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Select provider"})}),a.jsx(it,{children:Object.keys(Xw).map(g=>a.jsx(Ne,{value:g,children:Xw[g]},g))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...l.register("display_name")})]})]}),i===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:c.handleSubmit(()=>o(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:d==="webhook",onChange:()=>c.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(FI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:d==="polling",onChange:()=>c.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(Bl,{className:"h-4 w-4"}),"Polling"]})]})]}),d==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...c.register("webhook_url")}),c.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:c.formState.errors.webhook_url.message})]}),d==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...c.register("polling_interval_seconds")})]})]}),i===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(mN,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:u==="whatsapp"||u==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),i===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:Xw[u]}),l.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:l.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",c.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[i>1?a.jsxs(P,{type:"button",variant:"outline",onClick:h,disabled:n,children:[a.jsx(Pv,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(P,{type:"button",onClick:f,disabled:n,children:i===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(wr,{className:"ml-2 h-4 w-4"})]})})]})]})})}const Pae=tt({dm_policy:ar(["pairing","allowlist","open","disabled"]),group_policy:ar(["mention","open","disabled"]),mention_gating:Gr()}),tO={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},rO={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function Oae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=Ze({resolver:et(Pae),defaultValues:l}),g=d("mention_gating");v.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},x=b=>{b||f(l),t(b)};return a.jsx(Re,{open:e,onOpenChange:x,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Channel policy"}),a.jsx(Te,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"DM policy"}),a.jsxs(ot,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.dm_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select DM policy"})}),a.jsx(it,{children:Object.keys(tO).map(b=>a.jsx(Ne,{value:b,children:tO[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Group policy"}),a.jsxs(ot,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:J(h.group_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select group policy"})}),a.jsx(it,{children:Object.keys(rO).map(b=>a.jsx(Ne,{value:b,children:rO[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Rt,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(P,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function Aae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(eo,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Te,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Ka(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}function Tae({open:e,onOpenChange:t,channelName:r,onConfirm:n,isDeleting:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"delete-channel-description",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(to,{className:"h-5 w-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx(Ae,{children:"Remove channel"}),a.jsx(Te,{id:"delete-channel-description",children:"This will remove the channel integration and its configuration. Delivery logs and identity mappings for this channel will also be removed. This action cannot be undone."})]})]})}),r&&a.jsxs("p",{className:"rounded-lg border border-border bg-card/50 px-4 py-3 text-sm text-muted-foreground",children:["Channel: ",a.jsx("span",{className:"font-medium text-foreground",children:r})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"button",variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove channel"})]})]})})}const gg={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},Rae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"},Mae=["whatsapp","telegram","slack","discord"];function $ae(){const[e,t]=v.useState(!1),[r,n]=v.useState(),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(""),[g,p]=v.useState(null),[x,b]=v.useState(!1),{data:y=[],isLoading:w}=vae(),{data:_}=yae(s),{data:j}=wae(s),{data:S=[]}=_ae(s,{limit:50}),N=xae(),k=bae(),C=jae(),O=Sae(),D=T=>{n(T),t(!0)},E=async T=>{const $=await N.mutateAsync({provider:T.provider,display_name:T.display_name,status:"provisioning"});await C.mutateAsync({channel_id:$.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:T.webhook_url??null,polling_interval_seconds:T.polling_interval_seconds??null}),i($.id),t(!1),n(void 0)},L=T=>{s&&C.mutate({channel_id:s,dm_policy:T.dm_policy,group_policy:T.group_policy,mention_gating:T.mention_gating})},M=T=>{u(T),f(!0)},K=T=>{p(T),b(!0)},A=()=>{g&&(k.mutate(g.id),s===g.id&&i(null),p(null))},V=()=>{!s||!h.trim()||O.mutate({channelId:s,content:h.trim()},{onSuccess:()=>m("")})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Channels & Adapters"}),a.jsxs("nav",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/chat",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Chat"}),a.jsx(ue,{to:"/logs",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Logs"}),a.jsx(ue,{to:"/settings",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Settings"})]})]}),a.jsxs(P,{onClick:()=>D(),className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_280px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Supported platforms"}),a.jsx(he,{children:"Connect chat surfaces. Select a provider to start the authorization flow."})]}),a.jsx(Z,{children:a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:Mae.map(T=>{const $=y.some(I=>I.provider===T);return a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-[10px] border p-4 transition-all duration-200","border-[rgb(var(--border))] bg-card hover:bg-card/80",s&&(_==null?void 0:_.provider)===T&&"ring-2 ring-primary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Bl,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium",children:gg[T]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$?"Connected":"Not connected"})]})]}),a.jsxs(P,{variant:$?"outline":"default",size:"sm",onClick:()=>{var I;return $?i(((I=y.find(ee=>ee.provider===T))==null?void 0:I.id)??null):D(T)},className:"shrink-0",children:[$?"Open":"Connect",a.jsx(wr,{className:"ml-1 h-4 w-4"})]})]},T)})})})]}),a.jsxs(ci,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3 rounded-lg p-1 bg-secondary/50",children:[a.jsx(St,{value:"channels",children:"Channels"}),a.jsx(St,{value:"logs",children:"Delivery logs"}),a.jsx(St,{value:"test",children:"Test console"})]}),a.jsx(Nt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Channels list"}),a.jsx(he,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(T=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},T))}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Bl,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Connect above or Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>D(),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:y.map(T=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors duration-200",s===T.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(T.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Bl,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:T.display_name||gg[T.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[gg[T.provider],T.last_event_at&&`  Last event ${kr(new Date(T.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(We,{variant:Rae[T.status],className:"shrink-0",children:T.status}),a.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:[T.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0","aria-label":"Actions",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(T.id),l(!0)},children:[a.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>K(T),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},T.id))})})})]}),a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Channel config"}),a.jsx(he,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Z,{children:s?a.jsx("div",{className:"space-y-4",children:j===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:j!=null&&j.mention_gating?"On":"Off"})]})]}),a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.01] active:scale-[0.99]",onClick:()=>l(!0),children:[a.jsx(Mn,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Nt,{value:"logs",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Delivery logs"}),a.jsxs(he,{children:["Recent inbound/outbound events",s&&" for selected channel"]})]}),a.jsx(Z,{children:s?S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ka,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."}),a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Send a test message to see an entry."})]}):a.jsx(ht,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:S.map(T=>a.jsx("div",{className:J("flex items-center justify-between rounded-lg border p-3 text-sm",T.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[T.success?a.jsx(ka,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(Nx,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:T.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:kr(new Date(T.created_at),{addSuffix:!0})})]}),!T.success&&T.error_details&&a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>M(T),className:"shrink-0",children:[a.jsx(Ai,{className:"mr-1 h-4 w-4"}),"Details"]})]})},T.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Bl,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Nt,{value:"test",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Test console"}),a.jsx(he,{children:"Send test messages through the selected channel. Events appear in Delivery logs."})]}),a.jsx(Z,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:h,onChange:T=>m(T.target.value),className:"min-h-[80px] rounded-lg border-border focus-visible:ring-2 focus-visible:ring-primary",disabled:O.isPending})]}),a.jsxs(P,{disabled:!h.trim()||O.isPending,onClick:V,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(fd,{className:"mr-2 h-4 w-4"}),O.isPending?"Sending":"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are logged to delivery logs. Roundtrip and errors appear there."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(fd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]})]}),a.jsx("aside",{className:"space-y-4 lg:order-last",children:a.jsxs(X,{className:"shadow-card rounded-[10px] p-4",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Quick links"}),a.jsxs("nav",{className:"flex flex-col gap-2","aria-label":"Channels quick links",children:[a.jsxs(ue,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(cd,{className:"h-4 w-4 shrink-0"}),"Documentation"]}),a.jsxs(ue,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(rf,{className:"h-4 w-4 shrink-0"}),"Support"]}),a.jsxs(ue,{to:"/logs",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(op,{className:"h-4 w-4 shrink-0"}),"Diagnostic tools"]})]})]})})]}),a.jsx(Eae,{open:e,onOpenChange:t,onSubmit:E,isSubmitting:N.isPending||C.isPending,initialProvider:r}),a.jsx(Oae,{open:o,onOpenChange:l,channelId:s??"",channelName:(_==null?void 0:_.display_name)??(_==null?void 0:_.provider),config:j??null,onSubmit:L,isSubmitting:C.isPending}),a.jsx(Tae,{open:x,onOpenChange:b,channelName:g?g.display_name||gg[g.provider]:"",onConfirm:A,isDeleting:k.isPending}),a.jsx(Aae,{open:d,onOpenChange:f,log:c})]})}const ts="/skills",vo="/library-skills",no={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return je.get(`${ts}${t?`?${t}`:""}`)},get:e=>je.get(`${ts}/${e}`),create:e=>je.post(ts,e),update:(e,t)=>je.patch(`${ts}/${e}`,t),delete:e=>je.delete(`${ts}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return je.get(`${ts}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>je.get(`${ts}/${e}/test-runs/${t}`),runTest:(e,t)=>je.post(`${ts}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>je.post(`${ts}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>je.get(`${ts}/${e}/check-requirements`),getVersions:e=>je.get(`${ts}/${e}/versions`),createVersion:(e,t)=>je.post(`${ts}/${e}/versions`,t),commit:(e,t)=>je.post(`${ts}/${e}/commit`,t)},wp={list:()=>je.get(vo),get:e=>je.get(`${vo}/${e}`),install:e=>je.post(vo,e),update:(e,t)=>je.patch(`${vo}/${e}`,t),delete:e=>je.delete(`${vo}/${e}`),setEnabled:(e,t)=>je.patch(`${vo}/${e}`,{enabled:t}),registry:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([r,n])=>n!=null)).toString():"";return je.get(`${vo}/registry${t?`?${t}`:""}`)},checkProvenance:(e,t)=>je.get(`${vo}/registry/provenance?slug=${encodeURIComponent(e)}&version=${encodeURIComponent(t)}`)};function jp(e,t){return e().catch(()=>t)}const ln={all:["skills"],list:e=>[...ln.all,"list",e],detail:e=>[...ln.all,"detail",e],testRuns:(e,t)=>[...ln.all,"test-runs",e,t],testRun:(e,t)=>[...ln.all,"test-run",e,t],versions:e=>[...ln.all,"versions",e],gating:e=>[...ln.all,"gating",e]};function Iae(e){return Ce({queryKey:ln.list(e),queryFn:()=>jp(()=>no.list(e),[])})}function Dae(e){return Ce({queryKey:ln.detail(e??""),queryFn:()=>e?jp(()=>no.get(e),null):Promise.resolve(null),enabled:!!e})}function Lae(){const e=de();return ce({mutationFn:t=>no.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:ln.list()}),q.success("Skill created")},onError:t=>{q.error(t.message||"Failed to create skill")}})}function Fae(){const e=de();return ce({mutationFn:({id:t,data:r})=>no.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:ln.list()}),e.invalidateQueries({queryKey:ln.detail(r)}),q.success("Skill saved")},onError:t=>{q.error(t.message||"Failed to save skill")}})}function Uae(e,t){return Ce({queryKey:ln.testRuns(e??"",t),queryFn:()=>e?jp(()=>no.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function qae(){const e=de();return ce({mutationFn:({skillId:t,payload:r})=>no.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ln.testRuns(r)}),q.success("Test run started")},onError:t=>{q.error(t.message||"Failed to run skill test")}})}function Bae(e){return Ce({queryKey:ln.versions(e??""),queryFn:()=>e?jp(()=>no.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function zae(e){return Ce({queryKey:ln.gating(e??""),queryFn:()=>e?no.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function Wae(){const e=de();return ce({mutationFn:({skillId:t,message:r,sign:n})=>no.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ln.detail(r)}),e.invalidateQueries({queryKey:ln.versions(r)}),q.success("Changes committed")},onError:t=>{q.error(t.message||"Failed to commit")}})}const Ri={all:["library-skills"],list:()=>[...Ri.all,"list"],detail:e=>[...Ri.all,"detail",e],registry:e=>[...Ri.all,"registry",e]};function Vae(){return Ce({queryKey:Ri.list(),queryFn:()=>jp(()=>wp.list(),[])})}function Kae(){const e=de();return ce({mutationFn:t=>wp.install(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ri.list()}),q.success("Skill installed")},onError:t=>{q.error(t.message||"Failed to install skill")}})}function Hae(){const e=de();return ce({mutationFn:({id:t,enabled:r})=>wp.setEnabled(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ri.list()}),e.invalidateQueries({queryKey:Ri.detail(r)}),q.success("Skill status updated")},onError:t=>{q.error(t.message||"Failed to update skill status")}})}function Gae(){const e=de();return ce({mutationFn:t=>wp.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ri.list()}),q.success("Skill uninstalled")},onError:t=>{q.error(t.message||"Failed to uninstall skill")}})}const Yae=[{id:"gmail-watcher",name:"Gmail Watcher",version:"1.0.0",registry_slug:"gmail-watcher",description:"Watch Gmail via Pub/Sub and deliver events to chat.",readme_content:"# Gmail Watcher\n\nUses Gmail Pub/Sub. Requires env: `GMAIL_CREDENTIALS`, `GMAIL_TOPIC`.\n",frontmatter:{permissions:["network"],env:["GMAIL_CREDENTIALS","GMAIL_TOPIC"]},permissions:["network"],binary_requirements:[],environment_requirements:["GMAIL_CREDENTIALS","GMAIL_TOPIC"],popularity:95,updated_at:new Date().toISOString()},{id:"url-summarizer",name:"URL Summarizer",version:"1.0.0",registry_slug:"url-summarizer",description:"Fetch a URL and summarize content via browser tool.",readme_content:`# URL Summarizer

Uses browser automation. No extra env required.
`,frontmatter:{permissions:["browser"]},permissions:["browser"],binary_requirements:[],environment_requirements:[],popularity:88,updated_at:new Date().toISOString()},{id:"cron-reminder",name:"Cron Reminder",version:"1.0.0",registry_slug:"cron-reminder",description:"Schedule reminders and deliver to chat.",readme_content:`# Cron Reminder

Schedule cron jobs. No extra env.
`,frontmatter:{permissions:[]},permissions:[],binary_requirements:[],environment_requirements:[],popularity:72,updated_at:new Date().toISOString()}];function Qae(e){return Ce({queryKey:Ri.registry(e),queryFn:async()=>{var t;try{return await wp.registry(e)}catch{let r=[...Yae];const n=(t=e==null?void 0:e.search)==null?void 0:t.toLowerCase();n&&(r=r.filter(i=>i.name.toLowerCase().includes(n)||i.registry_slug.toLowerCase().includes(n)));const s=(e==null?void 0:e.sort)??"popularity";return s==="name"?r.sort((i,o)=>i.name.localeCompare(o.name)):s==="recent"?r.sort((i,o)=>o.updated_at>i.updated_at?1:-1):r.sort((i,o)=>(o.popularity??0)-(i.popularity??0)),r}}})}function Xae({source:e,onInstall:t,onUninstall:r,onToggleEnabled:n,isInstalling:s=!1,isUninstalling:i=!1,isUpdating:o=!1}){if(!e)return a.jsxs(X,{className:"animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(cd,{className:"h-5 w-5 text-muted-foreground"}),"Skill detail"]}),a.jsx(he,{children:"SKILL.md, frontmatter, permissions, provenance. Select a skill from the grid or registry to view details."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]});const l=e.type==="installed",c=e.type==="installed"?e.skill:null,u=e.type==="registry"?e.item:null,d=(c==null?void 0:c.name)??(u==null?void 0:u.name)??"",f=(c==null?void 0:c.version)??(u==null?void 0:u.version)??"",h=(c==null?void 0:c.readme_content)??(u==null?void 0:u.readme_content)??"",m=(c==null?void 0:c.frontmatter)??(u==null?void 0:u.frontmatter)??{},g=(c==null?void 0:c.permissions)??(u==null?void 0:u.permissions)??[],p=(c==null?void 0:c.environment_requirements)??(u==null?void 0:u.environment_requirements)??[],x=(c==null?void 0:c.signature_status)??null;return a.jsxs(X,{className:"animate-fade-in-up overflow-hidden",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(cd,{className:"h-5 w-5 text-muted-foreground"}),d]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(We,{variant:"secondary",className:"font-mono text-xs",children:["v",f]}),x&&a.jsxs(We,{variant:x==="verified"?"default":"secondary",className:J(x==="verified"&&"bg-success/20 text-success border-success/30"),children:[a.jsx(up,{className:"mr-1 h-3 w-3"}),x]})]})]}),a.jsx(he,{children:"SKILL.md content, frontmatter, permissions, and provenance."})]}),a.jsxs(Z,{className:"space-y-4",children:[l&&c&&n&&a.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-muted/30 px-3 py-2",children:[c.enabled?a.jsx(bN,{className:"h-5 w-5 text-primary","aria-hidden":!0}):a.jsx(xN,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium",children:c.enabled?"Enabled":"Disabled"}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-auto",disabled:o,onClick:()=>n(c,!c.enabled),children:o?a.jsx(jr,{className:"h-4 w-4 animate-spin"}):"Toggle"})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Permissions"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(b=>a.jsx(We,{variant:"outline",className:"text-xs",children:b},b))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Environment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.join(", ")})]}),Object.keys(m).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Frontmatter"}),a.jsx("pre",{className:"rounded-md border border-border bg-muted/30 p-3 text-xs overflow-x-auto",children:JSON.stringify(m,null,2)})]}),h&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"SKILL.md"}),a.jsx(ht,{className:"h-[240px] w-full rounded-md border border-border bg-muted/20 p-3",children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-muted-foreground",children:h})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-border",children:[!l&&u&&t&&a.jsx(P,{size:"sm",onClick:()=>t(u),disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Install"]})}),l&&c&&r&&a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>r(c),disabled:i,children:[i?a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Uninstall"]})]})]})]})}function Jae({open:e,onOpenChange:t,item:r,gatingChecks:n=[],onInstall:s,isInstalling:i=!1}){var S,N,k,C,O,D;const[o,l]=v.useState(0),[c,u]=v.useState({}),[d,f]=v.useState(!1),h=n.length===0||n.every(E=>E.met),m=r!=null&&r.environment_requirements&&Array.isArray(r.environment_requirements)?r.environment_requirements:[],g=m.length>0,p=[{id:"gating",label:"Gating checks"},...g?[{id:"env",label:"Environment"}]:[],{id:"provenance",label:"Provenance"}],x=o,b=h,y=!g||m.every(E=>(c[E]??"").trim().length>0),w=((S=p[p.length-1])==null?void 0:S.id)==="provenance"?d:b&&y,_=()=>{o<p.length-1?l(o+1):w&&s(c)},j=E=>{E||(l(0),u({}),f(!1)),t(E)};return r?a.jsx(Re,{open:e,onOpenChange:j,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"install-skill-description",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{children:["Install ",r.name]}),a.jsx(Te,{id:"install-skill-description",children:"Review gating checks, provide required env (if any), and confirm provenance before installing."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:p.map((E,L)=>a.jsxs("div",{className:J("flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium",L===x?"bg-primary/20 text-primary":L<x?"bg-muted text-muted-foreground":"text-muted-foreground"),children:[L<x?a.jsx(ka,{className:"h-3.5 w-3.5"}):a.jsx(c_,{className:"h-3.5 w-3.5"}),E.label]},E.id))}),((N=p[x])==null?void 0:N.id)==="gating"&&a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No gating checks required for this skill."}):n.map(E=>a.jsxs("div",{className:J("flex items-center gap-2 rounded-md border border-border px-3 py-2 text-sm",E.met?"bg-success/10 border-success/30":"bg-warning/10 border-warning/30"),children:[E.met?a.jsx(ka,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(c_,{className:"h-4 w-4 shrink-0 text-warning"}),a.jsx("span",{children:E.label}),E.message&&a.jsxs("span",{className:"text-muted-foreground",children:[" ",E.message]})]},E.id))}),((k=p[x])==null?void 0:k.id)==="env"&&g&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide values for required environment variables (stored securely)."}),m.map(E=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(H,{htmlFor:`env-${E}`,className:"text-sm",children:E}),a.jsx("input",{id:`env-${E}`,type:"password",placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:c[E]??"",onChange:L=>u(M=>({...M,[E]:L.target.value}))})]},E))]}),((C=p[x])==null?void 0:C.id)==="provenance"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-border bg-card p-3",children:[a.jsx(up,{className:"h-5 w-5 shrink-0 text-accent"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:"Provenance & signature"}),a.jsxs("p",{className:"text-muted-foreground",children:["This skill is from the registry (",r.registry_slug,"). By installing, you confirm that you have reviewed the permissions and accept the source."]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Rt,{id:"provenance-accept",checked:d,onCheckedChange:E=>f(E===!0)}),a.jsx(H,{htmlFor:"provenance-accept",className:"text-sm font-normal cursor-pointer",children:"I have reviewed the skill and accept the provenance."})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>j(!1),disabled:i,children:"Cancel"}),x<p.length-1?a.jsx(P,{onClick:()=>l(x+1),disabled:((O=p[x])==null?void 0:O.id)==="gating"&&!b||((D=p[x])==null?void 0:D.id)==="env"&&!y,children:"Next"}):a.jsx(P,{onClick:_,disabled:!w||i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):"Install"})]})]})}):null}function Zae({open:e,onOpenChange:t,skill:r,onConfirm:n,isUninstalling:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"uninstall-skill-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Uninstall skill"}),a.jsx(Te,{id:"uninstall-skill-description",children:"Uninstalling will remove this skill from your library. Any cron jobs or workflows that use it may stop working. You can reinstall from the registry later."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Skill: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name}),r.registry_slug&&a.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.registry_slug,")"]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Uninstalling":"Uninstall"})]})]})})}const eie={eligible:"success",ineligible:"warning",unknown:"secondary"};function tie(){const[e,t]=v.useState(""),[r,n]=v.useState("popularity"),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),{data:g=[],isLoading:p}=Vae(),{data:x=[],isLoading:b}=Qae({search:e||void 0,sort:r}),y=Kae(),w=Hae(),_=Gae(),j=O=>{u(O),l(!0)},S=O=>{c&&y.mutate({name:c.name,version:c.version,registry_slug:c.registry_slug,readme_content:c.readme_content,frontmatter:c.frontmatter??{},permissions:c.permissions??[],binary_requirements:c.binary_requirements??[],environment_requirements:c.environment_requirements??[],signature_status:"verified",enabled:!0,eligibility_status:"eligible"},{onSuccess:()=>{l(!1),u(null),i(null)}})},N=O=>{m(O),f(!0)},k=()=>{h&&_.mutate(h.id,{onSuccess:()=>{f(!1),m(null),(s==null?void 0:s.type)==="installed"&&s.skill.id===h.id&&i(null)}})},C=v.useMemo(()=>{if(!c)return[];const O=c.environment_requirements??[];return[{id:"permissions",label:"Permissions reviewed",met:!0},...O.map(D=>({id:`env-${D}`,label:`Environment: ${D}`,met:!0}))]},[c]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(Ex,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/skill-editor",children:[a.jsx(cd,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(vc,{className:"h-5 w-5 text-muted-foreground"}),"Installed skills"]}),a.jsx(he,{children:"Enable/disable and manage installed skills. Last run and eligibility status shown."})]}),a.jsx(Z,{children:p?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(O=>a.jsx(oe,{className:"h-28 rounded-lg"},O))}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-12 text-center",children:[a.jsx(vc,{className:"h-12 w-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No skills installed"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse the registry below and install skills to get started."})]}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(O=>a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="installed"&&s.skill.id===O.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"installed",skill:O}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(se,{className:"text-base font-medium truncate",children:O.name}),a.jsx("button",{type:"button",className:"shrink-0 rounded p-1 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring",onClick:D=>{D.stopPropagation(),w.mutate({id:O.id,enabled:!O.enabled})},disabled:w.isPending,"aria-label":O.enabled?"Disable skill":"Enable skill",children:w.isPending?a.jsx(jr,{className:"h-4 w-4 animate-spin text-muted-foreground"}):O.enabled?a.jsx(bN,{className:"h-5 w-5 text-primary"}):a.jsx(xN,{className:"h-5 w-5 text-muted-foreground"})})]}),a.jsxs(he,{className:"text-xs font-mono",children:["v",O.version,O.registry_slug&&`  ${O.registry_slug}`]})]}),a.jsx(Z,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[O.last_run_at&&a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(ml,{className:"h-3.5 w-3.5"}),kr(new Date(O.last_run_at),{addSuffix:!0})]}),a.jsx(We,{variant:eie[O.eligibility_status],className:"text-xs",children:O.eligibility_status}),O.signature_status==="verified"&&a.jsx(up,{className:"h-3.5 w-3.5 text-success"})]})})]},O.id))})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsx(se,{className:"flex items-center gap-2",children:"Registry browser"}),a.jsx(he,{children:"Search, filter, and install skills from the registry."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9",value:e,onChange:O=>t(O.target.value)})]}),a.jsxs(ot,{value:r??"popularity",onValueChange:O=>n(O),children:[a.jsx(at,{className:"w-full sm:w-[180px]",children:a.jsx(lt,{placeholder:"Sort by"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"popularity",children:"Popularity"}),a.jsx(Ne,{value:"recent",children:"Recent"}),a.jsx(Ne,{value:"name",children:"Name"})]})]})]}),b?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(O=>a.jsx(oe,{className:"h-32 rounded-lg"},O))}):x.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-6 text-center",children:"No registry skills found. Try a different search or sort."}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map(O=>{const D=g.some(E=>E.registry_slug===O.registry_slug);return a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="registry"&&s.item.registry_slug===O.registry_slug&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"registry",item:O}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-base font-medium truncate",children:O.name}),a.jsxs(he,{className:"text-xs font-mono",children:["v",O.version,"  ",O.registry_slug]})]}),a.jsxs(Z,{className:"pt-0",children:[O.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:O.description}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[O.popularity!=null&&a.jsxs(We,{variant:"secondary",className:"text-xs",children:[O.popularity,"% popular"]}),a.jsx(P,{size:"sm",variant:D?"secondary":"default",disabled:D,onClick:E=>{E.stopPropagation(),D||j(O)},children:D?"Installed":a.jsxs(a.Fragment,{children:[a.jsx(Sr,{className:"mr-1.5 h-3.5 w-3.5"}),"Install"]})})]})]})]},O.id)})})]})]}),a.jsx(Xae,{source:s,onInstall:j,onUninstall:N,onToggleEnabled:(O,D)=>w.mutate({id:O.id,enabled:D}),isInstalling:y.isPending,isUninstalling:_.isPending,isUpdating:w.isPending}),a.jsx(Jae,{open:o,onOpenChange:l,item:c,gatingChecks:C,onInstall:S,isInstalling:y.isPending}),a.jsx(Zae,{open:d,onOpenChange:f,skill:h,onConfirm:k,isUninstalling:_.isPending})]})}const rie=tt({name:be().min(1,"Name is required"),version:be().min(1,"Version is required"),description:be().optional(),permissions:be().optional(),env_keys:be().optional()}),Jw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function nie({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...Jw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=Ze({resolver:et(rie),defaultValues:i()});v.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(Jw),t(!1)},f=h=>{h||c(Jw),t(h)};return a.jsx(Re,{open:e,onOpenChange:f,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Edit frontmatter"}),a.jsx(Te,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:J(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:J(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const sie=tt({message:be().optional(),sign:Gr().optional()}),Zw={message:"",sign:!1};function aie({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=Ze({resolver:et(sie),defaultValues:Zw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(Zw),t(!1)},m=g=>{g||u(Zw),t(g)};return a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Commit changes"}),a.jsx(Te,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:J(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Rt,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function iie({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(P,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:J("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(TI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(eo,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(P,{onClick:t,children:"Close"})})]})}):null}const nu=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function oie(){const{skillId:e}=RW(),t=Ji(),[r,n]=v.useState("editor"),[s,i]=v.useState(""),[o,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(!1),[h,m]=v.useState(!1),{data:g=[],isLoading:p}=Iae(),{data:x,isLoading:b}=Dae(e??null),{data:y=[]}=Uae(e??null,{limit:5}),{data:w=[]}=Bae(e??null),{data:_}=zae(e??null),j=Fae(),S=qae(),N=Wae(),k=Lae(),C=x??null,O=C&&(s!==C.content||o!==C.name),D=v.useCallback(()=>{C?(i(C.content||nu),l(C.name||"")):(i(nu),l(""))},[C]);v.useEffect(()=>{C?(i(C.content||nu),l(C.name||"")):e||(i(nu),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const E=I=>{t(`/skill-editor/${I}`)},L=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>D()})},M=()=>{e&&S.mutate({skillId:e})},K=I=>{e&&N.mutate({skillId:e,...I},{onSuccess:()=>f(!1)})},A=I=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...I}}},{onSuccess:()=>{u(!1)}})},V=y[0],T=_&&!_.passed,$=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(b7,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(gN,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:L,disabled:!e||!O||j.isPending,children:[a.jsx(pN,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>m(!0),className:T?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(eo,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(w7,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(P,{size:"sm",onClick:M,disabled:!e||S.isPending,children:[a.jsx(Xa,{className:"mr-1 h-4 w-4"}),S.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-sm",children:"Skills"}),a.jsx(he,{children:"Select a skill to edit."})]}),a.jsxs(Z,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-9 w-full"}),a.jsx(oe,{className:"h-9 w-full"}),a.jsx(oe,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:nu},{onSuccess:I=>{t(`/skill-editor/${I.id}`)}}),disabled:k.isPending,children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(ht,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(I=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>E(I.id),className:J("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===I.id&&"bg-primary/15 text-primary"),children:[a.jsx(sr,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:I.name}),a.jsx(wr,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},I.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(ht,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(I=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:I.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:I.changes?"":""})]},I.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(Z,{className:"flex items-center justify-center py-12",children:a.jsx(oe,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(ci,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-3",children:[a.jsx(St,{value:"editor",children:"SKILL.md editor"}),a.jsx(St,{value:"preview",children:"Preview"}),a.jsx(St,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Nt,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(iie,{open:h,onClose:()=>m(!1),requirements:$.map(I=>({id:I.id,label:I.label,met:I.met,message:I.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(Z,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(H,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:I=>l(I.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:nu,value:s,onChange:I=>i(I.target.value)})]})]})}),a.jsx(Nt,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Nt,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-sm",children:"Test runner"}),a.jsx(he,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Z,{children:V?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",V.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(V.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:V.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(nie,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:A,isSubmitting:j.isPending}),a.jsx(aie,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:K,isSubmitting:N.isPending})]})}const lie=10,e0=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function nO(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Jn={getNodes:async()=>{const{data:e,error:t}=await U.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await U.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await U.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await U.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await U.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await U.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await U.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await U.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=U.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await U.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await U.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const t=cie(),r=new Date;r.setMinutes(r.getMinutes()+lie);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await U.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await U.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Jn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:e0});await U.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of e0)await Jn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:nO(o)});return i},getDefaultCapabilityKeys:()=>e0,getCapabilityDescription:nO};function cie(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function g5(e,t){return e().catch(()=>t)}const Wr={all:["nodes"],list:()=>[...Wr.all,"list"],detail:e=>[...Wr.all,"detail",e],capabilities:e=>[...Wr.all,"capabilities",e],approvals:e=>[...Wr.all,"approvals",e],pairing:()=>[...Wr.all,"pairing"]};function uie(){return Ce({queryKey:Wr.list(),queryFn:()=>g5(()=>Jn.getNodes(),[])})}function die(e){return Ce({queryKey:Wr.detail(e??""),queryFn:()=>e?Jn.getNode(e):Promise.resolve(null),enabled:!!e})}function fie(){const e=de();return ce({mutationFn:({id:t,data:r})=>Jn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.detail(r)}),q.success("Node updated")},onError:t=>{q.error(t.message||"Failed to update node")}})}function hie(){const e=de();return ce({mutationFn:t=>Jn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.approvals()}),q.success("Node removed")},onError:t=>{q.error(t.message||"Failed to remove node")}})}function mie(e){return Ce({queryKey:Wr.capabilities(e??""),queryFn:()=>e?Jn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function pie(){const e=de();return ce({mutationFn:t=>Jn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Wr.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Wr.detail(r.node_id)}),q.success("Capability updated")},onError:t=>{q.error(t.message||"Failed to update capability")}})}function gie(e){return Ce({queryKey:Wr.approvals(e),queryFn:()=>g5(()=>Jn.getNodeApprovals(e),[])})}function vie(){const e=de();return ce({mutationFn:({id:t,data:r})=>Jn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.approvals()}),q.success("Approval updated")},onError:t=>{q.error(t.message||"Failed to update approval")}})}function yie(){const e=de();return ce({mutationFn:()=>Jn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.pairing()})},onError:t=>{q.error(t.message||"Failed to start pairing")}})}function xie(){const e=de();return ce({mutationFn:({code:t,nodeName:r})=>Jn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.pairing()}),q.success("Device paired")},onError:t=>{q.error(t.message||"Failed to pair device")}})}function bie(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function wie({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(!1),h=xie();v.useEffect(()=>{if(!r||!e)return;const x=()=>l(bie(r.expires_at));x();const b=setInterval(x,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsx(Pe,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Pair device"}),a.jsx(Te,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:J("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(mN,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(zo,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(P,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(tf,{className:"h-4 w-4 text-success"}):a.jsx(RI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(H,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:x=>u(x.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(P,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(P,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(P,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const jie={pending:{label:"Pending",variant:"secondary",icon:zo},approved:{label:"Approved",variant:"success",icon:ka},denied:{label:"Denied",variant:"destructive",icon:Nx}};function _ie({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=jie[r.status],d=r.status==="pending";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Approval request"}),a.jsx(Te,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:kr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(P,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(P,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Sie=tt({status:ar(["enabled","disabled","pending_approval"]),description:be().optional()});function Nie({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=Ze({resolver:et(Sie),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Jn.getCapabilityDescription(n.capability_key):"";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Capability configuration"}),a.jsxs(Te,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-status",children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(at,{id:"cap-status",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"enabled",children:"Enabled"}),a.jsx(Ne,{value:"disabled",children:"Disabled"}),a.jsx(Ne,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:J(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}function kie({open:e,onOpenChange:t,node:r,onConfirm:n,isUnpairing:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"unpair-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Revoke / Unpair device"}),a.jsx(Te,{id:"unpair-description",children:"Unpairing will remove this device from your account. The device will need to be paired again to regain access. This cannot be undone."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Device: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name??`Node ${r.id.slice(0,8)}`})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Unpairing":"Unpair"})]})]})})}function Cie(e){const t=e.find(n=>n.capability_key==="remote_exec");if(!(t!=null&&t.configurations)||typeof t.configurations!="object")return[];const r=t.configurations.allowlist;return Array.isArray(r)?r:[]}function Eie(e){const t=e.find(r=>r.capability_key==="voice_wake");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Pie(e){const t=e.find(r=>r.capability_key==="talk_mode");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Oie({node:e,capabilities:t,className:r}){if(!e)return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(he,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to view details and configuration."})]})})]});const n=Cie(t),s=Eie(t),i=Pie(t);return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(he,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(yN,{className:"h-4 w-4 text-muted-foreground"}),"Remote exec allowlist"]}),n.length>0?a.jsx(ht,{className:"h-[72px] rounded-md border border-border px-3 py-2",children:a.jsx("ul",{className:"space-y-1 text-xs font-mono text-muted-foreground",children:n.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(wr,{className:"h-3 w-3 shrink-0"}),o]},l))})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No allowlist configured. Edit remote_exec capability to set allowed commands."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(dd,{className:"h-4 w-4 text-muted-foreground"}),"Voice wake"]}),s&&Object.keys(s).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(s,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media or via capability."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(M7,{className:"h-4 w-4 text-muted-foreground"}),"TTS preferences"]}),i&&Object.keys(i).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(i,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(ud,{className:"h-4 w-4 text-muted-foreground"}),"Stored tokens"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CDP and auth tokens are stored securely. Rotate from Settings or when unpairing."})]})]})]})}const Aie={paired:"success",offline:"destructive",error:"warning"},Tie={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Rie={voice_wake:dd,talk_mode:dd,remote_exec:yN,browser_proxy:Cx,camera_capture:g7},Mie={voice_wake:"Voice",talk_mode:"Talk",remote_exec:"Exec",browser_proxy:"Browser",camera_capture:"Camera"};function $ie(){const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(!1),[h,m]=v.useState(null),[g,p]=v.useState(!1),[x,b]=v.useState(!1),[y,w]=v.useState(null),{data:_=[],isLoading:j}=uie(),{data:S}=die(s),{data:N=[]}=mie(s),{data:k=[]}=gie({limit:20}),C=yie(),O=fie(),D=hie(),E=pie(),L=vie(),M=k.find(F=>F.id===c),K=async()=>{try{const F=await C.mutateAsync();n(F)}catch{}},A=F=>{!s||!h||(E.mutate({node_id:s,capability_key:h.capability_key,status:F.status,description:F.description??null}),f(!1),m(null))},V=F=>{L.mutate({id:F,data:{status:"approved"}}),l(!1),u(null)},T=F=>{L.mutate({id:F,data:{status:"denied"}}),l(!1),u(null)},$=(F,ie)=>{O.mutate({id:F,data:{connection_health:ie}})},I=F=>{w(F),b(!0)},ee=()=>{y&&(D.mutate(y.id),s===y.id&&i(null),w(null))};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(wr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Nodes (Paired Devices)"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage paired devices, capabilities, and approval policies."})]}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Nodes list"}),a.jsx(he,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(Z,{children:j?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(F=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},F))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(wa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair New Device to add a device via QR or code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(F=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===F.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(F.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(wa,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:F.name??`Node ${F.id.slice(0,8)}`}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",F.id.slice(0,8),F.id.length>8?"":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last seen:"," ",F.last_active_at?kr(new Date(F.last_active_at),{addSuffix:!0}):"Never"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 shrink-0",children:[(F.capabilities??[]).slice(0,4).map(ie=>a.jsx(We,{variant:"secondary",className:"text-[10px] font-normal",children:Mie[ie]??ie},ie)),a.jsx(We,{variant:Aie[F.status],className:"shrink-0",children:F.status}),a.jsx(We,{variant:Tie[F.connection_health],className:"shrink-0",children:F.connection_health})]})]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(ja,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(F.id),p(!0)},children:[a.jsx(fp,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>I(F),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Revoke / Unpair"]})]})]})]},F.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Pair node"}),a.jsx(he,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(mN,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Oie,{node:S??null,capabilities:N}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Capabilities"}),a.jsx(he,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(Z,{children:s?N.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:N.map(F=>{const ie=Rie[F.capability_key]??wa;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:F.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Jn.getCapabilityDescription(F.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:F.status==="enabled"?"success":F.status==="pending_approval"?"warning":"secondary",children:F.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(F),f(!0)},"aria-label":"Edit capability",children:a.jsx(Mn,{className:"h-4 w-4"})})]})]},F.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Approval history"}),a.jsx(he,{children:"Exec approvals, denied runs, and pending capability or execution requests."})]}),a.jsx(Z,{children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(up,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvals yet."})]}):a.jsx(ht,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:k.map(F=>a.jsxs("button",{type:"button",onClick:()=>{u(F.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:F.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:kr(new Date(F.created_at),{addSuffix:!0})})]}),a.jsx(We,{variant:"secondary",children:F.status})]},F.id))})})})]})]})]}),a.jsx(wie,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:K,isStartingPairing:C.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(_ie,{open:o,onOpenChange:l,approval:M??null,node:M?_.find(F=>F.id===M.node_id)??null:null,onApprove:V,onDeny:T,isUpdating:L.isPending}),a.jsx(Nie,{open:d,onOpenChange:f,node:S??null,capability:h,onSubmit:A,isSubmitting:E.isPending}),a.jsx(c5,{node:S??null,open:g,onOpenChange:p,onUpdateHealth:$,isUpdating:O.isPending}),a.jsx(kie,{open:x,onOpenChange:b,node:y,onConfirm:ee,isUnpairing:D.isPending})]})}function Iie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Delete cron job?"}),a.jsxs(Te,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const Die={running:{label:"Running",icon:jr,variant:"secondary"},completed:{label:"Completed",icon:ka,variant:"default"},failed:{label:"Failed",icon:Nx,variant:"destructive"},aborted:{label:"Aborted",icon:h7,variant:"outline"}};function Lie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48"})]}),a.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ch,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=Die[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:kr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ch,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ch,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ch,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(he,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}const Fie=[{to:"/cron",label:"Scheduling",icon:ml},{to:"/webhooks",label:"Webhooks & Hooks",icon:Av}];function v5(){return a.jsx("nav",{className:"mb-6 flex flex-wrap gap-2 border-b border-border pb-4","aria-label":"Scheduling and Webhooks sections",children:Fie.map(({to:e,label:t,icon:r})=>a.jsxs(Z4,{to:e,end:e!=="/webhooks",className:({isActive:n})=>J("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all","hover:bg-secondary/50 hover:scale-[1.02] active:scale-[0.98]",n?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[a.jsx(r,{className:"h-4 w-4","aria-hidden":!0}),t]},e))})}function Uie(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(null),[d,f]=v.useState(null),{data:h}=Zx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=wF(),{data:x=[],isLoading:b}=Ane(c??d,{limit:20}),y=jF(),w=Pne(),_=One(),j=Tne(),S=()=>{i(null),t(!0)},N=M=>{i(M),t(!0)},k=M=>{s?w.mutate({id:s.id,data:M},{onSuccess:()=>{t(!1),i(null)}}):y.mutate(M,{onSuccess:()=>t(!1)})},C=M=>{l(M),n(!0)},O=M=>{_.mutate(M,{onSuccess:()=>{n(!1),l(null),c===M&&u(null)}})},D=M=>{f(M.id),j.mutate(M.id,{onSuccess:()=>{u(M.id),f(null)},onError:()=>f(null)})},E=M=>M.name||M.description||"Unnamed job",L=M=>M==="active"?"default":M==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsx(v5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(P,{onClick:S,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Cron list"}),a.jsx(he,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Z,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(M=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},M))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(M=>a.jsxs("tr",{className:J("border-b border-border transition-colors hover:bg-secondary/30",c===M.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(M)}),M.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(_r,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:M.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(We,{variant:L(M.status),children:M.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:M.next_run_time?kr(new Date(M.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:M.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>D(M),disabled:j.isPending&&d===M.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===M.id?a.jsx(zo,{className:"h-4 w-4 animate-spin"}):a.jsx(Xa,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===M.id?"Running":"Run now"})]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>N(M),children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>{u(M.id)},children:[a.jsx(zo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C(M),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},M.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(M=>a.jsx(X,{className:J("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===M.id&&"ring-2 ring-primary"),children:a.jsxs(Z,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:E(M)}),M.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(_r,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:M.schedule}),a.jsx(We,{variant:L(M.status),className:"mt-2",children:M.status}),M.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",kr(new Date(M.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>D(M),children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Mt,{onClick:()=>N(M),children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>u(M.id),children:[a.jsx(zo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>C(M),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>D(M),disabled:j.isPending&&d===M.id,children:[j.isPending&&d===M.id?a.jsx(zo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Xa,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>N(M),children:"Edit"})]})]})},M.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(ml,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(P,{onClick:S,className:"mt-4",children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(Lie,{jobId:c??d,runs:x,isLoading:b}),a.jsx(l5,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:y.isPending||w.isPending,userId:m,job:s}),a.jsx(Iie,{job:o,open:r,onOpenChange:n,onConfirm:O,isDeleting:_.isPending})]})}function qie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const Kr={getWebhooks:async()=>{const{data:e,error:t}=await U.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await U.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r=qie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null,rate_limit:e.rate_limit??null},{data:o,error:l}=await U.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await U.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await U.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},testWebhook:async e=>{const t=await Kr.getWebhook(e);if(!t)throw new Error("Webhook not found");try{const r=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_test:!0,timestamp:new Date().toISOString(),source:"control-ui"})});return{ok:r.ok,message:r.ok?"Test request sent":await r.text().catch(()=>r.statusText)}}catch(r){return{ok:!1,message:r instanceof Error?r.message:"Request failed"}}},getHookScripts:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)return[];let r=U.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await U.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await U.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await U.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await U.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await Kr.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await U.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await U.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await U.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getGmailPubSubSettings:async()=>{const{data:e,error:t}=await U.from("gmail_pubsub_settings").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getGmailPubSubSetting:async e=>{const{data:t,error:r}=await U.from("gmail_pubsub_settings").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createGmailPubSubSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,name:e.name??"default",configuration_details:e.configuration_details??{},is_active:e.is_active??!1,last_tested_at:e.last_tested_at??null,metadata:e.metadata??{}},{data:n,error:s}=await U.from("gmail_pubsub_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateGmailPubSubSetting:async(e,t)=>{const{data:r,error:n}=await U.from("gmail_pubsub_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteGmailPubSubSetting:async e=>{const{error:t}=await U.from("gmail_pubsub_settings").delete().eq("id",e);if(t)throw new Error(t.message)},testGmailPubSubSetting:async e=>{const t=await Kr.getGmailPubSubSetting(e);if(!t)throw new Error("Gmail Pub/Sub setting not found");const r=t.configuration_details,n=r==null?void 0:r.push_endpoint;if(!n)return{ok:!1,message:"Push endpoint not configured"};try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:{data:btoa(unescape(encodeURIComponent(JSON.stringify({test:!0}))))}})}),i=s.ok||s.status===200;return await Kr.updateGmailPubSubSetting(e,{last_tested_at:new Date().toISOString()}),{ok:i,message:i?"Test sent":await s.text().catch(()=>s.statusText)}}catch(s){return{ok:!1,message:s instanceof Error?s.message:"Request failed"}}}};function y5(e,t){return e().catch(()=>t)}const dr={all:["webhooks"],list:()=>[...dr.all,"list"],detail:e=>[...dr.all,"detail",e],hookScripts:e=>[...dr.all,"hookScripts",e],payloadTemplate:e=>[...dr.all,"payloadTemplate",e],gmailPubSubSettings:()=>[...dr.all,"gmailPubSubSettings"],gmailPubSubSetting:e=>[...dr.all,"gmailPubSubSetting",e]};function Bie(){return Ce({queryKey:dr.list(),queryFn:()=>y5(()=>Kr.getWebhooks(),[])})}function zie(){const e=de();return ce({mutationFn:t=>Kr.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.list()}),q.success("Webhook created")},onError:t=>{q.error(t.message||"Failed to create webhook")}})}function Wie(){const e=de();return ce({mutationFn:t=>Kr.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.list()}),q.success("Webhook removed")},onError:t=>{q.error(t.message||"Failed to remove webhook")}})}function Vie(){const e=de();return ce({mutationFn:t=>Kr.testWebhook(t),onSuccess:t=>{e.invalidateQueries({queryKey:dr.list()}),t.ok?q.success(t.message??"Test request sent"):q.error(t.message??"Test failed")},onError:t=>{q.error(t.message||"Test failed")}})}function Kie(e){return Ce({queryKey:dr.hookScripts(e),queryFn:()=>Kr.getHookScripts(e)})}function Hie(){const e=de();return ce({mutationFn:t=>Kr.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:dr.hookScripts(r.webhook_id??null)}),q.success("Hook script added")},onError:t=>{q.error(t.message||"Failed to add hook script")}})}function Gie(){const e=de();return ce({mutationFn:({id:t,data:r})=>Kr.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:dr.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:dr.hookScripts(null)}),q.success("Hook script updated")},onError:t=>{q.error(t.message||"Failed to update hook script")}})}function Yie(){const e=de();return ce({mutationFn:t=>Kr.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.all}),q.success("Hook script removed")},onError:t=>{q.error(t.message||"Failed to remove hook script")}})}function Qie(e){return Ce({queryKey:dr.payloadTemplate(e??""),queryFn:()=>e?Kr.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function Xie(){const e=de();return ce({mutationFn:t=>Kr.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:dr.payloadTemplate(r.webhook_id)}),q.success("Payload template saved")},onError:t=>{q.error(t.message||"Failed to save payload template")}})}function Jie(){return Ce({queryKey:dr.gmailPubSubSettings(),queryFn:()=>y5(()=>Kr.getGmailPubSubSettings(),[])})}function Zie(){const e=de();return ce({mutationFn:t=>Kr.createGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),q.success("Gmail Pub/Sub setting created")},onError:t=>{q.error(t.message||"Failed to create Gmail Pub/Sub setting")}})}function eoe(){const e=de();return ce({mutationFn:({id:t,data:r})=>Kr.updateGmailPubSubSetting(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),e.invalidateQueries({queryKey:dr.gmailPubSubSetting(r)}),q.success("Gmail Pub/Sub setting updated")},onError:t=>{q.error(t.message||"Failed to update Gmail Pub/Sub setting")}})}function toe(){const e=de();return ce({mutationFn:t=>Kr.deleteGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),q.success("Gmail Pub/Sub setting removed")},onError:t=>{q.error(t.message||"Failed to remove Gmail Pub/Sub setting")}})}function roe(){const e=de();return ce({mutationFn:t=>Kr.testGmailPubSubSetting(t),onSuccess:t=>{e.invalidateQueries({queryKey:dr.gmailPubSubSettings()}),t.ok?q.success(t.message??"Test sent"):q.error(t.message??"Test failed")},onError:t=>{q.error(t.message||"Test failed")}})}const noe=tt({route_name:be().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:be().optional(),delivery_route:be().optional(),rate_limit:ite([be().transform(e=>e===""?null:Number(e)),ate().int().positive().nullable()]).optional().nullable().refine(e=>e==null||typeof e=="number"&&Number.isInteger(e)&&e>0,"Rate limit must be a positive integer")}),t0={route_name:"",mapping_template:"",delivery_route:"",rate_limit:null};function soe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(noe),defaultValues:t0}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null,rate_limit:d.rate_limit??null}),o(t0)},u=d=>{d||o(t0),t(d)};return a.jsx(Re,{open:e,onOpenChange:u,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Create webhook"}),a.jsx(Te,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"rate_limit",children:"Rate limit (optional, requests/min)"}),a.jsx(ge,{id:"rate_limit",type:"number",min:1,placeholder:"e.g. 60",...s("rate_limit")}),l.rate_limit&&a.jsx("p",{className:"text-xs text-destructive",children:l.rate_limit.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const aoe=tt({event_trigger:be().min(1,"Event trigger is required"),language:ar(["javascript","python"]),script_content:be(),webhook_id:be().nullable()}),ioe=["/new","/reset","start","end","before_run","after_run"],vg={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function ooe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(aoe),defaultValues:vg}),h=u("language"),m=u("webhook_id");v.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:vg)},[s,e,d]);const g=x=>{r(x),s||d(vg),t(!1)},p=x=>{x||d(vg),t(x)};return a.jsx(Re,{open:e,onOpenChange:p,children:a.jsxs(Pe,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Te,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(ot,{value:u("event_trigger"),onValueChange:x=>c("event_trigger",x),children:[a.jsx(at,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select trigger"})}),a.jsx(it,{children:ioe.map(x=>a.jsx(Ne,{value:x,children:x},x))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"language",children:"Language"}),a.jsxs(ot,{value:h,onValueChange:x=>c("language",x),children:[a.jsx(at,{id:"language",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"javascript",children:"JavaScript"}),a.jsx(Ne,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(ot,{value:m??"none",onValueChange:x=>c("webhook_id",x==="none"?null:x),children:[a.jsx(at,{id:"webhook_id",children:a.jsx(lt,{placeholder:"Global (all webhooks)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"none",children:"Global (all webhooks)"}),i.map(x=>a.jsx(Ne,{value:x.id,children:x.route_name},x.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(H,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function loe({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=v.useState(null),[s,i]=v.useState(null),{data:o,isLoading:l}=Qie(r),c=Xie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(y7,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(he,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(oe,{className:"h-10 w-full rounded-md"}):a.jsxs(ot,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(at,{id:"payload-webhook",children:a.jsx(lt,{placeholder:"Select a webhook"})}),a.jsx(it,{children:e.length===0?a.jsx(Ne,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ne,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(oe,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:J("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(pN,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function coe({webhook:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"webhook-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Remove webhook?"}),a.jsxs(Te,{id:"webhook-delete-description",children:['This will permanently remove the endpoint "',e.route_name,'". Inbound requests to this URL will no longer be accepted. This action cannot be undone.']})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove webhook"})]})]})})}function uoe({script:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"hook-script-delete-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Remove hook script?"}),a.jsxs(Te,{id:"hook-script-delete-description",children:['This will permanently remove the lifecycle hook for "',e.event_trigger,'". This action cannot be undone.']})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove script"})]})]})})}const doe=tt({name:be().min(1,"Name is required").max(64),push_endpoint:be().url("Enter a valid push endpoint URL")}),sO=[{id:"connect",title:"Connect",description:"Push endpoint URL"},{id:"configure",title:"Configure",description:"Optional topic and subscription"},{id:"test",title:"Test",description:"Verify delivery"}];function foe({onComplete:e}){const[t,r]=v.useState(0),[n,s]=v.useState(null),[i,o]=v.useState(null),{data:l=[],isLoading:c}=Jie(),u=Zie(),d=eoe(),f=toe(),h=roe(),{register:m,handleSubmit:g,formState:{errors:p},setValue:x,reset:b}=Ze({resolver:et(doe),defaultValues:{name:"default",push_endpoint:""}}),y=N=>{const k={push_endpoint:N.push_endpoint};n?d.mutate({id:n,data:{name:N.name,configuration_details:k,is_active:!0}},{onSuccess:()=>{r(2),s(null),b({name:"default",push_endpoint:""})}}):u.mutate({name:N.name,configuration_details:k,is_active:!0},{onSuccess:()=>{r(2),b({name:"default",push_endpoint:""}),e==null||e()}})},w=N=>{o(N.id),h.mutate(N.id,{onSettled:()=>o(null)})},_=N=>{s(N.id);const k=N.configuration_details;x("name",N.name),x("push_endpoint",(k==null?void 0:k.push_endpoint)??""),r(0)},j=N=>{f.mutate(N)},S=()=>{r(0),s(null),b({name:"default",push_endpoint:""})};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-full rounded-lg"}),a.jsx(oe,{className:"h-24 w-full rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:sO.map((N,k)=>a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>r(k),className:J("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t===k?"bg-primary text-primary-foreground":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs",children:k+1}),N.title]}),k<sO.length-1&&a.jsx(wr,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},N.id))}),t===0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Step 1: Push endpoint"}),a.jsx(he,{children:"Enter the URL where Gmail Pub/Sub will send push notifications. Create a webhook first and use its URL, or your own HTTPS endpoint."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:g(y),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"gmail-name",children:"Configuration name"}),a.jsx(ge,{id:"gmail-name",placeholder:"e.g. default",...m("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"push_endpoint",children:"Push endpoint URL"}),a.jsx(ge,{id:"push_endpoint",type:"url",placeholder:"https://your-gateway/api/webhooks/gmail-pubsub",...m("push_endpoint"),className:p.push_endpoint?"border-destructive":""}),p.push_endpoint&&a.jsx("p",{className:"text-xs text-destructive",children:p.push_endpoint.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"submit",disabled:u.isPending||d.isPending,children:u.isPending||d.isPending?"Saving":n?"Update & continue":a.jsxs(a.Fragment,{children:["Save & continue",a.jsx(wr,{className:"ml-1 h-4 w-4"})]})}),n&&a.jsx(P,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]}),t===1&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Step 2: Configure (optional)"}),a.jsx(he,{children:"In Google Cloud Console, create a Pub/Sub topic and subscription, and set the push endpoint to the URL you saved. Messages will be routed to your chat when configured."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{onClick:()=>r(2),children:["Continue to test",a.jsx(wr,{className:"ml-1 h-4 w-4"})]}),a.jsxs(P,{variant:"outline",onClick:()=>r(0),children:[a.jsx(Pv,{className:"mr-1 h-4 w-4"}),"Back"]})]})})]}),t===2&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Step 3: Test"}),a.jsx(he,{children:"Send a test message to your push endpoint to verify the integration."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(P,{onClick:S,variant:"outline",children:[a.jsx(Pv,{className:"mr-1 h-4 w-4"}),"Add another"]})})})]}),l.length>0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(gc,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub configurations"]}),a.jsx(he,{children:"Manage push handler endpoints and test delivery."})]}),a.jsx(Z,{children:a.jsx("ul",{className:"space-y-3",children:l.map(N=>{const k=N.configuration_details;return a.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsx("p",{className:"truncate font-mono text-xs text-muted-foreground",children:(k==null?void 0:k.push_endpoint)??"No endpoint"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[N.is_active&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[a.jsx(tf,{className:"h-3 w-3"}),"Active"]}),N.last_tested_at&&a.jsxs("span",{children:["Tested ",kr(new Date(N.last_tested_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>w(N),disabled:h.isPending&&i===N.id,className:"transition-transform hover:scale-[1.02]",children:h.isPending&&i===N.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"mr-1 h-4 w-4"}),"Test"]})}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(ja,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsx(Mt,{onClick:()=>_(N),children:"Edit"}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>j(N.id),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]},N.id)})})})]}),l.length===0&&t!==0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Gmail Pub/Sub configurations yet. Complete Step 1 to add one."})]})}function hoe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(null),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(null),[x,b]=v.useState(null),{data:y=[],isLoading:w}=Bie(),{data:_=[],isLoading:j}=Kie(null),S=zie(),N=Wie(),k=Vie(),C=Hie(),O=Gie(),D=Yie(),E=async F=>{await S.mutateAsync({...F,rate_limit:F.rate_limit??null}),t(!1)},L=F=>{f(F),u(!0)},M=F=>{N.mutate(F,{onSuccess:()=>{u(!1),f(null)}})},K=F=>{b(F.id),k.mutate(F.id,{onSettled:()=>b(null)})},A=F=>{p(F),m(!0)},V=F=>{D.mutate(F,{onSuccess:()=>{m(!1),p(null)}})},T=F=>{navigator.clipboard.writeText(F),l(F),q.success("URL copied"),setTimeout(()=>l(null),2e3)},$=F=>{s?O.mutate({id:s.id,data:{event_trigger:F.event_trigger,language:F.language,script_content:F.script_content,webhook_id:F.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):C.mutate({event_trigger:F.event_trigger,language:F.language,script_content:F.script_content,webhook_id:F.webhook_id},{onSuccess:()=>n(!1)})},I=F=>{i(F),n(!0)},ee=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(v5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(ci,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(St,{value:"endpoints",children:"Endpoints"}),a.jsx(St,{value:"hooks",children:"Hook scripts"}),a.jsx(St,{value:"transform",children:"Payload transformer"}),a.jsx(St,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Nt,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Av,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(he,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(F=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},F))}):y.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Av,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(ht,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:y.map(F=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:F.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:F.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",F.token_preview]}),F.rate_limit!=null&&a.jsxs("span",{children:["Rate limit: ",F.rate_limit,"/min"]}),F.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(ml,{className:"h-3 w-3"}),"Last received"," ",kr(new Date(F.last_received_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:F.mapping_template&&a.jsx(We,{variant:"secondary",children:"Mapping"})})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>K(F),disabled:k.isPending&&x===F.id,className:"transition-transform hover:scale-[1.02]","aria-label":"Test webhook",children:k.isPending&&x===F.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):"Test"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>T(F.url),"aria-label":"Copy URL",children:o===F.url?a.jsx(tf,{className:"h-4 w-4 text-success"}):a.jsx(RI,{className:"h-4 w-4"})}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(ja,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(ps,{align:"end",children:a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>L(F),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},F.id))})})})]})}),a.jsx(Nt,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(OE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(he,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Z,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(P,{onClick:ee,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),j?a.jsx("div",{className:"space-y-3",children:[1,2].map(F=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},F))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(OE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:ee,children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(F=>{var ie;return a.jsxs("div",{className:J("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:F.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.language,F.webhook_id?`  Webhook: ${((ie=y.find(ye=>ye.id===F.webhook_id))==null?void 0:ie.route_name)??F.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>I(F),children:"Edit"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>A(F),"aria-label":"Remove script",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},F.id)})})})]})]})}),a.jsx(Nt,{value:"transform",className:"space-y-4",children:a.jsx(loe,{webhooks:y,isLoadingWebhooks:w})}),a.jsx(Nt,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(gc,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(he,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Z,{children:a.jsx(foe,{})})]})})]}),a.jsx(soe,{open:e,onOpenChange:t,onSubmit:E,isSubmitting:S.isPending}),a.jsx(ooe,{open:r,onOpenChange:F=>{n(F),F||i(null)},onSubmit:$,isSubmitting:C.isPending||O.isPending,script:s,webhooks:y}),a.jsx(coe,{webhook:d,open:c,onOpenChange:u,onConfirm:M,isDeleting:N.isPending}),a.jsx(uoe,{script:g,open:h,onOpenChange:m,onConfirm:V,isDeleting:D.isPending})]})}var moe=Array.isArray,es=moe,poe=typeof Mp=="object"&&Mp&&Mp.Object===Object&&Mp,x5=poe,goe=x5,voe=typeof self=="object"&&self&&self.Object===Object&&self,yoe=goe||voe||Function("return this")(),ui=yoe,xoe=ui,boe=xoe.Symbol,_p=boe,aO=_p,b5=Object.prototype,woe=b5.hasOwnProperty,joe=b5.toString,zf=aO?aO.toStringTag:void 0;function _oe(e){var t=woe.call(e,zf),r=e[zf];try{e[zf]=void 0;var n=!0}catch{}var s=joe.call(e);return n&&(t?e[zf]=r:delete e[zf]),s}var Soe=_oe,Noe=Object.prototype,koe=Noe.toString;function Coe(e){return koe.call(e)}var Eoe=Coe,iO=_p,Poe=Soe,Ooe=Eoe,Aoe="[object Null]",Toe="[object Undefined]",oO=iO?iO.toStringTag:void 0;function Roe(e){return e==null?e===void 0?Toe:Aoe:oO&&oO in Object(e)?Poe(e):Ooe(e)}var so=Roe;function Moe(e){return e!=null&&typeof e=="object"}var ao=Moe,$oe=so,Ioe=ao,Doe="[object Symbol]";function Loe(e){return typeof e=="symbol"||Ioe(e)&&$oe(e)==Doe}var df=Loe,Foe=es,Uoe=df,qoe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Boe=/^\w*$/;function zoe(e,t){if(Foe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Uoe(e)?!0:Boe.test(e)||!qoe.test(e)||t!=null&&e in Object(t)}var uk=zoe;function Woe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var yl=Woe;const ff=zt(yl);var Voe=so,Koe=yl,Hoe="[object AsyncFunction]",Goe="[object Function]",Yoe="[object GeneratorFunction]",Qoe="[object Proxy]";function Xoe(e){if(!Koe(e))return!1;var t=Voe(e);return t==Goe||t==Yoe||t==Hoe||t==Qoe}var dk=Xoe;const ut=zt(dk);var Joe=ui,Zoe=Joe["__core-js_shared__"],ele=Zoe,r0=ele,lO=function(){var e=/[^.]+$/.exec(r0&&r0.keys&&r0.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function tle(e){return!!lO&&lO in e}var rle=tle,nle=Function.prototype,sle=nle.toString;function ale(e){if(e!=null){try{return sle.call(e)}catch{}try{return e+""}catch{}}return""}var w5=ale,ile=dk,ole=rle,lle=yl,cle=w5,ule=/[\\^$.*+?()[\]{}|]/g,dle=/^\[object .+?Constructor\]$/,fle=Function.prototype,hle=Object.prototype,mle=fle.toString,ple=hle.hasOwnProperty,gle=RegExp("^"+mle.call(ple).replace(ule,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vle(e){if(!lle(e)||ole(e))return!1;var t=ile(e)?gle:dle;return t.test(cle(e))}var yle=vle;function xle(e,t){return e==null?void 0:e[t]}var ble=xle,wle=yle,jle=ble;function _le(e,t){var r=jle(e,t);return wle(r)?r:void 0}var Ic=_le,Sle=Ic,Nle=Sle(Object,"create"),nb=Nle,cO=nb;function kle(){this.__data__=cO?cO(null):{},this.size=0}var Cle=kle;function Ele(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ple=Ele,Ole=nb,Ale="__lodash_hash_undefined__",Tle=Object.prototype,Rle=Tle.hasOwnProperty;function Mle(e){var t=this.__data__;if(Ole){var r=t[e];return r===Ale?void 0:r}return Rle.call(t,e)?t[e]:void 0}var $le=Mle,Ile=nb,Dle=Object.prototype,Lle=Dle.hasOwnProperty;function Fle(e){var t=this.__data__;return Ile?t[e]!==void 0:Lle.call(t,e)}var Ule=Fle,qle=nb,Ble="__lodash_hash_undefined__";function zle(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=qle&&t===void 0?Ble:t,this}var Wle=zle,Vle=Cle,Kle=Ple,Hle=$le,Gle=Ule,Yle=Wle;function hf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hf.prototype.clear=Vle;hf.prototype.delete=Kle;hf.prototype.get=Hle;hf.prototype.has=Gle;hf.prototype.set=Yle;var Qle=hf;function Xle(){this.__data__=[],this.size=0}var Jle=Xle;function Zle(e,t){return e===t||e!==e&&t!==t}var fk=Zle,ece=fk;function tce(e,t){for(var r=e.length;r--;)if(ece(e[r][0],t))return r;return-1}var sb=tce,rce=sb,nce=Array.prototype,sce=nce.splice;function ace(e){var t=this.__data__,r=rce(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():sce.call(t,r,1),--this.size,!0}var ice=ace,oce=sb;function lce(e){var t=this.__data__,r=oce(t,e);return r<0?void 0:t[r][1]}var cce=lce,uce=sb;function dce(e){return uce(this.__data__,e)>-1}var fce=dce,hce=sb;function mce(e,t){var r=this.__data__,n=hce(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var pce=mce,gce=Jle,vce=ice,yce=cce,xce=fce,bce=pce;function mf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}mf.prototype.clear=gce;mf.prototype.delete=vce;mf.prototype.get=yce;mf.prototype.has=xce;mf.prototype.set=bce;var ab=mf,wce=Ic,jce=ui,_ce=wce(jce,"Map"),hk=_ce,uO=Qle,Sce=ab,Nce=hk;function kce(){this.size=0,this.__data__={hash:new uO,map:new(Nce||Sce),string:new uO}}var Cce=kce;function Ece(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Pce=Ece,Oce=Pce;function Ace(e,t){var r=e.__data__;return Oce(t)?r[typeof t=="string"?"string":"hash"]:r.map}var ib=Ace,Tce=ib;function Rce(e){var t=Tce(this,e).delete(e);return this.size-=t?1:0,t}var Mce=Rce,$ce=ib;function Ice(e){return $ce(this,e).get(e)}var Dce=Ice,Lce=ib;function Fce(e){return Lce(this,e).has(e)}var Uce=Fce,qce=ib;function Bce(e,t){var r=qce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var zce=Bce,Wce=Cce,Vce=Mce,Kce=Dce,Hce=Uce,Gce=zce;function pf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}pf.prototype.clear=Wce;pf.prototype.delete=Vce;pf.prototype.get=Kce;pf.prototype.has=Hce;pf.prototype.set=Gce;var mk=pf,j5=mk,Yce="Expected a function";function pk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Yce);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(pk.Cache||j5),r}pk.Cache=j5;var _5=pk;const Qce=zt(_5);var Xce=_5,Jce=500;function Zce(e){var t=Xce(e,function(n){return r.size===Jce&&r.clear(),n}),r=t.cache;return t}var eue=Zce,tue=eue,rue=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nue=/\\(\\)?/g,sue=tue(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(rue,function(r,n,s,i){t.push(s?i.replace(nue,"$1"):n||r)}),t}),aue=sue;function iue(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var gk=iue,dO=_p,oue=gk,lue=es,cue=df,fO=dO?dO.prototype:void 0,hO=fO?fO.toString:void 0;function S5(e){if(typeof e=="string")return e;if(lue(e))return oue(e,S5)+"";if(cue(e))return hO?hO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var uue=S5,due=uue;function fue(e){return e==null?"":due(e)}var N5=fue,hue=es,mue=uk,pue=aue,gue=N5;function vue(e,t){return hue(e)?e:mue(e,t)?[e]:pue(gue(e))}var k5=vue,yue=df;function xue(e){if(typeof e=="string"||yue(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var ob=xue,bue=k5,wue=ob;function jue(e,t){t=bue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[wue(t[r++])];return r&&r==n?e:void 0}var vk=jue,_ue=vk;function Sue(e,t,r){var n=e==null?void 0:_ue(e,t);return n===void 0?r:n}var C5=Sue;const Us=zt(C5);function Nue(e){return e==null}var kue=Nue;const yt=zt(kue);var Cue=so,Eue=es,Pue=ao,Oue="[object String]";function Aue(e){return typeof e=="string"||!Eue(e)&&Pue(e)&&Cue(e)==Oue}var Tue=Aue;const Nc=zt(Tue);var E5={exports:{}},Ft={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yk=Symbol.for("react.element"),xk=Symbol.for("react.portal"),lb=Symbol.for("react.fragment"),cb=Symbol.for("react.strict_mode"),ub=Symbol.for("react.profiler"),db=Symbol.for("react.provider"),fb=Symbol.for("react.context"),Rue=Symbol.for("react.server_context"),hb=Symbol.for("react.forward_ref"),mb=Symbol.for("react.suspense"),pb=Symbol.for("react.suspense_list"),gb=Symbol.for("react.memo"),vb=Symbol.for("react.lazy"),Mue=Symbol.for("react.offscreen"),P5;P5=Symbol.for("react.module.reference");function Hs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yk:switch(e=e.type,e){case lb:case ub:case cb:case mb:case pb:return e;default:switch(e=e&&e.$$typeof,e){case Rue:case fb:case hb:case vb:case gb:case db:return e;default:return t}}case xk:return t}}}Ft.ContextConsumer=fb;Ft.ContextProvider=db;Ft.Element=yk;Ft.ForwardRef=hb;Ft.Fragment=lb;Ft.Lazy=vb;Ft.Memo=gb;Ft.Portal=xk;Ft.Profiler=ub;Ft.StrictMode=cb;Ft.Suspense=mb;Ft.SuspenseList=pb;Ft.isAsyncMode=function(){return!1};Ft.isConcurrentMode=function(){return!1};Ft.isContextConsumer=function(e){return Hs(e)===fb};Ft.isContextProvider=function(e){return Hs(e)===db};Ft.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yk};Ft.isForwardRef=function(e){return Hs(e)===hb};Ft.isFragment=function(e){return Hs(e)===lb};Ft.isLazy=function(e){return Hs(e)===vb};Ft.isMemo=function(e){return Hs(e)===gb};Ft.isPortal=function(e){return Hs(e)===xk};Ft.isProfiler=function(e){return Hs(e)===ub};Ft.isStrictMode=function(e){return Hs(e)===cb};Ft.isSuspense=function(e){return Hs(e)===mb};Ft.isSuspenseList=function(e){return Hs(e)===pb};Ft.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===lb||e===ub||e===cb||e===mb||e===pb||e===Mue||typeof e=="object"&&e!==null&&(e.$$typeof===vb||e.$$typeof===gb||e.$$typeof===db||e.$$typeof===fb||e.$$typeof===hb||e.$$typeof===P5||e.getModuleId!==void 0)};Ft.typeOf=Hs;E5.exports=Ft;var $ue=E5.exports,Iue=so,Due=ao,Lue="[object Number]";function Fue(e){return typeof e=="number"||Due(e)&&Iue(e)==Lue}var O5=Fue;const Uue=zt(O5);var que=O5;function Bue(e){return que(e)&&e!=+e}var zue=Bue;const gf=zt(zue);var va=function(t){return t===0?0:t>0?1:-1},Wl=function(t){return Nc(t)&&t.indexOf("%")===t.length-1},_e=function(t){return Uue(t)&&!gf(t)},Wue=function(t){return yt(t)},Hr=function(t){return _e(t)||Nc(t)},Vue=0,Sp=function(t){var r=++Vue;return"".concat(t||"").concat(r)},kc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_e(t)&&!Nc(t))return n;var i;if(Wl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return gf(i)&&(i=n),s&&i>r&&(i=r),i},Oo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Kue=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},As=function(t,r){return _e(t)&&_e(r)?function(n){return t+n*(r-t)}:function(){return r}};function Zv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Us(n,t))===r})}var Hue=function(t,r){return _e(t)&&_e(r)?t-r:Nc(t)&&Nc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Lu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function R_(e){"@babel/helpers - typeof";return R_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R_(e)}var Gue=["viewBox","children"],Yue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],mO=["points","pathLength"],n0={svg:Gue,polygon:mO,polyline:mO},bk=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],ey=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(v.isValidElement(t)&&(n=t.props),!ff(n))return null;var s={};return Object.keys(n).forEach(function(i){bk.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Que=function(t,r,n){return function(s){return t(r,n,s),null}},ty=function(t,r,n){if(!ff(t)||R_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];bk.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Que(o,r,n))}),s},Xue=["children"],Jue=["children"];function pO(e,t){if(e==null)return{};var r=Zue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function M_(e){"@babel/helpers - typeof";return M_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M_(e)}var gO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Mi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},vO=null,s0=null,wk=function e(t){if(t===vO&&Array.isArray(s0))return s0;var r=[];return v.Children.forEach(t,function(n){yt(n)||($ue.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),s0=r,vO=t,r};function Sa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Mi(s)}):n=[Mi(t)],wk(e).forEach(function(s){var i=Us(s,"type.displayName")||Us(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function is(e,t){var r=Sa(e,t);return r&&r[0]}var yO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!_e(n)||n<=0||!_e(s)||s<=0)},ede=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],tde=function(t){return t&&t.type&&Nc(t.type)&&ede.indexOf(t.type)>=0},rde=function(t){return t&&M_(t)==="object"&&"clipDot"in t},nde=function(t,r,n,s){var i,o=(i=n0==null?void 0:n0[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ut(t)&&(s&&o.includes(r)||Yue.includes(r))||n&&bk.includes(r)},pt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(v.isValidElement(t)&&(s=t.props),!ff(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;nde((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},$_=function e(t,r){if(t===r)return!0;var n=v.Children.count(t);if(n!==v.Children.count(r))return!1;if(n===0)return!0;if(n===1)return xO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!xO(i,o))return!1}return!0},xO=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},s=n.children,i=pO(n,Xue),o=r.props||{},l=o.children,c=pO(o,Jue);return s&&l?Lu(i,c)&&$_(s,l):!s&&!l?Lu(i,c):!1}return!1},bO=function(t,r){var n=[],s={};return wk(t).forEach(function(i,o){if(tde(i))n.push(i);else if(i){var l=Mi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},sde=function(t){var r=t&&t.type;return r&&gO[r]?gO[r]:null},ade=function(t,r){return wk(r).indexOf(t)},ide=["children","width","height","viewBox","className","style","title","desc"];function I_(){return I_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I_.apply(this,arguments)}function ode(e,t){if(e==null)return{};var r=lde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=ode(e,ide),d=s||{width:r,height:n,x:0,y:0},f=jt("recharts-surface",i);return R.createElement("svg",I_({},pt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),R.createElement("title",null,l),R.createElement("desc",null,c),t)}var cde=["children","className"];function L_(){return L_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L_.apply(this,arguments)}function ude(e,t){if(e==null)return{};var r=dde(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dde(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var fr=R.forwardRef(function(e,t){var r=e.children,n=e.className,s=ude(e,cde),i=jt("recharts-layer",n);return R.createElement("g",L_({className:i},pt(s,!0),{ref:t}),r)}),$i=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function fde(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var hde=fde,mde=hde;function pde(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:mde(e,t,r)}var gde=pde,vde="\\ud800-\\udfff",yde="\\u0300-\\u036f",xde="\\ufe20-\\ufe2f",bde="\\u20d0-\\u20ff",wde=yde+xde+bde,jde="\\ufe0e\\ufe0f",_de="\\u200d",Sde=RegExp("["+_de+vde+wde+jde+"]");function Nde(e){return Sde.test(e)}var A5=Nde;function kde(e){return e.split("")}var Cde=kde,T5="\\ud800-\\udfff",Ede="\\u0300-\\u036f",Pde="\\ufe20-\\ufe2f",Ode="\\u20d0-\\u20ff",Ade=Ede+Pde+Ode,Tde="\\ufe0e\\ufe0f",Rde="["+T5+"]",F_="["+Ade+"]",U_="\\ud83c[\\udffb-\\udfff]",Mde="(?:"+F_+"|"+U_+")",R5="[^"+T5+"]",M5="(?:\\ud83c[\\udde6-\\uddff]){2}",$5="[\\ud800-\\udbff][\\udc00-\\udfff]",$de="\\u200d",I5=Mde+"?",D5="["+Tde+"]?",Ide="(?:"+$de+"(?:"+[R5,M5,$5].join("|")+")"+D5+I5+")*",Dde=D5+I5+Ide,Lde="(?:"+[R5+F_+"?",F_,M5,$5,Rde].join("|")+")",Fde=RegExp(U_+"(?="+U_+")|"+Lde+Dde,"g");function Ude(e){return e.match(Fde)||[]}var qde=Ude,Bde=Cde,zde=A5,Wde=qde;function Vde(e){return zde(e)?Wde(e):Bde(e)}var Kde=Vde,Hde=gde,Gde=A5,Yde=Kde,Qde=N5;function Xde(e){return function(t){t=Qde(t);var r=Gde(t)?Yde(t):void 0,n=r?r[0]:t.charAt(0),s=r?Hde(r,1).join(""):t.slice(1);return n[e]()+s}}var Jde=Xde,Zde=Jde,efe=Zde("toUpperCase"),tfe=efe;const yb=zt(tfe);function Yt(e){return function(){return e}}const L5=Math.cos,ry=Math.sin,Ta=Math.sqrt,ny=Math.PI,xb=2*ny,q_=Math.PI,B_=2*q_,Al=1e-6,rfe=B_-Al;function F5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function nfe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return F5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class sfe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?F5:nfe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Al)if(!(Math.abs(f*c-u*d)>Al)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),y=Math.sqrt(h),w=i*Math.tan((q_-Math.acos((p+h-x)/(2*b*y)))/2),_=w/y,j=w/b;Math.abs(_-1)>Al&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Al||Math.abs(this._y1-d)>Al)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%B_+B_),h>rfe?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Al&&this._append`A${n},${n},0,${+(h>=q_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function jk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new sfe(t)}function _k(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function bb(e){return new U5(e)}function q5(e){return e[0]}function B5(e){return e[1]}function z5(e,t){var r=Yt(!0),n=null,s=bb,i=null,o=jk(l);e=typeof e=="function"?e:e===void 0?q5:Yt(e),t=typeof t=="function"?t:t===void 0?B5:Yt(t);function l(c){var u,d=(c=_k(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Yt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Yt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Yt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function yg(e,t,r){var n=null,s=Yt(!0),i=null,o=bb,l=null,c=jk(u);e=typeof e=="function"?e:e===void 0?q5:Yt(+e),t=typeof t=="function"?t:Yt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?B5:Yt(+r);function u(f){var h,m,g,p=(f=_k(f)).length,x,b=!1,y,w=new Array(p),_=new Array(p);for(i==null&&(l=o(y=c())),h=0;h<=p;++h){if(!(h<p&&s(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):_[h]))}if(y)return l=null,y+""||null}function d(){return z5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Yt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Yt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Yt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Yt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Yt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class W5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function afe(e){return new W5(e,!0)}function ife(e){return new W5(e,!1)}const Sk={draw(e,t){const r=Ta(t/ny);e.moveTo(r,0),e.arc(0,0,r,0,xb)}},ofe={draw(e,t){const r=Ta(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},V5=Ta(1/3),lfe=V5*2,cfe={draw(e,t){const r=Ta(t/lfe),n=r*V5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ufe={draw(e,t){const r=Ta(t),n=-r/2;e.rect(n,n,r,r)}},dfe=.8908130915292852,K5=ry(ny/10)/ry(7*ny/10),ffe=ry(xb/10)*K5,hfe=-L5(xb/10)*K5,mfe={draw(e,t){const r=Ta(t*dfe),n=ffe*r,s=hfe*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=xb*i/5,l=L5(o),c=ry(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},a0=Ta(3),pfe={draw(e,t){const r=-Ta(t/(a0*3));e.moveTo(0,r*2),e.lineTo(-a0*r,-r),e.lineTo(a0*r,-r),e.closePath()}},_s=-.5,Ss=Ta(3)/2,z_=1/Ta(12),gfe=(z_/2+1)*3,vfe={draw(e,t){const r=Ta(t/gfe),n=r/2,s=r*z_,i=n,o=r*z_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(_s*n-Ss*s,Ss*n+_s*s),e.lineTo(_s*i-Ss*o,Ss*i+_s*o),e.lineTo(_s*l-Ss*c,Ss*l+_s*c),e.lineTo(_s*n+Ss*s,_s*s-Ss*n),e.lineTo(_s*i+Ss*o,_s*o-Ss*i),e.lineTo(_s*l+Ss*c,_s*c-Ss*l),e.closePath()}};function yfe(e,t){let r=null,n=jk(s);e=typeof e=="function"?e:Yt(e||Sk),t=typeof t=="function"?t:Yt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Yt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function sy(){}function ay(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function H5(e){this._context=e}H5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ay(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ay(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function xfe(e){return new H5(e)}function G5(e){this._context=e}G5.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ay(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bfe(e){return new G5(e)}function Y5(e){this._context=e}Y5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ay(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wfe(e){return new Y5(e)}function Q5(e){this._context=e}Q5.prototype={areaStart:sy,areaEnd:sy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jfe(e){return new Q5(e)}function wO(e){return e<0?-1:1}function jO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(wO(i)+wO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function _O(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function i0(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function iy(e){this._context=e}iy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:i0(this,this._t0,_O(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,i0(this,_O(this,r=jO(this,e,t)),r);break;default:i0(this,this._t0,r=jO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function X5(e){this._context=new J5(e)}(X5.prototype=Object.create(iy.prototype)).point=function(e,t){iy.prototype.point.call(this,t,e)};function J5(e){this._context=e}J5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function _fe(e){return new iy(e)}function Sfe(e){return new X5(e)}function Z5(e){this._context=e}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=SO(e),s=SO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Nfe(e){return new Z5(e)}function wb(e,t){this._context=e,this._t=t}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function kfe(e){return new wb(e,.5)}function Cfe(e){return new wb(e,0)}function Efe(e){return new wb(e,1)}function jd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function W_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Pfe(e,t){return e[t]}function Ofe(e){const t=[];return t.key=e,t}function Afe(){var e=Yt([]),t=W_,r=jd,n=Pfe;function s(i){var o=Array.from(e.apply(this,arguments),Ofe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=_k(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Yt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Yt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?W_:typeof i=="function"?i:Yt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??jd,s):r},s}function Tfe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}jd(e,t)}}function Rfe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}jd(e,t)}}function Mfe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,jd(e,t)}}function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}var $fe=["type","size","sizeType"];function V_(){return V_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V_.apply(this,arguments)}function NO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NO(Object(r),!0).forEach(function(n){Ife(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ife(e,t,r){return t=Dfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dfe(e){var t=Lfe(e,"string");return fm(t)=="symbol"?t:t+""}function Lfe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ffe(e,t){if(e==null)return{};var r=Ufe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ufe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eU={symbolCircle:Sk,symbolCross:ofe,symbolDiamond:cfe,symbolSquare:ufe,symbolStar:mfe,symbolTriangle:pfe,symbolWye:vfe},qfe=Math.PI/180,Bfe=function(t){var r="symbol".concat(yb(t));return eU[r]||Sk},zfe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*qfe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Wfe=function(t,r){eU["symbol".concat(yb(t))]=r},Nk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=Ffe(t,$fe),u=kO(kO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=Bfe(n),b=yfe().type(x).size(zfe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=pt(u,!0);return h===+h&&m===+m&&i===+i?R.createElement("path",V_({},g,{className:jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};Nk.registerSymbol=Wfe;function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function K_(){return K_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K_.apply(this,arguments)}function CO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Vfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CO(Object(r),!0).forEach(function(n){hm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kfe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rU(n.key),n)}}function Gfe(e,t,r){return t&&Hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yfe(e,t,r){return t=oy(t),Qfe(e,tU()?Reflect.construct(t,r||[],oy(e).constructor):t.apply(e,r))}function Qfe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xfe(e)}function Xfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tU=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oy(e)}function Jfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H_(e,t)}function H_(e,t){return H_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H_(e,t)}function hm(e,t,r){return t=rU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rU(e){var t=Zfe(e,"string");return _d(t)=="symbol"?t:t+""}function Zfe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ns=32,kk=function(e){function t(){return Kfe(this,t),Yfe(this,t,arguments)}return Jfe(t,e),Gfe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ns/2,o=Ns/6,l=Ns/3,c=n.inactive?s:n.color;if(n.type==="plainline")return R.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ns,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return R.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ns,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return R.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ns/8,"h").concat(Ns,"v").concat(Ns*3/4,"h").concat(-Ns,"z"),className:"recharts-legend-icon"});if(R.isValidElement(n.legendIcon)){var u=Vfe({},n);return delete u.legendIcon,R.cloneElement(n.legendIcon,u)}return R.createElement(Nk,{fill:c,cx:i,cy:i,size:Ns,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:Ns,height:Ns},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=jt(hm(hm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=ut(m.value)?null:m.value;$i(!ut(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=m.inactive?u:m.color;return R.createElement("li",K_({className:x,style:f,key:"legend-item-".concat(g)},ty(n.props,m,g)),R.createElement(D_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),R.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return R.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(v.PureComponent);hm(kk,"displayName","Legend");hm(kk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var ehe=ab;function the(){this.__data__=new ehe,this.size=0}var rhe=the;function nhe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var she=nhe;function ahe(e){return this.__data__.get(e)}var ihe=ahe;function ohe(e){return this.__data__.has(e)}var lhe=ohe,che=ab,uhe=hk,dhe=mk,fhe=200;function hhe(e,t){var r=this.__data__;if(r instanceof che){var n=r.__data__;if(!uhe||n.length<fhe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new dhe(n)}return r.set(e,t),this.size=r.size,this}var mhe=hhe,phe=ab,ghe=rhe,vhe=she,yhe=ihe,xhe=lhe,bhe=mhe;function vf(e){var t=this.__data__=new phe(e);this.size=t.size}vf.prototype.clear=ghe;vf.prototype.delete=vhe;vf.prototype.get=yhe;vf.prototype.has=xhe;vf.prototype.set=bhe;var nU=vf,whe="__lodash_hash_undefined__";function jhe(e){return this.__data__.set(e,whe),this}var _he=jhe;function She(e){return this.__data__.has(e)}var Nhe=She,khe=mk,Che=_he,Ehe=Nhe;function ly(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new khe;++t<r;)this.add(e[t])}ly.prototype.add=ly.prototype.push=Che;ly.prototype.has=Ehe;var sU=ly;function Phe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var aU=Phe;function Ohe(e,t){return e.has(t)}var iU=Ohe,Ahe=sU,The=aU,Rhe=iU,Mhe=1,$he=2;function Ihe(e,t,r,n,s,i){var o=r&Mhe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&$he?new Ahe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!The(t,function(b,y){if(!Rhe(m,y)&&(g===b||s(g,b,r,n,i)))return m.push(y)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var oU=Ihe,Dhe=ui,Lhe=Dhe.Uint8Array,Fhe=Lhe;function Uhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var qhe=Uhe;function Bhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ck=Bhe,EO=_p,PO=Fhe,zhe=fk,Whe=oU,Vhe=qhe,Khe=Ck,Hhe=1,Ghe=2,Yhe="[object Boolean]",Qhe="[object Date]",Xhe="[object Error]",Jhe="[object Map]",Zhe="[object Number]",eme="[object RegExp]",tme="[object Set]",rme="[object String]",nme="[object Symbol]",sme="[object ArrayBuffer]",ame="[object DataView]",OO=EO?EO.prototype:void 0,o0=OO?OO.valueOf:void 0;function ime(e,t,r,n,s,i,o){switch(r){case ame:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case sme:return!(e.byteLength!=t.byteLength||!i(new PO(e),new PO(t)));case Yhe:case Qhe:case Zhe:return zhe(+e,+t);case Xhe:return e.name==t.name&&e.message==t.message;case eme:case rme:return e==t+"";case Jhe:var l=Vhe;case tme:var c=n&Hhe;if(l||(l=Khe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ghe,o.set(e,t);var d=Whe(l(e),l(t),n,s,i,o);return o.delete(e),d;case nme:if(o0)return o0.call(e)==o0.call(t)}return!1}var ome=ime;function lme(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var lU=lme,cme=lU,ume=es;function dme(e,t,r){var n=t(e);return ume(e)?n:cme(n,r(e))}var fme=dme;function hme(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var mme=hme;function pme(){return[]}var gme=pme,vme=mme,yme=gme,xme=Object.prototype,bme=xme.propertyIsEnumerable,AO=Object.getOwnPropertySymbols,wme=AO?function(e){return e==null?[]:(e=Object(e),vme(AO(e),function(t){return bme.call(e,t)}))}:yme,jme=wme;function _me(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Sme=_me,Nme=so,kme=ao,Cme="[object Arguments]";function Eme(e){return kme(e)&&Nme(e)==Cme}var Pme=Eme,TO=Pme,Ome=ao,cU=Object.prototype,Ame=cU.hasOwnProperty,Tme=cU.propertyIsEnumerable,Rme=TO(function(){return arguments}())?TO:function(e){return Ome(e)&&Ame.call(e,"callee")&&!Tme.call(e,"callee")},Ek=Rme,cy={exports:{}};function Mme(){return!1}var $me=Mme;cy.exports;(function(e,t){var r=ui,n=$me,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(cy,cy.exports);var uU=cy.exports,Ime=9007199254740991,Dme=/^(?:0|[1-9]\d*)$/;function Lme(e,t){var r=typeof e;return t=t??Ime,!!t&&(r=="number"||r!="symbol"&&Dme.test(e))&&e>-1&&e%1==0&&e<t}var Pk=Lme,Fme=9007199254740991;function Ume(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Fme}var Ok=Ume,qme=so,Bme=Ok,zme=ao,Wme="[object Arguments]",Vme="[object Array]",Kme="[object Boolean]",Hme="[object Date]",Gme="[object Error]",Yme="[object Function]",Qme="[object Map]",Xme="[object Number]",Jme="[object Object]",Zme="[object RegExp]",epe="[object Set]",tpe="[object String]",rpe="[object WeakMap]",npe="[object ArrayBuffer]",spe="[object DataView]",ape="[object Float32Array]",ipe="[object Float64Array]",ope="[object Int8Array]",lpe="[object Int16Array]",cpe="[object Int32Array]",upe="[object Uint8Array]",dpe="[object Uint8ClampedArray]",fpe="[object Uint16Array]",hpe="[object Uint32Array]",tr={};tr[ape]=tr[ipe]=tr[ope]=tr[lpe]=tr[cpe]=tr[upe]=tr[dpe]=tr[fpe]=tr[hpe]=!0;tr[Wme]=tr[Vme]=tr[npe]=tr[Kme]=tr[spe]=tr[Hme]=tr[Gme]=tr[Yme]=tr[Qme]=tr[Xme]=tr[Jme]=tr[Zme]=tr[epe]=tr[tpe]=tr[rpe]=!1;function mpe(e){return zme(e)&&Bme(e.length)&&!!tr[qme(e)]}var ppe=mpe;function gpe(e){return function(t){return e(t)}}var dU=gpe,uy={exports:{}};uy.exports;(function(e,t){var r=x5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(uy,uy.exports);var vpe=uy.exports,ype=ppe,xpe=dU,RO=vpe,MO=RO&&RO.isTypedArray,bpe=MO?xpe(MO):ype,fU=bpe,wpe=Sme,jpe=Ek,_pe=es,Spe=uU,Npe=Pk,kpe=fU,Cpe=Object.prototype,Epe=Cpe.hasOwnProperty;function Ppe(e,t){var r=_pe(e),n=!r&&jpe(e),s=!r&&!n&&Spe(e),i=!r&&!n&&!s&&kpe(e),o=r||n||s||i,l=o?wpe(e.length,String):[],c=l.length;for(var u in e)(t||Epe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Npe(u,c)))&&l.push(u);return l}var Ope=Ppe,Ape=Object.prototype;function Tpe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Ape;return e===r}var Rpe=Tpe;function Mpe(e,t){return function(r){return e(t(r))}}var hU=Mpe,$pe=hU,Ipe=$pe(Object.keys,Object),Dpe=Ipe,Lpe=Rpe,Fpe=Dpe,Upe=Object.prototype,qpe=Upe.hasOwnProperty;function Bpe(e){if(!Lpe(e))return Fpe(e);var t=[];for(var r in Object(e))qpe.call(e,r)&&r!="constructor"&&t.push(r);return t}var zpe=Bpe,Wpe=dk,Vpe=Ok;function Kpe(e){return e!=null&&Vpe(e.length)&&!Wpe(e)}var Np=Kpe,Hpe=Ope,Gpe=zpe,Ype=Np;function Qpe(e){return Ype(e)?Hpe(e):Gpe(e)}var jb=Qpe,Xpe=fme,Jpe=jme,Zpe=jb;function ege(e){return Xpe(e,Zpe,Jpe)}var tge=ege,$O=tge,rge=1,nge=Object.prototype,sge=nge.hasOwnProperty;function age(e,t,r,n,s,i){var o=r&rge,l=$O(e),c=l.length,u=$O(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:sge.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],y=t[h];if(n)var w=o?n(y,b,h,t,e,i):n(b,y,h,e,t,i);if(!(w===void 0?b===y||s(b,y,r,n,i):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var ige=age,oge=Ic,lge=ui,cge=oge(lge,"DataView"),uge=cge,dge=Ic,fge=ui,hge=dge(fge,"Promise"),mge=hge,pge=Ic,gge=ui,vge=pge(gge,"Set"),mU=vge,yge=Ic,xge=ui,bge=yge(xge,"WeakMap"),wge=bge,G_=uge,Y_=hk,Q_=mge,X_=mU,J_=wge,pU=so,yf=w5,IO="[object Map]",jge="[object Object]",DO="[object Promise]",LO="[object Set]",FO="[object WeakMap]",UO="[object DataView]",_ge=yf(G_),Sge=yf(Y_),Nge=yf(Q_),kge=yf(X_),Cge=yf(J_),Tl=pU;(G_&&Tl(new G_(new ArrayBuffer(1)))!=UO||Y_&&Tl(new Y_)!=IO||Q_&&Tl(Q_.resolve())!=DO||X_&&Tl(new X_)!=LO||J_&&Tl(new J_)!=FO)&&(Tl=function(e){var t=pU(e),r=t==jge?e.constructor:void 0,n=r?yf(r):"";if(n)switch(n){case _ge:return UO;case Sge:return IO;case Nge:return DO;case kge:return LO;case Cge:return FO}return t});var Ege=Tl,l0=nU,Pge=oU,Oge=ome,Age=ige,qO=Ege,BO=es,zO=uU,Tge=fU,Rge=1,WO="[object Arguments]",VO="[object Array]",xg="[object Object]",Mge=Object.prototype,KO=Mge.hasOwnProperty;function $ge(e,t,r,n,s,i){var o=BO(e),l=BO(t),c=o?VO:qO(e),u=l?VO:qO(t);c=c==WO?xg:c,u=u==WO?xg:u;var d=c==xg,f=u==xg,h=c==u;if(h&&zO(e)){if(!zO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new l0),o||Tge(e)?Pge(e,t,r,n,s,i):Oge(e,t,c,r,n,s,i);if(!(r&Rge)){var m=d&&KO.call(e,"__wrapped__"),g=f&&KO.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new l0),s(p,x,r,n,i)}}return h?(i||(i=new l0),Age(e,t,r,n,s,i)):!1}var Ige=$ge,Dge=Ige,HO=ao;function gU(e,t,r,n,s){return e===t?!0:e==null||t==null||!HO(e)&&!HO(t)?e!==e&&t!==t:Dge(e,t,r,n,gU,s)}var Ak=gU,Lge=nU,Fge=Ak,Uge=1,qge=2;function Bge(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new Lge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?Fge(d,u,Uge|qge,n,f):h))return!1}}return!0}var zge=Bge,Wge=yl;function Vge(e){return e===e&&!Wge(e)}var vU=Vge,Kge=vU,Hge=jb;function Gge(e){for(var t=Hge(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Kge(s)]}return t}var Yge=Gge;function Qge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var yU=Qge,Xge=zge,Jge=Yge,Zge=yU;function eve(e){var t=Jge(e);return t.length==1&&t[0][2]?Zge(t[0][0],t[0][1]):function(r){return r===e||Xge(r,e,t)}}var tve=eve;function rve(e,t){return e!=null&&t in Object(e)}var nve=rve,sve=k5,ave=Ek,ive=es,ove=Pk,lve=Ok,cve=ob;function uve(e,t,r){t=sve(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=cve(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&lve(s)&&ove(o,s)&&(ive(e)||ave(e)))}var dve=uve,fve=nve,hve=dve;function mve(e,t){return e!=null&&hve(e,t,fve)}var pve=mve,gve=Ak,vve=C5,yve=pve,xve=uk,bve=vU,wve=yU,jve=ob,_ve=1,Sve=2;function Nve(e,t){return xve(e)&&bve(t)?wve(jve(e),t):function(r){var n=vve(r,e);return n===void 0&&n===t?yve(r,e):gve(t,n,_ve|Sve)}}var kve=Nve;function Cve(e){return e}var xf=Cve;function Eve(e){return function(t){return t==null?void 0:t[e]}}var Pve=Eve,Ove=vk;function Ave(e){return function(t){return Ove(t,e)}}var Tve=Ave,Rve=Pve,Mve=Tve,$ve=uk,Ive=ob;function Dve(e){return $ve(e)?Rve(Ive(e)):Mve(e)}var Lve=Dve,Fve=tve,Uve=kve,qve=xf,Bve=es,zve=Lve;function Wve(e){return typeof e=="function"?e:e==null?qve:typeof e=="object"?Bve(e)?Uve(e[0],e[1]):Fve(e):zve(e)}var xl=Wve;function Vve(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var xU=Vve;function Kve(e){return e!==e}var Hve=Kve;function Gve(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Yve=Gve,Qve=xU,Xve=Hve,Jve=Yve;function Zve(e,t,r){return t===t?Jve(e,t,r):Qve(e,Xve,r)}var eye=Zve,tye=eye;function rye(e,t){var r=e==null?0:e.length;return!!r&&tye(e,t,0)>-1}var nye=rye;function sye(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var aye=sye;function iye(){}var oye=iye,c0=mU,lye=oye,cye=Ck,uye=1/0,dye=c0&&1/cye(new c0([,-0]))[1]==uye?function(e){return new c0(e)}:lye,fye=dye,hye=sU,mye=nye,pye=aye,gye=iU,vye=fye,yye=Ck,xye=200;function bye(e,t,r){var n=-1,s=mye,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=pye;else if(i>=xye){var u=t?null:vye(e);if(u)return yye(u);o=!1,s=gye,c=new hye}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var wye=bye,jye=xl,_ye=wye;function Sye(e,t){return e&&e.length?_ye(e,jye(t)):[]}var Nye=Sye;const GO=zt(Nye);function bU(e,t,r){return t===!0?GO(e,r):ut(t)?GO(e,t):e}function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}var kye=["ref"];function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){_b(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jU(n.key),n)}}function Eye(e,t,r){return t&&QO(e.prototype,t),r&&QO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pye(e,t,r){return t=dy(t),Oye(e,wU()?Reflect.construct(t,r||[],dy(e).constructor):t.apply(e,r))}function Oye(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(e)}function Aye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wU=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dy(e)}function Tye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z_(e,t)}function Z_(e,t){return Z_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z_(e,t)}function _b(e,t,r){return t=jU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=Rye(e,"string");return Sd(t)=="symbol"?t:t+""}function Rye(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Mye(e,t){if(e==null)return{};var r=$ye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Iye(e){return e.value}function Dye(e,t){if(R.isValidElement(e))return R.cloneElement(e,t);if(typeof e=="function")return R.createElement(e,t);t.ref;var r=Mye(t,kye);return R.createElement(kk,r)}var XO=1,Fu=function(e){function t(){var r;Cye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Pye(this,t,[].concat(s)),_b(r,"lastBoundingBox",{width:-1,height:-1}),r}return Tye(t,e),Eye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>XO||Math.abs(s.height-this.lastBoundingBox.height)>XO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return mi(mi({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=mi(mi({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return R.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},Dye(i,mi(mi({},this.props),{},{payload:bU(d,u,Iye)})))}}],[{key:"getWithHeight",value:function(n,s){var i=mi(mi({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&_e(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(v.PureComponent);_b(Fu,"displayName","Legend");_b(Fu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var JO=_p,Lye=Ek,Fye=es,ZO=JO?JO.isConcatSpreadable:void 0;function Uye(e){return Fye(e)||Lye(e)||!!(ZO&&e&&e[ZO])}var qye=Uye,Bye=lU,zye=qye;function _U(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=zye),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?_U(l,t-1,r,n,s):Bye(s,l):n||(s[s.length]=l)}return s}var SU=_U;function Wye(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Vye=Wye,Kye=Vye,Hye=Kye(),Gye=Hye,Yye=Gye,Qye=jb;function Xye(e,t){return e&&Yye(e,t,Qye)}var NU=Xye,Jye=Np;function Zye(e,t){return function(r,n){if(r==null)return r;if(!Jye(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var exe=Zye,txe=NU,rxe=exe,nxe=rxe(txe),Tk=nxe,sxe=Tk,axe=Np;function ixe(e,t){var r=-1,n=axe(e)?Array(e.length):[];return sxe(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var kU=ixe;function oxe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var lxe=oxe,eA=df;function cxe(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=eA(e),o=t!==void 0,l=t===null,c=t===t,u=eA(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var uxe=cxe,dxe=uxe;function fxe(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=dxe(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var hxe=fxe,u0=gk,mxe=vk,pxe=xl,gxe=kU,vxe=lxe,yxe=dU,xxe=hxe,bxe=xf,wxe=es;function jxe(e,t,r){t.length?t=u0(t,function(i){return wxe(i)?function(o){return mxe(o,i.length===1?i[0]:i)}:i}):t=[bxe];var n=-1;t=u0(t,yxe(pxe));var s=gxe(e,function(i,o,l){var c=u0(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return vxe(s,function(i,o){return xxe(i,o,r)})}var _xe=jxe;function Sxe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Nxe=Sxe,kxe=Nxe,tA=Math.max;function Cxe(e,t,r){return t=tA(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=tA(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),kxe(e,this,l)}}var Exe=Cxe;function Pxe(e){return function(){return e}}var Oxe=Pxe,Axe=Ic,Txe=function(){try{var e=Axe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),CU=Txe,Rxe=Oxe,rA=CU,Mxe=xf,$xe=rA?function(e,t){return rA(e,"toString",{configurable:!0,enumerable:!1,value:Rxe(t),writable:!0})}:Mxe,Ixe=$xe,Dxe=800,Lxe=16,Fxe=Date.now;function Uxe(e){var t=0,r=0;return function(){var n=Fxe(),s=Lxe-(n-r);if(r=n,s>0){if(++t>=Dxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qxe=Uxe,Bxe=Ixe,zxe=qxe,Wxe=zxe(Bxe),Vxe=Wxe,Kxe=xf,Hxe=Exe,Gxe=Vxe;function Yxe(e,t){return Gxe(Hxe(e,t,Kxe),e+"")}var Qxe=Yxe,Xxe=fk,Jxe=Np,Zxe=Pk,ebe=yl;function tbe(e,t,r){if(!ebe(r))return!1;var n=typeof t;return(n=="number"?Jxe(r)&&Zxe(t,r.length):n=="string"&&t in r)?Xxe(r[t],e):!1}var Sb=tbe,rbe=SU,nbe=_xe,sbe=Qxe,nA=Sb,abe=sbe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&nA(e,t[0],t[1])?t=[]:r>2&&nA(t[0],t[1],t[2])&&(t=[t[0]]),nbe(e,rbe(t,1),[])}),ibe=abe;const Rk=zt(ibe);function mm(e){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(e)}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e1.apply(this,arguments)}function obe(e,t){return dbe(e)||ube(e,t)||cbe(e,t)||lbe()}function lbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cbe(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ube(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dbe(e){if(Array.isArray(e))return e}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function d0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){fbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fbe(e,t,r){return t=hbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hbe(e){var t=mbe(e,"string");return mm(t)=="symbol"?t:t+""}function mbe(e,t){if(mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pbe(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var gbe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,y=b===void 0?!1:b,w=function(){if(d&&d.length){var E={padding:0,margin:0},L=(h?Rk(d,h):d).map(function(M,K){if(M.type==="none")return null;var A=d0({display:"block",paddingTop:4,paddingBottom:4,color:M.color||"#000"},l),V=M.formatter||f||pbe,T=M.value,$=M.name,I=T,ee=$;if(V&&I!=null&&ee!=null){var F=V(T,$,M,K,d);if(Array.isArray(F)){var ie=obe(F,2);I=ie[0],ee=ie[1]}else I=F}return R.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:A},Hr(ee)?R.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Hr(ee)?R.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,R.createElement("span",{className:"recharts-tooltip-item-value"},I),R.createElement("span",{className:"recharts-tooltip-item-unit"},M.unit||""))});return R.createElement("ul",{className:"recharts-tooltip-item-list",style:E},L)}return null},_=d0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=d0({margin:0},u),S=!yt(p),N=S?p:"",k=jt("recharts-default-tooltip",m),C=jt("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(N=x(p,d));var O=y?{role:"status","aria-live":"assertive"}:{};return R.createElement("div",e1({className:k,style:_},O),R.createElement("p",{className:C,style:j},R.isValidElement(N)?N:"".concat(N)),w())};function pm(e){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pm(e)}function bg(e,t,r){return t=vbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vbe(e){var t=ybe(e,"string");return pm(t)=="symbol"?t:t+""}function ybe(e,t){if(pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wf="recharts-tooltip-wrapper",xbe={visibility:"hidden"};function bbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return jt(Wf,bg(bg(bg(bg({},"".concat(Wf,"-right"),_e(r)&&t&&_e(t.x)&&r>=t.x),"".concat(Wf,"-left"),_e(r)&&t&&_e(t.x)&&r<t.x),"".concat(Wf,"-bottom"),_e(n)&&t&&_e(t.y)&&n>=t.y),"".concat(Wf,"-top"),_e(n)&&t&&_e(t.y)&&n<t.y))}function iA(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&_e(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function wbe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function jbe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=iA({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=iA({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=wbe({translateX:d,translateY:f,useTranslate3d:l})):u=xbe,{cssProperties:u,cssClasses:bbe({translateX:d,translateY:f,coordinate:r})}}function Nd(e){"@babel/helpers - typeof";return Nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nd(e)}function oA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oA(Object(r),!0).forEach(function(n){r1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PU(n.key),n)}}function Nbe(e,t,r){return t&&Sbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kbe(e,t,r){return t=fy(t),Cbe(e,EU()?Reflect.construct(t,r||[],fy(e).constructor):t.apply(e,r))}function Cbe(e,t){if(t&&(Nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ebe(e)}function Ebe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EU=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fy(e)}function Pbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t1(e,t)}function t1(e,t){return t1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},t1(e,t)}function r1(e,t,r){return t=PU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PU(e){var t=Obe(e,"string");return Nd(t)=="symbol"?t:t+""}function Obe(e,t){if(Nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cA=1,Abe=function(e){function t(){var r;_be(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=kbe(this,t,[].concat(s)),r1(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),r1(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Pbe(t,e),Nbe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>cA||Math.abs(n.height-this.state.lastBoundingBox.height)>cA)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,y=s.wrapperStyle,w=jbe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=lA(lA({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},y);return R.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(v.PureComponent),Tbe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},bf={isSsr:Tbe()};function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function uA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uA(Object(r),!0).forEach(function(n){Mk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AU(n.key),n)}}function $be(e,t,r){return t&&Mbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ibe(e,t,r){return t=hy(t),Dbe(e,OU()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function Dbe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lbe(e)}function Lbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OU=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function Fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n1(e,t)}function n1(e,t){return n1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},n1(e,t)}function Mk(e,t,r){return t=AU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AU(e){var t=Ube(e,"string");return kd(t)=="symbol"?t:t+""}function Ube(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function qbe(e){return e.dataKey}function Bbe(e,t){return R.isValidElement(e)?R.cloneElement(e,t):typeof e=="function"?R.createElement(e,t):R.createElement(gbe,t)}var Es=function(e){function t(){return Rbe(this,t),Ibe(this,t,arguments)}return Fbe(t,e),$be(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,x=s.position,b=s.reverseDirection,y=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=g??[];f&&j.length&&(j=bU(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,qbe));var S=j.length>0;return R.createElement(Abe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:y,viewBox:w,wrapperStyle:_},Bbe(u,dA(dA({},this.props),{},{payload:j})))}}])}(v.PureComponent);Mk(Es,"displayName","Tooltip");Mk(Es,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!bf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var zbe=ui,Wbe=function(){return zbe.Date.now()},Vbe=Wbe,Kbe=/\s/;function Hbe(e){for(var t=e.length;t--&&Kbe.test(e.charAt(t)););return t}var Gbe=Hbe,Ybe=Gbe,Qbe=/^\s+/;function Xbe(e){return e&&e.slice(0,Ybe(e)+1).replace(Qbe,"")}var Jbe=Xbe,Zbe=Jbe,fA=yl,ewe=df,hA=NaN,twe=/^[-+]0x[0-9a-f]+$/i,rwe=/^0b[01]+$/i,nwe=/^0o[0-7]+$/i,swe=parseInt;function awe(e){if(typeof e=="number")return e;if(ewe(e))return hA;if(fA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Zbe(e);var r=rwe.test(e);return r||nwe.test(e)?swe(e.slice(2),r?2:8):twe.test(e)?hA:+e}var TU=awe,iwe=yl,f0=Vbe,mA=TU,owe="Expected a function",lwe=Math.max,cwe=Math.min;function uwe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(owe);t=mA(t)||0,iwe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?lwe(mA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?cwe(C,i-k):C}function x(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var S=f0();if(x(S))return y(S);l=setTimeout(b,p(S))}function y(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:y(f0())}function j(){var S=f0(),N=x(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var dwe=uwe,fwe=dwe,hwe=yl,mwe="Expected a function";function pwe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(mwe);return hwe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),fwe(e,t,{leading:n,maxWait:t,trailing:s})}var gwe=pwe;const RU=zt(gwe);function gm(e){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gm(e)}function pA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(r),!0).forEach(function(n){vwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vwe(e,t,r){return t=ywe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ywe(e){var t=xwe(e,"string");return gm(t)=="symbol"?t:t+""}function xwe(e,t){if(gm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bwe(e,t){return Swe(e)||_we(e,t)||jwe(e,t)||wwe()}function wwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jwe(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _we(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Swe(e){if(Array.isArray(e))return e}var s1=v.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,y=e.onResize,w=e.style,_=w===void 0?{}:w,j=v.useRef(null),S=v.useRef();S.current=y,v.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=v.useState({containerWidth:s.width,containerHeight:s.height}),k=bwe(N,2),C=k[0],O=k[1],D=v.useCallback(function(L,M){O(function(K){var A=Math.round(L),V=Math.round(M);return K.containerWidth===A&&K.containerHeight===V?K:{containerWidth:A,containerHeight:V}})},[]);v.useEffect(function(){var L=function($){var I,ee=$[0].contentRect,F=ee.width,ie=ee.height;D(F,ie),(I=S.current)===null||I===void 0||I.call(S,F,ie)};p>0&&(L=RU(L,p,{trailing:!0,leading:!1}));var M=new ResizeObserver(L),K=j.current.getBoundingClientRect(),A=K.width,V=K.height;return D(A,V),M.observe(j.current),function(){M.disconnect()}},[D,p]);var E=v.useMemo(function(){var L=C.containerWidth,M=C.containerHeight;if(L<0||M<0)return null;$i(Wl(o)||Wl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),$i(!r||r>0,"The aspect(%s) must be greater than zero.",r);var K=Wl(o)?L:o,A=Wl(c)?M:c;r&&r>0&&(K?A=K/r:A&&(K=A*r),h&&A>h&&(A=h)),$i(K>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,A,o,c,d,f,r);var V=!Array.isArray(m)&&Mi(m.type).endsWith("Chart");return R.Children.map(m,function(T){return R.isValidElement(T)?v.cloneElement(T,wg({width:K,height:A},V?{style:wg({height:"100%",width:"100%",maxHeight:A,maxWidth:K},T.props.style)}:{})):T})},[r,m,c,h,f,d,C,o]);return R.createElement("div",{id:x?"".concat(x):void 0,className:jt("recharts-responsive-container",b),style:wg(wg({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},E)}),MU=function(t){return null};MU.displayName="Cell";function vm(e){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vm(e)}function vA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function a1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(r),!0).forEach(function(n){Nwe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nwe(e,t,r){return t=kwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kwe(e){var t=Cwe(e,"string");return vm(t)=="symbol"?t:t+""}function Cwe(e,t){if(vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var su={widthCache:{},cacheCount:0},Ewe=2e3,Pwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},yA="recharts_measurement_span";function Owe(e){var t=a1({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Eh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||bf.isSsr)return{width:0,height:0};var n=Owe(r),s=JSON.stringify({text:t,copyStyle:n});if(su.widthCache[s])return su.widthCache[s];try{var i=document.getElementById(yA);i||(i=document.createElement("span"),i.setAttribute("id",yA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=a1(a1({},Pwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return su.widthCache[s]=c,++su.cacheCount>Ewe&&(su.cacheCount=0,su.widthCache={}),c}catch{return{width:0,height:0}}},Awe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function my(e,t){return $we(e)||Mwe(e,t)||Rwe(e,t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(e,t){if(e){if(typeof e=="string")return xA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xA(e,t)}}function xA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $we(e){if(Array.isArray(e))return e}function Iwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lwe(n.key),n)}}function Dwe(e,t,r){return t&&bA(e.prototype,t),r&&bA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lwe(e){var t=Fwe(e,"string");return ym(t)=="symbol"?t:t+""}function Fwe(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var wA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qwe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$U={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Bwe=Object.keys($U),Nu="NaN";function zwe(e,t){return e*$U[t]}var jg=function(){function e(t,r){Iwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!Uwe.test(r)&&(this.num=NaN,this.unit=""),Bwe.includes(r)&&(this.num=zwe(t,r),this.unit="px")}return Dwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=qwe.exec(r))!==null&&n!==void 0?n:[],i=my(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function IU(e){if(e.includes(Nu))return Nu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=wA.exec(t))!==null&&r!==void 0?r:[],s=my(n,4),i=s[1],o=s[2],l=s[3],c=jg.parse(i??""),u=jg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Nu;t=t.replace(wA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=jA.exec(t))!==null&&f!==void 0?f:[],m=my(h,4),g=m[1],p=m[2],x=m[3],b=jg.parse(g??""),y=jg.parse(x??""),w=p==="+"?b.add(y):b.subtract(y);if(w.isNaN())return Nu;t=t.replace(jA,w.toString())}return t}var _A=/\(([^()]*)\)/;function Wwe(e){for(var t=e;t.includes("(");){var r=_A.exec(t),n=my(r,2),s=n[1];t=t.replace(_A,IU(s))}return t}function Vwe(e){var t=e.replace(/\s+/g,"");return t=Wwe(t),t=IU(t),t}function Kwe(e){try{return Vwe(e)}catch{return Nu}}function h0(e){var t=Kwe(e.slice(5,-1));return t===Nu?"":t}var Hwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Gwe=["dx","dy","angle","className","breakAll"];function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}function SA(e,t){if(e==null)return{};var r=Ywe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ywe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NA(e,t){return Zwe(e)||Jwe(e,t)||Xwe(e,t)||Qwe()}function Qwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xwe(e,t){if(e){if(typeof e=="string")return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}}function kA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Zwe(e){if(Array.isArray(e))return e}var DU=/[ \f\n\r\t\v\u2028\u2029]+/,LU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];yt(r)||(n?i=r.toString().split(""):i=r.toString().split(DU));var o=i.map(function(c){return{word:c,width:Eh(c,s).width}}),l=n?0:Eh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},e0e=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=_e(o),f=l,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(A,V){var T=V.word,$=V.width,I=A[A.length-1];if(I&&(s==null||i||I.width+$+n<Number(s)))I.words.push(T),I.width+=$+n;else{var ee={words:[T],width:$};A.push(ee)}return A},[])},m=h(r),g=function(K){return K.reduce(function(A,V){return A.width>V.width?A:V})};if(!d)return m;for(var p="",x=function(K){var A=f.slice(0,K),V=LU({breakAll:u,style:c,children:A+p}).wordsWithComputedWidth,T=h(V),$=T.length>o||g(T).width>Number(s);return[$,T]},b=0,y=f.length-1,w=0,_;b<=y&&w<=f.length-1;){var j=Math.floor((b+y)/2),S=j-1,N=x(S),k=NA(N,2),C=k[0],O=k[1],D=x(j),E=NA(D,1),L=E[0];if(!C&&!L&&(b=j+1),C&&L&&(y=j-1),!C&&L){_=O;break}w++}return _||m},CA=function(t){var r=yt(t)?[]:t.toString().split(DU);return[{words:r}]},t0e=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!bf.isSsr){var c,u,d=LU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return CA(s);return e0e({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return CA(s)},EA="#808080",py=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?EA:x,y=SA(t,Hwe),w=v.useMemo(function(){return t0e({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:f,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,f,y.style,y.width]),_=y.dx,j=y.dy,S=y.angle,N=y.className,k=y.breakAll,C=SA(y,Gwe);if(!Hr(n)||!Hr(i))return null;var O=n+(_e(_)?_:0),D=i+(_e(j)?j:0),E;switch(p){case"start":E=h0("calc(".concat(u,")"));break;case"middle":E=h0("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=h0("calc(".concat(w.length-1," * -").concat(l,")"));break}var L=[];if(f){var M=w[0].width,K=y.width;L.push("scale(".concat((_e(K)?K/M:1)/M,")"))}return S&&L.push("rotate(".concat(S,", ").concat(O,", ").concat(D,")")),L.length&&(C.transform=L.join(" ")),R.createElement("text",i1({},pt(C,!0),{x:O,y:D,className:jt("recharts-text",N),textAnchor:m,fill:b.includes("url")?EA:b}),w.map(function(A,V){var T=A.words.join(k?"":" ");return R.createElement("tspan",{x:O,dy:V===0?E:l,key:"".concat(T,"-").concat(V)},T)}))};function nl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function r0e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $k(e){let t,r,n;e.length!==2?(t=nl,r=(l,c)=>nl(e(l),c),n=(l,c)=>e(l)-c):(t=e===nl||e===r0e?e:n0e,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function n0e(){return 0}function FU(e){return e===null?NaN:+e}function*s0e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const a0e=$k(nl),kp=a0e.right;$k(FU).center;class PA extends Map{constructor(t,r=l0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(OA(this,t))}has(t){return super.has(OA(this,t))}set(t,r){return super.set(i0e(this,t),r)}delete(t){return super.delete(o0e(this,t))}}function OA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function i0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function o0e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function l0e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function c0e(e=nl){if(e===nl)return UU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function UU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const u0e=Math.sqrt(50),d0e=Math.sqrt(10),f0e=Math.sqrt(2);function gy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=u0e?10:i>=d0e?5:i>=f0e?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?gy(e,t,r*2):[l,c,u]}function o1(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?gy(t,e,r):gy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function l1(e,t,r){return t=+t,e=+e,r=+r,gy(e,t,r)[2]}function c1(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?l1(t,e,r):l1(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function AA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function qU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?UU:c0e(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));qU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Vf(e,r,t),s(e[n],i)>0&&Vf(e,r,n);o<l;){for(Vf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Vf(e,r,l):(++l,Vf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Vf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function h0e(e,t,r){if(e=Float64Array.from(s0e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return TA(e);if(t>=1)return AA(e);var n,s=(n-1)*t,i=Math.floor(s),o=AA(qU(e,i).subarray(0,i+1)),l=TA(e.subarray(i+1));return o+(l-o)*(s-i)}}function m0e(e,t,r=FU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function p0e(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Gs(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function io(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const u1=Symbol("implicit");function Ik(){var e=new PA,t=[],r=[],n=u1;function s(i){let o=e.get(i);if(o===void 0){if(n!==u1)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new PA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Ik(t,r).unknown(n)},Gs.apply(s,arguments),s}function xm(){var e=Ik().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=p0e(h).map(function(b){return g+i*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return xm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gs.apply(f(),arguments)}function BU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return BU(t())},e}function Ph(){return BU(xm.apply(null,arguments).paddingInner(1))}function Dk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function zU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Cp(){}var bm=.7,vy=1/bm,Uu="\\s*([+-]?\\d+)\\s*",wm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ei="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",g0e=/^#([0-9a-f]{3,8})$/,v0e=new RegExp(`^rgb\\(${Uu},${Uu},${Uu}\\)$`),y0e=new RegExp(`^rgb\\(${ei},${ei},${ei}\\)$`),x0e=new RegExp(`^rgba\\(${Uu},${Uu},${Uu},${wm}\\)$`),b0e=new RegExp(`^rgba\\(${ei},${ei},${ei},${wm}\\)$`),w0e=new RegExp(`^hsl\\(${wm},${ei},${ei}\\)$`),j0e=new RegExp(`^hsla\\(${wm},${ei},${ei},${wm}\\)$`),RA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Dk(Cp,jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MA,formatHex:MA,formatHex8:_0e,formatHsl:S0e,formatRgb:$A,toString:$A});function MA(){return this.rgb().formatHex()}function _0e(){return this.rgb().formatHex8()}function S0e(){return WU(this).formatHsl()}function $A(){return this.rgb().formatRgb()}function jm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=g0e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IA(t):r===3?new Gn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_g(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_g(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=v0e.exec(e))?new Gn(t[1],t[2],t[3],1):(t=y0e.exec(e))?new Gn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=x0e.exec(e))?_g(t[1],t[2],t[3],t[4]):(t=b0e.exec(e))?_g(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=w0e.exec(e))?FA(t[1],t[2]/100,t[3]/100,1):(t=j0e.exec(e))?FA(t[1],t[2]/100,t[3]/100,t[4]):RA.hasOwnProperty(e)?IA(RA[e]):e==="transparent"?new Gn(NaN,NaN,NaN,0):null}function IA(e){return new Gn(e>>16&255,e>>8&255,e&255,1)}function _g(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gn(e,t,r,n)}function N0e(e){return e instanceof Cp||(e=jm(e)),e?(e=e.rgb(),new Gn(e.r,e.g,e.b,e.opacity)):new Gn}function d1(e,t,r,n){return arguments.length===1?N0e(e):new Gn(e,t,r,n??1)}function Gn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Dk(Gn,d1,zU(Cp,{brighter(e){return e=e==null?vy:Math.pow(vy,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bm:Math.pow(bm,e),new Gn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gn(ic(this.r),ic(this.g),ic(this.b),yy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:DA,formatHex:DA,formatHex8:k0e,formatRgb:LA,toString:LA}));function DA(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}`}function k0e(){return`#${Vl(this.r)}${Vl(this.g)}${Vl(this.b)}${Vl((isNaN(this.opacity)?1:this.opacity)*255)}`}function LA(){const e=yy(this.opacity);return`${e===1?"rgb(":"rgba("}${ic(this.r)}, ${ic(this.g)}, ${ic(this.b)}${e===1?")":`, ${e})`}`}function yy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ic(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vl(e){return e=ic(e),(e<16?"0":"")+e.toString(16)}function FA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ga(e,t,r,n)}function WU(e){if(e instanceof ga)return new ga(e.h,e.s,e.l,e.opacity);if(e instanceof Cp||(e=jm(e)),!e)return new ga;if(e instanceof ga)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ga(o,l,c,e.opacity)}function C0e(e,t,r,n){return arguments.length===1?WU(e):new ga(e,t,r,n??1)}function ga(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Dk(ga,C0e,zU(Cp,{brighter(e){return e=e==null?vy:Math.pow(vy,e),new ga(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bm:Math.pow(bm,e),new ga(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Gn(m0(e>=240?e-240:e+120,s,n),m0(e,s,n),m0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ga(UA(this.h),Sg(this.s),Sg(this.l),yy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=yy(this.opacity);return`${e===1?"hsl(":"hsla("}${UA(this.h)}, ${Sg(this.s)*100}%, ${Sg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function UA(e){return e=(e||0)%360,e<0?e+360:e}function Sg(e){return Math.max(0,Math.min(1,e||0))}function m0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lk=e=>()=>e;function E0e(e,t){return function(r){return e+r*t}}function P0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function O0e(e){return(e=+e)==1?VU:function(t,r){return r-t?P0e(t,r,e):Lk(isNaN(t)?r:t)}}function VU(e,t){var r=t-e;return r?E0e(e,r):Lk(isNaN(e)?t:e)}const qA=function e(t){var r=O0e(t);function n(s,i){var o=r((s=d1(s)).r,(i=d1(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=VU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function A0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function T0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function R0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=wf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function M0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function xy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function $0e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=wf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var f1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,p0=new RegExp(f1.source,"g");function I0e(e){return function(){return e}}function D0e(e){return function(t){return e(t)+""}}function L0e(e,t){var r=f1.lastIndex=p0.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=f1.exec(e))&&(s=p0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:xy(n,s)})),r=p0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?D0e(c[0].x):I0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function wf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lk(t):(r==="number"?xy:r==="string"?(n=jm(t))?(t=n,qA):L0e:t instanceof jm?qA:t instanceof Date?M0e:T0e(t)?A0e:Array.isArray(t)?R0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$0e:xy)(e,t)}function Fk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function F0e(e,t){t===void 0&&(t=e,e=wf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function U0e(e){return function(){return e}}function by(e){return+e}var BA=[0,1];function Tn(e){return e}function h1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:U0e(isNaN(t)?NaN:.5)}function q0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function B0e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=h1(s,n),i=r(o,i)):(n=h1(n,s),i=r(i,o)),function(l){return i(n(l))}}function z0e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=h1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=kp(e,l,1,n)-1;return i[c](s[c](l))}}function Ep(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Nb(){var e=BA,t=BA,r=wf,n,s,i,o=Tn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Tn&&(o=q0e(e[0],e[h-1])),l=h>2?z0e:B0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),xy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,by),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Fk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Tn,d()):o!==Tn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function Uk(){return Nb()(Tn,Tn)}function W0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function wy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Cd(e){return e=wy(Math.abs(e)),e?e[1]:NaN}function V0e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function K0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var H0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function _m(e){if(!(t=H0e.exec(e)))throw new Error("invalid format: "+e);var t;return new qk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}_m.prototype=qk.prototype;function qk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function G0e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var jy;function Y0e(e,t){var r=wy(e,t);if(!r)return jy=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(jy=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+wy(e,Math.max(0,t+i-1))[0]}function zA(e,t){var r=wy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const WA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:W0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>zA(e*100,t),r:zA,s:Y0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VA(e){return e}var KA=Array.prototype.map,HA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Q0e(e){var t=e.grouping===void 0||e.thousands===void 0?VA:V0e(KA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?VA:K0e(KA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=_m(f);var m=f.fill,g=f.align,p=f.sign,x=f.symbol,b=f.zero,y=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):WA[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(x==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=WA[S],O=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(E){var L=N,M=k,K,A,V;if(S==="c")M=C(E)+M,E="";else{E=+E;var T=E<0||1/E<0;if(E=isNaN(E)?c:C(Math.abs(E),_),j&&(E=G0e(E)),T&&+E==0&&p!=="+"&&(T=!1),L=(T?p==="("?p:l:p==="-"||p==="("?"":p)+L,M=(S==="s"&&!isNaN(E)&&jy!==void 0?HA[8+jy/3]:"")+M+(T&&p==="("?")":""),O){for(K=-1,A=E.length;++K<A;)if(V=E.charCodeAt(K),48>V||V>57){M=(V===46?s+E.slice(K+1):E.slice(K))+M,E=E.slice(0,K);break}}}w&&!b&&(E=t(E,1/0));var $=L.length+E.length+M.length,I=$<y?new Array(y-$+1).join(m):"";switch(w&&b&&(E=t(I+E,I.length?y-M.length:1/0),I=""),g){case"<":E=L+E+M+I;break;case"=":E=L+I+E+M;break;case"^":E=I.slice(0,$=I.length>>1)+L+E+M+I.slice($);break;default:E=I+L+E+M;break}return i(E)}return D.toString=function(){return f+""},D}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Cd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=_m(f),f.type="f",f),{suffix:HA[8+m/3]});return function(x){return p(g*x)}}return{format:u,formatPrefix:d}}var Ng,Bk,KU;X0e({thousands:",",grouping:[3],currency:["$",""]});function X0e(e){return Ng=Q0e(e),Bk=Ng.format,KU=Ng.formatPrefix,Ng}function J0e(e){return Math.max(0,-Cd(Math.abs(e)))}function Z0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(t)/3)))*3-Cd(Math.abs(e)))}function eje(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cd(t)-Cd(e))+1}function HU(e,t,r,n){var s=c1(e,t,r),i;switch(n=_m(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=Z0e(s,o))&&(n.precision=i),KU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=eje(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=J0e(s))&&(n.precision=i-(n.type==="%")*2);break}}return Bk(n)}function bl(e){var t=e.domain;return e.ticks=function(r){var n=t();return o1(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return HU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=l1(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _y(){var e=Uk();return e.copy=function(){return Ep(e,_y())},Gs.apply(e,arguments),bl(e)}function GU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,by),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return GU(e).unknown(t)},e=arguments.length?Array.from(e,by):[0,1],bl(r)}function YU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function GA(e){return Math.log(e)}function YA(e){return Math.exp(e)}function tje(e){return-Math.log(-e)}function rje(e){return-Math.exp(-e)}function nje(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sje(e){return e===10?nje:e===Math.E?Math.exp:t=>Math.pow(e,t)}function aje(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QA(e){return(t,r)=>-e(-t,r)}function zk(e){const t=e(GA,YA),r=t.domain;let n=10,s,i;function o(){return s=aje(n),i=sje(n),r()[0]<0?(s=QA(s),i=QA(i),e(tje,rje)):e(GA,YA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=o1(u,d,x))}else b=o1(h,m,Math.min(m-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=_m(c)).precision==null&&(c.trim=!0),c=Bk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(YU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function QU(){const e=zk(Nb()).domain([1,10]);return e.copy=()=>Ep(e,QU()).base(e.base()),Gs.apply(e,arguments),e}function XA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wk(e){var t=1,r=e(XA(t),JA(t));return r.constant=function(n){return arguments.length?e(XA(t=+n),JA(t)):t},bl(r)}function XU(){var e=Wk(Nb());return e.copy=function(){return Ep(e,XU()).constant(e.constant())},Gs.apply(e,arguments)}function ZA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function ije(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function oje(e){return e<0?-e*e:e*e}function Vk(e){var t=e(Tn,Tn),r=1;function n(){return r===1?e(Tn,Tn):r===.5?e(ije,oje):e(ZA(r),ZA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},bl(t)}function Kk(){var e=Vk(Nb());return e.copy=function(){return Ep(e,Kk()).exponent(e.exponent())},Gs.apply(e,arguments),e}function lje(){return Kk.apply(null,arguments).exponent(.5)}function eT(e){return Math.sign(e)*e*e}function cje(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function JU(){var e=Uk(),t=[0,1],r=!1,n;function s(i){var o=cje(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(eT(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,by)).map(eT)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return JU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gs.apply(s,arguments),bl(s)}function ZU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=m0e(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[kp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(nl),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return ZU().domain(e).range(t).unknown(n)},Gs.apply(i,arguments)}function eq(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[kp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return eq().domain([e,t]).range(s).unknown(i)},Gs.apply(bl(o),arguments)}function tq(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[kp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return tq().domain(e).range(t).unknown(r)},Gs.apply(s,arguments)}const g0=new Date,v0=new Date;function Yr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Yr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(g0.setTime(+i),v0.setTime(+o),e(g0),e(v0),Math.floor(r(g0,v0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Sy=Yr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Sy.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Yr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Sy);Sy.range;const Ci=1e3,Ms=Ci*60,Ei=Ms*60,Ki=Ei*24,Hk=Ki*7,tT=Ki*30,y0=Ki*365,Kl=Yr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ci)},(e,t)=>(t-e)/Ci,e=>e.getUTCSeconds());Kl.range;const Gk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getMinutes());Gk.range;const Yk=Yr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCMinutes());Yk.range;const Qk=Yr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ci-e.getMinutes()*Ms)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getHours());Qk.range;const Xk=Yr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ei)},(e,t)=>(t-e)/Ei,e=>e.getUTCHours());Xk.range;const Pp=Yr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/Ki,e=>e.getDate()-1);Pp.range;const kb=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>e.getUTCDate()-1);kb.range;const rq=Yr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ki,e=>Math.floor(e/Ki));rq.range;function Dc(e){return Yr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/Hk)}const Cb=Dc(0),Ny=Dc(1),uje=Dc(2),dje=Dc(3),Ed=Dc(4),fje=Dc(5),hje=Dc(6);Cb.range;Ny.range;uje.range;dje.range;Ed.range;fje.range;hje.range;function Lc(e){return Yr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Hk)}const Eb=Lc(0),ky=Lc(1),mje=Lc(2),pje=Lc(3),Pd=Lc(4),gje=Lc(5),vje=Lc(6);Eb.range;ky.range;mje.range;pje.range;Pd.range;gje.range;vje.range;const Jk=Yr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jk.range;const Zk=Yr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zk.range;const Hi=Yr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Hi.range;const Gi=Yr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Yr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Gi.range;function nq(e,t,r,n,s,i){const o=[[Kl,1,Ci],[Kl,5,5*Ci],[Kl,15,15*Ci],[Kl,30,30*Ci],[i,1,Ms],[i,5,5*Ms],[i,15,15*Ms],[i,30,30*Ms],[s,1,Ei],[s,3,3*Ei],[s,6,6*Ei],[s,12,12*Ei],[n,1,Ki],[n,2,2*Ki],[r,1,Hk],[t,1,tT],[t,3,3*tT],[e,1,y0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=$k(([,,x])=>x).right(o,h);if(m===o.length)return e.every(c1(u/y0,d/y0,f));if(m===0)return Sy.every(Math.max(c1(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[yje,xje]=nq(Gi,Zk,Eb,rq,Xk,Yk),[bje,wje]=nq(Hi,Jk,Cb,Pp,Qk,Gk);function x0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function b0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Kf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function jje(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=Hf(s),d=Gf(s),f=Hf(i),h=Gf(i),m=Hf(o),g=Gf(o),p=Hf(l),x=Gf(l),b=Hf(c),y=Gf(c),w={a:V,A:T,b:$,B:I,c:null,d:oT,e:oT,f:Vje,g:t_e,G:n_e,H:Bje,I:zje,j:Wje,L:sq,m:Kje,M:Hje,p:ee,q:F,Q:uT,s:dT,S:Gje,u:Yje,U:Qje,V:Xje,w:Jje,W:Zje,x:null,X:null,y:e_e,Y:r_e,Z:s_e,"%":cT},_={a:ie,A:ye,b:ze,B:Ke,c:null,d:lT,e:lT,f:l_e,g:y_e,G:b_e,H:a_e,I:i_e,j:o_e,L:iq,m:c_e,M:u_e,p:me,q:Se,Q:uT,s:dT,S:d_e,u:f_e,U:h_e,V:m_e,w:p_e,W:g_e,x:null,X:null,y:v_e,Y:x_e,Z:w_e,"%":cT},j={a:O,A:D,b:E,B:L,c:M,d:aT,e:aT,f:Lje,g:sT,G:nT,H:iT,I:iT,j:Mje,L:Dje,m:Rje,M:$je,p:C,q:Tje,Q:Uje,s:qje,S:Ije,u:Cje,U:Eje,V:Pje,w:kje,W:Oje,x:K,X:A,y:sT,Y:nT,Z:Aje,"%":Fje};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(re,pe){return function(Y){var Q=[],Xe=-1,He=0,xt=re.length,ft,Wt,Cr;for(Y instanceof Date||(Y=new Date(+Y));++Xe<xt;)re.charCodeAt(Xe)===37&&(Q.push(re.slice(He,Xe)),(Wt=rT[ft=re.charAt(++Xe)])!=null?ft=re.charAt(++Xe):Wt=ft==="e"?" ":"0",(Cr=pe[ft])&&(ft=Cr(Y,Wt)),Q.push(ft),He=Xe+1);return Q.push(re.slice(He,Xe)),Q.join("")}}function N(re,pe){return function(Y){var Q=Kf(1900,void 0,1),Xe=k(Q,re,Y+="",0),He,xt;if(Xe!=Y.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(pe&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(He=b0(Kf(Q.y,0,1)),xt=He.getUTCDay(),He=xt>4||xt===0?ky.ceil(He):ky(He),He=kb.offset(He,(Q.V-1)*7),Q.y=He.getUTCFullYear(),Q.m=He.getUTCMonth(),Q.d=He.getUTCDate()+(Q.w+6)%7):(He=x0(Kf(Q.y,0,1)),xt=He.getDay(),He=xt>4||xt===0?Ny.ceil(He):Ny(He),He=Pp.offset(He,(Q.V-1)*7),Q.y=He.getFullYear(),Q.m=He.getMonth(),Q.d=He.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),xt="Z"in Q?b0(Kf(Q.y,0,1)).getUTCDay():x0(Kf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(xt+5)%7:Q.w+Q.U*7-(xt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,b0(Q)):x0(Q)}}function k(re,pe,Y,Q){for(var Xe=0,He=pe.length,xt=Y.length,ft,Wt;Xe<He;){if(Q>=xt)return-1;if(ft=pe.charCodeAt(Xe++),ft===37){if(ft=pe.charAt(Xe++),Wt=j[ft in rT?pe.charAt(Xe++):ft],!Wt||(Q=Wt(re,Y,Q))<0)return-1}else if(ft!=Y.charCodeAt(Q++))return-1}return Q}function C(re,pe,Y){var Q=u.exec(pe.slice(Y));return Q?(re.p=d.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function O(re,pe,Y){var Q=m.exec(pe.slice(Y));return Q?(re.w=g.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function D(re,pe,Y){var Q=f.exec(pe.slice(Y));return Q?(re.w=h.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function E(re,pe,Y){var Q=b.exec(pe.slice(Y));return Q?(re.m=y.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function L(re,pe,Y){var Q=p.exec(pe.slice(Y));return Q?(re.m=x.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function M(re,pe,Y){return k(re,t,pe,Y)}function K(re,pe,Y){return k(re,r,pe,Y)}function A(re,pe,Y){return k(re,n,pe,Y)}function V(re){return o[re.getDay()]}function T(re){return i[re.getDay()]}function $(re){return c[re.getMonth()]}function I(re){return l[re.getMonth()]}function ee(re){return s[+(re.getHours()>=12)]}function F(re){return 1+~~(re.getMonth()/3)}function ie(re){return o[re.getUTCDay()]}function ye(re){return i[re.getUTCDay()]}function ze(re){return c[re.getUTCMonth()]}function Ke(re){return l[re.getUTCMonth()]}function me(re){return s[+(re.getUTCHours()>=12)]}function Se(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var pe=S(re+="",w);return pe.toString=function(){return re},pe},parse:function(re){var pe=N(re+="",!1);return pe.toString=function(){return re},pe},utcFormat:function(re){var pe=S(re+="",_);return pe.toString=function(){return re},pe},utcParse:function(re){var pe=N(re+="",!0);return pe.toString=function(){return re},pe}}}var rT={"-":"",_:" ",0:"0"},rn=/^\s*\d+/,_je=/^%/,Sje=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function Nje(e){return e.replace(Sje,"\\$&")}function Hf(e){return new RegExp("^(?:"+e.map(Nje).join("|")+")","i")}function Gf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function kje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Cje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Eje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Pje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Oje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function nT(e,t,r){var n=rn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Aje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Tje(e,t,r){var n=rn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Rje(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Mje(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function iT(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function $je(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Ije(e,t,r){var n=rn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Dje(e,t,r){var n=rn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function Lje(e,t,r){var n=rn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Fje(e,t,r){var n=_je.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Uje(e,t,r){var n=rn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qje(e,t,r){var n=rn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oT(e,t){return Pt(e.getDate(),t,2)}function Bje(e,t){return Pt(e.getHours(),t,2)}function zje(e,t){return Pt(e.getHours()%12||12,t,2)}function Wje(e,t){return Pt(1+Pp.count(Hi(e),e),t,3)}function sq(e,t){return Pt(e.getMilliseconds(),t,3)}function Vje(e,t){return sq(e,t)+"000"}function Kje(e,t){return Pt(e.getMonth()+1,t,2)}function Hje(e,t){return Pt(e.getMinutes(),t,2)}function Gje(e,t){return Pt(e.getSeconds(),t,2)}function Yje(e){var t=e.getDay();return t===0?7:t}function Qje(e,t){return Pt(Cb.count(Hi(e)-1,e),t,2)}function aq(e){var t=e.getDay();return t>=4||t===0?Ed(e):Ed.ceil(e)}function Xje(e,t){return e=aq(e),Pt(Ed.count(Hi(e),e)+(Hi(e).getDay()===4),t,2)}function Jje(e){return e.getDay()}function Zje(e,t){return Pt(Ny.count(Hi(e)-1,e),t,2)}function e_e(e,t){return Pt(e.getFullYear()%100,t,2)}function t_e(e,t){return e=aq(e),Pt(e.getFullYear()%100,t,2)}function r_e(e,t){return Pt(e.getFullYear()%1e4,t,4)}function n_e(e,t){var r=e.getDay();return e=r>=4||r===0?Ed(e):Ed.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function s_e(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function lT(e,t){return Pt(e.getUTCDate(),t,2)}function a_e(e,t){return Pt(e.getUTCHours(),t,2)}function i_e(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function o_e(e,t){return Pt(1+kb.count(Gi(e),e),t,3)}function iq(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function l_e(e,t){return iq(e,t)+"000"}function c_e(e,t){return Pt(e.getUTCMonth()+1,t,2)}function u_e(e,t){return Pt(e.getUTCMinutes(),t,2)}function d_e(e,t){return Pt(e.getUTCSeconds(),t,2)}function f_e(e){var t=e.getUTCDay();return t===0?7:t}function h_e(e,t){return Pt(Eb.count(Gi(e)-1,e),t,2)}function oq(e){var t=e.getUTCDay();return t>=4||t===0?Pd(e):Pd.ceil(e)}function m_e(e,t){return e=oq(e),Pt(Pd.count(Gi(e),e)+(Gi(e).getUTCDay()===4),t,2)}function p_e(e){return e.getUTCDay()}function g_e(e,t){return Pt(ky.count(Gi(e)-1,e),t,2)}function v_e(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function y_e(e,t){return e=oq(e),Pt(e.getUTCFullYear()%100,t,2)}function x_e(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function b_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Pd(e):Pd.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function w_e(){return"+0000"}function cT(){return"%"}function uT(e){return+e}function dT(e){return Math.floor(+e/1e3)}var au,lq,cq;j_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function j_e(e){return au=jje(e),lq=au.format,au.parse,cq=au.utcFormat,au.utcParse,au}function __e(e){return new Date(e)}function S_e(e){return e instanceof Date?+e:+new Date(+e)}function eC(e,t,r,n,s,i,o,l,c,u){var d=Uk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?x:n(S)<S?s(S)<S?b:y:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,S_e)):h().map(__e)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(YU(N,S)):d},d.copy=function(){return Ep(d,eC(e,t,r,n,s,i,o,l,c,u))},d}function N_e(){return Gs.apply(eC(bje,wje,Hi,Jk,Cb,Pp,Qk,Gk,Kl,lq).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k_e(){return Gs.apply(eC(yje,xje,Gi,Zk,Eb,kb,Xk,Yk,Kl,cq).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Pb(){var e=0,t=1,r,n,s,i,o=Tn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(wf),u.rangeRound=d(Fk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function wl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uq(){var e=bl(Pb()(Tn));return e.copy=function(){return wl(e,uq())},io.apply(e,arguments)}function dq(){var e=zk(Pb()).domain([1,10]);return e.copy=function(){return wl(e,dq()).base(e.base())},io.apply(e,arguments)}function fq(){var e=Wk(Pb());return e.copy=function(){return wl(e,fq()).constant(e.constant())},io.apply(e,arguments)}function tC(){var e=Vk(Pb());return e.copy=function(){return wl(e,tC()).exponent(e.exponent())},io.apply(e,arguments)}function C_e(){return tC.apply(null,arguments).exponent(.5)}function hq(){var e=[],t=Tn;function r(n){if(n!=null&&!isNaN(n=+n))return t((kp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(nl),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>h0e(e,i/n))},r.copy=function(){return hq(t).domain(e)},io.apply(r,arguments)}function Ob(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Tn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,y,w;return arguments.length?([b,y,w]=x,u=F0e(p,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(wf),m.rangeRound=g(Fk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function mq(){var e=bl(Ob()(Tn));return e.copy=function(){return wl(e,mq())},io.apply(e,arguments)}function pq(){var e=zk(Ob()).domain([.1,1,10]);return e.copy=function(){return wl(e,pq()).base(e.base())},io.apply(e,arguments)}function gq(){var e=Wk(Ob());return e.copy=function(){return wl(e,gq()).constant(e.constant())},io.apply(e,arguments)}function rC(){var e=Vk(Ob());return e.copy=function(){return wl(e,rC()).exponent(e.exponent())},io.apply(e,arguments)}function E_e(){return rC.apply(null,arguments).exponent(.5)}const fT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xm,scaleDiverging:mq,scaleDivergingLog:pq,scaleDivergingPow:rC,scaleDivergingSqrt:E_e,scaleDivergingSymlog:gq,scaleIdentity:GU,scaleImplicit:u1,scaleLinear:_y,scaleLog:QU,scaleOrdinal:Ik,scalePoint:Ph,scalePow:Kk,scaleQuantile:ZU,scaleQuantize:eq,scaleRadial:JU,scaleSequential:uq,scaleSequentialLog:dq,scaleSequentialPow:tC,scaleSequentialQuantile:hq,scaleSequentialSqrt:C_e,scaleSequentialSymlog:fq,scaleSqrt:lje,scaleSymlog:XU,scaleThreshold:tq,scaleTime:N_e,scaleUtc:k_e,tickFormat:HU},Symbol.toStringTag,{value:"Module"}));var P_e=df;function O_e(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!P_e(o):r(o,l)))var l=o,c=i}return c}var vq=O_e;function A_e(e,t){return e>t}var T_e=A_e,R_e=vq,M_e=T_e,$_e=xf;function I_e(e){return e&&e.length?R_e(e,$_e,M_e):void 0}var D_e=I_e;const Wo=zt(D_e);function L_e(e,t){return e<t}var F_e=L_e,U_e=vq,q_e=F_e,B_e=xf;function z_e(e){return e&&e.length?U_e(e,B_e,q_e):void 0}var W_e=z_e;const Ab=zt(W_e);var V_e=gk,K_e=xl,H_e=kU,G_e=es;function Y_e(e,t){var r=G_e(e)?V_e:H_e;return r(e,K_e(t))}var Q_e=Y_e,X_e=SU,J_e=Q_e;function Z_e(e,t){return X_e(J_e(e,t),1)}var e1e=Z_e;const t1e=zt(e1e);var r1e=Ak;function n1e(e,t){return r1e(e,t)}var s1e=n1e;const Sm=zt(s1e);var jf=1e9,a1e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sC,lr=!0,zs="[DecimalError] ",oc=zs+"Invalid argument: ",nC=zs+"Exponent out of range: ",_f=Math.floor,Rl=Math.pow,i1e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,us,Xr=1e7,rr=7,yq=9007199254740991,Cy=_f(yq/rr),Le={};Le.absoluteValue=Le.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Le.comparedTo=Le.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Le.decimalPlaces=Le.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*rr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Le.dividedBy=Le.div=function(e){return Ii(this,new this.constructor(e))};Le.dividedToIntegerBy=Le.idiv=function(e){var t=this,r=t.constructor;return Ht(Ii(t,new r(e),0,1),r.precision)};Le.equals=Le.eq=function(e){return!this.cmp(e)};Le.exponent=function(){return Ir(this)};Le.greaterThan=Le.gt=function(e){return this.cmp(e)>0};Le.greaterThanOrEqualTo=Le.gte=function(e){return this.cmp(e)>=0};Le.isInteger=Le.isint=function(){return this.e>this.d.length-2};Le.isNegative=Le.isneg=function(){return this.s<0};Le.isPositive=Le.ispos=function(){return this.s>0};Le.isZero=function(){return this.s===0};Le.lessThan=Le.lt=function(e){return this.cmp(e)<0};Le.lessThanOrEqualTo=Le.lte=function(e){return this.cmp(e)<1};Le.logarithm=Le.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(us))throw Error(zs+"NaN");if(r.s<1)throw Error(zs+(r.s?"NaN":"-Infinity"));return r.eq(us)?new n(0):(lr=!1,t=Ii(Nm(r,i),Nm(e,i),i),lr=!0,Ht(t,s))};Le.minus=Le.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?wq(t,e):xq(t,(e.s=-e.s,e))};Le.modulo=Le.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(zs+"NaN");return r.s?(lr=!1,t=Ii(r,e,0,1).times(e),lr=!0,r.minus(t)):Ht(new n(r),s)};Le.naturalExponential=Le.exp=function(){return bq(this)};Le.naturalLogarithm=Le.ln=function(){return Nm(this)};Le.negated=Le.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Le.plus=Le.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?xq(t,e):wq(t,(e.s=-e.s,e))};Le.precision=Le.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(oc+e);if(t=Ir(s)+1,n=s.d.length-1,r=n*rr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Le.squareRoot=Le.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(zs+"NaN")}for(e=Ir(l),lr=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ha(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=_f((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ii(l,i,o+2)).times(.5),Ha(i.d).slice(0,o)===(t=Ha(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Ht(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return lr=!0,Ht(n,r)};Le.times=Le.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Xr|0,t=l/Xr|0;i[s]=(i[s]+t)%Xr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,lr?Ht(e,f.precision):e};Le.toDecimalPlaces=Le.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(si(e,0,jf),t===void 0?t=n.rounding:si(t,0,8),Ht(r,e+Ir(r)+1,t))};Le.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Cc(n,!0):(si(e,0,jf),t===void 0?t=s.rounding:si(t,0,8),n=Ht(new s(n),e+1,t),r=Cc(n,!0,e+1)),r};Le.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Cc(s):(si(e,0,jf),t===void 0?t=i.rounding:si(t,0,8),n=Ht(new i(s),e+Ir(s)+1,t),r=Cc(n.abs(),!1,e+Ir(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Le.toInteger=Le.toint=function(){var e=this,t=e.constructor;return Ht(new t(e),Ir(e)+1,t.rounding)};Le.toNumber=function(){return+this};Le.toPower=Le.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(us);if(l=new c(l),!l.s){if(e.s<1)throw Error(zs+"Infinity");return l}if(l.eq(us))return l;if(n=c.precision,e.eq(us))return Ht(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=yq){for(s=new c(us),t=Math.ceil(n/rr+4),lr=!1;r%2&&(s=s.times(l),mT(s.d,t)),r=_f(r/2),r!==0;)l=l.times(l),mT(l.d,t);return lr=!0,e.s<0?new c(us).div(s):Ht(s,n)}}else if(i<0)throw Error(zs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,lr=!1,s=e.times(Nm(l,n+u)),lr=!0,s=bq(s),s.s=i,s};Le.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ir(s),n=Cc(s,r<=i.toExpNeg||r>=i.toExpPos)):(si(e,1,jf),t===void 0?t=i.rounding:si(t,0,8),s=Ht(new i(s),e,t),r=Ir(s),n=Cc(s,e<=r||r<=i.toExpNeg,e)),n};Le.toSignificantDigits=Le.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(si(e,1,jf),t===void 0?t=n.rounding:si(t,0,8)),Ht(new n(r),e,t)};Le.toString=Le.valueOf=Le.val=Le.toJSON=Le[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ir(e),r=e.constructor;return Cc(e,t<=r.toExpNeg||t>=r.toExpPos)};function xq(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),lr?Ht(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/rr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Xr|0,c[i]%=Xr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,lr?Ht(t,f):t}function si(e,t,r){if(e!==~~e||e<t||e>r)throw Error(oc+e)}function Ha(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=rr-n.length,r&&(i+=No(r)),i+=n;o=e[t],n=o+"",r=rr-n.length,r&&(i+=No(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ii=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Xr|0,o=i/Xr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Xr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,x,b,y,w,_,j,S,N,k,C=n.constructor,O=n.s==s.s?1:-1,D=n.d,E=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(zs+"Division by zero");for(c=n.e-s.e,N=E.length,j=D.length,m=new C(O),g=m.d=[],u=0;E[u]==(D[u]||0);)++u;if(E[u]>(D[u]||0)&&--c,i==null?y=i=C.precision:o?y=i+(Ir(n)-Ir(s))+1:y=i,y<0)return new C(0);if(y=y/rr+2|0,u=0,N==1)for(d=0,E=E[0],y++;(u<j||d)&&y--;u++)w=d*Xr+(D[u]||0),g[u]=w/E|0,d=w%E|0;else{for(d=Xr/(E[0]+1)|0,d>1&&(E=e(E,d),D=e(D,d),N=E.length,j=D.length),_=N,p=D.slice(0,N),x=p.length;x<N;)p[x++]=0;k=E.slice(),k.unshift(0),S=E[0],E[1]>=Xr/2&&++S;do d=0,l=t(E,p,N,x),l<0?(b=p[0],N!=x&&(b=b*Xr+(p[1]||0)),d=b/S|0,d>1?(d>=Xr&&(d=Xr-1),f=e(E,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,N<h?k:E,h))):(d==0&&(l=d=1),f=E.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t(E,p,N,x),l<1&&(d++,r(p,N<x?k:E,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=D[_]||0:(p=[D[_]],x=1);while((_++<j||p[0]!==void 0)&&y--)}return g[0]||g.shift(),m.e=c,Ht(m,o?i+Ir(m)+1:i)}}();function bq(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ir(e)>16)throw Error(nC+Ir(e));if(!e.s)return new d(us);for(lr=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Rl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(us),d.precision=l;;){if(s=Ht(s.times(e),l),r=r.times(++c),o=i.plus(Ii(s,r,l)),Ha(o.d).slice(0,l)===Ha(i.d).slice(0,l)){for(;u--;)i=Ht(i.times(i),l);return d.precision=f,t==null?(lr=!0,Ht(i,f)):i}i=o}}function Ir(e){for(var t=e.e*rr,r=e.d[0];r>=10;r/=10)t++;return t}function w0(e,t,r){if(t>e.LN10.sd())throw lr=!0,r&&(e.precision=r),Error(zs+"LN10 precision limit exceeded");return Ht(new e(e.LN10),t)}function No(e){for(var t="";e--;)t+="0";return t}function Nm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(zs+(m.s?"NaN":"-Infinity"));if(m.eq(us))return new p(0);if(t==null?(lr=!1,u=x):u=t,m.eq(10))return t==null&&(lr=!0),w0(p,u);if(u+=h,p.precision=u,r=Ha(g),n=r.charAt(0),i=Ir(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ha(m.d),n=r.charAt(0),f++;i=Ir(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=w0(p,u+2,x).times(i+""),m=Nm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(lr=!0,Ht(m,x)):m;for(l=o=m=Ii(m.minus(us),m.plus(us),u),d=Ht(m.times(m),u),s=3;;){if(o=Ht(o.times(d),u),c=l.plus(Ii(o,new p(s),u)),Ha(c.d).slice(0,u)===Ha(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(w0(p,u+2,x).times(i+""))),l=Ii(l,new p(f),u),p.precision=x,t==null?(lr=!0,Ht(l,x)):l;l=c,s+=2}}function hT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=_f(r/rr),e.d=[],n=(r+1)%rr,r<0&&(n+=rr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=rr;n<s;)e.d.push(+t.slice(n,n+=rr));t=t.slice(n),n=rr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),lr&&(e.e>Cy||e.e<-Cy))throw Error(nC+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ht(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=rr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/rr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=rr,s=n-rr+o}if(r!==void 0&&(i=Rl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Rl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ir(e),f.length=1,t=t-i-1,f[0]=Rl(10,(rr-t%rr)%rr),e.e=_f(-t/rr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Rl(10,rr-n),f[d]=s>0?(u/Rl(10,o-s)%Rl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Xr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Xr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(lr&&(e.e>Cy||e.e<-Cy))throw Error(nC+Ir(e));return e}function wq(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),lr?Ht(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/rr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Xr-1;--c[i],c[s]+=Xr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,lr?Ht(t,m):t):new h(0)}function Cc(e,t,r){var n,s=Ir(e),i=Ha(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+No(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+No(-s-1)+i,r&&(n=r-o)>0&&(i+=No(n))):s>=o?(i+=No(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+No(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=No(n))),e.s<0?"-"+i:i}function mT(e,t){if(e.length>t)return e.length=t,!0}function jq(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(oc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return hT(o,i.toString())}else if(typeof i!="string")throw Error(oc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,i1e.test(i))hT(o,i);else throw Error(oc+i)}if(s.prototype=Le,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=jq,s.config=s.set=o1e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function o1e(e){if(!e||typeof e!="object")throw Error(zs+"Object expected");var t,r,n,s=["precision",1,jf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(_f(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(oc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(oc+r+": "+n);return this}var sC=jq(a1e);us=new sC(1);const qt=sC;function l1e(e){return f1e(e)||d1e(e)||u1e(e)||c1e()}function c1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u1e(e,t){if(e){if(typeof e=="string")return m1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m1(e,t)}}function d1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function f1e(e){if(Array.isArray(e))return m1(e)}function m1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h1e=function(t){return t},_q={},Sq=function(t){return t===_q},pT=function(t){return function r(){return arguments.length===0||arguments.length===1&&Sq(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},m1e=function e(t,r){return t===1?r:pT(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==_q}).length;return o>=t?r.apply(void 0,s):e(t-o,pT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return Sq(f)?c.shift():f});return r.apply(void 0,l1e(d).concat(c))}))})},Tb=function(t){return m1e(t.length,t)},p1=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},p1e=Tb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),g1e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return h1e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},g1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},Nq=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function v1e(e){var t;return e===0?t=1:t=Math.floor(new qt(e).abs().log(10).toNumber())+1,t}function y1e(e,t,r){for(var n=new qt(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var x1e=Tb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),b1e=Tb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),w1e=Tb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Rb={rangeStep:y1e,getDigitCount:v1e,interpolateNumber:x1e,uninterpolateNumber:b1e,uninterpolateTruncation:w1e};function v1(e){return S1e(e)||_1e(e)||kq(e)||j1e()}function j1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function S1e(e){if(Array.isArray(e))return y1(e)}function km(e,t){return C1e(e)||k1e(e,t)||kq(e,t)||N1e()}function N1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kq(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function k1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function C1e(e){if(Array.isArray(e))return e}function Cq(e){var t=km(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function Eq(e,t,r){if(e.lte(0))return new qt(0);var n=Rb.getDigitCount(e.toNumber()),s=new qt(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new qt(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new qt(Math.ceil(c))}function E1e(e,t,r){var n=1,s=new qt(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new qt(10).pow(Rb.getDigitCount(e)-1),s=new qt(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new qt(Math.floor(e)))}else e===0?s=new qt(Math.floor((t-1)/2)):r||(s=new qt(Math.floor(e)));var o=Math.floor((t-1)/2),l=g1e(p1e(function(c){return s.add(new qt(c-o).mul(n)).toNumber()}),p1);return l(0,t)}function Pq(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new qt(0),tickMin:new qt(0),tickMax:new qt(0)};var i=Eq(new qt(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new qt(0):(o=new qt(e).add(t).div(2),o=o.sub(new qt(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new qt(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?Pq(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new qt(l).mul(i)),tickMax:o.add(new qt(c).mul(i))})}function P1e(e){var t=km(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=Cq([r,n]),c=km(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(v1(p1(0,s-1).map(function(){return 1/0}))):[].concat(v1(p1(0,s-1).map(function(){return-1/0})),[d]);return r>n?g1(f):f}if(u===d)return E1e(u,s,i);var h=Pq(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,x=Rb.rangeStep(g,p.add(new qt(.1).mul(m)),m);return r>n?g1(x):x}function O1e(e,t){var r=km(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Cq([n,s]),l=km(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=Eq(new qt(u).sub(c).div(d-1),i,0),h=[].concat(v1(Rb.rangeStep(new qt(c),new qt(u).sub(new qt(.99).mul(f)),f)),[u]);return n>s?g1(h):h}var A1e=Nq(P1e),T1e=Nq(O1e),R1e="Invariant failed";function Ec(e,t){throw new Error(R1e)}var M1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function $1e(e,t){return F1e(e)||L1e(e,t)||D1e(e,t)||I1e()}function I1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D1e(e,t){if(e){if(typeof e=="string")return gT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gT(e,t)}}function gT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function L1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function F1e(e){if(Array.isArray(e))return e}function U1e(e,t){if(e==null)return{};var r=q1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function B1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tq(n.key),n)}}function W1e(e,t,r){return t&&z1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function V1e(e,t,r){return t=Py(t),K1e(e,Oq()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function K1e(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return H1e(e)}function H1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oq=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function G1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x1(e,t)}function x1(e,t){return x1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},x1(e,t)}function Aq(e,t,r){return t=Tq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tq(e){var t=Y1e(e,"string");return Od(t)=="symbol"?t:t+""}function Y1e(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Mb=function(e){function t(){return B1e(this,t),V1e(this,t,arguments)}return G1e(t,e),W1e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=U1e(n,M1e),m=pt(h,!1);this.props.direction==="x"&&d.type!=="number"&&Ec();var g=c.map(function(p){var x=u(p,l),b=x.x,y=x.y,w=x.value,_=x.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=$1e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,O=y+s,D=O+o,E=O-o,L=C(w-S),M=C(w+N);j.push({x1:M,y1:D,x2:M,y2:E}),j.push({x1:L,y1:O,x2:M,y2:O}),j.push({x1:L,y1:D,x2:L,y2:E})}else if(i==="horizontal"){var K=f.scale,A=b+s,V=A-o,T=A+o,$=K(w-S),I=K(w+N);j.push({x1:V,y1:I,x2:T,y2:I}),j.push({x1:A,y1:$,x2:A,y2:I}),j.push({x1:V,y1:$,x2:T,y2:$})}return R.createElement(fr,Ey({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return R.createElement("line",Ey({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return R.createElement(fr,{className:"recharts-errorBars"},g)}}])}(R.Component);Aq(Mb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Aq(Mb,"displayName","ErrorBar");function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){Q1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q1e(e,t,r){return t=X1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X1e(e){var t=J1e(e,"string");return Cm(t)=="symbol"?t:t+""}function J1e(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rq=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=is(r,Fu);if(!o)return null;var l=Fu.defaultProps,c=l!==void 0?kl(kl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?kl(kl({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:aC(f),value:p||g,payload:m}}),kl(kl(kl({},c),Fu.getWithHeight(o,s)),{},{payload:u,item:o})};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function yT(e){return rSe(e)||tSe(e)||eSe(e)||Z1e()}function Z1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eSe(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function tSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rSe(e){if(Array.isArray(e))return b1(e)}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(r),!0).forEach(function(n){qu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qu(e,t,r){return t=nSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nSe(e){var t=sSe(e,"string");return Em(t)=="symbol"?t:t+""}function sSe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xs(e,t,r){return yt(e)||yt(t)?r:Hr(t)?Us(e,t,r):ut(t)?t(e):r}function Oh(e,t,r,n){var s=t1e(e,function(l){return xs(l,t)});if(r==="number"){var i=s.filter(function(l){return _e(l)||parseFloat(l)});return i.length?[Ab(i),Wo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!yt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var aSe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(va(f-d)!==va(h-f)){var g=[];if(va(h-f)===va(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var y=Math.min(d,h),w=Math.max(d,h);if(t>(y+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},aC=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},iSe=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,b=p.filter(function(N){return Mi(N.type).indexOf("Bar")>=0});if(b&&b.length){var y=b[0].type.defaultProps,w=y!==void 0?xr(xr({},y),b[0].props):b[0].props,_=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=yt(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:yt(S)?void 0:kc(S,n,0)})}}return o},oSe=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=kc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},N=[].concat(yT(_),[S]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:x})}),N},f)}else{var b=kc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var y=(s-2*b-(c-1)*u)/c;y>1&&(y>>=0);var w=l===+l?Math.min(y,l):y;d=o.reduce(function(_,j,S){var N=[].concat(yT(_),[{item:j.item,position:{offset:b+(y+u)*S+(y-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},lSe=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Rq({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&_e(t[m]))return xr(xr({},t),{},qu({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&_e(t[g]))return xr(xr({},t),{},qu({},g,t[g]+(h||0)))}return t},cSe=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Mq=function(t,r,n,s,i){var o=r.props.children,l=Sa(o,Mb).filter(function(u){return cSe(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=xs(d,n);if(yt(f))return u;var h=Array.isArray(f)?[Ab(f),Wo(f)]:[f,f],m=c.reduce(function(g,p){var x=xs(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),y=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(y,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},uSe=function(t,r,n,s,i){var o=r.map(function(l){return Mq(t,l,n,i,s)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},$q=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Mq(t,c,u,s)||Oh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},Iq=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Dq=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Pi=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?va(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!gf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},j0=new WeakMap,kg=function(t,r){if(typeof r!="function")return t;j0.has(t)||j0.set(t,new WeakMap);var n=j0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},dSe=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:_y(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ph(),realScaleType:"point"}:i==="category"?{scale:xm(),realScaleType:"band"}:{scale:_y(),realScaleType:"linear"};if(Nc(s)){var c="scale".concat(yb(s));return{scale:(fT[c]||Ph)(),realScaleType:fT[c]?c:"point"}}return ut(s)?{scale:s}:{scale:Ph(),realScaleType:"point"}},bT=1e-4,fSe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-bT,o=Math.max(s[0],s[1])+bT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},hSe=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},mSe=function(t,r){if(!r||r.length!==2||!_e(r[0])||!_e(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_e(t[0])||t[0]<n)&&(i[0]=n),(!_e(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},pSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=gf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},gSe=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=gf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},vSe={sign:pSe,expand:Tfe,none:jd,silhouette:Rfe,wiggle:Mfe,positive:gSe},ySe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=vSe[n],o=Afe().keys(s).value(function(l,c){return+xs(l,c,0)}).order(W_).offset(i);return o(t)},xSe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?xr(xr({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var b=g[n],y=f[b]||{hasStack:!1,stackGroups:{}};if(Hr(p)){var w=y.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),y.hasStack=!0,y.stackGroups[p]=w}else y.stackGroups[Sp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return xr(xr({},f),{},qu({},b,y))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return xr(xr({},p),{},qu({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:ySe(t,b.items,i)}))},g)}return xr(xr({},f),{},qu({},h,m))},d)},bSe=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=A1e(u,i,l);return t.domain([Ab(d),Wo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=T1e(f,i,l);return{niceTicks:h}}return null};function wT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(s[t.dataKey])){var l=Zv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=xs(s,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var jT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=xs(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-i/2+s},wSe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},jSe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},_Se=function(t){return t.reduce(function(r,n){return[Ab(n.concat([r[0]]).filter(_e)),Wo(n.concat([r[1]]).filter(_e))]},[1/0,-1/0])},Lq=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=_Se(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},_T=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ST=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w1=function(t,r,n){if(ut(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(_e(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(_T.test(t[0])){var i=+_T.exec(t[0])[1];s[0]=r[0]-i}else ut(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(_e(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(ST.test(t[1])){var o=+ST.exec(t[1])[1];s[1]=r[1]+o}else ut(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},Oy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Rk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},NT=function(t,r,n){return!t||!t.length||Sm(t,Us(n,"type.defaultProps.domain"))?r:t},Fq=function(t,r){var n=t.type.defaultProps?xr(xr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return xr(xr({},pt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:aC(t),value:xs(r,s),type:c,payload:r,chartType:u,hide:d})};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){SSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SSe(e,t,r){return t=NSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NSe(e){var t=kSe(e,"string");return Pm(t)=="symbol"?t:t+""}function kSe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay=Math.PI/180,CSe=function(t){return t*180/Math.PI},un=function(t,r,n,s){return{x:t+Math.cos(-Ay*s)*n,y:r+Math.sin(-Ay*s)*n}},ESe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},PSe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=ESe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:CSe(u),angleInRadian:u}},OSe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},ASe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},ET=function(t,r){var n=t.x,s=t.y,i=PSe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=OSe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?CT(CT({},r),{},{radius:o,angle:ASe(m,r)}):null};function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}var TSe=["offset"];function RSe(e){return DSe(e)||ISe(e)||$Se(e)||MSe()}function MSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Se(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function ISe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DSe(e){if(Array.isArray(e))return j1(e)}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function LSe(e,t){if(e==null)return{};var r=FSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function PT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PT(Object(r),!0).forEach(function(n){USe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function USe(e,t,r){return t=qSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qSe(e){var t=BSe(e,"string");return Om(t)=="symbol"?t:t+""}function BSe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Am(){return Am=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Am.apply(this,arguments)}var zSe=function(t){var r=t.value,n=t.formatter,s=yt(t.children)?r:t.children;return ut(n)?n(s):s},WSe=function(t,r){var n=va(r-t),s=Math.min(Math.abs(r-t),360);return n*s},VSe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,b=WSe(m,g),y=b>=0?1:-1,w,_;s==="insideStart"?(w=m+y*o,_=p):s==="insideEnd"?(w=g-y*o,_=!p):s==="end"&&(w=g+y*o,_=p),_=b<=0?_:!_;var j=un(u,d,x,w),S=un(u,d,x,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=yt(t.id)?Sp("recharts-radial-line-"):t.id;return R.createElement("text",Am({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),R.createElement("defs",null,R.createElement("path",{id:k,d:N})),R.createElement("textPath",{xlinkHref:"#".concat(k)},r))},KSe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=un(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=un(o,l,x,h),y=b.x,w=b.y;return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},HSe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*s,b=p>0?"end":"start",y=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Fr(Fr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Fr(Fr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Fr(Fr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"};return Fr(Fr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Fr({x:l+x,y:c+d/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?Fr({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Fr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Fr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Fr({x:l+x,y:c+h,textAnchor:y,verticalAnchor:g},N):i==="insideTopRight"?Fr({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Fr({x:l+x,y:c+d-h,textAnchor:y,verticalAnchor:m},N):i==="insideBottomRight"?Fr({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},N):ff(i)&&(_e(i.x)||Wl(i.x))&&(_e(i.y)||Wl(i.y))?Fr({x:l+kc(i.x,u),y:c+kc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},GSe=function(t){return"cx"in t&&_e(t.cx)};function wn(e){var t=e.offset,r=t===void 0?5:t,n=LSe(e,TSe),s=Fr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||yt(l)&&yt(c)&&!v.isValidElement(u)&&!ut(u))return null;if(v.isValidElement(u))return v.cloneElement(u,s);var m;if(ut(u)){if(m=v.createElement(u,s),v.isValidElement(m))return m}else m=zSe(s);var g=GSe(i),p=pt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return VSe(s,m,p);var x=g?KSe(s):HSe(s);return R.createElement(py,Am({className:jt("recharts-label",f)},p,x,{breakAll:h}),m)}wn.displayName="Label";var Uq=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,y=t.labelViewBox;if(y)return y;if(_e(p)&&_e(x)){if(_e(f)&&_e(h))return{x:f,y:h,width:p,height:x};if(_e(m)&&_e(g))return{x:m,y:g,width:p,height:x}}return _e(f)&&_e(h)?{x:f,y:h,width:0,height:0}:_e(r)&&_e(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},YSe=function(t,r){return t?t===!0?R.createElement(wn,{key:"label-implicit",viewBox:r}):Hr(t)?R.createElement(wn,{key:"label-implicit",viewBox:r,value:t}):v.isValidElement(t)?t.type===wn?v.cloneElement(t,{key:"label-implicit",viewBox:r}):R.createElement(wn,{key:"label-implicit",content:t,viewBox:r}):ut(t)?R.createElement(wn,{key:"label-implicit",content:t,viewBox:r}):ff(t)?R.createElement(wn,Am({viewBox:r},t,{key:"label-implicit"})):null:null},QSe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=Uq(t),o=Sa(s,wn).map(function(c,u){return v.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=YSe(t.label,r||i);return[l].concat(RSe(o))};wn.parseViewBox=Uq;wn.renderCallByParent=QSe;function XSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var JSe=XSe;const ZSe=zt(JSe);function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}var eNe=["valueAccessor"],tNe=["data","dataKey","clockWise","id","textBreakAll"];function rNe(e){return iNe(e)||aNe(e)||sNe(e)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sNe(e,t){if(e){if(typeof e=="string")return _1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _1(e,t)}}function aNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iNe(e){if(Array.isArray(e))return _1(e)}function _1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function OT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function AT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OT(Object(r),!0).forEach(function(n){oNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oNe(e,t,r){return t=lNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lNe(e){var t=cNe(e,"string");return Tm(t)=="symbol"?t:t+""}function cNe(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TT(e,t){if(e==null)return{};var r=uNe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function uNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dNe=function(t){return Array.isArray(t.value)?ZSe(t.value):t.value};function sl(e){var t=e.valueAccessor,r=t===void 0?dNe:t,n=TT(e,eNe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=TT(n,tNe);return!s||!s.length?null:R.createElement(fr,{className:"recharts-label-list"},s.map(function(d,f){var h=yt(i)?r(d,f):xs(d&&d.payload,i),m=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return R.createElement(wn,Ty({},pt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:wn.parseViewBox(yt(o)?d:AT(AT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}sl.displayName="LabelList";function fNe(e,t){return e?e===!0?R.createElement(sl,{key:"labelList-implicit",data:t}):R.isValidElement(e)||ut(e)?R.createElement(sl,{key:"labelList-implicit",data:t,content:e}):ff(e)?R.createElement(sl,Ty({data:t},e,{key:"labelList-implicit"})):null:null}function hNe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sa(n,sl).map(function(o,l){return v.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=fNe(e.label,t);return[i].concat(rNe(s))}sl.renderCallByParent=hNe;function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){mNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mNe(e,t,r){return t=pNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pNe(e){var t=gNe(e,"string");return Rm(t)=="symbol"?t:t+""}function gNe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vNe=function(t,r){var n=va(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Cg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/Ay,h=u?i:i+o*f,m=un(r,n,d,h),g=un(r,n,s,h),p=u?i-o*f:i,x=un(r,n,d*Math.cos(f*Ay),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},qq=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=vNe(o,l),u=o+c,d=un(r,n,i,o),f=un(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=un(r,n,s,o),g=un(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},yNe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=va(d-u),h=Cg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=Cg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,y=x.lineTangency,w=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):qq({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var S=Cg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,O=Cg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=O.circleTangency,E=O.lineTangency,L=O.theta,M=c?Math.abs(u-d):Math.abs(u-d)-C-L;if(M<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(M>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},xNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Bq=function(t){var r=MT(MT({},xNe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=jt("recharts-sector",h),g=o-i,p=kc(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=yNe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=qq({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),R.createElement("path",S1({},pt(r,!0),{className:m,d:x,role:"img"}))};function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=jNe(e,"string");return Mm(t)=="symbol"?t:t+""}function jNe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DT={curveBasisClosed:bfe,curveBasisOpen:wfe,curveBasis:xfe,curveBumpX:afe,curveBumpY:ife,curveLinearClosed:jfe,curveLinear:bb,curveMonotoneX:_fe,curveMonotoneY:Sfe,curveNatural:Nfe,curveStep:kfe,curveStepAfter:Efe,curveStepBefore:Cfe},Eg=function(t){return t.x===+t.x&&t.y===+t.y},Yf=function(t){return t.x},Qf=function(t){return t.y},_Ne=function(t,r){if(ut(t))return t;var n="curve".concat(yb(t));return(n==="curveMonotone"||n==="curveBump")&&r?DT["".concat(n).concat(r==="vertical"?"Y":"X")]:DT[n]||bb},SNe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=_Ne(n,l),f=u?i.filter(function(p){return Eg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return Eg(p)}):o,g=f.map(function(p,x){return IT(IT({},p),{},{base:m[x]})});return l==="vertical"?h=yg().y(Qf).x1(Yf).x0(function(p){return p.base.x}):h=yg().x(Yf).y1(Qf).y0(function(p){return p.base.y}),h.defined(Eg).curve(d),h(g)}return l==="vertical"&&_e(o)?h=yg().y(Qf).x1(Yf).x0(o):_e(o)?h=yg().x(Yf).y1(Qf).y0(o):h=z5().x(Yf).y(Qf),h.defined(Eg).curve(d),h(f)},Ah=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?SNe(t):s;return v.createElement("path",N1({},pt(t,!1),ey(t),{className:jt("recharts-curve",r),d:o,ref:i}))},zq={exports:{}},NNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kNe=NNe,CNe=kNe;function Wq(){}function Vq(){}Vq.resetWarningCache=Wq;var ENe=function(){function e(n,s,i,o,l,c){if(c!==CNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Vq,resetWarningCache:Wq};return r.PropTypes=r,r};zq.exports=ENe();var PNe=zq.exports;const Tt=zt(PNe),{getOwnPropertyNames:ONe,getOwnPropertySymbols:ANe}=Object,{hasOwnProperty:TNe}=Object.prototype;function _0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Pg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function RNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function LT(e){return ONe(e).concat(ANe(e))}const MNe=Object.hasOwn||((e,t)=>TNe.call(e,t));function Fc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const $Ne="__v",INe="__o",DNe="_owner",{getOwnPropertyDescriptor:FT,keys:UT}=Object;function LNe(e,t){return e.byteLength===t.byteLength&&Ry(new Uint8Array(e),new Uint8Array(t))}function FNe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function UNe(e,t){return e.byteLength===t.byteLength&&Ry(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function qNe(e,t){return Fc(e.getTime(),t.getTime())}function BNe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zNe(e,t){return e===t}function qT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const WNe=Fc;function VNe(e,t,r){const n=UT(e);let s=n.length;if(UT(t).length!==s)return!1;for(;s-- >0;)if(!Kq(e,t,r,n[s]))return!1;return!0}function Xf(e,t,r){const n=LT(e);let s=n.length;if(LT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!Kq(e,t,r,i)||(o=FT(e,i),l=FT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function KNe(e,t){return Fc(e.valueOf(),t.valueOf())}function HNe(e,t){return e.source===t.source&&e.flags===t.flags}function BT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Ry(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function GNe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Kq(e,t,r,n){return(n===DNe||n===INe||n===$Ne)&&(e.$$typeof||t.$$typeof)?!0:MNe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const YNe="[object ArrayBuffer]",QNe="[object Arguments]",XNe="[object Boolean]",JNe="[object DataView]",ZNe="[object Date]",eke="[object Error]",tke="[object Map]",rke="[object Number]",nke="[object Object]",ske="[object RegExp]",ake="[object Set]",ike="[object String]",oke={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},lke="[object URL]",cke=Object.prototype.toString;function uke({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(x,b,y){if(x===b)return!0;if(x==null||b==null)return!1;const w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(x,b,y):w==="function"?i(x,b,y):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(x,b,y);if(Array.isArray(x))return t(x,b,y);if(_===Date)return n(x,b,y);if(_===RegExp)return d(x,b,y);if(_===Map)return o(x,b,y);if(_===Set)return f(x,b,y);const j=cke.call(x);if(j===ZNe)return n(x,b,y);if(j===ske)return d(x,b,y);if(j===tke)return o(x,b,y);if(j===ake)return f(x,b,y);if(j===nke)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,y);if(j===lke)return m(x,b,y);if(j===eke)return s(x,b,y);if(j===QNe)return c(x,b,y);if(oke[j])return h(x,b,y);if(j===YNe)return e(x,b,y);if(j===JNe)return r(x,b,y);if(j===XNe||j===rke||j===ike)return u(x,b,y);if(g){let S=g[j];if(!S){const N=RNe(x);N&&(S=g[N])}if(S)return S(x,b,y)}return!1}}function dke({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:LNe,areArraysEqual:r?Xf:FNe,areDataViewsEqual:UNe,areDatesEqual:qNe,areErrorsEqual:BNe,areFunctionsEqual:zNe,areMapsEqual:r?_0(qT,Xf):qT,areNumbersEqual:WNe,areObjectsEqual:r?Xf:VNe,arePrimitiveWrappersEqual:KNe,areRegExpsEqual:HNe,areSetsEqual:r?_0(BT,Xf):BT,areTypedArraysEqual:r?_0(Ry,Xf):Ry,areUrlsEqual:GNe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=Pg(n.areArraysEqual),i=Pg(n.areMapsEqual),o=Pg(n.areObjectsEqual),l=Pg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function fke(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function hke({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const mke=jl();jl({strict:!0});jl({circular:!0});jl({circular:!0,strict:!0});jl({createInternalComparator:()=>Fc});jl({strict:!0,createInternalComparator:()=>Fc});jl({circular:!0,createInternalComparator:()=>Fc});jl({circular:!0,createInternalComparator:()=>Fc,strict:!0});function jl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=dke(e),o=uke(i),l=r?r(o):fke(o);return hke({circular:t,comparator:o,createState:n,equals:l,strict:s})}function pke(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function zT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):pke(s)};requestAnimationFrame(n)}function k1(e){"@babel/helpers - typeof";return k1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k1(e)}function gke(e){return bke(e)||xke(e)||yke(e)||vke()}function vke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yke(e,t){if(e){if(typeof e=="string")return WT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(e,t)}}function WT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bke(e){if(Array.isArray(e))return e}function wke(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=gke(o),c=l[0],u=l.slice(1);if(typeof c=="number"){zT(s.bind(null,u),c);return}s(c),zT(s.bind(null,u));return}k1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return t=jke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e){var t=_ke(e,"string");return $m(t)==="symbol"?t:String(t)}function _ke(e,t){if($m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ske=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},Nke=function(t){return t},kke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Th=function(t,r){return Object.keys(r).reduce(function(n,s){return KT(KT({},n),{},Hq({},s,t(s,r[s])))},{})},HT=function(t,r,n){return t.map(function(s){return"".concat(kke(s)," ").concat(r,"ms ").concat(n)}).join(",")};function Cke(e,t){return Oke(e)||Pke(e,t)||Gq(e,t)||Eke()}function Eke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Oke(e){if(Array.isArray(e))return e}function Ake(e){return Mke(e)||Rke(e)||Gq(e)||Tke()}function Tke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gq(e,t){if(e){if(typeof e=="string")return C1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C1(e,t)}}function Rke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mke(e){if(Array.isArray(e))return C1(e)}function C1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var My=1e-4,Yq=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Qq=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},GT=function(t,r){return function(n){var s=Yq(t,r);return Qq(s,n)}},$ke=function(t,r){return function(n){var s=Yq(t,r),i=[].concat(Ake(s.map(function(o,l){return o*l}).slice(1)),[0]);return Qq(i,n)}},YT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=Cke(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=GT(s,o),h=GT(i,l),m=$ke(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var y=b>1?1:b,w=y,_=0;_<8;++_){var j=f(w)-y,S=m(w);if(Math.abs(j-y)<My||S<My)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},Ike=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<My&&Math.abs(p)<My?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},Dke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return YT(s);case"spring":return Ike();default:if(s.split("(")[0]==="cubic-bezier")return YT(s)}return typeof s=="function"?s:null};function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function QT(e){return Uke(e)||Fke(e)||Xq(e)||Lke()}function Lke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Uke(e){if(Array.isArray(e))return P1(e)}function XT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XT(Object(r),!0).forEach(function(n){E1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function E1(e,t,r){return t=qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qke(e){var t=Bke(e,"string");return Im(t)==="symbol"?t:String(t)}function Bke(e,t){if(Im(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zke(e,t){return Kke(e)||Vke(e,t)||Xq(e,t)||Wke()}function Wke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xq(e,t){if(e){if(typeof e=="string")return P1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P1(e,t)}}function P1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Kke(e){if(Array.isArray(e))return e}var $y=function(t,r,n){return t+(r-t)*n},O1=function(t){var r=t.from,n=t.to;return r!==n},Hke=function e(t,r,n){var s=Th(function(i,o){if(O1(o)){var l=t(o.from,o.to,o.velocity),c=zke(l,2),u=c[0],d=c[1];return an(an({},o),{},{from:u,velocity:d})}return o},r);return n<1?Th(function(i,o){return O1(o)?an(an({},o),{},{velocity:$y(o.velocity,s[i].velocity,n),from:$y(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Gke=function(e,t,r,n,s){var i=Ske(e,t),o=i.reduce(function(x,b){return an(an({},x),{},E1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return an(an({},x),{},E1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Th(function(b,y){return y.from},l)},m=function(){return!Object.values(l).filter(O1).length},g=function(b){u||(u=b);var y=b-u,w=y/r.dt;l=Hke(r,l,w),s(an(an(an({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var y=(b-d)/n,w=Th(function(j,S){return $y.apply(void 0,QT(S).concat([r(y)]))},o);if(s(an(an(an({},e),t),w)),y<1)c=requestAnimationFrame(f);else{var _=Th(function(j,S){return $y.apply(void 0,QT(S).concat([r(1)]))},o);s(an(an(an({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}var Yke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Qke(e,t){if(e==null)return{};var r=Xke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xke(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function S0(e){return tCe(e)||eCe(e)||Zke(e)||Jke()}function Jke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zke(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function eCe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function tCe(e){if(Array.isArray(e))return A1(e)}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hh(e,t,r){return t=Jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jq(n.key),n)}}function sCe(e,t,r){return t&&nCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jq(e){var t=aCe(e,"string");return Ad(t)==="symbol"?t:String(t)}function aCe(e,t){if(Ad(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},T1(e,t)}function oCe(e){var t=lCe();return function(){var n=Iy(e),s;if(t){var i=Iy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return R1(this,s)}}function R1(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M1(e)}function M1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}var Yi=function(e){iCe(r,e);var t=oCe(r);function r(n,s){var i;rCe(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(M1(i)),i.changeStyle=i.changeStyle.bind(M1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),R1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},R1(i);i.state={style:c?hh({},c,u):u}}else i.state={style:{}};return i}return sCe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?hh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(mke(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var x={style:c?hh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(na(na({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=Gke(o,l,Dke(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var y=x.duration,w=x.easing,_=w===void 0?"ease":w,j=x.style,S=x.properties,N=x.onAnimationEnd,k=b>0?o[b-1]:x,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(S0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:y,easing:_}),y]);var O=HT(C,y,_),D=na(na(na({},k.style),j),{},{transition:O});return[].concat(S0(p),[D,y,N]).filter(Nke)};return this.manager.start([c].concat(S0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=wke());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?hh({},l,c):c,x=HT(Object.keys(p),o,u);g.start([d,i,na(na({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Qke(s,Yke),u=v.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,y=v.cloneElement(m,na(na({},c),{},{style:na(na({},x),d),className:b}));return y};return u===1?f(v.Children.only(i)):R.createElement("div",null,v.Children.map(i,function(h){return f(h)}))}}]),r}(v.PureComponent);Yi.displayName="Animate";Yi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Yi.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(this,arguments)}function cCe(e,t){return hCe(e)||fCe(e,t)||dCe(e,t)||uCe()}function uCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dCe(e,t){if(e){if(typeof e=="string")return ZT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZT(e,t)}}function ZT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hCe(e){if(Array.isArray(e))return e}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){mCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mCe(e,t,r){return t=pCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pCe(e){var t=gCe(e,"string");return Dm(t)=="symbol"?t:t+""}function gCe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rR=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},vCe=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},yCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},iC=function(t){var r=tR(tR({},yCe),t),n=v.useRef(),s=v.useState(-1),i=cCe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=jt("recharts-rectangle",m);return y?R.createElement(Yi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:y},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return R.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},R.createElement("path",Dy({},pt(r,!0),{className:w,d:rR(N,k,j,S,h),ref:n})))}):R.createElement("path",Dy({},pt(r,!0),{className:w,d:rR(c,u,d,f,h)}))};function $1(){return $1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$1.apply(this,arguments)}var oC=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=jt("recharts-dot",i);return r===+r&&n===+n&&s===+s?v.createElement("circle",$1({},pt(t,!1),ey(t),{className:o,cx:r,cy:n,r:s})):null};function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}var xCe=["x","y","top","left","width","height","className"];function I1(){return I1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I1.apply(this,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){wCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wCe(e,t,r){return t=jCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jCe(e){var t=_Ce(e,"string");return Lm(t)=="symbol"?t:t+""}function _Ce(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SCe(e,t){if(e==null)return{};var r=NCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kCe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},CCe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=SCe(t,xCe),x=bCe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!_e(n)||!_e(i)||!_e(f)||!_e(m)||!_e(l)||!_e(u)?null:R.createElement("path",I1({},pt(x,!0),{className:jt("recharts-cross",g),d:kCe(n,i,f,m,l,u)}))},ECe=hU,PCe=ECe(Object.getPrototypeOf,Object),OCe=PCe,ACe=so,TCe=OCe,RCe=ao,MCe="[object Object]",$Ce=Function.prototype,ICe=Object.prototype,Zq=$Ce.toString,DCe=ICe.hasOwnProperty,LCe=Zq.call(Object);function FCe(e){if(!RCe(e)||ACe(e)!=MCe)return!1;var t=TCe(e);if(t===null)return!0;var r=DCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zq.call(r)==LCe}var UCe=FCe;const qCe=zt(UCe);var BCe=so,zCe=ao,WCe="[object Boolean]";function VCe(e){return e===!0||e===!1||zCe(e)&&BCe(e)==WCe}var KCe=VCe;const HCe=zt(KCe);function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(this,arguments)}function GCe(e,t){return JCe(e)||XCe(e,t)||QCe(e,t)||YCe()}function YCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QCe(e,t){if(e){if(typeof e=="string")return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}}function sR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function JCe(e){if(Array.isArray(e))return e}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){ZCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZCe(e,t,r){return t=e2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function e2e(e){var t=t2e(e,"string");return Fm(t)=="symbol"?t:t+""}function t2e(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oR=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},r2e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n2e=function(t){var r=iR(iR({},r2e),t),n=v.useRef(),s=v.useState(-1),i=GCe(s,2),o=i[0],l=i[1];v.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var y=jt("recharts-trapezoid",m);return b?R.createElement(Yi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return R.createElement(Yi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},R.createElement("path",Ly({},pt(r,!0),{className:y,d:oR(N,k,_,j,S),ref:n})))}):R.createElement("g",null,R.createElement("path",Ly({},pt(r,!0),{className:y,d:oR(c,u,d,f,h)})))},s2e=["option","shapeType","propTransformer","activeClassName","isActive"];function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function a2e(e,t){if(e==null)return{};var r=i2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function i2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){o2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function o2e(e,t,r){return t=l2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l2e(e){var t=c2e(e,"string");return Um(t)=="symbol"?t:t+""}function c2e(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u2e(e,t){return Fy(Fy({},t),e)}function d2e(e,t){return e==="symbols"}function cR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return R.createElement(iC,r);case"trapezoid":return R.createElement(n2e,r);case"sector":return R.createElement(Bq,r);case"symbols":if(d2e(t))return R.createElement(Nk,r);break;default:return null}}function f2e(e){return v.isValidElement(e)?e.props:e}function h2e(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?u2e:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=a2e(e,s2e),u;if(v.isValidElement(t))u=v.cloneElement(t,Fy(Fy({},c),f2e(t)));else if(ut(t))u=t(c);else if(qCe(t)&&!HCe(t)){var d=s(t,c);u=R.createElement(cR,{shapeType:r,elementProps:d})}else{var f=c;u=R.createElement(cR,{shapeType:r,elementProps:f})}return l?R.createElement(fr,{className:o},u):u}function $b(e,t){return t!=null&&"trapezoids"in e.props}function Ib(e,t){return t!=null&&"sectors"in e.props}function qm(e,t){return t!=null&&"points"in e.props}function m2e(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function p2e(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function g2e(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function v2e(e,t){var r;return $b(e,t)?r=m2e:Ib(e,t)?r=p2e:qm(e,t)&&(r=g2e),r}function y2e(e,t){var r;return $b(e,t)?r="trapezoids":Ib(e,t)?r="sectors":qm(e,t)&&(r="points"),r}function x2e(e,t){if($b(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Ib(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return qm(e,t)?t.payload:{}}function b2e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=y2e(r,t),i=x2e(r,t),o=n.filter(function(c,u){var d=Sm(i,c),f=r.props[s].filter(function(g){var p=v2e(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var w2e=Math.ceil,j2e=Math.max;function _2e(e,t,r,n){for(var s=-1,i=j2e(w2e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var S2e=_2e,N2e=TU,uR=1/0,k2e=17976931348623157e292;function C2e(e){if(!e)return e===0?e:0;if(e=N2e(e),e===uR||e===-uR){var t=e<0?-1:1;return t*k2e}return e===e?e:0}var eB=C2e,E2e=S2e,P2e=Sb,N0=eB;function O2e(e){return function(t,r,n){return n&&typeof n!="number"&&P2e(t,r,n)&&(r=n=void 0),t=N0(t),r===void 0?(r=t,t=0):r=N0(r),n=n===void 0?t<r?1:-1:N0(n),E2e(t,r,n,e)}}var A2e=O2e,T2e=A2e,R2e=T2e(),M2e=R2e;const Uy=zt(M2e);function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function dR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(r),!0).forEach(function(n){tB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tB(e,t,r){return t=$2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $2e(e){var t=I2e(e,"string");return Bm(t)=="symbol"?t:t+""}function I2e(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D2e=["Webkit","Moz","O","ms"],L2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=D2e.reduce(function(i,o){return fR(fR({},i),{},tB({},o+n,r))},{});return s[t]=r,s};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(this,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function k0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nB(n.key),n)}}function U2e(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q2e(e,t,r){return t=By(t),B2e(e,rB()?Reflect.construct(t,r||[],By(e).constructor):t.apply(e,r))}function B2e(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z2e(e)}function z2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rB=function(){return!!e})()}function By(e){return By=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},By(e)}function W2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D1(e,t)}function ss(e,t,r){return t=nB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nB(e){var t=V2e(e,"string");return Td(t)=="symbol"?t:t+""}function V2e(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var K2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Ph().domain(Uy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},pR=function(t){return t.changedTouches&&!!t.changedTouches.length},Rd=function(e){function t(r){var n;return F2e(this,t),n=q2e(this,t,[r]),ss(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),ss(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),ss(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),ss(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ss(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ss(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ss(n,"handleSlideDragStart",function(s){var i=pR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return W2e(t,e),U2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=xs(i[n],l,n);return ut(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=pR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,f+h-m-u):y<0&&(y=Math.max(y,f-u)),b[o]=u+y;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(ss(ss({},o,u+y),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(ss({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return R.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=v.Children.only(u);return f?R.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),y=k0(k0({},pt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return R.createElement(fr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return R.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return R.createElement(fr,{className:"recharts-brush-texts"},R.createElement(py,qy({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),R.createElement(py,qy({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!_e(l)||!_e(c)||!_e(u)||!_e(d)||u<=0||d<=0)return null;var w=jt("recharts-brush",i),_=R.Children.count(o)===1,j=L2e("userSelect","none");return R.createElement(fr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||y||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return R.createElement(R.Fragment,null,R.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),R.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),R.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return R.isValidElement(n)?i=R.cloneElement(n,s):ut(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return k0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?K2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(v.PureComponent);ss(Rd,"displayName","Brush");ss(Rd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var H2e=Tk;function G2e(e,t){var r;return H2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var Y2e=G2e,Q2e=aU,X2e=xl,J2e=Y2e,Z2e=es,eEe=Sb;function tEe(e,t,r){var n=Z2e(e)?Q2e:J2e;return r&&eEe(e,t,r)&&(t=void 0),n(e,X2e(t))}var rEe=tEe;const nEe=zt(rEe);var ti=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},gR=CU;function sEe(e,t,r){t=="__proto__"&&gR?gR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aEe=sEe,iEe=aEe,oEe=NU,lEe=xl;function cEe(e,t){var r={};return t=lEe(t),oEe(e,function(n,s,i){iEe(r,s,t(n,s,i))}),r}var uEe=cEe;const dEe=zt(uEe);function fEe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hEe=fEe,mEe=Tk;function pEe(e,t){var r=!0;return mEe(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var gEe=pEe,vEe=hEe,yEe=gEe,xEe=xl,bEe=es,wEe=Sb;function jEe(e,t,r){var n=bEe(e)?vEe:yEe;return r&&wEe(e,t,r)&&(t=void 0),n(e,xEe(t))}var _Ee=jEe;const sB=zt(_Ee);var SEe=["x","y"];function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){NEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NEe(e,t,r){return t=kEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kEe(e){var t=CEe(e,"string");return zm(t)=="symbol"?t:t+""}function CEe(e,t){if(zm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EEe(e,t){if(e==null)return{};var r=PEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OEe(e,t){var r=e.x,n=e.y,s=EEe(e,SEe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Jf(Jf(Jf(Jf(Jf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function yR(e){return R.createElement(h2e,L1({shapeType:"rectangle",propTransformer:OEe,activeClassName:"recharts-active-bar"},e))}var AEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=_e(n)||Wue(n);return i?t(n,s):(i||Ec(),r)}},TEe=["value","background"],aB;function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function REe(e,t){if(e==null)return{};var r=MEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(this,arguments)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oB(n.key),n)}}function IEe(e,t,r){return t&&bR(e.prototype,t),r&&bR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DEe(e,t,r){return t=Wy(t),LEe(e,iB()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function LEe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FEe(e)}function FEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iB=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function UEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F1(e,t)}function Vo(e,t,r){return t=oB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oB(e){var t=qEe(e,"string");return Md(t)=="symbol"?t:t+""}function qEe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Uc=function(e){function t(){var r;$Ee(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=DEe(this,t,[].concat(s)),Vo(r,"state",{isAnimationFinished:!1}),Vo(r,"id",Sp("recharts-bar-")),Vo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Vo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return UEe(t,e),IEe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=pt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Or(Or(Or({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return R.createElement(fr,zy({className:"recharts-bar-rectangle"},ty(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),R.createElement(yR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return R.createElement(Yi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,b){var y=h&&h[b];if(y){var w=As(y.x,x.x),_=As(y.y,x.y),j=As(y.width,x.width),S=As(y.height,x.height);return Or(Or({},x),{},{x:w(g),y:_(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=As(0,x.height),k=N(g);return Or(Or({},x),{},{y:x.y+x.height-k,height:k})}var C=As(0,x.width),O=C(g);return Or(Or({},x),{},{width:O})});return R.createElement(fr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Sm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=pt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=REe(u,TEe);if(!f)return null;var m=Or(Or(Or(Or(Or({},h),{},{fill:"#eee"},f),c),ty(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return R.createElement(yR,zy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=Sa(d,Mb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var y=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:y,errorVal:xs(x,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return R.createElement(fr,g,f.map(function(p){return R.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=jt("recharts-bar",o),y=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=y||w,j=yt(p)?this.id:p;return R.createElement(fr,{className:b},y||w?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(j)},R.createElement("rect",{x:y?u:u-f/2,y:w?d:d-h/2,width:y?f:f*2,height:w?h:h*2}))):null,R.createElement(fr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||x)&&sl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(v.PureComponent);aB=Uc;Vo(Uc,"displayName","Bar");Vo(Uc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!bf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Vo(Uc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=hSe(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Or(Or({},p),r.props):r.props,b=x.dataKey,y=x.children,w=x.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,S=wSe({numericAxis:_}),N=Sa(y,MU),k=f.map(function(C,O){var D,E,L,M,K,A;u?D=mSe(u[d+O],j):(D=xs(C,b),Array.isArray(D)||(D=[S,D]));var V=AEe(w,aB.defaultProps.minPointSize)(D[1],O);if(g==="horizontal"){var T,$=[o.scale(D[0]),o.scale(D[1])],I=$[0],ee=$[1];E=jT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:O}),L=(T=ee??I)!==null&&T!==void 0?T:void 0,M=m.size;var F=I-ee;if(K=Number.isNaN(F)?0:F,A={x:E,y:o.y,width:M,height:o.height},Math.abs(V)>0&&Math.abs(K)<Math.abs(V)){var ie=va(K||V)*(Math.abs(V)-Math.abs(K));L-=ie,K+=ie}}else{var ye=[i.scale(D[0]),i.scale(D[1])],ze=ye[0],Ke=ye[1];if(E=ze,L=jT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:O}),M=Ke-ze,K=m.size,A={x:i.x,y:L,width:i.width,height:K},Math.abs(V)>0&&Math.abs(M)<Math.abs(V)){var me=va(M||V)*(Math.abs(V)-Math.abs(M));M+=me}}return Or(Or(Or({},C),{},{x:E,y:L,width:M,height:K,value:u?D:D[1],payload:C,background:A},N&&N[O]&&N[O].props),{},{tooltipPayload:[Fq(r,C)],tooltipPosition:{x:E+M/2,y:L+K/2}})});return Or({data:k,layout:g},h)});function Wm(e){"@babel/helpers - typeof";return Wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wm(e)}function BEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lB(n.key),n)}}function zEe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){Db(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Db(e,t,r){return t=lB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lB(e){var t=WEe(e,"string");return Wm(t)=="symbol"?t:t+""}function WEe(e,t){if(Wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!is(u,Uc);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,y=p.padding,w=y===void 0?{}:y,_=p.mirror,j=p.reversed,S="".concat(x).concat(_?"Mirror":""),N,k,C,O,D;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var E=b[1]-b[0],L=1/0,M=p.categoricalDomain.sort(Hue);if(M.forEach(function(ye,ze){ze>0&&(L=Math.min((ye||0)-(M[ze-1]||0),L))}),Number.isFinite(L)){var K=L/E,A=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=K*A/2),p.padding==="no-gap"){var V=kc(t.barCategoryGap,K*A),T=K*A/2;N=T-V-(T-V)/A*V}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var $=dSe(p,i,h),I=$.scale,ee=$.realScaleType;I.domain(b).range(k),fSe(I);var F=bSe(I,fa(fa({},p),{},{realScaleType:ee}));s==="xAxis"?(D=x==="top"&&!_||x==="bottom"&&_,C=n.left,O=f[S]-D*p.height):s==="yAxis"&&(D=x==="left"&&!_||x==="right"&&_,C=f[S]-D*p.width,O=n.top);var ie=fa(fa(fa({},p),F),{},{realScaleType:ee,x:C,y:O,scale:I,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ie.bandSize=Oy(ie,F),!p.hide&&s==="xAxis"?f[S]+=(D?-1:1)*ie.height:p.hide||(f[S]+=(D?-1:1)*ie.width),fa(fa({},m),{},Db({},g,ie))},{})},uB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},VEe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return uB({x:r,y:n},{x:s,y:i})},dB=function(){function e(t){BEe(this,e),this.scale=t}return zEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Db(dB,"EPS",1e-4);var lC=function(t){var r=Object.keys(t).reduce(function(n,s){return fa(fa({},n),{},Db({},s,dB.create(t[s])))},{});return fa(fa({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return dEe(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return sB(s,function(i,o){return r[o].isInRange(i)})}})};function KEe(e){return(e%180+180)%180}var HEe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=KEe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},GEe=xl,YEe=Np,QEe=jb;function XEe(e){return function(t,r,n){var s=Object(t);if(!YEe(t)){var i=GEe(r);t=QEe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var JEe=XEe,ZEe=eB;function ePe(e){var t=ZEe(e),r=t%1;return t===t?r?t-r:t:0}var tPe=ePe,rPe=xU,nPe=xl,sPe=tPe,aPe=Math.max;function iPe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:sPe(r);return s<0&&(s=aPe(n+s,0)),rPe(e,nPe(t),s)}var oPe=iPe,lPe=JEe,cPe=oPe,uPe=lPe(cPe),dPe=uPe;const fPe=zt(dPe);var hPe=Qce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),cC=v.createContext(void 0),uC=v.createContext(void 0),fB=v.createContext(void 0),hB=v.createContext({}),mB=v.createContext(void 0),pB=v.createContext(0),gB=v.createContext(0),_R=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=hPe(i);return R.createElement(cC.Provider,{value:n},R.createElement(uC.Provider,{value:s},R.createElement(hB.Provider,{value:i},R.createElement(fB.Provider,{value:d},R.createElement(mB.Provider,{value:o},R.createElement(pB.Provider,{value:u},R.createElement(gB.Provider,{value:c},l)))))))},mPe=function(){return v.useContext(mB)},vB=function(t){var r=v.useContext(cC);r==null&&Ec();var n=r[t];return n==null&&Ec(),n},pPe=function(){var t=v.useContext(cC);return Oo(t)},gPe=function(){var t=v.useContext(uC),r=fPe(t,function(n){return sB(n.domain,Number.isFinite)});return r||Oo(t)},yB=function(t){var r=v.useContext(uC);r==null&&Ec();var n=r[t];return n==null&&Ec(),n},vPe=function(){var t=v.useContext(fB);return t},yPe=function(){return v.useContext(hB)},dC=function(){return v.useContext(gB)},fC=function(){return v.useContext(pB)};function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function xPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bB(n.key),n)}}function wPe(e,t,r){return t&&bPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jPe(e,t,r){return t=Vy(t),_Pe(e,xB()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function _Pe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SPe(e)}function SPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xB=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function NPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U1(e,t)}function U1(e,t){return U1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},U1(e,t)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function NR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){hC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hC(e,t,r){return t=bB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bB(e){var t=kPe(e,"string");return $d(t)=="symbol"?t:t+""}function kPe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function CPe(e,t){return APe(e)||OPe(e,t)||PPe(e,t)||EPe()}function EPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PPe(e,t){if(e){if(typeof e=="string")return kR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kR(e,t)}}function kR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function APe(e){if(Array.isArray(e))return e}function q1(){return q1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q1.apply(this,arguments)}var TPe=function(t,r){var n;return R.isValidElement(t)?n=R.cloneElement(t,r):ut(t)?n=t(r):n=R.createElement("line",q1({},r,{className:"recharts-reference-line-line"})),n},RPe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(ti(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,y=t.x.apply(b,{position:o});if(ti(u,"discard")&&!t.x.isInRange(y))return null;var w=[{x:y,y:f+m},{x:y,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return ti(u,"discard")&&nEe(j,function(S){return!t.isInRange(S)})?null:j}return null};function MPe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=mPe(),d=vB(s),f=yB(i),h=vPe();if(!u||!h)return null;$i(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=lC({x:d.scale,y:f.scale}),g=Hr(t),p=Hr(r),x=n&&n.length===2,b=RPe(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var y=CPe(b,2),w=y[0],_=w.x,j=w.y,S=y[1],N=S.x,k=S.y,C=ti(e,"hidden")?"url(#".concat(u,")"):void 0,O=NR(NR({clipPath:C},pt(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return R.createElement(fr,{className:jt("recharts-reference-line",l)},TPe(o,O),wn.renderCallByParent(e,VEe({x1:_,y1:j,x2:N,y2:k})))}var mC=function(e){function t(){return xPe(this,t),jPe(this,t,arguments)}return NPe(t,e),wPe(t,[{key:"render",value:function(){return R.createElement(MPe,this.props)}}])}(R.Component);hC(mC,"displayName","ReferenceLine");hC(mC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B1(){return B1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B1.apply(this,arguments)}function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ER(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){Lb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Pe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jB(n.key),n)}}function DPe(e,t,r){return t&&IPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LPe(e,t,r){return t=Ky(t),FPe(e,wB()?Reflect.construct(t,r||[],Ky(e).constructor):t.apply(e,r))}function FPe(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UPe(e)}function UPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wB=function(){return!!e})()}function Ky(e){return Ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ky(e)}function qPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z1(e,t)}function Lb(e,t,r){return t=jB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jB(e){var t=BPe(e,"string");return Id(t)=="symbol"?t:t+""}function BPe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zPe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=lC({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ti(t,"discard")&&!o.isInRange(l)?null:l},Fb=function(e){function t(){return $Pe(this,t),LPe(this,t,arguments)}return qPe(t,e),DPe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if($i(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=zPe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,b=ti(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=ER(ER({clipPath:b},pt(this.props,!0)),{},{cx:h,cy:m});return R.createElement(fr,{className:jt("recharts-reference-dot",x)},t.renderDot(p,y),wn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(R.Component);Lb(Fb,"displayName","ReferenceDot");Lb(Fb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Lb(Fb,"renderDot",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):ut(e)?r=e(t):r=R.createElement(oC,B1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W1.apply(this,arguments)}function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){Ub(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SB(n.key),n)}}function KPe(e,t,r){return t&&VPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function HPe(e,t,r){return t=Hy(t),GPe(e,_B()?Reflect.construct(t,r||[],Hy(e).constructor):t.apply(e,r))}function GPe(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YPe(e)}function YPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_B=function(){return!!e})()}function Hy(e){return Hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hy(e)}function QPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V1(e,t)}function V1(e,t){return V1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V1(e,t)}function Ub(e,t,r){return t=SB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SB(e){var t=XPe(e,"string");return Dd(t)=="symbol"?t:t+""}function XPe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JPe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=lC({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return ti(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:uB(m,g)},qb=function(e){function t(){return WPe(this,t),HPe(this,t,arguments)}return QPe(t,e),KPe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;$i(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),m=Hr(o),g=Hr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=JPe(f,h,m,g,this.props);if(!x&&!p)return null;var b=ti(this.props,"hidden")?"url(#".concat(d,")"):void 0;return R.createElement(fr,{className:jt("recharts-reference-area",c)},t.renderRect(p,OR(OR({clipPath:b},pt(this.props,!0)),x)),wn.renderCallByParent(this.props,x))}}])}(R.Component);Ub(qb,"displayName","ReferenceArea");Ub(qb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Ub(qb,"renderRect",function(e,t){var r;return R.isValidElement(e)?r=R.cloneElement(e,t):ut(e)?r=e(t):r=R.createElement(iC,W1({},t,{className:"recharts-reference-area-rect"})),r});function NB(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function ZPe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HEe(n,r)}function eOe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Gy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function tOe(e,t){return NB(e,t+1)}function rOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:NB(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},y=g.coordinate,w=c===0||Gy(e,y,b,d,l);w||(c=0,d=o,u+=1),w&&(d=y+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Vm(e){"@babel/helpers - typeof";return Vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vm(e)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){nOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t,r){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sOe(e){var t=aOe(e,"string");return Vm(t)=="symbol"?t:t+""}function aOe(e,t){if(Vm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iOe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);i[h]=m=yn(yn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=yn(yn({},m),{},{tickCoord:m.coordinate});var b=Gy(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=yn(yn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function oOe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=yn(yn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Gy(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=yn(yn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(y){var w=o[y],_,j=function(){return _===void 0&&(_=r(w,y)),_};if(y===0){var S=e*(w.coordinate-e*j()/2-c);o[y]=w=yn(yn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[y]=w=yn(yn({},w),{},{tickCoord:w.coordinate});var N=Gy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[y]=yn(yn({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function pC(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(_e(c)||bf.isSsr)return tOe(s,typeof c=="number"&&_e(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?Eh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=ut(u)?u(w.value,_):w.value;return m==="width"?ZPe(Eh(j,{fontSize:t,letterSpacing:r}),g,f):Eh(j,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?va(s[1].coordinate-s[0].coordinate):1,b=eOe(i,x,m);return c==="equidistantPreserveStart"?rOe(x,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=oOe(x,b,p,s,o,c==="preserveStartEnd"):h=iOe(x,b,p,s,o),h.filter(function(y){return y.isShow}))}var lOe=["viewBox"],cOe=["viewBox"],uOe=["ticks"];function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function ku(){return ku=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ku.apply(this,arguments)}function TR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TR(Object(r),!0).forEach(function(n){gC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0(e,t){if(e==null)return{};var r=dOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CB(n.key),n)}}function hOe(e,t,r){return t&&RR(e.prototype,t),r&&RR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mOe(e,t,r){return t=Yy(t),pOe(e,kB()?Reflect.construct(t,r||[],Yy(e).constructor):t.apply(e,r))}function pOe(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gOe(e)}function gOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kB=function(){return!!e})()}function Yy(e){return Yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yy(e)}function vOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K1(e,t)}function K1(e,t){return K1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K1(e,t)}function gC(e,t,r){return t=CB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CB(e){var t=yOe(e,"string");return Ld(t)=="symbol"?t:t+""}function yOe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Sf=function(e){function t(r){var n;return fOe(this,t),n=mOe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return vOe(t,e),hOe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=C0(n,lOe),l=this.props,c=l.viewBox,u=C0(l,cOe);return!Lu(i,c)||!Lu(o,u)||!Lu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,x,b,y,w=f?-1:1,_=n.tickSize||d,j=_e(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-w*_,y=p-w*h,b=j;break;case"left":p=x=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,y=j;break;case"right":p=x=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,y=j;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+w*_,y=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},pt(this.props,!1)),pt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return R.createElement("line",ku({},f,{className:jt("recharts-cartesian-axis-line",Us(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=pC(Dr(Dr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=pt(this.props,!1),b=pt(d,!1),y=Dr(Dr({},x),{},{fill:"none"},pt(c,!1)),w=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Dr(Dr(Dr(Dr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return R.createElement(fr,ku({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},ty(o.props,_,j)),c&&R.createElement("line",ku({},y,N,{className:jt("recharts-cartesian-axis-tick-line",Us(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(ut(f)?f(_.value,j):_.value).concat(h||"")))});return R.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=C0(f,uOe),g=h;return ut(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:R.createElement(fr,{className:jt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),wn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=jt(s.className,"recharts-cartesian-axis-tick-value");return R.isValidElement(n)?o=R.cloneElement(n,Dr(Dr({},s),{},{className:l})):ut(n)?o=n(Dr(Dr({},s),{},{className:l})):o=R.createElement(py,ku({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(v.Component);gC(Sf,"displayName","CartesianAxis");gC(Sf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var xOe=["x1","y1","x2","y2","key"],bOe=["offset"];function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){wOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wOe(e,t,r){return t=jOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jOe(e){var t=_Oe(e,"string");return Pc(t)=="symbol"?t:t+""}function _Oe(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hl.apply(this,arguments)}function $R(e,t){if(e==null)return{};var r=SOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var NOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return R.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function EB(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(ut(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=$R(t,xOe),u=pt(c,!1);u.offset;var d=$R(u,bOe);r=R.createElement("line",Hl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function kOe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=jn(jn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return EB(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function COe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=jn(jn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return EB(s,u)});return R.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function EOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return R.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function POe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return R.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return R.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var OOe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return Dq(pC(jn(jn(jn({},Sf.defaultProps),n),{},{ticks:Pi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},AOe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return Dq(pC(jn(jn(jn({},Sf.defaultProps),n),{},{ticks:Pi(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},iu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Qy(e){var t,r,n,s,i,o,l=dC(),c=fC(),u=yPe(),d=jn(jn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:iu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:iu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:iu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:iu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:iu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:iu.verticalFill,x:_e(e.x)?e.x:u.left,y:_e(e.y)?e.y:u.top,width:_e(e.width)?e.width:u.width,height:_e(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,y=pPe(),w=gPe();if(!_e(m)||m<=0||!_e(g)||g<=0||!_e(f)||f!==+f||!_e(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||OOe,j=d.horizontalCoordinatesGenerator||AOe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&ut(j)){var k=x&&x.length,C=j({yAxis:w?jn(jn({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);$i(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Pc(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&ut(_)){var O=b&&b.length,D=_({xAxis:y?jn(jn({},y),{},{ticks:O?b:y.ticks}):void 0,width:l,height:c,offset:u},O?!0:p);$i(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Pc(D),"]")),Array.isArray(D)&&(N=D)}return R.createElement("g",{className:"recharts-cartesian-grid"},R.createElement(NOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),R.createElement(kOe,Hl({},d,{offset:u,horizontalPoints:S,xAxis:y,yAxis:w})),R.createElement(COe,Hl({},d,{offset:u,verticalPoints:N,xAxis:y,yAxis:w})),R.createElement(EOe,Hl({},d,{horizontalPoints:S})),R.createElement(POe,Hl({},d,{verticalPoints:N})))}Qy.displayName="CartesianGrid";var TOe=["layout","type","stroke","connectNulls","isRange","ref"],ROe=["key"],PB;function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function OB(e,t){if(e==null)return{};var r=MOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function MOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gl(){return Gl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gl.apply(this,arguments)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){Ga(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TB(n.key),n)}}function IOe(e,t,r){return t&&DR(e.prototype,t),r&&DR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function DOe(e,t,r){return t=Xy(t),LOe(e,AB()?Reflect.construct(t,r||[],Xy(e).constructor):t.apply(e,r))}function LOe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FOe(e)}function FOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AB=function(){return!!e})()}function Xy(e){return Xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xy(e)}function UOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H1(e,t)}function H1(e,t){return H1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},H1(e,t)}function Ga(e,t,r){return t=TB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TB(e){var t=qOe(e,"string");return Fd(t)=="symbol"?t:t+""}function qOe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var oo=function(e){function t(){var r;$Oe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=DOe(this,t,[].concat(s)),Ga(r,"state",{isAnimationFinished:!0}),Ga(r,"id",Sp("recharts-area-")),Ga(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),ut(o)&&o()}),Ga(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),ut(o)&&o()}),r}return UOe(t,e),IOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=pt(this.props,!1),m=pt(u,!0),g=d.map(function(x,b){var y=bo(bo(bo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,y)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return R.createElement(fr,Gl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Wo(o.map(function(h){return h.y||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Wo(i.map(function(h){return h.y||0})),f)),_e(f)?R.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Wo(o.map(function(h){return h.x||0}));return _e(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Wo(i.map(function(h){return h.x||0})),f)),_e(f)?R.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=OB(l,TOe);return R.createElement(fr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},R.createElement(Ah,Gl({},pt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&R.createElement(Ah,Gl({},pt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&R.createElement(Ah,Gl({},pt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return R.createElement(Yi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var y=b.t;if(p){var w=p.length/l.length,_=l.map(function(k,C){var O=Math.floor(C*w);if(p[O]){var D=p[O],E=As(D.x,k.x),L=As(D.y,k.y);return bo(bo({},k),{},{x:E(y),y:L(y)})}return k}),j;if(_e(c)&&typeof c=="number"){var S=As(x,c);j=S(y)}else if(yt(c)||gf(c)){var N=As(x,0);j=N(y)}else j=c.map(function(k,C){var O=Math.floor(C*w);if(x[O]){var D=x[O],E=As(D.x,k.x),L=As(D.y,k.y);return bo(bo({},k),{},{x:E(y),y:L(y)})}return k});return i.renderAreaStatically(_,j,n,s)}return R.createElement(fr,null,R.createElement("defs",null,R.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(y))),R.createElement(fr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!Sm(d,o)||!Sm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,y=l.length===1,w=jt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,N=yt(x)?this.id:x,k=(n=pt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,O=C===void 0?3:C,D=k.strokeWidth,E=D===void 0?2:D,L=rde(o)?o:{},M=L.clipDot,K=M===void 0?!0:M,A=O*2+E;return R.createElement(fr,{className:w},_||j?R.createElement("defs",null,R.createElement("clipPath",{id:"clipPath-".concat(N)},R.createElement("rect",{x:_?d:d-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!K&&R.createElement("clipPath",{id:"clipPath-dots-".concat(N)},R.createElement("rect",{x:d-A/2,y:u-A/2,width:m+A,height:g+A}))):null,y?null:this.renderArea(S,N),(o||y)&&this.renderDots(S,K,N),(!p||b)&&sl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(v.PureComponent);PB=oo;Ga(oo,"displayName","Area");Ga(oo,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!bf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ga(oo,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(_e(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ga(oo,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=PB.getBaseValue(t,r,n,s),x=m==="horizontal",b=!1,y=f.map(function(_,j){var S;g?S=u[d+j]:(S=xs(_,c),Array.isArray(S)?b=!0:S=[p,S]);var N=S[1]==null||g&&xs(_,c)==null;return x?{x:wT({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:N?null:s.scale(S[1]),value:S,payload:_}:{x:N?null:n.scale(S[1]),y:wT({axis:s,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),w;return g||b?w=y.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):w=x?s.scale(p):n.scale(p),bo({points:y,baseLine:w,layout:m,isRange:b},h)});Ga(oo,"renderDotItem",function(e,t){var r;if(R.isValidElement(e))r=R.cloneElement(e,t);else if(ut(e))r=e(t);else{var n=jt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=OB(t,ROe);r=R.createElement(oC,Gl({},i,{key:s,className:n}))}return r});function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function BOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$B(n.key),n)}}function WOe(e,t,r){return t&&zOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function VOe(e,t,r){return t=Jy(t),KOe(e,RB()?Reflect.construct(t,r||[],Jy(e).constructor):t.apply(e,r))}function KOe(e,t){if(t&&(Ud(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HOe(e)}function HOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RB=function(){return!!e})()}function Jy(e){return Jy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jy(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G1(e,t)}function G1(e,t){return G1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},G1(e,t)}function MB(e,t,r){return t=$B(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $B(e){var t=YOe(e,"string");return Ud(t)=="symbol"?t:t+""}function YOe(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Y1(){return Y1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y1.apply(this,arguments)}function QOe(e){var t=e.xAxisId,r=dC(),n=fC(),s=vB(t);return s==null?null:v.createElement(Sf,Y1({},s,{className:jt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Pi(o,!0)}}))}var Oc=function(e){function t(){return BOe(this,t),VOe(this,t,arguments)}return GOe(t,e),WOe(t,[{key:"render",value:function(){return v.createElement(QOe,this.props)}}])}(v.Component);MB(Oc,"displayName","XAxis");MB(Oc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function qd(e){"@babel/helpers - typeof";return qd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qd(e)}function XOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function ZOe(e,t,r){return t&&JOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function eAe(e,t,r){return t=Zy(t),tAe(e,IB()?Reflect.construct(t,r||[],Zy(e).constructor):t.apply(e,r))}function tAe(e,t){if(t&&(qd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rAe(e)}function rAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IB=function(){return!!e})()}function Zy(e){return Zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zy(e)}function nAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q1(e,t)}function Q1(e,t){return Q1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Q1(e,t)}function DB(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=sAe(e,"string");return qd(t)=="symbol"?t:t+""}function sAe(e,t){if(qd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X1.apply(this,arguments)}var aAe=function(t){var r=t.yAxisId,n=dC(),s=fC(),i=yB(r);return i==null?null:v.createElement(Sf,X1({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Pi(l,!0)}}))},Ac=function(e){function t(){return XOe(this,t),eAe(this,t,arguments)}return nAe(t,e),ZOe(t,[{key:"render",value:function(){return v.createElement(aAe,this.props)}}])}(v.Component);DB(Ac,"displayName","YAxis");DB(Ac,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function LR(e){return cAe(e)||lAe(e)||oAe(e)||iAe()}function iAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oAe(e,t){if(e){if(typeof e=="string")return J1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return J1(e,t)}}function lAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cAe(e){if(Array.isArray(e))return J1(e)}function J1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Z1=function(t,r,n,s,i){var o=Sa(t,mC),l=Sa(t,Fb),c=[].concat(LR(o),LR(l)),u=Sa(t,qb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&ti(x.props,"extendDomain")&&_e(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&ti(x.props,"extendDomain")&&_e(x.props[m])&&_e(x.props[g])){var b=x.props[m],y=x.props[g];return[Math.min(p[0],b,y),Math.max(p[1],b,y)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return _e(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},FB={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,y,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];x.fn.apply(x.context,y)}else{var _=x.length,j;for(w=0;w<_;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];x[w].fn.apply(x[w].context,y)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(FB);var uAe=FB.exports;const dAe=zt(uAe);var E0=new dAe,P0="recharts.syncMouseEvents";function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UB(n.key),n)}}function mAe(e,t,r){return t&&hAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O0(e,t,r){return t=UB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UB(e){var t=pAe(e,"string");return Km(t)=="symbol"?t:t+""}function pAe(e,t){if(Km(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var gAe=function(){function e(){fAe(this,e),O0(this,"activeIndex",0),O0(this,"coordinateList",[]),O0(this,"layout","horizontal")}return mAe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function vAe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&_e(n)&&_e(s))return!0}return!1}function yAe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function qB(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=un(t,r,n,s),l=un(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function xAe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=un(l,c,u,f),m=un(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return qB(t);return[{x:n,y:s},{x:i,y:o}]}function Hm(e){"@babel/helpers - typeof";return Hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hm(e)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Og(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){bAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bAe(e,t,r){return t=wAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wAe(e){var t=jAe(e,"string");return Hm(t)=="symbol"?t:t+""}function jAe(e,t){if(Hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Ae(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=Ah;if(h==="ScatterChart")g=o,p=CCe;else if(h==="BarChart")g=yAe(f,o,c,d),p=iC;else if(f==="radial"){var x=qB(o),b=x.cx,y=x.cy,w=x.radius,_=x.startAngle,j=x.endAngle;g={cx:b,cy:y,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=Bq}else g={points:xAe(f,o,c)},p=Ah;var S=Og(Og(Og(Og({stroke:"#ccc",pointerEvents:"none"},c),g),pt(m,!1)),{},{payload:l,payloadIndex:u,className:jt("recharts-tooltip-cursor",m.className)});return v.isValidElement(m)?v.cloneElement(m,S):v.createElement(p,S)}var SAe=["item"],NAe=["children","className","width","height","style","compact","title","desc"];function Bd(e){"@babel/helpers - typeof";return Bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bd(e)}function Cu(){return Cu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cu.apply(this,arguments)}function UR(e,t){return EAe(e)||CAe(e,t)||zB(e,t)||kAe()}function kAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function EAe(e){if(Array.isArray(e))return e}function qR(e,t){if(e==null)return{};var r=PAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function OAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function TAe(e,t,r){return t&&AAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RAe(e,t,r){return t=ex(t),MAe(e,BB()?Reflect.construct(t,r||[],ex(e).constructor):t.apply(e,r))}function MAe(e,t){if(t&&(Bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ae(e)}function $Ae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function ex(e){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ex(e)}function IAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eS(e,t)}function eS(e,t){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eS(e,t)}function zd(e){return FAe(e)||LAe(e)||zB(e)||DAe()}function DAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zB(e,t){if(e){if(typeof e=="string")return tS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tS(e,t)}}function LAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FAe(e){if(Array.isArray(e))return tS(e)}function tS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=UAe(e,"string");return Bd(t)=="symbol"?t:t+""}function UAe(e,t){if(Bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qAe={xAxis:["bottom","top"],yAxis:["left","right"]},BAe={width:"100%",height:"100%"},VB={x:0,y:0};function Ag(e){return e}var zAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},WAe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return ne(ne(ne({},s),un(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return ne(ne(ne({},s),un(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return VB},Bb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(zd(l),zd(u)):l},[]);return o.length>0?o:t&&t.length&&_e(s)&&_e(i)?t.slice(s,i+1):[]};function KB(e){return e==="number"?[0,"auto"]:void 0}var rS=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Bb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Zv(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(zd(c),[Fq(u,h)]):c},[])},zR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=zAe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=aSe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=rS(t,r,d,f),m=WAe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},VAe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=Iq(d,i);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?ne(ne({},p.type.defaultProps),p.props):p.props,y=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var O=Bb(t.data,{graphicalItems:s.filter(function(F){var ie,ye=o in F.props?F.props[o]:(ie=F.type.defaultProps)===null||ie===void 0?void 0:ie[o];return ye===C}),dataStartIndex:c,dataEndIndex:u}),D=O.length,E,L,M;vAe(b.domain,_,y)&&(E=w1(b.domain,null,_),m&&(y==="number"||S!=="auto")&&(M=Oh(O,w,"category")));var K=KB(y);if(!E||E.length===0){var A,V=(A=b.domain)!==null&&A!==void 0?A:K;if(w){if(E=Oh(O,w,y),y==="category"&&m){var T=Kue(E);j&&T?(L=E,E=Uy(0,D)):j||(E=NT(V,E,p).reduce(function(F,ie){return F.indexOf(ie)>=0?F:[].concat(zd(F),[ie])},[]))}else if(y==="category")j?E=E.filter(function(F){return F!==""&&!yt(F)}):E=NT(V,E,p).reduce(function(F,ie){return F.indexOf(ie)>=0||ie===""||yt(ie)?F:[].concat(zd(F),[ie])},[]);else if(y==="number"){var $=uSe(O,s.filter(function(F){var ie,ye,ze=o in F.props?F.props[o]:(ie=F.type.defaultProps)===null||ie===void 0?void 0:ie[o],Ke="hide"in F.props?F.props.hide:(ye=F.type.defaultProps)===null||ye===void 0?void 0:ye.hide;return ze===C&&(k||!Ke)}),w,i,d);$&&(E=$)}m&&(y==="number"||S!=="auto")&&(M=Oh(O,w,"category"))}else m?E=Uy(0,D):l&&l[C]&&l[C].hasStack&&y==="number"?E=h==="expand"?[0,1]:Lq(l[C].stackGroups,c,u):E=$q(O,s.filter(function(F){var ie=o in F.props?F.props[o]:F.type.defaultProps[o],ye="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return ie===C&&(k||!ye)}),y,d,!0);if(y==="number")E=Z1(f,E,C,i,N),V&&(E=w1(V,E,_));else if(y==="category"&&V){var I=V,ee=E.every(function(F){return I.indexOf(F)>=0});ee&&(E=I)}}return ne(ne({},g),{},Ge({},C,ne(ne({},b),{},{axisType:i,domain:E,categoricalDomain:M,duplicateDomain:L,originalDomain:(x=b.domain)!==null&&x!==void 0?x:K,isCategorical:m,layout:d})))},{})},KAe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Bb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=Iq(d,i),p=-1;return n.reduce(function(x,b){var y=b.type.defaultProps!==void 0?ne(ne({},b.type.defaultProps),b.props):b.props,w=y[o],_=KB("number");if(!x[w]){p++;var j;return g?j=Uy(0,m):l&&l[w]&&l[w].hasStack?(j=Lq(l[w].stackGroups,c,u),j=Z1(f,j,w,i)):(j=w1(_,$q(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],O="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!O}),"number",d),s.defaultProps.allowDataOverflow),j=Z1(f,j,w,i)),ne(ne({},x),{},Ge({},w,ne(ne({axisType:i},s.defaultProps),{},{hide:!0,orientation:Us(qAe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},HAe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=Sa(d,i),m={};return h&&h.length?m=VAe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=KAe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},GAe=function(t){var r=Oo(t),n=Pi(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Rk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Oy(r,n)}},WR=function(t){var r=t.children,n=t.defaultShowTooltip,s=is(r,Rd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},YAe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Mi(r&&r.type);return n&&n.indexOf("Bar")>=0})},VR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},QAe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=is(f,Rd),g=is(f,Fu),p=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?ne(ne({},j),{},Ge({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?ne(ne({},j),{},Ge({},k,Us(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=ne(ne({},x),p),y=b.bottom;m&&(b.bottom+=m.props.height||Rd.defaultProps.height),g&&r&&(b=lSe(b,s,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return ne(ne({brushBottom:y},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},XAe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},HB=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,y){var w=y.graphicalItems,_=y.stackGroups,j=y.offset,S=y.updateId,N=y.dataStartIndex,k=y.dataEndIndex,C=b.barSize,O=b.layout,D=b.barGap,E=b.barCategoryGap,L=b.maxBarSize,M=VR(O),K=M.numericAxisName,A=M.cateAxisName,V=YAe(w),T=[];return w.forEach(function($,I){var ee=Bb(b.data,{graphicalItems:[$],dataStartIndex:N,dataEndIndex:k}),F=$.type.defaultProps!==void 0?ne(ne({},$.type.defaultProps),$.props):$.props,ie=F.dataKey,ye=F.maxBarSize,ze=F["".concat(K,"Id")],Ke=F["".concat(A,"Id")],me={},Se=c.reduce(function(B,G){var z=y["".concat(G.axisType,"Map")],fe=F["".concat(G.axisType,"Id")];z&&z[fe]||G.axisType==="zAxis"||Ec();var ve=z[fe];return ne(ne({},B),{},Ge(Ge({},G.axisType,ve),"".concat(G.axisType,"Ticks"),Pi(ve)))},me),re=Se[A],pe=Se["".concat(A,"Ticks")],Y=_&&_[ze]&&_[ze].hasStack&&jSe($,_[ze].stackGroups),Q=Mi($.type).indexOf("Bar")>=0,Xe=Oy(re,pe),He=[],xt=V&&iSe({barSize:C,stackGroups:_,totalSize:XAe(Se,A)});if(Q){var ft,Wt,Cr=yt(ye)?L:ye,hn=(ft=(Wt=Oy(re,pe,!0))!==null&&Wt!==void 0?Wt:Cr)!==null&&ft!==void 0?ft:0;He=oSe({barGap:D,barCategoryGap:E,bandSize:hn!==Xe?hn:Xe,sizeList:xt[Ke],maxBarSize:Cr}),hn!==Xe&&(He=He.map(function(B){return ne(ne({},B),{},{position:ne(ne({},B.position),{},{offset:B.position.offset-hn/2})})}))}var js=$&&$.type&&$.type.getComposedData;js&&T.push({props:ne(ne({},js(ne(ne({},Se),{},{displayedData:ee,props:b,dataKey:ie,item:$,bandSize:Xe,barPosition:He,offset:j,stackedData:Y,layout:O,dataStartIndex:N,dataEndIndex:k}))),{},Ge(Ge(Ge({key:$.key||"item-".concat(I)},K,Se[K]),A,Se[A]),"animationId",S)),childIndex:ade($,b.children),item:$})}),T},m=function(b,y){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!yO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,O=w.data,D=w.reverseStackOrder,E=VR(k),L=E.numericAxisName,M=E.cateAxisName,K=Sa(N,n),A=xSe(O,K,"".concat(L,"Id"),"".concat(M,"Id"),C,D),V=c.reduce(function(F,ie){var ye="".concat(ie.axisType,"Map");return ne(ne({},F),{},Ge({},ye,HAe(w,ne(ne({},ie),{},{graphicalItems:K,stackGroups:ie.axisType===L&&A,dataStartIndex:_,dataEndIndex:j}))))},{}),T=QAe(ne(ne({},V),{},{props:w,graphicalItems:K}),y==null?void 0:y.legendBBox);Object.keys(V).forEach(function(F){V[F]=d(w,V[F],T,F.replace("Map",""),r)});var $=V["".concat(M,"Map")],I=GAe($),ee=h(w,ne(ne({},V),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:K,stackGroups:A,offset:T}));return ne(ne({formattedGraphicalItems:ee,graphicalItems:K,offset:T,stackGroups:A},I),V)},g=function(x){function b(y){var w,_,j;return OAe(this,b),j=RAe(this,b,[y]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new gAe),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,O=N.updateId;j.setState(ne({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:O},ne(ne({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ge(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return ne({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=ne(ne({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;ut(C)&&C(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?ne(ne({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;ut(C)&&C(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;ut(k)&&k(N,S)}),Ge(j,"handleOuterEvent",function(S){var N=sde(S),k=Us(j.props,"".concat(N));if(N&&ut(k)){var C,O;/.*touch.*/i.test(N)?O=j.getMouseInfo(S.changedTouches[0]):O=j.getMouseInfo(S),k((C=O)!==null&&C!==void 0?C:{},S)}}),Ge(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=ne(ne({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;ut(C)&&C(k,S)}}),Ge(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(ut(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&E0.emit(P0,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,O=j.state.updateId,D=S.dataStartIndex,E=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(ne({dataStartIndex:D,dataEndIndex:E},m({props:j.props,dataStartIndex:D,dataEndIndex:E,updateId:O},j.state)));else if(S.activeTooltipIndex!==void 0){var L=S.chartX,M=S.chartY,K=S.activeTooltipIndex,A=j.state,V=A.offset,T=A.tooltipTicks;if(!V)return;if(typeof C=="function")K=C(T,S);else if(C==="value"){K=-1;for(var $=0;$<T.length;$++)if(T[$].value===S.activeLabel){K=$;break}}var I=ne(ne({},V),{},{x:V.left,y:V.top}),ee=Math.min(L,I.x+I.width),F=Math.min(M,I.y+I.height),ie=T[K]&&T[K].value,ye=rS(j.state,j.props.data,K),ze=T[K]?{x:k==="horizontal"?T[K].coordinate:ee,y:k==="horizontal"?F:T[K].coordinate}:VB;j.setState(ne(ne({},S),{},{activeLabel:ie,activeCoordinate:ze,activePayload:ye,activeTooltipIndex:K}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,O=k.activeCoordinate,D=k.activePayload,E=k.offset,L=k.activeTooltipIndex,M=k.tooltipAxisBandSize,K=j.getTooltipEventType(),A=(N=S.props.active)!==null&&N!==void 0?N:C,V=j.props.layout,T=S.key||"_recharts-cursor";return R.createElement(_Ae,{key:T,activeCoordinate:O,activePayload:D,activeTooltipIndex:L,chartName:r,element:S,isActive:A,layout:V,offset:E,tooltipAxisBandSize:M,tooltipEventType:K})}),Ge(j,"renderPolarAxis",function(S,N,k){var C=Us(S,"type.axisType"),O=Us(j.state,"".concat(C,"Map")),D=S.type.defaultProps,E=D!==void 0?ne(ne({},D),S.props):S.props,L=O&&O[E["".concat(C,"Id")]];return v.cloneElement(S,ne(ne({},L),{},{className:jt(C,L.className),key:S.key||"".concat(N,"-").concat(k),ticks:Pi(L,!0)}))}),Ge(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,O=N.polarRadius,D=j.state,E=D.radiusAxisMap,L=D.angleAxisMap,M=Oo(E),K=Oo(L),A=K.cx,V=K.cy,T=K.innerRadius,$=K.outerRadius;return v.cloneElement(S,{polarAngles:Array.isArray(C)?C:Pi(K,!0).map(function(I){return I.coordinate}),polarRadius:Array.isArray(O)?O:Pi(M,!0).map(function(I){return I.coordinate}),cx:A,cy:V,innerRadius:T,outerRadius:$,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,O=N.height,D=j.props.margin||{},E=C-(D.left||0)-(D.right||0),L=Rq({children:k,formattedGraphicalItems:S,legendWidth:E,legendContent:u});if(!L)return null;var M=L.item,K=qR(L,SAe);return v.cloneElement(M,ne(ne({},K),{},{chartWidth:C,chartHeight:O,margin:D,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,O=is(k,Es);if(!O)return null;var D=j.state,E=D.isTooltipActive,L=D.activeCoordinate,M=D.activePayload,K=D.activeLabel,A=D.offset,V=(S=O.props.active)!==null&&S!==void 0?S:E;return v.cloneElement(O,{viewBox:ne(ne({},A),{},{x:A.left,y:A.top}),active:V,label:K,payload:V?M:[],coordinate:L,accessibilityLayer:C})}),Ge(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,O=j.state,D=O.offset,E=O.dataStartIndex,L=O.dataEndIndex,M=O.updateId;return v.cloneElement(S,{key:S.key||"_recharts-brush",onChange:kg(j.handleBrushChange,S.props.onChange),data:C,x:_e(S.props.x)?S.props.x:D.left,y:_e(S.props.y)?S.props.y:D.top+D.height+D.brushBottom-(k.bottom||0),width:_e(S.props.width)?S.props.width:D.width,startIndex:E,endIndex:L,updateId:"brush-".concat(M)})}),Ge(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,O=C.clipPathId,D=j.state,E=D.xAxisMap,L=D.yAxisMap,M=D.offset,K=S.type.defaultProps||{},A=S.props,V=A.xAxisId,T=V===void 0?K.xAxisId:V,$=A.yAxisId,I=$===void 0?K.yAxisId:$;return v.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:E[T],yAxis:L[I],viewBox:{x:M.left,y:M.top,width:M.width,height:M.height},clipPathId:O})}),Ge(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,O=S.childIndex,D=S.isRange,E=[],L=N.props.key,M=N.item.type.defaultProps!==void 0?ne(ne({},N.item.type.defaultProps),N.item.props):N.item.props,K=M.activeDot,A=M.dataKey,V=ne(ne({index:O,dataKey:A,cx:k.x,cy:k.y,r:4,fill:aC(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},pt(K,!1)),ey(K));return E.push(b.renderActiveDot(K,V,"".concat(L,"-activePoint-").concat(O))),C?E.push(b.renderActiveDot(K,ne(ne({},V),{},{cx:C.x,cy:C.y}),"".concat(L,"-basePoint-").concat(O))):D&&E.push(null),E}),Ge(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var O=j.getTooltipEventType(),D=j.state,E=D.isTooltipActive,L=D.tooltipAxis,M=D.activeTooltipIndex,K=D.activeLabel,A=j.props.children,V=is(A,Es),T=C.props,$=T.points,I=T.isRange,ee=T.baseLine,F=C.item.type.defaultProps!==void 0?ne(ne({},C.item.type.defaultProps),C.item.props):C.item.props,ie=F.activeDot,ye=F.hide,ze=F.activeBar,Ke=F.activeShape,me=!!(!ye&&E&&V&&(ie||ze||Ke)),Se={};O!=="axis"&&V&&V.props.trigger==="click"?Se={onClick:kg(j.handleItemMouseEnter,S.props.onClick)}:O!=="axis"&&(Se={onMouseLeave:kg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:kg(j.handleItemMouseEnter,S.props.onMouseEnter)});var re=v.cloneElement(S,ne(ne({},C.props),Se));function pe(G){return typeof L.dataKey=="function"?L.dataKey(G.payload):null}if(me)if(M>=0){var Y,Q;if(L.dataKey&&!L.allowDuplicatedCategory){var Xe=typeof L.dataKey=="function"?pe:"payload.".concat(L.dataKey.toString());Y=Zv($,Xe,K),Q=I&&ee&&Zv(ee,Xe,K)}else Y=$==null?void 0:$[M],Q=I&&ee&&ee[M];if(Ke||ze){var He=S.props.activeIndex!==void 0?S.props.activeIndex:M;return[v.cloneElement(S,ne(ne(ne({},C.props),Se),{},{activeIndex:He})),null,null]}if(!yt(Y))return[re].concat(zd(j.renderActivePoints({item:C,activePoint:Y,basePoint:Q,childIndex:M,isRange:I})))}else{var xt,ft=(xt=j.getItemByXY(j.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:re},Wt=ft.graphicalItem,Cr=Wt.item,hn=Cr===void 0?S:Cr,js=Wt.childIndex,B=ne(ne(ne({},C.props),Se),{},{activeIndex:js});return[v.cloneElement(hn,B),null,null]}return I?[re,null,null]:[re,null]}),Ge(j,"renderCustomized",function(S,N,k){return v.cloneElement(S,ne(ne({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:Ag,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:Ag},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:Ag},YAxis:{handler:Ag},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=y.id)!==null&&w!==void 0?w:Sp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=RU(j.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return IAe(b,x),TAe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=is(_,Es);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,D=rS(this.state,j,C,O),E=this.state.tooltipTicks[C].coordinate,L=(this.state.offset.top+S)/2,M=N==="horizontal",K=M?{x:E,y:L}:{y:E,x:L},A=this.state.formattedGraphicalItems.find(function(T){var $=T.item;return $.type.name==="Scatter"});A&&(K=ne(ne({},K),A.props.points[C].tooltipPosition),D=A.props.points[C].tooltipPayload);var V={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:O,activePayload:D,activeCoordinate:K};this.setState(V),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){$_([is(w.children,Es)],[is(this.props.children,Es)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=is(this.props.children,Es);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Awe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var O=this.state,D=O.xAxisMap,E=O.yAxisMap,L=this.getTooltipEventType(),M=zR(this.state,this.props.data,this.props.layout,C);if(L!=="axis"&&D&&E){var K=Oo(D).scale,A=Oo(E).scale,V=K&&K.invert?K.invert(N.chartX):null,T=A&&A.invert?A.invert(N.chartY):null;return ne(ne({},N),{},{xValue:V,yValue:T},M)}return M?ne(ne({},N),M):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,O=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return O?{x:N,y:k}:null}var D=this.state,E=D.angleAxisMap,L=D.radiusAxisMap;if(E&&L){var M=Oo(E);return ET({x:N,y:k},M)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=is(w,Es),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=ey(this.props,this.handleOuterEvent);return ne(ne({},N),S)}},{key:"addListener",value:function(){E0.on(P0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E0.removeListener(P0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===Mi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return R.createElement("defs",null,R.createElement("clipPath",{id:w},R.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=UR(j,2),N=S[0],k=S[1];return ne(ne({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=UR(j,2),N=S[0],k=S[1];return ne(ne({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],O=C.props,D=C.item,E=D.type.defaultProps!==void 0?ne(ne({},D.type.defaultProps),D.props):D.props,L=Mi(D.type);if(L==="Bar"){var M=(O.data||[]).find(function(T){return vCe(w,T)});if(M)return{graphicalItem:C,payload:M}}else if(L==="RadialBar"){var K=(O.data||[]).find(function(T){return ET(w,T)});if(K)return{graphicalItem:C,payload:K}}else if($b(C,S)||Ib(C,S)||qm(C,S)){var A=b2e({graphicalItem:C,activeTooltipItem:S,itemData:E.data}),V=E.activeIndex===void 0?A:E.activeIndex;return{graphicalItem:ne(ne({},C),{},{childIndex:V}),payload:qm(C,S)?E.data[A]:C.props.data[A]}}}return null}},{key:"render",value:function(){var w=this;if(!yO(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,O=_.compact,D=_.title,E=_.desc,L=qR(_,NAe),M=pt(L,!1);if(O)return R.createElement(_R,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement(D_,Cu({},M,{width:N,height:k,title:D,desc:E}),this.renderClipPath(),bO(j,this.renderMap)));if(this.props.accessibilityLayer){var K,A;M.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,M.role=(A=this.props.role)!==null&&A!==void 0?A:"application",M.onKeyDown=function(T){w.accessibilityManager.keyboardEvent(T)},M.onFocus=function(){w.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return R.createElement(_R,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},R.createElement("div",Cu({className:jt("recharts-wrapper",S),style:ne({position:"relative",cursor:"default",width:N,height:k},C)},V,{ref:function($){w.container=$}}),R.createElement(D_,Cu({},M,{width:N,height:k,title:D,desc:E,style:BAe}),this.renderClipPath(),bO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(v.Component);Ge(g,"displayName",r),Ge(g,"defaultProps",ne({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(g,"getDerivedStateFromProps",function(x,b){var y=x.dataKey,w=x.data,_=x.children,j=x.width,S=x.height,N=x.layout,k=x.stackOffset,C=x.margin,O=b.dataStartIndex,D=b.dataEndIndex;if(b.updateId===void 0){var E=WR(x);return ne(ne(ne({},E),{},{updateId:0},m(ne(ne({props:x},E),{},{updateId:0}),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(y!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Lu(C,b.prevMargin)){var L=WR(x),M={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},K=ne(ne({},zR(b,w,N)),{},{updateId:b.updateId+1}),A=ne(ne(ne({},L),M),K);return ne(ne(ne({},A),m(ne({props:x},A),b)),{},{prevDataKey:y,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!$_(_,b.prevChildren)){var V,T,$,I,ee=is(_,Rd),F=ee&&(V=(T=ee.props)===null||T===void 0?void 0:T.startIndex)!==null&&V!==void 0?V:O,ie=ee&&($=(I=ee.props)===null||I===void 0?void 0:I.endIndex)!==null&&$!==void 0?$:D,ye=F!==O||ie!==D,ze=!yt(w),Ke=ze&&!ye?b.updateId:b.updateId+1;return ne(ne({updateId:Ke},m(ne(ne({props:x},b),{},{updateId:Ke,dataStartIndex:F,dataEndIndex:ie}),b)),{},{prevChildren:_,dataStartIndex:F,dataEndIndex:ie})}return null}),Ge(g,"renderActiveDot",function(x,b,y){var w;return v.isValidElement(x)?w=v.cloneElement(x,b):ut(x)?w=x(b):w=R.createElement(oC,b),R.createElement(fr,{className:"recharts-active-dot",key:y},w)});var p=v.forwardRef(function(b,y){return R.createElement(g,Cu({},b,{ref:y}))});return p.displayName=g.displayName,p},JAe=HB({chartName:"BarChart",GraphicalChild:Uc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Oc},{axisType:"yAxis",AxisComp:Ac}],formatAxisMap:cB}),GB=HB({chartName:"AreaChart",GraphicalChild:oo,axisComponents:[{axisType:"xAxis",AxisComp:Oc},{axisType:"yAxis",AxisComp:Ac}],formatAxisMap:cB});const Ra={getProviders:async()=>{const{data:e,error:t}=await U.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await U.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await U.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await U.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=U.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await U.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await U.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=U.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Ra.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await U.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await U.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await U.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function vC(e,t){return e().catch(()=>t)}const Rr={all:["model-providers"],providers:()=>[...Rr.all,"providers"],provider:e=>[...Rr.all,"provider",e],requests:e=>[...Rr.all,"requests",e],request:e=>[...Rr.all,"request",e],usageMetrics:e=>[...Rr.all,"usage-metrics",e],usageSummary:e=>[...Rr.all,"usage-summary",e],configOverride:e=>[...Rr.all,"config-override",e]};function ZAe(){return Ce({queryKey:Rr.providers(),queryFn:()=>vC(()=>Ra.getProviders(),[])})}function eTe(){const e=de();return ce({mutationFn:t=>Ra.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.providers()}),q.success("Provider added")},onError:t=>{q.error(t.message||"Failed to add provider")}})}function tTe(){const e=de();return ce({mutationFn:({id:t,data:r})=>Ra.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Rr.providers()}),e.invalidateQueries({queryKey:Rr.provider(r)}),q.success("Provider updated")},onError:t=>{q.error(t.message||"Failed to update provider")}})}function rTe(){const e=de();return ce({mutationFn:t=>Ra.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.providers()}),e.invalidateQueries({queryKey:Rr.requests()}),q.success("Provider removed")},onError:t=>{q.error(t.message||"Failed to remove provider")}})}function nTe(e){return Ce({queryKey:Rr.requests(e),queryFn:()=>vC(()=>Ra.getRequests(e),[])})}function sTe(){const e=de();return ce({mutationFn:t=>Ra.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.requests()}),q.success("Request logged")},onError:t=>{q.error(t.message||"Failed to log request")}})}function aTe(e){return Ce({queryKey:Rr.usageMetrics(e),queryFn:()=>vC(()=>Ra.getUsageMetrics(e),[])})}function iTe(e){return Ce({queryKey:Rr.usageSummary(e),queryFn:()=>Ra.getUsageSummary(e)})}function oTe(){const e=de();return ce({mutationFn:t=>Ra.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Rr.usageMetrics()}),e.invalidateQueries({queryKey:Rr.usageSummary()})},onError:t=>{q.error(t.message||"Failed to record usage")}})}function lTe(){const e=de();return ce({mutationFn:t=>Ra.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Rr.configOverride(r.request_id)}),q.success("Configuration saved")},onError:t=>{q.error(t.message||"Failed to save configuration")}})}const KR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},cTe=tt({name:be().min(1,"Name is required").max(128),slug:ar(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:be().url().optional().or(nk("")),priority:An.number().int().min(0).max(999),is_default:Gr(),status:ar(["active","inactive","error"])});function uTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=Ze({resolver:et(cTe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});v.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Re,{open:e,onOpenChange:c,children:a.jsxs(Pe,{className:"max-w-md",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:i?"Edit provider":"Add provider"}),a.jsx(Te,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:J(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider type"}),a.jsxs(ot,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(it,{children:Object.keys(KR).map(u=>a.jsx(Ne,{value:u,children:KR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(H,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(Rt,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"}),a.jsx(Ne,{value:"error",children:"Error"})]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const dTe=tt({provider_id:be().uuid().optional().nullable(),model_name:be().max(128).optional(),temperature:An.number().min(0).max(2).optional(),max_tokens:An.number().int().min(1).max(128e3).optional()}),fTe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},hTe={active:"success",inactive:"secondary",error:"destructive"};function mTe(){const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s]=v.useState(()=>ak(new Date,7).toISOString()),{data:i=[],isLoading:o}=ZAe(),{data:l=[],isLoading:c}=nTe({limit:50}),{data:u,isLoading:d}=iTe({since:s}),{data:f=[]}=aTe({limit:100,since:s}),h=eTe(),m=tTe(),g=rTe(),p=sTe(),x=oTe(),b=lTe(),y=Ze({resolver:et(dTe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=S=>{r?m.mutate({id:r.id,data:{name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??void 0,priority:S.priority,is_default:S.is_default,status:S.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??null,priority:S.priority,is_default:S.is_default,status:S.status},{onSuccess:()=>t(!1)})},_=y.handleSubmit(async S=>{var C,O;const N=S.provider_id??((C=i.find(D=>D.is_default))==null?void 0:C.id)??((O=i[0])==null?void 0:O.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:S.model_name??null,temperature:S.temperature??null,max_tokens:S.max_tokens??null}),await x.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),y.reset()}),j=f.slice().reverse().reduce((S,N)=>{const k=Ka(N.created_at,"yyyy-MM-dd");S.find(O=>O.date===k)||S.push({date:k,tokens:0,requests:0});const C=S.find(O=>O.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),S},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(ci,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(St,{value:"request",className:"gap-2",children:[a.jsx(fd,{className:"h-4 w-4"}),"Request"]}),a.jsxs(St,{value:"usage",className:"gap-2",children:[a.jsx(lh,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(St,{value:"providers",className:"gap-2",children:[a.jsx(wa,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Nt,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"New request"}),a.jsx(he,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:y.watch("provider_id")??"",onValueChange:S=>y.setValue("provider_id",S||null),children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Default provider"})}),a.jsxs(it,{children:[i.map(S=>a.jsxs(Ne,{value:S.id,children:[S.name," ",S.is_default&&"(default)"]},S.id)),i.length===0&&a.jsx(Ne,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...y.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...y.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...y.register("max_tokens")})]})]}),a.jsx(P,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Recent requests"}),a.jsx(he,{children:"Last 50 model requests"})]}),a.jsx(Z,{children:c?a.jsx(oe,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(ht,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(S=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(op,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.provider_id?((N=i.find(k=>k.id===S.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:kr(S.created_at,{addSuffix:!0})})]})]}),a.jsx(We,{variant:fTe[S.status],children:S.status})]},S.id)})})})})]})]}),a.jsxs(Nt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(oe,{className:"h-24 rounded-lg"}),a.jsx(oe,{className:"h-24 rounded-lg"}),a.jsx(oe,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(AE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(AE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(A7,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Usage over time"}),a.jsx(he,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(Z,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(s1,{width:"100%",height:280,children:a.jsxs(GB,{data:j,children:[a.jsx(Qy,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Oc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ac,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Es,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(oo,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Nt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(oe,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(wa,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(S=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(te,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-base flex items-center gap-2",children:[S.name,S.is_default&&a.jsx(We,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(he,{className:"text-xs mt-1",children:[S.api_endpoint_base??S.slug," Priority ",S.priority]})]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{n(S),t(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(S.id),children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(Z,{children:a.jsx(We,{variant:hTe[S.status],children:S.status})})]},S.id))})]})]}),a.jsx(uTe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const Un={getProfiles:async()=>{const{data:e,error:t}=await U.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await U.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await U.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await U.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await U.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await U.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await U.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await U.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await U.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await U.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await U.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await U.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=U.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await U.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await U.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await U.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await U.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await U.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await U.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await U.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await U.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await U.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await U.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await U.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function yC(e,t){return e().catch(()=>t)}const Kt={all:["browser"],profiles:()=>[...Kt.all,"profiles"],profile:e=>[...Kt.all,"profile",e??""],tabs:e=>[...Kt.all,"tabs",e??""],tab:e=>[...Kt.all,"tab",e??""],scripts:()=>[...Kt.all,"scripts"],script:e=>[...Kt.all,"script",e??""],captures:(e,t)=>[...Kt.all,"captures",e??"",t],commands:e=>[...Kt.all,"commands",e??""],command:e=>[...Kt.all,"command",e??""],cdpTokens:()=>[...Kt.all,"cdpTokens"],cdpToken:e=>[...Kt.all,"cdpToken",e??""]};function pTe(){return Ce({queryKey:Kt.profiles(),queryFn:()=>yC(()=>Un.getProfiles(),[])})}function gTe(e){return Ce({queryKey:Kt.profile(e),queryFn:()=>e?Un.getProfile(e):Promise.resolve(null),enabled:!!e})}function vTe(){const e=de();return ce({mutationFn:t=>Un.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.profiles()}),q.success("Profile created")},onError:t=>{q.error(t.message||"Failed to create profile")}})}function yTe(){const e=de();return ce({mutationFn:({id:t,data:r})=>Un.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Kt.profiles()}),e.invalidateQueries({queryKey:Kt.profile(r)}),q.success("Profile updated")},onError:t=>{q.error(t.message||"Failed to update profile")}})}function xTe(e){return Ce({queryKey:Kt.tabs(e),queryFn:()=>Un.getTabs(e),enabled:!!e})}function bTe(){return Ce({queryKey:Kt.scripts(),queryFn:()=>yC(()=>Un.getScripts(),[])})}function wTe(){const e=de();return ce({mutationFn:t=>Un.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.scripts()}),q.success("Script added")},onError:t=>{q.error(t.message||"Failed to add script")}})}function jTe(e,t){return Ce({queryKey:Kt.captures(e,t),queryFn:()=>Un.getCaptureRecords(e,t),enabled:!!e})}function _Te(){const e=de();return ce({mutationFn:t=>Un.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.captures(r.browser_profile_id)}),q.success("Capture saved")},onError:t=>{q.error(t.message||"Failed to save capture")}})}function STe(){const e=de();return ce({mutationFn:t=>Un.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),q.success("Capture removed")},onError:t=>{q.error(t.message||"Failed to remove capture")}})}function NTe(e){return Ce({queryKey:Kt.commands(e),queryFn:()=>Un.getCommands(e),enabled:!!e})}function kTe(){const e=de();return ce({mutationFn:t=>Un.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Kt.commands(r.browser_profile_id)}),q.success("Command added to queue")},onError:t=>{q.error(t.message||"Failed to add command")}})}function CTe(){const e=de();return ce({mutationFn:t=>Un.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.all}),q.success("Command removed")},onError:t=>{q.error(t.message||"Failed to remove command")}})}function ETe(){return Ce({queryKey:Kt.cdpTokens(),queryFn:()=>yC(()=>Un.getCdpTokens(),[])})}function PTe(){const e=de();return ce({mutationFn:t=>Un.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Kt.cdpTokens()}),q.success("CDP token added")},onError:t=>{q.error(t.message||"Failed to add CDP token")}})}function OTe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Te,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(im,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function ATe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Te,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:J("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Ai,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const TTe=tt({name:be().min(1,"Name is required").max(200,"Name too long"),script_content:be().optional()}),HR={name:"",script_content:""};function RTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(TTe),defaultValues:HR}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(HR),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add automation script"}),a.jsx(Te,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const MTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},$Te={screenshot:am,pdf:sr,dom:Ov};function ITe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=$Te[r],c=MTe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Te,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(P,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const DTe=tt({connection_type:ar(["local","node_proxy"]),token_preview:be().max(20).optional(),config_json:be().optional()}),A0={connection_type:"local",token_preview:"",config_json:"{}"};function LTe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(DTe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:A0}),f=c("connection_type");v.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:A0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(A0),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Te,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Connection type"}),a.jsxs(ot,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local"}),a.jsx(Ne,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(MI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const FTe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],UTe=tt({command_type:ar(["click","type","select","navigate","scroll","wait","screenshot"]),selector:be().optional(),text:be().optional(),url:be().url().optional().or(nk("")),value:be().optional(),x:An.number().optional(),y:An.number().optional(),ms:An.number().min(0).optional(),sequence_order:An.number().min(0).optional()}),T0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function qTe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=Ze({resolver:et(UTe),defaultValues:{...T0,sequence_order:n}}),h=c("command_type");v.useEffect(()=>{e&&r&&d({...T0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,y;const x={};return(b=p.selector)!=null&&b.trim()&&(x.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(x.text=p.text),(y=p.url)!=null&&y.trim()&&(x.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(x.value=p.value),p.x!==void 0&&(x.x=p.x),p.y!==void 0&&(x.y=p.y),p.ms!==void 0&&(x.ms=p.ms),x},g=p=>{if(!r)return;const x=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:x,sequence_order:p.sequence_order??n,status:"pending"}),d({...T0,sequence_order:n+1}),t(!1)};return r?a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add command to queue"}),a.jsx(Te,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Command type"}),a.jsxs(ot,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(at,{className:"w-full",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(it,{children:FTe.map(({value:p,label:x})=>a.jsx(Ne,{value:p,children:x},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const BTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},zTe={screenshot:am,pdf:sr,dom:Ov};function WTe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Captured outputs"}),a.jsx(Te,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(ht,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(am,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=zTe[l.capture_type],u=BTe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:J("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ai,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Sr,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const VTe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},GR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function KTe(){const[e,t]=v.useState(null),[r,n]=v.useState(null),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(!1),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(!1),[x,b]=v.useState(!1),{data:y=[],isLoading:w}=pTe(),_=v.useMemo(()=>y.find(Y=>Y.status==="running")??y[0]??null,[y]),j=r??(_==null?void 0:_.id)??null,{data:S}=gTe(j),{data:N=[],isLoading:k,refetch:C}=xTe(j),{data:O=[],isLoading:D}=bTe(),{data:E=[]}=jTe(j,{limit:20}),{data:L=[]}=ETe(),{data:M=[],isLoading:K}=NTe(j),A=yTe(),V=vTe(),T=wTe(),$=_Te(),I=STe(),ee=PTe(),F=kTe(),ie=CTe(),ye=(S==null?void 0:S.status)==="running",ze=v.useMemo(()=>M.length===0?0:Math.max(...M.map(Y=>Y.sequence_order),0)+1,[M]),Ke=Y=>{j&&t({open:!0,action:Y})},me=()=>{if(!e||!j)return;const Y=e.action==="start"?"running":"stopped";A.mutate({id:j,data:{status:Y}},{onSettled:()=>t(null)})},Se=Y=>{j&&$.mutate({browser_profile_id:j,capture_type:Y,file_path:null,file_url:`/api/browser/captures/${Y}-${Date.now()}`,tab_id:null},{onSuccess:Q=>{f({open:!0,type:Y,fileUrl:Q.file_url,filePath:Q.file_path})}})},re=Y=>{if(Y.file_url){const Q=document.createElement("a");Q.href=Y.file_url,Q.download=`capture-${Y.capture_type}-${Date.now()}`,Q.click()}},pe=v.useMemo(()=>{const Y=[];return M.slice(0,5).forEach(Q=>{Y.push({id:Q.id,label:`${GR[Q.command_type]}  ${Q.status}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),E.slice(0,3).forEach(Q=>{Y.push({id:Q.id,label:`Capture: ${Q.capture_type}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),Y.sort((Q,Xe)=>Xe.createdAt.localeCompare(Q.createdAt)).slice(0,8).map(({id:Q,label:Xe,time:He})=>({id:Q,label:Xe,time:He}))},[M,E]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(II,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(P,{size:"sm",onClick:()=>p(!0),disabled:!j||F.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(he,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?K?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(Y=>a.jsx(oe,{className:"h-10 rounded-md"},Y))}):M.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(S7,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(P,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(ht,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:M.map(Y=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:Y.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:GR[Y.command_type]}),a.jsx(We,{variant:"secondary",className:"text-xs shrink-0",children:Y.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ie.mutate(Y.id),disabled:ie.isPending,"aria-label":"Remove command",children:a.jsx(tn,{className:"h-3 w-3"})})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Cx,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:Y=>n(Y.target.value||null),children:y.map(Y=>a.jsxs("option",{value:Y.id,children:["Profile  ",VTe[Y.status]??Y.status]},Y.id))}),a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(im,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!ye,children:a.jsx(nf,{className:J("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(he,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(Y=>a.jsx(oe,{className:"h-24 rounded-lg"},Y))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(TE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ye?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(ht,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(Y=>a.jsxs("button",{type:"button",onClick:()=>{i(Y),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[Y.snapshot_url?a.jsx("img",{src:Y.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(TE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:Y.title??Y.url,children:Y.title||Y.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:Y.url,children:Y.url||""})]})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(am,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(he,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Se("screenshot"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(am,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Se("pdf"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(sr,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Se("dom"),disabled:!j||!ye||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ov,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(wr,{className:"h-4 w-4 ml-0.5"})]})]}),E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(ht,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:E.slice(0,5).map(Y=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:Y.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Y.created_at).toLocaleDateString()})]},Y.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),y.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ye||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xa,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ye||A.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(im,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),y.length===0&&a.jsx(P,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,children:V.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(op,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(ht,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:pe.length===0?a.jsx("span",{children:"No activity yet"}):pe.map(Y=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:Y.time,children:Y.label},Y.id))})})]})]})}),!w&&y.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>V.mutate({status:"stopped",is_isolated:!0}),disabled:V.isPending,className:"transition-transform hover:scale-[1.02]",children:V.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-base",children:[a.jsx(Ov,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(P,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(zI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(he,{children:"Upload and run automation scripts."})]}),a.jsx(Z,{children:D?a.jsx(oe,{className:"h-10 rounded-md"}):O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:O.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:Y.name}),a.jsx(We,{variant:"secondary",children:Y.execution_status})]},Y.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-base",children:[a.jsx(Mn,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(he,{children:"Local or node proxy CDP settings."})]}),a.jsx(Z,{children:L.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(MI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:L.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:Y.token_preview||Y.connection_type}),a.jsx(We,{variant:"secondary",children:Y.connection_type})]},Y.id))})})]})]}),e&&a.jsx(OTe,{open:e.open,onOpenChange:Y=>!Y&&t(null),action:e.action,onConfirm:me,isPending:A.isPending,profilePath:S==null?void 0:S.footprint_path,isIsolated:S==null?void 0:S.is_isolated}),a.jsx(ATe,{open:o,onOpenChange:l,tab:s}),a.jsx(RTe,{open:c,onOpenChange:u,onSubmit:Y=>T.mutate(Y),isSubmitting:T.isPending}),d&&a.jsx(ITe,{open:d.open,onOpenChange:Y=>!Y&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(LTe,{open:h,onOpenChange:m,existing:null,onSubmit:Y=>ee.mutate(Y),isSubmitting:ee.isPending}),a.jsx(qTe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:ze,onSubmit:Y=>F.mutate(Y),isSubmitting:F.isPending}),a.jsx(WTe,{open:x,onOpenChange:b,captures:E,onDownload:re,onDelete:Y=>I.mutate(Y),isDeleting:I.isPending})]})}const Ys={getWakeWords:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await U.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await U.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");let r=U.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await U.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await U.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await U.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await U.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await U.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function YB(e,t){return e().catch(()=>t)}const zr={all:["voice"],wakeWords:()=>[...zr.all,"wakeWords"],talkModeSettings:()=>[...zr.all,"talkModeSettings"],talkModeSetting:e=>[...zr.all,"talkModeSetting",e],transcriptionBackends:()=>[...zr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...zr.all,"ttsProviderSetting"],mediaSetting:()=>[...zr.all,"mediaSetting"]};function HTe(){return Ce({queryKey:zr.wakeWords(),queryFn:()=>YB(()=>Ys.getWakeWords(),[])})}function GTe(){const e=de();return ce({mutationFn:t=>Ys.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),q.success("Wake word added")},onError:t=>{q.error(t.message||"Failed to add wake word")}})}function YTe(){const e=de();return ce({mutationFn:({id:t,data:r})=>Ys.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),q.success("Wake word updated")},onError:t=>{q.error(t.message||"Failed to update wake word")}})}function QTe(){const e=de();return ce({mutationFn:t=>Ys.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),q.success("Wake word removed")},onError:t=>{q.error(t.message||"Failed to remove wake word")}})}function XTe(){return Ce({queryKey:zr.talkModeSettings(),queryFn:()=>YB(()=>Ys.getTalkModeSettings(),[])})}function JTe(){const e=de();return ce({mutationFn:t=>Ys.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.talkModeSettings()}),e.invalidateQueries({queryKey:zr.all}),q.success("Talk mode saved")},onError:t=>{q.error(t.message||"Failed to save talk mode")}})}function ZTe(){return Ce({queryKey:zr.transcriptionBackends(),queryFn:()=>Ys.getTranscriptionBackends()})}function eRe(){const e=de();return ce({mutationFn:t=>Ys.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.transcriptionBackends()}),q.success("Transcription backends saved")},onError:t=>{q.error(t.message||"Failed to save transcription backends")}})}function tRe(){return Ce({queryKey:zr.ttsProviderSetting(),queryFn:()=>Ys.getTtsProviderSetting()})}function rRe(){const e=de();return ce({mutationFn:t=>Ys.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.ttsProviderSetting()}),q.success("TTS provider saved")},onError:t=>{q.error(t.message||"Failed to save TTS provider")}})}function nRe(){return Ce({queryKey:zr.mediaSetting(),queryFn:()=>Ys.getMediaSetting()})}function sRe(){const e=de();return ce({mutationFn:t=>Ys.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.mediaSetting()}),q.success("Media settings saved")},onError:t=>{q.error(t.message||"Failed to save media settings")}})}const aRe=tt({word:be().min(1,"Wake word is required").max(64),status:ar(["active","inactive"]),propagate_to_nodes:Gr()}),R0={word:"",status:"active",propagate_to_nodes:!0};function iRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(aRe),defaultValues:R0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(R0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(R0),t(p)};return a.jsx(Re,{open:e,onOpenChange:g,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Te,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Rt,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const oRe=tt({node_id:be().nullable(),enabled:Gr(),interrupt_sensitivity:ar(["low","medium","high"])});function lRe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=Ze({resolver:et(oRe),defaultValues:o});v.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const x=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:x,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Talk mode"}),a.jsx(he,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Z,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Node"}),a.jsxs(ot,{value:f||i,onValueChange:p=>{const x=p===i?null:p,b=x===null?r:t.find(y=>y.node_id===x);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(at,{children:a.jsx(lt,{placeholder:"Default (all nodes)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Ne,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Rt,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Interrupt sensitivity"}),a.jsxs(ot,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"low",children:"Low"}),a.jsx(Ne,{value:"medium",children:"Medium"}),a.jsx(Ne,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const YR=["whisper","google","assemblyai","deepgram","local-cli"];function cRe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=v.useState(r.length>0?[...r]:[...YR]),[c,u]=v.useState(n??"");v.useEffect(()=>{e&&(l(r.length>0?[...r]:[...YR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((x,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Transcription backends"}),a.jsx(Te,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:J("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(II,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const uRe=tt({provider:be().min(1,"Provider is required"),model:be().optional()}),dRe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],QR={provider:"default",model:""};function fRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(uRe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var x;r({provider:p.provider,model:((x=p.model)==null?void 0:x.trim())||null}),d(QR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:QR),t(p)};return a.jsx(Re,{open:e,onOpenChange:g,children:a.jsxs(Pe,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"TTS provider"}),a.jsx(Te,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Provider"}),a.jsxs(ot,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsx(it,{children:dRe.map(p=>a.jsx(Ne,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const hRe=tt({retention_days:An.number().min(1).max(3650),size_cap_mb:An.number().min(1).max(1048576),fallback_strategy:ar(["local","cloud","none"]),audio_note_handling:ar(["store","transcribe_and_store","transcribe_only","discard"])}),XR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function mRe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=Ze({resolver:et(hRe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:XR}),u=o("fallback_strategy"),d=o("audio_note_handling");return v.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:XR)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Media storage"}),a.jsx(he,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Fallback strategy"}),a.jsxs(ot,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local only"}),a.jsx(Ne,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ne,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Audio note handling"}),a.jsxs(ot,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(at,{children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"store",children:"Store only"}),a.jsx(Ne,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ne,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ne,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(P,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function pRe(){var T;const[e,t]=v.useState(!1),[r,n]=v.useState(null),[s,i]=v.useState(!1),[o,l]=v.useState(!1),{data:c=[],isLoading:u}=HTe(),d=GTe(),f=YTe(),h=QTe(),{data:m=[],isLoading:g}=XTe(),p=JTe(),x=m.find($=>$.node_id===null)??null,{data:b=[]}=_F(),{data:y,isLoading:w}=ZTe(),_=eRe(),{data:j,isLoading:S}=tRe(),N=rRe(),{data:k,isLoading:C}=nRe(),O=sRe(),D=()=>{n(null),t(!0)},E=$=>{n($),t(!0)},L=$=>{r?f.mutate({id:r.id,data:{word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:$.word,status:$.status,propagate_to_nodes:$.propagate_to_nodes},{onSuccess:()=>t(!1)})},M=$=>{p.mutate({node_id:$.node_id,enabled:$.enabled,interrupt_sensitivity:$.interrupt_sensitivity})},K=($,I)=>{_.mutate({provider_list:$,cli_fallback:I})},A=$=>{N.mutate({provider:$.provider,model:$.model})},V=$=>{O.mutate($)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(wr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(dd,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Wake words"}),a.jsx(he,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(P,{type:"button",size:"sm",onClick:D,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Z,{children:u?a.jsx(oe,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(dd,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:D,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map($=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:$.word}),a.jsx(We,{variant:$.status==="active"?"success":"secondary",children:$.status}),$.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>E($),"aria-label":"Edit wake word",children:a.jsx(Ti,{className:"h-4 w-4"})}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate($.id),"aria-label":"Delete wake word",children:a.jsx(tn,{className:"h-4 w-4"})})]})]},$.id))})})]}),g?a.jsx(oe,{className:"h-64 w-full rounded-lg"}):a.jsx(lRe,{nodes:b,settings:m,defaultSetting:x,onSave:M,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(_7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(he,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Z,{children:w?a.jsx(oe,{className:"h-16 w-full rounded-lg"}):y?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(T=y.provider_list)!=null&&T.length?y.provider_list.join("  "):"default"]}),y.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:y.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(O7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(he,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Z,{children:S?a.jsx(oe,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(oe,{className:"h-80 w-full rounded-lg"}):a.jsx(mRe,{initial:k??null,onSave:V,isSubmitting:O.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsx(se,{className:"text-base",children:"Related"})}),a.jsxs(Z,{className:"space-y-2",children:[a.jsxs(ue,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(Mn,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(ue,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsxs(se,{className:"text-base flex items-center gap-2",children:[a.jsx(rf,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Z,{children:a.jsx(ue,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(iRe,{open:e,onOpenChange:t,onSubmit:L,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(cRe,{open:s,onOpenChange:i,providerList:(y==null?void 0:y.provider_list)??[],cliFallback:(y==null?void 0:y.cli_fallback)??null,onSave:K,isSubmitting:_.isPending}),a.jsx(fRe,{open:o,onOpenChange:l,onSubmit:A,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}const Wd=v.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Wd.displayName="Textarea";async function gn(){const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}const Ma={getNetworkSettings:async()=>{const e=await gn(),{data:t,error:r}=await U.from("network_settings").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertNetworkSettings:async e=>{const r={user_id:e.user_id??await gn(),bind_address:e.bind_address??"0.0.0.0",port:e.port??3e3,tls_options:e.tls_options??{}},{data:n,error:s}=await U.from("network_settings").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateNetworkSettings:async e=>{const t=await gn(),{data:r,error:n}=await U.from("network_settings").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getRemoteAccess:async()=>{const e=await gn(),{data:t,error:r}=await U.from("remote_access").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertRemoteAccess:async e=>{const r={user_id:e.user_id??await gn(),tailnet_config:e.tailnet_config??{},relay_settings:e.relay_settings??{},pairing_policies:e.pairing_policies??{}},{data:n,error:s}=await U.from("remote_access").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateRemoteAccess:async e=>{const t=await gn(),{data:r,error:n}=await U.from("remote_access").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getSecretsPrefs:async()=>{const e=await gn(),{data:t,error:r}=await U.from("settings_secrets_prefs").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertSecretsPrefs:async e=>{const r={user_id:e.user_id??await gn(),os_keychain_enabled:e.os_keychain_enabled??!0,onepassword_integration:e.onepassword_integration??!1},{data:n,error:s}=await U.from("settings_secrets_prefs").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateSecretsPrefs:async e=>{const t=await gn(),{data:r,error:n}=await U.from("settings_secrets_prefs").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getToolPolicies:async()=>{const e=await gn(),{data:t,error:r}=await U.from("tool_policies").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertToolPolicies:async e=>{const r={user_id:e.user_id??await gn(),exec_allowlist:e.exec_allowlist??[],sandbox_mode:e.sandbox_mode??!0,docker_config:e.docker_config??{}},{data:n,error:s}=await U.from("tool_policies").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateToolPolicies:async e=>{const t=await gn(),{data:r,error:n}=await U.from("tool_policies").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},getModelDefaults:async()=>{const e=await gn(),{data:t,error:r}=await U.from("model_defaults").select("*").eq("user_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertModelDefaults:async e=>{const r={user_id:e.user_id??await gn(),provider_priority:e.provider_priority??[],failover_rules:e.failover_rules??{},usage_caps:e.usage_caps??{}},{data:n,error:s}=await U.from("model_defaults").upsert(r,{onConflict:"user_id",ignoreDuplicates:!1}).select().single();if(s)throw new Error(s.message);return n},updateModelDefaults:async e=>{const t=await gn(),{data:r,error:n}=await U.from("model_defaults").update(e).eq("user_id",t).select().single();if(n)throw new Error(n.message);return r},applySettings:async()=>(await gn(),{ok:!0,message:"Settings applied. Restart may be required for some changes."})},Sn={all:["settings"],network:()=>[...Sn.all,"network"],remoteAccess:()=>[...Sn.all,"remoteAccess"],secretsPrefs:()=>[...Sn.all,"secretsPrefs"],toolPolicies:()=>[...Sn.all,"toolPolicies"],modelDefaults:()=>[...Sn.all,"modelDefaults"]};function Op(e,t){return e().catch(()=>t)}function gRe(){return Ce({queryKey:Sn.network(),queryFn:()=>Op(()=>Ma.getNetworkSettings(),null)})}function vRe(){const e=de();return ce({mutationFn:t=>Ma.upsertNetworkSettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.network()}),q.success("Network settings saved")},onError:t=>{q.error(t.message||"Failed to save network settings")}})}function yRe(){return Ce({queryKey:Sn.remoteAccess(),queryFn:()=>Op(()=>Ma.getRemoteAccess(),null)})}function xRe(){const e=de();return ce({mutationFn:t=>Ma.upsertRemoteAccess(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.remoteAccess()}),q.success("Remote access settings saved")},onError:t=>{q.error(t.message||"Failed to save remote access settings")}})}function bRe(){return Ce({queryKey:Sn.secretsPrefs(),queryFn:()=>Op(()=>Ma.getSecretsPrefs(),null)})}function wRe(){const e=de();return ce({mutationFn:t=>Ma.upsertSecretsPrefs(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.secretsPrefs()}),q.success("Secrets preferences saved")},onError:t=>{q.error(t.message||"Failed to save secrets preferences")}})}function jRe(){return Ce({queryKey:Sn.toolPolicies(),queryFn:()=>Op(()=>Ma.getToolPolicies(),null)})}function _Re(){const e=de();return ce({mutationFn:t=>Ma.upsertToolPolicies(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.toolPolicies()}),q.success("Tool policies saved")},onError:t=>{q.error(t.message||"Failed to save tool policies")}})}function SRe(){return Ce({queryKey:Sn.modelDefaults(),queryFn:()=>Op(()=>Ma.getModelDefaults(),null)})}function NRe(){const e=de();return ce({mutationFn:t=>Ma.upsertModelDefaults(t),onSuccess:()=>{e.invalidateQueries({queryKey:Sn.modelDefaults()}),q.success("Model defaults saved")},onError:t=>{q.error(t.message||"Failed to save model defaults")}})}function kRe(){const e=de();return ce({mutationFn:()=>Ma.applySettings(),onSuccess:t=>{e.invalidateQueries({queryKey:Sn.all}),t.message?q.success(t.message):q.success("Settings applied")},onError:t=>{q.error(t.message||"Failed to apply settings")}})}const CRe=tt({bind_address:be().min(1,"Bind address is required"),port:An.number().int().min(1).max(65535),tls_enabled:Gr().optional(),tls_cert_path:be().optional(),tls_key_path:be().optional()}),ERe=tt({tailnet_enabled:Gr().optional(),tailnet_name:be().optional(),relay_enabled:Gr().optional(),pairing_require_approval:Gr().optional()}),PRe=tt({os_keychain_enabled:Gr(),onepassword_integration:Gr()}),ORe=tt({exec_allowlist_text:be().optional(),sandbox_mode:Gr(),docker_enabled:Gr().optional(),docker_image:be().optional()}),ARe=tt({provider_priority_text:be().optional(),usage_cap_daily:An.number().min(0).optional(),failover_enabled:Gr().optional()}),M0={bind_address:"0.0.0.0",port:3e3,tls_enabled:!1,tls_cert_path:"",tls_key_path:""},TRe={tailnet_enabled:!1,tailnet_name:"",relay_enabled:!1,pairing_require_approval:!0},RRe={os_keychain_enabled:!0,onepassword_integration:!1},MRe={exec_allowlist_text:"",sandbox_mode:!0,docker_enabled:!1,docker_image:""},$Re={provider_priority_text:"",usage_cap_daily:0,failover_enabled:!0};function IRe(){const[e,t]=v.useState(!1),[r,n]=v.useState([]),{data:s,isLoading:i}=gRe(),{data:o,isLoading:l}=yRe(),{data:c,isLoading:u}=bRe(),{data:d,isLoading:f}=jRe(),{data:h,isLoading:m}=SRe(),g=vRe(),p=xRe(),x=wRe(),b=_Re(),y=NRe(),w=kRe(),_=Ze({resolver:et(CRe),defaultValues:M0}),j=Ze({resolver:et(ERe),defaultValues:TRe}),S=Ze({resolver:et(PRe),defaultValues:RRe}),N=Ze({resolver:et(ORe),defaultValues:MRe}),k=Ze({resolver:et(ARe),defaultValues:$Re});v.useEffect(()=>{if(s){const A=s.tls_options||{};_.reset({bind_address:s.bind_address??M0.bind_address,port:s.port??M0.port,tls_enabled:!!A.enabled,tls_cert_path:A.cert_path??"",tls_key_path:A.key_path??""})}},[s,_]),v.useEffect(()=>{if(o){const A=o.tailnet_config||{},V=o.relay_settings||{},T=o.pairing_policies||{};j.reset({tailnet_enabled:!!A.enabled,tailnet_name:A.name??"",relay_enabled:!!V.enabled,pairing_require_approval:T.require_approval!==!1})}},[o,j]),v.useEffect(()=>{c&&S.reset({os_keychain_enabled:c.os_keychain_enabled,onepassword_integration:c.onepassword_integration})},[c,S]),v.useEffect(()=>{if(d){const A=d.exec_allowlist||[],V=d.docker_config||{};N.reset({exec_allowlist_text:Array.isArray(A)?A.join(`
`):"",sandbox_mode:d.sandbox_mode,docker_enabled:!!V.enabled,docker_image:V.image??""})}},[d,N]),v.useEffect(()=>{if(h){const A=h.provider_priority||[],V=h.usage_caps||{},T=h.failover_rules||{};k.reset({provider_priority_text:Array.isArray(A)?A.join(`
`):"",usage_cap_daily:V.daily??0,failover_enabled:T.enabled!==!1})}},[h,k]);const C=()=>{n([]),t(!0)},O=async()=>{await w.mutateAsync(),t(!1),r.length>0&&n([])},D=A=>{g.mutate({bind_address:A.bind_address,port:A.port,tls_options:{enabled:A.tls_enabled,cert_path:A.tls_cert_path||void 0,key_path:A.tls_key_path||void 0}})},E=A=>{p.mutate({tailnet_config:{enabled:A.tailnet_enabled,name:A.tailnet_name||void 0},relay_settings:{enabled:A.relay_enabled},pairing_policies:{require_approval:A.pairing_require_approval}})},L=A=>{x.mutate({os_keychain_enabled:A.os_keychain_enabled,onepassword_integration:A.onepassword_integration})},M=A=>{const V=A.exec_allowlist_text?A.exec_allowlist_text.split(`
`).map(T=>T.trim()).filter(Boolean):[];b.mutate({exec_allowlist:V,sandbox_mode:A.sandbox_mode,docker_config:{enabled:A.docker_enabled,image:A.docker_image||void 0}})},K=A=>{const V=A.provider_priority_text?A.provider_priority_text.split(`
`).map(T=>T.trim()).filter(Boolean):[];y.mutate({provider_priority:V,usage_caps:{daily:A.usage_cap_daily??0},failover_rules:{enabled:A.failover_enabled}})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up max-w-[1200px] mx-auto",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Mn,{className:"h-6 w-6 text-primary","aria-hidden":!0}),"Settings / Preferences"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Global gateway and workspace configuration. Restart may be required for some changes."})]}),a.jsxs(ci,{defaultValue:"network",className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full grid-cols-2 sm:grid-cols-5 gap-1 bg-card border border-border rounded-lg p-1",children:[a.jsx(St,{value:"network",className:"data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:"Network"}),a.jsx(St,{value:"remote",children:"Remote access"}),a.jsx(St,{value:"secrets",children:"Secrets"}),a.jsx(St,{value:"tools",children:"Tool policies"}),a.jsx(St,{value:"model",children:"Model defaults"})]}),a.jsx(Nt,{value:"network",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fp,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Network binding / TLS"})]}),a.jsx(he,{children:"Bind address, port, and TLS options. Save or reset to defaults."})]}),a.jsx(Z,{children:i?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-10 w-full rounded-md"}),a.jsx(oe,{className:"h-10 w-1/3 rounded-md"}),a.jsx(oe,{className:"h-10 w-full rounded-md"})]}):a.jsxs("form",{onSubmit:_.handleSubmit(D),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"bind_address",children:"Bind address"}),a.jsx(ge,{id:"bind_address",placeholder:"0.0.0.0",className:"focus-visible:ring-primary",..._.register("bind_address")}),_.formState.errors.bind_address&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.bind_address.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"port",children:"Port"}),a.jsx(ge,{id:"port",type:"number",placeholder:"3000",className:"focus-visible:ring-primary",..._.register("port")}),_.formState.errors.port&&a.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.port.message})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"tls_enabled",children:"Enable TLS"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use HTTPS with certificate."})]}),a.jsx(Rt,{id:"tls_enabled",checked:_.watch("tls_enabled"),onCheckedChange:A=>_.setValue("tls_enabled",A)})]}),_.watch("tls_enabled")&&a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_cert_path",children:"Certificate path"}),a.jsx(ge,{id:"tls_cert_path",placeholder:"/path/to/cert.pem",..._.register("tls_cert_path")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tls_key_path",children:"Key path"}),a.jsx(ge,{id:"tls_key_path",placeholder:"/path/to/key.pem",..._.register("tls_key_path")})]})]}),a.jsx(P,{type:"submit",disabled:g.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:g.isPending?"Saving":"Save network settings"})]})})]})}),a.jsx(Nt,{value:"remote",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($I,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Remote access (tailnet / proxy)"})]}),a.jsx(he,{children:"Configure Tailscale or relay for remote access; device pairing policies."})]}),a.jsx(Z,{children:l?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:j.handleSubmit(E),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Tailnet (Tailscale)"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enable tailnet for remote access."})]}),a.jsx(Rt,{checked:j.watch("tailnet_enabled"),onCheckedChange:A=>j.setValue("tailnet_enabled",A)})]}),j.watch("tailnet_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"tailnet_name",children:"Tailnet name"}),a.jsx(ge,{id:"tailnet_name",placeholder:"my-tailnet",...j.register("tailnet_name")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Relay / proxy"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use relay for device access."})]}),a.jsx(Rt,{checked:j.watch("relay_enabled"),onCheckedChange:A=>j.setValue("relay_enabled",A)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Pairing require approval"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"New devices need approval."})]}),a.jsx(Rt,{checked:j.watch("pairing_require_approval"),onCheckedChange:A=>j.setValue("pairing_require_approval",A)})]}),a.jsx(P,{type:"submit",disabled:p.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:p.isPending?"Saving":"Save remote access"})]})})]})}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_i,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Secrets management"})]}),a.jsx(he,{children:"OS keychain and 1Password CLI integration. Never write long-lived tokens to plaintext."})]}),a.jsx(Z,{className:"space-y-4",children:u?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("form",{onSubmit:S.handleSubmit(L),className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"OS keychain"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use system keychain for secrets."})]}),a.jsx(Rt,{checked:S.watch("os_keychain_enabled"),onCheckedChange:A=>S.setValue("os_keychain_enabled",A)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"1Password integration"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use 1Password CLI for vault."})]}),a.jsx(Rt,{checked:S.watch("onepassword_integration"),onCheckedChange:A=>S.setValue("onepassword_integration",A)})]}),a.jsx(P,{type:"submit",disabled:x.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:x.isPending?"Saving":"Save preferences"})]}),a.jsxs("div",{className:"pt-4 border-t border-border",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Manage stored secrets and keychain."}),a.jsx(P,{asChild:!0,variant:"secondary",className:"transition-transform hover:scale-[1.02]",children:a.jsxs(ue,{to:"/secrets",children:[a.jsx(Ai,{className:"h-4 w-4 mr-2"}),"Open Secrets & Keychain"]})})]})]})})]})}),a.jsx(Nt,{value:"tools",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Tool policies"})]}),a.jsx(he,{children:"Exec allowlist, sandbox mode, and Docker sandbox settings."})]}),a.jsx(Z,{children:f?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-24 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):a.jsxs("form",{onSubmit:N.handleSubmit(M),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"exec_allowlist",children:"Exec allowlist (one path per line)"}),a.jsx(Wd,{id:"exec_allowlist",placeholder:`/usr/bin/python3
/usr/bin/node`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...N.register("exec_allowlist_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Sandbox tools"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run tools in sandbox when possible."})]}),a.jsx(Rt,{checked:N.watch("sandbox_mode"),onCheckedChange:A=>N.setValue("sandbox_mode",A)})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Docker sandbox"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Docker for isolation."})]}),a.jsx(Rt,{checked:N.watch("docker_enabled"),onCheckedChange:A=>N.setValue("docker_enabled",A)})]}),N.watch("docker_enabled")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"docker_image",children:"Docker image"}),a.jsx(ge,{id:"docker_image",placeholder:"sandbox:latest",...N.register("docker_image")})]}),a.jsx(P,{type:"submit",disabled:b.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:b.isPending?"Saving":"Save tool policies"})]})})]})}),a.jsx(Nt,{value:"model",className:"space-y-4",children:a.jsxs(X,{className:"border-border shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(wa,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Model defaults"})]}),a.jsx(he,{children:"Provider priority, failover rules, and usage caps for runs."})]}),a.jsx(Z,{children:m?a.jsxs("div",{className:"space-y-4",children:[a.jsx(oe,{className:"h-24 w-full rounded-lg"}),a.jsx(oe,{className:"h-10 w-1/3 rounded-lg"})]}):a.jsxs("form",{onSubmit:k.handleSubmit(K),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"provider_priority",children:"Provider priority (one per line, first = default)"}),a.jsx(Wd,{id:"provider_priority",placeholder:`openai
anthropic
ollama`,rows:4,className:"font-mono text-sm focus-visible:ring-primary resize-y",...k.register("provider_priority_text")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(H,{children:"Failover enabled"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Try next provider on failure."})]}),a.jsx(Rt,{checked:k.watch("failover_enabled"),onCheckedChange:A=>k.setValue("failover_enabled",A)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"usage_cap_daily",children:"Daily usage cap (requests)"}),a.jsx(ge,{id:"usage_cap_daily",type:"number",min:0,placeholder:"0 = no cap",...k.register("usage_cap_daily")})]}),a.jsx(P,{type:"submit",disabled:y.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:y.isPending?"Saving":"Save model defaults"})]})})]})})]}),a.jsx(X,{className:"border-border shadow-card",children:a.jsxs(Z,{className:"pt-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Apply configuration"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:"Validate and apply settings. Restart gateway if needed for network or tool changes."})]}),a.jsxs(P,{onClick:C,disabled:w.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98] shrink-0",children:[a.jsx(C7,{className:J("h-4 w-4 mr-2",w.isPending&&"animate-spin"),"aria-hidden":!0}),"Restart / Apply"]})]})}),a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-md",showClose:!0,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Apply settings"}),a.jsx(Te,{children:"This will validate your configuration and apply changes. Some options may require a gateway restart to take effect."})]}),r.length>0&&a.jsxs("div",{className:"rounded-lg border border-warning/50 bg-warning/10 p-3 text-sm text-foreground",children:[a.jsx("p",{className:"font-medium mb-1",children:"Warnings"}),a.jsx("ul",{className:"list-disc list-inside space-y-0.5",children:r.map((A,V)=>a.jsx("li",{children:A},V))})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"secondary",onClick:()=>t(!1),className:"transition-transform hover:scale-[1.02]",children:"Cancel"}),a.jsx(P,{onClick:O,disabled:w.isPending,className:"transition-transform hover:scale-[1.02]",children:w.isPending?"Applying":"Apply"})]})]})})]})}const JR="[ENCRYPTED]";async function QB(){const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function Tg(e,t,r={}){const s={user_id:await QB(),secret_id:t,action:e,details:r};await U.from("secret_audit_logs").insert(s)}const qc={getSecrets:async()=>{const{data:e,error:t}=await U.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await U.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await QB(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?JR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await U.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await Tg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await U.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await Tg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?JR:void 0,{data:n,error:s}=await U.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await Tg("secret_rotated",e),n},deleteSecret:async e=>{const t=await qc.getSecret(e),{error:r}=await U.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await Tg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await U.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function DRe(e,t){return e().catch(()=>t)}const $n={all:["secrets"],list:()=>[...$n.all,"list"],detail:e=>[...$n.all,"detail",e],auditLogs:e=>[...$n.all,"auditLogs",e]};function LRe(){return Ce({queryKey:$n.list(),queryFn:()=>DRe(()=>qc.getSecrets(),[])})}function FRe(){const e=de();return ce({mutationFn:t=>qc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:$n.list()}),e.invalidateQueries({queryKey:$n.auditLogs()}),q.success("Secret created")},onError:t=>{q.error(t.message||"Failed to create secret")}})}function URe(){const e=de();return ce({mutationFn:({id:t,data:r})=>qc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$n.list()}),e.invalidateQueries({queryKey:$n.detail(r)}),e.invalidateQueries({queryKey:$n.auditLogs()}),q.success("Secret updated")},onError:t=>{q.error(t.message||"Failed to update secret")}})}function qRe(){const e=de();return ce({mutationFn:({id:t,value:r})=>qc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$n.list()}),e.invalidateQueries({queryKey:$n.detail(r)}),e.invalidateQueries({queryKey:$n.auditLogs()}),q.success("Secret rotated")},onError:t=>{q.error(t.message||"Failed to rotate secret")}})}function BRe(){const e=de();return ce({mutationFn:t=>qc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:$n.list()}),e.invalidateQueries({queryKey:$n.auditLogs()}),q.success("Secret removed")},onError:t=>{q.error(t.message||"Failed to remove secret")}})}function zRe(e=50){return Ce({queryKey:$n.auditLogs(e),queryFn:()=>qc.getAuditLogs(e)})}const WRe=tt({name:be().min(1,"Name is required").max(128,"Name too long"),storage_method:ar(["os_keychain","onepassword","encrypted_fallback"]),value:be().optional(),key_reference:be().optional()}),$0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function VRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=Ze({resolver:et(WRe),defaultValues:$0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o($0)},h=m=>{m||o($0),t(m)};return a.jsx(Re,{open:e,onOpenChange:h,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Add secret"}),a.jsx(Te,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ot,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(at,{className:u.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const KRe=tt({name:be().min(1,"Name is required").max(128,"Name too long"),storage_method:ar(["os_keychain","onepassword","encrypted_fallback"]),key_reference:be().optional()});function HRe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=Ze({resolver:et(KRe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");v.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Re,{open:e,onOpenChange:m,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Edit secret"}),a.jsx(Te,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{children:"Storage method"}),a.jsxs(ot,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(at,{className:d.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function GRe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ud,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{children:"Setup & configuration"})]}),a.jsx(he,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(Z,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(Rt,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(Rt,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(Rt,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(_r,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const ZR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function YRe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=LRe(),{data:d=[],isLoading:f}=zRe(50),h=FRe(),m=URe(),g=BRe(),p=qRe(),x=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},y=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},_=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(P,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-base",children:"Keychain status"})]}),a.jsx(he,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(ka,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(ka,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(eo,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(ci,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Oa,{children:[a.jsx(St,{value:"secrets",children:"Secrets management"}),a.jsx(St,{value:"setup",children:"Setup & configuration"}),a.jsx(St,{value:"audit",children:"Audit logs"})]}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Stored secrets"}),a.jsx(he,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(oe,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ud,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(P,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(Dt,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(ud,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[ZR[j.storage_method]??j.storage_method,"  Updated"," ",kr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(We,{variant:"secondary",className:"text-xs",children:ZR[j.storage_method]??j.storage_method}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>y(j),children:[a.jsx(Ti,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Mt,{onClick:()=>w(j),children:[a.jsx(nf,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>_(j),children:[a.jsx(tn,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Nt,{value:"setup",className:"space-y-4",children:a.jsx(GRe,{values:o,onChange:l})}),a.jsx(Nt,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Audit logs"})]}),a.jsx(he,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(Z,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(oe,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:kr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(VRe,{open:e,onOpenChange:t,onSubmit:x,isSubmitting:h.isPending}),a.jsx(HRe,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const rs="/security",Bc={runAudit:()=>je.post(`${rs}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${rs}/audits${t?`?${t}`:""}`)},getAudit:e=>je.get(`${rs}/audits/${e}`),createAudit:e=>je.post(`${rs}/audits`,e),getIssuesByAuditId:e=>je.get(`${rs}/audits/${e}/issues`),createIssue:e=>je.post(`${rs}/issues`,e),applyAutoFix:e=>je.post(`${rs}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>je.patch(`${rs}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${rs}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>je.post(`${rs}/incident-actions`,e),exportAuditLogs:e=>je.post(`${rs}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return je.get(`${rs}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>je.post(`${rs}/audit-logs`,e)};function XB(e,t){return e().catch(()=>t)}const ds={all:["security"],audits:e=>[...ds.all,"audits",e],audit:e=>[...ds.all,"audit",e??""],issues:e=>[...ds.all,"issues",e??""],incidentActions:e=>[...ds.all,"incident-actions",e],auditLogs:e=>[...ds.all,"audit-logs",e]};function QRe(e){return Ce({queryKey:ds.audits(e),queryFn:()=>XB(()=>Bc.getAudits(e),[])})}function XRe(e){return Ce({queryKey:ds.issues(e),queryFn:()=>e?XB(()=>Bc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function JRe(){const e=de();return ce({mutationFn:()=>Bc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:ds.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:ds.audit(t.audit.id)}),e.invalidateQueries({queryKey:ds.issues(t.audit.id)})),q.success("Security audit completed")},onError:t=>{q.error(t.message||"Audit failed")}})}function ZRe(){const e=de();return ce({mutationFn:t=>Bc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),q.success("Auto-fix applied")},onError:t=>{q.error(t.message||"Auto-fix failed")}})}function eMe(){const e=de();return ce({mutationFn:({issueId:t,data:r})=>Bc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),q.success("Issue updated")},onError:t=>{q.error(t.message||"Update failed")}})}function tMe(){const e=de();return ce({mutationFn:t=>Bc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:ds.all}),q.success("Action submitted")},onError:t=>{q.error(t.message||"Action failed")}})}function rMe(){return ce({mutationFn:e=>Bc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),q.success("Export started")},onError:e=>{q.error(e.message||"Export failed")}})}function nMe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(up,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ae,{children:l})]}),a.jsxs(Te,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const eM={critical:{label:"Critical",icon:eo,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:to,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:uN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:dN,className:"text-accent bg-accent/15 border-accent/30"}};function sMe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function aMe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=v.useState(!1),[f,h]=v.useState("");if(!e)return null;const m=eM[e.severity]??eM.medium,g=m.icon,p=o||c,x=()=>{d(!0)},b=()=>{i==null||i(e.id)},y=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:J("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Ae,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Te,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(ht,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(We,{variant:"outline",className:"text-xs font-medium",children:sMe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,_)=>a.jsx("li",{children:w},_))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(H,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(Rt,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{variant:"default",size:"sm",onClick:x,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(H,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Px,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(Wd,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(P,{variant:"outline",size:"sm",onClick:y,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(nMe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const iMe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:hN,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:nf,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Sr,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:cN,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:vN,variant:"destructive"}};function oMe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=iMe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:vN,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Re,{open:t,onOpenChange:r,children:a.jsxs(Pe,{"aria-describedby":"incident-action-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Ae,{children:i.label})]}),a.jsx(Te,{id:"incident-action-description",children:i.description})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const lMe=tt({format:ar(["json","csv"]),applyRedaction:Gr(),from:be().optional(),to:be().optional()});function cMe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=Ze({resolver:et(lMe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Export security logs"}),a.jsx(Te,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(ot,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(at,{id:"security-export-format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(Rt,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const tM={critical:{label:"Critical",icon:eo,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:to,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:uN,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:dN,className:"text-accent bg-accent/15 border-accent/30"}};function rM(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function uMe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function nM(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function dMe({issue:e,isSelected:t,onSelect:r}){const n=tM[e.severity]??tM.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:J("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:J("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(We,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const fMe=[{type:"revoke_sessions",label:"Revoke sessions",icon:hN},{type:"rotate_secrets",label:"Rotate secrets",icon:nf},{type:"export_logs",label:"Export logs",icon:Sr},{type:"stop_blast_radius",label:"Stop blast radius",icon:cN}];function hMe(){const{user:e}=ip(),[t,r]=v.useState(null),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,c]=v.useState(!1),[u,d]=v.useState(null),[f,h]=v.useState(!1),{data:m=[],isLoading:g}=QRe({limit:10}),p=m[0]??null,x=(p==null?void 0:p.id)??null,{data:b=[],isLoading:y}=XRe(x),w=JRe(),_=tMe(),j=rMe(),S=ZRe(),N=eMe(),k={critical:b.filter(A=>A.severity==="critical").length,high:b.filter(A=>A.severity==="high").length,medium:b.filter(A=>A.severity==="medium").length,low:b.filter(A=>A.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,O=A=>{r(A),s(!1),o(!0)},D=A=>{if(A==="export_logs"){h(!0);return}d(A),c(!0)},E=A=>{_.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:x??void 0,action_type:A},{onSuccess:()=>{d(null)}})},L=A=>{j.mutate(A,{onSuccess:V=>{V!=null&&V.download_url&&window.open(V.download_url,"_blank")}})},M=A=>{S.mutate(A,{onSuccess:()=>{o(!1),r(null)}})},K=(A,V)=>{N.mutate({issueId:A,data:{applied_fix:V}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(wr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(_r,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(ue,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(ue,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(ue,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Run audit"}),a.jsx(he,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs(P,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Xa,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(ck,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Audit summary"}),a.jsx(he,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(Z,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(oe,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-6 w-32"}),a.jsx(oe,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",nM(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:J("font-semibold text-lg",nM(C)),children:uMe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",rM(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(We,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(We,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(We,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(We,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(We,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_r,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Issue list"}),a.jsx(he,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:y?[1,2,3,4].map(A=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},A)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(uN,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(A=>a.jsx(dMe,{issue:A,isSelected:(t==null?void 0:t.id)===A.id,onSelect:()=>O(A)},A.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Incident response"}),a.jsx(he,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:fMe.map(({type:A,label:V,icon:T})=>a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>D(A),disabled:_.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(T,{className:"mr-2 h-4 w-4"}),V]},A))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(se,{className:"text-base flex items-center gap-2",children:[a.jsx(ch,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(he,{children:"Quick links to recent audit runs."})]}),a.jsx(Z,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(A=>a.jsx(oe,{className:"h-12 w-full rounded-lg"},A))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(A=>a.jsx("li",{children:a.jsx("div",{className:J("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===A.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",A.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:rM(A.created_at)})]})})},A.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Export"}),a.jsx(he,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(aMe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:M,isApplyingAutoFix:S.isPending,onApplyManualFix:K,isApplyingManualFix:N.isPending}),a.jsx(oMe,{actionType:u,open:l,onOpenChange:c,onConfirm:E,isSubmitting:_.isPending}),a.jsx(cMe,{open:f,onOpenChange:h,onExport:L,isExporting:j.isPending})]})}const kn="/logs",zc={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return je.get(`${kn}${t?`?${t}`:""}`)},getLog:e=>je.get(`${kn}/${e}`),createLog:e=>je.post(`${kn}`,e),getTraceByLogId:e=>je.get(`${kn}/${e}/trace`),getTrace:e=>je.get(`${kn}/traces/${e}`),createTrace:e=>je.post(`${kn}/traces`,e),updateTrace:(e,t)=>je.patch(`${kn}/traces/${e}`,t),exportLogs:e=>je.post(`${kn}/export`,e),getRetentionSettings:()=>je.get(`${kn}/retention`),updateRetentionSettings:e=>je.patch(`${kn}/retention`,e),createRetentionSettings:e=>je.post(`${kn}/retention`,e),getRedactionRules:()=>je.get(`${kn}/redaction-rules`),createRedactionRule:e=>je.post(`${kn}/redaction-rules`,e),updateRedactionRule:(e,t)=>je.patch(`${kn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>je.delete(`${kn}/redaction-rules/${e}`)};function xC(e,t){return e().catch(()=>t)}const Ts={all:["logs"],list:e=>[...Ts.all,"list",e],detail:e=>[...Ts.all,"detail",e],traceByLogId:e=>[...Ts.all,"trace",e],trace:e=>[...Ts.all,"trace-id",e],retention:()=>[...Ts.all,"retention"],redactionRules:()=>[...Ts.all,"redaction-rules"]};function mMe(e){return Ce({queryKey:Ts.list(e),queryFn:()=>xC(()=>zc.getLogs(e),[])})}function pMe(e){return Ce({queryKey:Ts.traceByLogId(e??""),queryFn:()=>e?xC(()=>zc.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function gMe(){return ce({mutationFn:e=>zc.exportLogs(e),onSuccess:()=>{q.success("Export started")},onError:e=>{q.error(e.message||"Export failed")}})}function vMe(){return Ce({queryKey:Ts.redactionRules(),queryFn:()=>xC(()=>zc.getRedactionRules(),[])})}function yMe(){const e=de();return ce({mutationFn:t=>zc.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ts.redactionRules()}),q.success("Redaction rule added")},onError:t=>{q.error(t.message||"Failed to add redaction rule")}})}function xMe(){const e=de();return ce({mutationFn:({id:t,data:r})=>zc.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Ts.redactionRules()}),q.success("Redaction rule updated")},onError:t=>{q.error(t.message||"Failed to update redaction rule")}})}function bMe(){const e=de();return ce({mutationFn:t=>zc.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ts.redactionRules()}),q.success("Redaction rule removed")},onError:t=>{q.error(t.message||"Failed to remove redaction rule")}})}const JB=["debug","info","warning","error","critical"],wMe=tt({severity:ar(JB).optional(),from:be().optional(),to:be().optional(),search:be().optional(),limit:An.number().min(10).max(500).optional()});function jMe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=Ze({resolver:et(wMe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Filter logs"}),a.jsx(Te,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(ot,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(at,{id:"filter-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(it,{children:JB.map(m=>a.jsx(Ne,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(P,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const ZB=["debug","info","warning","error","critical"],_Me=tt({format:ar(["json","csv"]),applyRedaction:Gr(),from:be().optional(),to:be().optional(),severity:ar(ZB).optional()});function SMe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=v.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=Ze({resolver:et(_Me),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const x={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(x),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Export logs"}),a.jsx(Te,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-format",children:"Format"}),a.jsxs(ot,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(at,{id:"export-format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(H,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(Rt,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(ot,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(at,{id:"export-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(it,{children:ZB.map(p=>a.jsx(Ne,{value:p,children:p},p))})]})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const NMe=tt({field_name:be().min(1,"Field name is required").max(120),is_redacted:Gr()});function kMe({open:e,onOpenChange:t}){const[r,n]=v.useState(!1),{data:s=[],isLoading:i}=vMe(),o=yMe(),l=xMe(),c=bMe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=Ze({resolver:et(NMe),defaultValues:{field_name:"",is_redacted:!0}}),x=h("field_name"),b=h("is_redacted"),y=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},_=j=>{c.mutate(j)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx(Te,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(ht,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(_r,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(Rt,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>_(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(tn,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(y),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(ge,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(H,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(Rt,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(P,{type:"submit",size:"sm",disabled:!(x!=null&&x.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function CMe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function sM({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=v.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(pl,{className:"h-4 w-4 shrink-0"}):a.jsx(wr,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function aM({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(Z,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(oe,{className:"h-10 w-full"}),a.jsx(oe,{className:"h-24 w-full"}),a.jsx(oe,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]}),a.jsx(Z,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(P,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Sr,{className:"h-4 w-4"})}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(hd,{className:"h-4 w-4"})})]})]}),a.jsxs(Z,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(zo,{className:"h-3.5 w-3.5"}),"Duration: ",CMe(e.duration_ms)]}),a.jsx(ht,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(sM,{label:"Tool invocations",icon:Px,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(sM,{label:"Model calls",icon:wa,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const iM={debug:{label:"debug",icon:p7,className:"text-muted-foreground"},info:{label:"info",icon:dN,className:"text-primary"},warning:{label:"warning",icon:to,className:"text-warning"},error:{label:"error",icon:eo,className:"text-destructive"},critical:{label:"critical",icon:Nx,className:"text-destructive font-semibold"}};function EMe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function I0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=iM[e.severity]??iM.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:J("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:J("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:J("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:EMe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function PMe(){const[e,t]=v.useState(!1),[r,n]=v.useState(!1),[s,i]=v.useState(!1),[o,l]=v.useState("logs"),[c,u]=v.useState({limit:100}),[d,f]=v.useState(null),[h,m]=v.useState(new Set),{data:g=[],isLoading:p}=mMe(c),{data:x,isLoading:b}=pMe(d),y=gMe(),w=C=>{u(C)},_=C=>{y.mutate(C,{onSuccess:O=>{O!=null&&O.download_url&&window.open(O.download_url,"_blank")}})},j=C=>{m(O=>{const D=new Set(O);return D.has(C)?D.delete(C):D.add(C),D})},S=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=v.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(wr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(sr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(ci,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(Oa,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(St,{value:"logs",className:"gap-2",children:[a.jsx(sr,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(St,{value:"traces",className:"gap-2",children:[a.jsx(RE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(St,{value:"export",className:"gap-2",children:[a.jsx(vc,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(Nt,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Log stream"}),a.jsx(he,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(I0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id)},C.id))})})})]}),a.jsx(aM,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Filters & actions"}),a.jsx(he,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(_r,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Run traces"}),a.jsx(he,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(Z,{children:a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(RE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(I0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id)},C.id))})})})]}),a.jsx(aM,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Trace actions"}),a.jsx(he,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(_r,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Export logs"}),a.jsx(he,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>S(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(P,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(ht,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(oe,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(vc,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(I0,{log:C,isSelected:d===C.id,onSelect:()=>f(O=>O===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Export options"}),a.jsx(he,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(_r,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(ue,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(Mn,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(jMe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(SMe,{open:r,onOpenChange:n,onExport:_,isExporting:y.isPending,selectedLogIds:N}),a.jsx(kMe,{open:s,onOpenChange:i})]})}const Zf="admin_workspaces",eh="admin_workspace_members",th="admin_licenses",oM="admin_analytics_metrics",qn={getWorkspaces:async()=>{const{data:e,error:t}=await U.from(Zf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await U.from(Zf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await U.from(Zf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await U.from(Zf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await U.from(Zf).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await U.from(eh).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await U.from(eh).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await U.from(eh).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await U.from(eh).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await U.from(eh).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=U.from(th).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await U.from(th).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await U.from(th).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await U.from(th).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await U.from(th).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=U.from(oM).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await U.from(oM).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await U.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function Ap(e,t){return e().catch(()=>t)}const Qt={all:["admin"],workspaces:()=>[...Qt.all,"workspaces"],workspace:e=>[...Qt.all,"workspace",e],workspaceMembers:e=>[...Qt.all,"workspace-members",e],allMembers:()=>[...Qt.all,"members"],licenses:e=>[...Qt.all,"licenses",e],license:e=>[...Qt.all,"license",e],analytics:e=>[...Qt.all,"analytics",e]};function OMe(){return Ce({queryKey:Qt.workspaces(),queryFn:()=>Ap(()=>qn.getWorkspaces(),[])})}function AMe(){const e=de();return ce({mutationFn:t=>qn.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),q.success("Workspace created")},onError:t=>{q.error(t.message??"Failed to create workspace")}})}function TMe(){const e=de();return ce({mutationFn:({id:t,data:r})=>qn.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.workspaces()}),e.invalidateQueries({queryKey:Qt.workspace(r)}),q.success("Workspace updated")},onError:t=>{q.error(t.message??"Failed to update workspace")}})}function RMe(){const e=de();return ce({mutationFn:t=>qn.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.workspaces()}),q.success("Workspace deleted")},onError:t=>{q.error(t.message??"Failed to delete workspace")}})}function MMe(){return Ce({queryKey:Qt.allMembers(),queryFn:()=>Ap(()=>qn.getAllMembers(),[])})}function $Me(){const e=de();return ce({mutationFn:t=>qn.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r.workspace_id)}),q.success("User added to workspace")},onError:t=>{q.error(t.message??"Failed to add user")}})}function IMe(){const e=de();return ce({mutationFn:({id:t,data:r,workspaceId:n})=>qn.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),q.success("Member updated")},onError:t=>{q.error(t.message??"Failed to update member")}})}function DMe(){const e=de();return ce({mutationFn:({id:t})=>qn.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Qt.allMembers()}),e.invalidateQueries({queryKey:Qt.workspaceMembers(r)}),q.success("Member removed")},onError:t=>{q.error(t.message??"Failed to remove member")}})}function LMe(e){return Ce({queryKey:Qt.licenses(e),queryFn:()=>Ap(()=>qn.getLicenses(e),[])})}function FMe(){const e=de();return ce({mutationFn:t=>qn.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),q.success("License created")},onError:t=>{q.error(t.message??"Failed to create license")}})}function UMe(){const e=de();return ce({mutationFn:({id:t,data:r})=>qn.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qt.licenses()}),e.invalidateQueries({queryKey:Qt.license(r)}),q.success("License updated")},onError:t=>{q.error(t.message??"Failed to update license")}})}function qMe(){const e=de();return ce({mutationFn:t=>qn.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qt.licenses()}),q.success("License deleted")},onError:t=>{q.error(t.message??"Failed to delete license")}})}function BMe(e){return Ce({queryKey:Qt.analytics(e),queryFn:()=>Ap(()=>qn.getAnalyticsMetrics(e),[])})}const zMe=e=>[...Qt.all,"profile",e];function WMe(e){return Ce({queryKey:zMe(e??""),queryFn:()=>e?Ap(()=>qn.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const VMe=tt({name:be().min(1,"Name is required").max(200,"Name too long"),active_users_count:An.number().min(0,"Must be 0 or more"),status:ar(["active","archived","suspended"])}),lM={name:"",active_users_count:0,status:"active"};function KMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=Ze({resolver:et(VMe),defaultValues:lM}),h=u("status");v.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(lM)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Te,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ge,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ge,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(lt,{placeholder:"Select status"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"archived",children:"Archived"}),a.jsx(Ne,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const HMe=tt({user_id:be().uuid("Invalid user ID"),role:ar(["admin","member","viewer"])}),cM={user_id:"",role:"member"};function GMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(HMe),defaultValues:cM}),m=d("role");v.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(cM)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Te,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ge,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Role"}),a.jsxs(ot,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(lt,{placeholder:"Select role"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"admin",children:"Admin"}),a.jsx(Ne,{value:"member",children:"Member"}),a.jsx(Ne,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const YMe=tt({workspace_id:be().uuid("Select a workspace"),user_id:be().optional(),license_type:ar(["seat","pro","enterprise","trial"]),expiry_date:be().optional()}),uM={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function QMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=Ze({resolver:et(YMe),defaultValues:uM}),m=d("workspace_id"),g=d("license_type");v.useEffect(()=>{var x;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...uM,workspace_id:((x=s[0])==null?void 0:x.id)??""})},[e,i,s,f]);const p=x=>{const b=x.expiry_date?new Date(x.expiry_date).toISOString():null;r(o&&i?{user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}:{workspace_id:x.workspace_id,user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:o?"Edit license":"Allocate license"}),a.jsx(Te,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:m,onValueChange:x=>u("workspace_id",x),disabled:o,children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(lt,{placeholder:"Select workspace"})}),a.jsx(it,{children:s.map(x=>a.jsx(Ne,{value:x.id,children:x.name},x.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ge,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"License type"}),a.jsxs(ot,{value:g,onValueChange:x=>u("license_type",x),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"seat",children:"Seat"}),a.jsx(Ne,{value:"pro",children:"Pro"}),a.jsx(Ne,{value:"enterprise",children:"Enterprise"}),a.jsx(Ne,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ge,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const XMe=tt({workspace_id:be().optional(),metric_type:be().optional(),from:be().optional(),to:be().optional(),limit:An.number().min(10).max(500).optional()}),Rg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},JMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function ZMe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ze({resolver:et(XMe),defaultValues:s??Rg});v.useEffect(()=>{e&&u(s??Rg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(Rg),r(Rg),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Filter analytics"}),a.jsx(Te,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Ne,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ot,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),JMe.map(p=>a.jsx(Ne,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",children:"Apply"})]})]})]})})}const e$e={admin:"default",member:"secondary",viewer:"outline"};function t$e({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=WMe(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Ka(Il(r.created_at),"MMM d, yyyy"):"";return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(dp,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx(Te,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(oe,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gc,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Hg,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(_r,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(We,{variant:e$e[r.role],className:J("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ml,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs(Ie,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(P,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(P,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(R7,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function r$e({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[440px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(to,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx(Te,{children:n})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(P,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const n$e={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function s$e({workspace:e,onUpdate:t,isSubmitting:r=!1}){var x,b,y;const[n,s]=v.useState(((x=e==null?void 0:e.configuration_details)==null?void 0:x.allow_user_registration)===!0),[i,o]=v.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=v.useState(((y=e==null?void 0:e.configuration_details)==null?void 0:y.registry_enabled)!==!1),[u,d]=v.useState(!1),[f,h]=v.useState(!1);v.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,_)=>{w==="allow_user_registration"&&s(!!_),w==="data_retention_days"&&o(Number(_)||90),w==="registry_enabled"&&c(!!_),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...n$e,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(he,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(Rt,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(H,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(Rt,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(ot,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(at,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(lt,{})}),a.jsx(it,{children:[30,60,90,180,365].map(w=>a.jsxs(Ne,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(P,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(pN,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(r$e,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(te,{children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(Mn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(he,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const a$e={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function i$e({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Ka(Il(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx(Te,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(We,{variant:i?"destructive":"default",children:a$e[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kx,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(P,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ai,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx(Ie,{className:"border-t border-border pt-4",children:a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const o$e=tt({workspace_id:be().optional(),from:be().min(1,"From date is required"),to:be().min(1,"To date is required"),format:ar(["csv","json"]),metric_type:be().optional()}),l$e=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],c$e={workspace_id:"",from:Ka(ak(new Date,30),"yyyy-MM-dd"),to:Ka(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function u$e(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function d$e({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=Ze({resolver:et(o$e),defaultValues:c$e}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await qn.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){q.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const x=new Blob([u$e(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=p,y.click(),URL.revokeObjectURL(b)}else{const x=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(x),y=document.createElement("a");y.href=b,y.download=p,y.click(),URL.revokeObjectURL(b)}q.success("Report downloaded"),t(!1)}catch(g){q.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"max-w-[640px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2",children:[a.jsx(Sr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx(Te,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Workspace"}),a.jsxs(ot,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(Ne,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Metric type"}),a.jsxs(ot,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),l$e.map(m=>a.jsx(Ne,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{children:"Format"}),a.jsxs(ot,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(lt,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"csv",children:"CSV"}),a.jsx(Ne,{value:"json",children:"JSON"})]})]})]}),a.jsxs(Ie,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(P,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const f$e={active:"default",archived:"secondary",suspended:"destructive"},h$e={admin:"default",member:"secondary",viewer:"outline"},m$e={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function p$e(){var G;const[e,t]=v.useState("workspaces"),[r,n]=v.useState(!1),[s,i]=v.useState(null),[o,l]=v.useState(!1),[c,u]=v.useState(null),[d,f]=v.useState(null),[h,m]=v.useState(!1),[g,p]=v.useState(null),[x,b]=v.useState(!1),[y,w]=v.useState(null),[_,j]=v.useState(null),[S,N]=v.useState(!1),[k,C]=v.useState(null),[O,D]=v.useState(!1),[E,L]=v.useState(null),[M,K]=v.useState(!1),[A,V]=v.useState(""),{data:T=[],isLoading:$}=OMe(),{data:I=[],isLoading:ee}=MMe();v.useEffect(()=>{T.length>0&&!k&&C(T[0])},[T,k]);const{data:F=[],isLoading:ie}=LMe(),{data:ye=[],isLoading:ze}=BMe({workspace_id:(y==null?void 0:y.workspace_id)||void 0,metric_type:(y==null?void 0:y.metric_type)||void 0,from:(y==null?void 0:y.from)||void 0,to:(y==null?void 0:y.to)||void 0,limit:(y==null?void 0:y.limit)??100}),Ke=AMe(),me=TMe(),Se=RMe(),re=$Me(),pe=IMe(),Y=DMe(),Q=FMe(),Xe=UMe(),He=qMe(),xt=v.useMemo(()=>{const z={},fe=y!=null&&y.from?Il(y.from):ak(new Date,30),ve=y!=null&&y.to?Il(y.to):new Date;for(let ae=new Date(fe);ae<=ve;ae.setDate(ae.getDate()+1)){const ke=Ka(ae,"yyyy-MM-dd");z[ke]={date:ke,value:0,sessions:0,runs:0}}return ye.forEach(ae=>{const ke=ae.bucket_time.slice(0,10);z[ke]||(z[ke]={date:ke,value:0,sessions:0,runs:0}),z[ke].value+=Number(ae.value),ae.metric_type==="active_sessions"&&(z[ke].sessions=Number(ae.value)),(ae.metric_type==="run_success_rate"||ae.metric_type==="run_failure_count")&&(z[ke].runs=Number(ae.value))}),Object.values(z).sort((ae,ke)=>new Date(ae.date).getTime()-new Date(ke.date).getTime())},[ye,y]),ft=v.useMemo(()=>{const z={};return T.forEach(fe=>{z[fe.id]=fe}),z},[T]),Wt=v.useMemo(()=>{if(!A.trim())return I;const z=A.trim().toLowerCase();return I.filter(fe=>{var ve;return fe.user_id.toLowerCase().includes(z)||(((ve=ft[fe.workspace_id])==null?void 0:ve.name)??"").toLowerCase().includes(z)||fe.role.toLowerCase().includes(z)})},[I,A,ft]),Cr=v.useMemo(()=>{const z=new Date,fe=new Date(z.getTime()+30*24*60*60*1e3);let ve=0,ae=0;return F.forEach(ke=>{(!ke.expiry_date||new Date(ke.expiry_date)>=z)&&ve++,ke.expiry_date&&new Date(ke.expiry_date)<=fe&&new Date(ke.expiry_date)>=z&&ae++}),{total:F.length,active:ve,expiringSoon:ae}},[F]),hn=z=>{s?(me.mutate({id:s.id,data:z}),i(null)):Ke.mutate(z),n(!1)},js=z=>{c?(pe.mutate({id:c.id,data:z,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in z&&(re.mutate(z),f(null)),l(!1)},B=z=>{g?(Xe.mutate({id:g.id,data:z}),p(null)):Q.mutate(z),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(ci,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Oa,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(St,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Hg,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(St,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Tw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(St,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(_i,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(St,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(lh,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Nt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"Workspaces"}),a.jsxs(P,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(Z,{children:$?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):T.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Hg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(P,{onClick:()=>n(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:T.map(z=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===z.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(z),children:[a.jsx("p",{className:"font-medium truncate",children:z.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.active_users_count," active users"]})]}),a.jsx(We,{variant:f$e[z.status],className:"shrink-0 ml-2",children:z.status}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(ja,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{i(z),n(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&Se.mutate(z.id)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},z.id))})})})]}),a.jsx(s$e,{workspace:k??T[0]??null,onUpdate:(z,fe)=>me.mutate({id:z,data:fe}),isSubmitting:me.isPending})]})}),a.jsx(Nt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{placeholder:"Search by user ID, workspace, role",value:A,onChange:z=>V(z.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(P,{size:"sm",onClick:()=>{u(null),f(T[0]??null),l(!0)},disabled:T.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ME,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(Z,{children:ee?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):I.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Tw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(P,{onClick:()=>{f(T[0]??null),l(!0)},disabled:T.length===0,children:[a.jsx(ME,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(ht,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:Wt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):Wt.map(z=>{var fe;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[z.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((fe=ft[z.workspace_id])==null?void 0:fe.name)??z.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(We,{variant:h$e[z.role],className:"capitalize",children:z.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(z),N(!0)},"aria-label":"View user details",children:a.jsx(v7,{className:"h-4 w-4"})}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(ja,{className:"h-4 w-4"})})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{u(z),f(null),l(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&Y.mutate({id:z.id,workspaceId:z.workspace_id})},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},z.id)})})]})})})})]})}),a.jsxs(Nt,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(_i,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(_i,{className:"h-4 w-4 text-success"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(_i,{className:"h-4 w-4 text-warning"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Cr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{L(null),D(!0)},children:[a.jsx(sr,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"License Management"}),a.jsxs(P,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Dt,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(Z,{children:ie?a.jsxs("div",{className:"space-y-2",children:[a.jsx(oe,{className:"h-12 w-full rounded-lg"}),a.jsx(oe,{className:"h-12 w-full rounded-lg"})]}):F.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(_i,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(P,{onClick:()=>m(!0),children:[a.jsx(Dt,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(ht,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:F.map(z=>{var fe;return a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:m$e[z.license_type]??z.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((fe=ft[z.workspace_id])==null?void 0:fe.name)??z.workspace_id,z.user_id?`  ${z.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[z.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Ka(Il(z.expiry_date),"MMM d, yyyy")]}),a.jsxs(Ls,{children:[a.jsx(Fs,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(ja,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ps,{align:"end",children:[a.jsxs(Mt,{onClick:()=>{L(z),D(!0)},children:[a.jsx(sr,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Mt,{onClick:()=>{p(z),m(!0)},children:[a.jsx(Ti,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Mt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&He.mutate(z.id)},children:[a.jsx(tn,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},z.id)})})})})]})]}),a.jsxs(Nt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Nh,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>K(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:ye.filter(z=>z.metric_type==="active_sessions").reduce((z,fe)=>z+Number(fe.value),0),icon:Tw},{title:"Run success rate",value:ye.filter(z=>z.metric_type==="run_success_rate").reduce((z,fe)=>z+Number(fe.value),0)||"",icon:lh},{title:"Skill installs",value:ye.filter(z=>z.metric_type==="skill_installs").reduce((z,fe)=>z+Number(fe.value),0),icon:Hg},{title:"Data points",value:ye.length,icon:lh}].map(({title:z,value:fe,icon:ve})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:z}),a.jsx(ve,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:fe})})]},z))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Metrics over time"}),a.jsx(he,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(Z,{children:ze?a.jsx(oe,{className:"h-[280px] w-full rounded-lg"}):xt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(lh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(P,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(Nh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(s1,{width:"100%",height:280,children:a.jsxs(GB,{data:xt,children:[a.jsx(Qy,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Oc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ac,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Es,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:z=>[z,"Value"],labelFormatter:z=>Ka(Il(z),"MMM d, yyyy")}),a.jsx(oo,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),xt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(se,{children:"Metric breakdown (bar)"}),a.jsx(he,{children:"Daily values for the selected period."})]}),a.jsx(Z,{children:a.jsx(s1,{width:"100%",height:240,children:a.jsxs(JAe,{data:xt,children:[a.jsx(Qy,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Oc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ac,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Es,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:z=>Ka(Il(z),"MMM d, yyyy")}),a.jsx(Uc,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(KMe,{open:r,onOpenChange:n,onSubmit:hn,isSubmitting:Ke.isPending||me.isPending,workspace:s}),a.jsx(GMe,{open:o,onOpenChange:l,onSubmit:js,isSubmitting:re.isPending||pe.isPending,workspace:c?ft[c.workspace_id]??null:d,member:c}),a.jsx(QMe,{open:h,onOpenChange:m,onSubmit:B,isSubmitting:Q.isPending||Xe.isPending,workspaces:T,license:g}),a.jsx(ZMe,{open:x,onOpenChange:b,onApply:w,workspaces:T,currentValues:y}),a.jsx(t$e,{open:S,onOpenChange:N,member:_,workspace:_?ft[_.workspace_id]??null:null,onEdit:()=>{_&&(N(!1),u(_),f(null),l(!0))},onRevoke:()=>{_&&(Y.mutate({id:_.id,workspaceId:_.workspace_id}),j(null),N(!1))},isRevoking:Y.isPending}),a.jsx(i$e,{open:O,onOpenChange:D,license:E,workspaceName:E?((G=ft[E.workspace_id])==null?void 0:G.name)??"":void 0}),a.jsx(d$e,{open:M,onOpenChange:K,workspaces:T})]})}var zb="Collapsible",[g$e,e6]=Ws(zb),[v$e,bC]=g$e(zb),t6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=ri({prop:n,defaultProp:s??!1,onChange:o,caller:zb});return a.jsx(v$e,{scope:r,disabled:i,contentId:Is(),open:c,onOpenToggle:v.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":jC(c),"data-disabled":i?"":void 0,...l,ref:t})})});t6.displayName=zb;var r6="CollapsibleTrigger",n6=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=bC(r6,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":jC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:$e(e.onClick,s.onOpenToggle)})});n6.displayName=r6;var wC="CollapsibleContent",s6=v.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=bC(wC,e.__scopeCollapsible);return a.jsx(Zn,{present:r||s.open,children:({present:i})=>a.jsx(y$e,{...n,ref:t,present:i})})});s6.displayName=wC;var y$e=v.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=bC(wC,r),[l,c]=v.useState(n),u=v.useRef(null),d=gt(t,u),f=v.useRef(0),h=f.current,m=v.useRef(0),g=m.current,p=o.open||l,x=v.useRef(p),b=v.useRef(void 0);return v.useEffect(()=>{const y=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(y)},[]),Nr(()=>{const y=u.current;if(y){b.current=b.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const w=y.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(y.style.transitionDuration=b.current.transitionDuration,y.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":jC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function jC(e){return e?"open":"closed"}var x$e=t6,b$e=n6,w$e=s6,$a="Accordion",j$e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[_C,_$e,S$e]=Ux($a),[Wb]=Ws($a,[S$e,e6]),SC=e6(),a6=R.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(_C.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(E$e,{...i,ref:t}):a.jsx(C$e,{...s,ref:t})})});a6.displayName=$a;var[i6,N$e]=Wb($a),[o6,k$e]=Wb($a,{collapsible:!1}),C$e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=ri({prop:r,defaultProp:n??"",onChange:s,caller:$a});return a.jsx(i6,{scope:e.__scopeAccordion,value:R.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:R.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(o6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(l6,{...o,ref:t})})})}),E$e=R.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=ri({prop:r,defaultProp:n??[],onChange:s,caller:$a}),c=R.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=R.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(i6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(o6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(l6,{...i,ref:t})})})}),[P$e,Vb]=Wb($a),l6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=R.useRef(null),c=gt(l,t),u=_$e(r),f=af(s)==="ltr",h=$e(e.onKeyDown,m=>{var k;if(!j$e.includes(m.key))return;const g=m.target,p=u().filter(C=>{var O;return!((O=C.ref.current)!=null&&O.disabled)}),x=p.findIndex(C=>C.ref.current===g),b=p.length;if(x===-1)return;m.preventDefault();let y=x;const w=0,_=b-1,j=()=>{y=x+1,y>_&&(y=w)},S=()=>{y=x-1,y<w&&(y=_)};switch(m.key){case"Home":y=w;break;case"End":y=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=y%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(P$e,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(_C.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),tx="AccordionItem",[O$e,NC]=Wb(tx),c6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Vb(tx,r),o=N$e(tx,r),l=SC(r),c=Is(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(O$e,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(x$e,{"data-orientation":i.orientation,"data-state":p6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});c6.displayName=tx;var u6="AccordionHeader",d6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Vb($a,r),i=NC(u6,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":p6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});d6.displayName=u6;var nS="AccordionTrigger",f6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Vb($a,r),i=NC(nS,r),o=k$e(nS,r),l=SC(r);return a.jsx(_C.ItemSlot,{scope:r,children:a.jsx(b$e,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});f6.displayName=nS;var h6="AccordionContent",m6=R.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Vb($a,r),i=NC(h6,r),o=SC(r);return a.jsx(w$e,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});m6.displayName=h6;function p6(e){return e?"open":"closed"}var A$e=a6,g6=c6,T$e=d6,v6=f6,y6=m6;const R$e=A$e,x6=v.forwardRef(({className:e,...t},r)=>a.jsx(g6,{ref:r,className:J("border-b border-border",e),...t}));x6.displayName=g6.displayName;const b6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(T$e,{className:"flex",children:a.jsxs(v6,{ref:n,className:J("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(pl,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));b6.displayName=v6.displayName;const w6=v.forwardRef(({className:e,children:t,...r},n)=>a.jsx(y6,{ref:n,className:J("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));w6.displayName=y6.displayName;const M$e="help_faqs",$$e="help_doc_links",I$e="support_requests",D$e="help_changelog",Kb={getFaqs:async()=>{const{data:e,error:t}=await U.from(M$e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await U.from($$e).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await U.from(I$e).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await U.from(D$e).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},lc={all:["help"],faqs:()=>[...lc.all,"faqs"],docLinks:()=>[...lc.all,"doc-links"],changelog:()=>[...lc.all,"changelog"]};function kC(e,t){return e().catch(()=>t)}function L$e(){return Ce({queryKey:lc.faqs(),queryFn:()=>kC(Kb.getFaqs,[])})}function F$e(){return Ce({queryKey:lc.docLinks(),queryFn:()=>kC(Kb.getDocLinks,[])})}function U$e(){const e=de();return ce({mutationFn:t=>Kb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:lc.all}),q.success("Support request submitted. Well get back to you soon.")},onError:t=>{q.error(t.message||"Failed to submit support request")}})}function q$e(e){return Ce({queryKey:[...lc.changelog(),50],queryFn:()=>kC(()=>Kb.getChangelog(50),[])})}function B$e({open:e,onOpenChange:t}){return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{showClose:!0,className:"max-w-md",children:[a.jsx(Oe,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(ka,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(Ae,{children:"Request received"}),a.jsx(Te,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx(Ie,{className:"sm:justify-end",children:a.jsx(P,{onClick:()=>t(!1),children:"Done"})})]})})}const z$e=tt({name:be().min(1,"Name is required").max(255,"Name is too long"),email:be().min(1,"Email is required").email("Enter a valid email"),issue_description:be().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),D0={name:"",email:"",issue_description:""};function W$e(){var f;const{user:e}=ip(),t=U$e(),[r,n]=v.useState(!1),s=v.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=Ze({resolver:et(z$e),defaultValues:e!=null&&e.email?{...D0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:D0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(D0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(he,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_name",children:"Name"}),a.jsx(ge,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_email",children:"Email"}),a.jsx(ge,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(Wd,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(P,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(B$e,{open:r,onOpenChange:n})]})}const V$e=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Sr,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:Bl,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:BI,cta:"Dashboard"}];function K$e(){const[e,t]=v.useState(""),{data:r=[],isLoading:n}=L$e(),{data:s=[],isLoading:i}=F$e(),{data:o=[],isLoading:l}=q$e(),c=v.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(wr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:V$e.map((u,d)=>a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(se,{className:"text-base",children:u.title})]}),a.jsx(he,{className:"text-sm",children:u.description})]}),a.jsx(Z,{className:"pt-0",children:a.jsx(P,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(ue,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(Z,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(oe,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(rf,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(R$e,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(x6,{value:u.id,children:[a.jsx(b6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(w6,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(oe,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(sr,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(P,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Ai,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:J("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(cd,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Ai,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(W$e,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(oe,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ml,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(ue,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Ai,{className:"h-3.5 w-3.5"})]})]})})]})}const Hb={getPrivacySettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)return null;const{data:t,error:r}=await U.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await U.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await U.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Hb.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await U.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await U.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Gm={all:["privacy"],settings:()=>[...Gm.all,"settings"],policyDocument:e=>[...Gm.all,"policy",e]};function j6(e,t){return e().catch(()=>t)}function H$e(){return Ce({queryKey:Gm.settings(),queryFn:()=>j6(Hb.getPrivacySettings,null)})}function G$e(){const e=de();return ce({mutationFn:t=>Hb.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gm.settings()}),q.success("Privacy preferences updated")},onError:t=>{q.error(t.message||"Failed to update privacy preferences")}})}function Y$e(e="privacy"){return Ce({queryKey:Gm.policyDocument(e),queryFn:()=>j6(()=>Hb.getCurrentPolicyDocument(e),null)})}function Q$e({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ae,{children:"Confirm privacy preference"})]}),a.jsx(Te,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function _6({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ae,{children:s})]}),a.jsx(Te,{id:"download-confirmation-description",children:i})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(P,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(P,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const dM=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function X$e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=v.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(pl,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(wr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function J$e(){const{data:e,isLoading:t}=H$e(),r=G$e(),{data:n}=Y$e("privacy"),[s,i]=v.useState(!1),[o,l]=v.useState(null),[c,u]=v.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=v.useCallback(b=>{l(b),i(!0)},[]),h=v.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??dM.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:dM,p=v.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),y=URL.createObjectURL(b),w=document.createElement("a");w.href=y,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(y)},[m]),x=v.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),y=URL.createObjectURL(b);window.open(y,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(y),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Policy sections"}),a.jsx(he,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,y)=>a.jsx(X$e,{id:b.id,title:b.title,content:b.content,defaultOpen:y===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(he,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(Z,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(H,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(Rt,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Download policy"}),a.jsx(he,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(ue,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(Q$e,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(_6,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:x,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}const Gb={getCurrentTerms:async()=>{const{data:e,error:t}=await U.from("policy_documents").select("*").eq("document_type","terms").order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(t)throw new Error(t.message);return e??null},getUserAgreement:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)return{data:null};const{data:r,error:n}=await U.from("user_agreements").select("*").eq("user_id",t.id).eq("policy_document_id",e).maybeSingle();if(n)throw new Error(n.message);return{data:r??null}},recordAgreement:async(e,t)=>{const{data:{user:r}}=await U.auth.getUser();if(!r)throw new Error("Not authenticated");const n={user_id:r.id,policy_document_id:e,status:t},{data:s,error:i}=await U.from("user_agreements").upsert(n,{onConflict:"user_id,policy_document_id"}).select().single();if(i)throw new Error(i.message);return s},submitDeclineFeedback:async e=>{const{data:{user:t}}=await U.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,comments:e.comments,user_agreement_id:e.user_agreement_id??null},{error:n}=await U.from("terms_decline_feedback").insert(r);if(n)throw new Error(n.message)}},Vd={all:["terms"],document:()=>[...Vd.all,"document"],agreement:e=>[...Vd.all,"agreement",e]};function Z$e(e,t){return e().catch(()=>t)}function e4e(){return Ce({queryKey:Vd.document(),queryFn:()=>Z$e(Gb.getCurrentTerms,null)})}function t4e(e){return Ce({queryKey:Vd.agreement(e??""),queryFn:()=>e?Gb.getUserAgreement(e).then(t=>t.data):Promise.resolve(null),enabled:!!e})}function r4e(){const e=de();return ce({mutationFn:({policyDocumentId:t,status:r})=>Gb.recordAgreement(t,r),onSuccess:(t,{policyDocumentId:r})=>{e.invalidateQueries({queryKey:Vd.agreement(r)}),e.invalidateQueries({queryKey:Vd.document()}),q.success(t.status==="accepted"?"Terms of Service accepted.":"Your response has been recorded.")},onError:t=>{q.error(t.message||"Failed to record your response")}})}function n4e(){return ce({mutationFn:e=>Gb.submitDeclineFeedback(e),onSuccess:()=>{q.success("Thank you for your feedback.")},onError:e=>{q.error(e.message||"Failed to submit feedback")}})}const s4e=tt({comments:be().max(2e3,"Feedback must be 2000 characters or less").default("")}),L0={comments:""};function a4e({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ze({resolver:et(s4e),defaultValues:L0}),c=d=>{d||o(L0),t(d)},u=async d=>{await r(d),o(L0),c(!1)};return a.jsx(Re,{open:e,onOpenChange:c,children:a.jsxs(Pe,{"aria-describedby":"terms-decline-feedback-description",children:[a.jsxs(Oe,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bl,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Ae,{children:"Feedback (optional)"})]}),a.jsx(Te,{id:"terms-decline-feedback-description",children:"Help us improve by sharing why you declined. Your feedback is optional and will not affect your ability to use local-only features."})]}),a.jsxs("form",{onSubmit:i(u),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"terms-decline-comments",children:"Comments"}),a.jsx(Wd,{id:"terms-decline-comments",placeholder:"e.g. concerns about data handling, unclear clauses...",className:"min-h-[100px] resize-y",maxLength:2e3,"aria-invalid":!!l.comments,"aria-describedby":l.comments?"terms-decline-comments-error":void 0,...s("comments")}),l.comments&&a.jsx("p",{id:"terms-decline-comments-error",className:"text-sm text-destructive",children:l.comments.message})]}),a.jsxs(Ie,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>c(!1),disabled:n,children:"Skip"}),a.jsx(P,{type:"submit",disabled:n,className:"transition-transform hover:scale-[1.02]",children:n?"Submitting":"Submit feedback"})]})]})]})})}const fM=[{id:"acceptance",title:"Acceptance of terms",content:"By accessing or using Clawgate software and any associated cloud features, you agree to be bound by these Terms of Service. If you do not agree, do not use the service. Local-only use of the gateway may be subject to separate terms."},{id:"use-of-service",title:"Use of service",content:"You may use Clawgate for personal or internal business use in accordance with these terms and applicable law. You are responsible for maintaining the security of your credentials and for all activity under your account. You must not use the service for illegal purposes or to violate the rights of others."},{id:"account",title:"Account and data",content:"When you create a cloud-linked account, you provide accurate information and keep it updated. You are responsible for safeguarding your password. Session data, skills, and configurations may be stored locally or, when enabled, in the cloud. We process data as described in our Privacy Policy."},{id:"acceptable-use",title:"Acceptable use",content:"You must not misuse the service, including by attempting to gain unauthorized access, distributing malware, violating laws, or interfering with other users. We may suspend or terminate access for violations and report activity to authorities where required."},{id:"ip-and-licence",title:"Intellectual property and licence",content:"Clawgate software and associated materials are licensed, not sold. We grant you a limited, non-exclusive licence to use the software in accordance with these terms. You retain rights to content you create; you grant us limited rights to operate and improve the service."},{id:"disclaimer",title:"Disclaimer",content:'The service is provided "as is" without warranties of any kind. We do not guarantee uninterrupted or error-free operation. Use of third-party integrations (e.g. channel adapters, model providers) is at your own risk and subject to their terms.'},{id:"limitation",title:"Limitation of liability",content:"To the maximum extent permitted by law, we are not liable for indirect, incidental, special, or consequential damages arising from your use of the service. Our total liability is limited to the amount you paid us in the twelve months preceding the claim, or a nominal amount if no fee applied."},{id:"changes",title:"Changes to terms",content:"We may update these terms from time to time. We will notify you of material changes (e.g. by email or in-app notice). Continued use after the effective date constitutes acceptance. If you do not agree, you may stop using cloud features or close your account."},{id:"contact",title:"Contact",content:"For questions about these terms or legal inquiries, contact us at the Legal Contact information provided on this page."}];function i4e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=v.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(pl,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(wr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}const hM="legal@clawgate.example.com";function o4e(){const e=Ji(),{user:t}=ip(),{data:r,isLoading:n}=e4e(),{data:s,isLoading:i}=t4e(r==null?void 0:r.id),o=r4e(),l=n4e(),[c,u]=v.useState(!1),[d,f]=v.useState(!1),h=r!=null&&r.content?[{id:"terms",title:"Terms of Service",content:r.content}]:fM,m=r==null?void 0:r.id,g=!!s,p=(s==null?void 0:s.status)==="accepted",x=v.useCallback(()=>{m&&o.mutate({policyDocumentId:m,status:"accepted"},{onSuccess:()=>{e("/dashboard",{replace:!0})}})},[m,o,e]),b=v.useCallback(()=>{m&&o.mutate({policyDocumentId:m,status:"declined"},{onSuccess:()=>{u(!0)}})},[m,o]),y=v.useCallback(async S=>{await l.mutateAsync({comments:S.comments.trim(),user_agreement_id:(s==null?void 0:s.id)??null})},[l,s==null?void 0:s.id]),w=(r==null?void 0:r.content)??fM.map(S=>`${S.title}

${S.content}`).join(`

`),_=v.useCallback(()=>{const S=new Blob([w],{type:"text/plain;charset=utf-8"}),N=URL.createObjectURL(S),k=document.createElement("a");k.href=N,k.download="terms-of-service.txt",k.click(),URL.revokeObjectURL(N)},[w]),j=v.useCallback(()=>{const S=w.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>"),N=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Terms of Service - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Terms of Service</h1><p>${S}</p></body></html>`],{type:"text/html;charset=utf-8"}),k=URL.createObjectURL(N);window.open(k,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(k),5e3)},[w]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Terms of Service"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"Legal terms and conditions governing the use of Clawgate software and associated cloud features. Please read them carefully."}),r&&a.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Version ",r.version,"  Effective ",new Date(r.effective_date).toLocaleDateString()]})]}),h.length>1&&a.jsx("nav",{"aria-label":"Terms sections",className:"mb-6",children:a.jsx("ul",{className:"flex flex-wrap gap-2",children:h.map(S=>a.jsx("li",{children:a.jsx("a",{href:`#${S.id}`,className:"text-sm text-primary underline-offset-4 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:S.title})},S.id))})}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(sr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Terms sections"]}),a.jsx(he,{children:"Expand each section to read the full terms. Use the links above to jump to a section."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:h.map((S,N)=>a.jsx(i4e,{id:S.id,title:S.title,content:S.content,defaultOpen:N===0},S.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Your agreement"}),a.jsx(he,{children:t?g?p?"You have accepted the current terms. You can continue using software and cloud features.":"You have declined the current terms. You can still use local-only features.":"Accept to proceed with software and cloud features, or decline and optionally provide feedback.":"Sign in to accept or decline the terms. You can still read and download the document."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-3",children:[t&&!i&&!n&&m&&a.jsxs(a.Fragment,{children:[!g&&a.jsxs(a.Fragment,{children:[a.jsx(P,{onClick:x,disabled:o.isPending,className:"rounded-[8px] py-3 transition-transform hover:scale-[1.02]",children:o.isPending?"Processing":"Accept"}),a.jsx(P,{variant:"outline",onClick:b,disabled:o.isPending,className:"rounded-[8px] py-3 transition-transform hover:scale-[1.02]",children:"Decline"})]}),g&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[p?"Accepted":"Declined"," on"," ",s&&new Date(s.agreed_at).toLocaleDateString(),"."]})]}),!t&&a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(ue,{to:"/login",className:"rounded-[8px] py-3",children:"Sign in to accept or decline"})})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(gc,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Legal contact"]}),a.jsx(he,{children:"For questions about these terms or legal inquiries, contact us."})]}),a.jsx(Z,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Email:"," ",a.jsx("a",{href:`mailto:${hM}`,className:"text-primary underline-offset-4 hover:underline",children:hM})]})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(se,{className:"text-lg",children:"Download document"}),a.jsx(he,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>f(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Sr,{className:"h-4 w-4","aria-hidden":!0}),"Download Terms of Service"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(ue,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy Policy"}),a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(a4e,{open:c,onOpenChange:u,onSubmit:y,isSubmitting:l.isPending}),a.jsx(_6,{open:d,onOpenChange:f,onDownload:_,onOpenInNewTab:j,title:"Download Terms of Service",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}async function l4e(e){var s;let t=U.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function c4e(e){const{data:t,error:r}=await U.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function u4e(){const{data:{user:e}}=await U.auth.getUser();if(!e)return[];const{data:t,error:r}=await U.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function d4e(){const{data:{user:e}}=await U.auth.getUser();if(!e)return[];const{data:t,error:r}=await U.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function f4e(e){return je.post("/marketplace/checkout-session",e)}async function h4e(e){await je.post("/marketplace/subscription/cancel",{subscription_id:e})}async function m4e(e,t){const{data:r,error:n}=await U.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function CC(e,t){return e().catch(()=>t)}const ya={all:["marketplace"],skills:e=>[...ya.all,"skills",e],skill:e=>[...ya.all,"skill",e],transactions:()=>[...ya.all,"transactions"],licenses:()=>[...ya.all,"licenses"]};function S6(e){return Ce({queryKey:ya.skills(e),queryFn:()=>CC(()=>l4e(e),[])})}function p4e(e){return Ce({queryKey:ya.skill(e??""),queryFn:()=>e?c4e(e):Promise.resolve(null),enabled:!!e})}function g4e(){return Ce({queryKey:ya.transactions(),queryFn:()=>CC(()=>u4e(),[])})}function N6(){return Ce({queryKey:ya.licenses(),queryFn:()=>CC(()=>d4e(),[])})}function k6(){return ce({mutationFn:f4e,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:q.success("Checkout session created")},onError:e=>{q.error(e.message||"Failed to start checkout")}})}function v4e(){const e=de();return ce({mutationFn:h4e,onSuccess:()=>{e.invalidateQueries({queryKey:ya.transactions()}),e.invalidateQueries({queryKey:ya.licenses()}),q.success("Subscription cancelled")},onError:t=>{q.error(t.message||"Failed to cancel subscription")}})}function y4e(){const e=de();return ce({mutationFn:({id:t,data:r})=>m4e(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ya.licenses()}),q.success("License updated")},onError:t=>{q.error(t.message||"Failed to update license")}})}function mM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function x4e({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${mM(r.price,r.currency)} / month`:mM(r.price,r.currency);return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Confirm purchase"}),a.jsx(Te,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(P,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(qI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function C6({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[440px]",children:[a.jsxs(Oe,{children:[a.jsxs(Ae,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(eo,{className:"h-5 w-5"}),r]}),a.jsx(Te,{children:n})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(P,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function pM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function b4e({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${pM(e.price,e.currency)} / mo`:pM(e.price,e.currency);return a.jsx(X,{className:J("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(BI,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(se,{className:"text-lg",children:e.name}),e.category&&a.jsx(We,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(he,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(We,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ex,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(kx,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function w4e(){const[e,t]=v.useState(""),[r,n]=v.useState(),[s,i]=v.useState(null),[o,l]=v.useState("one_time"),[c,u]=v.useState(!1),{data:d=[],isLoading:f}=S6({search:e.trim()||void 0,category:r}),{data:h=[]}=N6(),m=k6(),g=new Set(h.filter(y=>y.activation_status==="active").map(y=>y.skill_id)),p=(y,w)=>{i(y),l(w)},x=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(y=>y.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace/licenses",children:[a.jsx(vc,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{children:"Browse skills"}),a.jsx(he,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(cp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",value:e,onChange:y=>t(y.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:y=>n(y.target.value?y.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(y=>a.jsx("option",{value:y,children:y},y))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(y=>a.jsx(oe,{className:"h-32 rounded-lg"},y))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Ex,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(y=>a.jsx(b4e,{skill:y,hasLicense:g.has(y.id),onPurchase:p},y.id))})]})]}),a.jsx(x4e,{open:!!s,onOpenChange:y=>!y&&i(null),skill:s,mode:o,onConfirm:x,isSubmitting:m.isPending}),a.jsx(C6,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&x()}})]})}const j4e=tt({email:be().email("Invalid email"),accept_terms:Gr().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function gM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function _4e({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=Ze({resolver:et(j4e),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${gM(e.price,e.currency)} / month`:gM(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{children:"Order summary"}),a.jsx(he,{children:"Review your selection before payment."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{children:"Contact"}),a.jsx(he,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(H,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ge,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(H,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(P,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(qI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function S4e(){const[e]=eI(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=v.useState(!1),{data:i,isLoading:o}=p4e(t),l=k6(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(oe,{className:"h-8 w-48"}),a.jsx(oe,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(ld,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(_4e,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(C6,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(ld,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(ue,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function N4e({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Re,{open:e,onOpenChange:t,children:a.jsxs(Pe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Manage subscription"}),a.jsxs(Te,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(We,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(kx,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(Ie,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(P,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(jr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(eo,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function k4e(){var m;const[e,t]=v.useState(null),{data:r=[],isLoading:n}=N6(),{data:s=[]}=S6(),{data:i=[]}=g4e(),o=y4e(),l=v4e(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(vc,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(se,{children:"Licenses"}),a.jsx(he,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(Z,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(oe,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(vc,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(ue,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),x=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:J("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(We,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(x==null?void 0:x.stripe_subscription_id)&&a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(x),children:[a.jsx(kx,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(P,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(bN,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(xN,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(N4e,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function C4e(e,t,r){try{const{data:{user:n}}=await U.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await U.from("error_logs").insert(s)}catch{}}async function E4e(e,t,r,n){try{const{data:{user:s}}=await U.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await U.from("error_logs").insert(i)}catch{}}function vM(){const e=ii(),t=e.pathname+e.search;v.useEffect(()=>{C4e(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(x7,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(nf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/",children:[a.jsx(DI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",children:[a.jsx(fN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(sr,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(ue,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function P4e(e){var i;const{data:{user:t}}=await U.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await U.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const O4e=tt({description:be().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:be().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:be().max(1e3).optional()}),F0={description:"",contact_email:"",comments:""};function A4e({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=Ze({resolver:et(O4e),defaultValues:F0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(F0),t(!1)},f=h=>{h||l(F0),t(h)};return a.jsx(Re,{open:e,onOpenChange:f,children:a.jsxs(Pe,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Oe,{children:[a.jsx(Ae,{children:"Report an issue"}),a.jsx(Te,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(H,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Ie,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function T4e(){const e=ii(),[t,r]=v.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;v.useEffect(()=>{E4e(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await P4e(c),q.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(to,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(nf,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/",children:[a.jsx(DI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(P,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(lp,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",children:[a.jsx(fN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(ue,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(sr,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(ue,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(_r,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(A4e,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const R4e=new MV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function M4e(){return a.jsxs($V,{client:R4e,children:[a.jsx(aV,{children:a.jsx(l7,{children:a.jsx(dQ,{children:a.jsxs(QW,{children:[a.jsx(bt,{path:"/",element:a.jsx(aee,{})}),a.jsx(bt,{path:"/login",element:a.jsx(pte,{})}),a.jsx(bt,{path:"/signup",element:a.jsx(vte,{})}),a.jsx(bt,{path:"/forgot-password",element:a.jsx(jte,{})}),a.jsx(bt,{path:"/verify-email",element:a.jsx(Ste,{})}),a.jsx(bt,{path:"/download",element:a.jsx(_ne,{})}),a.jsx(bt,{path:"/privacy",element:a.jsx(J$e,{})}),a.jsx(bt,{path:"/terms",element:a.jsx(o4e,{})}),a.jsx(bt,{path:"/500",element:a.jsx(T4e,{})}),a.jsxs(bt,{element:a.jsx(JZ,{}),children:[a.jsx(bt,{path:"/dashboard",element:a.jsx(Tse,{})}),a.jsx(bt,{path:"/profile",element:a.jsx(c7,{}),children:a.jsx(bt,{index:!0,element:a.jsx(jne,{})})}),a.jsx(bt,{path:"/chat",element:a.jsx(pae,{})}),a.jsx(bt,{path:"/channels",element:a.jsx($ae,{})}),a.jsx(bt,{path:"/skills",element:a.jsx(tie,{})}),a.jsx(bt,{path:"/skill-editor/:skillId?",element:a.jsx(oie,{})}),a.jsx(bt,{path:"/marketplace",element:a.jsx(w4e,{})}),a.jsx(bt,{path:"/marketplace/checkout",element:a.jsx(S4e,{})}),a.jsx(bt,{path:"/marketplace/licenses",element:a.jsx(k4e,{})}),a.jsx(bt,{path:"/nodes",element:a.jsx($ie,{})}),a.jsx(bt,{path:"/cron",element:a.jsx(Uie,{})}),a.jsx(bt,{path:"/webhooks",element:a.jsx(hoe,{})}),a.jsx(bt,{path:"/model-providers",element:a.jsx(mTe,{})}),a.jsx(bt,{path:"/browser",element:a.jsx(KTe,{})}),a.jsx(bt,{path:"/voice",element:a.jsx(pRe,{})}),a.jsx(bt,{path:"/secrets",element:a.jsx(YRe,{})}),a.jsx(bt,{path:"/settings",element:a.jsx(IRe,{})}),a.jsx(bt,{path:"/security",element:a.jsx(hMe,{})}),a.jsx(bt,{path:"/logs",element:a.jsx(PMe,{})}),a.jsx(bt,{path:"/admin",element:a.jsx(p$e,{})}),a.jsx(bt,{path:"/help",element:a.jsx(K$e,{})})]}),a.jsx(bt,{path:"/404",element:a.jsx(vM,{})}),a.jsx(bt,{path:"*",element:a.jsx(vM,{})})]})})})}),a.jsx(x9,{position:"top-right",richColors:!0,closeButton:!0})]})}const E6=document.getElementById("root");if(!E6)throw new Error("Root element not found");U0.createRoot(E6).render(a.jsx(R.StrictMode,{children:a.jsx(M4e,{})}));

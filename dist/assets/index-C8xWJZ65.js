var cC=e=>{throw TypeError(e)};var Ib=(e,t,r)=>t.has(e)||cC("Cannot "+r);var B=(e,t,r)=>(Ib(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>t.has(e)?cC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ke=(e,t,r,n)=>(Ib(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),st=(e,t,r)=>(Ib(e,t,"access private method"),r);var yp=(e,t,r,n)=>({set _(s){ke(e,t,s,r)},get _(){return B(e,t,n)}});function dq(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var xp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var lM={exports:{}},Uy={},cM={exports:{}},gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),fq=Symbol.for("react.portal"),hq=Symbol.for("react.fragment"),mq=Symbol.for("react.strict_mode"),pq=Symbol.for("react.profiler"),gq=Symbol.for("react.provider"),vq=Symbol.for("react.context"),yq=Symbol.for("react.forward_ref"),xq=Symbol.for("react.suspense"),bq=Symbol.for("react.memo"),wq=Symbol.for("react.lazy"),uC=Symbol.iterator;function jq(e){return e===null||typeof e!="object"?null:(e=uC&&e[uC]||e["@@iterator"],typeof e=="function"?e:null)}var uM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dM=Object.assign,fM={};function Id(e,t,r){this.props=e,this.context=t,this.refs=fM,this.updater=r||uM}Id.prototype.isReactComponent={};Id.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Id.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hM(){}hM.prototype=Id.prototype;function U1(e,t,r){this.props=e,this.context=t,this.refs=fM,this.updater=r||uM}var B1=U1.prototype=new hM;B1.constructor=U1;dM(B1,Id.prototype);B1.isPureReactComponent=!0;var dC=Array.isArray,mM=Object.prototype.hasOwnProperty,q1={current:null},pM={key:!0,ref:!0,__self:!0,__source:!0};function gM(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)mM.call(t,n)&&!pM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Vm,type:e,key:i,ref:o,props:s,_owner:q1.current}}function _q(e,t){return{$$typeof:Vm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function z1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vm}function Sq(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fC=/\/+/g;function Db(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Sq(""+e.key):t.toString(36)}function yg(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vm:case fq:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Db(o,0):n,dC(s)?(r="",e!=null&&(r=e.replace(fC,"$&/")+"/"),yg(s,t,r,"",function(u){return u})):s!=null&&(z1(s)&&(s=_q(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",dC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Db(i,l);o+=yg(i,t,r,c,s)}else if(c=jq(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Db(i,l++),o+=yg(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function bp(e,t,r){if(e==null)return e;var n=[],s=0;return yg(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Nq(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pn={current:null},xg={transition:null},kq={ReactCurrentDispatcher:Pn,ReactCurrentBatchConfig:xg,ReactCurrentOwner:q1};function vM(){throw Error("act(...) is not supported in production builds of React.")}gt.Children={map:bp,forEach:function(e,t,r){bp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bp(e,function(){t++}),t},toArray:function(e){return bp(e,function(t){return t})||[]},only:function(e){if(!z1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gt.Component=Id;gt.Fragment=hq;gt.Profiler=pq;gt.PureComponent=U1;gt.StrictMode=mq;gt.Suspense=xq;gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kq;gt.act=vM;gt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=q1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)mM.call(t,c)&&!pM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Vm,type:e.type,key:s,ref:i,props:n,_owner:o}};gt.createContext=function(e){return e={$$typeof:vq,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gq,_context:e},e.Consumer=e};gt.createElement=gM;gt.createFactory=function(e){var t=gM.bind(null,e);return t.type=e,t};gt.createRef=function(){return{current:null}};gt.forwardRef=function(e){return{$$typeof:yq,render:e}};gt.isValidElement=z1;gt.lazy=function(e){return{$$typeof:wq,_payload:{_status:-1,_result:e},_init:Nq}};gt.memo=function(e,t){return{$$typeof:bq,type:e,compare:t===void 0?null:t}};gt.startTransition=function(e){var t=xg.transition;xg.transition={};try{e()}finally{xg.transition=t}};gt.unstable_act=vM;gt.useCallback=function(e,t){return Pn.current.useCallback(e,t)};gt.useContext=function(e){return Pn.current.useContext(e)};gt.useDebugValue=function(){};gt.useDeferredValue=function(e){return Pn.current.useDeferredValue(e)};gt.useEffect=function(e,t){return Pn.current.useEffect(e,t)};gt.useId=function(){return Pn.current.useId()};gt.useImperativeHandle=function(e,t,r){return Pn.current.useImperativeHandle(e,t,r)};gt.useInsertionEffect=function(e,t){return Pn.current.useInsertionEffect(e,t)};gt.useLayoutEffect=function(e,t){return Pn.current.useLayoutEffect(e,t)};gt.useMemo=function(e,t){return Pn.current.useMemo(e,t)};gt.useReducer=function(e,t,r){return Pn.current.useReducer(e,t,r)};gt.useRef=function(e){return Pn.current.useRef(e)};gt.useState=function(e){return Pn.current.useState(e)};gt.useSyncExternalStore=function(e,t,r){return Pn.current.useSyncExternalStore(e,t,r)};gt.useTransition=function(){return Pn.current.useTransition()};gt.version="18.3.1";cM.exports=gt;var y=cM.exports;const O=qt(y),By=dq({__proto__:null,default:O},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cq=y,Eq=Symbol.for("react.element"),Pq=Symbol.for("react.fragment"),Oq=Object.prototype.hasOwnProperty,Aq=Cq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tq={key:!0,ref:!0,__self:!0,__source:!0};function yM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Oq.call(t,n)&&!Tq.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Eq,type:e,key:i,ref:o,props:s,_owner:Aq.current}}Uy.Fragment=Pq;Uy.jsx=yM;Uy.jsxs=yM;lM.exports=Uy;var a=lM.exports,j0={},xM={exports:{}},ps={},bM={exports:{}},wM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,M){var R=D.length;D.push(M);e:for(;0<R;){var ee=R-1>>>1,$=D[ee];if(0<s($,M))D[ee]=M,D[R]=$,R=ee;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var M=D[0],R=D.pop();if(R!==M){D[0]=R;e:for(var ee=0,$=D.length,ie=$>>>1;ee<ie;){var he=2*(ee+1)-1,We=D[he],Ve=he+1,ue=D[Ve];if(0>s(We,R))Ve<$&&0>s(ue,We)?(D[ee]=ue,D[Ve]=R,ee=Ve):(D[ee]=We,D[he]=R,ee=he);else if(Ve<$&&0>s(ue,R))D[ee]=ue,D[Ve]=R,ee=Ve;else break e}}return M}function s(D,M){var R=D.sortIndex-M.sortIndex;return R!==0?R:D.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,x=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=D)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(D){if(p=!1,w(D),!g)if(r(c)!==null)g=!0,L(j);else{var M=r(u);M!==null&&K(_,M.startTime-D)}}function j(D,M){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var R=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||D&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var $=ee(f.expirationTime<=M);M=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var he=r(u);he!==null&&K(_,he.startTime-M),ie=!1}return ie}finally{f=null,h=R,m=!1}}var S=!1,N=null,k=-1,C=5,A=-1;function I(){return!(e.unstable_now()-A<C)}function P(){if(N!==null){var D=e.unstable_now();A=D;var M=!0;try{M=N(!0,D)}finally{M?q():(S=!1,N=null)}}else S=!1}var q;if(typeof v=="function")q=function(){v(P)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,W=T.port2;T.port1.onmessage=P,q=function(){W.postMessage(null)}}else q=function(){x(P,0)};function L(D){N=D,S||(S=!0,q())}function K(D,M){k=x(function(){D(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,L(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var R=h;h=M;try{return D()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,M){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=h;h=D;try{return M()}finally{h=R}},e.unstable_scheduleCallback=function(D,M,R){var ee=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ee+R:ee):R=ee,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=R+$,D={id:d++,callback:M,priorityLevel:D,startTime:R,expirationTime:$,sortIndex:-1},R>ee?(D.sortIndex=R,t(u,D),r(c)===null&&D===r(u)&&(p?(b(k),k=-1):p=!0,K(_,R-ee))):(D.sortIndex=$,t(c,D),g||m||(g=!0,L(j))),D},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(D){var M=h;return function(){var R=h;h=M;try{return D.apply(this,arguments)}finally{h=R}}}})(wM);bM.exports=wM;var Rq=bM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mq=y,fs=Rq;function fe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jM=new Set,_h={};function jc(e,t){Ku(e,t),Ku(e+"Capture",t)}function Ku(e,t){for(_h[e]=t,e=0;e<t.length;e++)jM.add(t[e])}var Oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_0=Object.prototype.hasOwnProperty,$q=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hC={},mC={};function Iq(e){return _0.call(mC,e)?!0:_0.call(hC,e)?!1:$q.test(e)?mC[e]=!0:(hC[e]=!0,!1)}function Dq(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lq(e,t,r,n){if(t===null||typeof t>"u"||Dq(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function On(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){cn[e]=new On(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];cn[t]=new On(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){cn[e]=new On(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){cn[e]=new On(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){cn[e]=new On(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){cn[e]=new On(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){cn[e]=new On(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){cn[e]=new On(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){cn[e]=new On(e,5,!1,e.toLowerCase(),null,!1,!1)});var W1=/[\-:]([a-z])/g;function V1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(W1,V1);cn[t]=new On(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(W1,V1);cn[t]=new On(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(W1,V1);cn[t]=new On(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){cn[e]=new On(e,1,!1,e.toLowerCase(),null,!1,!1)});cn.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){cn[e]=new On(e,1,!1,e.toLowerCase(),null,!0,!0)});function K1(e,t,r,n){var s=cn.hasOwnProperty(t)?cn[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lq(t,r,s,n)&&(r=null),n||s===null?Iq(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var zi=Mq.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wp=Symbol.for("react.element"),su=Symbol.for("react.portal"),au=Symbol.for("react.fragment"),H1=Symbol.for("react.strict_mode"),S0=Symbol.for("react.profiler"),_M=Symbol.for("react.provider"),SM=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),N0=Symbol.for("react.suspense"),k0=Symbol.for("react.suspense_list"),Y1=Symbol.for("react.memo"),uo=Symbol.for("react.lazy"),NM=Symbol.for("react.offscreen"),pC=Symbol.iterator;function gf(e){return e===null||typeof e!="object"?null:(e=pC&&e[pC]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Lb;function Vf(e){if(Lb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lb=t&&t[1]||""}return`
`+Lb+e}var Fb=!1;function Ub(e,t){if(!e||Fb)return"";Fb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Fb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vf(e):""}function Fq(e){switch(e.tag){case 5:return Vf(e.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return e=Ub(e.type,!1),e;case 11:return e=Ub(e.type.render,!1),e;case 1:return e=Ub(e.type,!0),e;default:return""}}function C0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case au:return"Fragment";case su:return"Portal";case S0:return"Profiler";case H1:return"StrictMode";case N0:return"Suspense";case k0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case SM:return(e.displayName||"Context")+".Consumer";case _M:return(e._context.displayName||"Context")+".Provider";case G1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y1:return t=e.displayName||null,t!==null?t:C0(e.type)||"Memo";case uo:t=e._payload,e=e._init;try{return C0(e(t))}catch{}}return null}function Uq(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return C0(t);case 8:return t===H1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bq(e){var t=kM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jp(e){e._valueTracker||(e._valueTracker=Bq(e))}function CM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=kM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ig(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function E0(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function gC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Xo(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function EM(e,t){t=t.checked,t!=null&&K1(e,"checked",t,!1)}function P0(e,t){EM(e,t);var r=Xo(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?O0(e,t.type,r):t.hasOwnProperty("defaultValue")&&O0(e,t.type,Xo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function O0(e,t,r){(t!=="number"||Ig(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Kf=Array.isArray;function bu(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Xo(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function A0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(fe(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function yC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(fe(92));if(Kf(r)){if(1<r.length)throw Error(fe(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Xo(r)}}function PM(e,t){var r=Xo(t.value),n=Xo(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function T0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _p,AM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_p=_p||document.createElement("div"),_p.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_p.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sh(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qq=["Webkit","ms","Moz","O"];Object.keys(nh).forEach(function(e){qq.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nh[t]=nh[e]})});function TM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nh.hasOwnProperty(e)&&nh[e]?(""+t).trim():t+"px"}function RM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=TM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var zq=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function R0(e,t){if(t){if(zq[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(fe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(fe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(fe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(fe(62))}}function M0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $0=null;function Q1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var I0=null,wu=null,ju=null;function bC(e){if(e=Gm(e)){if(typeof I0!="function")throw Error(fe(280));var t=e.stateNode;t&&(t=Ky(t),I0(e.stateNode,e.type,t))}}function MM(e){wu?ju?ju.push(e):ju=[e]:wu=e}function $M(){if(wu){var e=wu,t=ju;if(ju=wu=null,bC(e),t)for(e=0;e<t.length;e++)bC(t[e])}}function IM(e,t){return e(t)}function DM(){}var Bb=!1;function LM(e,t,r){if(Bb)return e(t,r);Bb=!0;try{return IM(e,t,r)}finally{Bb=!1,(wu!==null||ju!==null)&&(DM(),$M())}}function Nh(e,t){var r=e.stateNode;if(r===null)return null;var n=Ky(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(fe(231,t,typeof r));return r}var D0=!1;if(Oi)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){D0=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{D0=!1}function Wq(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var sh=!1,Dg=null,Lg=!1,L0=null,Vq={onError:function(e){sh=!0,Dg=e}};function Kq(e,t,r,n,s,i,o,l,c){sh=!1,Dg=null,Wq.apply(Vq,arguments)}function Hq(e,t,r,n,s,i,o,l,c){if(Kq.apply(this,arguments),sh){if(sh){var u=Dg;sh=!1,Dg=null}else throw Error(fe(198));Lg||(Lg=!0,L0=u)}}function _c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function FM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wC(e){if(_c(e)!==e)throw Error(fe(188))}function Gq(e){var t=e.alternate;if(!t){if(t=_c(e),t===null)throw Error(fe(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return wC(s),e;if(i===n)return wC(s),t;i=i.sibling}throw Error(fe(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(fe(189))}}if(r.alternate!==n)throw Error(fe(190))}if(r.tag!==3)throw Error(fe(188));return r.stateNode.current===r?e:t}function UM(e){return e=Gq(e),e!==null?BM(e):null}function BM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=BM(e);if(t!==null)return t;e=e.sibling}return null}var qM=fs.unstable_scheduleCallback,jC=fs.unstable_cancelCallback,Yq=fs.unstable_shouldYield,Qq=fs.unstable_requestPaint,xr=fs.unstable_now,Xq=fs.unstable_getCurrentPriorityLevel,X1=fs.unstable_ImmediatePriority,zM=fs.unstable_UserBlockingPriority,Fg=fs.unstable_NormalPriority,Jq=fs.unstable_LowPriority,WM=fs.unstable_IdlePriority,qy=null,qa=null;function Zq(e){if(qa&&typeof qa.onCommitFiberRoot=="function")try{qa.onCommitFiberRoot(qy,e,void 0,(e.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:r8,e8=Math.log,t8=Math.LN2;function r8(e){return e>>>=0,e===0?32:31-(e8(e)/t8|0)|0}var Sp=64,Np=4194304;function Hf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ug(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Hf(l):(i&=o,i!==0&&(n=Hf(i)))}else o=r&~s,o!==0?n=Hf(o):i!==0&&(n=Hf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pa(t),s=1<<r,n|=e[r],t&=~s;return n}function n8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pa(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=n8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function F0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function VM(){var e=Sp;return Sp<<=1,!(Sp&4194240)&&(Sp=64),e}function qb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Km(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pa(t),e[t]=r}function a8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-pa(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function J1(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pa(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Dt=0;function KM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var HM,Z1,GM,YM,QM,U0=!1,kp=[],Do=null,Lo=null,Fo=null,kh=new Map,Ch=new Map,go=[],i8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _C(e,t){switch(e){case"focusin":case"focusout":Do=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Fo=null;break;case"pointerover":case"pointerout":kh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ch.delete(t.pointerId)}}function yf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gm(t),t!==null&&Z1(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o8(e,t,r,n,s){switch(t){case"focusin":return Do=yf(Do,e,t,r,n,s),!0;case"dragenter":return Lo=yf(Lo,e,t,r,n,s),!0;case"mouseover":return Fo=yf(Fo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return kh.set(i,yf(kh.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Ch.set(i,yf(Ch.get(i)||null,e,t,r,n,s)),!0}return!1}function XM(e){var t=Ol(e.target);if(t!==null){var r=_c(t);if(r!==null){if(t=r.tag,t===13){if(t=FM(r),t!==null){e.blockedOn=t,QM(e.priority,function(){GM(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=B0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);$0=n,r.target.dispatchEvent(n),$0=null}else return t=Gm(r),t!==null&&Z1(t),e.blockedOn=r,!1;t.shift()}return!0}function SC(e,t,r){bg(e)&&r.delete(t)}function l8(){U0=!1,Do!==null&&bg(Do)&&(Do=null),Lo!==null&&bg(Lo)&&(Lo=null),Fo!==null&&bg(Fo)&&(Fo=null),kh.forEach(SC),Ch.forEach(SC)}function xf(e,t){e.blockedOn===t&&(e.blockedOn=null,U0||(U0=!0,fs.unstable_scheduleCallback(fs.unstable_NormalPriority,l8)))}function Eh(e){function t(s){return xf(s,e)}if(0<kp.length){xf(kp[0],e);for(var r=1;r<kp.length;r++){var n=kp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Do!==null&&xf(Do,e),Lo!==null&&xf(Lo,e),Fo!==null&&xf(Fo,e),kh.forEach(t),Ch.forEach(t),r=0;r<go.length;r++)n=go[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<go.length&&(r=go[0],r.blockedOn===null);)XM(r),r.blockedOn===null&&go.shift()}var _u=zi.ReactCurrentBatchConfig,Bg=!0;function c8(e,t,r,n){var s=Dt,i=_u.transition;_u.transition=null;try{Dt=1,eS(e,t,r,n)}finally{Dt=s,_u.transition=i}}function u8(e,t,r,n){var s=Dt,i=_u.transition;_u.transition=null;try{Dt=4,eS(e,t,r,n)}finally{Dt=s,_u.transition=i}}function eS(e,t,r,n){if(Bg){var s=B0(e,t,r,n);if(s===null)Jb(e,t,n,qg,r),_C(e,n);else if(o8(s,e,t,r,n))n.stopPropagation();else if(_C(e,n),t&4&&-1<i8.indexOf(e)){for(;s!==null;){var i=Gm(s);if(i!==null&&HM(i),i=B0(e,t,r,n),i===null&&Jb(e,t,n,qg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Jb(e,t,n,null,r)}}var qg=null;function B0(e,t,r,n){if(qg=null,e=Q1(n),e=Ol(e),e!==null)if(t=_c(e),t===null)e=null;else if(r=t.tag,r===13){if(e=FM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qg=e,null}function JM(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xq()){case X1:return 1;case zM:return 4;case Fg:case Jq:return 16;case WM:return 536870912;default:return 16}default:return 16}}var Ao=null,tS=null,wg=null;function ZM(){if(wg)return wg;var e,t=tS,r=t.length,n,s="value"in Ao?Ao.value:Ao.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return wg=s.slice(e,1<n?1-n:void 0)}function jg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cp(){return!0}function NC(){return!1}function gs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cp:NC,this.isPropagationStopped=NC,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cp)},persist:function(){},isPersistent:Cp}),t}var Dd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rS=gs(Dd),Hm=mr({},Dd,{view:0,detail:0}),d8=gs(Hm),zb,Wb,bf,zy=mr({},Hm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bf&&(bf&&e.type==="mousemove"?(zb=e.screenX-bf.screenX,Wb=e.screenY-bf.screenY):Wb=zb=0,bf=e),zb)},movementY:function(e){return"movementY"in e?e.movementY:Wb}}),kC=gs(zy),f8=mr({},zy,{dataTransfer:0}),h8=gs(f8),m8=mr({},Hm,{relatedTarget:0}),Vb=gs(m8),p8=mr({},Dd,{animationName:0,elapsedTime:0,pseudoElement:0}),g8=gs(p8),v8=mr({},Dd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),y8=gs(v8),x8=mr({},Dd,{data:0}),CC=gs(x8),b8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j8[e])?!!t[e]:!1}function nS(){return _8}var S8=mr({},Hm,{key:function(e){if(e.key){var t=b8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nS,charCode:function(e){return e.type==="keypress"?jg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N8=gs(S8),k8=mr({},zy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),EC=gs(k8),C8=mr({},Hm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nS}),E8=gs(C8),P8=mr({},Dd,{propertyName:0,elapsedTime:0,pseudoElement:0}),O8=gs(P8),A8=mr({},zy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),T8=gs(A8),R8=[9,13,27,32],sS=Oi&&"CompositionEvent"in window,ah=null;Oi&&"documentMode"in document&&(ah=document.documentMode);var M8=Oi&&"TextEvent"in window&&!ah,e$=Oi&&(!sS||ah&&8<ah&&11>=ah),PC=" ",OC=!1;function t$(e,t){switch(e){case"keyup":return R8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var iu=!1;function $8(e,t){switch(e){case"compositionend":return r$(t);case"keypress":return t.which!==32?null:(OC=!0,PC);case"textInput":return e=t.data,e===PC&&OC?null:e;default:return null}}function I8(e,t){if(iu)return e==="compositionend"||!sS&&t$(e,t)?(e=ZM(),wg=tS=Ao=null,iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return e$&&t.locale!=="ko"?null:t.data;default:return null}}var D8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function AC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!D8[e.type]:t==="textarea"}function n$(e,t,r,n){MM(n),t=zg(t,"onChange"),0<t.length&&(r=new rS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ih=null,Ph=null;function L8(e){m$(e,0)}function Wy(e){var t=cu(e);if(CM(t))return e}function F8(e,t){if(e==="change")return t}var s$=!1;if(Oi){var Kb;if(Oi){var Hb="oninput"in document;if(!Hb){var TC=document.createElement("div");TC.setAttribute("oninput","return;"),Hb=typeof TC.oninput=="function"}Kb=Hb}else Kb=!1;s$=Kb&&(!document.documentMode||9<document.documentMode)}function RC(){ih&&(ih.detachEvent("onpropertychange",a$),Ph=ih=null)}function a$(e){if(e.propertyName==="value"&&Wy(Ph)){var t=[];n$(t,Ph,e,Q1(e)),LM(L8,t)}}function U8(e,t,r){e==="focusin"?(RC(),ih=t,Ph=r,ih.attachEvent("onpropertychange",a$)):e==="focusout"&&RC()}function B8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wy(Ph)}function q8(e,t){if(e==="click")return Wy(t)}function z8(e,t){if(e==="input"||e==="change")return Wy(t)}function W8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xa=typeof Object.is=="function"?Object.is:W8;function Oh(e,t){if(xa(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_0.call(t,s)||!xa(e[s],t[s]))return!1}return!0}function MC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $C(e,t){var r=MC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=MC(r)}}function i$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?i$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o$(){for(var e=window,t=Ig();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ig(e.document)}return t}function aS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V8(e){var t=o$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&i$(r.ownerDocument.documentElement,r)){if(n!==null&&aS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=$C(r,i);var o=$C(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var K8=Oi&&"documentMode"in document&&11>=document.documentMode,ou=null,q0=null,oh=null,z0=!1;function IC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;z0||ou==null||ou!==Ig(n)||(n=ou,"selectionStart"in n&&aS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oh&&Oh(oh,n)||(oh=n,n=zg(q0,"onSelect"),0<n.length&&(t=new rS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ou)))}function Ep(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var lu={animationend:Ep("Animation","AnimationEnd"),animationiteration:Ep("Animation","AnimationIteration"),animationstart:Ep("Animation","AnimationStart"),transitionend:Ep("Transition","TransitionEnd")},Gb={},l$={};Oi&&(l$=document.createElement("div").style,"AnimationEvent"in window||(delete lu.animationend.animation,delete lu.animationiteration.animation,delete lu.animationstart.animation),"TransitionEvent"in window||delete lu.transitionend.transition);function Vy(e){if(Gb[e])return Gb[e];if(!lu[e])return e;var t=lu[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in l$)return Gb[e]=t[r];return e}var c$=Vy("animationend"),u$=Vy("animationiteration"),d$=Vy("animationstart"),f$=Vy("transitionend"),h$=new Map,DC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(e,t){h$.set(e,t),jc(t,[e])}for(var Yb=0;Yb<DC.length;Yb++){var Qb=DC[Yb],H8=Qb.toLowerCase(),G8=Qb[0].toUpperCase()+Qb.slice(1);nl(H8,"on"+G8)}nl(c$,"onAnimationEnd");nl(u$,"onAnimationIteration");nl(d$,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(f$,"onTransitionEnd");Ku("onMouseEnter",["mouseout","mouseover"]);Ku("onMouseLeave",["mouseout","mouseover"]);Ku("onPointerEnter",["pointerout","pointerover"]);Ku("onPointerLeave",["pointerout","pointerover"]);jc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jc("onBeforeInput",["compositionend","keypress","textInput","paste"]);jc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gf));function LC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Hq(n,t,void 0,e),e.currentTarget=null}function m$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;LC(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;LC(s,l,u),i=c}}}if(Lg)throw e=L0,Lg=!1,L0=null,e}function Zt(e,t){var r=t[G0];r===void 0&&(r=t[G0]=new Set);var n=e+"__bubble";r.has(n)||(p$(t,e,2,!1),r.add(n))}function Xb(e,t,r){var n=0;t&&(n|=4),p$(r,e,n,t)}var Pp="_reactListening"+Math.random().toString(36).slice(2);function Ah(e){if(!e[Pp]){e[Pp]=!0,jM.forEach(function(r){r!=="selectionchange"&&(Y8.has(r)||Xb(r,!1,e),Xb(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pp]||(t[Pp]=!0,Xb("selectionchange",!1,t))}}function p$(e,t,r,n){switch(JM(t)){case 1:var s=c8;break;case 4:s=u8;break;default:s=eS}r=s.bind(null,t,r,e),s=void 0,!D0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jb(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Ol(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}LM(function(){var u=i,d=Q1(r),f=[];e:{var h=h$.get(e);if(h!==void 0){var m=rS,g=e;switch(e){case"keypress":if(jg(r)===0)break e;case"keydown":case"keyup":m=N8;break;case"focusin":g="focus",m=Vb;break;case"focusout":g="blur",m=Vb;break;case"beforeblur":case"afterblur":m=Vb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=h8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=E8;break;case c$:case u$:case d$:m=g8;break;case f$:m=O8;break;case"scroll":m=d8;break;case"wheel":m=T8;break;case"copy":case"cut":case"paste":m=y8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=EC}var p=(t&4)!==0,x=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Nh(v,b),_!=null&&p.push(Th(v,_,w)))),x)break;v=v.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==$0&&(g=r.relatedTarget||r.fromElement)&&(Ol(g)||g[Ai]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Ol(g):null,g!==null&&(x=_c(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=kC,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=EC,_="onPointerLeave",b="onPointerEnter",v="pointer"),x=m==null?h:cu(m),w=g==null?h:cu(g),h=new p(_,v+"leave",m,r,d),h.target=x,h.relatedTarget=w,_=null,Ol(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=x,_=p),x=_,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=Dc(w))v++;for(w=0,_=b;_;_=Dc(_))w++;for(;0<v-w;)p=Dc(p),v--;for(;0<w-v;)b=Dc(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=Dc(p),b=Dc(b)}p=null}else p=null;m!==null&&FC(f,h,m,p,!1),g!==null&&x!==null&&FC(f,x,g,p,!0)}}e:{if(h=u?cu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=F8;else if(AC(h))if(s$)j=z8;else{j=B8;var S=U8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=q8);if(j&&(j=j(e,u))){n$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&O0(h,"number",h.value)}switch(S=u?cu(u):window,e){case"focusin":(AC(S)||S.contentEditable==="true")&&(ou=S,q0=u,oh=null);break;case"focusout":oh=q0=ou=null;break;case"mousedown":z0=!0;break;case"contextmenu":case"mouseup":case"dragend":z0=!1,IC(f,r,d);break;case"selectionchange":if(K8)break;case"keydown":case"keyup":IC(f,r,d)}var N;if(sS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else iu?t$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(e$&&r.locale!=="ko"&&(iu||k!=="onCompositionStart"?k==="onCompositionEnd"&&iu&&(N=ZM()):(Ao=d,tS="value"in Ao?Ao.value:Ao.textContent,iu=!0)),S=zg(u,k),0<S.length&&(k=new CC(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=r$(r),N!==null&&(k.data=N)))),(N=M8?$8(e,r):I8(e,r))&&(u=zg(u,"onBeforeInput"),0<u.length&&(d=new CC("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}m$(f,t)})}function Th(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nh(e,r),i!=null&&n.unshift(Th(e,i,s)),i=Nh(e,t),i!=null&&n.push(Th(e,i,s))),e=e.return}return n}function Dc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function FC(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Nh(r,i),c!=null&&o.unshift(Th(r,c,l))):s||(c=Nh(r,i),c!=null&&o.push(Th(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var Q8=/\r\n?/g,X8=/\u0000|\uFFFD/g;function UC(e){return(typeof e=="string"?e:""+e).replace(Q8,`
`).replace(X8,"")}function Op(e,t,r){if(t=UC(t),UC(e)!==t&&r)throw Error(fe(425))}function Wg(){}var W0=null,V0=null;function K0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var H0=typeof setTimeout=="function"?setTimeout:void 0,J8=typeof clearTimeout=="function"?clearTimeout:void 0,BC=typeof Promise=="function"?Promise:void 0,Z8=typeof queueMicrotask=="function"?queueMicrotask:typeof BC<"u"?function(e){return BC.resolve(null).then(e).catch(ez)}:H0;function ez(e){setTimeout(function(){throw e})}function Zb(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Eh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Eh(t)}function Uo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ld=Math.random().toString(36).slice(2),Ia="__reactFiber$"+Ld,Rh="__reactProps$"+Ld,Ai="__reactContainer$"+Ld,G0="__reactEvents$"+Ld,tz="__reactListeners$"+Ld,rz="__reactHandles$"+Ld;function Ol(e){var t=e[Ia];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ai]||r[Ia]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=qC(e);e!==null;){if(r=e[Ia])return r;e=qC(e)}return t}e=r,r=e.parentNode}return null}function Gm(e){return e=e[Ia]||e[Ai],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function cu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(fe(33))}function Ky(e){return e[Rh]||null}var Y0=[],uu=-1;function sl(e){return{current:e}}function rr(e){0>uu||(e.current=Y0[uu],Y0[uu]=null,uu--)}function Qt(e,t){uu++,Y0[uu]=e.current,e.current=t}var Jo={},bn=sl(Jo),zn=sl(!1),tc=Jo;function Hu(e,t){var r=e.type.contextTypes;if(!r)return Jo;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wn(e){return e=e.childContextTypes,e!=null}function Vg(){rr(zn),rr(bn)}function zC(e,t,r){if(bn.current!==Jo)throw Error(fe(168));Qt(bn,t),Qt(zn,r)}function g$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(fe(108,Uq(e)||"Unknown",s));return mr({},r,n)}function Kg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jo,tc=bn.current,Qt(bn,e),Qt(zn,zn.current),!0}function WC(e,t,r){var n=e.stateNode;if(!n)throw Error(fe(169));r?(e=g$(e,t,tc),n.__reactInternalMemoizedMergedChildContext=e,rr(zn),rr(bn),Qt(bn,e)):rr(zn),Qt(zn,r)}var hi=null,Hy=!1,ew=!1;function v$(e){hi===null?hi=[e]:hi.push(e)}function nz(e){Hy=!0,v$(e)}function al(){if(!ew&&hi!==null){ew=!0;var e=0,t=Dt;try{var r=hi;for(Dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}hi=null,Hy=!1}catch(s){throw hi!==null&&(hi=hi.slice(e+1)),qM(X1,al),s}finally{Dt=t,ew=!1}}return null}var du=[],fu=0,Hg=null,Gg=0,Ss=[],Ns=0,rc=null,yi=1,xi="";function bl(e,t){du[fu++]=Gg,du[fu++]=Hg,Hg=e,Gg=t}function y$(e,t,r){Ss[Ns++]=yi,Ss[Ns++]=xi,Ss[Ns++]=rc,rc=e;var n=yi;e=xi;var s=32-pa(n)-1;n&=~(1<<s),r+=1;var i=32-pa(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yi=1<<32-pa(t)+s|r<<s|n,xi=i+e}else yi=1<<i|r<<s|n,xi=e}function iS(e){e.return!==null&&(bl(e,1),y$(e,1,0))}function oS(e){for(;e===Hg;)Hg=du[--fu],du[fu]=null,Gg=du[--fu],du[fu]=null;for(;e===rc;)rc=Ss[--Ns],Ss[Ns]=null,xi=Ss[--Ns],Ss[Ns]=null,yi=Ss[--Ns],Ss[Ns]=null}var cs=null,os=null,ar=!1,ca=null;function x$(e,t){var r=Es(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function VC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,cs=e,os=Uo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,cs=e,os=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rc!==null?{id:yi,overflow:xi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Es(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,cs=e,os=null,!0):!1;default:return!1}}function Q0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function X0(e){if(ar){var t=os;if(t){var r=t;if(!VC(e,t)){if(Q0(e))throw Error(fe(418));t=Uo(r.nextSibling);var n=cs;t&&VC(e,t)?x$(n,r):(e.flags=e.flags&-4097|2,ar=!1,cs=e)}}else{if(Q0(e))throw Error(fe(418));e.flags=e.flags&-4097|2,ar=!1,cs=e}}}function KC(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cs=e}function Ap(e){if(e!==cs)return!1;if(!ar)return KC(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!K0(e.type,e.memoizedProps)),t&&(t=os)){if(Q0(e))throw b$(),Error(fe(418));for(;t;)x$(e,t),t=Uo(t.nextSibling)}if(KC(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(fe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){os=Uo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}os=null}}else os=cs?Uo(e.stateNode.nextSibling):null;return!0}function b$(){for(var e=os;e;)e=Uo(e.nextSibling)}function Gu(){os=cs=null,ar=!1}function lS(e){ca===null?ca=[e]:ca.push(e)}var sz=zi.ReactCurrentBatchConfig;function wf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(fe(309));var n=r.stateNode}if(!n)throw Error(fe(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(fe(284));if(!r._owner)throw Error(fe(290,e))}return e}function Tp(e,t){throw e=Object.prototype.toString.call(t),Error(fe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function HC(e){var t=e._init;return t(e._payload)}function w$(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Wo(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,_){return v===null||v.tag!==6?(v=ow(w,b.mode,_),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,_){var j=w.type;return j===au?d(b,v,w.props.children,_,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&HC(j)===v.type)?(_=s(v,w.props),_.ref=wf(b,v,w),_.return=b,_):(_=Pg(w.type,w.key,w.props,null,b.mode,_),_.ref=wf(b,v,w),_.return=b,_)}function u(b,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=lw(w,b.mode,_),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,_,j){return v===null||v.tag!==7?(v=Xl(w,b.mode,_,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ow(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wp:return w=Pg(v.type,v.key,v.props,null,b.mode,w),w.ref=wf(b,null,v),w.return=b,w;case su:return v=lw(v,b.mode,w),v.return=b,v;case uo:var _=v._init;return f(b,_(v._payload),w)}if(Kf(v)||gf(v))return v=Xl(v,b.mode,w,null),v.return=b,v;Tp(b,v)}return null}function h(b,v,w,_){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wp:return w.key===j?c(b,v,w,_):null;case su:return w.key===j?u(b,v,w,_):null;case uo:return j=w._init,h(b,v,j(w._payload),_)}if(Kf(w)||gf(w))return j!==null?null:d(b,v,w,_,null);Tp(b,w)}return null}function m(b,v,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(v,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case wp:return b=b.get(_.key===null?w:_.key)||null,c(v,b,_,j);case su:return b=b.get(_.key===null?w:_.key)||null,u(v,b,_,j);case uo:var S=_._init;return m(b,v,w,S(_._payload),j)}if(Kf(_)||gf(_))return b=b.get(w)||null,d(v,b,_,j,null);Tp(v,_)}return null}function g(b,v,w,_){for(var j=null,S=null,N=v,k=v=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var A=h(b,N,w[k],_);if(A===null){N===null&&(N=C);break}e&&N&&A.alternate===null&&t(b,N),v=i(A,v,k),S===null?j=A:S.sibling=A,S=A,N=C}if(k===w.length)return r(b,N),ar&&bl(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],_),N!==null&&(v=i(N,v,k),S===null?j=N:S.sibling=N,S=N);return ar&&bl(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=i(C,v,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(I){return t(b,I)}),ar&&bl(b,k),j}function p(b,v,w,_){var j=gf(w);if(typeof j!="function")throw Error(fe(150));if(w=j.call(w),w==null)throw Error(fe(151));for(var S=j=null,N=v,k=v=0,C=null,A=w.next();N!==null&&!A.done;k++,A=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(b,N,A.value,_);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(b,N),v=i(I,v,k),S===null?j=I:S.sibling=I,S=I,N=C}if(A.done)return r(b,N),ar&&bl(b,k),j;if(N===null){for(;!A.done;k++,A=w.next())A=f(b,A.value,_),A!==null&&(v=i(A,v,k),S===null?j=A:S.sibling=A,S=A);return ar&&bl(b,k),j}for(N=n(b,N);!A.done;k++,A=w.next())A=m(N,b,k,A.value,_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?k:A.key),v=i(A,v,k),S===null?j=A:S.sibling=A,S=A);return e&&N.forEach(function(P){return t(b,P)}),ar&&bl(b,k),j}function x(b,v,w,_){if(typeof w=="object"&&w!==null&&w.type===au&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wp:e:{for(var j=w.key,S=v;S!==null;){if(S.key===j){if(j=w.type,j===au){if(S.tag===7){r(b,S.sibling),v=s(S,w.props.children),v.return=b,b=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===uo&&HC(j)===S.type){r(b,S.sibling),v=s(S,w.props),v.ref=wf(b,S,w),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===au?(v=Xl(w.props.children,b.mode,_,w.key),v.return=b,b=v):(_=Pg(w.type,w.key,w.props,null,b.mode,_),_.ref=wf(b,v,w),_.return=b,b=_)}return o(b);case su:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=lw(w,b.mode,_),v.return=b,b=v}return o(b);case uo:return S=w._init,x(b,v,S(w._payload),_)}if(Kf(w))return g(b,v,w,_);if(gf(w))return p(b,v,w,_);Tp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=ow(w,b.mode,_),v.return=b,b=v),o(b)):r(b,v)}return x}var Yu=w$(!0),j$=w$(!1),Yg=sl(null),Qg=null,hu=null,cS=null;function uS(){cS=hu=Qg=null}function dS(e){var t=Yg.current;rr(Yg),e._currentValue=t}function J0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Su(e,t){Qg=e,cS=hu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Un=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(cS!==e)if(e={context:e,memoizedValue:t,next:null},hu===null){if(Qg===null)throw Error(fe(308));hu=e,Qg.dependencies={lanes:0,firstContext:e}}else hu=hu.next=e;return t}var Al=null;function fS(e){Al===null?Al=[e]:Al.push(e)}function _$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fS(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ti(e,n)}function Ti(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fo=!1;function hS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ti(e,r)}return s=n.interleaved,s===null?(t.next=t,fS(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ti(e,r)}function _g(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,J1(e,r)}}function GC(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Xg(e,t,r,n){var s=e.updateQueue;fo=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=mr({},f,h);break e;case 2:fo=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sc|=o,e.lanes=o,e.memoizedState=f}}function YC(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(fe(191,s));s.call(n)}}}var Ym={},za=sl(Ym),Mh=sl(Ym),$h=sl(Ym);function Tl(e){if(e===Ym)throw Error(fe(174));return e}function mS(e,t){switch(Qt($h,t),Qt(Mh,e),Qt(za,Ym),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:T0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=T0(t,e)}rr(za),Qt(za,t)}function Qu(){rr(za),rr(Mh),rr($h)}function N$(e){Tl($h.current);var t=Tl(za.current),r=T0(t,e.type);t!==r&&(Qt(Mh,e),Qt(za,r))}function pS(e){Mh.current===e&&(rr(za),rr(Mh))}var cr=sl(0);function Jg(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tw=[];function gS(){for(var e=0;e<tw.length;e++)tw[e]._workInProgressVersionPrimary=null;tw.length=0}var Sg=zi.ReactCurrentDispatcher,rw=zi.ReactCurrentBatchConfig,nc=0,fr=null,Lr=null,Yr=null,Zg=!1,lh=!1,Ih=0,az=0;function dn(){throw Error(fe(321))}function vS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!xa(e[r],t[r]))return!1;return!0}function yS(e,t,r,n,s,i){if(nc=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sg.current=e===null||e.memoizedState===null?cz:uz,e=r(n,s),lh){i=0;do{if(lh=!1,Ih=0,25<=i)throw Error(fe(301));i+=1,Yr=Lr=null,t.updateQueue=null,Sg.current=dz,e=r(n,s)}while(lh)}if(Sg.current=ev,t=Lr!==null&&Lr.next!==null,nc=0,Yr=Lr=fr=null,Zg=!1,t)throw Error(fe(300));return e}function xS(){var e=Ih!==0;return Ih=0,e}function Aa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yr===null?fr.memoizedState=Yr=e:Yr=Yr.next=e,Yr}function Ls(){if(Lr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Lr.next;var t=Yr===null?fr.memoizedState:Yr.next;if(t!==null)Yr=t,Lr=e;else{if(e===null)throw Error(fe(310));Lr=e,e={memoizedState:Lr.memoizedState,baseState:Lr.baseState,baseQueue:Lr.baseQueue,queue:Lr.queue,next:null},Yr===null?fr.memoizedState=Yr=e:Yr=Yr.next=e}return Yr}function Dh(e,t){return typeof t=="function"?t(e):t}function nw(e){var t=Ls(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=Lr,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((nc&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,fr.lanes|=d,sc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,xa(n,t.memoizedState)||(Un=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,fr.lanes|=i,sc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function sw(e){var t=Ls(),r=t.queue;if(r===null)throw Error(fe(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);xa(i,t.memoizedState)||(Un=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function k$(){}function C$(e,t){var r=fr,n=Ls(),s=t(),i=!xa(n.memoizedState,s);if(i&&(n.memoizedState=s,Un=!0),n=n.queue,bS(O$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Yr!==null&&Yr.memoizedState.tag&1){if(r.flags|=2048,Lh(9,P$.bind(null,r,n,s,t),void 0,null),Xr===null)throw Error(fe(349));nc&30||E$(r,t,s)}return s}function E$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function P$(e,t,r,n){t.value=r,t.getSnapshot=n,A$(t)&&T$(e)}function O$(e,t,r){return r(function(){A$(t)&&T$(e)})}function A$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xa(e,r)}catch{return!0}}function T$(e){var t=Ti(e,1);t!==null&&ga(t,e,1,-1)}function QC(e){var t=Aa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dh,lastRenderedState:e},t.queue=e,e=e.dispatch=lz.bind(null,fr,e),[t.memoizedState,e]}function Lh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function R$(){return Ls().memoizedState}function Ng(e,t,r,n){var s=Aa();fr.flags|=e,s.memoizedState=Lh(1|t,r,void 0,n===void 0?null:n)}function Gy(e,t,r,n){var s=Ls();n=n===void 0?null:n;var i=void 0;if(Lr!==null){var o=Lr.memoizedState;if(i=o.destroy,n!==null&&vS(n,o.deps)){s.memoizedState=Lh(t,r,i,n);return}}fr.flags|=e,s.memoizedState=Lh(1|t,r,i,n)}function XC(e,t){return Ng(8390656,8,e,t)}function bS(e,t){return Gy(2048,8,e,t)}function M$(e,t){return Gy(4,2,e,t)}function $$(e,t){return Gy(4,4,e,t)}function I$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function D$(e,t,r){return r=r!=null?r.concat([e]):null,Gy(4,4,I$.bind(null,t,e),r)}function wS(){}function L$(e,t){var r=Ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function F$(e,t){var r=Ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&vS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function U$(e,t,r){return nc&21?(xa(r,t)||(r=VM(),fr.lanes|=r,sc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Un=!0),e.memoizedState=r)}function iz(e,t){var r=Dt;Dt=r!==0&&4>r?r:4,e(!0);var n=rw.transition;rw.transition={};try{e(!1),t()}finally{Dt=r,rw.transition=n}}function B$(){return Ls().memoizedState}function oz(e,t,r){var n=zo(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},q$(e))z$(t,r);else if(r=_$(e,t,r,n),r!==null){var s=Cn();ga(r,e,n,s),W$(r,t,n)}}function lz(e,t,r){var n=zo(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(q$(e))z$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,xa(l,o)){var c=t.interleaved;c===null?(s.next=s,fS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=_$(e,t,s,n),r!==null&&(s=Cn(),ga(r,e,n,s),W$(r,t,n))}}function q$(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function z$(e,t){lh=Zg=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function W$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,J1(e,r)}}var ev={readContext:Ds,useCallback:dn,useContext:dn,useEffect:dn,useImperativeHandle:dn,useInsertionEffect:dn,useLayoutEffect:dn,useMemo:dn,useReducer:dn,useRef:dn,useState:dn,useDebugValue:dn,useDeferredValue:dn,useTransition:dn,useMutableSource:dn,useSyncExternalStore:dn,useId:dn,unstable_isNewReconciler:!1},cz={readContext:Ds,useCallback:function(e,t){return Aa().memoizedState=[e,t===void 0?null:t],e},useContext:Ds,useEffect:XC,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ng(4194308,4,I$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ng(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ng(4,2,e,t)},useMemo:function(e,t){var r=Aa();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Aa();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=oz.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=Aa();return e={current:e},t.memoizedState=e},useState:QC,useDebugValue:wS,useDeferredValue:function(e){return Aa().memoizedState=e},useTransition:function(){var e=QC(!1),t=e[0];return e=iz.bind(null,e[1]),Aa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,s=Aa();if(ar){if(r===void 0)throw Error(fe(407));r=r()}else{if(r=t(),Xr===null)throw Error(fe(349));nc&30||E$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,XC(O$.bind(null,n,i,e),[e]),n.flags|=2048,Lh(9,P$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Aa(),t=Xr.identifierPrefix;if(ar){var r=xi,n=yi;r=(n&~(1<<32-pa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ih++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=az++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uz={readContext:Ds,useCallback:L$,useContext:Ds,useEffect:bS,useImperativeHandle:D$,useInsertionEffect:M$,useLayoutEffect:$$,useMemo:F$,useReducer:nw,useRef:R$,useState:function(){return nw(Dh)},useDebugValue:wS,useDeferredValue:function(e){var t=Ls();return U$(t,Lr.memoizedState,e)},useTransition:function(){var e=nw(Dh)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:k$,useSyncExternalStore:C$,useId:B$,unstable_isNewReconciler:!1},dz={readContext:Ds,useCallback:L$,useContext:Ds,useEffect:bS,useImperativeHandle:D$,useInsertionEffect:M$,useLayoutEffect:$$,useMemo:F$,useReducer:sw,useRef:R$,useState:function(){return sw(Dh)},useDebugValue:wS,useDeferredValue:function(e){var t=Ls();return Lr===null?t.memoizedState=e:U$(t,Lr.memoizedState,e)},useTransition:function(){var e=sw(Dh)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:k$,useSyncExternalStore:C$,useId:B$,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Z0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yy={isMounted:function(e){return(e=e._reactInternals)?_c(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=zo(e),i=Si(n,s);i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,s),t!==null&&(ga(t,e,s,n),_g(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Cn(),s=zo(e),i=Si(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Bo(e,i,s),t!==null&&(ga(t,e,s,n),_g(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Cn(),n=zo(e),s=Si(r,n);s.tag=2,t!=null&&(s.callback=t),t=Bo(e,s,n),t!==null&&(ga(t,e,n,r),_g(t,e,n))}};function JC(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Oh(r,n)||!Oh(s,i):!0}function V$(e,t,r){var n=!1,s=Jo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ds(i):(s=Wn(t)?tc:bn.current,n=t.contextTypes,i=(n=n!=null)?Hu(e,s):Jo),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yy,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ZC(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yy.enqueueReplaceState(t,t.state,null)}function ej(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},hS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ds(i):(i=Wn(t)?tc:bn.current,s.context=Hu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Z0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yy.enqueueReplaceState(s,s.state,null),Xg(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xu(e,t){try{var r="",n=t;do r+=Fq(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function aw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function tj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var fz=typeof WeakMap=="function"?WeakMap:Map;function K$(e,t,r){r=Si(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){rv||(rv=!0,dj=n),tj(e,t)},r}function H$(e,t,r){r=Si(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){tj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){tj(e,t),typeof n!="function"&&(qo===null?qo=new Set([this]):qo.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function e2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new fz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=kz.bind(null,e,t,r),t.then(e,e))}function t2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function r2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Si(-1,1),t.tag=2,Bo(r,t,1))),r.lanes|=1),e)}var hz=zi.ReactCurrentOwner,Un=!1;function Sn(e,t,r,n){t.child=e===null?j$(t,null,r,n):Yu(t,e.child,r,n)}function n2(e,t,r,n,s){r=r.render;var i=t.ref;return Su(t,s),n=yS(e,t,r,n,i,s),r=xS(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(ar&&r&&iS(t),t.flags|=1,Sn(e,t,n,s),t.child)}function s2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!PS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,G$(e,t,i,n,s)):(e=Pg(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Oh,r(o,n)&&e.ref===t.ref)return Ri(e,t,s)}return t.flags|=1,e=Wo(i,n),e.ref=t.ref,e.return=t,t.child=e}function G$(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Oh(i,n)&&e.ref===t.ref)if(Un=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Un=!0);else return t.lanes=e.lanes,Ri(e,t,s)}return rj(e,t,r,n,s)}function Y$(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(pu,es),es|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(pu,es),es|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qt(pu,es),es|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qt(pu,es),es|=n;return Sn(e,t,s,r),t.child}function Q$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function rj(e,t,r,n,s){var i=Wn(r)?tc:bn.current;return i=Hu(t,i),Su(t,s),r=yS(e,t,r,n,i,s),n=xS(),e!==null&&!Un?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ri(e,t,s)):(ar&&n&&iS(t),t.flags|=1,Sn(e,t,r,s),t.child)}function a2(e,t,r,n,s){if(Wn(r)){var i=!0;Kg(t)}else i=!1;if(Su(t,s),t.stateNode===null)kg(e,t),V$(t,r,n),ej(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ds(u):(u=Wn(r)?tc:bn.current,u=Hu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ZC(t,o,n,u),fo=!1;var h=t.memoizedState;o.state=h,Xg(t,n,o,s),c=t.memoizedState,l!==n||h!==c||zn.current||fo?(typeof d=="function"&&(Z0(t,r,d,n),c=t.memoizedState),(l=fo||JC(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,S$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ra(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ds(c):(c=Wn(r)?tc:bn.current,c=Hu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ZC(t,o,n,c),fo=!1,h=t.memoizedState,o.state=h,Xg(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||zn.current||fo?(typeof m=="function"&&(Z0(t,r,m,n),g=t.memoizedState),(u=fo||JC(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return nj(e,t,r,n,i,s)}function nj(e,t,r,n,s,i){Q$(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&WC(t,r,!1),Ri(e,t,i);n=t.stateNode,hz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Yu(t,e.child,null,i),t.child=Yu(t,null,l,i)):Sn(e,t,l,i),t.memoizedState=n.state,s&&WC(t,r,!0),t.child}function X$(e){var t=e.stateNode;t.pendingContext?zC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zC(e,t.context,!1),mS(e,t.containerInfo)}function i2(e,t,r,n,s){return Gu(),lS(s),t.flags|=256,Sn(e,t,r,n),t.child}var sj={dehydrated:null,treeContext:null,retryLane:0};function aj(e){return{baseLanes:e,cachePool:null,transitions:null}}function J$(e,t,r){var n=t.pendingProps,s=cr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qt(cr,s&1),e===null)return X0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jy(o,n,0,null),e=Xl(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=aj(r),t.memoizedState=sj,e):jS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return mz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Wo(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Wo(l,i):(i=Xl(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?aj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=sj,n}return i=e.child,e=i.sibling,n=Wo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jS(e,t){return t=Jy({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rp(e,t,r,n){return n!==null&&lS(n),Yu(t,e.child,null,r),e=jS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=aw(Error(fe(422))),Rp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Jy({mode:"visible",children:n.children},s,0,null),i=Xl(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Yu(t,e.child,null,o),t.child.memoizedState=aj(o),t.memoizedState=sj,i);if(!(t.mode&1))return Rp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(fe(419)),n=aw(i,n,void 0),Rp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Un||l){if(n=Xr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ti(e,s),ga(n,e,s,-1))}return ES(),n=aw(Error(fe(421))),Rp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Cz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,os=Uo(s.nextSibling),cs=t,ar=!0,ca=null,e!==null&&(Ss[Ns++]=yi,Ss[Ns++]=xi,Ss[Ns++]=rc,yi=e.id,xi=e.overflow,rc=t),t=jS(t,n.children),t.flags|=4096,t)}function o2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),J0(e.return,t,r)}function iw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Z$(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Sn(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&o2(e,r,t);else if(e.tag===19)o2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Jg(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),iw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jg(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}iw(t,!0,r,null,i);break;case"together":iw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function kg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(fe(153));if(t.child!==null){for(e=t.child,r=Wo(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wo(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function pz(e,t,r){switch(t.tag){case 3:X$(t),Gu();break;case 5:N$(t);break;case 1:Wn(t.type)&&Kg(t);break;case 4:mS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Qt(Yg,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?J$(e,t,r):(Qt(cr,cr.current&1),e=Ri(e,t,r),e!==null?e.sibling:null);Qt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Z$(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,Y$(e,t,r)}return Ri(e,t,r)}var e4,ij,t4,r4;e4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ij=function(){};t4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Tl(za.current);var i=null;switch(r){case"input":s=E0(e,s),n=E0(e,n),i=[];break;case"select":s=mr({},s,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":s=A0(e,s),n=A0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Wg)}R0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(_h.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(_h.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};r4=function(e,t,r,n){r!==n&&(t.flags|=4)};function jf(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function gz(e,t,r){var n=t.pendingProps;switch(oS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(t),null;case 1:return Wn(t.type)&&Vg(),fn(t),null;case 3:return n=t.stateNode,Qu(),rr(zn),rr(bn),gS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ca!==null&&(mj(ca),ca=null))),ij(e,t),fn(t),null;case 5:pS(t);var s=Tl($h.current);if(r=t.type,e!==null&&t.stateNode!=null)t4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(fe(166));return fn(t),null}if(e=Tl(za.current),Ap(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Ia]=t,n[Rh]=i,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<Gf.length;s++)Zt(Gf[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":gC(n,i),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Zt("invalid",n);break;case"textarea":yC(n,i),Zt("invalid",n)}R0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Op(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Op(n.textContent,l,e),s=["children",""+l]):_h.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zt("scroll",n)}switch(r){case"input":jp(n),vC(n,i,!0);break;case"textarea":jp(n),xC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Wg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Ia]=t,e[Rh]=n,e4(e,t,!1,!1),t.stateNode=e;e:{switch(o=M0(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),s=n;break;case"iframe":case"object":case"embed":Zt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Gf.length;s++)Zt(Gf[s],e);s=n;break;case"source":Zt("error",e),s=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=n;break;case"details":Zt("toggle",e),s=n;break;case"input":gC(e,n),s=E0(e,n),Zt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=mr({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":yC(e,n),s=A0(e,n),Zt("invalid",e);break;default:s=n}R0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?RM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sh(e,c):typeof c=="number"&&Sh(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_h.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zt("scroll",e):c!=null&&K1(e,i,c,o))}switch(r){case"input":jp(e),vC(e,n,!1);break;case"textarea":jp(e),xC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Xo(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?bu(e,!!n.multiple,i,!1):n.defaultValue!=null&&bu(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Wg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fn(t),null;case 6:if(e&&t.stateNode!=null)r4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(fe(166));if(r=Tl($h.current),Tl(za.current),Ap(t)){if(n=t.stateNode,r=t.memoizedProps,n[Ia]=t,(i=n.nodeValue!==r)&&(e=cs,e!==null))switch(e.tag){case 3:Op(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Op(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ia]=t,t.stateNode=n}return fn(t),null;case 13:if(rr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&os!==null&&t.mode&1&&!(t.flags&128))b$(),Gu(),t.flags|=98560,i=!1;else if(i=Ap(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(fe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(fe(317));i[Ia]=t}else Gu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fn(t),i=!1}else ca!==null&&(mj(ca),ca=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?qr===0&&(qr=3):ES())),t.updateQueue!==null&&(t.flags|=4),fn(t),null);case 4:return Qu(),ij(e,t),e===null&&Ah(t.stateNode.containerInfo),fn(t),null;case 10:return dS(t.type._context),fn(t),null;case 17:return Wn(t.type)&&Vg(),fn(t),null;case 19:if(rr(cr),i=t.memoizedState,i===null)return fn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)jf(i,!1);else{if(qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Jg(e),o!==null){for(t.flags|=128,jf(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qt(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&xr()>Ju&&(t.flags|=128,n=!0,jf(i,!1),t.lanes=4194304)}else{if(!n)if(e=Jg(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),jf(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ar)return fn(t),null}else 2*xr()-i.renderingStartTime>Ju&&r!==1073741824&&(t.flags|=128,n=!0,jf(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xr(),t.sibling=null,r=cr.current,Qt(cr,n?r&1|2:r&1),t):(fn(t),null);case 22:case 23:return CS(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?es&1073741824&&(fn(t),t.subtreeFlags&6&&(t.flags|=8192)):fn(t),null;case 24:return null;case 25:return null}throw Error(fe(156,t.tag))}function vz(e,t){switch(oS(t),t.tag){case 1:return Wn(t.type)&&Vg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qu(),rr(zn),rr(bn),gS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return pS(t),null;case 13:if(rr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(fe(340));Gu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(cr),null;case 4:return Qu(),null;case 10:return dS(t.type._context),null;case 22:case 23:return CS(),null;case 24:return null;default:return null}}var Mp=!1,pn=!1,yz=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function mu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function oj(e,t,r){try{r()}catch(n){vr(e,t,n)}}var l2=!1;function xz(e,t){if(W0=Bg,e=o$(),aS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(V0={focusedElem:e,selectionRange:r},Bg=!1,Oe=t;Oe!==null;)if(t=Oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Oe=e;else for(;Oe!==null;){t=Oe;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,x=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:ra(t.type,p),x);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(fe(163))}}catch(_){vr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,Oe=e;break}Oe=t.return}return g=l2,l2=!1,g}function ch(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&oj(t,r,i)}s=s.next}while(s!==n)}}function Qy(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function lj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function n4(e){var t=e.alternate;t!==null&&(e.alternate=null,n4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ia],delete t[Rh],delete t[G0],delete t[tz],delete t[rz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function s4(e){return e.tag===5||e.tag===3||e.tag===4}function c2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||s4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Wg));else if(n!==4&&(e=e.child,e!==null))for(cj(e,t,r),e=e.sibling;e!==null;)cj(e,t,r),e=e.sibling}function uj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(uj(e,t,r),e=e.sibling;e!==null;)uj(e,t,r),e=e.sibling}var nn=null,ia=!1;function no(e,t,r){for(r=r.child;r!==null;)a4(e,t,r),r=r.sibling}function a4(e,t,r){if(qa&&typeof qa.onCommitFiberUnmount=="function")try{qa.onCommitFiberUnmount(qy,r)}catch{}switch(r.tag){case 5:pn||mu(r,t);case 6:var n=nn,s=ia;nn=null,no(e,t,r),nn=n,ia=s,nn!==null&&(ia?(e=nn,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):nn.removeChild(r.stateNode));break;case 18:nn!==null&&(ia?(e=nn,r=r.stateNode,e.nodeType===8?Zb(e.parentNode,r):e.nodeType===1&&Zb(e,r),Eh(e)):Zb(nn,r.stateNode));break;case 4:n=nn,s=ia,nn=r.stateNode.containerInfo,ia=!0,no(e,t,r),nn=n,ia=s;break;case 0:case 11:case 14:case 15:if(!pn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&oj(r,t,o),s=s.next}while(s!==n)}no(e,t,r);break;case 1:if(!pn&&(mu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,t,l)}no(e,t,r);break;case 21:no(e,t,r);break;case 22:r.mode&1?(pn=(n=pn)||r.memoizedState!==null,no(e,t,r),pn=n):no(e,t,r);break;default:no(e,t,r)}}function u2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new yz),t.forEach(function(n){var s=Ez.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:nn=l.stateNode,ia=!1;break e;case 3:nn=l.stateNode.containerInfo,ia=!0;break e;case 4:nn=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(nn===null)throw Error(fe(160));a4(i,o,s),nn=null,ia=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){vr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)i4(t,e),t=t.sibling}function i4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qs(t,e),Oa(e),n&4){try{ch(3,e,e.return),Qy(3,e)}catch(p){vr(e,e.return,p)}try{ch(5,e,e.return)}catch(p){vr(e,e.return,p)}}break;case 1:Qs(t,e),Oa(e),n&512&&r!==null&&mu(r,r.return);break;case 5:if(Qs(t,e),Oa(e),n&512&&r!==null&&mu(r,r.return),e.flags&32){var s=e.stateNode;try{Sh(s,"")}catch(p){vr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&EM(s,i),M0(l,o);var u=M0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?RM(s,f):d==="dangerouslySetInnerHTML"?AM(s,f):d==="children"?Sh(s,f):K1(s,d,f,u)}switch(l){case"input":P0(s,i);break;case"textarea":PM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?bu(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?bu(s,!!i.multiple,i.defaultValue,!0):bu(s,!!i.multiple,i.multiple?[]:"",!1))}s[Rh]=i}catch(p){vr(e,e.return,p)}}break;case 6:if(Qs(t,e),Oa(e),n&4){if(e.stateNode===null)throw Error(fe(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){vr(e,e.return,p)}}break;case 3:if(Qs(t,e),Oa(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Eh(t.containerInfo)}catch(p){vr(e,e.return,p)}break;case 4:Qs(t,e),Oa(e);break;case 13:Qs(t,e),Oa(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(NS=xr())),n&4&&u2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(pn=(u=pn)||d,Qs(t,e),pn=u):Qs(t,e),Oa(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Oe=e,d=e.child;d!==null;){for(f=Oe=d;Oe!==null;){switch(h=Oe,m=h.child,h.tag){case 0:case 11:case 14:case 15:ch(4,h,h.return);break;case 1:mu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){vr(n,r,p)}}break;case 5:mu(h,h.return);break;case 22:if(h.memoizedState!==null){f2(f);continue}}m!==null?(m.return=h,Oe=m):f2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=TM("display",o))}catch(p){vr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qs(t,e),Oa(e),n&4&&u2(e);break;case 21:break;default:Qs(t,e),Oa(e)}}function Oa(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(s4(r)){var n=r;break e}r=r.return}throw Error(fe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sh(s,""),n.flags&=-33);var i=c2(e);uj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=c2(e);cj(e,l,o);break;default:throw Error(fe(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bz(e,t,r){Oe=e,o4(e)}function o4(e,t,r){for(var n=(e.mode&1)!==0;Oe!==null;){var s=Oe,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Mp;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||pn;l=Mp;var u=pn;if(Mp=o,(pn=c)&&!u)for(Oe=s;Oe!==null;)o=Oe,c=o.child,o.tag===22&&o.memoizedState!==null?h2(s):c!==null?(c.return=o,Oe=c):h2(s);for(;i!==null;)Oe=i,o4(i),i=i.sibling;Oe=s,Mp=l,pn=u}d2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Oe=i):d2(e)}}function d2(e){for(;Oe!==null;){var t=Oe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pn||Qy(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&YC(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}YC(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Eh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(fe(163))}pn||t.flags&512&&lj(t)}catch(h){vr(t,t.return,h)}}if(t===e){Oe=null;break}if(r=t.sibling,r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function f2(e){for(;Oe!==null;){var t=Oe;if(t===e){Oe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Oe=r;break}Oe=t.return}}function h2(e){for(;Oe!==null;){var t=Oe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Qy(4,t)}catch(c){vr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){vr(t,s,c)}}var i=t.return;try{lj(t)}catch(c){vr(t,i,c)}break;case 5:var o=t.return;try{lj(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){Oe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,Oe=l;break}Oe=t.return}}var wz=Math.ceil,tv=zi.ReactCurrentDispatcher,_S=zi.ReactCurrentOwner,As=zi.ReactCurrentBatchConfig,_t=0,Xr=null,Pr=null,on=0,es=0,pu=sl(0),qr=0,Fh=null,sc=0,Xy=0,SS=0,uh=null,Fn=null,NS=0,Ju=1/0,di=null,rv=!1,dj=null,qo=null,$p=!1,To=null,nv=0,dh=0,fj=null,Cg=-1,Eg=0;function Cn(){return _t&6?xr():Cg!==-1?Cg:Cg=xr()}function zo(e){return e.mode&1?_t&2&&on!==0?on&-on:sz.transition!==null?(Eg===0&&(Eg=VM()),Eg):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:JM(e.type)),e):1}function ga(e,t,r,n){if(50<dh)throw dh=0,fj=null,Error(fe(185));Km(e,r,n),(!(_t&2)||e!==Xr)&&(e===Xr&&(!(_t&2)&&(Xy|=r),qr===4&&vo(e,on)),Vn(e,n),r===1&&_t===0&&!(t.mode&1)&&(Ju=xr()+500,Hy&&al()))}function Vn(e,t){var r=e.callbackNode;s8(e,t);var n=Ug(e,e===Xr?on:0);if(n===0)r!==null&&jC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jC(r),t===1)e.tag===0?nz(m2.bind(null,e)):v$(m2.bind(null,e)),Z8(function(){!(_t&6)&&al()}),r=null;else{switch(KM(n)){case 1:r=X1;break;case 4:r=zM;break;case 16:r=Fg;break;case 536870912:r=WM;break;default:r=Fg}r=p4(r,l4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function l4(e,t){if(Cg=-1,Eg=0,_t&6)throw Error(fe(327));var r=e.callbackNode;if(Nu()&&e.callbackNode!==r)return null;var n=Ug(e,e===Xr?on:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=sv(e,n);else{t=n;var s=_t;_t|=2;var i=u4();(Xr!==e||on!==t)&&(di=null,Ju=xr()+500,Ql(e,t));do try{Sz();break}catch(l){c4(e,l)}while(!0);uS(),tv.current=i,_t=s,Pr!==null?t=0:(Xr=null,on=0,t=qr)}if(t!==0){if(t===2&&(s=F0(e),s!==0&&(n=s,t=hj(e,s))),t===1)throw r=Fh,Ql(e,0),vo(e,n),Vn(e,xr()),r;if(t===6)vo(e,n);else{if(s=e.current.alternate,!(n&30)&&!jz(s)&&(t=sv(e,n),t===2&&(i=F0(e),i!==0&&(n=i,t=hj(e,i))),t===1))throw r=Fh,Ql(e,0),vo(e,n),Vn(e,xr()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(fe(345));case 2:wl(e,Fn,di);break;case 3:if(vo(e,n),(n&130023424)===n&&(t=NS+500-xr(),10<t)){if(Ug(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Cn(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=H0(wl.bind(null,e,Fn,di),t);break}wl(e,Fn,di);break;case 4:if(vo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-pa(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wz(n/1960))-n,10<n){e.timeoutHandle=H0(wl.bind(null,e,Fn,di),n);break}wl(e,Fn,di);break;case 5:wl(e,Fn,di);break;default:throw Error(fe(329))}}}return Vn(e,xr()),e.callbackNode===r?l4.bind(null,e):null}function hj(e,t){var r=uh;return e.current.memoizedState.isDehydrated&&(Ql(e,t).flags|=256),e=sv(e,t),e!==2&&(t=Fn,Fn=r,t!==null&&mj(t)),e}function mj(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function jz(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!xa(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vo(e,t){for(t&=~SS,t&=~Xy,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pa(t),n=1<<r;e[r]=-1,t&=~n}}function m2(e){if(_t&6)throw Error(fe(327));Nu();var t=Ug(e,0);if(!(t&1))return Vn(e,xr()),null;var r=sv(e,t);if(e.tag!==0&&r===2){var n=F0(e);n!==0&&(t=n,r=hj(e,n))}if(r===1)throw r=Fh,Ql(e,0),vo(e,t),Vn(e,xr()),r;if(r===6)throw Error(fe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Fn,di),Vn(e,xr()),null}function kS(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(Ju=xr()+500,Hy&&al())}}function ac(e){To!==null&&To.tag===0&&!(_t&6)&&Nu();var t=_t;_t|=1;var r=As.transition,n=Dt;try{if(As.transition=null,Dt=1,e)return e()}finally{Dt=n,As.transition=r,_t=t,!(_t&6)&&al()}}function CS(){es=pu.current,rr(pu)}function Ql(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,J8(r)),Pr!==null)for(r=Pr.return;r!==null;){var n=r;switch(oS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vg();break;case 3:Qu(),rr(zn),rr(bn),gS();break;case 5:pS(n);break;case 4:Qu();break;case 13:rr(cr);break;case 19:rr(cr);break;case 10:dS(n.type._context);break;case 22:case 23:CS()}r=r.return}if(Xr=e,Pr=e=Wo(e.current,null),on=es=t,qr=0,Fh=null,SS=Xy=sc=0,Fn=uh=null,Al!==null){for(t=0;t<Al.length;t++)if(r=Al[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Al=null}return e}function c4(e,t){do{var r=Pr;try{if(uS(),Sg.current=ev,Zg){for(var n=fr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Zg=!1}if(nc=0,Yr=Lr=fr=null,lh=!1,Ih=0,_S.current=null,r===null||r.return===null){qr=1,Fh=t,Pr=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=on,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=t2(o);if(m!==null){m.flags&=-257,r2(m,o,l,i,t),m.mode&1&&e2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){e2(i,u,t),ES();break e}c=Error(fe(426))}}else if(ar&&l.mode&1){var x=t2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),r2(x,o,l,i,t),lS(Xu(c,l));break e}}i=c=Xu(c,l),qr!==4&&(qr=2),uh===null?uh=[i]:uh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=K$(i,c,t);GC(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(qo===null||!qo.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=H$(i,l,t);GC(i,_);break e}}i=i.return}while(i!==null)}f4(r)}catch(j){t=j,Pr===r&&r!==null&&(Pr=r=r.return);continue}break}while(!0)}function u4(){var e=tv.current;return tv.current=ev,e===null?ev:e}function ES(){(qr===0||qr===3||qr===2)&&(qr=4),Xr===null||!(sc&268435455)&&!(Xy&268435455)||vo(Xr,on)}function sv(e,t){var r=_t;_t|=2;var n=u4();(Xr!==e||on!==t)&&(di=null,Ql(e,t));do try{_z();break}catch(s){c4(e,s)}while(!0);if(uS(),_t=r,tv.current=n,Pr!==null)throw Error(fe(261));return Xr=null,on=0,qr}function _z(){for(;Pr!==null;)d4(Pr)}function Sz(){for(;Pr!==null&&!Yq();)d4(Pr)}function d4(e){var t=m4(e.alternate,e,es);e.memoizedProps=e.pendingProps,t===null?f4(e):Pr=t,_S.current=null}function f4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=vz(r,t),r!==null){r.flags&=32767,Pr=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qr=6,Pr=null;return}}else if(r=gz(r,t,es),r!==null){Pr=r;return}if(t=t.sibling,t!==null){Pr=t;return}Pr=t=e}while(t!==null);qr===0&&(qr=5)}function wl(e,t,r){var n=Dt,s=As.transition;try{As.transition=null,Dt=1,Nz(e,t,r,n)}finally{As.transition=s,Dt=n}return null}function Nz(e,t,r,n){do Nu();while(To!==null);if(_t&6)throw Error(fe(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(fe(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(a8(e,i),e===Xr&&(Pr=Xr=null,on=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$p||($p=!0,p4(Fg,function(){return Nu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=As.transition,As.transition=null;var o=Dt;Dt=1;var l=_t;_t|=4,_S.current=null,xz(e,r),i4(r,e),V8(V0),Bg=!!W0,V0=W0=null,e.current=r,bz(r),Qq(),_t=l,Dt=o,As.transition=i}else e.current=r;if($p&&($p=!1,To=e,nv=s),i=e.pendingLanes,i===0&&(qo=null),Zq(r.stateNode),Vn(e,xr()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(rv)throw rv=!1,e=dj,dj=null,e;return nv&1&&e.tag!==0&&Nu(),i=e.pendingLanes,i&1?e===fj?dh++:(dh=0,fj=e):dh=0,al(),null}function Nu(){if(To!==null){var e=KM(nv),t=As.transition,r=Dt;try{if(As.transition=null,Dt=16>e?16:e,To===null)var n=!1;else{if(e=To,To=null,nv=0,_t&6)throw Error(fe(331));var s=_t;for(_t|=4,Oe=e.current;Oe!==null;){var i=Oe,o=i.child;if(Oe.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(Oe=u;Oe!==null;){var d=Oe;switch(d.tag){case 0:case 11:case 15:ch(8,d,i)}var f=d.child;if(f!==null)f.return=d,Oe=f;else for(;Oe!==null;){d=Oe;var h=d.sibling,m=d.return;if(n4(d),d===u){Oe=null;break}if(h!==null){h.return=m,Oe=h;break}Oe=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var x=p.sibling;p.sibling=null,p=x}while(p!==null)}}Oe=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Oe=o;else e:for(;Oe!==null;){if(i=Oe,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ch(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,Oe=b;break e}Oe=i.return}}var v=e.current;for(Oe=v;Oe!==null;){o=Oe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Oe=w;else e:for(o=v;Oe!==null;){if(l=Oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Qy(9,l)}}catch(j){vr(l,l.return,j)}if(l===o){Oe=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,Oe=_;break e}Oe=l.return}}if(_t=s,al(),qa&&typeof qa.onPostCommitFiberRoot=="function")try{qa.onPostCommitFiberRoot(qy,e)}catch{}n=!0}return n}finally{Dt=r,As.transition=t}}return!1}function p2(e,t,r){t=Xu(r,t),t=K$(e,t,1),e=Bo(e,t,1),t=Cn(),e!==null&&(Km(e,1,t),Vn(e,t))}function vr(e,t,r){if(e.tag===3)p2(e,e,r);else for(;t!==null;){if(t.tag===3){p2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qo===null||!qo.has(n))){e=Xu(r,e),e=H$(t,e,1),t=Bo(t,e,1),e=Cn(),t!==null&&(Km(t,1,e),Vn(t,e));break}}t=t.return}}function kz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Cn(),e.pingedLanes|=e.suspendedLanes&r,Xr===e&&(on&r)===r&&(qr===4||qr===3&&(on&130023424)===on&&500>xr()-NS?Ql(e,0):SS|=r),Vn(e,t)}function h4(e,t){t===0&&(e.mode&1?(t=Np,Np<<=1,!(Np&130023424)&&(Np=4194304)):t=1);var r=Cn();e=Ti(e,t),e!==null&&(Km(e,t,r),Vn(e,r))}function Cz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),h4(e,r)}function Ez(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(fe(314))}n!==null&&n.delete(t),h4(e,r)}var m4;m4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zn.current)Un=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Un=!1,pz(e,t,r);Un=!!(e.flags&131072)}else Un=!1,ar&&t.flags&1048576&&y$(t,Gg,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;kg(e,t),e=t.pendingProps;var s=Hu(t,bn.current);Su(t,r),s=yS(null,t,n,e,s,r);var i=xS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wn(n)?(i=!0,Kg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,hS(t),s.updater=Yy,t.stateNode=s,s._reactInternals=t,ej(t,n,e,r),t=nj(null,t,n,!0,i,r)):(t.tag=0,ar&&i&&iS(t),Sn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(kg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Oz(n),e=ra(n,e),s){case 0:t=rj(null,t,n,e,r);break e;case 1:t=a2(null,t,n,e,r);break e;case 11:t=n2(null,t,n,e,r);break e;case 14:t=s2(null,t,n,ra(n.type,e),r);break e}throw Error(fe(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),rj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),a2(e,t,n,s,r);case 3:e:{if(X$(t),e===null)throw Error(fe(387));n=t.pendingProps,i=t.memoizedState,s=i.element,S$(e,t),Xg(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Xu(Error(fe(423)),t),t=i2(e,t,n,r,s);break e}else if(n!==s){s=Xu(Error(fe(424)),t),t=i2(e,t,n,r,s);break e}else for(os=Uo(t.stateNode.containerInfo.firstChild),cs=t,ar=!0,ca=null,r=j$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Gu(),n===s){t=Ri(e,t,r);break e}Sn(e,t,n,r)}t=t.child}return t;case 5:return N$(t),e===null&&X0(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,K0(n,s)?o=null:i!==null&&K0(n,i)&&(t.flags|=32),Q$(e,t),Sn(e,t,o,r),t.child;case 6:return e===null&&X0(t),null;case 13:return J$(e,t,r);case 4:return mS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yu(t,null,n,r):Sn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),n2(e,t,n,s,r);case 7:return Sn(e,t,t.pendingProps,r),t.child;case 8:return Sn(e,t,t.pendingProps.children,r),t.child;case 12:return Sn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Qt(Yg,n._currentValue),n._currentValue=o,i!==null)if(xa(i.value,o)){if(i.children===s.children&&!zn.current){t=Ri(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Si(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),J0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(fe(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),J0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Sn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Su(t,r),s=Ds(s),n=n(s),t.flags|=1,Sn(e,t,n,r),t.child;case 14:return n=t.type,s=ra(n,t.pendingProps),s=ra(n.type,s),s2(e,t,n,s,r);case 15:return G$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),kg(e,t),t.tag=1,Wn(n)?(e=!0,Kg(t)):e=!1,Su(t,r),V$(t,n,s),ej(t,n,s,r),nj(null,t,n,!0,e,r);case 19:return Z$(e,t,r);case 22:return Y$(e,t,r)}throw Error(fe(156,t.tag))};function p4(e,t){return qM(e,t)}function Pz(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Es(e,t,r,n){return new Pz(e,t,r,n)}function PS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oz(e){if(typeof e=="function")return PS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===G1)return 11;if(e===Y1)return 14}return 2}function Wo(e,t){var r=e.alternate;return r===null?(r=Es(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Pg(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")PS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case au:return Xl(r.children,s,i,t);case H1:o=8,s|=8;break;case S0:return e=Es(12,r,t,s|2),e.elementType=S0,e.lanes=i,e;case N0:return e=Es(13,r,t,s),e.elementType=N0,e.lanes=i,e;case k0:return e=Es(19,r,t,s),e.elementType=k0,e.lanes=i,e;case NM:return Jy(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _M:o=10;break e;case SM:o=9;break e;case G1:o=11;break e;case Y1:o=14;break e;case uo:o=16,n=null;break e}throw Error(fe(130,e==null?e:typeof e,""))}return t=Es(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Xl(e,t,r,n){return e=Es(7,e,n,t),e.lanes=r,e}function Jy(e,t,r,n){return e=Es(22,e,n,t),e.elementType=NM,e.lanes=r,e.stateNode={isHidden:!1},e}function ow(e,t,r){return e=Es(6,e,null,t),e.lanes=r,e}function lw(e,t,r){return t=Es(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Az(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qb(0),this.expirationTimes=qb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function OS(e,t,r,n,s,i,o,l,c){return e=new Az(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Es(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hS(i),e}function Tz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:su,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function g4(e){if(!e)return Jo;e=e._reactInternals;e:{if(_c(e)!==e||e.tag!==1)throw Error(fe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(fe(171))}if(e.tag===1){var r=e.type;if(Wn(r))return g$(e,r,t)}return t}function v4(e,t,r,n,s,i,o,l,c){return e=OS(r,n,!0,e,s,i,o,l,c),e.context=g4(null),r=e.current,n=Cn(),s=zo(r),i=Si(n,s),i.callback=t??null,Bo(r,i,s),e.current.lanes=s,Km(e,s,n),Vn(e,n),e}function Zy(e,t,r,n){var s=t.current,i=Cn(),o=zo(s);return r=g4(r),t.context===null?t.context=r:t.pendingContext=r,t=Si(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Bo(s,t,o),e!==null&&(ga(e,s,o,i),_g(e,s,o)),o}function av(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function g2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function AS(e,t){g2(e,t),(e=e.alternate)&&g2(e,t)}function Rz(){return null}var y4=typeof reportError=="function"?reportError:function(e){console.error(e)};function TS(e){this._internalRoot=e}ex.prototype.render=TS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(fe(409));Zy(e,t,null,null)};ex.prototype.unmount=TS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ac(function(){Zy(null,e,null,null)}),t[Ai]=null}};function ex(e){this._internalRoot=e}ex.prototype.unstable_scheduleHydration=function(e){if(e){var t=YM();e={blockedOn:null,target:e,priority:t};for(var r=0;r<go.length&&t!==0&&t<go[r].priority;r++);go.splice(r,0,e),r===0&&XM(e)}};function RS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function v2(){}function Mz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=av(o);i.call(u)}}var o=v4(t,n,e,0,null,!1,!1,"",v2);return e._reactRootContainer=o,e[Ai]=o.current,Ah(e.nodeType===8?e.parentNode:e),ac(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=av(c);l.call(u)}}var c=OS(e,0,!1,null,null,!1,!1,"",v2);return e._reactRootContainer=c,e[Ai]=c.current,Ah(e.nodeType===8?e.parentNode:e),ac(function(){Zy(t,c,r,n)}),c}function rx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=av(o);l.call(c)}}Zy(t,o,e,s)}else o=Mz(r,t,e,s,n);return av(o)}HM=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Hf(t.pendingLanes);r!==0&&(J1(t,r|1),Vn(t,xr()),!(_t&6)&&(Ju=xr()+500,al()))}break;case 13:ac(function(){var n=Ti(e,1);if(n!==null){var s=Cn();ga(n,e,1,s)}}),AS(e,1)}};Z1=function(e){if(e.tag===13){var t=Ti(e,134217728);if(t!==null){var r=Cn();ga(t,e,134217728,r)}AS(e,134217728)}};GM=function(e){if(e.tag===13){var t=zo(e),r=Ti(e,t);if(r!==null){var n=Cn();ga(r,e,t,n)}AS(e,t)}};YM=function(){return Dt};QM=function(e,t){var r=Dt;try{return Dt=e,t()}finally{Dt=r}};I0=function(e,t,r){switch(t){case"input":if(P0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Ky(n);if(!s)throw Error(fe(90));CM(n),P0(n,s)}}}break;case"textarea":PM(e,r);break;case"select":t=r.value,t!=null&&bu(e,!!r.multiple,t,!1)}};IM=kS;DM=ac;var $z={usingClientEntryPoint:!1,Events:[Gm,cu,Ky,MM,$M,kS]},_f={findFiberByHostInstance:Ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Iz={bundleType:_f.bundleType,version:_f.version,rendererPackageName:_f.rendererPackageName,rendererConfig:_f.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=UM(e),e===null?null:e.stateNode},findFiberByHostInstance:_f.findFiberByHostInstance||Rz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ip=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ip.isDisabled&&Ip.supportsFiber)try{qy=Ip.inject(Iz),qa=Ip}catch{}}ps.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$z;ps.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!RS(t))throw Error(fe(200));return Tz(e,t,null,r)};ps.createRoot=function(e,t){if(!RS(e))throw Error(fe(299));var r=!1,n="",s=y4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=OS(e,1,!1,null,null,r,!1,n,s),e[Ai]=t.current,Ah(e.nodeType===8?e.parentNode:e),new TS(t)};ps.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(fe(188)):(e=Object.keys(e).join(","),Error(fe(268,e)));return e=UM(t),e=e===null?null:e.stateNode,e};ps.flushSync=function(e){return ac(e)};ps.hydrate=function(e,t,r){if(!tx(t))throw Error(fe(200));return rx(null,e,t,!0,r)};ps.hydrateRoot=function(e,t,r){if(!RS(e))throw Error(fe(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=y4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=v4(t,null,e,1,r??null,s,!1,i,o),e[Ai]=t.current,Ah(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ex(t)};ps.render=function(e,t,r){if(!tx(t))throw Error(fe(200));return rx(null,e,t,!1,r)};ps.unmountComponentAtNode=function(e){if(!tx(e))throw Error(fe(40));return e._reactRootContainer?(ac(function(){rx(null,null,e,!1,function(){e._reactRootContainer=null,e[Ai]=null})}),!0):!1};ps.unstable_batchedUpdates=kS;ps.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!tx(r))throw Error(fe(200));if(e==null||e._reactInternals===void 0)throw Error(fe(38));return rx(e,t,r,!1,n)};ps.version="18.3.1-next-f1338f8080-20240426";function x4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(x4)}catch(e){console.error(e)}}x4(),xM.exports=ps;var Fd=xM.exports;const b4=qt(Fd);var y2=Fd;j0.createRoot=y2.createRoot,j0.hydrateRoot=y2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uh.apply(this,arguments)}var Ro;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ro||(Ro={}));const x2="popstate";function Dz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return pj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:iv(s)}return Fz(t,r,null,e)}function hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function MS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Lz(){return Math.random().toString(36).substr(2,8)}function b2(e,t){return{usr:e.state,key:e.key,idx:t}}function pj(e,t,r,n){return r===void 0&&(r=null),Uh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ud(t):t,{state:r,key:t&&t.key||n||Lz()})}function iv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Fz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Ro.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Uh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Ro.Pop;let x=d(),b=x==null?null:x-u;u=x,c&&c({action:l,location:p.location,delta:b})}function h(x,b){l=Ro.Push;let v=pj(p.location,x,b);u=d()+1;let w=b2(v,u),_=p.createHref(v);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(x,b){l=Ro.Replace;let v=pj(p.location,x,b);u=d();let w=b2(v,u),_=p.createHref(v);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(x){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:iv(x);return v=v.replace(/ $/,"%20"),hr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(x2,f),c=x,()=>{s.removeEventListener(x2,f),c=null}},createHref(x){return t(s,x)},createURL:g,encodeLocation(x){let b=g(x);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(x){return o.go(x)}};return p}var w2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(w2||(w2={}));function Uz(e,t,r){return r===void 0&&(r="/"),Bz(e,t,r)}function Bz(e,t,r,n){let s=typeof t=="string"?Ud(t):t,i=Zu(s.pathname||"/",r);if(i==null)return null;let o=w4(e);qz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Zz(i);l=Xz(o[c],u)}return l}function w4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(hr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Vo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),w4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Yz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of j4(i.path))s(i,o,c)}),t}function j4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=j4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function qz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const zz=/^:[\w-]+$/,Wz=3,Vz=2,Kz=1,Hz=10,Gz=-2,j2=e=>e==="*";function Yz(e,t){let r=e.split("/"),n=r.length;return r.some(j2)&&(n+=Gz),t&&(n+=Vz),r.filter(s=>!j2(s)).reduce((s,i)=>s+(zz.test(i)?Wz:i===""?Kz:Hz),n)}function Qz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Xz(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=gj({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Vo([i,f.pathname]),pathnameBase:sW(Vo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Vo([i,f.pathnameBase]))}return o}function gj(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Jz(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Jz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),MS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Zz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return MS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const eW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tW=e=>eW.test(e);function rW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Ud(e):e,i;if(r)if(tW(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),MS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=_2(r.substring(1),"/"):i=_2(r,t)}else i=t;return{pathname:i,search:aW(n),hash:iW(s)}}function _2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function cw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function $S(e,t){let r=nW(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Ud(e):(s=Uh({},e),hr(!s.pathname||!s.pathname.includes("?"),cw("?","pathname","search",s)),hr(!s.pathname||!s.pathname.includes("#"),cw("#","pathname","hash",s)),hr(!s.search||!s.search.includes("#"),cw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=rW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Vo=e=>e.join("/").replace(/\/\/+/g,"/"),sW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),aW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function oW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _4=["post","put","patch","delete"];new Set(_4);const lW=["get",..._4];new Set(lW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bh.apply(this,arguments)}const nx=y.createContext(null),S4=y.createContext(null),Wi=y.createContext(null),sx=y.createContext(null),Za=y.createContext({outlet:null,matches:[],isDataRoute:!1}),N4=y.createContext(null);function cW(e,t){let{relative:r}=t===void 0?{}:t;Bd()||hr(!1);let{basename:n,navigator:s}=y.useContext(Wi),{hash:i,pathname:o,search:l}=ax(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Vo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Bd(){return y.useContext(sx)!=null}function ei(){return Bd()||hr(!1),y.useContext(sx).location}function k4(e){y.useContext(Wi).static||y.useLayoutEffect(e)}function il(){let{isDataRoute:e}=y.useContext(Za);return e?NW():uW()}function uW(){Bd()||hr(!1);let e=y.useContext(nx),{basename:t,future:r,navigator:n}=y.useContext(Wi),{matches:s}=y.useContext(Za),{pathname:i}=ei(),o=JSON.stringify($S(s,r.v7_relativeSplatPath)),l=y.useRef(!1);return k4(()=>{l.current=!0}),y.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=IS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Vo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const dW=y.createContext(null);function fW(e){let t=y.useContext(Za).outlet;return t&&y.createElement(dW.Provider,{value:e},t)}function hW(){let{matches:e}=y.useContext(Za),t=e[e.length-1];return t?t.params:{}}function ax(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=y.useContext(Wi),{matches:s}=y.useContext(Za),{pathname:i}=ei(),o=JSON.stringify($S(s,n.v7_relativeSplatPath));return y.useMemo(()=>IS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function mW(e,t){return pW(e,t)}function pW(e,t,r,n){Bd()||hr(!1);let{navigator:s}=y.useContext(Wi),{matches:i}=y.useContext(Za),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ei(),d;if(t){var f;let x=typeof t=="string"?Ud(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||hr(!1),d=x}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Uz(e,{pathname:m}),p=bW(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Vo([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Vo([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r,n);return t&&p?y.createElement(sx.Provider,{value:{location:Bh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ro.Pop}},p):p}function gW(){let e=SW(),t=oW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},t),r?y.createElement("pre",{style:s},r):null,null)}const vW=y.createElement(gW,null);class yW extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?y.createElement(Za.Provider,{value:this.props.routeContext},y.createElement(N4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xW(e){let{routeContext:t,match:r,children:n}=e,s=y.useContext(nx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),y.createElement(Za.Provider,{value:t},n)}function bW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||hr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,x=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||vW,c&&(u<0&&h===0?(kW("route-fallback"),g=!0,x=null):u===h&&(g=!0,x=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=p:g?w=x:f.route.Component?w=y.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,y.createElement(xW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?y.createElement(yW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var C4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(C4||{}),E4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(E4||{});function wW(e){let t=y.useContext(nx);return t||hr(!1),t}function jW(e){let t=y.useContext(S4);return t||hr(!1),t}function _W(e){let t=y.useContext(Za);return t||hr(!1),t}function P4(e){let t=_W(),r=t.matches[t.matches.length-1];return r.route.id||hr(!1),r.route.id}function SW(){var e;let t=y.useContext(N4),r=jW(),n=P4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function NW(){let{router:e}=wW(C4.UseNavigateStable),t=P4(E4.UseNavigateStable),r=y.useRef(!1);return k4(()=>{r.current=!0}),y.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Bh({fromRouteId:t},i)))},[e,t])}const S2={};function kW(e,t,r){S2[e]||(S2[e]=!0)}function CW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function EW(e){let{to:t,replace:r,state:n,relative:s}=e;Bd()||hr(!1);let{future:i,static:o}=y.useContext(Wi),{matches:l}=y.useContext(Za),{pathname:c}=ei(),u=il(),d=IS(t,$S(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return y.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function O4(e){return fW(e.context)}function bt(e){hr(!1)}function PW(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ro.Pop,navigator:i,static:o=!1,future:l}=e;Bd()&&hr(!1);let c=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:c,navigator:i,static:o,future:Bh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Ud(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=y.useMemo(()=>{let x=Zu(d,c);return x==null?null:{location:{pathname:x,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:y.createElement(Wi.Provider,{value:u},y.createElement(sx.Provider,{children:r,value:p}))}function OW(e){let{children:t,location:r}=e;return mW(vj(t),r)}new Promise(()=>{});function vj(e,t){t===void 0&&(t=[]);let r=[];return y.Children.forEach(e,(n,s)=>{if(!y.isValidElement(n))return;let i=[...t,s];if(n.type===y.Fragment){r.push.apply(r,vj(n.props.children,i));return}n.type!==bt&&hr(!1),!n.props.index||!n.props.children||hr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(this,arguments)}function A4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function AW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function TW(e,t){return e.button===0&&(!t||t==="_self")&&!AW(e)}function yj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function RW(e,t){let r=yj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const MW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$W=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],IW="6";try{window.__reactRouterVersion=IW}catch{}const DW=y.createContext({isTransitioning:!1}),LW="startTransition",N2=By[LW];function FW(e){let{basename:t,children:r,future:n,window:s}=e,i=y.useRef();i.current==null&&(i.current=Dz({window:s,v5Compat:!0}));let o=i.current,[l,c]=y.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=y.useCallback(f=>{u&&N2?N2(()=>c(f)):c(f)},[c,u]);return y.useLayoutEffect(()=>o.listen(d),[o,d]),y.useEffect(()=>CW(n),[n]),y.createElement(PW,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const UW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=y.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=A4(t,MW),{basename:m}=y.useContext(Wi),g,p=!1;if(typeof u=="string"&&BW.test(u)&&(g=u,UW))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=Zu(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let x=cW(u,{relative:s}),b=zW(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||b(w)}return y.createElement("a",ov({},h,{href:g||x,onClick:p||i?n:v,ref:r,target:c}))}),T4=y.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=A4(t,$W),h=ax(c,{relative:f.relative}),m=ei(),g=y.useContext(S4),{navigator:p,basename:x}=y.useContext(Wi),b=g!=null&&WW(h)&&u===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&x&&(_=Zu(_,x)||_);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",N=_!=null&&(_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},C=S?n:void 0,A;typeof i=="function"?A=i(k):A=[i,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return y.createElement(me,ov({},f,{"aria-current":C,className:A,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var xj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(xj||(xj={}));var k2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(k2||(k2={}));function qW(e){let t=y.useContext(nx);return t||hr(!1),t}function zW(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=il(),u=ei(),d=ax(e,{relative:o});return y.useCallback(f=>{if(TW(f,r)){f.preventDefault();let h=n!==void 0?n:iv(u)===iv(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function R4(e){let t=y.useRef(yj(e)),r=y.useRef(!1),n=ei(),s=y.useMemo(()=>RW(n.search,r.current?null:t.current),[n.search]),i=il(),o=y.useCallback((l,c)=>{const u=yj(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function WW(e,t){t===void 0&&(t={});let r=y.useContext(DW);r==null&&hr(!1);let{basename:n}=qW(xj.useViewTransitionState),s=ax(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Zu(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gj(s.pathname,o)!=null||gj(s.pathname,i)!=null}var qd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},VW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},jo,F1,XR,KW=(XR=class{constructor(){ze(this,jo,VW);ze(this,F1,!1)}setTimeoutProvider(e){ke(this,jo,e)}setTimeout(e,t){return B(this,jo).setTimeout(e,t)}clearTimeout(e){B(this,jo).clearTimeout(e)}setInterval(e,t){return B(this,jo).setInterval(e,t)}clearInterval(e){B(this,jo).clearInterval(e)}},jo=new WeakMap,F1=new WeakMap,XR),Rl=new KW;function HW(e){setTimeout(e,0)}var ic=typeof window>"u"||"Deno"in globalThis;function Nn(){}function GW(e,t){return typeof e=="function"?e(t):e}function bj(e){return typeof e=="number"&&e>=0&&e!==1/0}function M4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ko(e,t){return typeof e=="function"?e(t):e}function js(e,t){return typeof e=="function"?e(t):e}function C2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==DS(o,t.options))return!1}else if(!qh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function E2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(oc(t.options.mutationKey)!==oc(i))return!1}else if(!qh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function DS(e,t){return((t==null?void 0:t.queryKeyHashFn)||oc)(e)}function oc(e){return JSON.stringify(e,(t,r)=>wj(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function qh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>qh(e[r],t[r])):!1}var YW=Object.prototype.hasOwnProperty;function $4(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=P2(e)&&P2(t);if(!n&&!(wj(e)&&wj(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:YW.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=$4(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function lv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function P2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function wj(e){if(!O2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!O2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function O2(e){return Object.prototype.toString.call(e)==="[object Object]"}function QW(e){return new Promise(t=>{Rl.setTimeout(t,e)})}function jj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$4(e,t):t}function XW(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function JW(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var LS=Symbol();function I4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===LS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function FS(e,t){return typeof e=="function"?e(...t):!!e}function ZW(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Bl,_o,Mu,JR,eV=(JR=class extends qd{constructor(){super();ze(this,Bl);ze(this,_o);ze(this,Mu);ke(this,Mu,t=>{if(!ic&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){B(this,_o)||this.setEventListener(B(this,Mu))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,_o))==null||t.call(this),ke(this,_o,void 0))}setEventListener(t){var r;ke(this,Mu,t),(r=B(this,_o))==null||r.call(this),ke(this,_o,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){B(this,Bl)!==t&&(ke(this,Bl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof B(this,Bl)=="boolean"?B(this,Bl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Bl=new WeakMap,_o=new WeakMap,Mu=new WeakMap,JR),US=new eV;function _j(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var tV=HW;function rV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=tV;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Fr=rV(),$u,So,Iu,ZR,nV=(ZR=class extends qd{constructor(){super();ze(this,$u,!0);ze(this,So);ze(this,Iu);ke(this,Iu,t=>{if(!ic&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){B(this,So)||this.setEventListener(B(this,Iu))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,So))==null||t.call(this),ke(this,So,void 0))}setEventListener(t){var r;ke(this,Iu,t),(r=B(this,So))==null||r.call(this),ke(this,So,t(this.setOnline.bind(this)))}setOnline(t){B(this,$u)!==t&&(ke(this,$u,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return B(this,$u)}},$u=new WeakMap,So=new WeakMap,Iu=new WeakMap,ZR),cv=new nV;function sV(e){return Math.min(1e3*2**e,3e4)}function D4(e){return(e??"online")==="online"?cv.isOnline():!0}var Sj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function L4(e){let t=!1,r=0,n;const s=_j(),i=()=>s.status!=="pending",o=p=>{var x;if(!i()){const b=new Sj(p);h(b),(x=e.onCancel)==null||x.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>US.isFocused()&&(e.networkMode==="always"||cv.isOnline())&&e.canRun(),d=()=>D4(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var x;n=b=>{(i()||u())&&p(b)},(x=e.onPause)==null||x.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const x=r===0?e.initialPromise:void 0;try{p=x??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(i())return;const v=e.retry??(ic?0:3),w=e.retryDelay??sV,_=typeof w=="function"?w(r,b):w,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),QW(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var ql,eM,F4=(eM=class{constructor(){ze(this,ql)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bj(this.gcTime)&&ke(this,ql,Rl.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ic?1/0:5*60*1e3))}clearGcTimeout(){B(this,ql)&&(Rl.clearTimeout(B(this,ql)),ke(this,ql,void 0))}},ql=new WeakMap,eM),zl,Du,ws,Wl,Hr,Um,Vl,sa,ui,tM,aV=(tM=class extends F4{constructor(t){super();ze(this,sa);ze(this,zl);ze(this,Du);ze(this,ws);ze(this,Wl);ze(this,Hr);ze(this,Um);ze(this,Vl);ke(this,Vl,!1),ke(this,Um,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Wl,t.client),ke(this,ws,B(this,Wl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,zl,T2(this.options)),this.state=t.state??B(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Hr))==null?void 0:t.promise}setOptions(t){if(this.options={...B(this,Um),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=T2(this.options);r.data!==void 0&&(this.setState(A2(r.data,r.dataUpdatedAt)),ke(this,zl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,ws).remove(this)}setData(t,r){const n=jj(this.state.data,t,this.options);return st(this,sa,ui).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){st(this,sa,ui).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=B(this,Hr))==null?void 0:n.promise;return(s=B(this,Hr))==null||s.cancel(t),r?r.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,zl))}isActive(){return this.observers.some(t=>js(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ko(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!M4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Hr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=B(this,Hr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,ws).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(B(this,Hr)&&(B(this,Vl)?B(this,Hr).cancel({revert:!0}):B(this,Hr).cancelRetry()),this.scheduleGc()),B(this,ws).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||st(this,sa,ui).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,x,b,v,w;if(this.state.fetchStatus!=="idle"&&((c=B(this,Hr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Hr))return B(this,Hr).continueRetry(),B(this,Hr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ke(this,Vl,!0),n.signal)})},i=()=>{const _=I4(this.options,r),S=(()=>{const N={client:B(this,Wl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ke(this,Vl,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,Wl),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,Du,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&st(this,sa,ui).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ke(this,Hr,L4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Sj&&_.revert&&this.setState({...B(this,Du),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{st(this,sa,ui).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{st(this,sa,ui).call(this,{type:"pause"})},onContinue:()=>{st(this,sa,ui).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await B(this,Hr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=B(this,ws).config).onSuccess)==null||m.call(h,_,this),(p=(g=B(this,ws).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Sj){if(_.silent)return B(this,Hr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw st(this,sa,ui).call(this,{type:"error",error:_}),(b=(x=B(this,ws).config).onError)==null||b.call(x,_,this),(w=(v=B(this,ws).config).onSettled)==null||w.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},zl=new WeakMap,Du=new WeakMap,ws=new WeakMap,Wl=new WeakMap,Hr=new WeakMap,Um=new WeakMap,Vl=new WeakMap,sa=new WeakSet,ui=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...U4(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...A2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Du,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Fr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),B(this,ws).notify({query:this,type:"updated",action:t})})},tM);function U4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function T2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $n,wt,Bm,jn,Kl,Lu,mi,No,qm,Fu,Uu,Hl,Gl,ko,Bu,Mt,Yf,Nj,kj,Cj,Ej,Pj,Oj,Aj,B4,rM,iV=(rM=class extends qd{constructor(t,r){super();ze(this,Mt);ze(this,$n);ze(this,wt);ze(this,Bm);ze(this,jn);ze(this,Kl);ze(this,Lu);ze(this,mi);ze(this,No);ze(this,qm);ze(this,Fu);ze(this,Uu);ze(this,Hl);ze(this,Gl);ze(this,ko);ze(this,Bu,new Set);this.options=r,ke(this,$n,t),ke(this,No,null),ke(this,mi,_j()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,wt).addObserver(this),R2(B(this,wt),this.options)?st(this,Mt,Yf).call(this):this.updateResult(),st(this,Mt,Ej).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Tj(B(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Tj(B(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,st(this,Mt,Pj).call(this),st(this,Mt,Oj).call(this),B(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=B(this,wt);if(this.options=B(this,$n).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof js(this.options.enabled,B(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");st(this,Mt,Aj).call(this),B(this,wt).setOptions(this.options),r._defaulted&&!lv(this.options,r)&&B(this,$n).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,wt),observer:this});const s=this.hasListeners();s&&M2(B(this,wt),n,this.options,r)&&st(this,Mt,Yf).call(this),this.updateResult(),s&&(B(this,wt)!==n||js(this.options.enabled,B(this,wt))!==js(r.enabled,B(this,wt))||Ko(this.options.staleTime,B(this,wt))!==Ko(r.staleTime,B(this,wt)))&&st(this,Mt,Nj).call(this);const i=st(this,Mt,kj).call(this);s&&(B(this,wt)!==n||js(this.options.enabled,B(this,wt))!==js(r.enabled,B(this,wt))||i!==B(this,ko))&&st(this,Mt,Cj).call(this,i)}getOptimisticResult(t){const r=B(this,$n).getQueryCache().build(B(this,$n),t),n=this.createResult(r,t);return lV(this,n)&&(ke(this,jn,n),ke(this,Lu,this.options),ke(this,Kl,B(this,wt).state)),n}getCurrentResult(){return B(this,jn)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&B(this,mi).status==="pending"&&B(this,mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){B(this,Bu).add(t)}getCurrentQuery(){return B(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=B(this,$n).defaultQueryOptions(t),n=B(this,$n).getQueryCache().build(B(this,$n),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return st(this,Mt,Yf).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,jn)))}createResult(t,r){var C;const n=B(this,wt),s=this.options,i=B(this,jn),o=B(this,Kl),l=B(this,Lu),u=t!==n?t.state:B(this,Bm),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const A=this.hasListeners(),I=!A&&R2(t,r),P=A&&M2(t,n,r,s);(I||P)&&(f={...f,...U4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:x}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&x==="pending"){let A;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(A=i.data,b=!0):A=typeof r.placeholderData=="function"?r.placeholderData((C=B(this,Uu))==null?void 0:C.state.data,B(this,Uu)):r.placeholderData,A!==void 0&&(x="success",m=jj(i==null?void 0:i.data,A,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===B(this,qm))m=B(this,Fu);else try{ke(this,qm,r.select),m=r.select(m),m=jj(i==null?void 0:i.data,m,r),ke(this,Fu,m),ke(this,No,null)}catch(A){ke(this,No,A)}B(this,No)&&(g=B(this,No),m=B(this,Fu),p=Date.now(),x="error");const v=f.fetchStatus==="fetching",w=x==="pending",_=x==="error",j=w&&v,S=m!==void 0,k={status:x,fetchStatus:f.fetchStatus,isPending:w,isSuccess:x==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:BS(t,r),refetch:this.refetch,promise:B(this,mi),isEnabled:js(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const A=k.data!==void 0,I=k.status==="error"&&!A,P=W=>{I?W.reject(k.error):A&&W.resolve(k.data)},q=()=>{const W=ke(this,mi,k.promise=_j());P(W)},T=B(this,mi);switch(T.status){case"pending":t.queryHash===n.queryHash&&P(T);break;case"fulfilled":(I||k.data!==T.value)&&q();break;case"rejected":(!I||k.error!==T.reason)&&q();break}}return k}updateResult(){const t=B(this,jn),r=this.createResult(B(this,wt),this.options);if(ke(this,Kl,B(this,wt).state),ke(this,Lu,this.options),B(this,Kl).data!==void 0&&ke(this,Uu,B(this,wt)),lv(r,t))return;ke(this,jn,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!B(this,Bu).size)return!0;const o=new Set(i??B(this,Bu));return this.options.throwOnError&&o.add("error"),Object.keys(B(this,jn)).some(l=>{const c=l;return B(this,jn)[c]!==t[c]&&o.has(c)})};st(this,Mt,B4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&st(this,Mt,Ej).call(this)}},$n=new WeakMap,wt=new WeakMap,Bm=new WeakMap,jn=new WeakMap,Kl=new WeakMap,Lu=new WeakMap,mi=new WeakMap,No=new WeakMap,qm=new WeakMap,Fu=new WeakMap,Uu=new WeakMap,Hl=new WeakMap,Gl=new WeakMap,ko=new WeakMap,Bu=new WeakMap,Mt=new WeakSet,Yf=function(t){st(this,Mt,Aj).call(this);let r=B(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(Nn)),r},Nj=function(){st(this,Mt,Pj).call(this);const t=Ko(this.options.staleTime,B(this,wt));if(ic||B(this,jn).isStale||!bj(t))return;const n=M4(B(this,jn).dataUpdatedAt,t)+1;ke(this,Hl,Rl.setTimeout(()=>{B(this,jn).isStale||this.updateResult()},n))},kj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,wt)):this.options.refetchInterval)??!1},Cj=function(t){st(this,Mt,Oj).call(this),ke(this,ko,t),!(ic||js(this.options.enabled,B(this,wt))===!1||!bj(B(this,ko))||B(this,ko)===0)&&ke(this,Gl,Rl.setInterval(()=>{(this.options.refetchIntervalInBackground||US.isFocused())&&st(this,Mt,Yf).call(this)},B(this,ko)))},Ej=function(){st(this,Mt,Nj).call(this),st(this,Mt,Cj).call(this,st(this,Mt,kj).call(this))},Pj=function(){B(this,Hl)&&(Rl.clearTimeout(B(this,Hl)),ke(this,Hl,void 0))},Oj=function(){B(this,Gl)&&(Rl.clearInterval(B(this,Gl)),ke(this,Gl,void 0))},Aj=function(){const t=B(this,$n).getQueryCache().build(B(this,$n),this.options);if(t===B(this,wt))return;const r=B(this,wt);ke(this,wt,t),ke(this,Bm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},B4=function(t){Fr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(B(this,jn))}),B(this,$n).getQueryCache().notify({query:B(this,wt),type:"observerResultsUpdated"})})},rM);function oV(e,t){return js(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function R2(e,t){return oV(e,t)||e.state.data!==void 0&&Tj(e,t,t.refetchOnMount)}function Tj(e,t,r){if(js(t.enabled,e)!==!1&&Ko(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&BS(e,t)}return!1}function M2(e,t,r,n){return(e!==t||js(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&BS(e,r)}function BS(e,t){return js(t.enabled,e)!==!1&&e.isStaleByTime(Ko(t.staleTime,e))}function lV(e,t){return!lv(e.getCurrentResult(),t)}function $2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const x=w=>{ZW(w,()=>t.signal,()=>p=!0)},b=I4(t.options,t.fetchOptions),v=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return x(I),I})(),k=await b(N),{maxPages:C}=t.options,A=j?JW:XW;return{pages:A(w.pages,k,C),pageParams:A(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?cV:I2,j={pages:i,pageParams:o},S=_(n,j);l=await v(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:I2(n,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,x;return(x=(p=t.options).persister)==null?void 0:x.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function I2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function cV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var zm,Ra,hn,Yl,Ma,oo,nM,uV=(nM=class extends F4{constructor(t){super();ze(this,Ma);ze(this,zm);ze(this,Ra);ze(this,hn);ze(this,Yl);ke(this,zm,t.client),this.mutationId=t.mutationId,ke(this,hn,t.mutationCache),ke(this,Ra,[]),this.state=t.state||q4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,Ra).includes(t)||(B(this,Ra).push(t),this.clearGcTimeout(),B(this,hn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,Ra,B(this,Ra).filter(r=>r!==t)),this.scheduleGc(),B(this,hn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,Ra).length||(this.state.status==="pending"?this.scheduleGc():B(this,hn).remove(this))}continue(){var t;return((t=B(this,Yl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,x,b,v,w,_,j,S,N;const r=()=>{st(this,Ma,oo).call(this,{type:"continue"})},n={client:B(this,zm),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Yl,L4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{st(this,Ma,oo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{st(this,Ma,oo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,hn).canRun(this)}));const s=this.state.status==="pending",i=!B(this,Yl).canStart();try{if(s)r();else{st(this,Ma,oo).call(this,{type:"pending",variables:t,isPaused:i}),B(this,hn).config.onMutate&&await B(this,hn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&st(this,Ma,oo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await B(this,Yl).start();return await((u=(c=B(this,hn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=B(this,hn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),st(this,Ma,oo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(x=B(this,hn).config).onError)==null?void 0:b.call(x,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(_=B(this,hn).config).onSettled)==null?void 0:j.call(_,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw st(this,Ma,oo).call(this,{type:"error",error:k}),k}finally{B(this,hn).runNext(this)}}},zm=new WeakMap,Ra=new WeakMap,hn=new WeakMap,Yl=new WeakMap,Ma=new WeakSet,oo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Fr.batch(()=>{B(this,Ra).forEach(n=>{n.onMutationUpdate(t)}),B(this,hn).notify({mutation:this,type:"updated",action:t})})},nM);function q4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pi,aa,Wm,sM,dV=(sM=class extends qd{constructor(t={}){super();ze(this,pi);ze(this,aa);ze(this,Wm);this.config=t,ke(this,pi,new Set),ke(this,aa,new Map),ke(this,Wm,0)}build(t,r,n){const s=new uV({client:t,mutationCache:this,mutationId:++yp(this,Wm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){B(this,pi).add(t);const r=Dp(t);if(typeof r=="string"){const n=B(this,aa).get(r);n?n.push(t):B(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(B(this,pi).delete(t)){const r=Dp(t);if(typeof r=="string"){const n=B(this,aa).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&B(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Dp(t);if(typeof r=="string"){const n=B(this,aa).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Dp(t);if(typeof r=="string"){const s=(n=B(this,aa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Fr.batch(()=>{B(this,pi).forEach(t=>{this.notify({type:"removed",mutation:t})}),B(this,pi).clear(),B(this,aa).clear()})}getAll(){return Array.from(B(this,pi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>E2(r,n))}findAll(t={}){return this.getAll().filter(r=>E2(t,r))}notify(t){Fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Fr.batch(()=>Promise.all(t.map(r=>r.continue().catch(Nn))))}},pi=new WeakMap,aa=new WeakMap,Wm=new WeakMap,sM);function Dp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var gi,Co,In,vi,Pi,Og,Rj,aM,fV=(aM=class extends qd{constructor(r,n){super();ze(this,Pi);ze(this,gi);ze(this,Co);ze(this,In);ze(this,vi);ke(this,gi,r),this.setOptions(n),this.bindMethods(),st(this,Pi,Og).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=B(this,gi).defaultMutationOptions(r),lv(this.options,n)||B(this,gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,In),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&oc(n.mutationKey)!==oc(this.options.mutationKey)?this.reset():((s=B(this,In))==null?void 0:s.state.status)==="pending"&&B(this,In).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=B(this,In))==null||r.removeObserver(this)}onMutationUpdate(r){st(this,Pi,Og).call(this),st(this,Pi,Rj).call(this,r)}getCurrentResult(){return B(this,Co)}reset(){var r;(r=B(this,In))==null||r.removeObserver(this),ke(this,In,void 0),st(this,Pi,Og).call(this),st(this,Pi,Rj).call(this)}mutate(r,n){var s;return ke(this,vi,n),(s=B(this,In))==null||s.removeObserver(this),ke(this,In,B(this,gi).getMutationCache().build(B(this,gi),this.options)),B(this,In).addObserver(this),B(this,In).execute(r)}},gi=new WeakMap,Co=new WeakMap,In=new WeakMap,vi=new WeakMap,Pi=new WeakSet,Og=function(){var n;const r=((n=B(this,In))==null?void 0:n.state)??q4();ke(this,Co,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Rj=function(r){Fr.batch(()=>{var n,s,i,o,l,c,u,d;if(B(this,vi)&&this.hasListeners()){const f=B(this,Co).variables,h=B(this,Co).context,m={client:B(this,gi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=B(this,vi)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=B(this,vi)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=B(this,vi)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=B(this,vi)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(B(this,Co))})})},aM),$a,iM,hV=(iM=class extends qd{constructor(t={}){super();ze(this,$a);this.config=t,ke(this,$a,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??DS(s,r);let o=this.get(i);return o||(o=new aV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){B(this,$a).has(t.queryHash)||(B(this,$a).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=B(this,$a).get(t.queryHash);r&&(t.destroy(),r===t&&B(this,$a).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,$a).get(t)}getAll(){return[...B(this,$a).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>C2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>C2(t,n)):r}notify(t){Fr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$a=new WeakMap,iM),pr,Eo,Po,qu,zu,Oo,Wu,Vu,oM,mV=(oM=class{constructor(e={}){ze(this,pr);ze(this,Eo);ze(this,Po);ze(this,qu);ze(this,zu);ze(this,Oo);ze(this,Wu);ze(this,Vu);ke(this,pr,e.queryCache||new hV),ke(this,Eo,e.mutationCache||new dV),ke(this,Po,e.defaultOptions||{}),ke(this,qu,new Map),ke(this,zu,new Map),ke(this,Oo,0)}mount(){yp(this,Oo)._++,B(this,Oo)===1&&(ke(this,Wu,US.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,pr).onFocus())})),ke(this,Vu,cv.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,pr).onOnline())})))}unmount(){var e,t;yp(this,Oo)._--,B(this,Oo)===0&&((e=B(this,Wu))==null||e.call(this),ke(this,Wu,void 0),(t=B(this,Vu))==null||t.call(this),ke(this,Vu,void 0))}isFetching(e){return B(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,Eo).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,pr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=B(this,pr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ko(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return B(this,pr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=B(this,pr).get(n.queryHash),i=s==null?void 0:s.state.data,o=GW(t,i);if(o!==void 0)return B(this,pr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Fr.batch(()=>B(this,pr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=B(this,pr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=B(this,pr);Fr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=B(this,pr);return Fr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Fr.batch(()=>B(this,pr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(Nn).catch(Nn)}invalidateQueries(e,t={}){return Fr.batch(()=>(B(this,pr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Fr.batch(()=>B(this,pr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(Nn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(Nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=B(this,pr).build(this,t);return r.isStaleByTime(Ko(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nn).catch(Nn)}fetchInfiniteQuery(e){return e.behavior=$2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nn).catch(Nn)}ensureInfiniteQueryData(e){return e.behavior=$2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return cv.isOnline()?B(this,Eo).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,pr)}getMutationCache(){return B(this,Eo)}getDefaultOptions(){return B(this,Po)}setDefaultOptions(e){ke(this,Po,e)}setQueryDefaults(e,t){B(this,qu).set(oc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,qu).values()],r={};return t.forEach(n=>{qh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){B(this,zu).set(oc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,zu).values()],r={};return t.forEach(n=>{qh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,Po).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=DS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===LS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,Po).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,pr).clear(),B(this,Eo).clear()}},pr=new WeakMap,Eo=new WeakMap,Po=new WeakMap,qu=new WeakMap,zu=new WeakMap,Oo=new WeakMap,Wu=new WeakMap,Vu=new WeakMap,oM),z4=y.createContext(void 0),ve=e=>{const t=y.useContext(z4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pV=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(z4.Provider,{value:e,children:t})),W4=y.createContext(!1),gV=()=>y.useContext(W4);W4.Provider;function vV(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var yV=y.createContext(vV()),xV=()=>y.useContext(yV),bV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?FS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},wV=e=>{y.useEffect(()=>{e.clearReset()},[e])},jV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||FS(r,[e.error,n])),_V=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},SV=(e,t)=>e.isLoading&&e.isFetching&&!t,NV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,D2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function kV(e,t,r){var h,m,g,p;const n=gV(),s=xV(),i=ve(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",_V(o),bV(o,s,l),wV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=y.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(y.useSyncExternalStore(y.useCallback(x=>{const b=f?u.subscribe(Fr.batchCalls(x)):Nn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),y.useEffect(()=>{u.setOptions(o)},[o,u]),NV(o,d))throw D2(o,u,s);if(jV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!ic&&SV(d,n)){const x=c?D2(o,u,s):l==null?void 0:l.promise;x==null||x.catch(Nn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Pe(e,t){return kV(e,iV)}function pe(e,t){const r=ve(),[n]=y.useState(()=>new fV(r,e));y.useEffect(()=>{n.setOptions(e)},[n,e]);const s=y.useSyncExternalStore(y.useCallback(o=>n.subscribe(Fr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=y.useCallback((o,l)=>{n.mutate(o,l).catch(Nn)},[n]);if(s.error&&FS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var CV=e=>{switch(e){case"success":return OV;case"info":return TV;case"warning":return AV;case"error":return RV;default:return null}},EV=Array(12).fill(0),PV=({visible:e,className:t})=>O.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},O.createElement("div",{className:"sonner-spinner"},EV.map((r,n)=>O.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),OV=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),AV=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),TV=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),RV=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},O.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),MV=O.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},O.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),O.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$V=()=>{let[e,t]=O.useState(document.hidden);return O.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Mj=1,IV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Mj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],O.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(LV(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Mj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Dn=new IV,DV=(e,t)=>{let r=(t==null?void 0:t.id)||Mj++;return Dn.addToast({title:e,...t,id:r}),r},LV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FV=DV,UV=()=>Dn.toasts,BV=()=>Dn.getActiveToasts(),V=Object.assign(FV,{success:Dn.success,info:Dn.info,warning:Dn.warning,error:Dn.error,custom:Dn.custom,message:Dn.message,promise:Dn.promise,dismiss:Dn.dismiss,loading:Dn.loading},{getHistory:UV,getToasts:BV});function qV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}qV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Lp(e){return e.label!==void 0}var zV=3,WV="32px",VV="16px",L2=4e3,KV=356,HV=14,GV=20,YV=200;function Xs(...e){return e.filter(Boolean).join(" ")}function QV(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var XV=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:x,visibleToasts:b,heights:v,index:w,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:A,actionButtonStyle:I,className:P="",descriptionClassName:q="",duration:T,position:W,gap:L,loadingIcon:K,expandByDefault:D,classNames:M,icons:R,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:$}=e,[ie,he]=O.useState(null),[We,Ve]=O.useState(null),[ue,qe]=O.useState(!1),[ae,we]=O.useState(!1),[G,Q]=O.useState(!1),[Xe,Ke]=O.useState(!1),[xt,ot]=O.useState(!1),[zt,jr]=O.useState(0),[un,vs]=O.useState(0),F=O.useRef(m.duration||T||L2),H=O.useRef(null),U=O.useRef(null),le=w===0,de=w+1<=b,ne=m.type,_e=m.dismissible!==!1,Ot=m.className||"",At=m.descriptionClassName||"",_r=O.useMemo(()=>v.findIndex(tt=>tt.toastId===m.id)||0,[v,m.id]),ii=O.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:k},[m.closeButton,k]),Ks=O.useMemo(()=>m.duration||T||L2,[m.duration,T]),mf=O.useRef(0),Pa=O.useRef(0),Ic=O.useRef(0),Zi=O.useRef(null),[vp,Mb]=W.split("-"),pf=O.useMemo(()=>v.reduce((tt,Ft,sr)=>sr>=_r?tt:tt+Ft.height,0),[v,_r]),lC=$V(),cq=m.invert||h,$b=ne==="loading";Pa.current=O.useMemo(()=>_r*L+pf,[_r,pf]),O.useEffect(()=>{F.current=Ks},[Ks]),O.useEffect(()=>{qe(!0)},[]),O.useEffect(()=>{let tt=U.current;if(tt){let Ft=tt.getBoundingClientRect().height;return vs(Ft),x(sr=>[{toastId:m.id,height:Ft,position:m.position},...sr]),()=>x(sr=>sr.filter(Hs=>Hs.toastId!==m.id))}},[x,m.id]),O.useLayoutEffect(()=>{if(!ue)return;let tt=U.current,Ft=tt.style.height;tt.style.height="auto";let sr=tt.getBoundingClientRect().height;tt.style.height=Ft,vs(sr),x(Hs=>Hs.find(Gs=>Gs.toastId===m.id)?Hs.map(Gs=>Gs.toastId===m.id?{...Gs,height:sr}:Gs):[{toastId:m.id,height:sr,position:m.position},...Hs])},[ue,m.title,m.description,x,m.id]);let eo=O.useCallback(()=>{we(!0),jr(Pa.current),x(tt=>tt.filter(Ft=>Ft.toastId!==m.id)),setTimeout(()=>{S(m)},YV)},[m,S,x,Pa]);O.useEffect(()=>{if(m.promise&&ne==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return j||p||$&&lC?(()=>{if(Ic.current<mf.current){let Ft=new Date().getTime()-mf.current;F.current=F.current-Ft}Ic.current=new Date().getTime()})():F.current!==1/0&&(mf.current=new Date().getTime(),tt=setTimeout(()=>{var Ft;(Ft=m.onAutoClose)==null||Ft.call(m,m),eo()},F.current)),()=>clearTimeout(tt)},[j,p,m,ne,$,lC,eo]),O.useEffect(()=>{m.delete&&eo()},[eo,m.delete]);function uq(){var tt,Ft,sr;return R!=null&&R.loading?O.createElement("div",{className:Xs(M==null?void 0:M.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":ne==="loading"},R.loading):K?O.createElement("div",{className:Xs(M==null?void 0:M.loader,(Ft=m==null?void 0:m.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":ne==="loading"},K):O.createElement(PV,{className:Xs(M==null?void 0:M.loader,(sr=m==null?void 0:m.classNames)==null?void 0:sr.loader),visible:ne==="loading"})}return O.createElement("li",{tabIndex:0,ref:U,className:Xs(P,Ot,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[ne],(r=m==null?void 0:m.classNames)==null?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":ue,"data-promise":!!m.promise,"data-swiped":xt,"data-removed":ae,"data-visible":de,"data-y-position":vp,"data-x-position":Mb,"data-index":w,"data-front":le,"data-swiping":G,"data-dismissible":_e,"data-type":ne,"data-invert":cq,"data-swipe-out":Xe,"data-swipe-direction":We,"data-expanded":!!(j||D&&ue),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ae?zt:Pa.current}px`,"--initial-height":D?"auto":`${un}px`,...C,...m.style},onDragEnd:()=>{Q(!1),he(null),Zi.current=null},onPointerDown:tt=>{$b||!_e||(H.current=new Date,jr(Pa.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Q(!0),Zi.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Ft,sr,Hs;if(Xe||!_e)return;Zi.current=null;let Gs=Number(((tt=U.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),to=Number(((Ft=U.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gl=new Date().getTime()-((sr=H.current)==null?void 0:sr.getTime()),Ys=ie==="x"?Gs:to,ro=Math.abs(Ys)/gl;if(Math.abs(Ys)>=GV||ro>.11){jr(Pa.current),(Hs=m.onDismiss)==null||Hs.call(m,m),Ve(ie==="x"?Gs>0?"right":"left":to>0?"down":"up"),eo(),Ke(!0),ot(!1);return}Q(!1),he(null)},onPointerMove:tt=>{var Ft,sr,Hs,Gs;if(!Zi.current||!_e||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let to=tt.clientY-Zi.current.y,gl=tt.clientX-Zi.current.x,Ys=(sr=e.swipeDirections)!=null?sr:QV(W);!ie&&(Math.abs(gl)>1||Math.abs(to)>1)&&he(Math.abs(gl)>Math.abs(to)?"x":"y");let ro={x:0,y:0};ie==="y"?(Ys.includes("top")||Ys.includes("bottom"))&&(Ys.includes("top")&&to<0||Ys.includes("bottom")&&to>0)&&(ro.y=to):ie==="x"&&(Ys.includes("left")||Ys.includes("right"))&&(Ys.includes("left")&&gl<0||Ys.includes("right")&&gl>0)&&(ro.x=gl),(Math.abs(ro.x)>0||Math.abs(ro.y)>0)&&ot(!0),(Hs=U.current)==null||Hs.style.setProperty("--swipe-amount-x",`${ro.x}px`),(Gs=U.current)==null||Gs.style.setProperty("--swipe-amount-y",`${ro.y}px`)}},ii&&!m.jsx?O.createElement("button",{"aria-label":ee,"data-disabled":$b,"data-close-button":!0,onClick:$b||!_e?()=>{}:()=>{var tt;eo(),(tt=m.onDismiss)==null||tt.call(m,m)},className:Xs(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=R==null?void 0:R.close)!=null?i:MV):null,m.jsx||y.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:O.createElement(O.Fragment,null,ne||m.icon||m.promise?O.createElement("div",{"data-icon":"",className:Xs(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||uq():null,m.type!=="loading"?m.icon||(R==null?void 0:R[ne])||CV(ne):null):null,O.createElement("div",{"data-content":"",className:Xs(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},O.createElement("div",{"data-title":"",className:Xs(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?O.createElement("div",{"data-description":"",className:Xs(q,At,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),y.isValidElement(m.cancel)?m.cancel:m.cancel&&Lp(m.cancel)?O.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:tt=>{var Ft,sr;Lp(m.cancel)&&_e&&((sr=(Ft=m.cancel).onClick)==null||sr.call(Ft,tt),eo())},className:Xs(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,y.isValidElement(m.action)?m.action:m.action&&Lp(m.action)?O.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:tt=>{var Ft,sr;Lp(m.action)&&((sr=(Ft=m.action).onClick)==null||sr.call(Ft,tt),!tt.defaultPrevented&&eo())},className:Xs(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function F2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JV(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?VV:WV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var ZV=y.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=zV,toastOptions:p,dir:x=F2(),gap:b=HV,loadingIcon:v,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=O.useState([]),k=O.useMemo(()=>Array.from(new Set([n].concat(S.filter($=>$.position).map($=>$.position)))),[S,n]),[C,A]=O.useState([]),[I,P]=O.useState(!1),[q,T]=O.useState(!1),[W,L]=O.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=O.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=O.useRef(null),R=O.useRef(!1),ee=O.useCallback($=>{N(ie=>{var he;return(he=ie.find(We=>We.id===$.id))!=null&&he.delete||Dn.dismiss($.id),ie.filter(({id:We})=>We!==$.id)})},[]);return O.useEffect(()=>Dn.subscribe($=>{if($.dismiss){N(ie=>ie.map(he=>he.id===$.id?{...he,delete:!0}:he));return}setTimeout(()=>{b4.flushSync(()=>{N(ie=>{let he=ie.findIndex(We=>We.id===$.id);return he!==-1?[...ie.slice(0,he),{...ie[he],...$},...ie.slice(he+1)]:[$,...ie]})})})}),[]),O.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let $=window.matchMedia("(prefers-color-scheme: dark)");try{$.addEventListener("change",({matches:ie})=>{L(ie?"dark":"light")})}catch{$.addListener(({matches:he})=>{try{L(he?"dark":"light")}catch(We){console.error(We)}})}},[d]),O.useEffect(()=>{S.length<=1&&P(!1)},[S]),O.useEffect(()=>{let $=ie=>{var he,We;s.every(Ve=>ie[Ve]||ie.code===Ve)&&(P(!0),(he=K.current)==null||he.focus()),ie.code==="Escape"&&(document.activeElement===K.current||(We=K.current)!=null&&We.contains(document.activeElement))&&P(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[s]),O.useEffect(()=>{if(K.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,R.current=!1)}},[K.current]),O.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map(($,ie)=>{var he;let[We,Ve]=$.split("-");return S.length?O.createElement("ol",{key:$,dir:x==="auto"?F2():x,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":W,"data-y-position":We,"data-lifted":I&&S.length>1&&!i,"data-x-position":Ve,style:{"--front-toast-height":`${((he=C[0])==null?void 0:he.height)||0}px`,"--width":`${KV}px`,"--gap":`${b}px`,...m,...JV(c,u)},onBlur:ue=>{R.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(R.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||R.current||(R.current=!0,M.current=ue.relatedTarget)},onMouseEnter:()=>P(!0),onMouseMove:()=>P(!0),onMouseLeave:()=>{q||P(!1)},onDragEnd:()=>P(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter(ue=>!ue.position&&ie===0||ue.position===$).map((ue,qe)=>{var ae,we;return O.createElement(XV,{key:ue.id,icons:w,index:qe,toast:ue,defaultRichColors:f,duration:(ae=p==null?void 0:p.duration)!=null?ae:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(we=p==null?void 0:p.closeButton)!=null?we:o,interacting:q,position:$,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:S.filter(G=>G.position==ue.position),heights:C.filter(G=>G.position==ue.position),setHeights:A,expandByDefault:i,gap:b,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Da=function(){return Da=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Da.apply(this,arguments)};function zd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function e9(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function t9(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const r9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class qS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class n9 extends qS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class U2 extends qS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class B2 extends qS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var $j;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})($j||($j={}));class s9{constructor(t,{headers:r={},customFetch:n,region:s=$j.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=r9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return e9(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let x=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(x=o.signal,d.addEventListener("abort",()=>o.abort())):x=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:x}).catch(j=>{throw new n9(j)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new U2(b);if(!b.ok)throw new B2(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof B2||l instanceof U2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var a9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},i9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&x&&x.length>1&&(c=parseInt(x[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new a9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},o9=class extends i9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const q2=new RegExp("[,()]");var Zc=class extends o9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&q2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&q2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},l9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Zc({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new Zc({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new Zc({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Zc({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Zc({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},c9=class V4{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new l9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new V4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new Zc({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class u9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const d9="2.93.3",f9=`realtime-js/${d9}`,h9="1.0.0",K4="2.0.0",z2=K4,Ij=1e4,m9=1e3,p9=100;var ho;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ho||(ho={}));var Dr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dr||(Dr={}));var oa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oa||(oa={}));var Dj;(function(e){e.websocket="websocket"})(Dj||(Dj={}));var Cl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Cl||(Cl={}));class g9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var x=new Uint8Array(m.byteLength+n.byteLength);return x.set(new Uint8Array(m),0),x.set(new Uint8Array(n),m.byteLength),x.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class H4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ht||(Ht={}));const W2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=v9(o,e,t,s),i),{}):{}},v9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?G4(i,o):Lj(o)},G4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return w9(t,r)}switch(e){case Ht.bool:return y9(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return x9(t);case Ht.json:case Ht.jsonb:return b9(t);case Ht.timestamp:return j9(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Lj(t);default:return Lj(t)}},Lj=e=>e,y9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},x9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},b9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},w9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>G4(t,l))}return e},j9=e=>typeof e=="string"?e.replace(" ","T"):e,Y4=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class uw{constructor(t,r,n={},s=Ij){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var V2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(V2||(V2={}));class fh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=fh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=fh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=fh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(x=>x.presence_ref),m=f.map(x=>x.presence_ref),g=d.filter(x=>m.indexOf(x.presence_ref)<0),p=f.filter(x=>h.indexOf(x.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K2;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(K2||(K2={}));var hh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(hh||(hh={}));var fi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fi||(fi={}));class gu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new uw(this,oa.join,this.params,this.timeout),this.rejoinTimer=new H4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Dr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new fh(this),this.broadcastEndpointURL=Y4(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Dr.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[hh.PRESENCE]&&this.bindings[hh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(fi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(fi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(fi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,x=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<x;v++){const w=p[v],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=m&&m[v];if(k&&k.event===_&&gu.isFilterValueEqual(k.schema,j)&&gu.isFilterValueEqual(k.table,S)&&gu.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Dr.errored,t==null||t(fi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(fi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Dr.errored,t==null||t(fi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Dr.joined&&t===hh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new uw(this,oa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Dr.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new uw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,x;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((x=(p=m.filter)===null||p===void 0?void 0:p.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,x,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:x,commit_timestamp:b,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:x,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Dr.closed}_isJoined(){return this.state===Dr.joined}_isJoining(){return this.state===Dr.joining}_isLeaving(){return this.state===Dr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&gu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oa.close,{},t)}_onError(t){this._on(oa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=W2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=W2(t.columns,t.old_record)),r}}const dw=()=>{},Fp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_9=[1e3,2e3,5e3,1e4],S9=1e4,N9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class k9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ij,this.transport=null,this.heartbeatIntervalMs=Fp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=dw,this.ref=0,this.reconnectTimer=null,this.vsn=z2,this.logger=dw,this.conn=null,this.sendBuffer=[],this.serializer=new g9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dj.websocket}`,this.httpEndpoint=Y4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ho.connecting:return Cl.Connecting;case ho.open:return Cl.Open;case ho.closing:return Cl.Closing;default:return Cl.Closed}}isConnected(){return this.connectionState()===Cl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new gu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Fp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ho.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ho.open||this.conn.readyState===ho.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(oa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([N9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:f9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(oa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new H4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Fp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ij,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Fp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:dw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:z2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>_9[g-1]||S9,this.vsn){case h9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case K4:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var zh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function C9(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function E9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function P9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=C9(e.baseUrl,n,s),c=await E9(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new zh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Up(e){return e.join("")}var O9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Up(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Up(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Up(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Up(e.namespace)}`}),!0}catch(t){if(t instanceof zh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof zh&&r.status===409)return;throw r}}};function Lc(e){return e.join("")}var A9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof zh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof zh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},T9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=P9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new O9(this.client,t),this.tableOps=new A9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ix=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ox(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Bp=class extends ix{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Q4=class extends ix{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const R9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),M9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fj=e=>{if(Array.isArray(e))return e.map(r=>Fj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Fj(n)}),t},$9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function I9(e,t){if(Wh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D9(e){var t=I9(e,"string");return Wh(t)=="symbol"?t:t+""}function L9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H2(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const G2=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},F9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Bp(G2(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Bp(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new Q4(G2(e),e,n))},U9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(M9(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function Sf(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,U9(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>F9(u,c,n,o))})}function X4(e="storage"){return{get:async(t,r,n,s)=>Sf(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Sf(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Sf(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Sf(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Sf(t,"DELETE",r,s,i,n,e)}}const B9=X4("storage"),{get:Vh,post:na,put:Uj,head:q9,remove:zS}=B9,ns=X4("vectors");var Wd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=R9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ox(r))return{data:null,error:r};throw r}}},z9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ox(t))return{data:null,error:t};throw t}}};let J4;J4=Symbol.toStringTag;var W9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[J4]="BlobDownloadBuilder",this.promise=null}asStream(){return new z9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ox(t))return{data:null,error:t};throw t}}};const V9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Y2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var K9=class extends Wd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},Y2),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Uj:na)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:Y2.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Uj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await na(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new ix("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await na(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await na(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await na(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await na(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Vh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new W9(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Fj(await Vh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await q9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ox(n)&&n instanceof Q4){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await zS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},V9),t),{},{prefix:e||""});return await na(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await na(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const H9="2.93.3",Qm={"X-Client-Info":`storage-js/${H9}`};var G9=class extends Wd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},Qm),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Vh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Vh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await na(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Uj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await na(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Y9=class extends Wd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Qm),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await na(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Vh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await zS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!$9(e))throw new ix("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new T9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},Q9=class extends Wd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Qm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ns.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ns.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},X9=class extends Wd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Qm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},J9=class extends Wd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},Qm),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ns.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Z9=class extends J9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new eK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},eK=class extends Q9{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new tK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},tK=class extends X9{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},rK=class extends G9{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new K9(this.url,this.headers,e,this.fetch)}get vectors(){return new Z9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Y9(this.url+"/iceberg",this.headers,this.fetch)}};const Z4="2.93.3",eu=30*1e3,Bj=3,fw=Bj*eu,nK="http://localhost:9999",sK="supabase.auth.token",aK={"X-Client-Info":`gotrue-js/${Z4}`},qj="X-Supabase-Api-Version",eI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,oK=10*60*1e3;class Kh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lK extends Kh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function cK(e){return Be(e)&&e.name==="AuthApiError"}class El extends Kh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vi extends Kh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Jn extends Vi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hw(e){return Be(e)&&e.name==="AuthSessionMissingError"}class Fc extends Vi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qp extends Vi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zp extends Vi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uK(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class Q2 extends Vi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dK extends Vi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class zj extends Vi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function mw(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class X2 extends Vi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wj extends Vi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const uv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J2=` 	
\r=`.split(""),fK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<J2.length;t+=1)e[J2[t].charCodeAt(0)]=-2;for(let t=0;t<uv.length;t+=1)e[uv[t].charCodeAt(0)]=t;return e})();function Z2(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(uv[n]),t.queuedBits-=6}}function tI(e,t,r){const n=fK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{pK(o,n,r)};for(let o=0;o<e.length;o+=1)tI(e.charCodeAt(o),s,i);return t.join("")}function hK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function mK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}hK(n,t)}}function pK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function ku(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)tI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function gK(e){const t=[];return mK(e,r=>t.push(r)),new Uint8Array(t)}function Ml(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Z2(s,r,n)),Z2(null,r,n),t.join("")}function vK(e){return Math.round(Date.now()/1e3)+e}function yK(){return Symbol("auth-callback")}const tn=()=>typeof window<"u"&&typeof document<"u",vl={tested:!1,writable:!1},rI=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(vl.tested)return vl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),vl.tested=!0,vl.writable=!0}catch{vl.tested=!0,vl.writable=!1}return vl.writable};function xK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const nI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),bK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tu=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},yl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},en=async(e,t)=>{await e.removeItem(t)};class lx{constructor(){this.promise=new lx.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}lx.promiseConstructor=Promise;function Wp(e){const t=e.split(".");if(t.length!==3)throw new Wj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!iK.test(t[n]))throw new Wj("JWT not in base64url format");return{header:JSON.parse(eE(t[0])),payload:JSON.parse(eE(t[1])),signature:ku(t[2]),raw:{header:t[0],payload:t[1]}}}async function wK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function _K(e){return("0"+e.toString(16)).substr(-2)}function SK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_K).join("")}async function NK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function kK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await NK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uc(e,t,r=!1){const n=SK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await tu(e,`${t}-code-verifier`,s);const i=await kK(n);return[i,n===i?"plain":"s256"]}const CK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function EK(e){const t=e.headers.get(qj);if(!t||!t.match(CK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function PK(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function OK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Bc(e){if(!AK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function TK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function tE(e){return JSON.parse(JSON.stringify(e))}const jl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),RK=[502,503,504];async function rE(e){var t;if(!bK(e))throw new zj(jl(e),0);if(RK.includes(e.status))throw new zj(jl(e),e.status);let r;try{r=await e.json()}catch(i){throw new El(jl(i),i)}let n;const s=EK(e);if(s&&s.getTime()>=eI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new X2(jl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new X2(jl(r),e.status,r.weak_password.reasons);throw new lK(jl(r),e.status||500,n)}const MK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[qj]||(i[qj]=eI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await $K(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function $K(e,t,r,n,s,i){const o=MK(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new zj(jl(c),0)}if(l.ok||await rE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rE(c)}}function ea(e){var t;let r=null;LK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=vK(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nE(e){const t=ea(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function yo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function IK(e){return{data:e,error:null}}function DK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=zd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function sE(e){return e}function LK(e){return e.access_token&&e.refresh_token&&e.expires_in}const gw=["global","local","others"];class FK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=nI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=gw[0]){if(gw.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gw.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:yo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=zd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:DK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:yo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Bc(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:yo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Bc(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:yo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Bc(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:yo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Bc(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Bc(t.userId),Bc(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:sE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(g.split(";")[1].split("=")[1]);u[`${x}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function aE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const qc={debug:!!(globalThis&&rI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class sI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class UK extends sI{}async function BK(e,t,r){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),qc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw qc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new UK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(qc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function zK(e){return parseInt(e,16)}function WK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function VK(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=aI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",x=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${x}
${b}`}class kr extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class dv extends kr{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function KK({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new kr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new kr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new kr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new kr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new kr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new kr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(iI(o)){if(i.rp.id!==o)return new kr({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new kr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function HK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new kr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new kr({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(iI(n)){if(r.rpId!==n)return new kr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new kr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new kr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new kr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class GK{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const YK=new GK;function QK(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=zd(e,["challenge","user","excludeCredentials"]),i=ku(t).buffer,o=Object.assign(Object.assign({},r),{id:ku(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:ku(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function XK(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=zd(e,["challenge","allowCredentials"]),s=ku(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ku(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function JK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Ml(new Uint8Array(e.response.attestationObject)),clientDataJSON:Ml(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function ZK(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Ml(new Uint8Array(s.authenticatorData)),clientDataJSON:Ml(new Uint8Array(s.clientDataJSON)),signature:Ml(new Uint8Array(s.signature)),userHandle:s.userHandle?Ml(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function iE(){var e,t;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function eH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dv("Browser returned unexpected credential type",t)}:{data:null,error:new dv("Empty credential response",t)}}catch(t){return{data:null,error:KK({error:t,options:e})}}}async function tH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new dv("Browser returned unexpected credential type",t)}:{data:null,error:new dv("Empty credential response",t)}}catch(t){return{data:null,error:HK({error:t,options:e})}}}const rH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},nH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function fv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=fv(l,o):n[i]=fv(o)}else n[i]=o}return n}function sH(e,t){return fv(rH,e,t||{})}function aH(e,t){return fv(nH,e,t||{})}class iH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??YK.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=sH(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await eH({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=aH(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await tH(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new El("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kh("rpId is required for WebAuthn authentication")};try{if(!iE())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Kh("rpId is required for WebAuthn registration")};try{if(!iE())return{data:null,error:new El("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new El("Unexpected error in register",o)}}}}qK();const oH={url:nK,storageKey:sK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function oE(e,t,r){return await r()}const zc={};class Hh{get jwks(){var t,r;return(r=(t=zc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){zc[this.storageKey]=Object.assign(Object.assign({},zc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=zc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){zc[this.storageKey]=Object.assign(Object.assign({},zc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},oH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Hh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Hh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&tn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new FK({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=nI(i.fetch),this.lock=i.lock||oE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&tn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=BK:this.lock=oE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:rI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=aE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=aE(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Z4}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(tn()&&(r=xK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new El("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ea}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Uc(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:ea})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ea})}else throw new qp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await en(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nE})}else throw new qp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Fc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:x,statement:b,options:v}=t;let w;if(tn())if(typeof x=="object")w=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=x}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=aI(j[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=zK(C)}const k={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=VK(k),g=await w.request({method:"personal_sign",params:[WK(m),S]})}try{const{data:p,error:x}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ea});if(x)throw x;if(!p||!p.session||!p.user){const b=new Fc;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:x})}catch(p){if(Be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:x,wallet:b,statement:v,options:w}=t;let _;if(tn())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:x,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Ml(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ea});if(b)throw b;if(!x||!x.session||!x.user){const v=new Fc;return this._returnResult({data:{user:null,session:null},error:v})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:b})}catch(x){if(Be(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new dK;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ea});if(await en(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Fc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ea}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Fc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Uc(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new qp("You must provide either an email or phone number.")}catch(l){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ea});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Uc(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:IK});return!((i=u.data)===null||i===void 0)&&i.url&&tn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jn;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new qp("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await yl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<fw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await yl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=pw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=TK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:yo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jn}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:yo})})}catch(r){if(Be(r))return hw(r)&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Jn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Uc(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:yo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Wp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!tn())throw new zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Q2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Q2("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new zp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=eu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:x}=await this._getUser(i);if(x)throw x;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await yl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!hw(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(cK(l)&&(l.status===404||l.status===401||l.status===403)||hw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await en(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=yK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Uc(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return tn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ea}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new Fc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await en(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await jK(async s=>(s>0&&await wK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ea})),(s,i)=>{const o=200*Math.pow(2,s);return i&&mw(i)&&Date.now()+o-n<eu})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await yl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await yl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await tu(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:pw()}else if(s&&!s.user&&!s.user){const o=await yl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await en(this.storage,this.storageKey+"-user"),await tu(this.storage,this.storageKey,s)):s.user=pw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<fw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${fw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),mw(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new lx;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return mw(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await en(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await tu(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=tE(s);await tu(this.storage,this.storageKey,i)}else{const s=tE(r);await tu(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await en(this.storage,this.storageKey),await en(this.storage,this.storageKey+"-code-verifier"),await en(this.storage,this.storageKey+"-user"),this.userStorage&&await en(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),eu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/eu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${eu}ms, refresh threshold is ${Bj} ticks`),s<=Bj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof sI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Uc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?JK(t.webauthn.credential_response):ZK(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:QK(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:XK(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Wp(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:x},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=x==null?void 0:x.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(Be(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Wp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Jn})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Jn});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Jn});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Jn})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Jn})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+oK>s)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Wp(n);r!=null&&r.allowExpired||PK(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=OK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,gK(`${l}.${c}`)))throw new Wj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}Hh.nextInstanceID={};const lH=Hh,cH="2.93.3";let Qf="";typeof Deno<"u"?Qf="deno":typeof document<"u"?Qf="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qf="react-native":Qf="node";const uH={"X-Client-Info":`supabase-js-${Qf}/${cH}`},dH={headers:uH},fH={schema:"public"},hH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mH={};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function pH(e,t){if(Gh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gH(e){var t=pH(e,"string");return Gh(t)=="symbol"?t:t+""}function vH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lE(Object(r),!0).forEach(function(n){vH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const yH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),xH=()=>Headers,bH=(e,t,r)=>{const n=yH(r),s=xH();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,gr(gr({},o),{},{headers:u}))}};function wH(e){return e.endsWith("/")?e:e+"/"}function jH(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:gr(gr({},c),s),auth:gr(gr({},u),i),realtime:gr(gr({},d),o),storage:{},global:gr(gr(gr({},f),l),{},{headers:gr(gr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function _H(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(wH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var SH=class extends lH{constructor(e){super(e)}},NH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=_H(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:fH,realtime:mH,auth:gr(gr({},hH),{},{storageKey:o}),global:dH},c=jH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=bH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new c9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new rK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new s9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new SH({url:this.authUrl.href,headers:gr(gr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new k9(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const kH=(e,t,r)=>new NH(e,t,r);function CH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}CH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EH="https://prqmzdstrfmahymkekef.supabase.co",PH="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",z=kH(EH,PH);async function OH(e,t){const{error:r}=await z.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function AH(){const{error:e}=await z.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function TH(){const{data:{session:e}}=await z.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function RH(e){const{data:{subscription:t}}=z.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function MH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await z.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function $H(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await z.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function IH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await z.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function DH(e){const{error:t}=await z.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function LH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function FH(){const{data:{user:e}}=await z.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await z.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function cE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await z.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function UH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function BH(){const{data:{user:e}}=await z.auth.getUser();return e?!!e.email_confirmed_at:!1}const oI=y.createContext(null);function qH({children:e}){const[t,r]=y.useState({user:null,session:null,isLoading:!0});y.useEffect(()=>{let i=!1;TH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=RH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=y.useCallback(async()=>{await AH(),r({user:null,session:null,isLoading:!1})},[]),s=y.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(oI.Provider,{value:s,children:e})}function cx(){const e=y.useContext(oI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function zH(){const{user:e,isLoading:t}=cx(),r=ei();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(EW,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(O4,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...VH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:lI("lucide",s),...l},[...o.map(([u,d])=>y.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=y.forwardRef(({className:n,...s},i)=>y.createElement(KH,{ref:i,iconNode:t,className:lI(`lucide-${WH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ed=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HH=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=oe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=oe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=oe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jr=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hI=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=oe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=oe("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=oe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=oe("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=oe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=oe("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=oe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=oe("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zm=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=oe("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=oe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=oe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=oe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=oe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mE=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vw=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=oe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=oe("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function CI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=CI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=CI(e))&&(n&&(n+=" "),n+=t);return n}const eN="-",y7=e=>{const t=b7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(eN);return l[0]===""&&l.length!==1&&l.shift(),EI(l,t)||x7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},EI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?EI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(eN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},pE=/^\[(.+)\]$/,x7=e=>{if(pE.test(e)){const t=pE.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},b7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return j7(Object.entries(e.classGroups),r).forEach(([i,o])=>{Vj(o,n,i,t)}),n},Vj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:gE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(w7(s)){Vj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Vj(o,gE(t,i),r,n)})})},gE=(e,t)=>{let r=e;return t.split(eN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},w7=e=>e.isThemeGetter,j7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,_7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},PI="!",S7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let x=0;x<l.length;x++){let b=l[x];if(u===0){if(b===s&&(n||l.slice(x,x+i)===t)){c.push(l.slice(d,x)),d=x+i;continue}if(b==="/"){f=x;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith(PI),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},N7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},k7=e=>({cache:_7(e.cacheSize),parseClassName:S7(e),...y7(e)}),C7=/\s+/,E7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(C7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const x=N7(d).join(":"),b=f?x+PI:x,v=b+p;if(i.includes(v))continue;i.push(v);const w=s(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function P7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=OI(t))&&(n&&(n+=" "),n+=r);return n}const OI=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=OI(e[n]))&&(r&&(r+=" "),r+=t);return r};function O7(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=k7(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=E7(c,r);return s(c,d),d}return function(){return i(P7.apply(null,arguments))}}const Xt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},AI=/^\[(?:([a-z-]+):)?(.+)\]$/i,A7=/^\d+\/\d+$/,T7=new Set(["px","full","screen"]),R7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,I7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,D7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,oi=e=>Cu(e)||T7.has(e)||A7.test(e),so=e=>Hd(e,"length",V7),Cu=e=>!!e&&!Number.isNaN(Number(e)),yw=e=>Hd(e,"number",Cu),Nf=e=>!!e&&Number.isInteger(Number(e)),L7=e=>e.endsWith("%")&&Cu(e.slice(0,-1)),rt=e=>AI.test(e),ao=e=>R7.test(e),F7=new Set(["length","size","percentage"]),U7=e=>Hd(e,F7,TI),B7=e=>Hd(e,"position",TI),q7=new Set(["image","url"]),z7=e=>Hd(e,q7,H7),W7=e=>Hd(e,"",K7),kf=()=>!0,Hd=(e,t,r)=>{const n=AI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},V7=e=>M7.test(e)&&!$7.test(e),TI=()=>!1,K7=e=>I7.test(e),H7=e=>D7.test(e),G7=()=>{const e=Xt("colors"),t=Xt("spacing"),r=Xt("blur"),n=Xt("brightness"),s=Xt("borderColor"),i=Xt("borderRadius"),o=Xt("borderSpacing"),l=Xt("borderWidth"),c=Xt("contrast"),u=Xt("grayscale"),d=Xt("hueRotate"),f=Xt("invert"),h=Xt("gap"),m=Xt("gradientColorStops"),g=Xt("gradientColorStopPositions"),p=Xt("inset"),x=Xt("margin"),b=Xt("opacity"),v=Xt("padding"),w=Xt("saturate"),_=Xt("scale"),j=Xt("sepia"),S=Xt("skew"),N=Xt("space"),k=Xt("translate"),C=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],P=()=>[rt,t],q=()=>["",oi,so],T=()=>["auto",Cu,rt],W=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",rt],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Cu,rt];return{cacheSize:500,separator:":",theme:{colors:[kf],spacing:[oi,so],blur:["none","",ao,rt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",ao,rt],borderSpacing:P(),borderWidth:q(),contrast:ee(),grayscale:M(),hueRotate:ee(),invert:M(),gap:P(),gradientColorStops:[e],gradientColorStopPositions:[L7,so],inset:I(),margin:I(),opacity:ee(),padding:P(),saturate:ee(),scale:ee(),sepia:M(),skew:ee(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[ao]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...W(),rt]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Nf,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Nf,rt]}],"grid-cols":[{"grid-cols":[kf]}],"col-start-end":[{col:["auto",{span:["full",Nf,rt]},rt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[kf]}],"row-start-end":[{row:["auto",{span:[Nf,rt]},rt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[ao]},ao]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ao,so]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",yw]}],"font-family":[{font:[kf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Cu,yw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",oi,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",oi,so]}],"underline-offset":[{"underline-offset":["auto",oi,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...W(),B7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",U7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},z7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[oi,rt]}],"outline-w":[{outline:[oi,so]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[oi,so]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ao,W7]}],"shadow-color":[{shadow:[kf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ao,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Nf,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[oi,so,yw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Y7=O7(G7);function Z(...e){return Y7(jt(e))}function Q7({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:Z("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(xn,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Ee(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function vE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Hi(...e){return t=>{let r=!1;const n=e.map(s=>{const i=vE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():vE(e[s],null)}}}}function pt(...e){return y.useCallback(Hi(...e),e)}function X7(e,t){const r=y.createContext(t),n=i=>{const{children:o,...l}=i,c=y.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=y.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Us(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,J7(s,...t)]}function J7(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var wr=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},Z7=By[" useId ".trim().toString()]||(()=>{}),eG=0;function Ts(e){const[t,r]=y.useState(Z7());return wr(()=>{r(n=>n??String(eG++))},[e]),t?`radix-${t}`:""}var tG=By[" useInsertionEffect ".trim().toString()]||wr;function Qa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=rG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=y.useRef(e!==void 0);y.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=y.useCallback(d=>{var f;if(l){const h=nG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function rG({defaultProp:e,onChange:t}){const[r,n]=y.useState(e),s=y.useRef(r),i=y.useRef(t);return tG(()=>{i.current=t},[t]),y.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function nG(e){return typeof e=="function"}function sG(e){const t=aG(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(oG);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function aG(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=cG(s),l=lG(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iG=Symbol("radix.slottable");function oG(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iG}function lG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function cG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var uG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=uG.reduce((e,t)=>{const r=sG(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function RI(e,t){e&&Fd.flushSync(()=>e.dispatchEvent(t))}function Qr(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function dG(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e);y.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var fG="DismissableLayer",Kj="dismissableLayer.update",hG="dismissableLayer.pointerDownOutside",mG="dismissableLayer.focusOutside",yE,MI=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),px=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=y.useContext(MI),[d,f]=y.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=y.useState({}),g=pt(t,N=>f(N)),p=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(x),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=b,j=vG(N=>{const k=N.target,C=[...u.branches].some(A=>A.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=yG(N=>{const k=N.target;[...u.branches].some(A=>A.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return dG(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),y.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(yE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),xE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=yE)}},[d,h,r,u]),y.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),xE())},[d,u]),y.useEffect(()=>{const N=()=>m({});return document.addEventListener(Kj,N),()=>document.removeEventListener(Kj,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Ee(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Ee(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Ee(e.onPointerDownCapture,j.onPointerDownCapture)})});px.displayName=fG;var pG="DismissableLayerBranch",gG=y.forwardRef((e,t)=>{const r=y.useContext(MI),n=y.useRef(null),s=pt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});gG.displayName=pG;function vG(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e),n=y.useRef(!1),s=y.useRef(()=>{});return y.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){$I(hG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function yG(e,t=globalThis==null?void 0:globalThis.document){const r=Qr(e),n=y.useRef(!1);return y.useEffect(()=>{const s=i=>{i.target&&!n.current&&$I(mG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function xE(){const e=new CustomEvent(Kj);document.dispatchEvent(e)}function $I(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?RI(s,i):s.dispatchEvent(i)}var xw="focusScope.autoFocusOnMount",bw="focusScope.autoFocusOnUnmount",bE={bubbles:!1,cancelable:!0},xG="FocusScope",gx=y.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=y.useState(null),u=Qr(s),d=Qr(i),f=y.useRef(null),h=pt(t,p=>c(p)),m=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:lo(f.current,{select:!0})},x=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||lo(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&lo(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",x);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",x),v.disconnect()}}},[n,l,m.paused]),y.useEffect(()=>{if(l){jE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(xw,bE);l.addEventListener(xw,u),l.dispatchEvent(b),b.defaultPrevented||(bG(NG(II(l)),{select:!0}),document.activeElement===p&&lo(l))}return()=>{l.removeEventListener(xw,u),setTimeout(()=>{const b=new CustomEvent(bw,bE);l.addEventListener(bw,d),l.dispatchEvent(b),b.defaultPrevented||lo(p??document.body,{select:!0}),l.removeEventListener(bw,d),jE.remove(m)},0)}}},[l,u,d,m]);const g=y.useCallback(p=>{if(!r&&!n||m.paused)return;const x=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(x&&b){const v=p.currentTarget,[w,_]=wG(v);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&lo(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&lo(_,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});gx.displayName=xG;function bG(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(lo(n,{select:t}),document.activeElement!==r)return}function wG(e){const t=II(e),r=wE(t,e),n=wE(t.reverse(),e);return[r,n]}function II(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function wE(e,t){for(const r of e)if(!jG(r,{upTo:t}))return r}function jG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _G(e){return e instanceof HTMLInputElement&&"select"in e}function lo(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_G(e)&&t&&e.select()}}var jE=SG();function SG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=_E(e,t),e.unshift(t)},remove(t){var r;e=_E(e,t),(r=e[0])==null||r.resume()}}}function _E(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function NG(e){return e.filter(t=>t.tagName!=="A")}var kG="Portal",vx=y.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=y.useState(!1);wr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?b4.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});vx.displayName=kG;function CG(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var Gn=e=>{const{present:t,children:r}=e,n=EG(t),s=typeof r=="function"?r({present:n.isPresent}):y.Children.only(r),i=pt(n.ref,PG(s));return typeof r=="function"||n.isPresent?y.cloneElement(s,{ref:i}):null};Gn.displayName="Presence";function EG(e){const[t,r]=y.useState(),n=y.useRef(null),s=y.useRef(e),i=y.useRef("none"),o=e?"mounted":"unmounted",[l,c]=CG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const u=Vp(n.current);i.current=l==="mounted"?u:"none"},[l]),wr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Vp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),wr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Vp(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},h=m=>{m.target===t&&(i.current=Vp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:y.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Vp(e){return(e==null?void 0:e.animationName)||"none"}function PG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ww=0;function tN(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??SE()),document.body.insertAdjacentElement("beforeend",e[1]??SE()),ww++,()=>{ww===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ww--}},[])}function SE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Tg="right-scroll-bar-position",Rg="width-before-scroll-bar",OG="with-scroll-bars-hidden",AG="--removed-body-scroll-bar-size";function jw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function TG(e,t){var r=y.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var RG=typeof window<"u"?y.useLayoutEffect:y.useEffect,NE=new WeakMap;function MG(e,t){var r=TG(null,function(n){return e.forEach(function(s){return jw(s,n)})});return RG(function(){var n=NE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||jw(l,null)}),i.forEach(function(l){s.has(l)||jw(l,o)})}NE.set(r,e)},[e]),r}function $G(e){return e}function IG(e,t){t===void 0&&(t=$G);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function DG(e){e===void 0&&(e={});var t=IG(null);return t.options=Da({async:!0,ssr:!1},e),t}var DI=function(e){var t=e.sideCar,r=zd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,Da({},r))};DI.isSideCarExport=!0;function LG(e,t){return e.useMedium(t),DI}var LI=DG(),_w=function(){},yx=y.forwardRef(function(e,t){var r=y.useRef(null),n=y.useState({onScrollCapture:_w,onWheelCapture:_w,onTouchMoveCapture:_w}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,x=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,_=zd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=MG([r,t]),N=Da(Da({},_),s);return y.createElement(y.Fragment,null,d&&y.createElement(j,{sideCar:LI,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!x,lockRef:r,gapMode:w}),o?y.cloneElement(y.Children.only(l),Da(Da({},N),{ref:S})):y.createElement(v,Da({},N,{className:c,ref:S}),l))});yx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};yx.classNames={fullWidth:Rg,zeroRight:Tg};var FG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function UG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FG();return t&&e.setAttribute("nonce",t),e}function BG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function qG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var zG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=UG())&&(BG(t,r),qG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},WG=function(){var e=zG();return function(t,r){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},FI=function(){var e=WG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},VG={left:0,top:0,right:0,gap:0},Sw=function(e){return parseInt(e||"",10)||0},KG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Sw(r),Sw(n),Sw(s)]},HG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VG;var t=KG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},GG=FI(),Eu="data-scroll-locked",YG=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(OG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Eu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Rg,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Tg," .").concat(Tg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Rg," .").concat(Rg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Eu,`] {
    `).concat(AG,": ").concat(l,`px;
  }
`)},kE=function(){var e=parseInt(document.body.getAttribute(Eu)||"0",10);return isFinite(e)?e:0},QG=function(){y.useEffect(function(){return document.body.setAttribute(Eu,(kE()+1).toString()),function(){var e=kE()-1;e<=0?document.body.removeAttribute(Eu):document.body.setAttribute(Eu,e.toString())}},[])},XG=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;QG();var i=y.useMemo(function(){return HG(s)},[s]);return y.createElement(GG,{styles:YG(i,!t,s,r?"":"!important")})},Hj=!1;if(typeof window<"u")try{var Kp=Object.defineProperty({},"passive",{get:function(){return Hj=!0,!0}});window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{Hj=!1}var Wc=Hj?{passive:!1}:!1,JG=function(e){return e.tagName==="TEXTAREA"},UI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!JG(e)&&r[t]==="visible")},ZG=function(e){return UI(e,"overflowY")},eY=function(e){return UI(e,"overflowX")},CE=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=BI(e,n);if(s){var i=qI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},tY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},rY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},BI=function(e,t){return e==="v"?ZG(t):eY(t)},qI=function(e,t){return e==="v"?tY(t):rY(t)},nY=function(e,t){return e==="h"&&t==="rtl"?-1:1},sY=function(e,t,r,n,s){var i=nY(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=qI(e,l),g=m[0],p=m[1],x=m[2],b=p-x-i*g;(g||b)&&BI(e,l)&&(f+=b,h+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Hp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},EE=function(e){return[e.deltaX,e.deltaY]},PE=function(e){return e&&"current"in e?e.current:e},aY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},iY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},oY=0,Vc=[];function lY(e){var t=y.useRef([]),r=y.useRef([0,0]),n=y.useRef(),s=y.useState(oY++)[0],i=y.useState(FI)[0],o=y.useRef(e);y.useEffect(function(){o.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=t9([e.lockRef.current],(e.shards||[]).map(PE),!0).filter(Boolean);return p.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=y.useCallback(function(p,x){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Hp(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],_="deltaY"in p?p.deltaY:v[1]-b[1],j,S=p.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,A=C?C===S||C.contains(S):!1;if(A)return!1;var I=CE(N,S);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=CE(N,S)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var P=n.current||j;return sY(P,x,p,P==="h"?w:_)},[]),c=y.useCallback(function(p){var x=p;if(!(!Vc.length||Vc[Vc.length-1]!==i)){var b="deltaY"in x?EE(x):Hp(x),v=t.current.filter(function(j){return j.name===x.type&&(j.target===x.target||x.target===j.shadowParent)&&aY(j.delta,b)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(PE).filter(Boolean).filter(function(j){return j.contains(x.target)}),_=w.length>0?l(x,w[0]):!o.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=y.useCallback(function(p,x,b,v){var w={name:p,delta:x,target:b,should:v,shadowParent:cY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=y.useCallback(function(p){r.current=Hp(p),n.current=void 0},[]),f=y.useCallback(function(p){u(p.type,EE(p),p.target,l(p,e.lockRef.current))},[]),h=y.useCallback(function(p){u(p.type,Hp(p),p.target,l(p,e.lockRef.current))},[]);y.useEffect(function(){return Vc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Wc),document.addEventListener("touchmove",c,Wc),document.addEventListener("touchstart",d,Wc),function(){Vc=Vc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Wc),document.removeEventListener("touchmove",c,Wc),document.removeEventListener("touchstart",d,Wc)}},[]);var m=e.removeScrollBar,g=e.inert;return y.createElement(y.Fragment,null,g?y.createElement(i,{styles:iY(s)}):null,m?y.createElement(XG,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function cY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uY=LG(LI,lY);var xx=y.forwardRef(function(e,t){return y.createElement(yx,Da({},e,{ref:t,sideCar:uY}))});xx.classNames=yx.classNames;var dY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Kc=new WeakMap,Gp=new WeakMap,Yp={},Nw=0,zI=function(e){return e&&(e.host||zI(e.parentNode))},fY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=zI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},hY=function(e,t,r,n){var s=fY(t,Array.isArray(e)?e:[e]);Yp[r]||(Yp[r]=new WeakMap);var i=Yp[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Kc.get(h)||0)+1,x=(i.get(h)||0)+1;Kc.set(h,p),i.set(h,x),o.push(h),p===1&&g&&Gp.set(h,!0),x===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Nw++,function(){o.forEach(function(f){var h=Kc.get(f)-1,m=i.get(f)-1;Kc.set(f,h),i.set(f,m),h||(Gp.has(f)||f.removeAttribute(n),Gp.delete(f)),m||f.removeAttribute(r)}),Nw--,Nw||(Kc=new WeakMap,Kc=new WeakMap,Gp=new WeakMap,Yp={})}},rN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=dY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),hY(n,s,r,"aria-hidden")):function(){return null}};function mY(e){const t=pY(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(vY);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function pY(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=xY(s),l=yY(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gY=Symbol("radix.slottable");function vY(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gY}function yY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function xY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var bx="Dialog",[WI]=Us(bx),[bY,_a]=WI(bx),VI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=y.useRef(null),c=y.useRef(null),[u,d]=Qa({prop:n,defaultProp:s??!1,onChange:i,caller:bx});return a.jsx(bY,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:d,onOpenToggle:y.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};VI.displayName=bx;var KI="DialogTrigger",wY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_a(KI,r),i=pt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":aN(s.open),...n,ref:i,onClick:Ee(e.onClick,s.onOpenToggle)})});wY.displayName=KI;var nN="DialogPortal",[jY,HI]=WI(nN,{forceMount:void 0}),GI=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=_a(nN,t);return a.jsx(jY,{scope:t,forceMount:r,children:y.Children.map(n,o=>a.jsx(Gn,{present:r||i.open,children:a.jsx(vx,{asChild:!0,container:s,children:o})}))})};GI.displayName=nN;var gv="DialogOverlay",YI=y.forwardRef((e,t)=>{const r=HI(gv,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=_a(gv,e.__scopeDialog);return i.modal?a.jsx(Gn,{present:n||i.open,children:a.jsx(SY,{...s,ref:t})}):null});YI.displayName=gv;var _Y=mY("DialogOverlay.RemoveScroll"),SY=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_a(gv,r);return a.jsx(xx,{as:_Y,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":aN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),lc="DialogContent",QI=y.forwardRef((e,t)=>{const r=HI(lc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=_a(lc,e.__scopeDialog);return a.jsx(Gn,{present:n||i.open,children:i.modal?a.jsx(NY,{...s,ref:t}):a.jsx(kY,{...s,ref:t})})});QI.displayName=lc;var NY=y.forwardRef((e,t)=>{const r=_a(lc,e.__scopeDialog),n=y.useRef(null),s=pt(t,r.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return rN(i)},[]),a.jsx(XI,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ee(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ee(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault())})}),kY=y.forwardRef((e,t)=>{const r=_a(lc,e.__scopeDialog),n=y.useRef(!1),s=y.useRef(!1);return a.jsx(XI,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),XI=y.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=_a(lc,r),c=y.useRef(null),u=pt(t,c);return tN(),a.jsxs(a.Fragment,{children:[a.jsx(gx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(px,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":aN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(CY,{titleId:l.titleId}),a.jsx(PY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sN="DialogTitle",JI=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_a(sN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});JI.displayName=sN;var ZI="DialogDescription",eD=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_a(ZI,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});eD.displayName=ZI;var tD="DialogClose",rD=y.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=_a(tD,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:Ee(e.onClick,()=>s.onOpenChange(!1))})});rD.displayName=tD;function aN(e){return e?"open":"closed"}var nD="DialogTitleWarning",[O$e,sD]=X7(nD,{contentName:lc,titleName:sN,docsSlug:"dialog"}),CY=({titleId:e})=>{const t=sD(nD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},EY="DialogDescriptionWarning",PY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${sD(EY).contentName}}.`;return y.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},OY=VI,AY=GI,aD=YI,iD=QI,oD=JI,lD=eD,TY=rD;const Ie=OY,RY=AY,cD=y.forwardRef(({className:e,...t},r)=>a.jsx(aD,{ref:r,className:Z("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));cD.displayName=aD.displayName;const Te=y.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(RY,{children:[a.jsx(cD,{}),a.jsxs(iD,{ref:s,className:Z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(TY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ad,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Te.displayName=iD.displayName;const Re=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Re.displayName="DialogHeader";const Fe=({className:e,...t})=>a.jsx("div",{className:Z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Fe.displayName="DialogFooter";const Me=y.forwardRef(({className:e,...t},r)=>a.jsx(oD,{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));Me.displayName=oD.displayName;const $e=y.forwardRef(({className:e,...t},r)=>a.jsx(lD,{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));$e.displayName=lD.displayName;var MY=Symbol.for("react.lazy"),vv=By[" use ".trim().toString()];function $Y(e){return typeof e=="object"&&e!==null&&"then"in e}function uD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===MY&&"_payload"in e&&$Y(e._payload)}function tp(e){const t=DY(e),r=y.forwardRef((n,s)=>{let{children:i,...o}=n;uD(i)&&typeof vv=="function"&&(i=vv(i._payload));const l=y.Children.toArray(i),c=l.find(FY);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var IY=tp("Slot");function DY(e){const t=y.forwardRef((r,n)=>{let{children:s,...i}=r;if(uD(s)&&typeof vv=="function"&&(s=vv(s._payload)),y.isValidElement(s)){const o=BY(s),l=UY(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LY=Symbol("radix.slottable");function FY(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LY}function UY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function BY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const OE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,AE=jt,iN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return AE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=OE(d)||OE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,x]=g;return Array.isArray(x)?x.includes({...i,...l}[p]):{...i,...l}[p]===x})?[...u,f,h]:u},[]);return AE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},qY=iN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=y.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?IY:"button";return a.jsx(o,{className:Z(qY({variant:t,size:r,className:e})),ref:i,...s})});E.displayName="Button";function zY({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Ie,{open:e,onOpenChange:o,children:a.jsxs(Te,{showClose:!0,className:Z("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(Mi,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Me,{children:"Success"}),a.jsx($e,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(E,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(Fe,{children:a.jsx(E,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function WY({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{showClose:!0,className:Z("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(ol,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Me,{children:"Cancel operation?"}),a.jsx($e,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(E,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const TE={visible:!1},RE={visible:!1},ME={visible:!1},dD=y.createContext(null);function VY({children:e}){const[t,r]=y.useState(TE),[n,s]=y.useState(RE),[i,o]=y.useState(ME),l=y.useCallback(g=>{r({visible:!0,message:g})},[]),c=y.useCallback(()=>{r(TE)},[]),u=y.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=y.useCallback(()=>{s(RE)},[]),f=y.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=y.useCallback(()=>{o(ME)},[]),m=y.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(dD.Provider,{value:m,children:e})}function KY(){const e=y.useContext(dD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function HY(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=KY();return a.jsxs(a.Fragment,{children:[a.jsx(Q7,{visible:e.visible,message:e.message}),a.jsx(zY,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(WY,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function GY({children:e}){return a.jsxs(VY,{children:[a.jsx(HY,{}),e]})}var YY=y.createContext(void 0);function Gd(e){const t=y.useContext(YY);return e||t||"ltr"}function Gj(e,[t,r]){return Math.min(r,Math.max(t,e))}function QY(e,t){return y.useReducer((r,n)=>t[r][n]??r,e)}var oN="ScrollArea",[fD]=Us(oN),[XY,Bs]=fD(oN),hD=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=y.useState(null),[u,d]=y.useState(null),[f,h]=y.useState(null),[m,g]=y.useState(null),[p,x]=y.useState(null),[b,v]=y.useState(0),[w,_]=y.useState(0),[j,S]=y.useState(!1),[N,k]=y.useState(!1),C=pt(t,I=>c(I)),A=Gd(s);return a.jsx(XY,{scope:r,type:n,dir:A,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:x,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:_,children:a.jsx(Qe.div,{dir:A,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});hD.displayName=oN;var mD="ScrollAreaViewport",pD=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Bs(mD,r),l=y.useRef(null),c=pt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});pD.displayName=mD;var ti="ScrollAreaScrollbar",lN=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ti,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return y.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(JY,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(ZY,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(gD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(cN,{...n,ref:t}):null});lN.displayName=ti;var JY=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ti,e.__scopeScrollArea),[i,o]=y.useState(!1);return y.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Gn,{present:r||i,children:a.jsx(gD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),ZY=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ti,e.__scopeScrollArea),i=e.orientation==="horizontal",o=jx(()=>c("SCROLL_END"),100),[l,c]=QY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return y.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),y.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Gn,{present:r||l!=="hidden",children:a.jsx(cN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Ee(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Ee(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),gD=y.forwardRef((e,t)=>{const r=Bs(ti,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=y.useState(!1),l=e.orientation==="horizontal",c=jx(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return id(r.viewport,c),id(r.content,c),a.jsx(Gn,{present:n||i,children:a.jsx(cN,{"data-state":i?"visible":"hidden",...s,ref:t})})}),cN=y.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Bs(ti,e.__scopeScrollArea),i=y.useRef(null),o=y.useRef(0),[l,c]=y.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=wD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return aQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(eQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=$E(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(tQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=$E(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),eQ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Bs(ti,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=pt(t,c,i.onScrollbarXChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(yD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":wx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),_D(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:xv(o.paddingLeft),paddingEnd:xv(o.paddingRight)}})}})}),tQ=y.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Bs(ti,e.__scopeScrollArea),[o,l]=y.useState(),c=y.useRef(null),u=pt(t,c,i.onScrollbarYChange);return y.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(yD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":wx(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),_D(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:xv(o.paddingTop),paddingEnd:xv(o.paddingBottom)}})}})}),[rQ,vD]=fD(ti),yD=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Bs(ti,r),[g,p]=y.useState(null),x=pt(t,C=>p(C)),b=y.useRef(null),v=y.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Qr(d),S=Qr(c),N=jx(f,10);function k(C){if(b.current){const A=C.clientX-b.current.left,I=C.clientY-b.current.top;u({x:A,y:I})}}return y.useEffect(()=>{const C=A=>{const I=A.target;(g==null?void 0:g.contains(I))&&j(A,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),y.useEffect(S,[n,S]),id(g,N),id(m.content,N),a.jsx(rQ,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Qr(i),onThumbPointerUp:Qr(o),onThumbPositionChange:S,onThumbPointerDown:Qr(l),children:a.jsx(Qe.div,{...h,ref:x,style:{position:"absolute",...h.style},onPointerDown:Ee(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Ee(e.onPointerMove,k),onPointerUp:Ee(e.onPointerUp,C=>{const A=C.target;A.hasPointerCapture(C.pointerId)&&A.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),yv="ScrollAreaThumb",xD=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=vD(yv,e.__scopeScrollArea);return a.jsx(Gn,{present:r||s.hasThumb,children:a.jsx(nQ,{ref:t,...n})})}),nQ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Bs(yv,r),o=vD(yv,r),{onThumbPositionChange:l}=o,c=pt(t,f=>o.onThumbChange(f)),u=y.useRef(void 0),d=jx(()=>{u.current&&(u.current(),u.current=void 0)},100);return y.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=iQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ee(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Ee(e.onPointerUp,o.onThumbPointerUp)})});xD.displayName=yv;var uN="ScrollAreaCorner",bD=y.forwardRef((e,t)=>{const r=Bs(uN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(sQ,{...e,ref:t}):null});bD.displayName=uN;var sQ=y.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Bs(uN,r),[i,o]=y.useState(0),[l,c]=y.useState(0),u=!!(i&&l);return id(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),id(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function xv(e){return e?parseInt(e,10):0}function wD(e,t){const r=e/t;return isNaN(r)?0:r}function wx(e){const t=wD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function aQ(e,t,r,n="ltr"){const s=wx(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return jD([c,u],f)(e)}function $E(e,t,r="ltr"){const n=wx(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Gj(e,c);return jD([0,o],[0,l])(u)}function jD(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function _D(e,t){return e>0&&e<t}var iQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function jx(e,t){const r=Qr(e),n=y.useRef(0);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),y.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function id(e,t){const r=Qr(t);wr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var SD=hD,oQ=pD,lQ=bD;const vt=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(SD,{ref:n,className:Z("relative overflow-hidden",e),...r,children:[a.jsx(oQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(ND,{}),a.jsx(lQ,{})]}));vt.displayName=SD.displayName;const ND=y.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(lN,{ref:n,orientation:t,className:Z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(xD,{className:"relative flex-1 rounded-full bg-border"})}));ND.displayName=lN.displayName;var cQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],uQ=cQ.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),dQ="Separator",IE="horizontal",fQ=["horizontal","vertical"],kD=y.forwardRef((e,t)=>{const{decorative:r,orientation:n=IE,...s}=e,i=hQ(n)?n:IE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(uQ.div,{"data-orientation":i,...l,...s,ref:t})});kD.displayName=dQ;function hQ(e){return fQ.includes(e)}var CD=kD;const dN=y.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(CD,{ref:s,decorative:r,orientation:t,className:Z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));dN.displayName=CD.displayName;const mQ=[{to:"/dashboard",label:"Dashboard",icon:YS},{to:"/profile",label:"Profile",icon:ep},{to:"/chat",label:"Chat Session",icon:Jm},{to:"/channels",label:"Channels & Adapters",icon:l7},{to:"/skills",label:"Skills Library",icon:VS},{to:"/skill-editor",label:"Skill Editor",icon:or},{to:"/marketplace",label:"Marketplace",icon:hx},{to:"/nodes",label:"Nodes",icon:Wa},{to:"/cron",label:"Cron Jobs",icon:Sc},{to:"/webhooks",label:"Webhooks & Hooks",icon:pv},{to:"/model-providers",label:"Model Providers",icon:cI},{to:"/browser",label:"Browser Automation",icon:fx},{to:"/voice",label:"Voice & Media",icon:nd},{to:"/secrets",label:"Secrets & Keychain",icon:td},{to:"/settings",label:"Settings",icon:Kn},{to:"/security",label:"Security Audit",icon:Or},{to:"/logs",label:"Logs & Tracing",icon:or},{to:"/admin",label:"Admin",icon:Or}];function pQ(){const[e,t]=y.useState(!1);return a.jsxs("aside",{className:Z("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Vr,{className:"h-4 w-4"}):a.jsx(hv,{className:"h-4 w-4"})})]}),a.jsx(vt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:mQ.map(({to:r,label:n,icon:s})=>a.jsxs(T4,{to:r,className:({isActive:i})=>Z("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(dN,{})]})}const ge=y.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:Z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ge.displayName="Input";function gQ(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,vQ(s,...t)]}function vQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var yQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fN=yQ.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ED={exports:{}},PD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var od=y;function xQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bQ=typeof Object.is=="function"?Object.is:xQ,wQ=od.useState,jQ=od.useEffect,_Q=od.useLayoutEffect,SQ=od.useDebugValue;function NQ(e,t){var r=t(),n=wQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return _Q(function(){s.value=r,s.getSnapshot=t,kw(s)&&i({inst:s})},[e,r,t]),jQ(function(){return kw(s)&&i({inst:s}),e(function(){kw(s)&&i({inst:s})})},[e]),SQ(r),r}function kw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!bQ(e,r)}catch{return!0}}function kQ(e,t){return t()}var CQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?kQ:NQ;PD.useSyncExternalStore=od.useSyncExternalStore!==void 0?od.useSyncExternalStore:CQ;ED.exports=PD;var EQ=ED.exports;function PQ(){return EQ.useSyncExternalStore(OQ,()=>!0,()=>!1)}function OQ(){return()=>{}}var hN="Avatar",[AQ]=gQ(hN),[TQ,OD]=AQ(hN),AD=y.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=y.useState("idle");return a.jsx(TQ,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(fN.span,{...n,ref:t})})});AD.displayName=hN;var TD="AvatarImage",RD=y.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=OD(TD,r),l=RQ(n,i),c=Qr(u=>{s(u),o.onImageLoadingStatusChange(u)});return wr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(fN.img,{...i,ref:t,src:n}):null});RD.displayName=TD;var MD="AvatarFallback",$D=y.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=OD(MD,r),[o,l]=y.useState(n===void 0);return y.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(fN.span,{...s,ref:t}):null});$D.displayName=MD;function DE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function RQ(e,{referrerPolicy:t,crossOrigin:r}){const n=PQ(),s=y.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=y.useState(()=>DE(i,e));return wr(()=>{l(DE(i,e))},[i,e]),wr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var ID=AD,DD=RD,LD=$D;const _x=y.forwardRef(({className:e,...t},r)=>a.jsx(ID,{ref:r,className:Z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));_x.displayName=ID.displayName;const mN=y.forwardRef(({className:e,...t},r)=>a.jsx(DD,{ref:r,className:Z("aspect-square h-full w-full",e),...t}));mN.displayName=DD.displayName;const Sx=y.forwardRef(({className:e,...t},r)=>a.jsx(LD,{ref:r,className:Z("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Sx.displayName=LD.displayName;function LE(e){const t=MQ(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(IQ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function MQ(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=LQ(s),l=DQ(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $Q=Symbol("radix.slottable");function IQ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$Q}function DQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function LQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Nx(e){const t=e+"CollectionProvider",[r,n]=Us(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:x,children:b}=p,v=O.useRef(null),w=O.useRef(new Map).current;return a.jsx(s,{scope:x,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=LE(l),u=O.forwardRef((p,x)=>{const{scope:b,children:v}=p,w=i(l,b),_=pt(x,w.collectionRef);return a.jsx(c,{ref:_,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=LE(d),m=O.forwardRef((p,x)=>{const{scope:b,children:v,...w}=p,_=O.useRef(null),j=pt(x,_),S=i(d,b);return O.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:v})});m.displayName=d;function g(p){const x=i(e+"CollectionConsumer",p);return O.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const FQ=["top","right","bottom","left"],Zo=Math.min,rs=Math.max,bv=Math.round,Qp=Math.floor,Ka=e=>({x:e,y:e}),UQ={left:"right",right:"left",bottom:"top",top:"bottom"},BQ={start:"end",end:"start"};function Yj(e,t,r){return rs(e,Zo(t,r))}function $i(e,t){return typeof e=="function"?e(t):e}function Ii(e){return e.split("-")[0]}function Yd(e){return e.split("-")[1]}function pN(e){return e==="x"?"y":"x"}function gN(e){return e==="y"?"height":"width"}const qQ=new Set(["top","bottom"]);function La(e){return qQ.has(Ii(e))?"y":"x"}function vN(e){return pN(La(e))}function zQ(e,t,r){r===void 0&&(r=!1);const n=Yd(e),s=vN(e),i=gN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=wv(o)),[o,wv(o)]}function WQ(e){const t=wv(e);return[Qj(e),t,Qj(t)]}function Qj(e){return e.replace(/start|end/g,t=>BQ[t])}const FE=["left","right"],UE=["right","left"],VQ=["top","bottom"],KQ=["bottom","top"];function HQ(e,t,r){switch(e){case"top":case"bottom":return r?t?UE:FE:t?FE:UE;case"left":case"right":return t?VQ:KQ;default:return[]}}function GQ(e,t,r,n){const s=Yd(e);let i=HQ(Ii(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Qj)))),i}function wv(e){return e.replace(/left|right|bottom|top/g,t=>UQ[t])}function YQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function FD(e){return typeof e!="number"?YQ(e):{top:e,right:e,bottom:e,left:e}}function jv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function BE(e,t,r){let{reference:n,floating:s}=e;const i=La(t),o=vN(t),l=gN(o),c=Ii(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(Yd(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function QQ(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=$i(t,e),g=FD(m),x=l[h?f==="floating"?"reference":"floating":f],b=jv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(x)))==null||r?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=jv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const XQ=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=BE(u,n,c),h=n,m={},g=0;for(let x=0;x<l.length;x++){var p;const{name:b,fn:v}=l[x],{x:w,y:_,data:j,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:QQ},elements:{reference:e,floating:t}});d=w??d,f=_??f,m={...m,[b]:{...m[b],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=BE(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},JQ=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=$i(e,t)||{};if(u==null)return{};const f=FD(d),h={x:r,y:n},m=vN(s),g=gN(m),p=await o.getDimensions(u),x=m==="y",b=x?"top":"left",v=x?"bottom":"right",w=x?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=N/2-p[g]/2-1,A=Zo(f[b],C),I=Zo(f[v],C),P=A,q=N-p[g]-I,T=N/2-p[g]/2+k,W=Yj(P,T,q),L=!c.arrow&&Yd(s)!=null&&T!==W&&i.reference[g]/2-(T<P?A:I)-p[g]/2<0,K=L?T<P?T-P:T-q:0;return{[m]:h[m]+K,data:{[m]:W,centerOffset:T-W-K,...L&&{alignmentOffset:K}},reset:L}}}),ZQ=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...x}=$i(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ii(s),v=La(l),w=Ii(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[wv(l)]:WQ(l)),S=g!=="none";!h&&S&&j.push(...GQ(l,p,g,_));const N=[l,...j],k=await c.detectOverflow(t,x),C=[];let A=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const T=zQ(s,o,_);C.push(k[T[0]],k[T[1]])}if(A=[...A,{placement:s,overflows:C}],!C.every(T=>T<=0)){var I,P;const T=(((I=i.flip)==null?void 0:I.index)||0)+1,W=N[T];if(W&&(!(f==="alignment"?v!==La(W):!1)||A.every(D=>La(D.placement)===v?D.overflows[0]>0:!0)))return{data:{index:T,overflows:A},reset:{placement:W}};let L=(P=A.filter(K=>K.overflows[0]<=0).sort((K,D)=>K.overflows[1]-D.overflows[1])[0])==null?void 0:P.placement;if(!L)switch(m){case"bestFit":{var q;const K=(q=A.filter(D=>{if(S){const M=La(D.placement);return M===v||M==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(M=>M>0).reduce((M,R)=>M+R,0)]).sort((D,M)=>D[1]-M[1])[0])==null?void 0:q[0];K&&(L=K);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function qE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function zE(e){return FQ.some(t=>e[t]>=0)}const eX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=$i(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=qE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:zE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=qE(o,r.floating);return{data:{escapedOffsets:l,escaped:zE(l)}}}default:return{}}}}},UD=new Set(["left","top"]);async function tX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ii(r),l=Yd(r),c=La(r)==="y",u=UD.has(o)?-1:1,d=i&&c?-1:1,f=$i(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const rX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await tX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},nX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=$i(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=La(Ii(s)),m=pN(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],_=g-f[v];g=Yj(w,g,_)}if(l){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+f[b],_=p-f[v];p=Yj(w,p,_)}const x=c.fn({...t,[m]:g,[h]:p});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[m]:o,[h]:l}}}}}},sX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=$i(e,t),d={x:r,y:n},f=La(s),h=pN(f);let m=d[h],g=d[f];const p=$i(l,t),x=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+x.mainAxis,j=i.reference[h]+i.reference[w]-x.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,v;const w=h==="y"?"width":"height",_=UD.has(Ii(s)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:x.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((v=o.offset)==null?void 0:v[f])||0)-(_?x.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},aX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=$i(e,t),d=await o.detectOverflow(t,u),f=Ii(s),h=Yd(s),m=La(s)==="y",{width:g,height:p}=i.floating;let x,b;f==="top"||f==="bottom"?(x=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,x=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,_=Zo(p-d[x],v),j=Zo(g-d[b],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),S&&!h){const A=rs(d.left,0),I=rs(d.right,0),P=rs(d.top,0),q=rs(d.bottom,0);m?k=g-2*(A!==0||I!==0?A+I:rs(d.left,d.right)):N=p-2*(P!==0||q!==0?P+q:rs(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function kx(){return typeof window<"u"}function Qd(e){return BD(e)?(e.nodeName||"").toLowerCase():"#document"}function us(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ri(e){var t;return(t=(BD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function BD(e){return kx()?e instanceof Node||e instanceof us(e).Node:!1}function ba(e){return kx()?e instanceof Element||e instanceof us(e).Element:!1}function Xa(e){return kx()?e instanceof HTMLElement||e instanceof us(e).HTMLElement:!1}function WE(e){return!kx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof us(e).ShadowRoot}const iX=new Set(["inline","contents"]);function rp(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=wa(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!iX.has(s)}const oX=new Set(["table","td","th"]);function lX(e){return oX.has(Qd(e))}const cX=[":popover-open",":modal"];function Cx(e){return cX.some(t=>{try{return e.matches(t)}catch{return!1}})}const uX=["transform","translate","scale","rotate","perspective"],dX=["transform","translate","scale","rotate","perspective","filter"],fX=["paint","layout","strict","content"];function yN(e){const t=xN(),r=ba(e)?wa(e):e;return uX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||dX.some(n=>(r.willChange||"").includes(n))||fX.some(n=>(r.contain||"").includes(n))}function hX(e){let t=el(e);for(;Xa(t)&&!ld(t);){if(yN(t))return t;if(Cx(t))return null;t=el(t)}return null}function xN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mX=new Set(["html","body","#document"]);function ld(e){return mX.has(Qd(e))}function wa(e){return us(e).getComputedStyle(e)}function Ex(e){return ba(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function el(e){if(Qd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||WE(e)&&e.host||ri(e);return WE(t)?t.host:t}function qD(e){const t=el(e);return ld(t)?e.ownerDocument?e.ownerDocument.body:e.body:Xa(t)&&rp(t)?t:qD(t)}function Jh(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=qD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=us(s);if(i){const l=Xj(o);return t.concat(o,o.visualViewport||[],rp(s)?s:[],l&&r?Jh(l):[])}return t.concat(s,Jh(s,[],r))}function Xj(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function zD(e){const t=wa(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Xa(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=bv(r)!==i||bv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function bN(e){return ba(e)?e:e.contextElement}function Pu(e){const t=bN(e);if(!Xa(t))return Ka(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=zD(t);let o=(i?bv(r.width):r.width)/n,l=(i?bv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const pX=Ka(0);function WD(e){const t=us(e);return!xN()||!t.visualViewport?pX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function gX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==us(e)?!1:t}function cc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=bN(e);let o=Ka(1);t&&(n?ba(n)&&(o=Pu(n)):o=Pu(e));const l=gX(i,r,n)?WD(i):Ka(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=us(i),m=n&&ba(n)?us(n):n;let g=h,p=Xj(g);for(;p&&n&&m!==g;){const x=Pu(p),b=p.getBoundingClientRect(),v=wa(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*x.x,_=b.top+(p.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=w,u+=_,g=us(p),p=Xj(g)}}return jv({width:d,height:f,x:c,y:u})}function Px(e,t){const r=Ex(e).scrollLeft;return t?t.left+r:cc(ri(e)).left+r}function VD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Px(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function vX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=ri(n),l=t?Cx(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ka(1);const d=Ka(0),f=Xa(n);if((f||!f&&!i)&&((Qd(n)!=="body"||rp(o))&&(c=Ex(n)),Xa(n))){const m=cc(n);u=Pu(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?VD(o,c):Ka(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function yX(e){return Array.from(e.getClientRects())}function xX(e){const t=ri(e),r=Ex(e),n=e.ownerDocument.body,s=rs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=rs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Px(e);const l=-r.scrollTop;return wa(n).direction==="rtl"&&(o+=rs(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const VE=25;function bX(e,t){const r=us(e),n=ri(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=xN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Px(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=VE&&(i-=g)}else u<=VE&&(i+=u);return{width:i,height:o,x:l,y:c}}const wX=new Set(["absolute","fixed"]);function jX(e,t){const r=cc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Xa(e)?Pu(e):Ka(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function KE(e,t,r){let n;if(t==="viewport")n=bX(e,r);else if(t==="document")n=xX(ri(e));else if(ba(t))n=jX(t,r);else{const s=WD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return jv(n)}function KD(e,t){const r=el(e);return r===t||!ba(r)||ld(r)?!1:wa(r).position==="fixed"||KD(r,t)}function _X(e,t){const r=t.get(e);if(r)return r;let n=Jh(e,[],!1).filter(l=>ba(l)&&Qd(l)!=="body"),s=null;const i=wa(e).position==="fixed";let o=i?el(e):e;for(;ba(o)&&!ld(o);){const l=wa(o),c=yN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&wX.has(s.position)||rp(o)&&!c&&KD(e,o))?n=n.filter(d=>d!==o):s=l,o=el(o)}return t.set(e,n),n}function SX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?Cx(t)?[]:_X(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=KE(t,d,s);return u.top=rs(f.top,u.top),u.right=Zo(f.right,u.right),u.bottom=Zo(f.bottom,u.bottom),u.left=rs(f.left,u.left),u},KE(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function NX(e){const{width:t,height:r}=zD(e);return{width:t,height:r}}function kX(e,t,r){const n=Xa(t),s=ri(t),i=r==="fixed",o=cc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ka(0);function u(){c.x=Px(s)}if(n||!n&&!i)if((Qd(t)!=="body"||rp(s))&&(l=Ex(t)),n){const m=cc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?VD(s,l):Ka(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Cw(e){return wa(e).position==="static"}function HE(e,t){if(!Xa(e)||wa(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ri(e)===r&&(r=r.ownerDocument.body),r}function HD(e,t){const r=us(e);if(Cx(e))return r;if(!Xa(e)){let s=el(e);for(;s&&!ld(s);){if(ba(s)&&!Cw(s))return s;s=el(s)}return r}let n=HE(e,t);for(;n&&lX(n)&&Cw(n);)n=HE(n,t);return n&&ld(n)&&Cw(n)&&!yN(n)?r:n||hX(e)||r}const CX=async function(e){const t=this.getOffsetParent||HD,r=this.getDimensions,n=await r(e.floating);return{reference:kX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function EX(e){return wa(e).direction==="rtl"}const PX={convertOffsetParentRelativeRectToViewportRelativeRect:vX,getDocumentElement:ri,getClippingRect:SX,getOffsetParent:HD,getElementRects:CX,getClientRects:yX,getDimensions:NX,getScale:Pu,isElement:ba,isRTL:EX};function GD(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function OX(e,t){let r=null,n;const s=ri(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=Qp(f),p=Qp(s.clientWidth-(d+h)),x=Qp(s.clientHeight-(f+m)),b=Qp(d),w={rootMargin:-g+"px "+-p+"px "+-x+"px "+-b+"px",threshold:rs(0,Zo(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!GD(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function AX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=bN(e),d=s||i?[...u?Jh(u):[],...Jh(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?OX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?cc(e):null;c&&x();function x(){const b=cc(e);p&&!GD(p,b)&&r(),p=b,g=requestAnimationFrame(x)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const TX=rX,RX=nX,MX=ZQ,$X=aX,IX=eX,GE=JQ,DX=sX,LX=(e,t,r)=>{const n=new Map,s={platform:PX,...r},i={...s.platform,_c:n};return XQ(e,t,{...s,platform:i})};var FX=typeof document<"u",UX=function(){},Mg=FX?y.useLayoutEffect:UX;function _v(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!_v(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!_v(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function YD(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function YE(e,t){const r=YD(e);return Math.round(t*r)/r}function Ew(e){const t=y.useRef(e);return Mg(()=>{t.current=e}),t}function BX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=y.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=y.useState(n);_v(h,n)||m(n);const[g,p]=y.useState(null),[x,b]=y.useState(null),v=y.useCallback(D=>{D!==S.current&&(S.current=D,p(D))},[]),w=y.useCallback(D=>{D!==N.current&&(N.current=D,b(D))},[]),_=i||g,j=o||x,S=y.useRef(null),N=y.useRef(null),k=y.useRef(d),C=c!=null,A=Ew(c),I=Ew(s),P=Ew(u),q=y.useCallback(()=>{if(!S.current||!N.current)return;const D={placement:t,strategy:r,middleware:h};I.current&&(D.platform=I.current),LX(S.current,N.current,D).then(M=>{const R={...M,isPositioned:P.current!==!1};T.current&&!_v(k.current,R)&&(k.current=R,Fd.flushSync(()=>{f(R)}))})},[h,t,r,I,P]);Mg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[u]);const T=y.useRef(!1);Mg(()=>(T.current=!0,()=>{T.current=!1}),[]),Mg(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(A.current)return A.current(_,j,q);q()}},[_,j,q,A,C]);const W=y.useMemo(()=>({reference:S,floating:N,setReference:v,setFloating:w}),[v,w]),L=y.useMemo(()=>({reference:_,floating:j}),[_,j]),K=y.useMemo(()=>{const D={position:r,left:0,top:0};if(!L.floating)return D;const M=YE(L.floating,d.x),R=YE(L.floating,d.y);return l?{...D,transform:"translate("+M+"px, "+R+"px)",...YD(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:R}},[r,l,L.floating,d.x,d.y]);return y.useMemo(()=>({...d,update:q,refs:W,elements:L,floatingStyles:K}),[d,q,W,L,K])}const qX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?GE({element:n.current,padding:s}).fn(r):{}:n?GE({element:n,padding:s}).fn(r):{}}}},zX=(e,t)=>({...TX(e),options:[e,t]}),WX=(e,t)=>({...RX(e),options:[e,t]}),VX=(e,t)=>({...DX(e),options:[e,t]}),KX=(e,t)=>({...MX(e),options:[e,t]}),HX=(e,t)=>({...$X(e),options:[e,t]}),GX=(e,t)=>({...IX(e),options:[e,t]}),YX=(e,t)=>({...qX(e),options:[e,t]});var QX="Arrow",QD=y.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});QD.displayName=QX;var XX=QD;function XD(e){const[t,r]=y.useState(void 0);return wr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var wN="Popper",[JD,Ox]=Us(wN),[JX,ZD]=JD(wN),eL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=y.useState(null);return a.jsx(JX,{scope:t,anchor:n,onAnchorChange:s,children:r})};eL.displayName=wN;var tL="PopperAnchor",rL=y.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=ZD(tL,r),o=y.useRef(null),l=pt(t,o),c=y.useRef(null);return y.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});rL.displayName=tL;var jN="PopperContent",[ZX,eJ]=JD(jN),nL=y.forwardRef((e,t)=>{var ue,qe,ae,we,G,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,x=ZD(jN,r),[b,v]=y.useState(null),w=pt(t,Xe=>v(Xe)),[_,j]=y.useState(null),S=XD(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],P=I.length>0,q={padding:A,boundary:I.filter(rJ),altBoundary:P},{refs:T,floatingStyles:W,placement:L,isPositioned:K,middlewareData:D}=BX({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>AX(...Xe,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[zX({mainAxis:s+k,alignmentAxis:o}),c&&WX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VX():void 0,...q}),c&&KX({...q}),HX({...q,apply:({elements:Xe,rects:Ke,availableWidth:xt,availableHeight:ot})=>{const{width:zt,height:jr}=Ke.reference,un=Xe.floating.style;un.setProperty("--radix-popper-available-width",`${xt}px`),un.setProperty("--radix-popper-available-height",`${ot}px`),un.setProperty("--radix-popper-anchor-width",`${zt}px`),un.setProperty("--radix-popper-anchor-height",`${jr}px`)}}),_&&YX({element:_,padding:l}),nJ({arrowWidth:N,arrowHeight:k}),h&&GX({strategy:"referenceHidden",...q})]}),[M,R]=iL(L),ee=Qr(g);wr(()=>{K&&(ee==null||ee())},[K,ee]);const $=(ue=D.arrow)==null?void 0:ue.x,ie=(qe=D.arrow)==null?void 0:qe.y,he=((ae=D.arrow)==null?void 0:ae.centerOffset)!==0,[We,Ve]=y.useState();return wr(()=>{b&&Ve(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:K?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:We,"--radix-popper-transform-origin":[(we=D.transformOrigin)==null?void 0:we.x,(G=D.transformOrigin)==null?void 0:G.y].join(" "),...((Q=D.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(ZX,{scope:r,placedSide:M,onArrowChange:j,arrowX:$,arrowY:ie,shouldHideArrow:he,children:a.jsx(Qe.div,{"data-side":M,"data-align":R,...p,ref:w,style:{...p.style,animation:K?void 0:"none"}})})})});nL.displayName=jN;var sL="PopperArrow",tJ={top:"bottom",right:"left",bottom:"top",left:"right"},aL=y.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=eJ(sL,n),o=tJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(XX,{...s,ref:r,style:{...s.style,display:"block"}})})});aL.displayName=sL;function rJ(e){return e!==null}var nJ=e=>({name:"transformOrigin",options:e,fn(t){var x,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=iL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function iL(e){const[t,r="center"]=e.split("-");return[t,r]}var oL=eL,lL=rL,cL=nL,uL=aL,Pw="rovingFocusGroup.onEntryFocus",sJ={bubbles:!1,cancelable:!0},np="RovingFocusGroup",[Jj,dL,aJ]=Nx(np),[iJ,Ax]=Us(np,[aJ]),[oJ,lJ]=iJ(np),fL=y.forwardRef((e,t)=>a.jsx(Jj.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Jj.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(cJ,{...e,ref:t})})}));fL.displayName=np;var cJ=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=y.useRef(null),m=pt(t,h),g=Gd(i),[p,x]=Qa({prop:o,defaultProp:l??null,onChange:c,caller:np}),[b,v]=y.useState(!1),w=Qr(u),_=dL(r),j=y.useRef(!1),[S,N]=y.useState(0);return y.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Pw,w),()=>k.removeEventListener(Pw,w)},[w]),a.jsx(oJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:y.useCallback(k=>x(k),[x]),onItemShiftTab:y.useCallback(()=>v(!0),[]),onFocusableItemAdd:y.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:y.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Ee(e.onMouseDown,()=>{j.current=!0}),onFocus:Ee(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const A=new CustomEvent(Pw,sJ);if(k.currentTarget.dispatchEvent(A),!A.defaultPrevented){const I=_().filter(L=>L.focusable),P=I.find(L=>L.active),q=I.find(L=>L.id===p),W=[P,q,...I].filter(Boolean).map(L=>L.ref.current);pL(W,d)}}j.current=!1}),onBlur:Ee(e.onBlur,()=>v(!1))})})}),hL="RovingFocusGroupItem",mL=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Ts(),u=i||c,d=lJ(hL,r),f=d.currentTabStopId===u,h=dL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return y.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(Jj.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Ee(e.onMouseDown,x=>{n?d.onItemFocus(u):x.preventDefault()}),onFocus:Ee(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ee(e.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){d.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const b=fJ(x,d.orientation,d.dir);if(b!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(x.currentTarget);w=d.loop?hJ(w,_+1):w.slice(_+1)}setTimeout(()=>pL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});mL.displayName=hL;var uJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fJ(e,t,r){const n=dJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return uJ[n]}function pL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function hJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var gL=fL,vL=mL;function mJ(e){const t=pJ(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(vJ);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function pJ(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=xJ(s),l=yJ(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var gJ=Symbol("radix.slottable");function vJ(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===gJ}function yJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function xJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Zj=["Enter"," "],bJ=["ArrowDown","PageUp","Home"],yL=["ArrowUp","PageDown","End"],wJ=[...bJ,...yL],jJ={ltr:[...Zj,"ArrowRight"],rtl:[...Zj,"ArrowLeft"]},_J={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sp="Menu",[Zh,SJ,NJ]=Nx(sp),[kc,xL]=Us(sp,[NJ,Ox,Ax]),Tx=Ox(),bL=Ax(),[kJ,Cc]=kc(sp),[CJ,ap]=kc(sp),wL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Tx(t),[c,u]=y.useState(null),d=y.useRef(!1),f=Qr(i),h=Gd(s);return y.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(oL,{...l,children:a.jsx(kJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(CJ,{scope:t,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};wL.displayName=sp;var EJ="MenuAnchor",_N=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Tx(r);return a.jsx(lL,{...s,...n,ref:t})});_N.displayName=EJ;var SN="MenuPortal",[PJ,jL]=kc(SN,{forceMount:void 0}),_L=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Cc(SN,t);return a.jsx(PJ,{scope:t,forceMount:r,children:a.jsx(Gn,{present:r||i.open,children:a.jsx(vx,{asChild:!0,container:s,children:n})})})};_L.displayName=SN;var Rs="MenuContent",[OJ,NN]=kc(Rs),SL=y.forwardRef((e,t)=>{const r=jL(Rs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Cc(Rs,e.__scopeMenu),o=ap(Rs,e.__scopeMenu);return a.jsx(Zh.Provider,{scope:e.__scopeMenu,children:a.jsx(Gn,{present:n||i.open,children:a.jsx(Zh.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(AJ,{...s,ref:t}):a.jsx(TJ,{...s,ref:t})})})})}),AJ=y.forwardRef((e,t)=>{const r=Cc(Rs,e.__scopeMenu),n=y.useRef(null),s=pt(t,n);return y.useEffect(()=>{const i=n.current;if(i)return rN(i)},[]),a.jsx(kN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ee(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),TJ=y.forwardRef((e,t)=>{const r=Cc(Rs,e.__scopeMenu);return a.jsx(kN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),RJ=mJ("MenuContent.ScrollLock"),kN=y.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,x=Cc(Rs,r),b=ap(Rs,r),v=Tx(r),w=bL(r),_=SJ(r),[j,S]=y.useState(null),N=y.useRef(null),k=pt(t,N,x.onContentChange),C=y.useRef(0),A=y.useRef(""),I=y.useRef(0),P=y.useRef(null),q=y.useRef("right"),T=y.useRef(0),W=g?xx:y.Fragment,L=g?{as:RJ,allowPinchZoom:!0}:void 0,K=M=>{var ue,qe;const R=A.current+M,ee=_().filter(ae=>!ae.disabled),$=document.activeElement,ie=(ue=ee.find(ae=>ae.ref.current===$))==null?void 0:ue.textValue,he=ee.map(ae=>ae.textValue),We=VJ(he,R,ie),Ve=(qe=ee.find(ae=>ae.textValue===We))==null?void 0:qe.ref.current;(function ae(we){A.current=we,window.clearTimeout(C.current),we!==""&&(C.current=window.setTimeout(()=>ae(""),1e3))})(R),Ve&&setTimeout(()=>Ve.focus())};y.useEffect(()=>()=>window.clearTimeout(C.current),[]),tN();const D=y.useCallback(M=>{var ee,$;return q.current===((ee=P.current)==null?void 0:ee.side)&&HJ(M,($=P.current)==null?void 0:$.area)},[]);return a.jsx(OJ,{scope:r,searchRef:A,onItemEnter:y.useCallback(M=>{D(M)&&M.preventDefault()},[D]),onItemLeave:y.useCallback(M=>{var R;D(M)||((R=N.current)==null||R.focus(),S(null))},[D]),onTriggerLeave:y.useCallback(M=>{D(M)&&M.preventDefault()},[D]),pointerGraceTimerRef:I,onPointerGraceIntentChange:y.useCallback(M=>{P.current=M},[]),children:a.jsx(W,{...L,children:a.jsx(gx,{asChild:!0,trapped:s,onMountAutoFocus:Ee(i,M=>{var R;M.preventDefault(),(R=N.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(px,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(gL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:Ee(c,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(cL,{role:"menu","aria-orientation":"vertical","data-state":UL(x.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Ee(p.onKeyDown,M=>{const ee=M.target.closest("[data-radix-menu-content]")===M.currentTarget,$=M.ctrlKey||M.altKey||M.metaKey,ie=M.key.length===1;ee&&(M.key==="Tab"&&M.preventDefault(),!$&&ie&&K(M.key));const he=N.current;if(M.target!==he||!wJ.includes(M.key))return;M.preventDefault();const Ve=_().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);yL.includes(M.key)&&Ve.reverse(),zJ(Ve)}),onBlur:Ee(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),A.current="")}),onPointerMove:Ee(e.onPointerMove,em(M=>{const R=M.target,ee=T.current!==M.clientX;if(M.currentTarget.contains(R)&&ee){const $=M.clientX>T.current?"right":"left";q.current=$,T.current=M.clientX}}))})})})})})})});SL.displayName=Rs;var MJ="MenuGroup",CN=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});CN.displayName=MJ;var $J="MenuLabel",NL=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});NL.displayName=$J;var Sv="MenuItem",QE="menu.itemSelect",Rx=y.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=y.useRef(null),o=ap(Sv,e.__scopeMenu),l=NN(Sv,e.__scopeMenu),c=pt(t,i),u=y.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(QE,{bubbles:!0,cancelable:!0});f.addEventListener(QE,m=>n==null?void 0:n(m),{once:!0}),RI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(kL,{...s,ref:c,disabled:r,onClick:Ee(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Ee(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Ee(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||Zj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Rx.displayName=Sv;var kL=y.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=NN(Sv,r),l=bL(r),c=y.useRef(null),u=pt(t,c),[d,f]=y.useState(!1),[h,m]=y.useState("");return y.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(Zh.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(vL,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Ee(e.onPointerMove,em(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ee(e.onPointerLeave,em(g=>o.onItemLeave(g))),onFocus:Ee(e.onFocus,()=>f(!0)),onBlur:Ee(e.onBlur,()=>f(!1))})})})}),IJ="MenuCheckboxItem",CL=y.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(TL,{scope:e.__scopeMenu,checked:r,children:a.jsx(Rx,{role:"menuitemcheckbox","aria-checked":Nv(r)?"mixed":r,...s,ref:t,"data-state":PN(r),onSelect:Ee(s.onSelect,()=>n==null?void 0:n(Nv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});CL.displayName=IJ;var EL="MenuRadioGroup",[DJ,LJ]=kc(EL,{value:void 0,onValueChange:()=>{}}),PL=y.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Qr(n);return a.jsx(DJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(CN,{...s,ref:t})})});PL.displayName=EL;var OL="MenuRadioItem",AL=y.forwardRef((e,t)=>{const{value:r,...n}=e,s=LJ(OL,e.__scopeMenu),i=r===s.value;return a.jsx(TL,{scope:e.__scopeMenu,checked:i,children:a.jsx(Rx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":PN(i),onSelect:Ee(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});AL.displayName=OL;var EN="MenuItemIndicator",[TL,FJ]=kc(EN,{checked:!1}),RL=y.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=FJ(EN,r);return a.jsx(Gn,{present:n||Nv(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":PN(i.checked)})})});RL.displayName=EN;var UJ="MenuSeparator",ML=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});ML.displayName=UJ;var BJ="MenuArrow",$L=y.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Tx(r);return a.jsx(uL,{...s,...n,ref:t})});$L.displayName=BJ;var qJ="MenuSub",[A$e,IL]=kc(qJ),Zf="MenuSubTrigger",DL=y.forwardRef((e,t)=>{const r=Cc(Zf,e.__scopeMenu),n=ap(Zf,e.__scopeMenu),s=IL(Zf,e.__scopeMenu),i=NN(Zf,e.__scopeMenu),o=y.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=y.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return y.useEffect(()=>d,[d]),y.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(_N,{asChild:!0,...u,children:a.jsx(kL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":UL(r.open),...e,ref:Hi(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ee(e.onPointerMove,em(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ee(e.onPointerLeave,em(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,x=p==="right",b=x?-5:5,v=h[x?"left":"right"],w=h[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Ee(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||jJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});DL.displayName=Zf;var LL="MenuSubContent",FL=y.forwardRef((e,t)=>{const r=jL(Rs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Cc(Rs,e.__scopeMenu),o=ap(Rs,e.__scopeMenu),l=IL(LL,e.__scopeMenu),c=y.useRef(null),u=pt(t,c);return a.jsx(Zh.Provider,{scope:e.__scopeMenu,children:a.jsx(Gn,{present:n||i.open,children:a.jsx(Zh.Slot,{scope:e.__scopeMenu,children:a.jsx(kN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ee(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Ee(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ee(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=_J[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});FL.displayName=LL;function UL(e){return e?"open":"closed"}function Nv(e){return e==="indeterminate"}function PN(e){return Nv(e)?"indeterminate":e?"checked":"unchecked"}function zJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function WJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function VJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=WJ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function KJ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function HJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return KJ(r,t)}function em(e){return t=>t.pointerType==="mouse"?e(t):void 0}var GJ=wL,YJ=_N,QJ=_L,XJ=SL,JJ=CN,ZJ=NL,eZ=Rx,tZ=CL,rZ=PL,nZ=AL,sZ=RL,aZ=ML,iZ=$L,oZ=DL,lZ=FL,Mx="DropdownMenu",[cZ]=Us(Mx,[xL]),An=xL(),[uZ,BL]=cZ(Mx),qL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=An(t),u=y.useRef(null),[d,f]=Qa({prop:s,defaultProp:i??!1,onChange:o,caller:Mx});return a.jsx(uZ,{scope:t,triggerId:Ts(),triggerRef:u,contentId:Ts(),open:d,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(GJ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};qL.displayName=Mx;var zL="DropdownMenuTrigger",WL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=BL(zL,r),o=An(r);return a.jsx(YJ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Hi(t,i.triggerRef),onPointerDown:Ee(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Ee(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WL.displayName=zL;var dZ="DropdownMenuPortal",VL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=An(t);return a.jsx(QJ,{...n,...r})};VL.displayName=dZ;var KL="DropdownMenuContent",HL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=BL(KL,r),i=An(r),o=y.useRef(!1);return a.jsx(XJ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Ee(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ee(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});HL.displayName=KL;var fZ="DropdownMenuGroup",hZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(JJ,{...s,...n,ref:t})});hZ.displayName=fZ;var mZ="DropdownMenuLabel",GL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(ZJ,{...s,...n,ref:t})});GL.displayName=mZ;var pZ="DropdownMenuItem",YL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(eZ,{...s,...n,ref:t})});YL.displayName=pZ;var gZ="DropdownMenuCheckboxItem",QL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(tZ,{...s,...n,ref:t})});QL.displayName=gZ;var vZ="DropdownMenuRadioGroup",yZ=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(rZ,{...s,...n,ref:t})});yZ.displayName=vZ;var xZ="DropdownMenuRadioItem",XL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(nZ,{...s,...n,ref:t})});XL.displayName=xZ;var bZ="DropdownMenuItemIndicator",JL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(sZ,{...s,...n,ref:t})});JL.displayName=bZ;var wZ="DropdownMenuSeparator",ZL=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(aZ,{...s,...n,ref:t})});ZL.displayName=wZ;var jZ="DropdownMenuArrow",_Z=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(iZ,{...s,...n,ref:t})});_Z.displayName=jZ;var SZ="DropdownMenuSubTrigger",e3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(oZ,{...s,...n,ref:t})});e3.displayName=SZ;var NZ="DropdownMenuSubContent",t3=y.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=An(r);return a.jsx(lZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});t3.displayName=NZ;var kZ=qL,CZ=WL,EZ=VL,r3=HL,n3=GL,s3=YL,a3=QL,i3=XL,o3=JL,l3=ZL,c3=e3,u3=t3;const Ms=kZ,$s=CZ,PZ=y.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(c3,{ref:s,className:Z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Vr,{className:"ml-auto h-4 w-4"})]}));PZ.displayName=c3.displayName;const OZ=y.forwardRef(({className:e,...t},r)=>a.jsx(u3,{ref:r,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));OZ.displayName=u3.displayName;const ds=y.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(EZ,{children:a.jsx(r3,{ref:n,sideOffset:t,className:Z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ds.displayName=r3.displayName;const Rt=y.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(s3,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Rt.displayName=s3.displayName;const AZ=y.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(a3,{ref:s,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(o3,{children:a.jsx(Vd,{className:"h-4 w-4"})})}),t]}));AZ.displayName=a3.displayName;const TZ=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(i3,{ref:n,className:Z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(o3,{children:a.jsx(XH,{className:"h-2 w-2 fill-current"})})}),t]}));TZ.displayName=i3.displayName;const d3=y.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(n3,{ref:n,className:Z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));d3.displayName=n3.displayName;const e_=y.forwardRef(({className:e,...t},r)=>a.jsx(l3,{ref:r,className:Z("-mx-1 my-1 h-px bg-border",e),...t}));e_.displayName=l3.displayName;function RZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:Z("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(gI,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Me,{children:"Sign out"}),a.jsx($e,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function MZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=cx(),s=il(),[i,o]=y.useState(!1),[l,c]=y.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:Z("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(GH,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(me,{to:"/help","aria-label":"Help",children:a.jsx(Xm,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(_x,{className:"h-10 w-10",children:[a.jsx(mN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Sx,{className:"bg-primary/20 text-primary",children:a.jsx(ep,{className:"h-5 w-5"})})]})})}),a.jsxs(ds,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(d3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(e_,{}),a.jsx(Rt,{asChild:!0,children:a.jsx(me,{to:"/profile",children:"Profile"})}),a.jsx(Rt,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})}),a.jsx(e_,{}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(gI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(me,{to:"/login",children:"Sign in"})}),a.jsx(E,{size:"sm",asChild:!0,children:a.jsx(me,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(RZ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function $Z(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(pQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(MZ,{}),a.jsx("main",{className:Z("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(O4,{})})]})]})}const X=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const re=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));re.displayName="CardHeader";const se=y.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:Z("text-lg font-semibold leading-none tracking-tight",e),...t}));se.displayName="CardTitle";const ye=y.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:Z("text-sm text-muted-foreground",e),...t}));ye.displayName="CardDescription";const J=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));J.displayName="CardContent";const IZ=y.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:Z("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));IZ.displayName="CardFooter";const DZ="reveal-visible";function Xp(e){const t=y.useRef(null),[r,n]=y.useState(!1);return y.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(DZ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const LZ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],FZ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],UZ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],BZ={MessageSquare:Jm,Zap:kI,Smartphone:u7,Globe:s7,Shield:Or,Clock:Mo};function qZ(){const[e,t]=y.useState(null),r=Xp(),n=Xp(),s=Xp(),i=Xp();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(E,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Jr,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(E,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Ho,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(E,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:LZ.map((o,l)=>a.jsx(zZ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:Z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:FZ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:Z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:UZ.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-lg",children:o.planName}),a.jsx(ye,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(J,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Ie,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Te,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Re,{children:[a.jsx(Me,{children:e.planName}),a.jsx($e,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(E,{asChild:!0,className:"mt-6 w-full",children:a.jsx(me,{to:"/signup",children:"Get started"})})]})})})]})}function zZ({feature:e,index:t}){const r=BZ[e.iconName]??kI;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(re,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(se,{className:"text-lg",children:e.name}),a.jsx(ye,{children:e.description})]})})}var ip=e=>e.type==="checkbox",$l=e=>e instanceof Date,Ln=e=>e==null;const f3=e=>typeof e=="object";var Ar=e=>!Ln(e)&&!Array.isArray(e)&&f3(e)&&!$l(e),WZ=e=>Ar(e)&&e.target?ip(e.target)?e.target.checked:e.target.value:e,VZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,KZ=(e,t)=>e.has(VZ(t)),HZ=e=>{const t=e.constructor&&e.constructor.prototype;return Ar(t)&&t.hasOwnProperty("isPrototypeOf")},ON=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function $r(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(ON&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Ar(e)&&HZ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=$r(e[s]));return n}var $x=e=>/^\w*$/.test(e),lr=e=>e===void 0,AN=e=>Array.isArray(e)?e.filter(Boolean):[],TN=e=>AN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),De=(e,t,r)=>{if(!t||!Ar(e))return r;const n=($x(t)?[t]:TN(t)).reduce((s,i)=>Ln(s)?s:s[i],e);return lr(n)||n===e?lr(e[t])?r:e[t]:n},Ta=e=>typeof e=="boolean",ua=e=>typeof e=="function",Wt=(e,t,r)=>{let n=-1;const s=$x(t)?[t]:TN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Ar(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const XE={BLUR:"blur",FOCUS_OUT:"focusout"},da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},li={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},GZ=O.createContext(null);GZ.displayName="HookFormControlContext";var YZ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==da.all&&(t._proxyFormState[o]=!n||da.all),e[o]}});return s};const QZ=typeof window<"u"?O.useLayoutEffect:O.useEffect;var ss=e=>typeof e=="string",XZ=(e,t,r,n,s)=>ss(e)?(n&&t.watch.add(e),De(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),De(r,i))):(n&&(t.watchAll=!0),r),t_=e=>Ln(e)||!f3(e);function bo(e,t,r=new WeakSet){if(t_(e)||t_(t))return Object.is(e,t);if($l(e)&&$l(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if($l(o)&&$l(l)||Ar(o)&&Ar(l)||Array.isArray(o)&&Array.isArray(l)?!bo(o,l,r):!Object.is(o,l))return!1}}return!0}const JZ=O.createContext(null);JZ.displayName="HookFormContext";var h3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},gh=e=>Array.isArray(e)?e:[e],JE=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function m3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Ar(s)&&i){const o=m3(s,i);Ar(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var _n=e=>Ar(e)&&!Object.keys(e).length,RN=e=>e.type==="file",kv=e=>{if(!ON)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},p3=e=>e.type==="select-multiple",MN=e=>e.type==="radio",ZZ=e=>MN(e)||ip(e),Ow=e=>kv(e)&&e.isConnected;function eee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=lr(e)?n++:e[t[n++]];return e}function tee(e){for(const t in e)if(e.hasOwnProperty(t)&&!lr(e[t]))return!1;return!0}function Sr(e,t){const r=Array.isArray(t)?t:$x(t)?[t]:TN(t),n=r.length===1?e:eee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Ar(n)&&_n(n)||Array.isArray(n)&&tee(n))&&Sr(e,r.slice(0,-1)),e}var ree=e=>{for(const t in e)if(ua(e[t]))return!0;return!1};function g3(e){return Array.isArray(e)||Ar(e)&&!ree(e)}function r_(e,t={}){for(const r in e){const n=e[r];g3(n)?(t[r]=Array.isArray(n)?[]:{},r_(n,t[r])):lr(n)||(t[r]=!0)}return t}function ru(e,t,r){r||(r=r_(t));for(const n in e){const s=e[n];if(g3(s))lr(t)||t_(r[n])?r[n]=r_(s,Array.isArray(s)?[]:{}):ru(s,Ln(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!bo(s,i)}}return r}const ZE={value:!1,isValid:!1},eP={value:!0,isValid:!0};var v3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!lr(e[0].attributes.value)?lr(e[0].value)||e[0].value===""?eP:{value:e[0].value,isValid:!0}:eP:ZE}return ZE},y3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>lr(e)?e:t?e===""?NaN:e&&+e:r&&ss(e)?new Date(e):n?n(e):e;const tP={isValid:!1,value:null};var x3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,tP):tP;function rP(e){const t=e.ref;return RN(t)?t.files:MN(t)?x3(e.refs).value:p3(t)?[...t.selectedOptions].map(({value:r})=>r):ip(t)?v3(e.refs).value:y3(lr(t.value)?e.ref.value:t.value,e)}var nee=(e,t,r,n)=>{const s={};for(const i of e){const o=De(t,i);o&&Wt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Cv=e=>e instanceof RegExp,Cf=e=>lr(e)?e:Cv(e)?e.source:Ar(e)?Cv(e.value)?e.value.source:e.value:e,nP=e=>({isOnSubmit:!e||e===da.onSubmit,isOnBlur:e===da.onBlur,isOnChange:e===da.onChange,isOnAll:e===da.all,isOnTouch:e===da.onTouched});const sP="AsyncFunction";var see=e=>!!e&&!!e.validate&&!!(ua(e.validate)&&e.validate.constructor.name===sP||Ar(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===sP)),aee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),aP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const vh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=De(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(vh(l,t))break}else if(Ar(l)&&vh(l,t))break}}};function iP(e,t,r){const n=De(e,r);if(n||$x(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=De(t,i),l=De(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var iee=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return _n(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||da.all))},oee=(e,t,r)=>!e||!t||e===t||gh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),lee=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,cee=(e,t)=>!AN(De(e,t)).length&&Sr(e,t),uee=(e,t,r)=>{const n=gh(De(e,r));return Wt(n,"root",t[r]),Wt(e,r,n),e};function oP(e,t,r="validate"){if(ss(e)||Array.isArray(e)&&e.every(ss)||Ta(e)&&!e)return{type:r,message:ss(e)?e:"",ref:t}}var Hc=e=>Ar(e)&&!Cv(e)?e:{value:e,message:""},lP=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:x,mount:b}=e._f,v=De(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=P=>{s&&w.reportValidity&&(w.setCustomValidity(Ta(P)?"":P||""),w.reportValidity())},j={},S=MN(o),N=ip(o),k=S||N,C=(x||RN(o))&&lr(o.value)&&lr(v)||kv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,A=h3.bind(null,p,n,j),I=(P,q,T,W=li.maxLength,L=li.minLength)=>{const K=P?q:T;j[p]={type:P?W:L,message:K,ref:o,...A(P?W:L,K)}};if(i?!Array.isArray(v)||!v.length:c&&(!k&&(C||Ln(v))||Ta(v)&&!v||N&&!v3(l).isValid||S&&!x3(l).isValid)){const{value:P,message:q}=ss(c)?{value:!!c,message:c}:Hc(c);if(P&&(j[p]={type:li.required,message:q,ref:w,...A(li.required,q)},!n))return _(q),j}if(!C&&(!Ln(f)||!Ln(h))){let P,q;const T=Hc(h),W=Hc(f);if(!Ln(v)&&!isNaN(v)){const L=o.valueAsNumber||v&&+v;Ln(T.value)||(P=L>T.value),Ln(W.value)||(q=L<W.value)}else{const L=o.valueAsDate||new Date(v),K=R=>new Date(new Date().toDateString()+" "+R),D=o.type=="time",M=o.type=="week";ss(T.value)&&v&&(P=D?K(v)>K(T.value):M?v>T.value:L>new Date(T.value)),ss(W.value)&&v&&(q=D?K(v)<K(W.value):M?v<W.value:L<new Date(W.value))}if((P||q)&&(I(!!P,T.message,W.message,li.max,li.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(ss(v)||i&&Array.isArray(v))){const P=Hc(u),q=Hc(d),T=!Ln(P.value)&&v.length>+P.value,W=!Ln(q.value)&&v.length<+q.value;if((T||W)&&(I(T,P.message,q.message),!n))return _(j[p].message),j}if(m&&!C&&ss(v)){const{value:P,message:q}=Hc(m);if(Cv(P)&&!v.match(P)&&(j[p]={type:li.pattern,message:q,ref:o,...A(li.pattern,q)},!n))return _(q),j}if(g){if(ua(g)){const P=await g(v,r),q=oP(P,w);if(q&&(j[p]={...q,...A(li.validate,q.message)},!n))return _(q.message),j}else if(Ar(g)){let P={};for(const q in g){if(!_n(P)&&!n)break;const T=oP(await g[q](v,r),w,q);T&&(P={...T,...A(q,T.message)},_(T.message),n&&(j[p]=P))}if(!_n(P)&&(j[p]={ref:w,...P},!n))return j}}return _(!0),j};const dee={mode:da.onSubmit,reValidateMode:da.onChange,shouldFocusError:!0};function fee(e={}){let t={...dee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ua(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Ar(t.defaultValues)||Ar(t.values)?$r(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:$r(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:JE(),state:JE()},g=t.criteriaMode===da.all,p=F=>H=>{clearTimeout(u),u=setTimeout(F,H)},x=async F=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||F)){let H;t.resolver?(H=_n((await k()).errors),b()):H=await A(n,!0),H!==r.isValid&&m.state.next({isValid:H})}},b=(F,H)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((F||Array.from(l.mount)).forEach(U=>{U&&(H?Wt(r.validatingFields,U,H):Sr(r.validatingFields,U))}),m.state.next({validatingFields:r.validatingFields,isValidating:!_n(r.validatingFields)}))},v=(F,H=[],U,le,de=!0,ne=!0)=>{if(le&&U&&!t.disabled){if(o.action=!0,ne&&Array.isArray(De(n,F))){const _e=U(De(n,F),le.argA,le.argB);de&&Wt(n,F,_e)}if(ne&&Array.isArray(De(r.errors,F))){const _e=U(De(r.errors,F),le.argA,le.argB);de&&Wt(r.errors,F,_e),cee(r.errors,F)}if((f.touchedFields||h.touchedFields)&&ne&&Array.isArray(De(r.touchedFields,F))){const _e=U(De(r.touchedFields,F),le.argA,le.argB);de&&Wt(r.touchedFields,F,_e)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=ru(s,i)),m.state.next({name:F,isDirty:P(F,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wt(i,F,H)},w=(F,H)=>{Wt(r.errors,F,H),m.state.next({errors:r.errors})},_=F=>{r.errors=F,m.state.next({errors:r.errors,isValid:!1})},j=(F,H,U,le)=>{const de=De(n,F);if(de){const ne=De(i,F,lr(U)?De(s,F):U);lr(ne)||le&&le.defaultChecked||H?Wt(i,F,H?ne:rP(de._f)):W(F,ne),o.mount&&!o.action&&x()}},S=(F,H,U,le,de)=>{let ne=!1,_e=!1;const Ot={name:F};if(!t.disabled){if(!U||le){(f.isDirty||h.isDirty)&&(_e=r.isDirty,r.isDirty=Ot.isDirty=P(),ne=_e!==Ot.isDirty);const At=bo(De(s,F),H);_e=!!De(r.dirtyFields,F),At?Sr(r.dirtyFields,F):Wt(r.dirtyFields,F,!0),Ot.dirtyFields=r.dirtyFields,ne=ne||(f.dirtyFields||h.dirtyFields)&&_e!==!At}if(U){const At=De(r.touchedFields,F);At||(Wt(r.touchedFields,F,U),Ot.touchedFields=r.touchedFields,ne=ne||(f.touchedFields||h.touchedFields)&&At!==U)}ne&&de&&m.state.next(Ot)}return ne?Ot:{}},N=(F,H,U,le)=>{const de=De(r.errors,F),ne=(f.isValid||h.isValid)&&Ta(H)&&r.isValid!==H;if(t.delayError&&U?(c=p(()=>w(F,U)),c(t.delayError)):(clearTimeout(u),c=null,U?Wt(r.errors,F,U):Sr(r.errors,F)),(U?!bo(de,U):de)||!_n(le)||ne){const _e={...le,...ne&&Ta(H)?{isValid:H}:{},errors:r.errors,name:F};r={...r,..._e},m.state.next(_e)}},k=async F=>(b(F,!0),await t.resolver(i,t.context,nee(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async F=>{const{errors:H}=await k(F);if(b(F),F)for(const U of F){const le=De(H,U);le?Wt(r.errors,U,le):Sr(r.errors,U)}else r.errors=H;return H},A=async(F,H,U={valid:!0})=>{for(const le in F){const de=F[le];if(de){const{_f:ne,..._e}=de;if(ne){const Ot=l.array.has(ne.name),At=de._f&&see(de._f);At&&f.validatingFields&&b([ne.name],!0);const _r=await lP(de,l.disabled,i,g,t.shouldUseNativeValidation&&!H,Ot);if(At&&f.validatingFields&&b([ne.name]),_r[ne.name]&&(U.valid=!1,H||e.shouldUseNativeValidation))break;!H&&(De(_r,ne.name)?Ot?uee(r.errors,_r,ne.name):Wt(r.errors,ne.name,_r[ne.name]):Sr(r.errors,ne.name))}!_n(_e)&&await A(_e,H,U)}}return U.valid},I=()=>{for(const F of l.unMount){const H=De(n,F);H&&(H._f.refs?H._f.refs.every(U=>!Ow(U)):!Ow(H._f.ref))&&qe(F)}l.unMount=new Set},P=(F,H)=>!t.disabled&&(F&&H&&Wt(i,F,H),!bo(ee(),s)),q=(F,H,U)=>XZ(F,l,{...o.mount?i:lr(H)?s:ss(F)?{[F]:H}:H},U,H),T=F=>AN(De(o.mount?i:s,F,t.shouldUnregister?De(s,F,[]):[])),W=(F,H,U={})=>{const le=De(n,F);let de=H;if(le){const ne=le._f;ne&&(!ne.disabled&&Wt(i,F,y3(H,ne)),de=kv(ne.ref)&&Ln(H)?"":H,p3(ne.ref)?[...ne.ref.options].forEach(_e=>_e.selected=de.includes(_e.value)):ne.refs?ip(ne.ref)?ne.refs.forEach(_e=>{(!_e.defaultChecked||!_e.disabled)&&(Array.isArray(de)?_e.checked=!!de.find(Ot=>Ot===_e.value):_e.checked=de===_e.value||!!de)}):ne.refs.forEach(_e=>_e.checked=_e.value===de):RN(ne.ref)?ne.ref.value="":(ne.ref.value=de,ne.ref.type||m.state.next({name:F,values:$r(i)})))}(U.shouldDirty||U.shouldTouch)&&S(F,de,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&R(F)},L=(F,H,U)=>{for(const le in H){if(!H.hasOwnProperty(le))return;const de=H[le],ne=F+"."+le,_e=De(n,ne);(l.array.has(F)||Ar(de)||_e&&!_e._f)&&!$l(de)?L(ne,de,U):W(ne,de,U)}},K=(F,H,U={})=>{const le=De(n,F),de=l.array.has(F),ne=$r(H);Wt(i,F,ne),de?(m.array.next({name:F,values:$r(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&U.shouldDirty&&m.state.next({name:F,dirtyFields:ru(s,i),isDirty:P(F,ne)})):le&&!le._f&&!Ln(ne)?L(F,ne,U):W(F,ne,U),aP(F,l)?m.state.next({...r,name:F,values:$r(i)}):m.state.next({name:o.mount?F:void 0,values:$r(i)})},D=async F=>{o.mount=!0;const H=F.target;let U=H.name,le=!0;const de=De(n,U),ne=At=>{le=Number.isNaN(At)||$l(At)&&isNaN(At.getTime())||bo(At,De(i,U,At))},_e=nP(t.mode),Ot=nP(t.reValidateMode);if(de){let At,_r;const ii=H.type?rP(de._f):WZ(F),Ks=F.type===XE.BLUR||F.type===XE.FOCUS_OUT,mf=!aee(de._f)&&!t.resolver&&!De(r.errors,U)&&!de._f.deps||lee(Ks,De(r.touchedFields,U),r.isSubmitted,Ot,_e),Pa=aP(U,l,Ks);Wt(i,U,ii),Ks?(!H||!H.readOnly)&&(de._f.onBlur&&de._f.onBlur(F),c&&c(0)):de._f.onChange&&de._f.onChange(F);const Ic=S(U,ii,Ks),Zi=!_n(Ic)||Pa;if(!Ks&&m.state.next({name:U,type:F.type,values:$r(i)}),mf)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ks&&x():Ks||x()),Zi&&m.state.next({name:U,...Pa?{}:Ic});if(!Ks&&Pa&&m.state.next({...r}),t.resolver){const{errors:vp}=await k([U]);if(b([U]),ne(ii),le){const Mb=iP(r.errors,n,U),pf=iP(vp,n,Mb.name||U);At=pf.error,U=pf.name,_r=_n(vp)}}else b([U],!0),At=(await lP(de,l.disabled,i,g,t.shouldUseNativeValidation))[U],b([U]),ne(ii),le&&(At?_r=!1:(f.isValid||h.isValid)&&(_r=await A(n,!0)));le&&(de._f.deps&&(!Array.isArray(de._f.deps)||de._f.deps.length>0)&&R(de._f.deps),N(U,_r,At,Ic))}},M=(F,H)=>{if(De(r.errors,H)&&F.focus)return F.focus(),1},R=async(F,H={})=>{let U,le;const de=gh(F);if(t.resolver){const ne=await C(lr(F)?F:de);U=_n(ne),le=F?!de.some(_e=>De(ne,_e)):U}else F?(le=(await Promise.all(de.map(async ne=>{const _e=De(n,ne);return await A(_e&&_e._f?{[ne]:_e}:_e)}))).every(Boolean),!(!le&&!r.isValid)&&x()):le=U=await A(n);return m.state.next({...!ss(F)||(f.isValid||h.isValid)&&U!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:U}:{},errors:r.errors}),H.shouldFocus&&!le&&vh(n,M,F?de:l.mount),le},ee=(F,H)=>{let U={...o.mount?i:s};return H&&(U=m3(H.dirtyFields?r.dirtyFields:r.touchedFields,U)),lr(F)?U:ss(F)?De(U,F):F.map(le=>De(U,le))},$=(F,H)=>({invalid:!!De((H||r).errors,F),isDirty:!!De((H||r).dirtyFields,F),error:De((H||r).errors,F),isValidating:!!De(r.validatingFields,F),isTouched:!!De((H||r).touchedFields,F)}),ie=F=>{F&&gh(F).forEach(H=>Sr(r.errors,H)),m.state.next({errors:F?r.errors:{}})},he=(F,H,U)=>{const le=(De(n,F,{_f:{}})._f||{}).ref,de=De(r.errors,F)||{},{ref:ne,message:_e,type:Ot,...At}=de;Wt(r.errors,F,{...At,...H,ref:le}),m.state.next({name:F,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&le&&le.focus&&le.focus()},We=(F,H)=>ua(F)?m.state.subscribe({next:U=>"values"in U&&F(q(void 0,H),U)}):q(F,H,!0),Ve=F=>m.state.subscribe({next:H=>{oee(F.name,H.name,F.exact)&&iee(H,F.formState||f,jr,F.reRenderRoot)&&F.callback({values:{...i},...r,...H,defaultValues:s})}}).unsubscribe,ue=F=>(o.mount=!0,h={...h,...F.formState},Ve({...F,formState:{...d,...F.formState}})),qe=(F,H={})=>{for(const U of F?gh(F):l.mount)l.mount.delete(U),l.array.delete(U),H.keepValue||(Sr(n,U),Sr(i,U)),!H.keepError&&Sr(r.errors,U),!H.keepDirty&&Sr(r.dirtyFields,U),!H.keepTouched&&Sr(r.touchedFields,U),!H.keepIsValidating&&Sr(r.validatingFields,U),!t.shouldUnregister&&!H.keepDefaultValue&&Sr(s,U);m.state.next({values:$r(i)}),m.state.next({...r,...H.keepDirty?{isDirty:P()}:{}}),!H.keepIsValid&&x()},ae=({disabled:F,name:H})=>{if(Ta(F)&&o.mount||F||l.disabled.has(H)){const de=l.disabled.has(H)!==!!F;F?l.disabled.add(H):l.disabled.delete(H),de&&o.mount&&!o.action&&x()}},we=(F,H={})=>{let U=De(n,F);const le=Ta(H.disabled)||Ta(t.disabled);return Wt(n,F,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:F}},name:F,mount:!0,...H}}),l.mount.add(F),U?ae({disabled:Ta(H.disabled)?H.disabled:t.disabled,name:F}):j(F,!0,H.value),{...le?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:Cf(H.min),max:Cf(H.max),minLength:Cf(H.minLength),maxLength:Cf(H.maxLength),pattern:Cf(H.pattern)}:{},name:F,onChange:D,onBlur:D,ref:de=>{if(de){we(F,H),U=De(n,F);const ne=lr(de.value)&&de.querySelectorAll&&de.querySelectorAll("input,select,textarea")[0]||de,_e=ZZ(ne),Ot=U._f.refs||[];if(_e?Ot.find(At=>At===ne):ne===U._f.ref)return;Wt(n,F,{_f:{...U._f,..._e?{refs:[...Ot.filter(Ow),ne,...Array.isArray(De(s,F))?[{}]:[]],ref:{type:ne.type,name:F}}:{ref:ne}}}),j(F,!1,void 0,ne)}else U=De(n,F,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(KZ(l.array,F)&&o.action)&&l.unMount.add(F)}}},G=()=>t.shouldFocusError&&vh(n,M,l.mount),Q=F=>{Ta(F)&&(m.state.next({disabled:F}),vh(n,(H,U)=>{const le=De(n,U);le&&(H.disabled=le._f.disabled||F,Array.isArray(le._f.refs)&&le._f.refs.forEach(de=>{de.disabled=le._f.disabled||F}))},0,!1))},Xe=(F,H)=>async U=>{let le;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let de=$r(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:ne,values:_e}=await k();b(),r.errors=ne,de=$r(_e)}else await A(n);if(l.disabled.size)for(const ne of l.disabled)Sr(de,ne);if(Sr(r.errors,"root"),_n(r.errors)){m.state.next({errors:{}});try{await F(de,U)}catch(ne){le=ne}}else H&&await H({...r.errors},U),G(),setTimeout(G);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_n(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},Ke=(F,H={})=>{De(n,F)&&(lr(H.defaultValue)?K(F,$r(De(s,F))):(K(F,H.defaultValue),Wt(s,F,$r(H.defaultValue))),H.keepTouched||Sr(r.touchedFields,F),H.keepDirty||(Sr(r.dirtyFields,F),r.isDirty=H.defaultValue?P(F,$r(De(s,F))):P()),H.keepError||(Sr(r.errors,F),f.isValid&&x()),m.state.next({...r}))},xt=(F,H={})=>{const U=F?$r(F):s,le=$r(U),de=_n(F),ne=de?s:le;if(H.keepDefaultValues||(s=U),!H.keepValues){if(H.keepDirtyValues){const _e=new Set([...l.mount,...Object.keys(ru(s,i))]);for(const Ot of Array.from(_e)){const At=De(r.dirtyFields,Ot),_r=De(i,Ot),ii=De(ne,Ot);At&&!lr(_r)?Wt(ne,Ot,_r):!At&&!lr(ii)&&K(Ot,ii)}}else{if(ON&&lr(F))for(const _e of l.mount){const Ot=De(n,_e);if(Ot&&Ot._f){const At=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(kv(At)){const _r=At.closest("form");if(_r){_r.reset();break}}}}if(H.keepFieldsRef)for(const _e of l.mount)K(_e,De(ne,_e));else n={}}i=t.shouldUnregister?H.keepDefaultValues?$r(s):{}:$r(ne),m.array.next({values:{...ne}}),m.state.next({values:{...ne}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!t.shouldUnregister&&!_n(ne),o.watch=!!t.shouldUnregister,o.keepIsValid=!!H.keepIsValid,o.action=!1,H.keepErrors||(r.errors={}),m.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:de?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!bo(F,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:de?{}:H.keepDirtyValues?H.keepDefaultValues&&i?ru(s,i):r.dirtyFields:H.keepDefaultValues&&F?ru(s,F):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ot=(F,H)=>xt(ua(F)?F(i):F,{...t.resetOptions,...H}),zt=(F,H={})=>{const U=De(n,F),le=U&&U._f;if(le){const de=le.refs?le.refs[0]:le.ref;de.focus&&setTimeout(()=>{de.focus(),H.shouldSelect&&ua(de.select)&&de.select()})}},jr=F=>{r={...r,...F}},vs={control:{register:we,unregister:qe,getFieldState:$,handleSubmit:Xe,setError:he,_subscribe:Ve,_runSchema:k,_updateIsValidating:b,_focusError:G,_getWatch:q,_getDirty:P,_setValid:x,_setFieldArray:v,_setDisabledField:ae,_setErrors:_,_getFieldArray:T,_reset:xt,_resetDefaultValues:()=>ua(t.defaultValues)&&t.defaultValues().then(F=>{ot(F,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Q,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return s},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:ue,trigger:R,register:we,handleSubmit:Xe,watch:We,setValue:K,getValues:ee,reset:ot,resetField:Ke,clearErrors:ie,unregister:qe,setError:he,setFocus:zt,getFieldState:$};return{...vs,formControl:vs}}function ut(e={}){const t=O.useRef(void 0),r=O.useRef(void 0),[n,s]=O.useState({isDirty:!1,isValidating:!1,isLoading:ua(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ua(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ua(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=fee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,QZ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),O.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),O.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),O.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),O.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),O.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),O.useEffect(()=>{var o;e.values&&!bo(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),O.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=O.useMemo(()=>YZ(n,i),[i,n]),t.current}const cP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=De(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},b3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?cP(n.ref,r,e):n.refs&&n.refs.forEach(s=>cP(s,r,e))}},hee=(e,t)=>{t.shouldUseNativeValidation&&b3(e,t);const r={};for(const n in e){const s=De(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(mee(t.names||Object.keys(e),n)){const o=Object.assign({},De(r,n));Wt(o,"root",i),Wt(r,n,o)}else Wt(r,n,i)}return r},mee=(e,t)=>e.some(r=>r.startsWith(t+"."));var pee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=h3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},dt=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&b3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:hee(pee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var uP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(uP||(uP={}));const Le=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mo=e=>{switch(typeof e){case"undefined":return Le.undefined;case"string":return Le.string;case"number":return Number.isNaN(e)?Le.nan:Le.number;case"boolean":return Le.boolean;case"function":return Le.function;case"bigint":return Le.bigint;case"symbol":return Le.symbol;case"object":return Array.isArray(e)?Le.array:e===null?Le.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Le.promise:typeof Map<"u"&&e instanceof Map?Le.map:typeof Set<"u"&&e instanceof Set?Le.set:typeof Date<"u"&&e instanceof Date?Le.date:Le.object;default:return Le.unknown}},xe=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Di extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Di))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Di.create=e=>new Di(e);const n_=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===Le.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let gee=n_;function vee(){return gee}const yee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ce(e,t){const r=vee(),n=yee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===n_?void 0:n_].filter(s=>!!s)});e.common.issues.push(n)}class hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return hs.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),eh=e=>({status:"dirty",value:e}),qs=e=>({status:"valid",value:e}),dP=e=>e.status==="aborted",fP=e=>e.status==="dirty",cd=e=>e.status==="valid",Ev=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class tl{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const hP=(e,t)=>{if(cd(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Di(e.common.issues);return this._error=r,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return mo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new hs,ctx:{common:t.parent.common,data:t.data,parsedType:mo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Ev(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return hP(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return cd(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>cd(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:mo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(Ev(s)?s:Promise.resolve(s));return hP(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:xe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new fd({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Go.create(this,this._def)}nullable(){return hd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ha.create(this)}promise(){return Tv.create(this,this._def)}or(t){return Ov.create([this,t],this._def)}and(t){return Av.create(this,t,this._def)}transform(t){return new fd({...ht(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new i_({...ht(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new Bee({typeName:et.ZodBranded,type:this,...ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new o_({...ht(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return $N.create(this,t)}readonly(){return l_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xee=/^c[^\s-]{8,}$/i,bee=/^[0-9a-z]+$/,wee=/^[0-9A-HJKMNP-TV-Z]{26}$/i,jee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_ee=/^[a-z0-9_-]{21}$/i,See=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Nee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,kee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Cee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Aw;const Eee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Pee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Oee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Aee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Tee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ree=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,w3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Mee=new RegExp(`^${w3}$`);function j3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function $ee(e){return new RegExp(`^${j3(e)}$`)}function Iee(e){let t=`${w3}T${j3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Dee(e,t){return!!((t==="v4"||!t)&&Eee.test(e)||(t==="v6"||!t)&&Oee.test(e))}function Lee(e,t){if(!See.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Fee(e,t){return!!((t==="v4"||!t)&&Pee.test(e)||(t==="v6"||!t)&&Aee.test(e))}class bi extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Le.string){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Le.string,received:i.parsedType}),Ze}const n=new hs;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ce(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ce(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")kee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Aw||(Aw=new RegExp(Cee,"u")),Aw.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")jee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")_ee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")xee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")bee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")wee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ce(s,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Iee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Mee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?$ee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Nee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Dee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Lee(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?Fee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?Tee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Ree.test(t.data)||(s=this._getOrReturnCtx(t,s),Ce(s,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:xe.invalid_string,...Ue.errToObj(n)})}_addCheck(t){return new bi({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ue.errToObj(r)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new bi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}bi.create=e=>new bi({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});function Uee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class uc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Le.number){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Le.number,received:i.parsedType}),Ze}let n;const s=new hs;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?Uee(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new uc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new uc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}uc.create=e=>new uc({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class dc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Le.bigint)return this._getInvalidInput(t);let n;const s=new hs;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ce(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:xe.invalid_type,expected:Le.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new dc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new dc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}dc.create=e=>new dc({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});class Pv extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Le.boolean){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.boolean,received:n.parsedType}),Ze}return qs(t.data)}}Pv.create=e=>new Pv({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class ud extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Le.date){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_type,expected:Le.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ce(i,{code:xe.invalid_date}),Ze}const n=new hs;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ce(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new ud({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}ud.create=e=>new ud({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...ht(e)});class mP extends kt{_parse(t){if(this._getType(t)!==Le.symbol){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.symbol,received:n.parsedType}),Ze}return qs(t.data)}}mP.create=e=>new mP({typeName:et.ZodSymbol,...ht(e)});class pP extends kt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.undefined,received:n.parsedType}),Ze}return qs(t.data)}}pP.create=e=>new pP({typeName:et.ZodUndefined,...ht(e)});class gP extends kt{_parse(t){if(this._getType(t)!==Le.null){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.null,received:n.parsedType}),Ze}return qs(t.data)}}gP.create=e=>new gP({typeName:et.ZodNull,...ht(e)});class vP extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return qs(t.data)}}vP.create=e=>new vP({typeName:et.ZodAny,...ht(e)});class yP extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qs(t.data)}}yP.create=e=>new yP({typeName:et.ZodUnknown,...ht(e)});class rl extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Ce(r,{code:xe.invalid_type,expected:Le.never,received:r.parsedType}),Ze}}rl.create=e=>new rl({typeName:et.ZodNever,...ht(e)});class xP extends kt{_parse(t){if(this._getType(t)!==Le.undefined){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.void,received:n.parsedType}),Ze}return qs(t.data)}}xP.create=e=>new xP({typeName:et.ZodVoid,...ht(e)});class Ha extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Le.array)return Ce(r,{code:xe.invalid_type,expected:Le.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ce(r,{code:o?xe.too_big:xe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ce(r,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ce(r,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new tl(r,o,r.path,l)))).then(o=>hs.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new tl(r,o,r.path,l)));return hs.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ha({...this._def,minLength:{value:t,message:Ue.toString(r)}})}max(t,r){return new Ha({...this._def,maxLength:{value:t,message:Ue.toString(r)}})}length(t,r){return new Ha({...this._def,exactLength:{value:t,message:Ue.toString(r)}})}nonempty(t){return this.min(1,t)}}Ha.create=(e,t)=>new Ha({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ht(t)});function nu(e){if(e instanceof Cr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Go.create(nu(n))}return new Cr({...e._def,shape:()=>t})}else return e instanceof Ha?new Ha({...e._def,type:nu(e.element)}):e instanceof Go?Go.create(nu(e.unwrap())):e instanceof hd?hd.create(nu(e.unwrap())):e instanceof fc?fc.create(e.items.map(t=>nu(t))):e}class Cr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Le.object){const u=this._getOrReturnCtx(t);return Ce(u,{code:xe.invalid_type,expected:Le.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof rl&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new tl(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof rl){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ce(s,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new tl(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>hs.mergeObjectSync(n,u)):hs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new Cr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Cr({...this._def,unknownKeys:"strip"})}passthrough(){return new Cr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Cr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Cr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Cr({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Cr({...this._def,shape:()=>r})}deepPartial(){return nu(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Cr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Go;)i=i._def.innerType;r[n]=i}return new Cr({...this._def,shape:()=>r})}keyof(){return _3(Et.objectKeys(this.shape))}}Cr.create=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strip",catchall:rl.create(),typeName:et.ZodObject,...ht(t)});Cr.strictCreate=(e,t)=>new Cr({shape:()=>e,unknownKeys:"strict",catchall:rl.create(),typeName:et.ZodObject,...ht(t)});Cr.lazycreate=(e,t)=>new Cr({shape:e,unknownKeys:"strip",catchall:rl.create(),typeName:et.ZodObject,...ht(t)});class Ov extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Di(l.ctx.common.issues));return Ce(r,{code:xe.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Di(c));return Ce(r,{code:xe.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Ov.create=(e,t)=>new Ov({options:e,typeName:et.ZodUnion,...ht(t)});function s_(e,t){const r=mo(e),n=mo(t);if(e===t)return{valid:!0,data:e};if(r===Le.object&&n===Le.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=s_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Le.array&&n===Le.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=s_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Le.date&&n===Le.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Av extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(dP(i)||dP(o))return Ze;const l=s_(i.value,o.value);return l.valid?((fP(i)||fP(o))&&r.dirty(),{status:r.value,value:l.data}):(Ce(n,{code:xe.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Av.create=(e,t,r)=>new Av({left:e,right:t,typeName:et.ZodIntersection,...ht(r)});class fc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.array)return Ce(n,{code:xe.invalid_type,expected:Le.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Ce(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Ce(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new tl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>hs.mergeArray(r,o)):hs.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new fc({...this._def,rest:t})}}fc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new fc({items:e,typeName:et.ZodTuple,rest:null,...ht(t)})};class bP extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.map)return Ce(n,{code:xe.invalid_type,expected:Le.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new tl(n,l,n.path,[u,"key"])),value:i._parse(new tl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}bP.create=(e,t,r)=>new bP({valueType:t,keyType:e,typeName:et.ZodMap,...ht(r)});class tm extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Le.set)return Ce(n,{code:xe.invalid_type,expected:Le.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ce(n,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ce(n,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new tl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new tm({...this._def,minSize:{value:t,message:Ue.toString(r)}})}max(t,r){return new tm({...this._def,maxSize:{value:t,message:Ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}tm.create=(e,t)=>new tm({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...ht(t)});class wP extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}wP.create=(e,t)=>new wP({getter:e,typeName:et.ZodLazy,...ht(t)});class a_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ce(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}a_.create=(e,t)=>new a_({value:e,typeName:et.ZodLiteral,...ht(t)});function _3(e,t){return new dd({values:e,typeName:et.ZodEnum,...ht(t)})}class dd extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{expected:Et.joinValues(n),received:r.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ce(r,{received:r.data,code:xe.invalid_enum_value,options:n}),Ze}return qs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return dd.create(t,{...this._def,...r})}exclude(t,r=this._def){return dd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}dd.create=_3;class jP extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Le.string&&n.parsedType!==Le.number){const s=Et.objectValues(r);return Ce(n,{expected:Et.joinValues(s),received:n.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Ce(n,{received:n.data,code:xe.invalid_enum_value,options:s}),Ze}return qs(t.data)}get enum(){return this._def.values}}jP.create=(e,t)=>new jP({values:e,typeName:et.ZodNativeEnum,...ht(t)});class Tv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Le.promise&&r.common.async===!1)return Ce(r,{code:xe.invalid_type,expected:Le.promise,received:r.parsedType}),Ze;const n=r.parsedType===Le.promise?r.data:Promise.resolve(r.data);return qs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Tv.create=(e,t)=>new Tv({type:e,typeName:et.ZodPromise,...ht(t)});class fd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ce(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?eh(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?eh(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!cd(o))return Ze;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>cd(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);Et.assertNever(s)}}fd.create=(e,t,r)=>new fd({schema:e,typeName:et.ZodEffects,effect:t,...ht(r)});fd.createWithPreprocess=(e,t,r)=>new fd({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...ht(r)});class Go extends kt{_parse(t){return this._getType(t)===Le.undefined?qs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Go.create=(e,t)=>new Go({innerType:e,typeName:et.ZodOptional,...ht(t)});class hd extends kt{_parse(t){return this._getType(t)===Le.null?qs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}hd.create=(e,t)=>new hd({innerType:e,typeName:et.ZodNullable,...ht(t)});class i_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Le.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}i_.create=(e,t)=>new i_({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class o_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Ev(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Di(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}o_.create=(e,t)=>new o_({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class _P extends kt{_parse(t){if(this._getType(t)!==Le.nan){const n=this._getOrReturnCtx(t);return Ce(n,{code:xe.invalid_type,expected:Le.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}_P.create=e=>new _P({typeName:et.ZodNaN,...ht(e)});class Bee extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class $N extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),eh(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new $N({in:t,out:r,typeName:et.ZodPipeline})}}class l_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(cd(s)&&(s.value=Object.freeze(s.value)),s);return Ev(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}l_.create=(e,t)=>new l_({innerType:e,typeName:et.ZodReadonly,...ht(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const je=bi.create,qee=uc.create;dc.create;const ni=Pv.create;ud.create;rl.create;Ha.create;const ft=Cr.create,zee=Ov.create;Av.create;fc.create;const IN=a_.create,nr=dd.create;Tv.create;Go.create;hd.create;const ls={string:e=>bi.create({...e,coerce:!0}),number:e=>uc.create({...e,coerce:!0}),boolean:e=>Pv.create({...e,coerce:!0}),bigint:e=>dc.create({...e,coerce:!0}),date:e=>ud.create({...e,coerce:!0})};var Wee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vee=Wee.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Kee="Label",S3=y.forwardRef((e,t)=>a.jsx(Vee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));S3.displayName=Kee;var N3=S3;const Hee=iN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y=y.forwardRef(({className:e,...t},r)=>a.jsx(N3,{ref:r,className:Z(Hee(),e),...t}));Y.displayName=N3.displayName;var Ix="Tabs",[Gee]=Us(Ix,[Ax]),k3=Ax(),[Yee,DN]=Gee(Ix),C3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=Gd(l),[f,h]=Qa({prop:n,onChange:s,defaultProp:i??"",caller:Ix});return a.jsx(Yee,{scope:r,baseId:Ts(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});C3.displayName=Ix;var E3="TabsList",P3=y.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=DN(E3,r),o=k3(r);return a.jsx(gL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});P3.displayName=E3;var O3="TabsTrigger",A3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=DN(O3,r),l=k3(r),c=M3(o.baseId,n),u=$3(o.baseId,n),d=n===o.value;return a.jsx(vL,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Ee(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Ee(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Ee(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});A3.displayName=O3;var T3="TabsContent",R3=y.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=DN(T3,r),c=M3(l.baseId,n),u=$3(l.baseId,n),d=n===l.value,f=y.useRef(d);return y.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Gn,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});R3.displayName=T3;function M3(e,t){return`${e}-trigger-${t}`}function $3(e,t){return`${e}-content-${t}`}var Qee=C3,I3=P3,D3=A3,L3=R3;const si=Qee,Sa=y.forwardRef(({className:e,...t},r)=>a.jsx(I3,{ref:r,className:Z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Sa.displayName=I3.displayName;const St=y.forwardRef(({className:e,...t},r)=>a.jsx(D3,{ref:r,className:Z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=D3.displayName;const Nt=y.forwardRef(({className:e,...t},r)=>a.jsx(L3,{ref:r,className:Z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=L3.displayName;const Xee=ft({email:je().email("Invalid email"),password:je().min(1,"Password required")});function Jee(){const e=il(),[t]=R4(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=ut({resolver:dt(Xee)}),l=async u=>{const d=await OH(u.email,u.password);d.success?(V.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):V.error("Sign in failed",{description:d.error})},c=async u=>{const d=await MH(u,{redirectTo:r});d.success||V.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Sign in"}),a.jsx(ye,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(J,{children:a.jsxs(si,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Sa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(me,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(n7,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(E,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(me,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const Zee=ft({email:je().email("Invalid email"),password:je().min(8,"At least 8 characters"),confirmPassword:je()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function ete(){const e=il(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=ut({resolver:dt(Zee)}),i=async o=>{const l=await $H(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(V.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(V.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):V.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Create account"}),a.jsx(ye,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(J,{children:a.jsxs(si,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(Sa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"email",children:"Email"}),a.jsx(ge,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password",children:"Password"}),a.jsx(ge,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ge,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(me,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const SP={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function tte(e){if(!e||e.length===0)return{level:"empty",score:0,label:SP.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:SP[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function rte(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const nte=ft({email:je().min(1,"Email is required").email("Enter a valid email address")}),ste=ft({password:je().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:je().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function ate(){const[e,t]=y.useState("email"),[r,n]=y.useState(!0),s=ut({resolver:dt(nte),defaultValues:{email:""}}),i=ut({resolver:dt(ste),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=tte(o);y.useEffect(()=>{if(!LH()){n(!1);return}z.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await IH(d.email,"/forgot-password");f.success?(t("email_sent"),V.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):V.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await DH(d.password);f.success?(t("success"),V.success("Password updated",{description:"You can now sign in with your new password."}),await z.auth.signOut()):V.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(ed,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(ed,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{className:"space-y-1",children:[a.jsx(se,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(ye,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(J,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(rd,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(E,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(QS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:Z(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:Z("h-full rounded-full transition-all duration-300",rte(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ge,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Mi,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(E,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(me,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(me,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const ite=ft({token:je().min(1,"Enter the verification code from your email")});function ote(){const e=il(),[t,r]=y.useState("checking"),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(null),u=ut({resolver:dt(ite),defaultValues:{token:""}});y.useEffect(()=>{let m=!1;async function g(){const p=UH();if(p){const v=await cE(p);m||(v.success?(r("verified"),V.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):V.error("Verification failed",{description:v.error}));return}const x=await BH();if(m)return;if(x){r("verified");return}const{data:{user:b}}=await z.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await cE(m.token);g.success?(r("verified"),u.reset(),V.success("Email verified",{description:"Your email has been confirmed."})):V.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await FH();o(!1),s(!1),m.success?V.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):V.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(ed,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(xn,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(me,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(ed,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(me,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{className:"space-y-1",children:[a.jsxs(se,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(rd,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(ye,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(dI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(rd,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(E,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(E,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(me,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(E,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(xo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ge,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(E,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(sd,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xm,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Ie,{open:n,onOpenChange:s,children:a.jsxs(Te,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Resend verification email"}),a.jsx($e,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(E,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function ce({className:e,...t}){return a.jsx("div",{className:Z("animate-pulse rounded-md bg-muted",e),...t})}function F3(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Dx="Switch",[lte]=Us(Dx),[cte,ute]=lte(Dx),U3=y.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=y.useState(null),g=pt(t,w=>m(w)),p=y.useRef(!1),x=h?d||!!h.closest("form"):!0,[b,v]=Qa({prop:s,defaultProp:i??!1,onChange:u,caller:Dx});return a.jsxs(cte,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":W3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Ee(e.onClick,w=>{v(_=>!_),x&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),x&&a.jsx(z3,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});U3.displayName=Dx;var B3="SwitchThumb",q3=y.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=ute(B3,r);return a.jsx(Qe.span,{"data-state":W3(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});q3.displayName=B3;var dte="SwitchBubbleInput",z3=y.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=y.useRef(null),l=pt(o,i),c=F3(r),u=XD(t);return y.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z3.displayName=dte;function W3(e){return e?"checked":"unchecked"}var V3=U3,fte=q3;const br=y.forwardRef(({className:e,...t},r)=>a.jsx(V3,{className:Z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(fte,{className:Z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));br.displayName=V3.displayName;const hte="http://localhost:3000/api";async function Ef(e,t={}){const r=`${hte}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const Se={get:e=>Ef(e),post:(e,t)=>Ef(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Ef(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Ef(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Ef(e,{method:"DELETE"})},Js="/profile",Na={getProfile:()=>Se.get(`${Js}`),updateProfile:e=>Se.patch(`${Js}`,e),getOAuthAccounts:()=>Se.get(`${Js}/oauth-accounts`),unlinkOAuthAccount:e=>Se.delete(`${Js}/oauth-accounts/${e}`),getDeviceSessions:()=>Se.get(`${Js}/sessions`),revokeSession:e=>Se.delete(`${Js}/sessions/${e}`),getApiKeys:()=>Se.get(`${Js}/api-keys`),createApiKey:e=>Se.post(`${Js}/api-keys`,e),revokeApiKey:e=>Se.delete(`${Js}/api-keys/${e}`),getSecuritySettings:()=>Se.get(`${Js}/security-settings`),updateSecuritySettings:e=>Se.patch(`${Js}/security-settings`,e)},yn={all:["profile"],profile:()=>[...yn.all,"detail"],oauthAccounts:()=>[...yn.all,"oauth-accounts"],sessions:()=>[...yn.all,"sessions"],apiKeys:()=>[...yn.all,"api-keys"],securitySettings:()=>[...yn.all,"security-settings"]};function op(e,t){return e().catch(()=>t)}function Lx(){return Pe({queryKey:yn.profile(),queryFn:()=>op(Na.getProfile,null)})}function mte(){const e=ve();return pe({mutationFn:t=>Na.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.profile()}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function pte(){return Pe({queryKey:yn.oauthAccounts(),queryFn:()=>op(Na.getOAuthAccounts,[])})}function gte(){const e=ve();return pe({mutationFn:t=>Na.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.oauthAccounts()}),V.success("Account unlinked")},onError:t=>{V.error(t.message||"Failed to unlink account")}})}function vte(){return Pe({queryKey:yn.sessions(),queryFn:()=>op(Na.getDeviceSessions,[])})}function yte(){const e=ve();return pe({mutationFn:t=>Na.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.sessions()}),V.success("Session revoked")},onError:t=>{V.error(t.message||"Failed to revoke session")}})}function xte(){return Pe({queryKey:yn.apiKeys(),queryFn:()=>op(Na.getApiKeys,[])})}function bte(){const e=ve();return pe({mutationFn:t=>Na.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.apiKeys()}),V.success("API key created")},onError:t=>{V.error(t.message||"Failed to create API key")}})}function wte(){const e=ve();return pe({mutationFn:t=>Na.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.apiKeys()}),V.success("API key revoked")},onError:t=>{V.error(t.message||"Failed to revoke API key")}})}function K3(){return Pe({queryKey:yn.securitySettings(),queryFn:()=>op(Na.getSecuritySettings,null)})}function H3(){const e=ve();return pe({mutationFn:t=>Na.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:yn.securitySettings()}),V.success("Security settings updated")},onError:t=>{V.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Li(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function jte(e,t){const r=Bt(e);return isNaN(t)?Li(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const G3=6048e5,_te=864e5,Y3=6e4,Q3=36e5,Jp=43200,NP=1440;let Ste={};function lp(){return Ste}function rm(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Rv(e){return rm(e,{weekStartsOn:1})}function X3(e){const t=Bt(e),r=t.getFullYear(),n=Li(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Rv(n),i=Li(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Rv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function kP(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Mv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Nte(e,t){const r=kP(e),n=kP(t),s=+r-Mv(r),i=+n-Mv(n);return Math.round((s-i)/_te)}function kte(e){const t=X3(e),r=Li(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Rv(r)}function $g(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Cte(e){return Li(e,Date.now())}function Ete(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pte(e){if(!Ete(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Ote(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Ate(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Tte(e,t){return+Bt(e)-+Bt(t)}function Rte(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function Mte(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function $te(e){const t=Bt(e);return+Rte(t)==+Mte(t)}function Ite(e,t){const r=Bt(e),n=Bt(t),s=$g(r,n),i=Math.abs(Ote(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=$g(r,n)===-s;$te(Bt(e))&&i===1&&$g(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Dte(e,t,r){const n=Tte(e,t)/1e3;return Ate(r==null?void 0:r.roundingMethod)(n)}function Lte(e){const t=Bt(e),r=Li(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Fte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ute=(e,t,r)=>{let n;const s=Fte[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Tw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Bte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Wte={date:Tw({formats:Bte,defaultWidth:"full"}),time:Tw({formats:qte,defaultWidth:"full"}),dateTime:Tw({formats:zte,defaultWidth:"full"})},Vte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kte=(e,t,r,n)=>Vte[e];function Pf(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Hte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Gte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Yte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Zte=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ere={ordinalNumber:Zte,era:Pf({values:Hte,defaultWidth:"wide"}),quarter:Pf({values:Gte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Pf({values:Yte,defaultWidth:"wide"}),day:Pf({values:Qte,defaultWidth:"wide"}),dayPeriod:Pf({values:Xte,defaultWidth:"wide",formattingValues:Jte,defaultFormattingWidth:"wide"})};function Of(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?rre(l,f=>f.test(o)):tre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function tre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function rre(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function nre(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const sre=/^(\d+)(th|st|nd|rd)?/i,are=/\d+/i,ire={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ore={any:[/^b/i,/^(a|c)/i]},lre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cre={any:[/1/i,/2/i,/3/i,/4/i]},ure={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},dre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gre={ordinalNumber:nre({matchPattern:sre,parsePattern:are,valueCallback:e=>parseInt(e,10)}),era:Of({matchPatterns:ire,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Of({matchPatterns:lre,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Of({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:dre,defaultParseWidth:"any"}),day:Of({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Of({matchPatterns:mre,defaultMatchWidth:"any",parsePatterns:pre,defaultParseWidth:"any"})},J3={code:"en-US",formatDistance:Ute,formatLong:Wte,formatRelative:Kte,localize:ere,match:gre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vre(e){const t=Bt(e);return Nte(t,Lte(t))+1}function yre(e){const t=Bt(e),r=+Rv(t)-+kte(t);return Math.round(r/G3)+1}function Z3(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=lp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Li(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=rm(o,t),c=Li(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=rm(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xre(e,t){var l,c,u,d;const r=lp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Z3(e,t),i=Li(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),rm(i,t)}function bre(e,t){const r=Bt(e),n=+rm(r,t)-+xre(r,t);return Math.round(n/G3)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const io={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return $t(s,t.length)}},Gc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CP={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return io.y(e,t)},Y:function(e,t,r,n){const s=Z3(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const r=X3(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return io.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=bre(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,t.length)},I:function(e,t,r){const n=yre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):io.d(e,t)},D:function(e,t,r){const n=vre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return $t(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Gc.noon:n===0?s=Gc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Gc.evening:n>=12?s=Gc.afternoon:n>=4?s=Gc.morning:s=Gc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return io.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):io.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):io.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):io.s(e,t)},S:function(e,t){return io.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return PP(n);case"XXXX":case"XX":return _l(n);case"XXXXX":case"XXX":default:return _l(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return PP(n);case"xxxx":case"xx":return _l(n);case"xxxxx":case"xxx":default:return _l(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+EP(n,":");case"OOOO":default:return"GMT"+_l(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+EP(n,":");case"zzzz":default:return"GMT"+_l(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return $t(n,t.length)},T:function(e,t,r){const n=e.getTime();return $t(n,t.length)}};function EP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+$t(i,2)}function PP(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):_l(e,t)}function _l(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=$t(Math.trunc(n/60),2),i=$t(n%60,2);return r+s+t+i}const OP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},eF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},wre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return OP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",OP(n,t)).replace("{{time}}",eF(s,t))},jre={p:eF,P:wre},_re=/^D+$/,Sre=/^Y+$/,Nre=["D","DD","YY","YYYY"];function kre(e){return _re.test(e)}function Cre(e){return Sre.test(e)}function Ere(e,t,r){const n=Pre(e,t,r);if(console.warn(n),Nre.includes(e))throw new RangeError(n)}function Pre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Ore=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Are=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Tre=/^'([^]*?)'?$/,Rre=/''/g,Mre=/[a-zA-Z]/;function Fa(e,t,r){var d,f,h,m;const n=lp(),s=n.locale??J3,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!Pte(l))throw new RangeError("Invalid time value");let c=t.match(Are).map(g=>{const p=g[0];if(p==="p"||p==="P"){const x=jre[p];return x(g,s.formatLong)}return g}).join("").match(Ore).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:$re(g)};if(CP[p])return{isToken:!0,value:g};if(p.match(Mre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Cre(p)||kre(p))&&Ere(p,t,String(e));const x=CP[p[0]];return x(l,p,s.localize,u)}).join("")}function $re(e){const t=e.match(Tre);return t?t[1].replace(Rre,"'"):e}function Ire(e,t,r){const n=lp(),s=(r==null?void 0:r.locale)??n.locale??J3,i=2520,o=$g(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=Dte(u,c),f=(Mv(u)-Mv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<NP){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<Jp){const g=Math.round(h/NP);return s.formatDistance("xDays",g,l)}else if(h<Jp*2)return m=Math.round(h/Jp),s.formatDistance("aboutXMonths",m,l)}if(m=Ite(u,c),m<12){const g=Math.round(h/Jp);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function Rr(e,t){return Ire(e,Cte(e),t)}function LN(e,t){return jte(e,-t)}function Pl(e,t){const n=Ure(e);let s;if(n.date){const c=Bre(n.date,2);s=qre(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=zre(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Wre(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const Zp={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Dre=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Lre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Fre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Ure(e){const t={},r=e.split(Zp.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],Zp.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Zp.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=Zp.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Bre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function qre(e,t){if(t===null)return new Date(NaN);const r=e.match(Dre);if(!r)return new Date(NaN);const n=!!r[4],s=Af(r[1]),i=Af(r[2])-1,o=Af(r[3]),l=Af(r[4]),c=Af(r[5])-1;if(n)return Yre(t,l,c)?Vre(t,l,c):new Date(NaN);{const u=new Date(0);return!Hre(t,i,o)||!Gre(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Af(e){return e?parseInt(e):1}function zre(e){const t=e.match(Lre);if(!t)return NaN;const r=Rw(t[1]),n=Rw(t[2]),s=Rw(t[3]);return Qre(r,n,s)?r*Q3+n*Y3+s*1e3:NaN}function Rw(e){return e&&parseFloat(e.replace(",","."))||0}function Wre(e){if(e==="Z")return 0;const t=e.match(Fre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return Xre(n,s)?r*(n*Q3+s*Y3):NaN}function Vre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Kre=[31,null,31,30,31,30,31,31,30,31,30,31];function tF(e){return e%400===0||e%4===0&&e%100!==0}function Hre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Kre[t]||(tF(e)?29:28))}function Gre(e,t){return t>=1&&t<=(tF(e)?366:365)}function Yre(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Qre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Xre(e,t){return t>=0&&t<=59}const Jre=ft({name:je().min(1,"Name is required").max(64),scope:je().min(1,"Scope is required").max(128)}),Zre={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function ene(){const{data:e,isLoading:t}=Lx(),r=mte(),[n,s]=y.useState(!1),[i,o]=y.useState((e==null?void 0:e.display_name)??"");if(y.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48 mt-2"})]}),a.jsxs(J,{className:"flex items-center gap-4",children:[a.jsx(ce,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-5 w-40"}),a.jsx(ce,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(ep,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(ye,{children:"Account and avatar."})]}),a.jsxs(J,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(_x,{className:"h-16 w-16 shrink-0",children:[a.jsx(mN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Sx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ge,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(E,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(xn,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(E,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(E,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function tne(){const{data:e,isLoading:t}=pte(),r=gte(),[n,s]=y.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-40"}),a.jsx(ce,{className:"h-4 w-56 mt-2"})]}),a.jsxs(J,{children:[a.jsx(ce,{className:"h-12 w-full"}),a.jsx(ce,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(p7,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(ye,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(J,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:Zre[o.provider]??o.provider}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Ie,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Te,{showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Unlink account"}),a.jsx($e,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(xn,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function rne(){const{data:e,isLoading:t}=vte(),{data:r,isLoading:n}=K3(),s=H3(),i=yte(),[o,l]=y.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-24"}),a.jsx(ce,{className:"h-4 w-48 mt-2"})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx(ce,{className:"h-10 w-32"}),a.jsx(ce,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5"}),"Security"]}),a.jsx(ye,{children:"Password, 2FA, active sessions."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(br,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(dN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(fx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Rr(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Ie,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Te,{showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Revoke session"}),a.jsx($e,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(xn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function nne(){const{data:e,isLoading:t}=xte(),r=bte(),n=wte(),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(null),d=ut({resolver:dt(Jre),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-24"}),a.jsx(ce,{className:"h-4 w-40 mt-2"})]}),a.jsxs(J,{children:[a.jsx(ce,{className:"h-10 w-28"}),a.jsx(ce,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(td,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(ye,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(xo,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Ie,{open:s,onOpenChange:i,children:a.jsxs(Te,{showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Create API key"}),a.jsx($e,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Your new key (copy now)"}),a.jsx(ge,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(Fe,{children:a.jsx(E,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-name",children:"Name"}),a.jsx(ge,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ge,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(xn,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Ie,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Te,{showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Revoke API key"}),a.jsx($e,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(xn,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function sne(){const{data:e,isLoading:t}=K3(),r=H3(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-48"}),a.jsx(ce,{className:"h-4 w-64 mt-2"})]}),a.jsx(J,{children:a.jsx(ce,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(xo,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(ye,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(Y,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(br,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function ane(){return a.jsxs("div",{className:Z("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(ene,{}),a.jsx(tne,{}),a.jsx(rne,{}),a.jsx(nne,{}),a.jsx(sne,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{asChild:!0,children:a.jsx(me,{to:"/settings",children:"Settings"})})})]})}function ine(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Jr,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(ye,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(E,{asChild:!0,className:"w-full",children:a.jsx(me,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(E,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(me,{to:"/",children:"Back to home"})})]})]})})}const one=iN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function He({className:e,variant:t,...r}){return a.jsx("div",{className:Z(one({variant:t}),e),...r})}const Jt="/dashboard",Tn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/activities${t?`?${t}`:""}`)},getActivity:e=>Se.get(`${Jt}/activities/${e}`),createActivity:e=>Se.post(`${Jt}/activities`,e),deleteActivity:e=>Se.delete(`${Jt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/runs${t?`?${t}`:""}`)},getRun:e=>Se.get(`${Jt}/runs/${e}`),createRun:e=>Se.post(`${Jt}/runs`,e),updateRun:(e,t)=>Se.patch(`${Jt}/runs/${e}`,t),abortRun:e=>Se.post(`${Jt}/runs/${e}/abort`,{}),getCronJobs:()=>Se.get(`${Jt}/cron-jobs`),getCronJob:e=>Se.get(`${Jt}/cron-jobs/${e}`),createCronJob:e=>Se.post(`${Jt}/cron-jobs`,e),updateCronJob:(e,t)=>Se.patch(`${Jt}/cron-jobs/${e}`,t),deleteCronJob:e=>Se.delete(`${Jt}/cron-jobs/${e}`),runCronJobNow:e=>Se.post(`${Jt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return Se.get(`${Jt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>Se.get(`${Jt}/nodes`),getNode:e=>Se.get(`${Jt}/nodes/${e}`),createNode:e=>Se.post(`${Jt}/nodes`,e),updateNode:(e,t)=>Se.patch(`${Jt}/nodes/${e}`,t),deleteNode:e=>Se.delete(`${Jt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Jt}/alerts${t?`?${t}`:""}`)},getAlert:e=>Se.get(`${Jt}/alerts/${e}`),updateAlert:(e,t)=>Se.patch(`${Jt}/alerts/${e}`,t),quickRun:e=>Se.post(`${Jt}/quick-run`,e)};function Xd(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function lne(e){return Pe({queryKey:Ct.activities(e),queryFn:()=>Xd(()=>Tn.getActivities(e),[])})}function cne(){const e=ve();return pe({mutationFn:t=>Tn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),V.success("Activity removed")},onError:t=>{V.error(t.message||"Failed to remove activity")}})}function une(e){return Pe({queryKey:Ct.runs(e),queryFn:()=>Xd(()=>Tn.getRuns(e),[])})}function dne(){const e=ve();return pe({mutationFn:t=>Tn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),V.success("Run aborted")},onError:t=>{V.error(t.message||"Failed to abort run")}})}function rF(){return Pe({queryKey:Ct.cronJobs(),queryFn:()=>Xd(()=>Tn.getCronJobs(),[])})}function nF(){const e=ve();return pe({mutationFn:t=>Tn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),V.success("Cron job created")},onError:t=>{V.error(t.message||"Failed to create cron job")}})}function fne(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Tn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),V.success("Cron job updated")},onError:t=>{V.error(t.message||"Failed to update cron job")}})}function hne(){const e=ve();return pe({mutationFn:t=>Tn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),V.success("Cron job deleted")},onError:t=>{V.error(t.message||"Failed to delete cron job")}})}function mne(e,t){return Pe({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?Xd(()=>Tn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function pne(){const e=ve();return pe({mutationFn:t=>Tn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),V.success("Job started")},onError:t=>{V.error(t.message||"Failed to run job")}})}function sF(){return Pe({queryKey:Ct.nodes(),queryFn:()=>Xd(()=>Tn.getNodes(),[])})}function gne(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Tn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function vne(e){return Pe({queryKey:Ct.alerts(e),queryFn:()=>Xd(()=>Tn.getAlerts(e),[])})}function yne(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Tn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),V.success("Alert updated")},onError:t=>{V.error(t.message||"Failed to update alert")}})}function xne(){const e=ve();return pe({mutationFn:t=>Tn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}const AP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function bne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Activity details"}),a.jsxs($e,{id:"activity-detail-description",children:[AP[e.activity_type]??e.activity_type," "," ",Rr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:AP[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(Fe,{children:[n&&a.jsx(E,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function wne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{"aria-describedby":"run-abort-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Abort run?"}),a.jsxs($e,{id:"run-abort-description",children:["This will stop the run that started"," ",Rr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function jne(e){const t=_ne(e),r=y.forwardRef((n,s)=>{const{children:i,...o}=n,l=y.Children.toArray(i),c=l.find(Nne);if(c){const u=c.props.children,d=l.map(f=>f===c?y.Children.count(u)>1?y.Children.only(null):y.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:y.isValidElement(u)?y.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function _ne(e){const t=y.forwardRef((r,n)=>{const{children:s,...i}=r;if(y.isValidElement(s)){const o=Cne(s),l=kne(i,s.props);return s.type!==y.Fragment&&(l.ref=n?Hi(n,o):o),y.cloneElement(s,l)}return y.Children.count(s)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Sne=Symbol("radix.slottable");function Nne(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Sne}function kne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function Cne(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ene="VisuallyHidden",Pne=y.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...aF,...e.style}}));Pne.displayName=Ene;var One=[" ","Enter","ArrowUp","ArrowDown"],Ane=[" ","Enter"],hc="Select",[Fx,Ux,Tne]=Nx(hc),[Jd]=Us(hc,[Tne,Ox]),Bx=Ox(),[Rne,ll]=Jd(hc),[Mne,$ne]=Jd(hc),iF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Bx(t),[x,b]=y.useState(null),[v,w]=y.useState(null),[_,j]=y.useState(!1),S=Gd(u),[N,k]=Qa({prop:n,defaultProp:s??!1,onChange:i,caller:hc}),[C,A]=Qa({prop:o,defaultProp:l,onChange:c,caller:hc}),I=y.useRef(null),P=x?g||!!x.closest("form"):!0,[q,T]=y.useState(new Set),W=Array.from(q).map(L=>L.props.value).join(";");return a.jsx(oL,{...p,children:a.jsxs(Rne,{required:m,scope:t,trigger:x,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ts(),value:C,onValueChange:A,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(Fx.Provider,{scope:t,children:a.jsx(Mne,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(L=>{T(K=>new Set(K).add(L))},[]),onNativeOptionRemove:y.useCallback(L=>{T(K=>{const D=new Set(K);return D.delete(L),D})},[]),children:r})}),P?a.jsxs(OF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:L=>A(L.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},W):null]})})};iF.displayName=hc;var oF="SelectTrigger",lF=y.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Bx(r),o=ll(oF,r),l=o.disabled||n,c=pt(t,o.onTriggerChange),u=Ux(r),d=y.useRef("touch"),[f,h,m]=TF(p=>{const x=u().filter(w=>!w.disabled),b=x.find(w=>w.value===o.value),v=RF(x,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(lL,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":AF(o.value)?"":void 0,...s,ref:c,onClick:Ee(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Ee(s.onPointerDown,p=>{d.current=p.pointerType;const x=p.target;x.hasPointerCapture(p.pointerId)&&x.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Ee(s.onKeyDown,p=>{const x=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(x&&p.key===" ")&&One.includes(p.key)&&(g(),p.preventDefault())})})})});lF.displayName=oF;var cF="SelectValue",uF=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=ll(cF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=pt(t,c.onValueNodeChange);return wr(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:AF(c.value)?a.jsx(a.Fragment,{children:o}):i})});uF.displayName=cF;var Ine="SelectIcon",dF=y.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});dF.displayName=Ine;var Dne="SelectPortal",fF=e=>a.jsx(vx,{asChild:!0,...e});fF.displayName=Dne;var mc="SelectContent",hF=y.forwardRef((e,t)=>{const r=ll(mc,e.__scopeSelect),[n,s]=y.useState();if(wr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Fd.createPortal(a.jsx(mF,{scope:e.__scopeSelect,children:a.jsx(Fx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(pF,{...e,ref:t})});hF.displayName=mc;var ta=10,[mF,cl]=Jd(mc),Lne="SelectContentImpl",Fne=jne("SelectContent.RemoveScroll"),pF=y.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x,...b}=e,v=ll(mc,r),[w,_]=y.useState(null),[j,S]=y.useState(null),N=pt(t,ue=>_(ue)),[k,C]=y.useState(null),[A,I]=y.useState(null),P=Ux(r),[q,T]=y.useState(!1),W=y.useRef(!1);y.useEffect(()=>{if(w)return rN(w)},[w]),tN();const L=y.useCallback(ue=>{const[qe,...ae]=P().map(Q=>Q.ref.current),[we]=ae.slice(-1),G=document.activeElement;for(const Q of ue)if(Q===G||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===qe&&j&&(j.scrollTop=0),Q===we&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==G))return},[P,j]),K=y.useCallback(()=>L([k,w]),[L,k,w]);y.useEffect(()=>{q&&K()},[q,K]);const{onOpenChange:D,triggerPointerDownPosRef:M}=v;y.useEffect(()=>{if(w){let ue={x:0,y:0};const qe=we=>{var G,Q;ue={x:Math.abs(Math.round(we.pageX)-(((G=M.current)==null?void 0:G.x)??0)),y:Math.abs(Math.round(we.pageY)-(((Q=M.current)==null?void 0:Q.y)??0))}},ae=we=>{ue.x<=10&&ue.y<=10?we.preventDefault():w.contains(we.target)||D(!1),document.removeEventListener("pointermove",qe),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",qe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,D,M]),y.useEffect(()=>{const ue=()=>D(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[D]);const[R,ee]=TF(ue=>{const qe=P().filter(G=>!G.disabled),ae=qe.find(G=>G.ref.current===document.activeElement),we=RF(qe,ue,ae);we&&setTimeout(()=>we.ref.current.focus())}),$=y.useCallback((ue,qe,ae)=>{const we=!W.current&&!ae;(v.value!==void 0&&v.value===qe||we)&&(C(ue),we&&(W.current=!0))},[v.value]),ie=y.useCallback(()=>w==null?void 0:w.focus(),[w]),he=y.useCallback((ue,qe,ae)=>{const we=!W.current&&!ae;(v.value!==void 0&&v.value===qe||we)&&I(ue)},[v.value]),We=n==="popper"?c_:gF,Ve=We===c_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:x}:{};return a.jsx(mF,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:$,selectedItem:k,onItemLeave:ie,itemTextRefCallback:he,focusSelectedItem:K,selectedItemText:A,position:n,isPositioned:q,searchRef:R,children:a.jsx(xx,{as:Fne,allowPinchZoom:!0,children:a.jsx(gx,{asChild:!0,trapped:v.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Ee(s,ue=>{var qe;(qe=v.trigger)==null||qe.focus({preventScroll:!0}),ue.preventDefault()}),children:a.jsx(px,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(We,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:ue=>ue.preventDefault(),...b,...Ve,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Ee(b.onKeyDown,ue=>{const qe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!qe&&ue.key.length===1&&ee(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let we=P().filter(G=>!G.disabled).map(G=>G.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(we=we.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const G=ue.target,Q=we.indexOf(G);we=we.slice(Q+1)}setTimeout(()=>L(we)),ue.preventDefault()}})})})})})})});pF.displayName=Lne;var Une="SelectItemAlignedPosition",gF=y.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=ll(mc,r),o=cl(mc,r),[l,c]=y.useState(null),[u,d]=y.useState(null),f=pt(t,N=>d(N)),h=Ux(r),m=y.useRef(!1),g=y.useRef(!0),{viewport:p,selectedItem:x,selectedItemText:b,focusSelectedItem:v}=o,w=y.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&x&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),A=b.getBoundingClientRect();if(i.dir!=="rtl"){const G=A.left-k.left,Q=C.left-G,Xe=N.left-Q,Ke=N.width+Xe,xt=Math.max(Ke,k.width),ot=window.innerWidth-ta,zt=Gj(Q,[ta,Math.max(ta,ot-xt)]);l.style.minWidth=Ke+"px",l.style.left=zt+"px"}else{const G=k.right-A.right,Q=window.innerWidth-C.right-G,Xe=window.innerWidth-N.right-Q,Ke=N.width+Xe,xt=Math.max(Ke,k.width),ot=window.innerWidth-ta,zt=Gj(Q,[ta,Math.max(ta,ot-xt)]);l.style.minWidth=Ke+"px",l.style.right=zt+"px"}const I=h(),P=window.innerHeight-ta*2,q=p.scrollHeight,T=window.getComputedStyle(u),W=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),K=parseInt(T.borderBottomWidth,10),D=parseInt(T.paddingBottom,10),M=W+L+q+D+K,R=Math.min(x.offsetHeight*5,M),ee=window.getComputedStyle(p),$=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),he=N.top+N.height/2-ta,We=P-he,Ve=x.offsetHeight/2,ue=x.offsetTop+Ve,qe=W+L+ue,ae=M-qe;if(qe<=he){const G=I.length>0&&x===I[I.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(We,Ve+(G?ie:0)+Q+K),Ke=qe+Xe;l.style.height=Ke+"px"}else{const G=I.length>0&&x===I[0].ref.current;l.style.top="0px";const Xe=Math.max(he,W+p.offsetTop+(G?$:0)+Ve)+ae;l.style.height=Xe+"px",p.scrollTop=qe-he+p.offsetTop}l.style.margin=`${ta}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=P+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,x,b,i.dir,n]);wr(()=>w(),[w]);const[_,j]=y.useState();wr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=y.useCallback(N=>{N&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return a.jsx(qne,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});gF.displayName=Une;var Bne="SelectPopperPosition",c_=y.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ta,...i}=e,o=Bx(r);return a.jsx(cL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});c_.displayName=Bne;var[qne,FN]=Jd(mc,{}),u_="SelectViewport",vF=y.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=cl(u_,r),o=FN(u_,r),l=pt(t,i.onViewportChange),c=y.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Fx.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ee(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-ta*2,p=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),b=Math.max(p,x);if(b<g){const v=b+m,w=Math.min(g,v),_=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});vF.displayName=u_;var yF="SelectGroup",[zne,Wne]=Jd(yF),Vne=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ts();return a.jsx(zne,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Vne.displayName=yF;var xF="SelectLabel",bF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Wne(xF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});bF.displayName=xF;var $v="SelectItem",[Kne,wF]=Jd($v),jF=y.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=ll($v,r),c=cl($v,r),u=l.value===n,[d,f]=y.useState(i??""),[h,m]=y.useState(!1),g=pt(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),p=Ts(),x=y.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Kne,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:y.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Fx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Ee(o.onFocus,()=>m(!0)),onBlur:Ee(o.onBlur,()=>m(!1)),onClick:Ee(o.onClick,()=>{x.current!=="mouse"&&b()}),onPointerUp:Ee(o.onPointerUp,()=>{x.current==="mouse"&&b()}),onPointerDown:Ee(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:Ee(o.onPointerMove,v=>{var w;x.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ee(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Ee(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(Ane.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});jF.displayName=$v;var th="SelectItemText",_F=y.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=ll(th,r),l=cl(th,r),c=wF(th,r),u=$ne(th,r),[d,f]=y.useState(null),h=pt(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=y.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:x}=u;return wr(()=>(p(g),()=>x(g)),[p,x,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Fd.createPortal(i.children,o.valueNode):null]})});_F.displayName=th;var SF="SelectItemIndicator",NF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return wF(SF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});NF.displayName=SF;var d_="SelectScrollUpButton",kF=y.forwardRef((e,t)=>{const r=cl(d_,e.__scopeSelect),n=FN(d_,e.__scopeSelect),[s,i]=y.useState(!1),o=pt(t,n.onScrollButtonChange);return wr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(EF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});kF.displayName=d_;var f_="SelectScrollDownButton",CF=y.forwardRef((e,t)=>{const r=cl(f_,e.__scopeSelect),n=FN(f_,e.__scopeSelect),[s,i]=y.useState(!1),o=pt(t,n.onScrollButtonChange);return wr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(EF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});CF.displayName=f_;var EF=y.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=cl("SelectScrollButton",r),o=y.useRef(null),l=Ux(r),c=y.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return y.useEffect(()=>()=>c(),[c]),wr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ee(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ee(s.onPointerLeave,()=>{c()})})}),Hne="SelectSeparator",PF=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});PF.displayName=Hne;var h_="SelectArrow",Gne=y.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Bx(r),i=ll(h_,r),o=cl(h_,r);return i.open&&o.position==="popper"?a.jsx(uL,{...s,...n,ref:t}):null});Gne.displayName=h_;var Yne="SelectBubbleInput",OF=y.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=y.useRef(null),i=pt(n,s),o=F3(t);return y.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...aF,...r.style},ref:i,defaultValue:t})});OF.displayName=Yne;function AF(e){return e===""||e===void 0}function TF(e){const t=Qr(e),r=y.useRef(""),n=y.useRef(0),s=y.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=y.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function RF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Qne(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Qne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Xne=iF,MF=lF,Jne=uF,Zne=dF,ese=fF,$F=hF,tse=vF,IF=bF,DF=jF,rse=_F,nse=NF,LF=kF,FF=CF,UF=PF;const lt=Xne,ct=Jne,at=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(MF,{ref:n,className:Z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Zne,{asChild:!0,children:a.jsx(Nc,{className:"h-4 w-4 opacity-50"})})]}));at.displayName=MF.displayName;const BF=y.forwardRef(({className:e,...t},r)=>a.jsx(LF,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(uI,{className:"h-4 w-4"})}));BF.displayName=LF.displayName;const qF=y.forwardRef(({className:e,...t},r)=>a.jsx(FF,{ref:r,className:Z("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nc,{className:"h-4 w-4"})}));qF.displayName=FF.displayName;const it=y.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(ese,{children:a.jsxs($F,{ref:s,className:Z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(BF,{}),a.jsx(tse,{className:Z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(qF,{})]})}));it.displayName=$F.displayName;const sse=y.forwardRef(({className:e,...t},r)=>a.jsx(IF,{ref:r,className:Z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));sse.displayName=IF.displayName;const Ne=y.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(DF,{ref:n,className:Z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nse,{children:a.jsx(Vd,{className:"h-4 w-4"})})}),a.jsx(rse,{children:t})]}));Ne.displayName=DF.displayName;const ase=y.forwardRef(({className:e,...t},r)=>a.jsx(UF,{ref:r,className:Z("-mx-1 my-1 h-px bg-muted",e),...t}));ase.displayName=UF.displayName;const ise=ft({name:je().min(1,"Name is required").max(200,"Name too long"),schedule:je().min(1,"Schedule is required"),description:je().optional(),payload_json:je().optional(),session_target:je().optional(),isolation_setting:ni().optional(),status:nr(["active","paused"]).optional()}),eg={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function ose(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function zF({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(ise),defaultValues:eg}),m=d("status"),g=d("isolation_setting");y.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(eg)},[e,i,f]);const p=b=>{const v=ose(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(eg),t(!1)},x=b=>{b||f(eg),t(b)};return a.jsx(Ie,{open:e,onOpenChange:x,children:a.jsxs(Te,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:o?"Edit cron job":"Create cron job"}),a.jsx($e,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Job name"}),a.jsx(ge,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ge,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ge,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"session_target",children:"Session target"}),a.jsx(ge,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(br,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>x(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Mw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},lse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},cse={paired:"success",offline:"destructive",error:"warning"};function WF({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=y.useState((e==null?void 0:e.connection_health)??"unknown");if(y.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(Wa,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx($e,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(He,{variant:cse[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(He,{variant:lse[l],children:[l==="healthy"&&a.jsx(ZS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(NI,{className:"mr-1 h-3 w-3"}),Mw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(He,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Update connection health"}),a.jsxs(lt,{value:i,onValueChange:d=>o(d),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:Object.keys(Mw).map(d=>a.jsx(Ne,{value:d,children:Mw[d]},d))})]})]})]}),n&&a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const use={low:"Low",medium:"Medium",high:"High",critical:"Critical"},dse=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function fse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:Z("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx($e,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:Z("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:use[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Resolution status"}),a.jsxs(lt,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:dse.map(o=>a.jsx(Ne,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(E,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const TP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},hse={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},mse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function pse(){const[e,t]=y.useState(""),[r,n]=y.useState(""),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,p]=y.useState(null),{data:x}=Lx(),b=(x==null?void 0:x.user_id)??"",{data:v=[],isLoading:w}=lne({limit:20,type:r||void 0}),{data:_=[],isLoading:j}=une({status:"running",limit:10}),{data:S=[],isLoading:N}=rF(),{data:k=[],isLoading:C}=sF(),{data:A=[],isLoading:I}=vne({resolution_status:"open"}),P=xne(),q=dne(),T=nF(),W=cne(),L=yne(),K=gne(),D=()=>{const R=e.trim();R&&P.mutate({message:R},{onSuccess:()=>t("")})},M=r?v.filter(R=>R.activity_type===r):v;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Va,href:"/chat"},{title:"Cron jobs",value:S.length,icon:Sc,href:"/cron"},{title:"Nodes",value:k.length,icon:Wa,href:"/nodes"},{title:"Alerts",value:A.length,icon:Or,href:"/security"}].map(({title:R,value:ee,icon:$,href:ie})=>a.jsx(me,{to:ie,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:R}),a.jsx($,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("div",{className:"text-2xl font-bold",children:ee})})]})},R))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(WS,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(TP).map(([R,ee])=>a.jsx("option",{value:R,children:ee},R))]})]}),a.jsx(J,{className:"flex-1 overflow-hidden",children:a.jsx(vt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(ce,{className:"h-14 w-full rounded-lg"},R))}):M.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:M.map(R=>a.jsx("li",{children:a.jsxs("div",{className:Z("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===R.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===R.id?null:R.id),"aria-expanded":s===R.id,children:[s===R.id?a.jsx(Nc,{className:"h-4 w-4 shrink-0"}):a.jsx(Vr,{className:"h-4 w-4 shrink-0"}),a.jsx(He,{variant:"secondary",className:"text-xs",children:TP[R.activity_type]??R.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Rr(new Date(R.created_at),{addSuffix:!0})})]}),s===R.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(E,{variant:"outline",size:"sm",onClick:()=>l(R),children:"View details"})})]})},R.id))})})})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Jm,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(ye,{children:"Send a message to the default session or channel."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ge,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:R=>t(R.target.value),onKeyDown:R=>R.key==="Enter"&&D(),"aria-label":"Quick run message"}),a.jsx(E,{onClick:D,disabled:!e.trim()||P.isPending,children:P.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(sd,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Active runs"}),a.jsx(ye,{children:"Stream and abort running jobs."})]}),a.jsx(J,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{variant:hse[R.status],children:R.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Rr(new Date(R.start_time),{addSuffix:!0})]})]}),a.jsxs(E,{variant:"destructive",size:"sm",onClick:()=>u(R),disabled:R.status!=="running",children:[a.jsx(KS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},R.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(se,{children:"Cron overview"}),a.jsxs(E,{size:"sm",onClick:()=>f(!0),children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(J,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full rounded-lg"}),a.jsx(ce,{className:"h-10 w-full rounded-lg"})]}):S.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[S.slice(0,5).map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.description||R.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:R.schedule})]}),a.jsx(He,{variant:R.status==="active"?"default":"secondary",children:R.status})]},R.id)),S.length>5&&a.jsx("li",{children:a.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(me,{to:"/cron",children:["View all (",S.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(se,{children:"Nodes status"}),a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}),a.jsx(J,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(ce,{className:"h-20 rounded-lg"}),a.jsx(ce,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map(R=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m(R),children:[a.jsx(Wa,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(He,{variant:mse[R.connection_health],className:"text-xs",children:[R.connection_health==="healthy"&&a.jsx(ZS,{className:"mr-0.5 h-3 w-3"}),R.connection_health==="offline"&&a.jsx(NI,{className:"mr-0.5 h-3 w-3"}),R.connection_health]})})]})]},R.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}),a.jsx(J,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):A.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(E,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(me,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:A.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:R.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:R.description})]}),a.jsx(He,{variant:R.severity==="critical"?"destructive":R.severity==="high"?"warning":"secondary",className:"shrink-0",children:R.severity}),a.jsx(E,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p(R),children:"Fix"})]},R.id))})})]}),a.jsx(bne,{activity:o,open:!!o,onOpenChange:R=>!R&&l(null),onDelete:R=>{W.mutate(R),l(null)}}),a.jsx(wne,{run:c,open:!!c,onOpenChange:R=>!R&&u(null),onConfirm:R=>{q.mutate(R),u(null)},isAborting:q.isPending}),a.jsx(zF,{open:d,onOpenChange:f,onSubmit:R=>{"user_id"in R&&R.user_id!==void 0&&T.mutate(R)},isSubmitting:T.isPending,userId:b}),a.jsx(WF,{node:h,open:!!h,onOpenChange:R=>!R&&m(null),onUpdateHealth:(R,ee)=>K.mutate({id:R,data:{connection_health:ee}}),isUpdating:K.isPending}),a.jsx(fse,{alert:g,open:!!g,onOpenChange:R=>!R&&p(null),onResolve:(R,ee)=>L.mutate({id:R,data:{resolution_status:ee}}),isUpdating:L.isPending})]})}const ja={getSessions:async()=>{const{data:e,error:t}=await z.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await z.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await z.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await z.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=z.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await z.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=z.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await z.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await z.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>ja.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>ja.updateToolInvocation(e,{status:"denied"})};function gse(e,t){return e().catch(()=>t)}const Bn={all:["chat"],sessions:()=>[...Bn.all,"sessions"],session:e=>[...Bn.all,"session",e],messages:(e,t)=>[...Bn.all,"messages",e,t],toolInvocations:(e,t)=>[...Bn.all,"toolInvocations",e,t]};function vse(){return Pe({queryKey:Bn.sessions(),queryFn:()=>gse(()=>ja.getSessions(),[])})}function yse(e){return Pe({queryKey:Bn.session(e??""),queryFn:()=>e?ja.getSession(e):Promise.resolve(null),enabled:!!e})}function xse(){const e=ve();return pe({mutationFn:t=>ja.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Bn.sessions()}),V.success("Session created")},onError:t=>{V.error(t.message||"Failed to create session")}})}function bse(){const e=ve();return pe({mutationFn:({id:t,data:r})=>ja.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Bn.sessions()}),e.invalidateQueries({queryKey:Bn.session(r)}),V.success("Session updated")},onError:t=>{V.error(t.message||"Failed to update session")}})}function wse(e,t){return Pe({queryKey:Bn.messages(e??"",{limit:t}),queryFn:()=>e?ja.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function jse(){const e=ve();return pe({mutationFn:t=>ja.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Bn.messages(r.session_id)}),V.success("Message sent")},onError:t=>{V.error(t.message||"Failed to send message")}})}function _se(e,t){return Pe({queryKey:Bn.toolInvocations(e??"",t),queryFn:()=>e?ja.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Sse(){const e=ve();return pe({mutationFn:({id:t,sessionId:r})=>ja.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Bn.toolInvocations(r)}),V.success("Tool output approved")},onError:t=>{V.error(t.message||"Failed to approve")}})}function Nse(){const e=ve();return pe({mutationFn:({id:t,sessionId:r})=>ja.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Bn.toolInvocations(r)}),V.success("Tool output denied")},onError:t=>{V.error(t.message||"Failed to deny")}})}function kse({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:Z("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(_x,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Sx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(cI,{className:"h-4 w-4"}):a.jsx(ep,{className:"h-4 w-4"})})}),a.jsxs("div",{className:Z("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Rr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Cse({messages:e,isLoading:t,currentUserId:r,className:n}){const s=y.useRef(null);return y.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(vt,{className:Z("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(kse,{message:i,currentUserId:r})},i.id))})})}function Ese({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=y.useState(""),[d,f]=y.useState(null),h=y.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:Z("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(o7,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ge,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(lt,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(at,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(mx,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(ct,{placeholder:"Tool"})]}),a.jsx(it,{children:o.map(g=>a.jsx(Ne,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(E,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(sd,{className:"h-4 w-4"})})]})})}function Pse(e,t=[]){let r=[];function n(i,o){const l=y.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,x=y.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:x,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=y.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>y.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return y.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Ose(s,...t)]}function Ose(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Ase=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],VF=Ase.reduce((e,t)=>{const r=tp(`Primitive.${t}`),n=y.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),UN="Progress",BN=100,[Tse]=Pse(UN),[Rse,Mse]=Tse(UN),KF=y.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=$se,...o}=e;(s||s===0)&&!RP(s)&&console.error(Ise(`${s}`,"Progress"));const l=RP(s)?s:BN;n!==null&&!MP(n,l)&&console.error(Dse(`${n}`,"Progress"));const c=MP(n,l)?n:null,u=Iv(c)?i(c,l):void 0;return a.jsx(Rse,{scope:r,value:c,max:l,children:a.jsx(VF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Iv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":YF(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});KF.displayName=UN;var HF="ProgressIndicator",GF=y.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Mse(HF,r);return a.jsx(VF.div,{"data-state":YF(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});GF.displayName=HF;function $se(e,t){return`${Math.round(e/t*100)}%`}function YF(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Iv(e){return typeof e=="number"}function RP(e){return Iv(e)&&!isNaN(e)&&e>0}function MP(e,t){return Iv(e)&&!isNaN(e)&&e<=t&&e>=0}function Ise(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${BN}\`.`}function Dse(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${BN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var QF=KF,Lse=GF;const qN=y.forwardRef(({className:e,value:t,...r},n)=>a.jsx(QF,{ref:n,className:Z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Lse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));qN.displayName=QF.displayName;const Fse={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Use({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(mx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(He,{variant:Fse[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Rr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(J,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(xn,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(qN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(E,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(ad,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(E,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Vd,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Bse({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:Z("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(re,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(J,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(He,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(re,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(J,{children:a.jsx(vt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:Z("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(Jm,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(re,{className:"pb-2",children:a.jsx(se,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(J,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(vI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(He,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function qse({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=y.useState(!1);return a.jsxs(X,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Nc,{className:"h-4 w-4"}):a.jsx(uI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(J,{className:"p-0",children:a.jsx(vt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function zse({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=y.useState(""),[d,f]=y.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:Z("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Manage attachments"}),a.jsxs($e,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-url",children:"URL"}),a.jsx(ge,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(Y,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ge,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(E,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(SI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(vt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(ad,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:m,children:"Done"})]})]})})}const Wse={new:"Start new session",reset:"Reset session",stop:"Stop session"},Vse={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Kse({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:Z("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:Wse[r]}),a.jsx($e,{id:"session-dialog-description",children:Vse[r]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(It,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(yI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(Xh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Hse=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Gse(){const{data:e}=Lx(),t=(e==null?void 0:e.user_id)??null,[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState([]),[h,m]=y.useState([]),{data:g=[],isLoading:p}=vse(),{data:x}=yse(r),{data:b=[],isLoading:v}=wse(r,200),{data:w=[]}=_se(r,{limit:20}),_=xse(),j=bse(),S=jse(),N=Sse(),k=Nse();y.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&_.mutate({title:"New session"},{onSuccess:T=>n(T.id)})}},[p,g.length,g,r,_]);const C=y.useCallback((T,W)=>{r&&S.mutate({session_id:r,sender_id:t??void 0,role:"user",text:T,attachment_links:(W==null?void 0:W.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,S]),A=y.useCallback(T=>{T==="new"?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:W=>{n(W.id),l(!1),i(null)}}):T==="reset"&&r?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:W=>{n(W.id),l(!1),i(null)}}):T==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,_,j]),I=y.useCallback(T=>{r&&N.mutate({id:T,sessionId:r})},[r,N]),P=y.useCallback(T=>{r&&k.mutate({id:T,sessionId:r})},[r,k]),q=T=>{i(T),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>q("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(It,{className:"h-4 w-4"}),"/new"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>q("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(yI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>q("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(Xh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Cse,{messages:b,isLoading:v,currentUserId:t,className:"min-h-0"}),a.jsx(Ese,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:S.isPending,availableTools:Hse})]}),w.length>0&&a.jsx(vt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(T=>a.jsx(Use,{invocation:T,onApprove:I,onDeny:P},T.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Bse,{session:x??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(qse,{traces:h,onExport:()=>m([])})]})]}),a.jsx(zse,{open:c,onOpenChange:u,attachments:d,onAdd:(T,W)=>f(L=>[...L,{url:T,name:W}]),onRemove:T=>f(W=>W.filter((L,K)=>K!==T)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Kse,{open:o,onOpenChange:l,action:s,onConfirm:A,isLoading:_.isPending||j.isPending})]})}const ul={getChannels:async()=>{const{data:e,error:t}=await z.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await z.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await z.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await z.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await z.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ul.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await z.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await z.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await z.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=z.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await z.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function Yse(e,t){return e().catch(()=>t)}const Ps={all:["channels"],list:()=>[...Ps.all,"list"],detail:e=>[...Ps.all,"detail",e],adapterConfig:e=>[...Ps.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...Ps.all,"deliveryLogs",e,t]};function Qse(){return Pe({queryKey:Ps.list(),queryFn:()=>Yse(()=>ul.getChannels(),[])})}function Xse(e){return Pe({queryKey:Ps.detail(e??""),queryFn:()=>e?ul.getChannel(e):Promise.resolve(null),enabled:!!e})}function Jse(){const e=ve();return pe({mutationFn:t=>ul.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ps.list()}),V.success("Channel added")},onError:t=>{V.error(t.message||"Failed to add channel")}})}function Zse(){const e=ve();return pe({mutationFn:t=>ul.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ps.list()}),V.success("Channel removed")},onError:t=>{V.error(t.message||"Failed to remove channel")}})}function eae(e){return Pe({queryKey:Ps.adapterConfig(e??""),queryFn:()=>e?ul.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function tae(){const e=ve();return pe({mutationFn:t=>ul.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:Ps.adapterConfig(n)}),e.invalidateQueries({queryKey:Ps.detail(n)}),V.success("Channel config saved")},onError:t=>{V.error(t.message||"Failed to save config")}})}function rae(e,t){return Pe({queryKey:Ps.deliveryLogs(e,t),queryFn:()=>e?ul.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const $w={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},nae=ft({provider:nr(["whatsapp","telegram","slack","discord"]),display_name:je().optional()}),sae=ft({retrieval_mode:nr(["webhook","polling"]),webhook_url:je().url().optional().or(IN("")),polling_interval_seconds:ls.number().min(30).max(3600).optional()}),aae=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function iae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=y.useState(1),o=ut({resolver:dt(nae),defaultValues:{provider:"telegram",display_name:""}}),l=ut({resolver:dt(sae),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const m=o.getValues(),g=l.getValues();r({provider:m.provider,display_name:m.display_name||null,webhook_url:u==="webhook"&&g.webhook_url?g.webhook_url:null,polling_interval_seconds:u==="polling"?g.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(m=>m+1)}},f=()=>{s>1&&i(m=>m-1)},h=m=>{m||(i(1),o.reset(),l.reset()),t(m)};return a.jsx(Ie,{open:e,onOpenChange:h,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Add channel"}),a.jsx($e,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:aae.map(m=>a.jsx("div",{className:Z("h-1 flex-1 rounded-full transition-colors",m.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},m.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:c,onValueChange:m=>o.setValue("provider",m),children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Select provider"})}),a.jsx(it,{children:Object.keys($w).map(m=>a.jsx(Ne,{value:m,children:$w[m]},m))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ge,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(vI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(ph,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ge,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ge,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(XS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:$w[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs(E,{type:"button",variant:"outline",onClick:f,disabled:n,children:[a.jsx(hv,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(E,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(Vr,{className:"ml-2 h-4 w-4"})]})})]})]})})}const oae=ft({dm_policy:nr(["pairing","allowlist","open","disabled"]),group_policy:nr(["mention","open","disabled"]),mention_gating:ni()}),$P={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},IP={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function lae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=ut({resolver:dt(oae),defaultValues:l}),g=d("mention_gating");y.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},x=b=>{b||f(l),t(b)};return a.jsx(Ie,{open:e,onOpenChange:x,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Channel policy"}),a.jsx($e,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"DM policy"}),a.jsxs(lt,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:Z(h.dm_policy&&"border-destructive"),children:a.jsx(ct,{placeholder:"Select DM policy"})}),a.jsx(it,{children:Object.keys($P).map(b=>a.jsx(Ne,{value:b,children:$P[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Group policy"}),a.jsxs(lt,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(at,{className:Z(h.group_policy&&"border-destructive"),children:a.jsx(ct,{placeholder:"Select group policy"})}),a.jsx(it,{children:Object.keys(IP).map(b=>a.jsx(Ne,{value:b,children:IP[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(br,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>x(!1),children:"Cancel"}),a.jsx(E,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function cae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(Ki,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs($e,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Fa(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const DP={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},uae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function dae(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState(""),{data:h=[],isLoading:m}=Qse(),{data:g}=Xse(r),{data:p}=eae(r),{data:x=[]}=rae(r,{limit:50}),b=Jse(),v=Zse(),w=tae(),_=async N=>{const k=await b.mutateAsync({provider:N.provider,display_name:N.display_name,status:"provisioning"});await w.mutateAsync({channel_id:k.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:N.webhook_url??null,polling_interval_seconds:N.polling_interval_seconds??null}),n(k.id),t(!1)},j=N=>{r&&w.mutate({channel_id:r,dm_policy:N.dm_policy,group_policy:N.group_policy,mention_gating:N.mention_gating})},S=N=>{l(N),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(si,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(Sa,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(St,{value:"channels",children:"Channels"}),a.jsx(St,{value:"logs",children:"Delivery logs"}),a.jsx(St,{value:"test",children:"Test console"})]}),a.jsx(Nt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Channels list"}),a.jsx(ye,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(J,{children:m?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(N=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},N))}):h.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ph,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:h.map(N=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===N.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(N.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(ph,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.display_name||DP[N.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[DP[N.provider],N.last_event_at&&`  Last event ${Rr(new Date(N.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(He,{variant:uae[N.status],className:"shrink-0",children:N.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[N.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{n(N.id),i(!0)},children:[a.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(v.mutate(N.id),r===N.id&&n(null))},children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},N.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Channel config"}),a.jsx(ye,{children:"DM policy, group policy, mention gating."})]}),a.jsx(J,{children:r?a.jsx("div",{className:"space-y-4",children:p===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(p==null?void 0:p.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:p!=null&&p.mention_gating?"On":"Off"})]})]}),a.jsxs(E,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(Kn,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Nt,{value:"logs",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Delivery logs"}),a.jsxs(ye,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(J,{children:r?x.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Mi,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(vt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:x.map(N=>a.jsx("div",{className:Z("flex items-center justify-between rounded-lg border p-3 text-sm",N.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[N.success?a.jsx(Mi,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(ux,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Rr(new Date(N.created_at),{addSuffix:!0})})]}),!N.success&&N.error_details&&a.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>S(N),className:"shrink-0",children:[a.jsx(Ho,{className:"mr-1 h-4 w-4"}),"Details"]})]})},N.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(ph,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Nt,{value:"test",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Test console"}),a.jsx(ye,{children:"Send test messages through the selected channel."})]}),a.jsx(J,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ge,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:N=>f(N.target.value),className:"min-h-[80px]"})]}),a.jsxs(E,{disabled:!d.trim(),onClick:()=>{f("")},children:[a.jsx(sd,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(sd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(iae,{open:e,onOpenChange:t,onSubmit:_,isSubmitting:b.isPending||w.isPending}),a.jsx(lae,{open:s,onOpenChange:i,channelId:r??"",channelName:(g==null?void 0:g.display_name)??(g==null?void 0:g.provider),config:p??null,onSubmit:j,isSubmitting:w.isPending}),a.jsx(cae,{open:c,onOpenChange:u,log:o})]})}function fae(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/marketplace",children:[a.jsx(hx,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/skill-editor",children:[a.jsx(VS,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Installed skills"}),a.jsx(ye,{children:"Enable/disable and manage local skills."})]}),a.jsx(J,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Registry browser"}),a.jsx(ye,{children:"Browse and install skills from the registry."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Skill detail"}),a.jsx(ye,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(J,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Qn="/skills",Gi={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return Se.get(`${Qn}${t?`?${t}`:""}`)},get:e=>Se.get(`${Qn}/${e}`),create:e=>Se.post(Qn,e),update:(e,t)=>Se.patch(`${Qn}/${e}`,t),delete:e=>Se.delete(`${Qn}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return Se.get(`${Qn}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>Se.get(`${Qn}/${e}/test-runs/${t}`),runTest:(e,t)=>Se.post(`${Qn}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>Se.post(`${Qn}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>Se.get(`${Qn}/${e}/check-requirements`),getVersions:e=>Se.get(`${Qn}/${e}/versions`),createVersion:(e,t)=>Se.post(`${Qn}/${e}/versions`,t),commit:(e,t)=>Se.post(`${Qn}/${e}/commit`,t)};function qx(e,t){return e().catch(()=>t)}const sn={all:["skills"],list:e=>[...sn.all,"list",e],detail:e=>[...sn.all,"detail",e],testRuns:(e,t)=>[...sn.all,"test-runs",e,t],testRun:(e,t)=>[...sn.all,"test-run",e,t],versions:e=>[...sn.all,"versions",e],gating:e=>[...sn.all,"gating",e]};function hae(e){return Pe({queryKey:sn.list(e),queryFn:()=>qx(()=>Gi.list(e),[])})}function mae(e){return Pe({queryKey:sn.detail(e??""),queryFn:()=>e?qx(()=>Gi.get(e),null):Promise.resolve(null),enabled:!!e})}function pae(){const e=ve();return pe({mutationFn:t=>Gi.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:sn.list()}),V.success("Skill created")},onError:t=>{V.error(t.message||"Failed to create skill")}})}function gae(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Gi.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:sn.list()}),e.invalidateQueries({queryKey:sn.detail(r)}),V.success("Skill saved")},onError:t=>{V.error(t.message||"Failed to save skill")}})}function vae(e,t){return Pe({queryKey:sn.testRuns(e??"",t),queryFn:()=>e?qx(()=>Gi.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function yae(){const e=ve();return pe({mutationFn:({skillId:t,payload:r})=>Gi.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:sn.testRuns(r)}),V.success("Test run started")},onError:t=>{V.error(t.message||"Failed to run skill test")}})}function xae(e){return Pe({queryKey:sn.versions(e??""),queryFn:()=>e?qx(()=>Gi.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function bae(e){return Pe({queryKey:sn.gating(e??""),queryFn:()=>e?Gi.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function wae(){const e=ve();return pe({mutationFn:({skillId:t,message:r,sign:n})=>Gi.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:sn.detail(r)}),e.invalidateQueries({queryKey:sn.versions(r)}),V.success("Changes committed")},onError:t=>{V.error(t.message||"Failed to commit")}})}const jae=ft({name:je().min(1,"Name is required"),version:je().min(1,"Version is required"),description:je().optional(),permissions:je().optional(),env_keys:je().optional()}),Iw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function _ae({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...Iw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=ut({resolver:dt(jae),defaultValues:i()});y.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(Iw),t(!1)},f=h=>{h||c(Iw),t(h)};return a.jsx(Ie,{open:e,onOpenChange:f,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Edit frontmatter"}),a.jsx($e,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ge,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:Z(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ge,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:Z(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ge,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ge,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ge,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const Sae=ft({message:je().optional(),sign:ni().optional()}),Dw={message:"",sign:!1};function Nae({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=ut({resolver:dt(Sae),defaultValues:Dw}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(Dw),t(!1)},m=g=>{g||u(Dw),t(g)};return a.jsx(Ie,{open:e,onOpenChange:m,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Commit changes"}),a.jsx($e,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ge,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:Z(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(br,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function kae({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:Z("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(E,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(ad,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:Z("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(dI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(Ki,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(E,{onClick:t,children:"Close"})})]})}):null}const Yc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function Cae(){const{skillId:e}=hW(),t=il(),[r,n]=y.useState("editor"),[s,i]=y.useState(""),[o,l]=y.useState(""),[c,u]=y.useState(!1),[d,f]=y.useState(!1),[h,m]=y.useState(!1),{data:g=[],isLoading:p}=hae(),{data:x,isLoading:b}=mae(e??null),{data:v=[]}=vae(e??null,{limit:5}),{data:w=[]}=xae(e??null),{data:_}=bae(e??null),j=gae(),S=yae(),N=wae(),k=pae(),C=x??null,A=C&&(s!==C.content||o!==C.name),I=y.useCallback(()=>{C?(i(C.content||Yc),l(C.name||"")):(i(Yc),l(""))},[C]);y.useEffect(()=>{C?(i(C.content||Yc),l(C.name||"")):e||(i(Yc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const P=R=>{t(`/skill-editor/${R}`)},q=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},T=()=>{e&&S.mutate({skillId:e})},W=R=>{e&&N.mutate({skillId:e,...R},{onSuccess:()=>f(!1)})},L=R=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...R}}},{onSuccess:()=>{u(!1)}})},K=v[0],D=_&&!_.passed,M=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(t7,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(c7,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:q,disabled:!e||!A||j.isPending,children:[a.jsx(JS,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>m(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(Ki,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(r7,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(E,{size:"sm",onClick:T,disabled:!e||S.isPending,children:[a.jsx(Va,{className:"mr-1 h-4 w-4"}),S.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-sm",children:"Skills"}),a.jsx(ye,{children:"Select a skill to edit."})]}),a.jsxs(J,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-9 w-full"}),a.jsx(ce,{className:"h-9 w-full"}),a.jsx(ce,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(E,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Yc},{onSuccess:R=>{t(`/skill-editor/${R.id}`)}}),disabled:k.isPending,children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(vt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map(R=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>P(R.id),className:Z("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===R.id&&"bg-primary/15 text-primary"),children:[a.jsx(or,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:R.name}),a.jsx(Vr,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},R.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(vt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(R=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:R.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:R.changes?"":""})]},R.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(J,{className:"flex items-center justify-center py-12",children:a.jsx(ce,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(si,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(Sa,{className:"grid w-full grid-cols-3",children:[a.jsx(St,{value:"editor",children:"SKILL.md editor"}),a.jsx(St,{value:"preview",children:"Preview"}),a.jsx(St,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Nt,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(kae,{open:h,onClose:()=>m(!1),requirements:M.map(R=>({id:R.id,label:R.label,met:R.met,message:R.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(J,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(Y,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ge,{id:"skill-name",value:o,onChange:R=>l(R.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Yc,value:s,onChange:R=>i(R.target.value)})]})]})}),a.jsx(Nt,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(J,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Nt,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(J,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-sm",children:"Test runner"}),a.jsx(ye,{children:"Run skill in sandbox and view logs."})]}),a.jsx(J,{children:K?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",K.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(K.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:K.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(_ae,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:L,isSubmitting:j.isPending}),a.jsx(Nae,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:W,isSubmitting:N.isPending})]})}const Eae=10,Lw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function LP(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Hn={getNodes:async()=>{const{data:e,error:t}=await z.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await z.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await z.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await z.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await z.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await z.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await z.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await z.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=z.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await z.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await z.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Pae(),r=new Date;r.setMinutes(r.getMinutes()+Eae);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await z.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await z.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Hn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:Lw});await z.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of Lw)await Hn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:LP(o)});return i},getDefaultCapabilityKeys:()=>Lw,getCapabilityDescription:LP};function Pae(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function XF(e,t){return e().catch(()=>t)}const Br={all:["nodes"],list:()=>[...Br.all,"list"],detail:e=>[...Br.all,"detail",e],capabilities:e=>[...Br.all,"capabilities",e],approvals:e=>[...Br.all,"approvals",e],pairing:()=>[...Br.all,"pairing"]};function Oae(){return Pe({queryKey:Br.list(),queryFn:()=>XF(()=>Hn.getNodes(),[])})}function Aae(e){return Pe({queryKey:Br.detail(e??""),queryFn:()=>e?Hn.getNode(e):Promise.resolve(null),enabled:!!e})}function Tae(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Hn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Br.list()}),e.invalidateQueries({queryKey:Br.detail(r)}),V.success("Node updated")},onError:t=>{V.error(t.message||"Failed to update node")}})}function Rae(){const e=ve();return pe({mutationFn:t=>Hn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Br.list()}),e.invalidateQueries({queryKey:Br.approvals()}),V.success("Node removed")},onError:t=>{V.error(t.message||"Failed to remove node")}})}function Mae(e){return Pe({queryKey:Br.capabilities(e??""),queryFn:()=>e?Hn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function $ae(){const e=ve();return pe({mutationFn:t=>Hn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Br.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Br.detail(r.node_id)}),V.success("Capability updated")},onError:t=>{V.error(t.message||"Failed to update capability")}})}function Iae(e){return Pe({queryKey:Br.approvals(e),queryFn:()=>XF(()=>Hn.getNodeApprovals(e),[])})}function Dae(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Hn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Br.approvals()}),V.success("Approval updated")},onError:t=>{V.error(t.message||"Failed to update approval")}})}function Lae(){const e=ve();return pe({mutationFn:()=>Hn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Br.pairing()})},onError:t=>{V.error(t.message||"Failed to start pairing")}})}function Fae(){const e=ve();return pe({mutationFn:({code:t,nodeName:r})=>Hn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Br.list()}),e.invalidateQueries({queryKey:Br.pairing()}),V.success("Device paired")},onError:t=>{V.error(t.message||"Failed to pair device")}})}function Uae(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function Bae({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),h=Fae();y.useEffect(()=>{if(!r||!e)return;const x=()=>l(Uae(r.expires_at));x();const b=setInterval(x,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsx(Te,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Pair device"}),a.jsx($e,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:Z("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(XS,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Mo,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(E,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(Vd,{className:"h-4 w-4 text-success"}):a.jsx(fI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(Y,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ge,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:x=>u(x.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(E,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(E,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(E,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const qae={pending:{label:"Pending",variant:"secondary",icon:Mo},approved:{label:"Approved",variant:"success",icon:Mi},denied:{label:"Denied",variant:"destructive",icon:ux}};function zae({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=qae[r.status],d=r.status==="pending";return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Approval request"}),a.jsx($e,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(He,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:Rr(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(E,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(E,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const Wae=ft({status:nr(["enabled","disabled","pending_approval"]),description:je().optional()});function Vae({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=ut({resolver:dt(Wae),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Hn.getCapabilityDescription(n.capability_key):"";return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Capability configuration"}),a.jsxs($e,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-status",children:"Status"}),a.jsxs(lt,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(at,{id:"cap-status",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"enabled",children:"Enabled"}),a.jsx(Ne,{value:"disabled",children:"Disabled"}),a.jsx(Ne,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ge,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:Z(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}function Kae({open:e,onOpenChange:t,node:r,onConfirm:n,isUnpairing:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"unpair-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Revoke / Unpair device"}),a.jsx($e,{id:"unpair-description",children:"Unpairing will remove this device from your account. The device will need to be paired again to regain access. This cannot be undone."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Device: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name??`Node ${r.id.slice(0,8)}`})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:i,disabled:s,children:s?"Unpairing":"Unpair"})]})]})})}function Hae(e){const t=e.find(n=>n.capability_key==="remote_exec");if(!(t!=null&&t.configurations)||typeof t.configurations!="object")return[];const r=t.configurations.allowlist;return Array.isArray(r)?r:[]}function Gae(e){const t=e.find(r=>r.capability_key==="voice_wake");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Yae(e){const t=e.find(r=>r.capability_key==="talk_mode");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function Qae({node:e,capabilities:t,className:r}){if(!e)return a.jsxs(X,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(ye,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to view details and configuration."})]})})]});const n=Hae(t),s=Gae(t),i=Yae(t);return a.jsxs(X,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(ye,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(_I,{className:"h-4 w-4 text-muted-foreground"}),"Remote exec allowlist"]}),n.length>0?a.jsx(vt,{className:"h-[72px] rounded-md border border-border px-3 py-2",children:a.jsx("ul",{className:"space-y-1 text-xs font-mono text-muted-foreground",children:n.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Vr,{className:"h-3 w-3 shrink-0"}),o]},l))})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No allowlist configured. Edit remote_exec capability to set allowed commands."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(nd,{className:"h-4 w-4 text-muted-foreground"}),"Voice wake"]}),s&&Object.keys(s).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(s,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media or via capability."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(v7,{className:"h-4 w-4 text-muted-foreground"}),"TTS preferences"]}),i&&Object.keys(i).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(i,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(td,{className:"h-4 w-4 text-muted-foreground"}),"Stored tokens"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CDP and auth tokens are stored securely. Rotate from Settings or when unpairing."})]})]})]})}const Xae={paired:"success",offline:"destructive",error:"warning"},Jae={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},Zae={voice_wake:nd,talk_mode:nd,remote_exec:_I,browser_proxy:fx,camera_capture:QH},eie={voice_wake:"Voice",talk_mode:"Talk",remote_exec:"Exec",browser_proxy:"Browser",camera_capture:"Camera"};function tie(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,p]=y.useState(!1),[x,b]=y.useState(!1),[v,w]=y.useState(null),{data:_=[],isLoading:j}=Oae(),{data:S}=Aae(s),{data:N=[]}=Mae(s),{data:k=[]}=Iae({limit:20}),C=Lae(),A=Tae(),I=Rae(),P=$ae(),q=Dae(),T=k.find($=>$.id===c),W=async()=>{try{const $=await C.mutateAsync();n($)}catch{}},L=$=>{!s||!h||(P.mutate({node_id:s,capability_key:h.capability_key,status:$.status,description:$.description??null}),f(!1),m(null))},K=$=>{q.mutate({id:$,data:{status:"approved"}}),l(!1),u(null)},D=$=>{q.mutate({id:$,data:{status:"denied"}}),l(!1),u(null)},M=($,ie)=>{A.mutate({id:$,data:{connection_health:ie}})},R=$=>{w($),b(!0)},ee=()=>{v&&(I.mutate(v.id),s===v.id&&i(null),w(null))};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Vr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Nodes (Paired Devices)"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage paired devices, capabilities, and approval policies."})]}),a.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Nodes list"}),a.jsx(ye,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(J,{children:j?a.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},$))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Wa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair New Device to add a device via QR or code."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]}):a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map($=>a.jsxs("div",{className:Z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===$.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i($.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Wa,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:$.name??`Node ${$.id.slice(0,8)}`}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",$.id.slice(0,8),$.id.length>8?"":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last seen:"," ",$.last_active_at?Rr(new Date($.last_active_at),{addSuffix:!0}):"Never"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 shrink-0",children:[($.capabilities??[]).slice(0,4).map(ie=>a.jsx(He,{variant:"secondary",className:"text-[10px] font-normal",children:eie[ie]??ie},ie)),a.jsx(He,{variant:Xae[$.status],className:"shrink-0",children:$.status}),a.jsx(He,{variant:Jae[$.connection_health],className:"shrink-0",children:$.connection_health})]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{i($.id),p(!0)},children:[a.jsx(ZS,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>R($),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Revoke / Unpair"]})]})]})]},$.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Pair node"}),a.jsx(ye,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(J,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(XS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Qae,{node:S??null,capabilities:N}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Capabilities"}),a.jsx(ye,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(J,{children:s?N.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:N.map($=>{const ie=Zae[$.capability_key]??Wa;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:$.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Hn.getCapabilityDescription($.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(He,{variant:$.status==="enabled"?"success":$.status==="pending_approval"?"warning":"secondary",children:$.status}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m($),f(!0)},"aria-label":"Edit capability",children:a.jsx(Kn,{className:"h-4 w-4"})})]})]},$.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Approval history"}),a.jsx(ye,{children:"Exec approvals, denied runs, and pending capability or execution requests."})]}),a.jsx(J,{children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(bI,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvals yet."})]}):a.jsx(vt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:k.map($=>a.jsxs("button",{type:"button",onClick:()=>{u($.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:$.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Rr(new Date($.created_at),{addSuffix:!0})})]}),a.jsx(He,{variant:"secondary",children:$.status})]},$.id))})})})]})]})]}),a.jsx(Bae,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:W,isStartingPairing:C.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(zae,{open:o,onOpenChange:l,approval:T??null,node:T?_.find($=>$.id===T.node_id)??null:null,onApprove:K,onDeny:D,isUpdating:q.isPending}),a.jsx(Vae,{open:d,onOpenChange:f,node:S??null,capability:h,onSubmit:L,isSubmitting:P.isPending}),a.jsx(WF,{node:S??null,open:g,onOpenChange:p,onUpdateHealth:M,isUpdating:A.isPending}),a.jsx(Kae,{open:x,onOpenChange:b,node:v,onConfirm:ee,isUnpairing:I.isPending})]})}function rie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Delete cron job?"}),a.jsxs($e,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const nie={running:{label:"Running",icon:xn,variant:"secondary"},completed:{label:"Completed",icon:Mi,variant:"default"},failed:{label:"Failed",icon:ux,variant:"destructive"},aborted:{label:"Aborted",icon:HH,variant:"outline"}};function sie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(re,{children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48"})]}),a.jsx(J,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Jf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ye,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(J,{children:a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=nie[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(He,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Rr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Jf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ye,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Jf,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:Z("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Jf,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ye,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(J,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}const aie=[{to:"/cron",label:"Scheduling",icon:Sc},{to:"/webhooks",label:"Webhooks & Hooks",icon:pv}];function JF(){return a.jsx("nav",{className:"mb-6 flex flex-wrap gap-2 border-b border-border pb-4","aria-label":"Scheduling and Webhooks sections",children:aie.map(({to:e,label:t,icon:r})=>a.jsxs(T4,{to:e,end:e!=="/webhooks",className:({isActive:n})=>Z("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all","hover:bg-secondary/50 hover:scale-[1.02] active:scale-[0.98]",n?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[a.jsx(r,{className:"h-4 w-4","aria-hidden":!0}),t]},e))})}function iie(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(null),[d,f]=y.useState(null),{data:h}=Lx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=rF(),{data:x=[],isLoading:b}=mne(c??d,{limit:20}),v=nF(),w=fne(),_=hne(),j=pne(),S=()=>{i(null),t(!0)},N=T=>{i(T),t(!0)},k=T=>{s?w.mutate({id:s.id,data:T},{onSuccess:()=>{t(!1),i(null)}}):v.mutate(T,{onSuccess:()=>t(!1)})},C=T=>{l(T),n(!0)},A=T=>{_.mutate(T,{onSuccess:()=>{n(!1),l(null),c===T&&u(null)}})},I=T=>{f(T.id),j.mutate(T.id,{onSuccess:()=>{u(T.id),f(null)},onError:()=>f(null)})},P=T=>T.name||T.description||"Unnamed job",q=T=>T==="active"?"default":T==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsx(JF,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(E,{onClick:S,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Cron list"}),a.jsx(ye,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(J,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(T=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},T))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(T=>a.jsxs("tr",{className:Z("border-b border-border transition-colors hover:bg-secondary/30",c===T.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:P(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:T.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(He,{variant:q(T.status),children:T.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.next_run_time?Rr(new Date(T.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(T),disabled:j.isPending&&d===T.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===T.id?a.jsx(Mo,{className:"h-4 w-4 animate-spin"}):a.jsx(Va,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===T.id?"Running":"Run now"})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>N(T),children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>{u(T.id)},children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},T.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(T=>a.jsx(X,{className:Z("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===T.id&&"ring-2 ring-primary"),children:a.jsxs(J,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:P(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:T.schedule}),a.jsx(He,{variant:q(T.status),className:"mt-2",children:T.status}),T.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Rr(new Date(T.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>I(T),children:[a.jsx(Va,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Rt,{onClick:()=>N(T),children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>u(T.id),children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(T),disabled:j.isPending&&d===T.id,children:[j.isPending&&d===T.id?a.jsx(Mo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Va,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(E,{variant:"outline",size:"sm",onClick:()=>N(T),children:"Edit"})]})]})},T.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(Sc,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(E,{onClick:S,className:"mt-4",children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(sie,{jobId:c??d,runs:x,isLoading:b}),a.jsx(zF,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:v.isPending||w.isPending,userId:m,job:s}),a.jsx(rie,{job:o,open:r,onOpenChange:n,onConfirm:A,isDeleting:_.isPending})]})}function oie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const zr={getWebhooks:async()=>{const{data:e,error:t}=await z.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await z.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=oie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null,rate_limit:e.rate_limit??null},{data:o,error:l}=await z.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await z.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await z.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},testWebhook:async e=>{const t=await zr.getWebhook(e);if(!t)throw new Error("Webhook not found");try{const r=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_test:!0,timestamp:new Date().toISOString(),source:"control-ui"})});return{ok:r.ok,message:r.ok?"Test request sent":await r.text().catch(()=>r.statusText)}}catch(r){return{ok:!1,message:r instanceof Error?r.message:"Request failed"}}},getHookScripts:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)return[];let r=z.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await z.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await z.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await z.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await z.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await zr.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await z.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await z.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await z.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getGmailPubSubSettings:async()=>{const{data:e,error:t}=await z.from("gmail_pubsub_settings").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getGmailPubSubSetting:async e=>{const{data:t,error:r}=await z.from("gmail_pubsub_settings").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createGmailPubSubSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,name:e.name??"default",configuration_details:e.configuration_details??{},is_active:e.is_active??!1,last_tested_at:e.last_tested_at??null,metadata:e.metadata??{}},{data:n,error:s}=await z.from("gmail_pubsub_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateGmailPubSubSetting:async(e,t)=>{const{data:r,error:n}=await z.from("gmail_pubsub_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteGmailPubSubSetting:async e=>{const{error:t}=await z.from("gmail_pubsub_settings").delete().eq("id",e);if(t)throw new Error(t.message)},testGmailPubSubSetting:async e=>{const t=await zr.getGmailPubSubSetting(e);if(!t)throw new Error("Gmail Pub/Sub setting not found");const r=t.configuration_details,n=r==null?void 0:r.push_endpoint;if(!n)return{ok:!1,message:"Push endpoint not configured"};try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:{data:btoa(unescape(encodeURIComponent(JSON.stringify({test:!0}))))}})}),i=s.ok||s.status===200;return await zr.updateGmailPubSubSetting(e,{last_tested_at:new Date().toISOString()}),{ok:i,message:i?"Test sent":await s.text().catch(()=>s.statusText)}}catch(s){return{ok:!1,message:s instanceof Error?s.message:"Request failed"}}}};function ZF(e,t){return e().catch(()=>t)}const ur={all:["webhooks"],list:()=>[...ur.all,"list"],detail:e=>[...ur.all,"detail",e],hookScripts:e=>[...ur.all,"hookScripts",e],payloadTemplate:e=>[...ur.all,"payloadTemplate",e],gmailPubSubSettings:()=>[...ur.all,"gmailPubSubSettings"],gmailPubSubSetting:e=>[...ur.all,"gmailPubSubSetting",e]};function lie(){return Pe({queryKey:ur.list(),queryFn:()=>ZF(()=>zr.getWebhooks(),[])})}function cie(){const e=ve();return pe({mutationFn:t=>zr.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.list()}),V.success("Webhook created")},onError:t=>{V.error(t.message||"Failed to create webhook")}})}function uie(){const e=ve();return pe({mutationFn:t=>zr.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.list()}),V.success("Webhook removed")},onError:t=>{V.error(t.message||"Failed to remove webhook")}})}function die(){const e=ve();return pe({mutationFn:t=>zr.testWebhook(t),onSuccess:t=>{e.invalidateQueries({queryKey:ur.list()}),t.ok?V.success(t.message??"Test request sent"):V.error(t.message??"Test failed")},onError:t=>{V.error(t.message||"Test failed")}})}function fie(e){return Pe({queryKey:ur.hookScripts(e),queryFn:()=>zr.getHookScripts(e)})}function hie(){const e=ve();return pe({mutationFn:t=>zr.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:ur.hookScripts(r.webhook_id??null)}),V.success("Hook script added")},onError:t=>{V.error(t.message||"Failed to add hook script")}})}function mie(){const e=ve();return pe({mutationFn:({id:t,data:r})=>zr.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:ur.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:ur.hookScripts(null)}),V.success("Hook script updated")},onError:t=>{V.error(t.message||"Failed to update hook script")}})}function pie(){const e=ve();return pe({mutationFn:t=>zr.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.all}),V.success("Hook script removed")},onError:t=>{V.error(t.message||"Failed to remove hook script")}})}function gie(e){return Pe({queryKey:ur.payloadTemplate(e??""),queryFn:()=>e?zr.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function vie(){const e=ve();return pe({mutationFn:t=>zr.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:ur.payloadTemplate(r.webhook_id)}),V.success("Payload template saved")},onError:t=>{V.error(t.message||"Failed to save payload template")}})}function yie(){return Pe({queryKey:ur.gmailPubSubSettings(),queryFn:()=>ZF(()=>zr.getGmailPubSubSettings(),[])})}function xie(){const e=ve();return pe({mutationFn:t=>zr.createGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),V.success("Gmail Pub/Sub setting created")},onError:t=>{V.error(t.message||"Failed to create Gmail Pub/Sub setting")}})}function bie(){const e=ve();return pe({mutationFn:({id:t,data:r})=>zr.updateGmailPubSubSetting(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),e.invalidateQueries({queryKey:ur.gmailPubSubSetting(r)}),V.success("Gmail Pub/Sub setting updated")},onError:t=>{V.error(t.message||"Failed to update Gmail Pub/Sub setting")}})}function wie(){const e=ve();return pe({mutationFn:t=>zr.deleteGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),V.success("Gmail Pub/Sub setting removed")},onError:t=>{V.error(t.message||"Failed to remove Gmail Pub/Sub setting")}})}function jie(){const e=ve();return pe({mutationFn:t=>zr.testGmailPubSubSetting(t),onSuccess:t=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),t.ok?V.success(t.message??"Test sent"):V.error(t.message??"Test failed")},onError:t=>{V.error(t.message||"Test failed")}})}const _ie=ft({route_name:je().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:je().optional(),delivery_route:je().optional(),rate_limit:zee([je().transform(e=>e===""?null:Number(e)),qee().int().positive().nullable()]).optional().nullable().refine(e=>e==null||typeof e=="number"&&Number.isInteger(e)&&e>0,"Rate limit must be a positive integer")}),Fw={route_name:"",mapping_template:"",delivery_route:"",rate_limit:null};function Sie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=ut({resolver:dt(_ie),defaultValues:Fw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null,rate_limit:d.rate_limit??null}),o(Fw)},u=d=>{d||o(Fw),t(d)};return a.jsx(Ie,{open:e,onOpenChange:u,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Create webhook"}),a.jsx($e,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"route_name",children:"Route name"}),a.jsx(ge,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ge,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"rate_limit",children:"Rate limit (optional, requests/min)"}),a.jsx(ge,{id:"rate_limit",type:"number",min:1,placeholder:"e.g. 60",...s("rate_limit")}),l.rate_limit&&a.jsx("p",{className:"text-xs text-destructive",children:l.rate_limit.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const Nie=ft({event_trigger:je().min(1,"Event trigger is required"),language:nr(["javascript","python"]),script_content:je(),webhook_id:je().nullable()}),kie=["/new","/reset","start","end","before_run","after_run"],tg={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function Cie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(Nie),defaultValues:tg}),h=u("language"),m=u("webhook_id");y.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:tg)},[s,e,d]);const g=x=>{r(x),s||d(tg),t(!1)},p=x=>{x||d(tg),t(x)};return a.jsx(Ie,{open:e,onOpenChange:p,children:a.jsxs(Te,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:s?"Edit hook script":"Add hook script"}),a.jsx($e,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(lt,{value:u("event_trigger"),onValueChange:x=>c("event_trigger",x),children:[a.jsx(at,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select trigger"})}),a.jsx(it,{children:kie.map(x=>a.jsx(Ne,{value:x,children:x},x))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"language",children:"Language"}),a.jsxs(lt,{value:h,onValueChange:x=>c("language",x),children:[a.jsx(at,{id:"language",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"javascript",children:"JavaScript"}),a.jsx(Ne,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(lt,{value:m??"none",onValueChange:x=>c("webhook_id",x==="none"?null:x),children:[a.jsx(at,{id:"webhook_id",children:a.jsx(ct,{placeholder:"Global (all webhooks)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"none",children:"Global (all webhooks)"}),i.map(x=>a.jsx(Ne,{value:x.id,children:x.route_name},x.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(Y,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function Eie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=y.useState(null),[s,i]=y.useState(null),{data:o,isLoading:l}=gie(r),c=vie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(ZH,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(ye,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(ce,{className:"h-10 w-full rounded-md"}):a.jsxs(lt,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(at,{id:"payload-webhook",children:a.jsx(ct,{placeholder:"Select a webhook"})}),a.jsx(it,{children:e.length===0?a.jsx(Ne,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Ne,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(ce,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:Z("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(JS,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function Pie({webhook:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{"aria-describedby":"webhook-delete-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Remove webhook?"}),a.jsxs($e,{id:"webhook-delete-description",children:['This will permanently remove the endpoint "',e.route_name,'". Inbound requests to this URL will no longer be accepted. This action cannot be undone.']})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove webhook"})]})]})})}function Oie({script:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{"aria-describedby":"hook-script-delete-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Remove hook script?"}),a.jsxs($e,{id:"hook-script-delete-description",children:['This will permanently remove the lifecycle hook for "',e.event_trigger,'". This action cannot be undone.']})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove script"})]})]})})}const Aie=ft({name:je().min(1,"Name is required").max(64),push_endpoint:je().url("Enter a valid push endpoint URL")}),FP=[{id:"connect",title:"Connect",description:"Push endpoint URL"},{id:"configure",title:"Configure",description:"Optional topic and subscription"},{id:"test",title:"Test",description:"Verify delivery"}];function Tie({onComplete:e}){const[t,r]=y.useState(0),[n,s]=y.useState(null),[i,o]=y.useState(null),{data:l=[],isLoading:c}=yie(),u=xie(),d=bie(),f=wie(),h=jie(),{register:m,handleSubmit:g,formState:{errors:p},setValue:x,reset:b}=ut({resolver:dt(Aie),defaultValues:{name:"default",push_endpoint:""}}),v=N=>{const k={push_endpoint:N.push_endpoint};n?d.mutate({id:n,data:{name:N.name,configuration_details:k,is_active:!0}},{onSuccess:()=>{r(2),s(null),b({name:"default",push_endpoint:""})}}):u.mutate({name:N.name,configuration_details:k,is_active:!0},{onSuccess:()=>{r(2),b({name:"default",push_endpoint:""}),e==null||e()}})},w=N=>{o(N.id),h.mutate(N.id,{onSettled:()=>o(null)})},_=N=>{s(N.id);const k=N.configuration_details;x("name",N.name),x("push_endpoint",(k==null?void 0:k.push_endpoint)??""),r(0)},j=N=>{f.mutate(N)},S=()=>{r(0),s(null),b({name:"default",push_endpoint:""})};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ce,{className:"h-10 w-full rounded-lg"}),a.jsx(ce,{className:"h-24 w-full rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:FP.map((N,k)=>a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>r(k),className:Z("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t===k?"bg-primary text-primary-foreground":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs",children:k+1}),N.title]}),k<FP.length-1&&a.jsx(Vr,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},N.id))}),t===0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Step 1: Push endpoint"}),a.jsx(ye,{children:"Enter the URL where Gmail Pub/Sub will send push notifications. Create a webhook first and use its URL, or your own HTTPS endpoint."})]}),a.jsx(J,{children:a.jsxs("form",{onSubmit:g(v),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"gmail-name",children:"Configuration name"}),a.jsx(ge,{id:"gmail-name",placeholder:"e.g. default",...m("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"push_endpoint",children:"Push endpoint URL"}),a.jsx(ge,{id:"push_endpoint",type:"url",placeholder:"https://your-gateway/api/webhooks/gmail-pubsub",...m("push_endpoint"),className:p.push_endpoint?"border-destructive":""}),p.push_endpoint&&a.jsx("p",{className:"text-xs text-destructive",children:p.push_endpoint.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(E,{type:"submit",disabled:u.isPending||d.isPending,children:u.isPending||d.isPending?"Saving":n?"Update & continue":a.jsxs(a.Fragment,{children:["Save & continue",a.jsx(Vr,{className:"ml-1 h-4 w-4"})]})}),n&&a.jsx(E,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]}),t===1&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Step 2: Configure (optional)"}),a.jsx(ye,{children:"In Google Cloud Console, create a Pub/Sub topic and subscription, and set the push endpoint to the URL you saved. Messages will be routed to your chat when configured."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(E,{onClick:()=>r(2),children:["Continue to test",a.jsx(Vr,{className:"ml-1 h-4 w-4"})]}),a.jsxs(E,{variant:"outline",onClick:()=>r(0),children:[a.jsx(hv,{className:"mr-1 h-4 w-4"}),"Back"]})]})})]}),t===2&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Step 3: Test"}),a.jsx(ye,{children:"Send a test message to your push endpoint to verify the integration."})]}),a.jsx(J,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(E,{onClick:S,variant:"outline",children:[a.jsx(hv,{className:"mr-1 h-4 w-4"}),"Add another"]})})})]}),l.length>0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(rd,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub configurations"]}),a.jsx(ye,{children:"Manage push handler endpoints and test delivery."})]}),a.jsx(J,{children:a.jsx("ul",{className:"space-y-3",children:l.map(N=>{const k=N.configuration_details;return a.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsx("p",{className:"truncate font-mono text-xs text-muted-foreground",children:(k==null?void 0:k.push_endpoint)??"No endpoint"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[N.is_active&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[a.jsx(Vd,{className:"h-3 w-3"}),"Active"]}),N.last_tested_at&&a.jsxs("span",{children:["Tested ",Rr(new Date(N.last_tested_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>w(N),disabled:h.isPending&&i===N.id,className:"transition-transform hover:scale-[1.02]",children:h.isPending&&i===N.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):a.jsxs(a.Fragment,{children:[a.jsx(Va,{className:"mr-1 h-4 w-4"}),"Test"]})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ds,{align:"end",children:[a.jsx(Rt,{onClick:()=>_(N),children:"Edit"}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>j(N.id),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]},N.id)})})})]}),l.length===0&&t!==0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Gmail Pub/Sub configurations yet. Complete Step 1 to add one."})]})}function Rie(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(null),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(null),[x,b]=y.useState(null),{data:v=[],isLoading:w}=lie(),{data:_=[],isLoading:j}=fie(null),S=cie(),N=uie(),k=die(),C=hie(),A=mie(),I=pie(),P=async $=>{await S.mutateAsync({...$,rate_limit:$.rate_limit??null}),t(!1)},q=$=>{f($),u(!0)},T=$=>{N.mutate($,{onSuccess:()=>{u(!1),f(null)}})},W=$=>{b($.id),k.mutate($.id,{onSettled:()=>b(null)})},L=$=>{p($),m(!0)},K=$=>{I.mutate($,{onSuccess:()=>{m(!1),p(null)}})},D=$=>{navigator.clipboard.writeText($),l($),V.success("URL copied"),setTimeout(()=>l(null),2e3)},M=$=>{s?A.mutate({id:s.id,data:{event_trigger:$.event_trigger,language:$.language,script_content:$.script_content,webhook_id:$.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):C.mutate({event_trigger:$.event_trigger,language:$.language,script_content:$.script_content,webhook_id:$.webhook_id},{onSuccess:()=>n(!1)})},R=$=>{i($),n(!0)},ee=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(JF,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(si,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(Sa,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(St,{value:"endpoints",children:"Endpoints"}),a.jsx(St,{value:"hooks",children:"Hook scripts"}),a.jsx(St,{value:"transform",children:"Payload transformer"}),a.jsx(St,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Nt,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(pv,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(ye,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(J,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},$))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(pv,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(vt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:v.map($=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:$.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:$.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",$.token_preview]}),$.rate_limit!=null&&a.jsxs("span",{children:["Rate limit: ",$.rate_limit,"/min"]}),$.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"h-3 w-3"}),"Last received"," ",Rr(new Date($.last_received_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:$.mapping_template&&a.jsx(He,{variant:"secondary",children:"Mapping"})})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>W($),disabled:k.isPending&&x===$.id,className:"transition-transform hover:scale-[1.02]","aria-label":"Test webhook",children:k.isPending&&x===$.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):"Test"}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D($.url),"aria-label":"Copy URL",children:o===$.url?a.jsx(Vd,{className:"h-4 w-4 text-success"}):a.jsx(fI,{className:"h-4 w-4"})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(ds,{align:"end",children:a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>q($),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},$.id))})})})]})}),a.jsx(Nt,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(uE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(ye,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(J,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(E,{onClick:ee,children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),j?a.jsx("div",{className:"space-y-3",children:[1,2].map($=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},$))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(uE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(E,{className:"mt-4",variant:"outline",onClick:ee,children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(vt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map($=>{var ie;return a.jsxs("div",{className:Z("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:$.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[$.language,$.webhook_id?`  Webhook: ${((ie=v.find(he=>he.id===$.webhook_id))==null?void 0:ie.route_name)??$.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>R($),children:"Edit"}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>L($),"aria-label":"Remove script",children:a.jsx(ln,{className:"h-4 w-4"})})]})]},$.id)})})})]})]})}),a.jsx(Nt,{value:"transform",className:"space-y-4",children:a.jsx(Eie,{webhooks:v,isLoadingWebhooks:w})}),a.jsx(Nt,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(rd,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(ye,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(J,{children:a.jsx(Tie,{})})]})})]}),a.jsx(Sie,{open:e,onOpenChange:t,onSubmit:P,isSubmitting:S.isPending}),a.jsx(Cie,{open:r,onOpenChange:$=>{n($),$||i(null)},onSubmit:M,isSubmitting:C.isPending||A.isPending,script:s,webhooks:v}),a.jsx(Pie,{webhook:d,open:c,onOpenChange:u,onConfirm:T,isDeleting:N.isPending}),a.jsx(Oie,{script:g,open:h,onOpenChange:m,onConfirm:K,isDeleting:I.isPending})]})}var Mie=Array.isArray,Yn=Mie,$ie=typeof xp=="object"&&xp&&xp.Object===Object&&xp,e5=$ie,Iie=e5,Die=typeof self=="object"&&self&&self.Object===Object&&self,Lie=Iie||Die||Function("return this")(),ai=Lie,Fie=ai,Uie=Fie.Symbol,cp=Uie,UP=cp,t5=Object.prototype,Bie=t5.hasOwnProperty,qie=t5.toString,Tf=UP?UP.toStringTag:void 0;function zie(e){var t=Bie.call(e,Tf),r=e[Tf];try{e[Tf]=void 0;var n=!0}catch{}var s=qie.call(e);return n&&(t?e[Tf]=r:delete e[Tf]),s}var Wie=zie,Vie=Object.prototype,Kie=Vie.toString;function Hie(e){return Kie.call(e)}var Gie=Hie,BP=cp,Yie=Wie,Qie=Gie,Xie="[object Null]",Jie="[object Undefined]",qP=BP?BP.toStringTag:void 0;function Zie(e){return e==null?e===void 0?Jie:Xie:qP&&qP in Object(e)?Yie(e):Qie(e)}var Yi=Zie;function eoe(e){return e!=null&&typeof e=="object"}var Qi=eoe,toe=Yi,roe=Qi,noe="[object Symbol]";function soe(e){return typeof e=="symbol"||roe(e)&&toe(e)==noe}var Zd=soe,aoe=Yn,ioe=Zd,ooe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,loe=/^\w*$/;function coe(e,t){if(aoe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ioe(e)?!0:loe.test(e)||!ooe.test(e)||t!=null&&e in Object(t)}var zN=coe;function uoe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var dl=uoe;const ef=qt(dl);var doe=Yi,foe=dl,hoe="[object AsyncFunction]",moe="[object Function]",poe="[object GeneratorFunction]",goe="[object Proxy]";function voe(e){if(!foe(e))return!1;var t=doe(e);return t==moe||t==poe||t==hoe||t==goe}var WN=voe;const nt=qt(WN);var yoe=ai,xoe=yoe["__core-js_shared__"],boe=xoe,Uw=boe,zP=function(){var e=/[^.]+$/.exec(Uw&&Uw.keys&&Uw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function woe(e){return!!zP&&zP in e}var joe=woe,_oe=Function.prototype,Soe=_oe.toString;function Noe(e){if(e!=null){try{return Soe.call(e)}catch{}try{return e+""}catch{}}return""}var r5=Noe,koe=WN,Coe=joe,Eoe=dl,Poe=r5,Ooe=/[\\^$.*+?()[\]{}|]/g,Aoe=/^\[object .+?Constructor\]$/,Toe=Function.prototype,Roe=Object.prototype,Moe=Toe.toString,$oe=Roe.hasOwnProperty,Ioe=RegExp("^"+Moe.call($oe).replace(Ooe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Doe(e){if(!Eoe(e)||Coe(e))return!1;var t=koe(e)?Ioe:Aoe;return t.test(Poe(e))}var Loe=Doe;function Foe(e,t){return e==null?void 0:e[t]}var Uoe=Foe,Boe=Loe,qoe=Uoe;function zoe(e,t){var r=qoe(e,t);return Boe(r)?r:void 0}var Ec=zoe,Woe=Ec,Voe=Woe(Object,"create"),zx=Voe,WP=zx;function Koe(){this.__data__=WP?WP(null):{},this.size=0}var Hoe=Koe;function Goe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Yoe=Goe,Qoe=zx,Xoe="__lodash_hash_undefined__",Joe=Object.prototype,Zoe=Joe.hasOwnProperty;function ele(e){var t=this.__data__;if(Qoe){var r=t[e];return r===Xoe?void 0:r}return Zoe.call(t,e)?t[e]:void 0}var tle=ele,rle=zx,nle=Object.prototype,sle=nle.hasOwnProperty;function ale(e){var t=this.__data__;return rle?t[e]!==void 0:sle.call(t,e)}var ile=ale,ole=zx,lle="__lodash_hash_undefined__";function cle(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ole&&t===void 0?lle:t,this}var ule=cle,dle=Hoe,fle=Yoe,hle=tle,mle=ile,ple=ule;function tf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tf.prototype.clear=dle;tf.prototype.delete=fle;tf.prototype.get=hle;tf.prototype.has=mle;tf.prototype.set=ple;var gle=tf;function vle(){this.__data__=[],this.size=0}var yle=vle;function xle(e,t){return e===t||e!==e&&t!==t}var VN=xle,ble=VN;function wle(e,t){for(var r=e.length;r--;)if(ble(e[r][0],t))return r;return-1}var Wx=wle,jle=Wx,_le=Array.prototype,Sle=_le.splice;function Nle(e){var t=this.__data__,r=jle(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Sle.call(t,r,1),--this.size,!0}var kle=Nle,Cle=Wx;function Ele(e){var t=this.__data__,r=Cle(t,e);return r<0?void 0:t[r][1]}var Ple=Ele,Ole=Wx;function Ale(e){return Ole(this.__data__,e)>-1}var Tle=Ale,Rle=Wx;function Mle(e,t){var r=this.__data__,n=Rle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var $le=Mle,Ile=yle,Dle=kle,Lle=Ple,Fle=Tle,Ule=$le;function rf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rf.prototype.clear=Ile;rf.prototype.delete=Dle;rf.prototype.get=Lle;rf.prototype.has=Fle;rf.prototype.set=Ule;var Vx=rf,Ble=Ec,qle=ai,zle=Ble(qle,"Map"),KN=zle,VP=gle,Wle=Vx,Vle=KN;function Kle(){this.size=0,this.__data__={hash:new VP,map:new(Vle||Wle),string:new VP}}var Hle=Kle;function Gle(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Yle=Gle,Qle=Yle;function Xle(e,t){var r=e.__data__;return Qle(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Kx=Xle,Jle=Kx;function Zle(e){var t=Jle(this,e).delete(e);return this.size-=t?1:0,t}var ece=Zle,tce=Kx;function rce(e){return tce(this,e).get(e)}var nce=rce,sce=Kx;function ace(e){return sce(this,e).has(e)}var ice=ace,oce=Kx;function lce(e,t){var r=oce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var cce=lce,uce=Hle,dce=ece,fce=nce,hce=ice,mce=cce;function nf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}nf.prototype.clear=uce;nf.prototype.delete=dce;nf.prototype.get=fce;nf.prototype.has=hce;nf.prototype.set=mce;var HN=nf,n5=HN,pce="Expected a function";function GN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(pce);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(GN.Cache||n5),r}GN.Cache=n5;var s5=GN;const gce=qt(s5);var vce=s5,yce=500;function xce(e){var t=vce(e,function(n){return r.size===yce&&r.clear(),n}),r=t.cache;return t}var bce=xce,wce=bce,jce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_ce=/\\(\\)?/g,Sce=wce(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(jce,function(r,n,s,i){t.push(s?i.replace(_ce,"$1"):n||r)}),t}),Nce=Sce;function kce(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var YN=kce,KP=cp,Cce=YN,Ece=Yn,Pce=Zd,HP=KP?KP.prototype:void 0,GP=HP?HP.toString:void 0;function a5(e){if(typeof e=="string")return e;if(Ece(e))return Cce(e,a5)+"";if(Pce(e))return GP?GP.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Oce=a5,Ace=Oce;function Tce(e){return e==null?"":Ace(e)}var i5=Tce,Rce=Yn,Mce=zN,$ce=Nce,Ice=i5;function Dce(e,t){return Rce(e)?e:Mce(e,t)?[e]:$ce(Ice(e))}var o5=Dce,Lce=Zd;function Fce(e){if(typeof e=="string"||Lce(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Hx=Fce,Uce=o5,Bce=Hx;function qce(e,t){t=Uce(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Bce(t[r++])];return r&&r==n?e:void 0}var QN=qce,zce=QN;function Wce(e,t,r){var n=e==null?void 0:zce(e,t);return n===void 0?r:n}var l5=Wce;const Is=qt(l5);function Vce(e){return e==null}var Kce=Vce;const yt=qt(Kce);var Hce=Yi,Gce=Yn,Yce=Qi,Qce="[object String]";function Xce(e){return typeof e=="string"||!Gce(e)&&Yce(e)&&Hce(e)==Qce}var Jce=Xce;const pc=qt(Jce);var c5={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XN=Symbol.for("react.element"),JN=Symbol.for("react.portal"),Gx=Symbol.for("react.fragment"),Yx=Symbol.for("react.strict_mode"),Qx=Symbol.for("react.profiler"),Xx=Symbol.for("react.provider"),Jx=Symbol.for("react.context"),Zce=Symbol.for("react.server_context"),Zx=Symbol.for("react.forward_ref"),eb=Symbol.for("react.suspense"),tb=Symbol.for("react.suspense_list"),rb=Symbol.for("react.memo"),nb=Symbol.for("react.lazy"),eue=Symbol.for("react.offscreen"),u5;u5=Symbol.for("react.module.reference");function zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case XN:switch(e=e.type,e){case Gx:case Qx:case Yx:case eb:case tb:return e;default:switch(e=e&&e.$$typeof,e){case Zce:case Jx:case Zx:case nb:case rb:case Xx:return e;default:return t}}case JN:return t}}}Lt.ContextConsumer=Jx;Lt.ContextProvider=Xx;Lt.Element=XN;Lt.ForwardRef=Zx;Lt.Fragment=Gx;Lt.Lazy=nb;Lt.Memo=rb;Lt.Portal=JN;Lt.Profiler=Qx;Lt.StrictMode=Yx;Lt.Suspense=eb;Lt.SuspenseList=tb;Lt.isAsyncMode=function(){return!1};Lt.isConcurrentMode=function(){return!1};Lt.isContextConsumer=function(e){return zs(e)===Jx};Lt.isContextProvider=function(e){return zs(e)===Xx};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===XN};Lt.isForwardRef=function(e){return zs(e)===Zx};Lt.isFragment=function(e){return zs(e)===Gx};Lt.isLazy=function(e){return zs(e)===nb};Lt.isMemo=function(e){return zs(e)===rb};Lt.isPortal=function(e){return zs(e)===JN};Lt.isProfiler=function(e){return zs(e)===Qx};Lt.isStrictMode=function(e){return zs(e)===Yx};Lt.isSuspense=function(e){return zs(e)===eb};Lt.isSuspenseList=function(e){return zs(e)===tb};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Gx||e===Qx||e===Yx||e===eb||e===tb||e===eue||typeof e=="object"&&e!==null&&(e.$$typeof===nb||e.$$typeof===rb||e.$$typeof===Xx||e.$$typeof===Jx||e.$$typeof===Zx||e.$$typeof===u5||e.getModuleId!==void 0)};Lt.typeOf=zs;c5.exports=Lt;var tue=c5.exports,rue=Yi,nue=Qi,sue="[object Number]";function aue(e){return typeof e=="number"||nue(e)&&rue(e)==sue}var d5=aue;const iue=qt(d5);var oue=d5;function lue(e){return oue(e)&&e!=+e}var cue=lue;const sf=qt(cue);var ha=function(t){return t===0?0:t>0?1:-1},Il=function(t){return pc(t)&&t.indexOf("%")===t.length-1},be=function(t){return iue(t)&&!sf(t)},uue=function(t){return yt(t)},Wr=function(t){return be(t)||pc(t)},due=0,up=function(t){var r=++due;return"".concat(t||"").concat(r)},gc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!be(t)&&!pc(t))return n;var i;if(Il(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return sf(i)&&(i=n),s&&i>r&&(i=r),i},wo=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},fue=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},ks=function(t,r){return be(t)&&be(r)?function(n){return t+n*(r-t)}:function(){return r}};function Dv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Is(n,t))===r})}var hue=function(t,r){return be(t)&&be(r)?t-r:pc(t)&&pc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ou(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function m_(e){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m_(e)}var mue=["viewBox","children"],pue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YP=["points","pathLength"],Bw={svg:mue,polygon:YP,polyline:YP},ZN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Lv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(y.isValidElement(t)&&(n=t.props),!ef(n))return null;var s={};return Object.keys(n).forEach(function(i){ZN.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},gue=function(t,r,n){return function(s){return t(r,n,s),null}},Fv=function(t,r,n){if(!ef(t)||m_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];ZN.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=gue(o,r,n))}),s},vue=["children"],yue=["children"];function QP(e,t){if(e==null)return{};var r=xue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p_(e){"@babel/helpers - typeof";return p_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p_(e)}var XP={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ki=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},JP=null,qw=null,ek=function e(t){if(t===JP&&Array.isArray(qw))return qw;var r=[];return y.Children.forEach(t,function(n){yt(n)||(tue.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),qw=r,JP=t,r};function ya(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return ki(s)}):n=[ki(t)],ek(e).forEach(function(s){var i=Is(s,"type.displayName")||Is(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function ts(e,t){var r=ya(e,t);return r&&r[0]}var ZP=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!be(n)||n<=0||!be(s)||s<=0)},bue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],wue=function(t){return t&&t.type&&pc(t.type)&&bue.indexOf(t.type)>=0},jue=function(t){return t&&p_(t)==="object"&&"clipDot"in t},_ue=function(t,r,n,s){var i,o=(i=Bw==null?void 0:Bw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||pue.includes(r))||n&&ZN.includes(r)},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(y.isValidElement(t)&&(s=t.props),!ef(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;_ue((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},g_=function e(t,r){if(t===r)return!0;var n=y.Children.count(t);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return eO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!eO(i,o))return!1}return!0},eO=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},s=n.children,i=QP(n,vue),o=r.props||{},l=o.children,c=QP(o,yue);return s&&l?Ou(i,c)&&g_(s,l):!s&&!l?Ou(i,c):!1}return!1},tO=function(t,r){var n=[],s={};return ek(t).forEach(function(i,o){if(wue(i))n.push(i);else if(i){var l=ki(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},Sue=function(t){var r=t&&t.type;return r&&XP[r]?XP[r]:null},Nue=function(t,r){return ek(r).indexOf(t)},kue=["children","width","height","viewBox","className","style","title","desc"];function v_(){return v_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v_.apply(this,arguments)}function Cue(e,t){if(e==null)return{};var r=Eue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=Cue(e,kue),d=s||{width:r,height:n,x:0,y:0},f=jt("recharts-surface",i);return O.createElement("svg",v_({},mt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),O.createElement("title",null,l),O.createElement("desc",null,c),t)}var Pue=["children","className"];function x_(){return x_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x_.apply(this,arguments)}function Oue(e,t){if(e==null)return{};var r=Aue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dr=O.forwardRef(function(e,t){var r=e.children,n=e.className,s=Oue(e,Pue),i=jt("recharts-layer",n);return O.createElement("g",x_({className:i},mt(s,!0),{ref:t}),r)}),Ci=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Tue(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var Rue=Tue,Mue=Rue;function $ue(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Mue(e,t,r)}var Iue=$ue,Due="\\ud800-\\udfff",Lue="\\u0300-\\u036f",Fue="\\ufe20-\\ufe2f",Uue="\\u20d0-\\u20ff",Bue=Lue+Fue+Uue,que="\\ufe0e\\ufe0f",zue="\\u200d",Wue=RegExp("["+zue+Due+Bue+que+"]");function Vue(e){return Wue.test(e)}var f5=Vue;function Kue(e){return e.split("")}var Hue=Kue,h5="\\ud800-\\udfff",Gue="\\u0300-\\u036f",Yue="\\ufe20-\\ufe2f",Que="\\u20d0-\\u20ff",Xue=Gue+Yue+Que,Jue="\\ufe0e\\ufe0f",Zue="["+h5+"]",b_="["+Xue+"]",w_="\\ud83c[\\udffb-\\udfff]",ede="(?:"+b_+"|"+w_+")",m5="[^"+h5+"]",p5="(?:\\ud83c[\\udde6-\\uddff]){2}",g5="[\\ud800-\\udbff][\\udc00-\\udfff]",tde="\\u200d",v5=ede+"?",y5="["+Jue+"]?",rde="(?:"+tde+"(?:"+[m5,p5,g5].join("|")+")"+y5+v5+")*",nde=y5+v5+rde,sde="(?:"+[m5+b_+"?",b_,p5,g5,Zue].join("|")+")",ade=RegExp(w_+"(?="+w_+")|"+sde+nde,"g");function ide(e){return e.match(ade)||[]}var ode=ide,lde=Hue,cde=f5,ude=ode;function dde(e){return cde(e)?ude(e):lde(e)}var fde=dde,hde=Iue,mde=f5,pde=fde,gde=i5;function vde(e){return function(t){t=gde(t);var r=mde(t)?pde(t):void 0,n=r?r[0]:t.charAt(0),s=r?hde(r,1).join(""):t.slice(1);return n[e]()+s}}var yde=vde,xde=yde,bde=xde("toUpperCase"),wde=bde;const sb=qt(wde);function Gt(e){return function(){return e}}const x5=Math.cos,Uv=Math.sin,ka=Math.sqrt,Bv=Math.PI,ab=2*Bv,j_=Math.PI,__=2*j_,Sl=1e-6,jde=__-Sl;function b5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function _de(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return b5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Sde{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?b5:_de(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Sl)if(!(Math.abs(f*c-u*d)>Sl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,x=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(h),w=i*Math.tan((j_-Math.acos((p+h-x)/(2*b*v)))/2),_=w/v,j=w/b;Math.abs(_-1)>Sl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sl||Math.abs(this._y1-d)>Sl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%__+__),h>jde?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Sl&&this._append`A${n},${n},0,${+(h>=j_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function tk(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Sde(t)}function rk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function w5(e){this._context=e}w5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ib(e){return new w5(e)}function j5(e){return e[0]}function _5(e){return e[1]}function S5(e,t){var r=Gt(!0),n=null,s=ib,i=null,o=tk(l);e=typeof e=="function"?e:e===void 0?j5:Gt(e),t=typeof t=="function"?t:t===void 0?_5:Gt(t);function l(c){var u,d=(c=rk(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function rg(e,t,r){var n=null,s=Gt(!0),i=null,o=ib,l=null,c=tk(u);e=typeof e=="function"?e:e===void 0?j5:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?_5:Gt(+r);function u(f){var h,m,g,p=(f=rk(f)).length,x,b=!1,v,w=new Array(p),_=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(x=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(x,h,f),_[h]=+t(x,h,f),l.point(n?+n(x,h,f):w[h],r?+r(x,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return S5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Gt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class N5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Nde(e){return new N5(e,!0)}function kde(e){return new N5(e,!1)}const nk={draw(e,t){const r=ka(t/Bv);e.moveTo(r,0),e.arc(0,0,r,0,ab)}},Cde={draw(e,t){const r=ka(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},k5=ka(1/3),Ede=k5*2,Pde={draw(e,t){const r=ka(t/Ede),n=r*k5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Ode={draw(e,t){const r=ka(t),n=-r/2;e.rect(n,n,r,r)}},Ade=.8908130915292852,C5=Uv(Bv/10)/Uv(7*Bv/10),Tde=Uv(ab/10)*C5,Rde=-x5(ab/10)*C5,Mde={draw(e,t){const r=ka(t*Ade),n=Tde*r,s=Rde*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=ab*i/5,l=x5(o),c=Uv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},zw=ka(3),$de={draw(e,t){const r=-ka(t/(zw*3));e.moveTo(0,r*2),e.lineTo(-zw*r,-r),e.lineTo(zw*r,-r),e.closePath()}},ys=-.5,xs=ka(3)/2,S_=1/ka(12),Ide=(S_/2+1)*3,Dde={draw(e,t){const r=ka(t/Ide),n=r/2,s=r*S_,i=n,o=r*S_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(ys*n-xs*s,xs*n+ys*s),e.lineTo(ys*i-xs*o,xs*i+ys*o),e.lineTo(ys*l-xs*c,xs*l+ys*c),e.lineTo(ys*n+xs*s,ys*s-xs*n),e.lineTo(ys*i+xs*o,ys*o-xs*i),e.lineTo(ys*l+xs*c,ys*c-xs*l),e.closePath()}};function Lde(e,t){let r=null,n=tk(s);e=typeof e=="function"?e:Gt(e||nk),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function qv(){}function zv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function E5(e){this._context=e}E5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Fde(e){return new E5(e)}function P5(e){this._context=e}P5.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Ude(e){return new P5(e)}function O5(e){this._context=e}O5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Bde(e){return new O5(e)}function A5(e){this._context=e}A5.prototype={areaStart:qv,areaEnd:qv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qde(e){return new A5(e)}function rO(e){return e<0?-1:1}function nO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(rO(i)+rO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function sO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Ww(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Wv(e){this._context=e}Wv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ww(this,this._t0,sO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Ww(this,sO(this,r=nO(this,e,t)),r);break;default:Ww(this,this._t0,r=nO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function T5(e){this._context=new R5(e)}(T5.prototype=Object.create(Wv.prototype)).point=function(e,t){Wv.prototype.point.call(this,t,e)};function R5(e){this._context=e}R5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function zde(e){return new Wv(e)}function Wde(e){return new T5(e)}function M5(e){this._context=e}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=aO(e),s=aO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function aO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function Vde(e){return new M5(e)}function ob(e,t){this._context=e,this._t=t}ob.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Kde(e){return new ob(e,.5)}function Hde(e){return new ob(e,0)}function Gde(e){return new ob(e,1)}function md(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function N_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Yde(e,t){return e[t]}function Qde(e){const t=[];return t.key=e,t}function Xde(){var e=Gt([]),t=N_,r=md,n=Yde;function s(i){var o=Array.from(e.apply(this,arguments),Qde),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=rk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?N_:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??md,s):r},s}function Jde(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}md(e,t)}}function Zde(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}md(e,t)}}function efe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],x=p[n][1]||0,b=p[n-1][1]||0;m+=x-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,md(e,t)}}function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}var tfe=["type","size","sizeType"];function k_(){return k_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},k_.apply(this,arguments)}function iO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iO(Object(r),!0).forEach(function(n){rfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rfe(e,t,r){return t=nfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nfe(e){var t=sfe(e,"string");return nm(t)=="symbol"?t:t+""}function sfe(e,t){if(nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function afe(e,t){if(e==null)return{};var r=ife(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ife(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var $5={symbolCircle:nk,symbolCross:Cde,symbolDiamond:Pde,symbolSquare:Ode,symbolStar:Mde,symbolTriangle:$de,symbolWye:Dde},ofe=Math.PI/180,lfe=function(t){var r="symbol".concat(sb(t));return $5[r]||nk},cfe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*ofe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},ufe=function(t,r){$5["symbol".concat(sb(t))]=r},sk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=afe(t,tfe),u=oO(oO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var x=lfe(n),b=Lde().type(x).size(cfe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=mt(u,!0);return h===+h&&m===+m&&i===+i?O.createElement("path",k_({},g,{className:jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};sk.registerSymbol=ufe;function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}function lO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lO(Object(r),!0).forEach(function(n){sm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ffe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,D5(n.key),n)}}function mfe(e,t,r){return t&&hfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pfe(e,t,r){return t=Vv(t),gfe(e,I5()?Reflect.construct(t,r||[],Vv(e).constructor):t.apply(e,r))}function gfe(e,t){if(t&&(pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vfe(e)}function vfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I5=function(){return!!e})()}function Vv(e){return Vv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vv(e)}function yfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E_(e,t)}function E_(e,t){return E_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E_(e,t)}function sm(e,t,r){return t=D5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D5(e){var t=xfe(e,"string");return pd(t)=="symbol"?t:t+""}function xfe(e,t){if(pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bs=32,ak=function(e){function t(){return ffe(this,t),pfe(this,t,arguments)}return yfe(t,e),mfe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=bs/2,o=bs/6,l=bs/3,c=n.inactive?s:n.color;if(n.type==="plainline")return O.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:bs,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return O.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(bs,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return O.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(bs/8,"h").concat(bs,"v").concat(bs*3/4,"h").concat(-bs,"z"),className:"recharts-legend-icon"});if(O.isValidElement(n.legendIcon)){var u=dfe({},n);return delete u.legendIcon,O.cloneElement(n.legendIcon,u)}return O.createElement(sk,{fill:c,cx:i,cy:i,size:bs,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:bs,height:bs},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,x=jt(sm(sm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=nt(m.value)?null:m.value;Ci(!nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return O.createElement("li",C_({className:x,style:f,key:"legend-item-".concat(g)},Fv(n.props,m,g)),O.createElement(y_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),O.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return O.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(y.PureComponent);sm(ak,"displayName","Legend");sm(ak,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bfe=Vx;function wfe(){this.__data__=new bfe,this.size=0}var jfe=wfe;function _fe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Sfe=_fe;function Nfe(e){return this.__data__.get(e)}var kfe=Nfe;function Cfe(e){return this.__data__.has(e)}var Efe=Cfe,Pfe=Vx,Ofe=KN,Afe=HN,Tfe=200;function Rfe(e,t){var r=this.__data__;if(r instanceof Pfe){var n=r.__data__;if(!Ofe||n.length<Tfe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Afe(n)}return r.set(e,t),this.size=r.size,this}var Mfe=Rfe,$fe=Vx,Ife=jfe,Dfe=Sfe,Lfe=kfe,Ffe=Efe,Ufe=Mfe;function af(e){var t=this.__data__=new $fe(e);this.size=t.size}af.prototype.clear=Ife;af.prototype.delete=Dfe;af.prototype.get=Lfe;af.prototype.has=Ffe;af.prototype.set=Ufe;var L5=af,Bfe="__lodash_hash_undefined__";function qfe(e){return this.__data__.set(e,Bfe),this}var zfe=qfe;function Wfe(e){return this.__data__.has(e)}var Vfe=Wfe,Kfe=HN,Hfe=zfe,Gfe=Vfe;function Kv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Kfe;++t<r;)this.add(e[t])}Kv.prototype.add=Kv.prototype.push=Hfe;Kv.prototype.has=Gfe;var F5=Kv;function Yfe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var U5=Yfe;function Qfe(e,t){return e.has(t)}var B5=Qfe,Xfe=F5,Jfe=U5,Zfe=B5,ehe=1,the=2;function rhe(e,t,r,n,s,i){var o=r&ehe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&the?new Xfe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var x=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!Jfe(t,function(b,v){if(!Zfe(m,v)&&(g===b||s(g,b,r,n,i)))return m.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var q5=rhe,nhe=ai,she=nhe.Uint8Array,ahe=she;function ihe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var ohe=ihe;function lhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ik=lhe,cO=cp,uO=ahe,che=VN,uhe=q5,dhe=ohe,fhe=ik,hhe=1,mhe=2,phe="[object Boolean]",ghe="[object Date]",vhe="[object Error]",yhe="[object Map]",xhe="[object Number]",bhe="[object RegExp]",whe="[object Set]",jhe="[object String]",_he="[object Symbol]",She="[object ArrayBuffer]",Nhe="[object DataView]",dO=cO?cO.prototype:void 0,Vw=dO?dO.valueOf:void 0;function khe(e,t,r,n,s,i,o){switch(r){case Nhe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case She:return!(e.byteLength!=t.byteLength||!i(new uO(e),new uO(t)));case phe:case ghe:case xhe:return che(+e,+t);case vhe:return e.name==t.name&&e.message==t.message;case bhe:case jhe:return e==t+"";case yhe:var l=dhe;case whe:var c=n&hhe;if(l||(l=fhe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=mhe,o.set(e,t);var d=uhe(l(e),l(t),n,s,i,o);return o.delete(e),d;case _he:if(Vw)return Vw.call(e)==Vw.call(t)}return!1}var Che=khe;function Ehe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var z5=Ehe,Phe=z5,Ohe=Yn;function Ahe(e,t,r){var n=t(e);return Ohe(e)?n:Phe(n,r(e))}var The=Ahe;function Rhe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Mhe=Rhe;function $he(){return[]}var Ihe=$he,Dhe=Mhe,Lhe=Ihe,Fhe=Object.prototype,Uhe=Fhe.propertyIsEnumerable,fO=Object.getOwnPropertySymbols,Bhe=fO?function(e){return e==null?[]:(e=Object(e),Dhe(fO(e),function(t){return Uhe.call(e,t)}))}:Lhe,qhe=Bhe;function zhe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Whe=zhe,Vhe=Yi,Khe=Qi,Hhe="[object Arguments]";function Ghe(e){return Khe(e)&&Vhe(e)==Hhe}var Yhe=Ghe,hO=Yhe,Qhe=Qi,W5=Object.prototype,Xhe=W5.hasOwnProperty,Jhe=W5.propertyIsEnumerable,Zhe=hO(function(){return arguments}())?hO:function(e){return Qhe(e)&&Xhe.call(e,"callee")&&!Jhe.call(e,"callee")},ok=Zhe,Hv={exports:{}};function eme(){return!1}var tme=eme;Hv.exports;(function(e,t){var r=ai,n=tme,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Hv,Hv.exports);var V5=Hv.exports,rme=9007199254740991,nme=/^(?:0|[1-9]\d*)$/;function sme(e,t){var r=typeof e;return t=t??rme,!!t&&(r=="number"||r!="symbol"&&nme.test(e))&&e>-1&&e%1==0&&e<t}var lk=sme,ame=9007199254740991;function ime(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ame}var ck=ime,ome=Yi,lme=ck,cme=Qi,ume="[object Arguments]",dme="[object Array]",fme="[object Boolean]",hme="[object Date]",mme="[object Error]",pme="[object Function]",gme="[object Map]",vme="[object Number]",yme="[object Object]",xme="[object RegExp]",bme="[object Set]",wme="[object String]",jme="[object WeakMap]",_me="[object ArrayBuffer]",Sme="[object DataView]",Nme="[object Float32Array]",kme="[object Float64Array]",Cme="[object Int8Array]",Eme="[object Int16Array]",Pme="[object Int32Array]",Ome="[object Uint8Array]",Ame="[object Uint8ClampedArray]",Tme="[object Uint16Array]",Rme="[object Uint32Array]",er={};er[Nme]=er[kme]=er[Cme]=er[Eme]=er[Pme]=er[Ome]=er[Ame]=er[Tme]=er[Rme]=!0;er[ume]=er[dme]=er[_me]=er[fme]=er[Sme]=er[hme]=er[mme]=er[pme]=er[gme]=er[vme]=er[yme]=er[xme]=er[bme]=er[wme]=er[jme]=!1;function Mme(e){return cme(e)&&lme(e.length)&&!!er[ome(e)]}var $me=Mme;function Ime(e){return function(t){return e(t)}}var K5=Ime,Gv={exports:{}};Gv.exports;(function(e,t){var r=e5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(Gv,Gv.exports);var Dme=Gv.exports,Lme=$me,Fme=K5,mO=Dme,pO=mO&&mO.isTypedArray,Ume=pO?Fme(pO):Lme,H5=Ume,Bme=Whe,qme=ok,zme=Yn,Wme=V5,Vme=lk,Kme=H5,Hme=Object.prototype,Gme=Hme.hasOwnProperty;function Yme(e,t){var r=zme(e),n=!r&&qme(e),s=!r&&!n&&Wme(e),i=!r&&!n&&!s&&Kme(e),o=r||n||s||i,l=o?Bme(e.length,String):[],c=l.length;for(var u in e)(t||Gme.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Vme(u,c)))&&l.push(u);return l}var Qme=Yme,Xme=Object.prototype;function Jme(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Xme;return e===r}var Zme=Jme;function epe(e,t){return function(r){return e(t(r))}}var G5=epe,tpe=G5,rpe=tpe(Object.keys,Object),npe=rpe,spe=Zme,ape=npe,ipe=Object.prototype,ope=ipe.hasOwnProperty;function lpe(e){if(!spe(e))return ape(e);var t=[];for(var r in Object(e))ope.call(e,r)&&r!="constructor"&&t.push(r);return t}var cpe=lpe,upe=WN,dpe=ck;function fpe(e){return e!=null&&dpe(e.length)&&!upe(e)}var dp=fpe,hpe=Qme,mpe=cpe,ppe=dp;function gpe(e){return ppe(e)?hpe(e):mpe(e)}var lb=gpe,vpe=The,ype=qhe,xpe=lb;function bpe(e){return vpe(e,xpe,ype)}var wpe=bpe,gO=wpe,jpe=1,_pe=Object.prototype,Spe=_pe.hasOwnProperty;function Npe(e,t,r,n,s,i){var o=r&jpe,l=gO(e),c=l.length,u=gO(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Spe.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var x=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var w=o?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(w===void 0?b===v||s(b,v,r,n,i):w)){p=!1;break}x||(x=h=="constructor")}if(p&&!x){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var kpe=Npe,Cpe=Ec,Epe=ai,Ppe=Cpe(Epe,"DataView"),Ope=Ppe,Ape=Ec,Tpe=ai,Rpe=Ape(Tpe,"Promise"),Mpe=Rpe,$pe=Ec,Ipe=ai,Dpe=$pe(Ipe,"Set"),Y5=Dpe,Lpe=Ec,Fpe=ai,Upe=Lpe(Fpe,"WeakMap"),Bpe=Upe,P_=Ope,O_=KN,A_=Mpe,T_=Y5,R_=Bpe,Q5=Yi,of=r5,vO="[object Map]",qpe="[object Object]",yO="[object Promise]",xO="[object Set]",bO="[object WeakMap]",wO="[object DataView]",zpe=of(P_),Wpe=of(O_),Vpe=of(A_),Kpe=of(T_),Hpe=of(R_),Nl=Q5;(P_&&Nl(new P_(new ArrayBuffer(1)))!=wO||O_&&Nl(new O_)!=vO||A_&&Nl(A_.resolve())!=yO||T_&&Nl(new T_)!=xO||R_&&Nl(new R_)!=bO)&&(Nl=function(e){var t=Q5(e),r=t==qpe?e.constructor:void 0,n=r?of(r):"";if(n)switch(n){case zpe:return wO;case Wpe:return vO;case Vpe:return yO;case Kpe:return xO;case Hpe:return bO}return t});var Gpe=Nl,Kw=L5,Ype=q5,Qpe=Che,Xpe=kpe,jO=Gpe,_O=Yn,SO=V5,Jpe=H5,Zpe=1,NO="[object Arguments]",kO="[object Array]",ng="[object Object]",ege=Object.prototype,CO=ege.hasOwnProperty;function tge(e,t,r,n,s,i){var o=_O(e),l=_O(t),c=o?kO:jO(e),u=l?kO:jO(t);c=c==NO?ng:c,u=u==NO?ng:u;var d=c==ng,f=u==ng,h=c==u;if(h&&SO(e)){if(!SO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Kw),o||Jpe(e)?Ype(e,t,r,n,s,i):Qpe(e,t,c,r,n,s,i);if(!(r&Zpe)){var m=d&&CO.call(e,"__wrapped__"),g=f&&CO.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,x=g?t.value():t;return i||(i=new Kw),s(p,x,r,n,i)}}return h?(i||(i=new Kw),Xpe(e,t,r,n,s,i)):!1}var rge=tge,nge=rge,EO=Qi;function X5(e,t,r,n,s){return e===t?!0:e==null||t==null||!EO(e)&&!EO(t)?e!==e&&t!==t:nge(e,t,r,n,X5,s)}var uk=X5,sge=L5,age=uk,ige=1,oge=2;function lge(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new sge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?age(d,u,ige|oge,n,f):h))return!1}}return!0}var cge=lge,uge=dl;function dge(e){return e===e&&!uge(e)}var J5=dge,fge=J5,hge=lb;function mge(e){for(var t=hge(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,fge(s)]}return t}var pge=mge;function gge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Z5=gge,vge=cge,yge=pge,xge=Z5;function bge(e){var t=yge(e);return t.length==1&&t[0][2]?xge(t[0][0],t[0][1]):function(r){return r===e||vge(r,e,t)}}var wge=bge;function jge(e,t){return e!=null&&t in Object(e)}var _ge=jge,Sge=o5,Nge=ok,kge=Yn,Cge=lk,Ege=ck,Pge=Hx;function Oge(e,t,r){t=Sge(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Pge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Ege(s)&&Cge(o,s)&&(kge(e)||Nge(e)))}var Age=Oge,Tge=_ge,Rge=Age;function Mge(e,t){return e!=null&&Rge(e,t,Tge)}var $ge=Mge,Ige=uk,Dge=l5,Lge=$ge,Fge=zN,Uge=J5,Bge=Z5,qge=Hx,zge=1,Wge=2;function Vge(e,t){return Fge(e)&&Uge(t)?Bge(qge(e),t):function(r){var n=Dge(r,e);return n===void 0&&n===t?Lge(r,e):Ige(t,n,zge|Wge)}}var Kge=Vge;function Hge(e){return e}var lf=Hge;function Gge(e){return function(t){return t==null?void 0:t[e]}}var Yge=Gge,Qge=QN;function Xge(e){return function(t){return Qge(t,e)}}var Jge=Xge,Zge=Yge,eve=Jge,tve=zN,rve=Hx;function nve(e){return tve(e)?Zge(rve(e)):eve(e)}var sve=nve,ave=wge,ive=Kge,ove=lf,lve=Yn,cve=sve;function uve(e){return typeof e=="function"?e:e==null?ove:typeof e=="object"?lve(e)?ive(e[0],e[1]):ave(e):cve(e)}var fl=uve;function dve(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var eU=dve;function fve(e){return e!==e}var hve=fve;function mve(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var pve=mve,gve=eU,vve=hve,yve=pve;function xve(e,t,r){return t===t?yve(e,t,r):gve(e,vve,r)}var bve=xve,wve=bve;function jve(e,t){var r=e==null?0:e.length;return!!r&&wve(e,t,0)>-1}var _ve=jve;function Sve(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Nve=Sve;function kve(){}var Cve=kve,Hw=Y5,Eve=Cve,Pve=ik,Ove=1/0,Ave=Hw&&1/Pve(new Hw([,-0]))[1]==Ove?function(e){return new Hw(e)}:Eve,Tve=Ave,Rve=F5,Mve=_ve,$ve=Nve,Ive=B5,Dve=Tve,Lve=ik,Fve=200;function Uve(e,t,r){var n=-1,s=Mve,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=$ve;else if(i>=Fve){var u=t?null:Dve(e);if(u)return Lve(u);o=!1,s=Ive,c=new Rve}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var Bve=Uve,qve=fl,zve=Bve;function Wve(e,t){return e&&e.length?zve(e,qve(t)):[]}var Vve=Wve;const PO=qt(Vve);function tU(e,t,r){return t===!0?PO(e,r):nt(t)?PO(e,t):e}function gd(e){"@babel/helpers - typeof";return gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gd(e)}var Kve=["ref"];function OO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ci(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OO(Object(r),!0).forEach(function(n){cb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nU(n.key),n)}}function Gve(e,t,r){return t&&AO(e.prototype,t),r&&AO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yve(e,t,r){return t=Yv(t),Qve(e,rU()?Reflect.construct(t,r||[],Yv(e).constructor):t.apply(e,r))}function Qve(e,t){if(t&&(gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xve(e)}function Xve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rU=function(){return!!e})()}function Yv(e){return Yv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yv(e)}function Jve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M_(e,t)}function M_(e,t){return M_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M_(e,t)}function cb(e,t,r){return t=nU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nU(e){var t=Zve(e,"string");return gd(t)=="symbol"?t:t+""}function Zve(e,t){if(gd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eye(e,t){if(e==null)return{};var r=tye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rye(e){return e.value}function nye(e,t){if(O.isValidElement(e))return O.cloneElement(e,t);if(typeof e=="function")return O.createElement(e,t);t.ref;var r=eye(t,Kve);return O.createElement(ak,r)}var TO=1,Au=function(e){function t(){var r;Hve(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Yve(this,t,[].concat(s)),cb(r,"lastBoundingBox",{width:-1,height:-1}),r}return Jve(t,e),Gve(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>TO||Math.abs(s.height-this.lastBoundingBox.height)>TO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ci({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ci(ci({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=ci(ci({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return O.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},nye(i,ci(ci({},this.props),{},{payload:tU(d,u,rye)})))}}],[{key:"getWithHeight",value:function(n,s){var i=ci(ci({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&be(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(y.PureComponent);cb(Au,"displayName","Legend");cb(Au,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var RO=cp,sye=ok,aye=Yn,MO=RO?RO.isConcatSpreadable:void 0;function iye(e){return aye(e)||sye(e)||!!(MO&&e&&e[MO])}var oye=iye,lye=z5,cye=oye;function sU(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=cye),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?sU(l,t-1,r,n,s):lye(s,l):n||(s[s.length]=l)}return s}var aU=sU;function uye(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var dye=uye,fye=dye,hye=fye(),mye=hye,pye=mye,gye=lb;function vye(e,t){return e&&pye(e,t,gye)}var iU=vye,yye=dp;function xye(e,t){return function(r,n){if(r==null)return r;if(!yye(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var bye=xye,wye=iU,jye=bye,_ye=jye(wye),dk=_ye,Sye=dk,Nye=dp;function kye(e,t){var r=-1,n=Nye(e)?Array(e.length):[];return Sye(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var oU=kye;function Cye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Eye=Cye,$O=Zd;function Pye(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=$O(e),o=t!==void 0,l=t===null,c=t===t,u=$O(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Oye=Pye,Aye=Oye;function Tye(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Aye(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Rye=Tye,Gw=YN,Mye=QN,$ye=fl,Iye=oU,Dye=Eye,Lye=K5,Fye=Rye,Uye=lf,Bye=Yn;function qye(e,t,r){t.length?t=Gw(t,function(i){return Bye(i)?function(o){return Mye(o,i.length===1?i[0]:i)}:i}):t=[Uye];var n=-1;t=Gw(t,Lye($ye));var s=Iye(e,function(i,o,l){var c=Gw(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Dye(s,function(i,o){return Fye(i,o,r)})}var zye=qye;function Wye(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var Vye=Wye,Kye=Vye,IO=Math.max;function Hye(e,t,r){return t=IO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=IO(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),Kye(e,this,l)}}var Gye=Hye;function Yye(e){return function(){return e}}var Qye=Yye,Xye=Ec,Jye=function(){try{var e=Xye(Object,"defineProperty");return e({},"",{}),e}catch{}}(),lU=Jye,Zye=Qye,DO=lU,exe=lf,txe=DO?function(e,t){return DO(e,"toString",{configurable:!0,enumerable:!1,value:Zye(t),writable:!0})}:exe,rxe=txe,nxe=800,sxe=16,axe=Date.now;function ixe(e){var t=0,r=0;return function(){var n=axe(),s=sxe-(n-r);if(r=n,s>0){if(++t>=nxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var oxe=ixe,lxe=rxe,cxe=oxe,uxe=cxe(lxe),dxe=uxe,fxe=lf,hxe=Gye,mxe=dxe;function pxe(e,t){return mxe(hxe(e,t,fxe),e+"")}var gxe=pxe,vxe=VN,yxe=dp,xxe=lk,bxe=dl;function wxe(e,t,r){if(!bxe(r))return!1;var n=typeof t;return(n=="number"?yxe(r)&&xxe(t,r.length):n=="string"&&t in r)?vxe(r[t],e):!1}var ub=wxe,jxe=aU,_xe=zye,Sxe=gxe,LO=ub,Nxe=Sxe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&LO(e,t[0],t[1])?t=[]:r>2&&LO(t[0],t[1],t[2])&&(t=[t[0]]),_xe(e,jxe(t,1),[])}),kxe=Nxe;const fk=qt(kxe);function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}function Cxe(e,t){return Axe(e)||Oxe(e,t)||Pxe(e,t)||Exe()}function Exe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pxe(e,t){if(e){if(typeof e=="string")return FO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(e,t)}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Oxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Axe(e){if(Array.isArray(e))return e}function UO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UO(Object(r),!0).forEach(function(n){Txe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Txe(e,t,r){return t=Rxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rxe(e){var t=Mxe(e,"string");return am(t)=="symbol"?t:t+""}function Mxe(e,t){if(am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $xe(e){return Array.isArray(e)&&Wr(e[0])&&Wr(e[1])?e.join(" ~ "):e}var Ixe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,x=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var P={padding:0,margin:0},q=(h?fk(d,h):d).map(function(T,W){if(T.type==="none")return null;var L=Yw({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),K=T.formatter||f||$xe,D=T.value,M=T.name,R=D,ee=M;if(K&&R!=null&&ee!=null){var $=K(D,M,T,W,d);if(Array.isArray($)){var ie=Cxe($,2);R=ie[0],ee=ie[1]}else R=$}return O.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:L},Wr(ee)?O.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Wr(ee)?O.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,O.createElement("span",{className:"recharts-tooltip-item-value"},R),O.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return O.createElement("ul",{className:"recharts-tooltip-item-list",style:P},q)}return null},_=Yw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=Yw({margin:0},u),S=!yt(p),N=S?p:"",k=jt("recharts-default-tooltip",m),C=jt("recharts-tooltip-label",g);S&&x&&d!==void 0&&d!==null&&(N=x(p,d));var A=v?{role:"status","aria-live":"assertive"}:{};return O.createElement("div",$_({className:k,style:_},A),O.createElement("p",{className:C,style:j},O.isValidElement(N)?N:"".concat(N)),w())};function im(e){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(e)}function sg(e,t,r){return t=Dxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dxe(e){var t=Lxe(e,"string");return im(t)=="symbol"?t:t+""}function Lxe(e,t){if(im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rf="recharts-tooltip-wrapper",Fxe={visibility:"hidden"};function Uxe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return jt(Rf,sg(sg(sg(sg({},"".concat(Rf,"-right"),be(r)&&t&&be(t.x)&&r>=t.x),"".concat(Rf,"-left"),be(r)&&t&&be(t.x)&&r<t.x),"".concat(Rf,"-bottom"),be(n)&&t&&be(t.y)&&n>=t.y),"".concat(Rf,"-top"),be(n)&&t&&be(t.y)&&n<t.y))}function BO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&be(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function Bxe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function qxe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=BO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=BO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Bxe({translateX:d,translateY:f,useTranslate3d:l})):u=Fxe,{cssProperties:u,cssClasses:Uxe({translateX:d,translateY:f,coordinate:r})}}function vd(e){"@babel/helpers - typeof";return vd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vd(e)}function qO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qO(Object(r),!0).forEach(function(n){D_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wxe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uU(n.key),n)}}function Vxe(e,t,r){return t&&Wxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kxe(e,t,r){return t=Qv(t),Hxe(e,cU()?Reflect.construct(t,r||[],Qv(e).constructor):t.apply(e,r))}function Hxe(e,t){if(t&&(vd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gxe(e)}function Gxe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cU=function(){return!!e})()}function Qv(e){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(e)}function Yxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I_(e,t)}function D_(e,t,r){return t=uU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uU(e){var t=Qxe(e,"string");return vd(t)=="symbol"?t:t+""}function Qxe(e,t){if(vd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var WO=1,Xxe=function(e){function t(){var r;zxe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=Kxe(this,t,[].concat(s)),D_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),D_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return Yxe(t,e),Vxe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WO||Math.abs(n.height-this.state.lastBoundingBox.height)>WO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,x=s.useTranslate3d,b=s.viewBox,v=s.wrapperStyle,w=qxe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=zO(zO({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return O.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(y.PureComponent),Jxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},cf={isSsr:Jxe()};function yd(e){"@babel/helpers - typeof";return yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yd(e)}function VO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function KO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VO(Object(r),!0).forEach(function(n){hk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zxe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ebe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fU(n.key),n)}}function tbe(e,t,r){return t&&ebe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rbe(e,t,r){return t=Xv(t),nbe(e,dU()?Reflect.construct(t,r||[],Xv(e).constructor):t.apply(e,r))}function nbe(e,t){if(t&&(yd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sbe(e)}function sbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dU=function(){return!!e})()}function Xv(e){return Xv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xv(e)}function abe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L_(e,t)}function L_(e,t){return L_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},L_(e,t)}function hk(e,t,r){return t=fU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=ibe(e,"string");return yd(t)=="symbol"?t:t+""}function ibe(e,t){if(yd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function obe(e){return e.dataKey}function lbe(e,t){return O.isValidElement(e)?O.cloneElement(e,t):typeof e=="function"?O.createElement(e,t):O.createElement(Ixe,t)}var _s=function(e){function t(){return Zxe(this,t),rbe(this,t,arguments)}return abe(t,e),tbe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,x=s.position,b=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=g??[];f&&j.length&&(j=tU(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,obe));var S=j.length>0;return O.createElement(Xxe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:x,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:_},lbe(u,KO(KO({},this.props),{},{payload:j})))}}])}(y.PureComponent);hk(_s,"displayName","Tooltip");hk(_s,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!cf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var cbe=ai,ube=function(){return cbe.Date.now()},dbe=ube,fbe=/\s/;function hbe(e){for(var t=e.length;t--&&fbe.test(e.charAt(t)););return t}var mbe=hbe,pbe=mbe,gbe=/^\s+/;function vbe(e){return e&&e.slice(0,pbe(e)+1).replace(gbe,"")}var ybe=vbe,xbe=ybe,HO=dl,bbe=Zd,GO=NaN,wbe=/^[-+]0x[0-9a-f]+$/i,jbe=/^0b[01]+$/i,_be=/^0o[0-7]+$/i,Sbe=parseInt;function Nbe(e){if(typeof e=="number")return e;if(bbe(e))return GO;if(HO(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=HO(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=xbe(e);var r=jbe.test(e);return r||_be.test(e)?Sbe(e.slice(2),r?2:8):wbe.test(e)?GO:+e}var hU=Nbe,kbe=dl,Qw=dbe,YO=hU,Cbe="Expected a function",Ebe=Math.max,Pbe=Math.min;function Obe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(Cbe);t=YO(t)||0,kbe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Ebe(YO(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?Pbe(C,i-k):C}function x(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var S=Qw();if(x(S))return v(S);l=setTimeout(b,p(S))}function v(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:v(Qw())}function j(){var S=Qw(),N=x(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var Abe=Obe,Tbe=Abe,Rbe=dl,Mbe="Expected a function";function $be(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Mbe);return Rbe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Tbe(e,t,{leading:n,maxWait:t,trailing:s})}var Ibe=$be;const mU=qt(Ibe);function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}function QO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ag(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QO(Object(r),!0).forEach(function(n){Dbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dbe(e,t,r){return t=Lbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lbe(e){var t=Fbe(e,"string");return om(t)=="symbol"?t:t+""}function Fbe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ube(e,t){return Wbe(e)||zbe(e,t)||qbe(e,t)||Bbe()}function Bbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qbe(e,t){if(e){if(typeof e=="string")return XO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(e,t)}}function XO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zbe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Wbe(e){if(Array.isArray(e))return e}var F_=y.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,x=e.id,b=e.className,v=e.onResize,w=e.style,_=w===void 0?{}:w,j=y.useRef(null),S=y.useRef();S.current=v,y.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=y.useState({containerWidth:s.width,containerHeight:s.height}),k=Ube(N,2),C=k[0],A=k[1],I=y.useCallback(function(q,T){A(function(W){var L=Math.round(q),K=Math.round(T);return W.containerWidth===L&&W.containerHeight===K?W:{containerWidth:L,containerHeight:K}})},[]);y.useEffect(function(){var q=function(M){var R,ee=M[0].contentRect,$=ee.width,ie=ee.height;I($,ie),(R=S.current)===null||R===void 0||R.call(S,$,ie)};p>0&&(q=mU(q,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(q),W=j.current.getBoundingClientRect(),L=W.width,K=W.height;return I(L,K),T.observe(j.current),function(){T.disconnect()}},[I,p]);var P=y.useMemo(function(){var q=C.containerWidth,T=C.containerHeight;if(q<0||T<0)return null;Ci(Il(o)||Il(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ci(!r||r>0,"The aspect(%s) must be greater than zero.",r);var W=Il(o)?q:o,L=Il(c)?T:c;r&&r>0&&(W?L=W/r:L&&(W=L*r),h&&L>h&&(L=h)),Ci(W>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,L,o,c,d,f,r);var K=!Array.isArray(m)&&ki(m.type).endsWith("Chart");return O.Children.map(m,function(D){return O.isValidElement(D)?y.cloneElement(D,ag({width:W,height:L},K?{style:ag({height:"100%",width:"100%",maxHeight:L,maxWidth:W},D.props.style)}:{})):D})},[r,m,c,h,f,d,C,o]);return O.createElement("div",{id:x?"".concat(x):void 0,className:jt("recharts-responsive-container",b),style:ag(ag({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},P)}),pU=function(t){return null};pU.displayName="Cell";function lm(e){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(e)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function U_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){Vbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vbe(e,t,r){return t=Kbe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kbe(e){var t=Hbe(e,"string");return lm(t)=="symbol"?t:t+""}function Hbe(e,t){if(lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qc={widthCache:{},cacheCount:0},Gbe=2e3,Ybe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZO="recharts_measurement_span";function Qbe(e){var t=U_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var yh=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cf.isSsr)return{width:0,height:0};var n=Qbe(r),s=JSON.stringify({text:t,copyStyle:n});if(Qc.widthCache[s])return Qc.widthCache[s];try{var i=document.getElementById(ZO);i||(i=document.createElement("span"),i.setAttribute("id",ZO),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=U_(U_({},Ybe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Qc.widthCache[s]=c,++Qc.cacheCount>Gbe&&(Qc.cacheCount=0,Qc.widthCache={}),c}catch{return{width:0,height:0}}},Xbe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function Jv(e,t){return twe(e)||ewe(e,t)||Zbe(e,t)||Jbe()}function Jbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zbe(e,t){if(e){if(typeof e=="string")return eA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eA(e,t)}}function eA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ewe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function twe(e){if(Array.isArray(e))return e}function rwe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,swe(n.key),n)}}function nwe(e,t,r){return t&&tA(e.prototype,t),r&&tA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function swe(e){var t=awe(e,"string");return cm(t)=="symbol"?t:t+""}function awe(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var rA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,owe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},lwe=Object.keys(gU),vu="NaN";function cwe(e,t){return e*gU[t]}var ig=function(){function e(t,r){rwe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!iwe.test(r)&&(this.num=NaN,this.unit=""),lwe.includes(r)&&(this.num=cwe(t,r),this.unit="px")}return nwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=owe.exec(r))!==null&&n!==void 0?n:[],i=Jv(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function vU(e){if(e.includes(vu))return vu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=rA.exec(t))!==null&&r!==void 0?r:[],s=Jv(n,4),i=s[1],o=s[2],l=s[3],c=ig.parse(i??""),u=ig.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return vu;t=t.replace(rA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=nA.exec(t))!==null&&f!==void 0?f:[],m=Jv(h,4),g=m[1],p=m[2],x=m[3],b=ig.parse(g??""),v=ig.parse(x??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return vu;t=t.replace(nA,w.toString())}return t}var sA=/\(([^()]*)\)/;function uwe(e){for(var t=e;t.includes("(");){var r=sA.exec(t),n=Jv(r,2),s=n[1];t=t.replace(sA,vU(s))}return t}function dwe(e){var t=e.replace(/\s+/g,"");return t=uwe(t),t=vU(t),t}function fwe(e){try{return dwe(e)}catch{return vu}}function Xw(e){var t=fwe(e.slice(5,-1));return t===vu?"":t}var hwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mwe=["dx","dy","angle","className","breakAll"];function B_(){return B_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}function aA(e,t){if(e==null)return{};var r=pwe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function pwe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iA(e,t){return xwe(e)||ywe(e,t)||vwe(e,t)||gwe()}function gwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vwe(e,t){if(e){if(typeof e=="string")return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(e,t)}}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ywe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function xwe(e){if(Array.isArray(e))return e}var yU=/[ \f\n\r\t\v\u2028\u2029]+/,xU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];yt(r)||(n?i=r.toString().split(""):i=r.toString().split(yU));var o=i.map(function(c){return{word:c,width:yh(c,s).width}}),l=n?0:yh("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},bwe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=be(o),f=l,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(L,K){var D=K.word,M=K.width,R=L[L.length-1];if(R&&(s==null||i||R.width+M+n<Number(s)))R.words.push(D),R.width+=M+n;else{var ee={words:[D],width:M};L.push(ee)}return L},[])},m=h(r),g=function(W){return W.reduce(function(L,K){return L.width>K.width?L:K})};if(!d)return m;for(var p="",x=function(W){var L=f.slice(0,W),K=xU({breakAll:u,style:c,children:L+p}).wordsWithComputedWidth,D=h(K),M=D.length>o||g(D).width>Number(s);return[M,D]},b=0,v=f.length-1,w=0,_;b<=v&&w<=f.length-1;){var j=Math.floor((b+v)/2),S=j-1,N=x(S),k=iA(N,2),C=k[0],A=k[1],I=x(j),P=iA(I,1),q=P[0];if(!C&&!q&&(b=j+1),C&&q&&(v=j-1),!C&&q){_=A;break}w++}return _||m},lA=function(t){var r=yt(t)?[]:t.toString().split(yU);return[{words:r}]},wwe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!cf.isSsr){var c,u,d=xU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return lA(s);return bwe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return lA(s)},cA="#808080",Zv=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,x=t.fill,b=x===void 0?cA:x,v=aA(t,hwe),w=y.useMemo(function(){return wwe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),_=v.dx,j=v.dy,S=v.angle,N=v.className,k=v.breakAll,C=aA(v,mwe);if(!Wr(n)||!Wr(i))return null;var A=n+(be(_)?_:0),I=i+(be(j)?j:0),P;switch(p){case"start":P=Xw("calc(".concat(u,")"));break;case"middle":P=Xw("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:P=Xw("calc(".concat(w.length-1," * -").concat(l,")"));break}var q=[];if(f){var T=w[0].width,W=v.width;q.push("scale(".concat((be(W)?W/T:1)/T,")"))}return S&&q.push("rotate(".concat(S,", ").concat(A,", ").concat(I,")")),q.length&&(C.transform=q.join(" ")),O.createElement("text",B_({},mt(C,!0),{x:A,y:I,className:jt("recharts-text",N),textAnchor:m,fill:b.includes("url")?cA:b}),w.map(function(L,K){var D=L.words.join(k?"":" ");return O.createElement("tspan",{x:A,dy:K===0?P:l,key:"".concat(D,"-").concat(K)},D)}))};function Yo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mk(e){let t,r,n;e.length!==2?(t=Yo,r=(l,c)=>Yo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Yo||e===jwe?e:_we,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function _we(){return 0}function bU(e){return e===null?NaN:+e}function*Swe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Nwe=mk(Yo),fp=Nwe.right;mk(bU).center;class uA extends Map{constructor(t,r=Ewe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(dA(this,t))}has(t){return super.has(dA(this,t))}set(t,r){return super.set(kwe(this,t),r)}delete(t){return super.delete(Cwe(this,t))}}function dA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function kwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Cwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Ewe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pwe(e=Yo){if(e===Yo)return wU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function wU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Owe=Math.sqrt(50),Awe=Math.sqrt(10),Twe=Math.sqrt(2);function ey(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Owe?10:i>=Awe?5:i>=Twe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?ey(e,t,r*2):[l,c,u]}function q_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?ey(t,e,r):ey(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function z_(e,t,r){return t=+t,e=+e,r=+r,ey(e,t,r)[2]}function W_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?z_(t,e,r):z_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function fA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function hA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function jU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?wU:Pwe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));jU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Mf(e,r,t),s(e[n],i)>0&&Mf(e,r,n);o<l;){for(Mf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Mf(e,r,l):(++l,Mf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Mf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Rwe(e,t,r){if(e=Float64Array.from(Swe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return hA(e);if(t>=1)return fA(e);var n,s=(n-1)*t,i=Math.floor(s),o=fA(jU(e,i).subarray(0,i+1)),l=hA(e.subarray(i+1));return o+(l-o)*(s-i)}}function Mwe(e,t,r=bU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function $we(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ws(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const V_=Symbol("implicit");function pk(){var e=new uA,t=[],r=[],n=V_;function s(i){let o=e.get(i);if(o===void 0){if(n!==V_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new uA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return pk(t,r).unknown(n)},Ws.apply(s,arguments),s}function um(){var e=pk().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var x=$we(h).map(function(b){return g+i*b});return r(m?x.reverse():x)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return um(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ws.apply(f(),arguments)}function _U(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return _U(t())},e}function xh(){return _U(um.apply(null,arguments).paddingInner(1))}function gk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function SU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function hp(){}var dm=.7,ty=1/dm,Tu="\\s*([+-]?\\d+)\\s*",fm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ga="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Iwe=/^#([0-9a-f]{3,8})$/,Dwe=new RegExp(`^rgb\\(${Tu},${Tu},${Tu}\\)$`),Lwe=new RegExp(`^rgb\\(${Ga},${Ga},${Ga}\\)$`),Fwe=new RegExp(`^rgba\\(${Tu},${Tu},${Tu},${fm}\\)$`),Uwe=new RegExp(`^rgba\\(${Ga},${Ga},${Ga},${fm}\\)$`),Bwe=new RegExp(`^hsl\\(${fm},${Ga},${Ga}\\)$`),qwe=new RegExp(`^hsla\\(${fm},${Ga},${Ga},${fm}\\)$`),mA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};gk(hp,hm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:pA,formatHex:pA,formatHex8:zwe,formatHsl:Wwe,formatRgb:gA,toString:gA});function pA(){return this.rgb().formatHex()}function zwe(){return this.rgb().formatHex8()}function Wwe(){return NU(this).formatHsl()}function gA(){return this.rgb().formatRgb()}function hm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Iwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?vA(t):r===3?new qn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?og(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?og(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Dwe.exec(e))?new qn(t[1],t[2],t[3],1):(t=Lwe.exec(e))?new qn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fwe.exec(e))?og(t[1],t[2],t[3],t[4]):(t=Uwe.exec(e))?og(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Bwe.exec(e))?bA(t[1],t[2]/100,t[3]/100,1):(t=qwe.exec(e))?bA(t[1],t[2]/100,t[3]/100,t[4]):mA.hasOwnProperty(e)?vA(mA[e]):e==="transparent"?new qn(NaN,NaN,NaN,0):null}function vA(e){return new qn(e>>16&255,e>>8&255,e&255,1)}function og(e,t,r,n){return n<=0&&(e=t=r=NaN),new qn(e,t,r,n)}function Vwe(e){return e instanceof hp||(e=hm(e)),e?(e=e.rgb(),new qn(e.r,e.g,e.b,e.opacity)):new qn}function K_(e,t,r,n){return arguments.length===1?Vwe(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}gk(qn,K_,SU(hp,{brighter(e){return e=e==null?ty:Math.pow(ty,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new qn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new qn(Jl(this.r),Jl(this.g),Jl(this.b),ry(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yA,formatHex:yA,formatHex8:Kwe,formatRgb:xA,toString:xA}));function yA(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}`}function Kwe(){return`#${Dl(this.r)}${Dl(this.g)}${Dl(this.b)}${Dl((isNaN(this.opacity)?1:this.opacity)*255)}`}function xA(){const e=ry(this.opacity);return`${e===1?"rgb(":"rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${e===1?")":`, ${e})`}`}function ry(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Jl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Dl(e){return e=Jl(e),(e<16?"0":"")+e.toString(16)}function bA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fa(e,t,r,n)}function NU(e){if(e instanceof fa)return new fa(e.h,e.s,e.l,e.opacity);if(e instanceof hp||(e=hm(e)),!e)return new fa;if(e instanceof fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new fa(o,l,c,e.opacity)}function Hwe(e,t,r,n){return arguments.length===1?NU(e):new fa(e,t,r,n??1)}function fa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}gk(fa,Hwe,SU(hp,{brighter(e){return e=e==null?ty:Math.pow(ty,e),new fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dm:Math.pow(dm,e),new fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new qn(Jw(e>=240?e-240:e+120,s,n),Jw(e,s,n),Jw(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new fa(wA(this.h),lg(this.s),lg(this.l),ry(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ry(this.opacity);return`${e===1?"hsl(":"hsla("}${wA(this.h)}, ${lg(this.s)*100}%, ${lg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function wA(e){return e=(e||0)%360,e<0?e+360:e}function lg(e){return Math.max(0,Math.min(1,e||0))}function Jw(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const vk=e=>()=>e;function Gwe(e,t){return function(r){return e+r*t}}function Ywe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Qwe(e){return(e=+e)==1?kU:function(t,r){return r-t?Ywe(t,r,e):vk(isNaN(t)?r:t)}}function kU(e,t){var r=t-e;return r?Gwe(e,r):vk(isNaN(e)?t:e)}const jA=function e(t){var r=Qwe(t);function n(s,i){var o=r((s=K_(s)).r,(i=K_(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=kU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function Xwe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function Jwe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Zwe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=uf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function e0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ny(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function t0e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=uf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var H_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zw=new RegExp(H_.source,"g");function r0e(e){return function(){return e}}function n0e(e){return function(t){return e(t)+""}}function s0e(e,t){var r=H_.lastIndex=Zw.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=H_.exec(e))&&(s=Zw.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:ny(n,s)})),r=Zw.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?n0e(c[0].x):r0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function uf(e,t){var r=typeof t,n;return t==null||r==="boolean"?vk(t):(r==="number"?ny:r==="string"?(n=hm(t))?(t=n,jA):s0e:t instanceof hm?jA:t instanceof Date?e0e:Jwe(t)?Xwe:Array.isArray(t)?Zwe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?t0e:ny)(e,t)}function yk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function a0e(e,t){t===void 0&&(t=e,e=uf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function i0e(e){return function(){return e}}function sy(e){return+e}var _A=[0,1];function kn(e){return e}function G_(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:i0e(isNaN(t)?NaN:.5)}function o0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function l0e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=G_(s,n),i=r(o,i)):(n=G_(n,s),i=r(i,o)),function(l){return i(n(l))}}function c0e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=G_(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=fp(e,l,1,n)-1;return i[c](s[c](l))}}function mp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function db(){var e=_A,t=_A,r=uf,n,s,i,o=kn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==kn&&(o=o0e(e[0],e[h-1])),l=h>2?c0e:l0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),ny)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=yk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:kn,d()):o!==kn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function xk(){return db()(kn,kn)}function u0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ay(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function xd(e){return e=ay(Math.abs(e)),e?e[1]:NaN}function d0e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function f0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var h0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mm(e){if(!(t=h0e.exec(e)))throw new Error("invalid format: "+e);var t;return new bk({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mm.prototype=bk.prototype;function bk(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}bk.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m0e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var iy;function p0e(e,t){var r=ay(e,t);if(!r)return iy=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(iy=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+ay(e,Math.max(0,t+i-1))[0]}function SA(e,t){var r=ay(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const NA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:u0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>SA(e*100,t),r:SA,s:p0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function kA(e){return e}var CA=Array.prototype.map,EA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function g0e(e){var t=e.grouping===void 0||e.thousands===void 0?kA:d0e(CA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?kA:f0e(CA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=mm(f);var m=f.fill,g=f.align,p=f.sign,x=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):NA[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(x==="$"?r:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(x==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=NA[S],A=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(P){var q=N,T=k,W,L,K;if(S==="c")T=C(P)+T,P="";else{P=+P;var D=P<0||1/P<0;if(P=isNaN(P)?c:C(Math.abs(P),_),j&&(P=m0e(P)),D&&+P==0&&p!=="+"&&(D=!1),q=(D?p==="("?p:l:p==="-"||p==="("?"":p)+q,T=(S==="s"&&!isNaN(P)&&iy!==void 0?EA[8+iy/3]:"")+T+(D&&p==="("?")":""),A){for(W=-1,L=P.length;++W<L;)if(K=P.charCodeAt(W),48>K||K>57){T=(K===46?s+P.slice(W+1):P.slice(W))+T,P=P.slice(0,W);break}}}w&&!b&&(P=t(P,1/0));var M=q.length+P.length+T.length,R=M<v?new Array(v-M+1).join(m):"";switch(w&&b&&(P=t(R+P,R.length?v-T.length:1/0),R=""),g){case"<":P=q+P+T+R;break;case"=":P=q+R+P+T;break;case"^":P=R.slice(0,M=R.length>>1)+q+P+T+R.slice(M);break;default:P=R+q+P+T;break}return i(P)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(xd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=mm(f),f.type="f",f),{suffix:EA[8+m/3]});return function(x){return p(g*x)}}return{format:u,formatPrefix:d}}var cg,wk,CU;v0e({thousands:",",grouping:[3],currency:["$",""]});function v0e(e){return cg=g0e(e),wk=cg.format,CU=cg.formatPrefix,cg}function y0e(e){return Math.max(0,-xd(Math.abs(e)))}function x0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xd(t)/3)))*3-xd(Math.abs(e)))}function b0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,xd(t)-xd(e))+1}function EU(e,t,r,n){var s=W_(e,t,r),i;switch(n=mm(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=x0e(s,o))&&(n.precision=i),CU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=b0e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=y0e(s))&&(n.precision=i-(n.type==="%")*2);break}}return wk(n)}function hl(e){var t=e.domain;return e.ticks=function(r){var n=t();return q_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return EU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=z_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function oy(){var e=xk();return e.copy=function(){return mp(e,oy())},Ws.apply(e,arguments),hl(e)}function PU(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return PU(e).unknown(t)},e=arguments.length?Array.from(e,sy):[0,1],hl(r)}function OU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function PA(e){return Math.log(e)}function OA(e){return Math.exp(e)}function w0e(e){return-Math.log(-e)}function j0e(e){return-Math.exp(-e)}function _0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function S0e(e){return e===10?_0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function N0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function AA(e){return(t,r)=>-e(-t,r)}function jk(e){const t=e(PA,OA),r=t.domain;let n=10,s,i;function o(){return s=N0e(n),i=S0e(n),r()[0]<0?(s=AA(s),i=AA(i),e(w0e,j0e)):e(PA,OA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const x=l==null?10:+l;let b=[];if(!(n%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<x&&(b=q_(u,d,x))}else b=q_(h,m,Math.min(m-h,x)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mm(c)).precision==null&&(c.trim=!0),c=wk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(OU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function AU(){const e=jk(db()).domain([1,10]);return e.copy=()=>mp(e,AU()).base(e.base()),Ws.apply(e,arguments),e}function TA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function RA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function _k(e){var t=1,r=e(TA(t),RA(t));return r.constant=function(n){return arguments.length?e(TA(t=+n),RA(t)):t},hl(r)}function TU(){var e=_k(db());return e.copy=function(){return mp(e,TU()).constant(e.constant())},Ws.apply(e,arguments)}function MA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function k0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function C0e(e){return e<0?-e*e:e*e}function Sk(e){var t=e(kn,kn),r=1;function n(){return r===1?e(kn,kn):r===.5?e(k0e,C0e):e(MA(r),MA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},hl(t)}function Nk(){var e=Sk(db());return e.copy=function(){return mp(e,Nk()).exponent(e.exponent())},Ws.apply(e,arguments),e}function E0e(){return Nk.apply(null,arguments).exponent(.5)}function $A(e){return Math.sign(e)*e*e}function P0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RU(){var e=xk(),t=[0,1],r=!1,n;function s(i){var o=P0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert($A(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,sy)).map($A)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return RU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ws.apply(s,arguments),hl(s)}function MU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Mwe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[fp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Yo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return MU().domain(e).range(t).unknown(n)},Ws.apply(i,arguments)}function $U(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[fp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return $U().domain([e,t]).range(s).unknown(i)},Ws.apply(hl(o),arguments)}function IU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[fp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return IU().domain(e).range(t).unknown(r)},Ws.apply(s,arguments)}const e0=new Date,t0=new Date;function Kr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Kr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(e0.setTime(+i),t0.setTime(+o),e(e0),e(t0),Math.floor(r(e0,t0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const ly=Kr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ly.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Kr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):ly);ly.range;const wi=1e3,Os=wi*60,ji=Os*60,Fi=ji*24,kk=Fi*7,IA=Fi*30,r0=Fi*365,Ll=Kr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*wi)},(e,t)=>(t-e)/wi,e=>e.getUTCSeconds());Ll.range;const Ck=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getMinutes());Ck.range;const Ek=Kr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCMinutes());Ek.range;const Pk=Kr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*wi-e.getMinutes()*Os)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getHours());Pk.range;const Ok=Kr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ji)},(e,t)=>(t-e)/ji,e=>e.getUTCHours());Ok.range;const pp=Kr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Os)/Fi,e=>e.getDate()-1);pp.range;const fb=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>e.getUTCDate()-1);fb.range;const DU=Kr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fi,e=>Math.floor(e/Fi));DU.range;function Pc(e){return Kr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Os)/kk)}const hb=Pc(0),cy=Pc(1),O0e=Pc(2),A0e=Pc(3),bd=Pc(4),T0e=Pc(5),R0e=Pc(6);hb.range;cy.range;O0e.range;A0e.range;bd.range;T0e.range;R0e.range;function Oc(e){return Kr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/kk)}const mb=Oc(0),uy=Oc(1),M0e=Oc(2),$0e=Oc(3),wd=Oc(4),I0e=Oc(5),D0e=Oc(6);mb.range;uy.range;M0e.range;$0e.range;wd.range;I0e.range;D0e.range;const Ak=Kr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ak.range;const Tk=Kr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tk.range;const Ui=Kr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Ui.range;const Bi=Kr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Kr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bi.range;function LU(e,t,r,n,s,i){const o=[[Ll,1,wi],[Ll,5,5*wi],[Ll,15,15*wi],[Ll,30,30*wi],[i,1,Os],[i,5,5*Os],[i,15,15*Os],[i,30,30*Os],[s,1,ji],[s,3,3*ji],[s,6,6*ji],[s,12,12*ji],[n,1,Fi],[n,2,2*Fi],[r,1,kk],[t,1,IA],[t,3,3*IA],[e,1,r0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=mk(([,,x])=>x).right(o,h);if(m===o.length)return e.every(W_(u/r0,d/r0,f));if(m===0)return ly.every(Math.max(W_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[L0e,F0e]=LU(Bi,Tk,mb,DU,Ok,Ek),[U0e,B0e]=LU(Ui,Ak,hb,pp,Pk,Ck);function n0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function s0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $f(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function q0e(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=If(s),d=Df(s),f=If(i),h=Df(i),m=If(o),g=Df(o),p=If(l),x=Df(l),b=If(c),v=Df(c),w={a:K,A:D,b:M,B:R,c:null,d:qA,e:qA,f:dje,g:wje,G:_je,H:lje,I:cje,j:uje,L:FU,m:fje,M:hje,p:ee,q:$,Q:VA,s:KA,S:mje,u:pje,U:gje,V:vje,w:yje,W:xje,x:null,X:null,y:bje,Y:jje,Z:Sje,"%":WA},_={a:ie,A:he,b:We,B:Ve,c:null,d:zA,e:zA,f:Eje,g:Lje,G:Uje,H:Nje,I:kje,j:Cje,L:BU,m:Pje,M:Oje,p:ue,q:qe,Q:VA,s:KA,S:Aje,u:Tje,U:Rje,V:Mje,w:$je,W:Ije,x:null,X:null,y:Dje,Y:Fje,Z:Bje,"%":WA},j={a:A,A:I,b:P,B:q,c:T,d:UA,e:UA,f:sje,g:FA,G:LA,H:BA,I:BA,j:eje,L:nje,m:Z0e,M:tje,p:C,q:J0e,Q:ije,s:oje,S:rje,u:H0e,U:G0e,V:Y0e,w:K0e,W:Q0e,x:W,X:L,y:FA,Y:LA,Z:X0e,"%":aje};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ae,we){return function(G){var Q=[],Xe=-1,Ke=0,xt=ae.length,ot,zt,jr;for(G instanceof Date||(G=new Date(+G));++Xe<xt;)ae.charCodeAt(Xe)===37&&(Q.push(ae.slice(Ke,Xe)),(zt=DA[ot=ae.charAt(++Xe)])!=null?ot=ae.charAt(++Xe):zt=ot==="e"?" ":"0",(jr=we[ot])&&(ot=jr(G,zt)),Q.push(ot),Ke=Xe+1);return Q.push(ae.slice(Ke,Xe)),Q.join("")}}function N(ae,we){return function(G){var Q=$f(1900,void 0,1),Xe=k(Q,ae,G+="",0),Ke,xt;if(Xe!=G.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(we&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(Ke=s0($f(Q.y,0,1)),xt=Ke.getUTCDay(),Ke=xt>4||xt===0?uy.ceil(Ke):uy(Ke),Ke=fb.offset(Ke,(Q.V-1)*7),Q.y=Ke.getUTCFullYear(),Q.m=Ke.getUTCMonth(),Q.d=Ke.getUTCDate()+(Q.w+6)%7):(Ke=n0($f(Q.y,0,1)),xt=Ke.getDay(),Ke=xt>4||xt===0?cy.ceil(Ke):cy(Ke),Ke=pp.offset(Ke,(Q.V-1)*7),Q.y=Ke.getFullYear(),Q.m=Ke.getMonth(),Q.d=Ke.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),xt="Z"in Q?s0($f(Q.y,0,1)).getUTCDay():n0($f(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(xt+5)%7:Q.w+Q.U*7-(xt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,s0(Q)):n0(Q)}}function k(ae,we,G,Q){for(var Xe=0,Ke=we.length,xt=G.length,ot,zt;Xe<Ke;){if(Q>=xt)return-1;if(ot=we.charCodeAt(Xe++),ot===37){if(ot=we.charAt(Xe++),zt=j[ot in DA?we.charAt(Xe++):ot],!zt||(Q=zt(ae,G,Q))<0)return-1}else if(ot!=G.charCodeAt(Q++))return-1}return Q}function C(ae,we,G){var Q=u.exec(we.slice(G));return Q?(ae.p=d.get(Q[0].toLowerCase()),G+Q[0].length):-1}function A(ae,we,G){var Q=m.exec(we.slice(G));return Q?(ae.w=g.get(Q[0].toLowerCase()),G+Q[0].length):-1}function I(ae,we,G){var Q=f.exec(we.slice(G));return Q?(ae.w=h.get(Q[0].toLowerCase()),G+Q[0].length):-1}function P(ae,we,G){var Q=b.exec(we.slice(G));return Q?(ae.m=v.get(Q[0].toLowerCase()),G+Q[0].length):-1}function q(ae,we,G){var Q=p.exec(we.slice(G));return Q?(ae.m=x.get(Q[0].toLowerCase()),G+Q[0].length):-1}function T(ae,we,G){return k(ae,t,we,G)}function W(ae,we,G){return k(ae,r,we,G)}function L(ae,we,G){return k(ae,n,we,G)}function K(ae){return o[ae.getDay()]}function D(ae){return i[ae.getDay()]}function M(ae){return c[ae.getMonth()]}function R(ae){return l[ae.getMonth()]}function ee(ae){return s[+(ae.getHours()>=12)]}function $(ae){return 1+~~(ae.getMonth()/3)}function ie(ae){return o[ae.getUTCDay()]}function he(ae){return i[ae.getUTCDay()]}function We(ae){return c[ae.getUTCMonth()]}function Ve(ae){return l[ae.getUTCMonth()]}function ue(ae){return s[+(ae.getUTCHours()>=12)]}function qe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var we=S(ae+="",w);return we.toString=function(){return ae},we},parse:function(ae){var we=N(ae+="",!1);return we.toString=function(){return ae},we},utcFormat:function(ae){var we=S(ae+="",_);return we.toString=function(){return ae},we},utcParse:function(ae){var we=N(ae+="",!0);return we.toString=function(){return ae},we}}}var DA={"-":"",_:" ",0:"0"},Zr=/^\s*\d+/,z0e=/^%/,W0e=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function V0e(e){return e.replace(W0e,"\\$&")}function If(e){return new RegExp("^(?:"+e.map(V0e).join("|")+")","i")}function Df(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function K0e(e,t,r){var n=Zr.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function H0e(e,t,r){var n=Zr.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function G0e(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Y0e(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function Q0e(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function LA(e,t,r){var n=Zr.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function FA(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function X0e(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function J0e(e,t,r){var n=Zr.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Z0e(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function UA(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function eje(e,t,r){var n=Zr.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function BA(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function tje(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function rje(e,t,r){var n=Zr.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function nje(e,t,r){var n=Zr.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function sje(e,t,r){var n=Zr.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function aje(e,t,r){var n=z0e.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ije(e,t,r){var n=Zr.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function oje(e,t,r){var n=Zr.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function qA(e,t){return Pt(e.getDate(),t,2)}function lje(e,t){return Pt(e.getHours(),t,2)}function cje(e,t){return Pt(e.getHours()%12||12,t,2)}function uje(e,t){return Pt(1+pp.count(Ui(e),e),t,3)}function FU(e,t){return Pt(e.getMilliseconds(),t,3)}function dje(e,t){return FU(e,t)+"000"}function fje(e,t){return Pt(e.getMonth()+1,t,2)}function hje(e,t){return Pt(e.getMinutes(),t,2)}function mje(e,t){return Pt(e.getSeconds(),t,2)}function pje(e){var t=e.getDay();return t===0?7:t}function gje(e,t){return Pt(hb.count(Ui(e)-1,e),t,2)}function UU(e){var t=e.getDay();return t>=4||t===0?bd(e):bd.ceil(e)}function vje(e,t){return e=UU(e),Pt(bd.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function yje(e){return e.getDay()}function xje(e,t){return Pt(cy.count(Ui(e)-1,e),t,2)}function bje(e,t){return Pt(e.getFullYear()%100,t,2)}function wje(e,t){return e=UU(e),Pt(e.getFullYear()%100,t,2)}function jje(e,t){return Pt(e.getFullYear()%1e4,t,4)}function _je(e,t){var r=e.getDay();return e=r>=4||r===0?bd(e):bd.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Sje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function zA(e,t){return Pt(e.getUTCDate(),t,2)}function Nje(e,t){return Pt(e.getUTCHours(),t,2)}function kje(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function Cje(e,t){return Pt(1+fb.count(Bi(e),e),t,3)}function BU(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Eje(e,t){return BU(e,t)+"000"}function Pje(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Oje(e,t){return Pt(e.getUTCMinutes(),t,2)}function Aje(e,t){return Pt(e.getUTCSeconds(),t,2)}function Tje(e){var t=e.getUTCDay();return t===0?7:t}function Rje(e,t){return Pt(mb.count(Bi(e)-1,e),t,2)}function qU(e){var t=e.getUTCDay();return t>=4||t===0?wd(e):wd.ceil(e)}function Mje(e,t){return e=qU(e),Pt(wd.count(Bi(e),e)+(Bi(e).getUTCDay()===4),t,2)}function $je(e){return e.getUTCDay()}function Ije(e,t){return Pt(uy.count(Bi(e)-1,e),t,2)}function Dje(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function Lje(e,t){return e=qU(e),Pt(e.getUTCFullYear()%100,t,2)}function Fje(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function Uje(e,t){var r=e.getUTCDay();return e=r>=4||r===0?wd(e):wd.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function Bje(){return"+0000"}function WA(){return"%"}function VA(e){return+e}function KA(e){return Math.floor(+e/1e3)}var Xc,zU,WU;qje({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function qje(e){return Xc=q0e(e),zU=Xc.format,Xc.parse,WU=Xc.utcFormat,Xc.utcParse,Xc}function zje(e){return new Date(e)}function Wje(e){return e instanceof Date?+e:+new Date(+e)}function Rk(e,t,r,n,s,i,o,l,c,u){var d=xk(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),x=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?x:n(S)<S?s(S)<S?b:v:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Wje)):h().map(zje)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(OU(N,S)):d},d.copy=function(){return mp(d,Rk(e,t,r,n,s,i,o,l,c,u))},d}function Vje(){return Ws.apply(Rk(U0e,B0e,Ui,Ak,hb,pp,Pk,Ck,Ll,zU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kje(){return Ws.apply(Rk(L0e,F0e,Bi,Tk,mb,fb,Ok,Ek,Ll,WU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function pb(){var e=0,t=1,r,n,s,i,o=kn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(uf),u.rangeRound=d(yk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function ml(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function VU(){var e=hl(pb()(kn));return e.copy=function(){return ml(e,VU())},Xi.apply(e,arguments)}function KU(){var e=jk(pb()).domain([1,10]);return e.copy=function(){return ml(e,KU()).base(e.base())},Xi.apply(e,arguments)}function HU(){var e=_k(pb());return e.copy=function(){return ml(e,HU()).constant(e.constant())},Xi.apply(e,arguments)}function Mk(){var e=Sk(pb());return e.copy=function(){return ml(e,Mk()).exponent(e.exponent())},Xi.apply(e,arguments)}function Hje(){return Mk.apply(null,arguments).exponent(.5)}function GU(){var e=[],t=kn;function r(n){if(n!=null&&!isNaN(n=+n))return t((fp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Yo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Rwe(e,i/n))},r.copy=function(){return GU(t).domain(e)},Xi.apply(r,arguments)}function gb(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=kn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(x){var b,v,w;return arguments.length?([b,v,w]=x,u=a0e(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(uf),m.rangeRound=g(yk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function YU(){var e=hl(gb()(kn));return e.copy=function(){return ml(e,YU())},Xi.apply(e,arguments)}function QU(){var e=jk(gb()).domain([.1,1,10]);return e.copy=function(){return ml(e,QU()).base(e.base())},Xi.apply(e,arguments)}function XU(){var e=_k(gb());return e.copy=function(){return ml(e,XU()).constant(e.constant())},Xi.apply(e,arguments)}function $k(){var e=Sk(gb());return e.copy=function(){return ml(e,$k()).exponent(e.exponent())},Xi.apply(e,arguments)}function Gje(){return $k.apply(null,arguments).exponent(.5)}const HA=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:um,scaleDiverging:YU,scaleDivergingLog:QU,scaleDivergingPow:$k,scaleDivergingSqrt:Gje,scaleDivergingSymlog:XU,scaleIdentity:PU,scaleImplicit:V_,scaleLinear:oy,scaleLog:AU,scaleOrdinal:pk,scalePoint:xh,scalePow:Nk,scaleQuantile:MU,scaleQuantize:$U,scaleRadial:RU,scaleSequential:VU,scaleSequentialLog:KU,scaleSequentialPow:Mk,scaleSequentialQuantile:GU,scaleSequentialSqrt:Hje,scaleSequentialSymlog:HU,scaleSqrt:E0e,scaleSymlog:TU,scaleThreshold:IU,scaleTime:Vje,scaleUtc:Kje,tickFormat:EU},Symbol.toStringTag,{value:"Module"}));var Yje=Zd;function Qje(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!Yje(o):r(o,l)))var l=o,c=i}return c}var JU=Qje;function Xje(e,t){return e>t}var Jje=Xje,Zje=JU,e_e=Jje,t_e=lf;function r_e(e){return e&&e.length?Zje(e,t_e,e_e):void 0}var n_e=r_e;const $o=qt(n_e);function s_e(e,t){return e<t}var a_e=s_e,i_e=JU,o_e=a_e,l_e=lf;function c_e(e){return e&&e.length?i_e(e,l_e,o_e):void 0}var u_e=c_e;const vb=qt(u_e);var d_e=YN,f_e=fl,h_e=oU,m_e=Yn;function p_e(e,t){var r=m_e(e)?d_e:h_e;return r(e,f_e(t))}var g_e=p_e,v_e=aU,y_e=g_e;function x_e(e,t){return v_e(y_e(e,t),1)}var b_e=x_e;const w_e=qt(b_e);var j_e=uk;function __e(e,t){return j_e(e,t)}var S_e=__e;const pm=qt(S_e);var df=1e9,N_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Dk,ir=!0,Fs="[DecimalError] ",Zl=Fs+"Invalid argument: ",Ik=Fs+"Exponent out of range: ",ff=Math.floor,kl=Math.pow,k_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,as,Gr=1e7,tr=7,ZU=9007199254740991,dy=ff(ZU/tr),Ae={};Ae.absoluteValue=Ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ae.comparedTo=Ae.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ae.decimalPlaces=Ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ae.dividedBy=Ae.div=function(e){return Ei(this,new this.constructor(e))};Ae.dividedToIntegerBy=Ae.idiv=function(e){var t=this,r=t.constructor;return Kt(Ei(t,new r(e),0,1),r.precision)};Ae.equals=Ae.eq=function(e){return!this.cmp(e)};Ae.exponent=function(){return Tr(this)};Ae.greaterThan=Ae.gt=function(e){return this.cmp(e)>0};Ae.greaterThanOrEqualTo=Ae.gte=function(e){return this.cmp(e)>=0};Ae.isInteger=Ae.isint=function(){return this.e>this.d.length-2};Ae.isNegative=Ae.isneg=function(){return this.s<0};Ae.isPositive=Ae.ispos=function(){return this.s>0};Ae.isZero=function(){return this.s===0};Ae.lessThan=Ae.lt=function(e){return this.cmp(e)<0};Ae.lessThanOrEqualTo=Ae.lte=function(e){return this.cmp(e)<1};Ae.logarithm=Ae.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(as))throw Error(Fs+"NaN");if(r.s<1)throw Error(Fs+(r.s?"NaN":"-Infinity"));return r.eq(as)?new n(0):(ir=!1,t=Ei(gm(r,i),gm(e,i),i),ir=!0,Kt(t,s))};Ae.minus=Ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rB(t,e):eB(t,(e.s=-e.s,e))};Ae.modulo=Ae.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Fs+"NaN");return r.s?(ir=!1,t=Ei(r,e,0,1).times(e),ir=!0,r.minus(t)):Kt(new n(r),s)};Ae.naturalExponential=Ae.exp=function(){return tB(this)};Ae.naturalLogarithm=Ae.ln=function(){return gm(this)};Ae.negated=Ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ae.plus=Ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?eB(t,e):rB(t,(e.s=-e.s,e))};Ae.precision=Ae.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Zl+e);if(t=Tr(s)+1,n=s.d.length-1,r=n*tr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ae.squareRoot=Ae.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Fs+"NaN")}for(e=Tr(l),ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=Ua(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ff((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ei(l,i,o+2)).times(.5),Ua(i.d).slice(0,o)===(t=Ua(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Kt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ir=!0,Kt(n,r)};Ae.times=Ae.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Gr|0,t=l/Gr|0;i[s]=(i[s]+t)%Gr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ir?Kt(e,f.precision):e};Ae.toDecimalPlaces=Ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Ja(e,0,df),t===void 0?t=n.rounding:Ja(t,0,8),Kt(r,e+Tr(r)+1,t))};Ae.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=vc(n,!0):(Ja(e,0,df),t===void 0?t=s.rounding:Ja(t,0,8),n=Kt(new s(n),e+1,t),r=vc(n,!0,e+1)),r};Ae.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?vc(s):(Ja(e,0,df),t===void 0?t=i.rounding:Ja(t,0,8),n=Kt(new i(s),e+Tr(s)+1,t),r=vc(n.abs(),!1,e+Tr(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ae.toInteger=Ae.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),Tr(e)+1,t.rounding)};Ae.toNumber=function(){return+this};Ae.toPower=Ae.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(as);if(l=new c(l),!l.s){if(e.s<1)throw Error(Fs+"Infinity");return l}if(l.eq(as))return l;if(n=c.precision,e.eq(as))return Kt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=ZU){for(s=new c(as),t=Math.ceil(n/tr+4),ir=!1;r%2&&(s=s.times(l),YA(s.d,t)),r=ff(r/2),r!==0;)l=l.times(l),YA(l.d,t);return ir=!0,e.s<0?new c(as).div(s):Kt(s,n)}}else if(i<0)throw Error(Fs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,s=e.times(gm(l,n+u)),ir=!0,s=tB(s),s.s=i,s};Ae.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Tr(s),n=vc(s,r<=i.toExpNeg||r>=i.toExpPos)):(Ja(e,1,df),t===void 0?t=i.rounding:Ja(t,0,8),s=Kt(new i(s),e,t),r=Tr(s),n=vc(s,e<=r||r<=i.toExpNeg,e)),n};Ae.toSignificantDigits=Ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Ja(e,1,df),t===void 0?t=n.rounding:Ja(t,0,8)),Kt(new n(r),e,t)};Ae.toString=Ae.valueOf=Ae.val=Ae.toJSON=Ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Tr(e),r=e.constructor;return vc(e,t<=r.toExpNeg||t>=r.toExpPos)};function eB(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Kt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/tr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Gr|0,c[i]%=Gr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ir?Kt(t,f):t}function Ja(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Zl+e)}function Ua(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=tr-n.length,r&&(i+=po(r)),i+=n;o=e[t],n=o+"",r=tr-n.length,r&&(i+=po(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ei=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Gr|0,o=i/Gr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Gr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,x,b,v,w,_,j,S,N,k,C=n.constructor,A=n.s==s.s?1:-1,I=n.d,P=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Fs+"Division by zero");for(c=n.e-s.e,N=P.length,j=I.length,m=new C(A),g=m.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+(Tr(n)-Tr(s))+1:v=i,v<0)return new C(0);if(v=v/tr+2|0,u=0,N==1)for(d=0,P=P[0],v++;(u<j||d)&&v--;u++)w=d*Gr+(I[u]||0),g[u]=w/P|0,d=w%P|0;else{for(d=Gr/(P[0]+1)|0,d>1&&(P=e(P,d),I=e(I,d),N=P.length,j=I.length),_=N,p=I.slice(0,N),x=p.length;x<N;)p[x++]=0;k=P.slice(),k.unshift(0),S=P[0],P[1]>=Gr/2&&++S;do d=0,l=t(P,p,N,x),l<0?(b=p[0],N!=x&&(b=b*Gr+(p[1]||0)),d=b/S|0,d>1?(d>=Gr&&(d=Gr-1),f=e(P,d),h=f.length,x=p.length,l=t(f,p,h,x),l==1&&(d--,r(f,N<h?k:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<x&&f.unshift(0),r(p,f,x),l==-1&&(x=p.length,l=t(P,p,N,x),l<1&&(d++,r(p,N<x?k:P,x))),x=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[x++]=I[_]||0:(p=[I[_]],x=1);while((_++<j||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Kt(m,o?i+Tr(m)+1:i)}}();function tB(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if(Tr(e)>16)throw Error(Ik+Tr(e));if(!e.s)return new d(as);for(ir=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(kl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(as),d.precision=l;;){if(s=Kt(s.times(e),l),r=r.times(++c),o=i.plus(Ei(s,r,l)),Ua(o.d).slice(0,l)===Ua(i.d).slice(0,l)){for(;u--;)i=Kt(i.times(i),l);return d.precision=f,t==null?(ir=!0,Kt(i,f)):i}i=o}}function Tr(e){for(var t=e.e*tr,r=e.d[0];r>=10;r/=10)t++;return t}function a0(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error(Fs+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function po(e){for(var t="";e--;)t+="0";return t}function gm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,x=p.precision;if(m.s<1)throw Error(Fs+(m.s?"NaN":"-Infinity"));if(m.eq(as))return new p(0);if(t==null?(ir=!1,u=x):u=t,m.eq(10))return t==null&&(ir=!0),a0(p,u);if(u+=h,p.precision=u,r=Ua(g),n=r.charAt(0),i=Tr(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Ua(m.d),n=r.charAt(0),f++;i=Tr(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=a0(p,u+2,x).times(i+""),m=gm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=x,t==null?(ir=!0,Kt(m,x)):m;for(l=o=m=Ei(m.minus(as),m.plus(as),u),d=Kt(m.times(m),u),s=3;;){if(o=Kt(o.times(d),u),c=l.plus(Ei(o,new p(s),u)),Ua(c.d).slice(0,u)===Ua(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(a0(p,u+2,x).times(i+""))),l=Ei(l,new p(f),u),p.precision=x,t==null?(ir=!0,Kt(l,x)):l;l=c,s+=2}}function GA(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=ff(r/tr),e.d=[],n=(r+1)%tr,r<0&&(n+=tr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=tr;n<s;)e.d.push(+t.slice(n,n+=tr));t=t.slice(n),n=tr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>dy||e.e<-dy))throw Error(Ik+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=tr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/tr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=tr,s=n-tr+o}if(r!==void 0&&(i=kl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/kl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Tr(e),f.length=1,t=t-i-1,f[0]=kl(10,(tr-t%tr)%tr),e.e=ff(-t/tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=kl(10,tr-n),f[d]=s>0?(u/kl(10,o-s)%kl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Gr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Gr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>dy||e.e<-dy))throw Error(Ik+Tr(e));return e}function rB(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Kt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/tr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Gr-1;--c[i],c[s]+=Gr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Kt(t,m):t):new h(0)}function vc(e,t,r){var n,s=Tr(e),i=Ua(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+po(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+po(-s-1)+i,r&&(n=r-o)>0&&(i+=po(n))):s>=o?(i+=po(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+po(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=po(n))),e.s<0?"-"+i:i}function YA(e,t){if(e.length>t)return e.length=t,!0}function nB(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Zl+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return GA(o,i.toString())}else if(typeof i!="string")throw Error(Zl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,k_e.test(i))GA(o,i);else throw Error(Zl+i)}if(s.prototype=Ae,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=nB,s.config=s.set=C_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function C_e(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,r,n,s=["precision",1,df,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(ff(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Zl+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Zl+r+": "+n);return this}var Dk=nB(N_e);as=new Dk(1);const Ut=Dk;function E_e(e){return T_e(e)||A_e(e)||O_e(e)||P_e()}function P_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O_e(e,t){if(e){if(typeof e=="string")return Y_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y_(e,t)}}function A_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function T_e(e){if(Array.isArray(e))return Y_(e)}function Y_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var R_e=function(t){return t},sB={},aB=function(t){return t===sB},QA=function(t){return function r(){return arguments.length===0||arguments.length===1&&aB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},M_e=function e(t,r){return t===1?r:QA(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==sB}).length;return o>=t?r.apply(void 0,s):e(t-o,QA(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return aB(f)?c.shift():f});return r.apply(void 0,E_e(d).concat(c))}))})},yb=function(t){return M_e(t.length,t)},Q_=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},$_e=yb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),I_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return R_e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},X_=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},iB=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function D_e(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function L_e(e,t,r){for(var n=new Ut(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var F_e=yb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),U_e=yb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),B_e=yb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const xb={rangeStep:L_e,getDigitCount:D_e,interpolateNumber:F_e,uninterpolateNumber:U_e,uninterpolateTruncation:B_e};function J_(e){return W_e(e)||z_e(e)||oB(e)||q_e()}function q_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function W_e(e){if(Array.isArray(e))return Z_(e)}function vm(e,t){return H_e(e)||K_e(e,t)||oB(e,t)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oB(e,t){if(e){if(typeof e=="string")return Z_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z_(e,t)}}function Z_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function K_e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function H_e(e){if(Array.isArray(e))return e}function lB(e){var t=vm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function cB(e,t,r){if(e.lte(0))return new Ut(0);var n=xb.getDigitCount(e.toNumber()),s=new Ut(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ut(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ut(Math.ceil(c))}function G_e(e,t,r){var n=1,s=new Ut(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(xb.getDigitCount(e)-1),s=new Ut(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ut(Math.floor(e)))}else e===0?s=new Ut(Math.floor((t-1)/2)):r||(s=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),l=I_e($_e(function(c){return s.add(new Ut(c-o).mul(n)).toNumber()}),Q_);return l(0,t)}function uB(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=cB(new Ut(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ut(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?uB(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ut(l).mul(i)),tickMax:o.add(new Ut(c).mul(i))})}function Y_e(e){var t=vm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=lB([r,n]),c=vm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(J_(Q_(0,s-1).map(function(){return 1/0}))):[].concat(J_(Q_(0,s-1).map(function(){return-1/0})),[d]);return r>n?X_(f):f}if(u===d)return G_e(u,s,i);var h=uB(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,x=xb.rangeStep(g,p.add(new Ut(.1).mul(m)),m);return r>n?X_(x):x}function Q_e(e,t){var r=vm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=lB([n,s]),l=vm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=cB(new Ut(u).sub(c).div(d-1),i,0),h=[].concat(J_(xb.rangeStep(new Ut(c),new Ut(u).sub(new Ut(.99).mul(f)),f)),[u]);return n>s?X_(h):h}var X_e=iB(Y_e),J_e=iB(Q_e),Z_e="Invariant failed";function yc(e,t){throw new Error(Z_e)}var e1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(this,arguments)}function t1e(e,t){return a1e(e)||s1e(e,t)||n1e(e,t)||r1e()}function r1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n1e(e,t){if(e){if(typeof e=="string")return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function a1e(e){if(Array.isArray(e))return e}function i1e(e,t){if(e==null)return{};var r=o1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function l1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hB(n.key),n)}}function u1e(e,t,r){return t&&c1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function d1e(e,t,r){return t=hy(t),f1e(e,dB()?Reflect.construct(t,r||[],hy(e).constructor):t.apply(e,r))}function f1e(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h1e(e)}function h1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dB=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hy(e)}function m1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e1(e,t)}function e1(e,t){return e1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},e1(e,t)}function fB(e,t,r){return t=hB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hB(e){var t=p1e(e,"string");return jd(t)=="symbol"?t:t+""}function p1e(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var bb=function(e){function t(){return l1e(this,t),d1e(this,t,arguments)}return m1e(t,e),u1e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=i1e(n,e1e),m=mt(h,!1);this.props.direction==="x"&&d.type!=="number"&&yc();var g=c.map(function(p){var x=u(p,l),b=x.x,v=x.y,w=x.value,_=x.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=t1e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,A=v+s,I=A+o,P=A-o,q=C(w-S),T=C(w+N);j.push({x1:T,y1:I,x2:T,y2:P}),j.push({x1:q,y1:A,x2:T,y2:A}),j.push({x1:q,y1:I,x2:q,y2:P})}else if(i==="horizontal"){var W=f.scale,L=b+s,K=L-o,D=L+o,M=W(w-S),R=W(w+N);j.push({x1:K,y1:R,x2:D,y2:R}),j.push({x1:L,y1:M,x2:L,y2:R}),j.push({x1:K,y1:M,x2:D,y2:M})}return O.createElement(dr,fy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return O.createElement("line",fy({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return O.createElement(dr,{className:"recharts-errorBars"},g)}}])}(O.Component);fB(bb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fB(bb,"displayName","ErrorBar");function ym(e){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ym(e)}function JA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JA(Object(r),!0).forEach(function(n){g1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g1e(e,t,r){return t=v1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v1e(e){var t=y1e(e,"string");return ym(t)=="symbol"?t:t+""}function y1e(e,t){if(ym(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mB=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=ts(r,Au);if(!o)return null;var l=Au.defaultProps,c=l!==void 0?xl(xl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?xl(xl({},h),f.props):{},g=m.dataKey,p=m.name,x=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||x||"square",color:Lk(f),value:p||g,payload:m}}),xl(xl(xl({},c),Au.getWithHeight(o,s)),{},{payload:u,item:o})};function xm(e){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xm(e)}function ZA(e){return j1e(e)||w1e(e)||b1e(e)||x1e()}function x1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b1e(e,t){if(e){if(typeof e=="string")return t1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t1(e,t)}}function w1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j1e(e){if(Array.isArray(e))return t1(e)}function t1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(r),!0).forEach(function(n){Ru(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ru(e,t,r){return t=_1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _1e(e){var t=S1e(e,"string");return xm(t)=="symbol"?t:t+""}function S1e(e,t){if(xm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ms(e,t,r){return yt(e)||yt(t)?r:Wr(t)?Is(e,t,r):nt(t)?t(e):r}function bh(e,t,r,n){var s=w_e(e,function(l){return ms(l,t)});if(r==="number"){var i=s.filter(function(l){return be(l)||parseFloat(l)});return i.length?[vb(i),$o(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!yt(l)}):s;return o.map(function(l){return Wr(l)||l instanceof Date?l:""})}var N1e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ha(f-d)!==ha(h-f)){var g=[];if(ha(h-f)===ha(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var x=h+c[1]-c[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Lk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},k1e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,x=g.cateAxisId,b=p.filter(function(N){return ki(N.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?yr(yr({},v),b[0].props):b[0].props,_=w.barSize,j=w[x];o[j]||(o[j]=[]);var S=yt(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:yt(S)?void 0:gc(S,n,0)})}}return o},C1e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=gc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,x={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:x.offset+x.size+u,size:h?m:j.barSize}},N=[].concat(ZA(_),[S]);return x=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:x})}),N},f)}else{var b=gc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var v=(s-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(_,j,S){var N=[].concat(ZA(_),[{item:j.item,position:{offset:b+(v+u)*S+(v-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},E1e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=mB({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&be(t[m]))return yr(yr({},t),{},Ru({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&be(t[g]))return yr(yr({},t),{},Ru({},g,t[g]+(h||0)))}return t},P1e=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},pB=function(t,r,n,s,i){var o=r.props.children,l=ya(o,bb).filter(function(u){return P1e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ms(d,n);if(yt(f))return u;var h=Array.isArray(f)?[vb(f),$o(f)]:[f,f],m=c.reduce(function(g,p){var x=ms(d,p,0),b=h[0]-Math.abs(Array.isArray(x)?x[0]:x),v=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},O1e=function(t,r,n,s,i){var o=r.map(function(l){return pB(t,l,n,i,s)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},gB=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&pB(t,c,u,s)||bh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},vB=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},yB=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},_i=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ha(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!sf(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},i0=new WeakMap,ug=function(t,r){if(typeof r!="function")return t;i0.has(t)||i0.set(t,new WeakMap);var n=i0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},A1e=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:um(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:oy(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:xh(),realScaleType:"point"}:i==="category"?{scale:um(),realScaleType:"band"}:{scale:oy(),realScaleType:"linear"};if(pc(s)){var c="scale".concat(sb(s));return{scale:(HA[c]||xh)(),realScaleType:HA[c]?c:"point"}}return nt(s)?{scale:s}:{scale:xh(),realScaleType:"point"}},tT=1e-4,T1e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-tT,o=Math.max(s[0],s[1])+tT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},R1e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},M1e=function(t,r){if(!r||r.length!==2||!be(r[0])||!be(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!be(t[0])||t[0]<n)&&(i[0]=n),(!be(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},$1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=sf(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},I1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=sf(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},D1e={sign:$1e,expand:Jde,none:md,silhouette:Zde,wiggle:efe,positive:I1e},L1e=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=D1e[n],o=Xde().keys(s).value(function(l,c){return+ms(l,c,0)}).order(N_).offset(i);return o(t)},F1e=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yr(yr({},h.type.defaultProps),h.props):h.props,p=g.stackId,x=g.hide;if(x)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(Wr(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[up("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return yr(yr({},f),{},Ru({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,x){var b=m.stackGroups[x];return yr(yr({},p),{},Ru({},x,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:L1e(t,b.items,i)}))},g)}return yr(yr({},f),{},Ru({},h,m))},d)},U1e=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=X_e(u,i,l);return t.domain([vb(d),$o(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=J_e(f,i,l);return{niceTicks:h}}return null};function rT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(s[t.dataKey])){var l=Dv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ms(s,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var nT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ms(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-i/2+s},B1e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},q1e=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Wr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},z1e=function(t){return t.reduce(function(r,n){return[vb(n.concat([r[0]]).filter(be)),$o(n.concat([r[1]]).filter(be))]},[1/0,-1/0])},xB=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=z1e(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},sT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,r1=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(be(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(sT.test(t[0])){var i=+sT.exec(t[0])[1];s[0]=r[0]-i}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(be(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(aT.test(t[1])){var o=+aT.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},my=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=fk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},iT=function(t,r,n){return!t||!t.length||pm(t,Is(n,"type.defaultProps.domain"))?r:t},bB=function(t,r){var n=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yr(yr({},mt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Lk(t),value:ms(r,s),type:c,payload:r,chartType:u,hide:d})};function bm(e){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bm(e)}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){W1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W1e(e,t,r){return t=V1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V1e(e){var t=K1e(e,"string");return bm(t)=="symbol"?t:t+""}function K1e(e,t){if(bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var py=Math.PI/180,H1e=function(t){return t*180/Math.PI},an=function(t,r,n,s){return{x:t+Math.cos(-py*s)*n,y:r+Math.sin(-py*s)*n}},G1e=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},Y1e=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=G1e({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:H1e(u),angleInRadian:u}},Q1e=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},X1e=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},cT=function(t,r){var n=t.x,s=t.y,i=Y1e({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=Q1e(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?lT(lT({},r),{},{radius:o,angle:X1e(m,r)}):null};function wm(e){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(e)}var J1e=["offset"];function Z1e(e){return nSe(e)||rSe(e)||tSe(e)||eSe()}function eSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tSe(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function rSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nSe(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sSe(e,t){if(e==null)return{};var r=aSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function uT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uT(Object(r),!0).forEach(function(n){iSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iSe(e,t,r){return t=oSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oSe(e){var t=lSe(e,"string");return wm(t)=="symbol"?t:t+""}function lSe(e,t){if(wm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jm(){return jm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jm.apply(this,arguments)}var cSe=function(t){var r=t.value,n=t.formatter,s=yt(t.children)?r:t.children;return nt(n)?n(s):s},uSe=function(t,r){var n=ha(r-t),s=Math.min(Math.abs(r-t),360);return n*s},dSe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,x=(f+h)/2,b=uSe(m,g),v=b>=0?1:-1,w,_;s==="insideStart"?(w=m+v*o,_=p):s==="insideEnd"?(w=g-v*o,_=!p):s==="end"&&(w=g+v*o,_=p),_=b<=0?_:!_;var j=an(u,d,x,w),S=an(u,d,x,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=yt(t.id)?up("recharts-radial-line-"):t.id;return O.createElement("text",jm({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),O.createElement("defs",null,O.createElement("path",{id:k,d:N})),O.createElement("textPath",{xlinkHref:"#".concat(k)},r))},fSe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=an(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var x=(c+u)/2,b=an(o,l,x,h),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},hSe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,x=p*s,b=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Ir(Ir({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Ir(Ir({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Ir(Ir({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Ir(Ir({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Ir({x:l+x,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?Ir({x:l+u-x,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Ir({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Ir({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Ir({x:l+x,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideTopRight"?Ir({x:l+u-x,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Ir({x:l+x,y:c+d-h,textAnchor:v,verticalAnchor:m},N):i==="insideBottomRight"?Ir({x:l+u-x,y:c+d-h,textAnchor:b,verticalAnchor:m},N):ef(i)&&(be(i.x)||Il(i.x))&&(be(i.y)||Il(i.y))?Ir({x:l+gc(i.x,u),y:c+gc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Ir({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},mSe=function(t){return"cx"in t&&be(t.cx)};function gn(e){var t=e.offset,r=t===void 0?5:t,n=sSe(e,J1e),s=Ir({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||yt(l)&&yt(c)&&!y.isValidElement(u)&&!nt(u))return null;if(y.isValidElement(u))return y.cloneElement(u,s);var m;if(nt(u)){if(m=y.createElement(u,s),y.isValidElement(m))return m}else m=cSe(s);var g=mSe(i),p=mt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return dSe(s,m,p);var x=g?fSe(s):hSe(s);return O.createElement(Zv,jm({className:jt("recharts-label",f)},p,x,{breakAll:h}),m)}gn.displayName="Label";var wB=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,x=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(be(p)&&be(x)){if(be(f)&&be(h))return{x:f,y:h,width:p,height:x};if(be(m)&&be(g))return{x:m,y:g,width:p,height:x}}return be(f)&&be(h)?{x:f,y:h,width:0,height:0}:be(r)&&be(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},pSe=function(t,r){return t?t===!0?O.createElement(gn,{key:"label-implicit",viewBox:r}):Wr(t)?O.createElement(gn,{key:"label-implicit",viewBox:r,value:t}):y.isValidElement(t)?t.type===gn?y.cloneElement(t,{key:"label-implicit",viewBox:r}):O.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):nt(t)?O.createElement(gn,{key:"label-implicit",content:t,viewBox:r}):ef(t)?O.createElement(gn,jm({viewBox:r},t,{key:"label-implicit"})):null:null},gSe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=wB(t),o=ya(s,gn).map(function(c,u){return y.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=pSe(t.label,r||i);return[l].concat(Z1e(o))};gn.parseViewBox=wB;gn.renderCallByParent=gSe;function vSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var ySe=vSe;const xSe=qt(ySe);function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}var bSe=["valueAccessor"],wSe=["data","dataKey","clockWise","id","textBreakAll"];function jSe(e){return kSe(e)||NSe(e)||SSe(e)||_Se()}function _Se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SSe(e,t){if(e){if(typeof e=="string")return s1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s1(e,t)}}function NSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kSe(e){if(Array.isArray(e))return s1(e)}function s1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(this,arguments)}function dT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(r),!0).forEach(function(n){CSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CSe(e,t,r){return t=ESe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ESe(e){var t=PSe(e,"string");return _m(t)=="symbol"?t:t+""}function PSe(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hT(e,t){if(e==null)return{};var r=OSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function OSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ASe=function(t){return Array.isArray(t.value)?xSe(t.value):t.value};function Qo(e){var t=e.valueAccessor,r=t===void 0?ASe:t,n=hT(e,bSe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=hT(n,wSe);return!s||!s.length?null:O.createElement(dr,{className:"recharts-label-list"},s.map(function(d,f){var h=yt(i)?r(d,f):ms(d&&d.payload,i),m=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return O.createElement(gn,gy({},mt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:gn.parseViewBox(yt(o)?d:fT(fT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Qo.displayName="LabelList";function TSe(e,t){return e?e===!0?O.createElement(Qo,{key:"labelList-implicit",data:t}):O.isValidElement(e)||nt(e)?O.createElement(Qo,{key:"labelList-implicit",data:t,content:e}):ef(e)?O.createElement(Qo,gy({data:t},e,{key:"labelList-implicit"})):null:null}function RSe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=ya(n,Qo).map(function(o,l){return y.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=TSe(e.label,t);return[i].concat(jSe(s))}Qo.renderCallByParent=RSe;function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a1.apply(this,arguments)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){MSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MSe(e,t,r){return t=$Se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Se(e){var t=ISe(e,"string");return Sm(t)=="symbol"?t:t+""}function ISe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DSe=function(t,r){var n=ha(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},dg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/py,h=u?i:i+o*f,m=an(r,n,d,h),g=an(r,n,s,h),p=u?i-o*f:i,x=an(r,n,d*Math.cos(f*py),p);return{center:m,circleTangency:g,lineTangency:x,theta:f}},jB=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=DSe(o,l),u=o+c,d=an(r,n,i,o),f=an(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=an(r,n,s,o),g=an(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},LSe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ha(d-u),h=dg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,x=dg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=x.circleTangency,v=x.lineTangency,w=x.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jB({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var S=dg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,A=dg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=A.circleTangency,P=A.lineTangency,q=A.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-q;if(T<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},FSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},_B=function(t){var r=pT(pT({},FSe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=jt("recharts-sector",h),g=o-i,p=gc(l,g,0,!0),x;return p>0&&Math.abs(d-f)<360?x=LSe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):x=jB({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),O.createElement("path",a1({},mt(r,!0),{className:m,d:x,role:"img"}))};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}function gT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(r),!0).forEach(function(n){USe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function USe(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=qSe(e,"string");return Nm(t)=="symbol"?t:t+""}function qSe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yT={curveBasisClosed:Ude,curveBasisOpen:Bde,curveBasis:Fde,curveBumpX:Nde,curveBumpY:kde,curveLinearClosed:qde,curveLinear:ib,curveMonotoneX:zde,curveMonotoneY:Wde,curveNatural:Vde,curveStep:Kde,curveStepAfter:Gde,curveStepBefore:Hde},fg=function(t){return t.x===+t.x&&t.y===+t.y},Lf=function(t){return t.x},Ff=function(t){return t.y},zSe=function(t,r){if(nt(t))return t;var n="curve".concat(sb(t));return(n==="curveMonotone"||n==="curveBump")&&r?yT["".concat(n).concat(r==="vertical"?"Y":"X")]:yT[n]||ib},WSe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=zSe(n,l),f=u?i.filter(function(p){return fg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return fg(p)}):o,g=f.map(function(p,x){return vT(vT({},p),{},{base:m[x]})});return l==="vertical"?h=rg().y(Ff).x1(Lf).x0(function(p){return p.base.x}):h=rg().x(Lf).y1(Ff).y0(function(p){return p.base.y}),h.defined(fg).curve(d),h(g)}return l==="vertical"&&be(o)?h=rg().y(Ff).x1(Lf).x0(o):be(o)?h=rg().x(Lf).y1(Ff).y0(o):h=S5().x(Lf).y(Ff),h.defined(fg).curve(d),h(f)},wh=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?WSe(t):s;return y.createElement("path",i1({},mt(t,!1),Lv(t),{className:jt("recharts-curve",r),d:o,ref:i}))},SB={exports:{}},VSe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",KSe=VSe,HSe=KSe;function NB(){}function kB(){}kB.resetWarningCache=NB;var GSe=function(){function e(n,s,i,o,l,c){if(c!==HSe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kB,resetWarningCache:NB};return r.PropTypes=r,r};SB.exports=GSe();var YSe=SB.exports;const Tt=qt(YSe),{getOwnPropertyNames:QSe,getOwnPropertySymbols:XSe}=Object,{hasOwnProperty:JSe}=Object.prototype;function o0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function hg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function ZSe(e){return e!=null?e[Symbol.toStringTag]:void 0}function xT(e){return QSe(e).concat(XSe(e))}const eNe=Object.hasOwn||((e,t)=>JSe.call(e,t));function Ac(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const tNe="__v",rNe="__o",nNe="_owner",{getOwnPropertyDescriptor:bT,keys:wT}=Object;function sNe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e),new Uint8Array(t))}function aNe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function iNe(e,t){return e.byteLength===t.byteLength&&vy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function oNe(e,t){return Ac(e.getTime(),t.getTime())}function lNe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function cNe(e,t){return e===t}function jT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const uNe=Ac;function dNe(e,t,r){const n=wT(e);let s=n.length;if(wT(t).length!==s)return!1;for(;s-- >0;)if(!CB(e,t,r,n[s]))return!1;return!0}function Uf(e,t,r){const n=xT(e);let s=n.length;if(xT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!CB(e,t,r,i)||(o=bT(e,i),l=bT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function fNe(e,t){return Ac(e.valueOf(),t.valueOf())}function hNe(e,t){return e.source===t.source&&e.flags===t.flags}function _T(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function vy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function mNe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function CB(e,t,r,n){return(n===nNe||n===rNe||n===tNe)&&(e.$$typeof||t.$$typeof)?!0:eNe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const pNe="[object ArrayBuffer]",gNe="[object Arguments]",vNe="[object Boolean]",yNe="[object DataView]",xNe="[object Date]",bNe="[object Error]",wNe="[object Map]",jNe="[object Number]",_Ne="[object Object]",SNe="[object RegExp]",NNe="[object Set]",kNe="[object String]",CNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},ENe="[object URL]",PNe=Object.prototype.toString;function ONe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(x,b,v){if(x===b)return!0;if(x==null||b==null)return!1;const w=typeof x;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(x,b,v):w==="function"?i(x,b,v):!1;const _=x.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(x,b,v);if(Array.isArray(x))return t(x,b,v);if(_===Date)return n(x,b,v);if(_===RegExp)return d(x,b,v);if(_===Map)return o(x,b,v);if(_===Set)return f(x,b,v);const j=PNe.call(x);if(j===xNe)return n(x,b,v);if(j===SNe)return d(x,b,v);if(j===wNe)return o(x,b,v);if(j===NNe)return f(x,b,v);if(j===_Ne)return typeof x.then!="function"&&typeof b.then!="function"&&c(x,b,v);if(j===ENe)return m(x,b,v);if(j===bNe)return s(x,b,v);if(j===gNe)return c(x,b,v);if(CNe[j])return h(x,b,v);if(j===pNe)return e(x,b,v);if(j===yNe)return r(x,b,v);if(j===vNe||j===jNe||j===kNe)return u(x,b,v);if(g){let S=g[j];if(!S){const N=ZSe(x);N&&(S=g[N])}if(S)return S(x,b,v)}return!1}}function ANe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:sNe,areArraysEqual:r?Uf:aNe,areDataViewsEqual:iNe,areDatesEqual:oNe,areErrorsEqual:lNe,areFunctionsEqual:cNe,areMapsEqual:r?o0(jT,Uf):jT,areNumbersEqual:uNe,areObjectsEqual:r?Uf:dNe,arePrimitiveWrappersEqual:fNe,areRegExpsEqual:hNe,areSetsEqual:r?o0(_T,Uf):_T,areTypedArraysEqual:r?o0(vy,Uf):vy,areUrlsEqual:mNe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=hg(n.areArraysEqual),i=hg(n.areMapsEqual),o=hg(n.areObjectsEqual),l=hg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function TNe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function RNe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const MNe=pl();pl({strict:!0});pl({circular:!0});pl({circular:!0,strict:!0});pl({createInternalComparator:()=>Ac});pl({strict:!0,createInternalComparator:()=>Ac});pl({circular:!0,createInternalComparator:()=>Ac});pl({circular:!0,createInternalComparator:()=>Ac,strict:!0});function pl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=ANe(e),o=ONe(i),l=r?r(o):TNe(o);return RNe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function $Ne(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function ST(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):$Ne(s)};requestAnimationFrame(n)}function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}function INe(e){return UNe(e)||FNe(e)||LNe(e)||DNe()}function DNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LNe(e,t){if(e){if(typeof e=="string")return NT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NT(e,t)}}function NT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function FNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function UNe(e){if(Array.isArray(e))return e}function BNe(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=INe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){ST(s.bind(null,u),c);return}s(c),ST(s.bind(null,u));return}o1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function km(e){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},km(e)}function kT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function CT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return t=qNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qNe(e){var t=zNe(e,"string");return km(t)==="symbol"?t:String(t)}function zNe(e,t){if(km(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(km(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WNe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},VNe=function(t){return t},KNe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},jh=function(t,r){return Object.keys(r).reduce(function(n,s){return CT(CT({},n),{},EB({},s,t(s,r[s])))},{})},ET=function(t,r,n){return t.map(function(s){return"".concat(KNe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function HNe(e,t){return QNe(e)||YNe(e,t)||PB(e,t)||GNe()}function GNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function QNe(e){if(Array.isArray(e))return e}function XNe(e){return eke(e)||ZNe(e)||PB(e)||JNe()}function JNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PB(e,t){if(e){if(typeof e=="string")return l1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l1(e,t)}}function ZNe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eke(e){if(Array.isArray(e))return l1(e)}function l1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var yy=1e-4,OB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},AB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},PT=function(t,r){return function(n){var s=OB(t,r);return AB(s,n)}},tke=function(t,r){return function(n){var s=OB(t,r),i=[].concat(XNe(s.map(function(o,l){return o*l}).slice(1)),[0]);return AB(i,n)}},OT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),d=HNe(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=PT(s,o),h=PT(i,l),m=tke(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,_=0;_<8;++_){var j=f(w)-v,S=m(w);if(Math.abs(j-v)<yy||S<yy)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},rke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,x=h*l/1e3+d;return Math.abs(x-f)<yy&&Math.abs(p)<yy?[f,0]:[x,p]};return c.isStepper=!0,c.dt=l,c},nke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return OT(s);case"spring":return rke();default:if(s.split("(")[0]==="cubic-bezier")return OT(s)}return typeof s=="function"?s:null};function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}function AT(e){return ike(e)||ake(e)||TB(e)||ske()}function ske(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ake(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ike(e){if(Array.isArray(e))return u1(e)}function TT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TT(Object(r),!0).forEach(function(n){c1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c1(e,t,r){return t=oke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oke(e){var t=lke(e,"string");return Cm(t)==="symbol"?t:String(t)}function lke(e,t){if(Cm(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cke(e,t){return fke(e)||dke(e,t)||TB(e,t)||uke()}function uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TB(e,t){if(e){if(typeof e=="string")return u1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u1(e,t)}}function u1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fke(e){if(Array.isArray(e))return e}var xy=function(t,r,n){return t+(r-t)*n},d1=function(t){var r=t.from,n=t.to;return r!==n},hke=function e(t,r,n){var s=jh(function(i,o){if(d1(o)){var l=t(o.from,o.to,o.velocity),c=cke(l,2),u=c[0],d=c[1];return rn(rn({},o),{},{from:u,velocity:d})}return o},r);return n<1?jh(function(i,o){return d1(o)?rn(rn({},o),{},{velocity:xy(o.velocity,s[i].velocity,n),from:xy(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const mke=function(e,t,r,n,s){var i=WNe(e,t),o=i.reduce(function(x,b){return rn(rn({},x),{},c1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(x,b){return rn(rn({},x),{},c1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return jh(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(d1).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=hke(r,l,w),s(rn(rn(rn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,w=jh(function(j,S){return xy.apply(void 0,AT(S).concat([r(v)]))},o);if(s(rn(rn(rn({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var _=jh(function(j,S){return xy.apply(void 0,AT(S).concat([r(1)]))},o);s(rn(rn(rn({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}var pke=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function gke(e,t){if(e==null)return{};var r=vke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vke(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function l0(e){return wke(e)||bke(e)||xke(e)||yke()}function yke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xke(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function bke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wke(e){if(Array.isArray(e))return f1(e)}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){rh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rh(e,t,r){return t=RB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RB(n.key),n)}}function Ske(e,t,r){return t&&_ke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RB(e){var t=Nke(e,"string");return _d(t)==="symbol"?t:String(t)}function Nke(e,t){if(_d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h1(e,t)}function h1(e,t){return h1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},h1(e,t)}function Cke(e){var t=Eke();return function(){var n=by(e),s;if(t){var i=by(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return m1(this,s)}}function m1(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return p1(e)}function p1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}var qi=function(e){kke(r,e);var t=Cke(r);function r(n,s){var i;jke(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(p1(i)),i.changeStyle=i.changeStyle.bind(p1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),m1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},m1(i);i.state={style:c?rh({},c,u):u}}else i.state={style:{}};return i}return Ske(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?rh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(MNe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var x={style:c?rh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(x)}this.runAnimation(Zs(Zs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=mke(o,l,nke(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,x,b){if(b===0)return p;var v=x.duration,w=x.easing,_=w===void 0?"ease":w,j=x.style,S=x.properties,N=x.onAnimationEnd,k=b>0?o[b-1]:x,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(l0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:v,easing:_}),v]);var A=ET(C,v,_),I=Zs(Zs(Zs({},k.style),j),{},{transition:A});return[].concat(l0(p),[I,v,N]).filter(VNe)};return this.manager.start([c].concat(l0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=BNe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?rh({},l,c):c,x=ET(Object.keys(p),o,u);g.start([d,i,Zs(Zs({},p),{},{transition:x}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=gke(s,pke),u=y.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,x=p===void 0?{}:p,b=g.className,v=y.cloneElement(m,Zs(Zs({},c),{},{style:Zs(Zs({},x),d),className:b}));return v};return u===1?f(y.Children.only(i)):O.createElement("div",null,y.Children.map(i,function(h){return f(h)}))}}]),r}(y.PureComponent);qi.displayName="Animate";qi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qi.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(this,arguments)}function Pke(e,t){return Rke(e)||Tke(e,t)||Ake(e,t)||Oke()}function Oke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ake(e,t){if(e){if(typeof e=="string")return MT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MT(e,t)}}function MT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Rke(e){if(Array.isArray(e))return e}function $T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function IT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(r),!0).forEach(function(n){Mke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mke(e,t,r){return t=$ke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ke(e){var t=Ike(e,"string");return Em(t)=="symbol"?t:t+""}function Ike(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DT=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},Dke=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},Lke={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Fk=function(t){var r=IT(IT({},Lke),t),n=y.useRef(),s=y.useState(-1),i=Pke(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=jt("recharts-rectangle",m);return v?O.createElement(qi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return O.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,isActive:b,easing:g},O.createElement("path",wy({},mt(r,!0),{className:w,d:DT(N,k,j,S,h),ref:n})))}):O.createElement("path",wy({},mt(r,!0),{className:w,d:DT(c,u,d,f,h)}))};function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g1.apply(this,arguments)}var Uk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=jt("recharts-dot",i);return r===+r&&n===+n&&s===+s?y.createElement("circle",g1({},mt(t,!1),Lv(t),{className:o,cx:r,cy:n,r:s})):null};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}var Fke=["x","y","top","left","width","height","className"];function v1(){return v1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1.apply(this,arguments)}function LT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LT(Object(r),!0).forEach(function(n){Bke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bke(e,t,r){return t=qke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qke(e){var t=zke(e,"string");return Pm(t)=="symbol"?t:t+""}function zke(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wke(e,t){if(e==null)return{};var r=Vke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Vke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Kke=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},Hke=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=Wke(t,Fke),x=Uke({x:n,y:i,top:l,left:u,width:f,height:m},p);return!be(n)||!be(i)||!be(f)||!be(m)||!be(l)||!be(u)?null:O.createElement("path",v1({},mt(x,!0),{className:jt("recharts-cross",g),d:Kke(n,i,f,m,l,u)}))},Gke=G5,Yke=Gke(Object.getPrototypeOf,Object),Qke=Yke,Xke=Yi,Jke=Qke,Zke=Qi,eCe="[object Object]",tCe=Function.prototype,rCe=Object.prototype,MB=tCe.toString,nCe=rCe.hasOwnProperty,sCe=MB.call(Object);function aCe(e){if(!Zke(e)||Xke(e)!=eCe)return!1;var t=Jke(e);if(t===null)return!0;var r=nCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MB.call(r)==sCe}var iCe=aCe;const oCe=qt(iCe);var lCe=Yi,cCe=Qi,uCe="[object Boolean]";function dCe(e){return e===!0||e===!1||cCe(e)&&lCe(e)==uCe}var fCe=dCe;const hCe=qt(fCe);function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(this,arguments)}function mCe(e,t){return yCe(e)||vCe(e,t)||gCe(e,t)||pCe()}function pCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gCe(e,t){if(e){if(typeof e=="string")return FT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FT(e,t)}}function FT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yCe(e){if(Array.isArray(e))return e}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function BT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){xCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xCe(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return Om(t)=="symbol"?t:t+""}function wCe(e,t){if(Om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},jCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_Ce=function(t){var r=BT(BT({},jCe),t),n=y.useRef(),s=y.useState(-1),i=mCe(s,2),o=i[0],l=i[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,x=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=jt("recharts-trapezoid",m);return b?O.createElement(qi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return O.createElement(qi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:p,easing:g},O.createElement("path",jy({},mt(r,!0),{className:v,d:qT(N,k,_,j,S),ref:n})))}):O.createElement("g",null,O.createElement("path",jy({},mt(r,!0),{className:v,d:qT(c,u,d,f,h)})))},SCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function NCe(e,t){if(e==null)return{};var r=kCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zT(Object(r),!0).forEach(function(n){CCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CCe(e,t,r){return t=ECe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ECe(e){var t=PCe(e,"string");return Am(t)=="symbol"?t:t+""}function PCe(e,t){if(Am(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OCe(e,t){return _y(_y({},t),e)}function ACe(e,t){return e==="symbols"}function WT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return O.createElement(Fk,r);case"trapezoid":return O.createElement(_Ce,r);case"sector":return O.createElement(_B,r);case"symbols":if(ACe(t))return O.createElement(sk,r);break;default:return null}}function TCe(e){return y.isValidElement(e)?e.props:e}function RCe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?OCe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=NCe(e,SCe),u;if(y.isValidElement(t))u=y.cloneElement(t,_y(_y({},c),TCe(t)));else if(nt(t))u=t(c);else if(oCe(t)&&!hCe(t)){var d=s(t,c);u=O.createElement(WT,{shapeType:r,elementProps:d})}else{var f=c;u=O.createElement(WT,{shapeType:r,elementProps:f})}return l?O.createElement(dr,{className:o},u):u}function wb(e,t){return t!=null&&"trapezoids"in e.props}function jb(e,t){return t!=null&&"sectors"in e.props}function Tm(e,t){return t!=null&&"points"in e.props}function MCe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function $Ce(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ICe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function DCe(e,t){var r;return wb(e,t)?r=MCe:jb(e,t)?r=$Ce:Tm(e,t)&&(r=ICe),r}function LCe(e,t){var r;return wb(e,t)?r="trapezoids":jb(e,t)?r="sectors":Tm(e,t)&&(r="points"),r}function FCe(e,t){if(wb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(jb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Tm(e,t)?t.payload:{}}function UCe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=LCe(r,t),i=FCe(r,t),o=n.filter(function(c,u){var d=pm(i,c),f=r.props[s].filter(function(g){var p=DCe(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var BCe=Math.ceil,qCe=Math.max;function zCe(e,t,r,n){for(var s=-1,i=qCe(BCe((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var WCe=zCe,VCe=hU,VT=1/0,KCe=17976931348623157e292;function HCe(e){if(!e)return e===0?e:0;if(e=VCe(e),e===VT||e===-VT){var t=e<0?-1:1;return t*KCe}return e===e?e:0}var $B=HCe,GCe=WCe,YCe=ub,c0=$B;function QCe(e){return function(t,r,n){return n&&typeof n!="number"&&YCe(t,r,n)&&(r=n=void 0),t=c0(t),r===void 0?(r=t,t=0):r=c0(r),n=n===void 0?t<r?1:-1:c0(n),GCe(t,r,n,e)}}var XCe=QCe,JCe=XCe,ZCe=JCe(),e2e=ZCe;const Sy=qt(e2e);function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}function KT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function HT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(r),!0).forEach(function(n){IB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IB(e,t,r){return t=t2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t2e(e){var t=r2e(e,"string");return Rm(t)=="symbol"?t:t+""}function r2e(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n2e=["Webkit","Moz","O","ms"],s2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=n2e.reduce(function(i,o){return HT(HT({},i),{},IB({},o+n,r))},{});return s[t]=r,s};function Sd(e){"@babel/helpers - typeof";return Sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sd(e)}function Ny(){return Ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ny.apply(this,arguments)}function GT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GT(Object(r),!0).forEach(function(n){Zn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LB(n.key),n)}}function i2e(e,t,r){return t&&YT(e.prototype,t),r&&YT(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function o2e(e,t,r){return t=ky(t),l2e(e,DB()?Reflect.construct(t,r||[],ky(e).constructor):t.apply(e,r))}function l2e(e,t){if(t&&(Sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return c2e(e)}function c2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DB=function(){return!!e})()}function ky(e){return ky=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ky(e)}function u2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y1(e,t)}function y1(e,t){return y1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},y1(e,t)}function Zn(e,t,r){return t=LB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LB(e){var t=d2e(e,"string");return Sd(t)=="symbol"?t:t+""}function d2e(e,t){if(Sd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var f2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=xh().domain(Sy(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},QT=function(t){return t.changedTouches&&!!t.changedTouches.length},Nd=function(e){function t(r){var n;return a2e(this,t),n=o2e(this,t,[r]),Zn(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Zn(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Zn(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Zn(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Zn(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Zn(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Zn(n,"handleSlideDragStart",function(s){var i=QT(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return u2e(t,e),i2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ms(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var x=this.getIndex({startX:o+p,endX:l+p});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=QT(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,x=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var k=x.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(Zn(Zn({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(Zn({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return O.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=y.Children.only(u);return f?O.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,x=c.endIndex,b=Math.max(n,this.props.x),v=u0(u0({},mt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return O.createElement(dr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return O.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return O.createElement(dr,{className:"recharts-brush-texts"},O.createElement(Zv,Ny({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),O.createElement(Zv,Ny({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,x=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!be(l)||!be(c)||!be(u)||!be(d)||u<=0||d<=0)return null;var w=jt("recharts-brush",i),_=O.Children.count(o)===1,j=s2e("userSelect","none");return O.createElement(dr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||x||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return O.createElement(O.Fragment,null,O.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),O.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),O.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return O.isValidElement(n)?i=O.cloneElement(n,s):nt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return u0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?f2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(y.PureComponent);Zn(Nd,"displayName","Brush");Zn(Nd,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var h2e=dk;function m2e(e,t){var r;return h2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var p2e=m2e,g2e=U5,v2e=fl,y2e=p2e,x2e=Yn,b2e=ub;function w2e(e,t,r){var n=x2e(e)?g2e:y2e;return r&&b2e(e,t,r)&&(t=void 0),n(e,v2e(t))}var j2e=w2e;const _2e=qt(j2e);var Ya=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},XT=lU;function S2e(e,t,r){t=="__proto__"&&XT?XT(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var N2e=S2e,k2e=N2e,C2e=iU,E2e=fl;function P2e(e,t){var r={};return t=E2e(t),C2e(e,function(n,s,i){k2e(r,s,t(n,s,i))}),r}var O2e=P2e;const A2e=qt(O2e);function T2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var R2e=T2e,M2e=dk;function $2e(e,t){var r=!0;return M2e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var I2e=$2e,D2e=R2e,L2e=I2e,F2e=fl,U2e=Yn,B2e=ub;function q2e(e,t,r){var n=U2e(e)?D2e:L2e;return r&&B2e(e,t,r)&&(t=void 0),n(e,F2e(t))}var z2e=q2e;const FB=qt(z2e);var W2e=["x","y"];function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x1.apply(this,arguments)}function JT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(r),!0).forEach(function(n){V2e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V2e(e,t,r){return t=K2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K2e(e){var t=H2e(e,"string");return Mm(t)=="symbol"?t:t+""}function H2e(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G2e(e,t){if(e==null)return{};var r=Y2e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y2e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Q2e(e,t){var r=e.x,n=e.y,s=G2e(e,W2e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Bf(Bf(Bf(Bf(Bf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function ZT(e){return O.createElement(RCe,x1({shapeType:"rectangle",propTransformer:Q2e,activeClassName:"recharts-active-bar"},e))}var X2e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=be(n)||uue(n);return i?t(n,s):(i||yc(),r)}},J2e=["value","background"],UB;function kd(e){"@babel/helpers - typeof";return kd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kd(e)}function Z2e(e,t){if(e==null)return{};var r=eEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(this,arguments)}function eR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(r),!0).forEach(function(n){Io(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qB(n.key),n)}}function rEe(e,t,r){return t&&tR(e.prototype,t),r&&tR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nEe(e,t,r){return t=Ey(t),sEe(e,BB()?Reflect.construct(t,r||[],Ey(e).constructor):t.apply(e,r))}function sEe(e,t){if(t&&(kd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aEe(e)}function aEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BB=function(){return!!e})()}function Ey(e){return Ey=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ey(e)}function iEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b1(e,t)}function b1(e,t){return b1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},b1(e,t)}function Io(e,t,r){return t=qB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=oEe(e,"string");return kd(t)=="symbol"?t:t+""}function oEe(e,t){if(kd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Tc=function(e){function t(){var r;tEe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=nEe(this,t,[].concat(s)),Io(r,"state",{isAnimationFinished:!1}),Io(r,"id",up("recharts-bar-")),Io(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Io(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return iEe(t,e),rEe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Nr(Nr(Nr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return O.createElement(dr,Cy({className:"recharts-bar-rectangle"},Fv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),O.createElement(ZT,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return O.createElement(qi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(x,b){var v=h&&h[b];if(v){var w=ks(v.x,x.x),_=ks(v.y,x.y),j=ks(v.width,x.width),S=ks(v.height,x.height);return Nr(Nr({},x),{},{x:w(g),y:_(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=ks(0,x.height),k=N(g);return Nr(Nr({},x),{},{y:x.y+x.height-k,height:k})}var C=ks(0,x.width),A=C(g);return Nr(Nr({},x),{},{width:A})});return O.createElement(dr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!pm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=mt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=Z2e(u,J2e);if(!f)return null;var m=Nr(Nr(Nr(Nr(Nr({},h),{},{fill:"#eee"},f),c),Fv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return O.createElement(ZT,Cy({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=ya(d,bb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,b){var v=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:v,errorVal:ms(x,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return O.createElement(dr,g,f.map(function(p){return O.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var x=this.state.isAnimationFinished,b=jt("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=v||w,j=yt(p)?this.id:p;return O.createElement(dr,{className:b},v||w?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(j)},O.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,O.createElement(dr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||x)&&Qo.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(y.PureComponent);UB=Tc;Io(Tc,"displayName","Bar");Io(Tc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!cf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Io(Tc,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=R1e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,x=p!==void 0?Nr(Nr({},p),r.props):r.props,b=x.dataKey,v=x.children,w=x.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,S=B1e({numericAxis:_}),N=ya(v,pU),k=f.map(function(C,A){var I,P,q,T,W,L;u?I=M1e(u[d+A],j):(I=ms(C,b),Array.isArray(I)||(I=[S,I]));var K=X2e(w,UB.defaultProps.minPointSize)(I[1],A);if(g==="horizontal"){var D,M=[o.scale(I[0]),o.scale(I[1])],R=M[0],ee=M[1];P=nT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:A}),q=(D=ee??R)!==null&&D!==void 0?D:void 0,T=m.size;var $=R-ee;if(W=Number.isNaN($)?0:$,L={x:P,y:o.y,width:T,height:o.height},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var ie=ha(W||K)*(Math.abs(K)-Math.abs(W));q-=ie,W+=ie}}else{var he=[i.scale(I[0]),i.scale(I[1])],We=he[0],Ve=he[1];if(P=We,q=nT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:A}),T=Ve-We,W=m.size,L={x:i.x,y:q,width:i.width,height:W},Math.abs(K)>0&&Math.abs(T)<Math.abs(K)){var ue=ha(T||K)*(Math.abs(K)-Math.abs(T));T+=ue}}return Nr(Nr(Nr({},C),{},{x:P,y:q,width:T,height:W,value:u?I:I[1],payload:C,background:L},N&&N[A]&&N[A].props),{},{tooltipPayload:[bB(r,C)],tooltipPosition:{x:P+T/2,y:q+W/2}})});return Nr({data:k,layout:g},h)});function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function lEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zB(n.key),n)}}function cEe(e,t,r){return t&&rR(e.prototype,t),r&&rR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){_b(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _b(e,t,r){return t=zB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zB(e){var t=uEe(e,"string");return $m(t)=="symbol"?t:t+""}function uEe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!ts(u,Tc);return d.reduce(function(m,g){var p=r[g],x=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,_=p.mirror,j=p.reversed,S="".concat(x).concat(_?"Mirror":""),N,k,C,A,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=b[1]-b[0],q=1/0,T=p.categoricalDomain.sort(hue);if(T.forEach(function(he,We){We>0&&(q=Math.min((he||0)-(T[We-1]||0),q))}),Number.isFinite(q)){var W=q/P,L=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=W*L/2),p.padding==="no-gap"){var K=gc(t.barCategoryGap,W*L),D=W*L/2;N=D-K-(D-K)/L*K}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var M=A1e(p,i,h),R=M.scale,ee=M.realScaleType;R.domain(b).range(k),T1e(R);var $=U1e(R,la(la({},p),{},{realScaleType:ee}));s==="xAxis"?(I=x==="top"&&!_||x==="bottom"&&_,C=n.left,A=f[S]-I*p.height):s==="yAxis"&&(I=x==="left"&&!_||x==="right"&&_,C=f[S]-I*p.width,A=n.top);var ie=la(la(la({},p),$),{},{realScaleType:ee,x:C,y:A,scale:R,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ie.bandSize=my(ie,$),!p.hide&&s==="xAxis"?f[S]+=(I?-1:1)*ie.height:p.hide||(f[S]+=(I?-1:1)*ie.width),la(la({},m),{},_b({},g,ie))},{})},VB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},dEe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return VB({x:r,y:n},{x:s,y:i})},KB=function(){function e(t){lEe(this,e),this.scale=t}return cEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();_b(KB,"EPS",1e-4);var Bk=function(t){var r=Object.keys(t).reduce(function(n,s){return la(la({},n),{},_b({},s,KB.create(t[s])))},{});return la(la({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return A2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return FB(s,function(i,o){return r[o].isInRange(i)})}})};function fEe(e){return(e%180+180)%180}var hEe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=fEe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},mEe=fl,pEe=dp,gEe=lb;function vEe(e){return function(t,r,n){var s=Object(t);if(!pEe(t)){var i=mEe(r);t=gEe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var yEe=vEe,xEe=$B;function bEe(e){var t=xEe(e),r=t%1;return t===t?r?t-r:t:0}var wEe=bEe,jEe=eU,_Ee=fl,SEe=wEe,NEe=Math.max;function kEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:SEe(r);return s<0&&(s=NEe(n+s,0)),jEe(e,_Ee(t),s)}var CEe=kEe,EEe=yEe,PEe=CEe,OEe=EEe(PEe),AEe=OEe;const TEe=qt(AEe);var REe=gce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),qk=y.createContext(void 0),zk=y.createContext(void 0),HB=y.createContext(void 0),GB=y.createContext({}),YB=y.createContext(void 0),QB=y.createContext(0),XB=y.createContext(0),sR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=REe(i);return O.createElement(qk.Provider,{value:n},O.createElement(zk.Provider,{value:s},O.createElement(GB.Provider,{value:i},O.createElement(HB.Provider,{value:d},O.createElement(YB.Provider,{value:o},O.createElement(QB.Provider,{value:u},O.createElement(XB.Provider,{value:c},l)))))))},MEe=function(){return y.useContext(YB)},JB=function(t){var r=y.useContext(qk);r==null&&yc();var n=r[t];return n==null&&yc(),n},$Ee=function(){var t=y.useContext(qk);return wo(t)},IEe=function(){var t=y.useContext(zk),r=TEe(t,function(n){return FB(n.domain,Number.isFinite)});return r||wo(t)},ZB=function(t){var r=y.useContext(zk);r==null&&yc();var n=r[t];return n==null&&yc(),n},DEe=function(){var t=y.useContext(HB);return t},LEe=function(){return y.useContext(GB)},Wk=function(){return y.useContext(XB)},Vk=function(){return y.useContext(QB)};function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function FEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UEe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,t6(n.key),n)}}function BEe(e,t,r){return t&&UEe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qEe(e,t,r){return t=Py(t),zEe(e,e6()?Reflect.construct(t,r||[],Py(e).constructor):t.apply(e,r))}function zEe(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WEe(e)}function WEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function e6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(e6=function(){return!!e})()}function Py(e){return Py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Py(e)}function VEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w1(e,t)}function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w1(e,t)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){Kk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kk(e,t,r){return t=t6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t6(e){var t=KEe(e,"string");return Cd(t)=="symbol"?t:t+""}function KEe(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function HEe(e,t){return XEe(e)||QEe(e,t)||YEe(e,t)||GEe()}function GEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YEe(e,t){if(e){if(typeof e=="string")return oR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oR(e,t)}}function oR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QEe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function XEe(e){if(Array.isArray(e))return e}function j1(){return j1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j1.apply(this,arguments)}var JEe=function(t,r){var n;return O.isValidElement(t)?n=O.cloneElement(t,r):nt(t)?n=t(r):n=O.createElement("line",j1({},r,{className:"recharts-reference-line-line"})),n},ZEe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Ya(u,"discard")&&!t.y.isInRange(p))return null;var x=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?x.reverse():x}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(Ya(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Ya(u,"discard")&&_2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function ePe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=MEe(),d=JB(s),f=ZB(i),h=DEe();if(!u||!h)return null;Ci(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Bk({x:d.scale,y:f.scale}),g=Wr(t),p=Wr(r),x=n&&n.length===2,b=ZEe(m,g,p,x,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=HEe(b,2),w=v[0],_=w.x,j=w.y,S=v[1],N=S.x,k=S.y,C=Ya(e,"hidden")?"url(#".concat(u,")"):void 0,A=iR(iR({clipPath:C},mt(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return O.createElement(dr,{className:jt("recharts-reference-line",l)},JEe(o,A),gn.renderCallByParent(e,dEe({x1:_,y1:j,x2:N,y2:k})))}var Hk=function(e){function t(){return FEe(this,t),qEe(this,t,arguments)}return VEe(t,e),BEe(t,[{key:"render",value:function(){return O.createElement(ePe,this.props)}}])}(O.Component);Kk(Hk,"displayName","ReferenceLine");Kk(Hk,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function _1(){return _1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_1.apply(this,arguments)}function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Sb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n6(n.key),n)}}function nPe(e,t,r){return t&&rPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sPe(e,t,r){return t=Oy(t),aPe(e,r6()?Reflect.construct(t,r||[],Oy(e).constructor):t.apply(e,r))}function aPe(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iPe(e)}function iPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function r6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r6=function(){return!!e})()}function Oy(e){return Oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Oy(e)}function oPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&S1(e,t)}function S1(e,t){return S1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},S1(e,t)}function Sb(e,t,r){return t=n6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n6(e){var t=lPe(e,"string");return Ed(t)=="symbol"?t:t+""}function lPe(e,t){if(Ed(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cPe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Bk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ya(t,"discard")&&!o.isInRange(l)?null:l},Nb=function(e){function t(){return tPe(this,t),sPe(this,t,arguments)}return oPe(t,e),nPe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Wr(s),d=Wr(i);if(Ci(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=cPe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,x=g.className,b=Ya(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=cR(cR({clipPath:b},mt(this.props,!0)),{},{cx:h,cy:m});return O.createElement(dr,{className:jt("recharts-reference-dot",x)},t.renderDot(p,v),gn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(O.Component);Sb(Nb,"displayName","ReferenceDot");Sb(Nb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Sb(Nb,"renderDot",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):nt(e)?r=e(t):r=O.createElement(Uk,_1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){kb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a6(n.key),n)}}function fPe(e,t,r){return t&&dPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hPe(e,t,r){return t=Ay(t),mPe(e,s6()?Reflect.construct(t,r||[],Ay(e).constructor):t.apply(e,r))}function mPe(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pPe(e)}function pPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s6=function(){return!!e})()}function Ay(e){return Ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ay(e)}function gPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(e,t)}function kb(e,t,r){return t=a6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a6(e){var t=vPe(e,"string");return Pd(t)=="symbol"?t:t+""}function vPe(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var yPe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Bk({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Ya(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:VB(m,g)},Cb=function(e){function t(){return uPe(this,t),hPe(this,t,arguments)}return gPe(t,e),fPe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ci(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Wr(s),h=Wr(i),m=Wr(o),g=Wr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var x=yPe(f,h,m,g,this.props);if(!x&&!p)return null;var b=Ya(this.props,"hidden")?"url(#".concat(d,")"):void 0;return O.createElement(dr,{className:jt("recharts-reference-area",c)},t.renderRect(p,dR(dR({clipPath:b},mt(this.props,!0)),x)),gn.renderCallByParent(this.props,x))}}])}(O.Component);kb(Cb,"displayName","ReferenceArea");kb(Cb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});kb(Cb,"renderRect",function(e,t){var r;return O.isValidElement(e)?r=O.cloneElement(e,t):nt(e)?r=e(t):r=O.createElement(Fk,N1({},t,{className:"recharts-reference-area-rect"})),r});function i6(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function xPe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return hEe(n,r)}function bPe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Ty(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function wPe(e,t){return i6(e,t+1)}function jPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:i6(n,u)};var p=c,x,b=function(){return x===void 0&&(x=r(g,p)),x},v=g.coordinate,w=c===0||Ty(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Im(e){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Im(e)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){_Pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Pe(e,t,r){return t=SPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SPe(e){var t=NPe(e,"string");return Im(t)=="symbol"?t:t+""}function NPe(e,t){if(Im(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var x=e*(m.coordinate+e*p()/2-c);i[h]=m=mn(mn({},m),{},{tickCoord:x>0?m.coordinate-x*e:m.coordinate})}else i[h]=m=mn(mn({},m),{},{tickCoord:m.coordinate});var b=Ty(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=mn(mn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function CPe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=mn(mn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Ty(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=mn(mn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var w=o[v],_,j=function(){return _===void 0&&(_=r(w,v)),_};if(v===0){var S=e*(w.coordinate-e*j()/2-c);o[v]=w=mn(mn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[v]=w=mn(mn({},w),{},{tickCoord:w.coordinate});var N=Ty(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[v]=mn(mn({},w),{},{isShow:!0}))},x=0;x<g;x++)p(x);return o}function Gk(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(be(c)||cf.isSsr)return wPe(s,typeof c=="number"&&be(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?yh(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=nt(u)?u(w.value,_):w.value;return m==="width"?xPe(yh(j,{fontSize:t,letterSpacing:r}),g,f):yh(j,{fontSize:t,letterSpacing:r})[m]},x=s.length>=2?ha(s[1].coordinate-s[0].coordinate):1,b=bPe(i,x,m);return c==="equidistantPreserveStart"?jPe(x,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=CPe(x,b,p,s,o,c==="preserveStartEnd"):h=kPe(x,b,p,s,o),h.filter(function(v){return v.isShow}))}var EPe=["viewBox"],PPe=["viewBox"],OPe=["ticks"];function Od(e){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Od(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yu.apply(this,arguments)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){Yk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0(e,t){if(e==null)return{};var r=APe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function APe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function TPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,l6(n.key),n)}}function RPe(e,t,r){return t&&mR(e.prototype,t),r&&mR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MPe(e,t,r){return t=Ry(t),$Pe(e,o6()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function $Pe(e,t){if(t&&(Od(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IPe(e)}function IPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o6=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function DPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C1(e,t)}function C1(e,t){return C1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},C1(e,t)}function Yk(e,t,r){return t=l6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l6(e){var t=LPe(e,"string");return Od(t)=="symbol"?t:t+""}function LPe(e,t){if(Od(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var hf=function(e){function t(r){var n;return TPe(this,t),n=MPe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return DPe(t,e),RPe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=d0(n,EPe),l=this.props,c=l.viewBox,u=d0(l,PPe);return!Ou(i,c)||!Ou(o,u)||!Ou(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,x,b,v,w=f?-1:1,_=n.tickSize||d,j=be(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,x=o+ +!f*c,p=x-w*_,v=p-w*h,b=j;break;case"left":p=x=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,v=j;break;case"right":p=x=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,v=j;break;default:m=g=n.coordinate,x=o+ +f*c,p=x+w*_,v=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:x},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Mr(Mr(Mr({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Mr(Mr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Mr(Mr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return O.createElement("line",yu({},f,{className:jt("recharts-cartesian-axis-line",Is(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=Gk(Mr(Mr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),x=mt(this.props,!1),b=mt(d,!1),v=Mr(Mr({},x),{},{fill:"none"},mt(c,!1)),w=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Mr(Mr(Mr(Mr({textAnchor:g,verticalAnchor:p},x),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return O.createElement(dr,yu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Fv(o.props,_,j)),c&&O.createElement("line",yu({},v,N,{className:jt("recharts-cartesian-axis-tick-line",Is(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(_.value,j):_.value).concat(h||"")))});return O.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=d0(f,OPe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:O.createElement(dr,{className:jt("recharts-cartesian-axis",u),ref:function(x){n.layerReference=x}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),gn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=jt(s.className,"recharts-cartesian-axis-tick-value");return O.isValidElement(n)?o=O.cloneElement(n,Mr(Mr({},s),{},{className:l})):nt(n)?o=n(Mr(Mr({},s),{},{className:l})):o=O.createElement(Zv,yu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(y.Component);Yk(hf,"displayName","CartesianAxis");Yk(hf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var FPe=["x1","y1","x2","y2","key"],UPe=["offset"];function xc(e){"@babel/helpers - typeof";return xc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xc(e)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){BPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BPe(e,t,r){return t=qPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qPe(e){var t=zPe(e,"string");return xc(t)=="symbol"?t:t+""}function zPe(e,t){if(xc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fl(){return Fl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fl.apply(this,arguments)}function gR(e,t){if(e==null)return{};var r=WPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var VPe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return O.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function c6(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=gR(t,FPe),u=mt(c,!1);u.offset;var d=gR(u,UPe);r=O.createElement("line",Fl({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function KPe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=vn(vn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return c6(s,u)});return O.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function HPe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=vn(vn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return c6(s,u)});return O.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function GPe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var x=m%t.length;return O.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function YPe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var x=m%n.length;return O.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[x],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return O.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var QPe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return yB(Gk(vn(vn(vn({},hf.defaultProps),n),{},{ticks:_i(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},XPe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return yB(Gk(vn(vn(vn({},hf.defaultProps),n),{},{ticks:_i(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},Jc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function My(e){var t,r,n,s,i,o,l=Wk(),c=Vk(),u=LEe(),d=vn(vn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Jc.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Jc.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Jc.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:Jc.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Jc.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:Jc.verticalFill,x:be(e.x)?e.x:u.left,y:be(e.y)?e.y:u.top,width:be(e.width)?e.width:u.width,height:be(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,x=d.horizontalValues,b=d.verticalValues,v=$Ee(),w=IEe();if(!be(m)||m<=0||!be(g)||g<=0||!be(f)||f!==+f||!be(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||QPe,j=d.horizontalCoordinatesGenerator||XPe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&nt(j)){var k=x&&x.length,C=j({yAxis:w?vn(vn({},w),{},{ticks:k?x:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Ci(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(xc(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&nt(_)){var A=b&&b.length,I=_({xAxis:v?vn(vn({},v),{},{ticks:A?b:v.ticks}):void 0,width:l,height:c,offset:u},A?!0:p);Ci(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(xc(I),"]")),Array.isArray(I)&&(N=I)}return O.createElement("g",{className:"recharts-cartesian-grid"},O.createElement(VPe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),O.createElement(KPe,Fl({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:w})),O.createElement(HPe,Fl({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:w})),O.createElement(GPe,Fl({},d,{horizontalPoints:S})),O.createElement(YPe,Fl({},d,{verticalPoints:N})))}My.displayName="CartesianGrid";var JPe=["layout","type","stroke","connectNulls","isRange","ref"],ZPe=["key"],u6;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function d6(e,t){if(e==null)return{};var r=eOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function co(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){Ba(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,h6(n.key),n)}}function rOe(e,t,r){return t&&yR(e.prototype,t),r&&yR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function nOe(e,t,r){return t=$y(t),sOe(e,f6()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function sOe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aOe(e)}function aOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(f6=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function iOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E1(e,t)}function Ba(e,t,r){return t=h6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function h6(e){var t=oOe(e,"string");return Ad(t)=="symbol"?t:t+""}function oOe(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ji=function(e){function t(){var r;tOe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=nOe(this,t,[].concat(s)),Ba(r,"state",{isAnimationFinished:!0}),Ba(r,"id",up("recharts-area-")),Ba(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),Ba(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return iOe(t,e),rOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=mt(this.props,!1),m=mt(u,!0),g=d.map(function(x,b){var v=co(co(co({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:x.x,cy:x.y,dataKey:f,value:x.value,payload:x.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return O.createElement(dr,Ul({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=$o(o.map(function(h){return h.y||0}));return be(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max($o(i.map(function(h){return h.y||0})),f)),be(f)?O.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=$o(o.map(function(h){return h.x||0}));return be(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max($o(i.map(function(h){return h.x||0})),f)),be(f)?O.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=d6(l,JPe);return O.createElement(dr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},O.createElement(wh,Ul({},mt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&O.createElement(wh,Ul({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&O.createElement(wh,Ul({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,x=g.prevBaseLine;return O.createElement(qi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,_=l.map(function(k,C){var A=Math.floor(C*w);if(p[A]){var I=p[A],P=ks(I.x,k.x),q=ks(I.y,k.y);return co(co({},k),{},{x:P(v),y:q(v)})}return k}),j;if(be(c)&&typeof c=="number"){var S=ks(x,c);j=S(v)}else if(yt(c)||sf(c)){var N=ks(x,0);j=N(v)}else j=c.map(function(k,C){var A=Math.floor(C*w);if(x[A]){var I=x[A],P=ks(I.x,k.x),q=ks(I.y,k.y);return co(co({},k),{},{x:P(v),y:q(v)})}return k});return i.renderAreaStatically(_,j,n,s)}return O.createElement(dr,null,O.createElement("defs",null,O.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),O.createElement(dr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!pm(d,o)||!pm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,x=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=jt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,N=yt(x)?this.id:x,k=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,A=C===void 0?3:C,I=k.strokeWidth,P=I===void 0?2:I,q=jue(o)?o:{},T=q.clipDot,W=T===void 0?!0:T,L=A*2+P;return O.createElement(dr,{className:w},_||j?O.createElement("defs",null,O.createElement("clipPath",{id:"clipPath-".concat(N)},O.createElement("rect",{x:_?d:d-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!W&&O.createElement("clipPath",{id:"clipPath-dots-".concat(N)},O.createElement("rect",{x:d-L/2,y:u-L/2,width:m+L,height:g+L}))):null,v?null:this.renderArea(S,N),(o||v)&&this.renderDots(S,W,N),(!p||b)&&Qo.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(y.PureComponent);u6=Ji;Ba(Ji,"displayName","Area");Ba(Ji,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!cf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Ba(Ji,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(be(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Ba(Ji,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=u6.getBaseValue(t,r,n,s),x=m==="horizontal",b=!1,v=f.map(function(_,j){var S;g?S=u[d+j]:(S=ms(_,c),Array.isArray(S)?b=!0:S=[p,S]);var N=S[1]==null||g&&ms(_,c)==null;return x?{x:rT({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:N?null:s.scale(S[1]),value:S,payload:_}:{x:N?null:n.scale(S[1]),y:rT({axis:s,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),w;return g||b?w=v.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return x?{x:_.x,y:j!=null&&_.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):w=x?s.scale(p):n.scale(p),co({points:v,baseLine:w,layout:m,isRange:b},h)});Ba(Ji,"renderDotItem",function(e,t){var r;if(O.isValidElement(e))r=O.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=jt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=d6(t,ZPe);r=O.createElement(Uk,Ul({},i,{key:s,className:n}))}return r});function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function lOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,g6(n.key),n)}}function uOe(e,t,r){return t&&cOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function dOe(e,t,r){return t=Iy(t),fOe(e,m6()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function fOe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hOe(e)}function hOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m6=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function mOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P1(e,t)}function p6(e,t,r){return t=g6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g6(e){var t=pOe(e,"string");return Td(t)=="symbol"?t:t+""}function pOe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}function gOe(e){var t=e.xAxisId,r=Wk(),n=Vk(),s=JB(t);return s==null?null:y.createElement(hf,O1({},s,{className:jt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return _i(o,!0)}}))}var bc=function(e){function t(){return lOe(this,t),dOe(this,t,arguments)}return mOe(t,e),uOe(t,[{key:"render",value:function(){return y.createElement(gOe,this.props)}}])}(y.Component);p6(bc,"displayName","XAxis");p6(bc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function vOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x6(n.key),n)}}function xOe(e,t,r){return t&&yOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bOe(e,t,r){return t=Dy(t),wOe(e,v6()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function wOe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jOe(e)}function jOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v6=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function _Oe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&A1(e,t)}function A1(e,t){return A1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},A1(e,t)}function y6(e,t,r){return t=x6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x6(e){var t=SOe(e,"string");return Rd(t)=="symbol"?t:t+""}function SOe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function T1(){return T1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T1.apply(this,arguments)}var NOe=function(t){var r=t.yAxisId,n=Wk(),s=Vk(),i=ZB(r);return i==null?null:y.createElement(hf,T1({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return _i(l,!0)}}))},wc=function(e){function t(){return vOe(this,t),bOe(this,t,arguments)}return _Oe(t,e),xOe(t,[{key:"render",value:function(){return y.createElement(NOe,this.props)}}])}(y.Component);y6(wc,"displayName","YAxis");y6(wc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function xR(e){return POe(e)||EOe(e)||COe(e)||kOe()}function kOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function COe(e,t){if(e){if(typeof e=="string")return R1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(e,t)}}function EOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function POe(e){if(Array.isArray(e))return R1(e)}function R1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var M1=function(t,r,n,s,i){var o=ya(t,Hk),l=ya(t,Nb),c=[].concat(xR(o),xR(l)),u=ya(t,Cb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,x){if(x.props[d]===n&&Ya(x.props,"extendDomain")&&be(x.props[f])){var b=x.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,x){if(x.props[d]===n&&Ya(x.props,"extendDomain")&&be(x.props[m])&&be(x.props[g])){var b=x.props[m],v=x.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,x){return be(x)?[Math.min(p[0],x),Math.max(p[1],x)]:p},h)),h},b6={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var x=this._events[p],b=arguments.length,v,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),b){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,d),!0;case 3:return x.fn.call(x.context,d,f),!0;case 4:return x.fn.call(x.context,d,f,h),!0;case 5:return x.fn.call(x.context,d,f,h,m),!0;case 6:return x.fn.call(x.context,d,f,h,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];x.fn.apply(x.context,v)}else{var _=x.length,j;for(w=0;w<_;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),b){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,d);break;case 3:x[w].fn.call(x[w].context,d,f);break;case 4:x[w].fn.call(x[w].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];x[w].fn.apply(x[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,x=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&x.push(g[p]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(b6);var OOe=b6.exports;const AOe=qt(OOe);var f0=new AOe,h0="recharts.syncMouseEvents";function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function TOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ROe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w6(n.key),n)}}function MOe(e,t,r){return t&&ROe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m0(e,t,r){return t=w6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w6(e){var t=$Oe(e,"string");return Dm(t)=="symbol"?t:t+""}function $Oe(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IOe=function(){function e(){TOe(this,e),m0(this,"activeIndex",0),m0(this,"coordinateList",[]),m0(this,"layout","horizontal")}return MOe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function DOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&be(n)&&be(s))return!0}return!1}function LOe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function j6(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=an(t,r,n,s),l=an(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function FOe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=an(l,c,u,f),m=an(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return j6(t);return[{x:n,y:s},{x:i,y:o}]}function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){UOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UOe(e,t,r){return t=BOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BOe(e){var t=qOe(e,"string");return Lm(t)=="symbol"?t:t+""}function qOe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zOe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=wh;if(h==="ScatterChart")g=o,p=Hke;else if(h==="BarChart")g=LOe(f,o,c,d),p=Fk;else if(f==="radial"){var x=j6(o),b=x.cx,v=x.cy,w=x.radius,_=x.startAngle,j=x.endAngle;g={cx:b,cy:v,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=_B}else g={points:FOe(f,o,c)},p=wh;var S=mg(mg(mg(mg({stroke:"#ccc",pointerEvents:"none"},c),g),mt(m,!1)),{},{payload:l,payloadIndex:u,className:jt("recharts-tooltip-cursor",m.className)});return y.isValidElement(m)?y.cloneElement(m,S):y.createElement(p,S)}var WOe=["item"],VOe=["children","className","width","height","style","compact","title","desc"];function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xu.apply(this,arguments)}function wR(e,t){return GOe(e)||HOe(e,t)||S6(e,t)||KOe()}function KOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function GOe(e){if(Array.isArray(e))return e}function jR(e,t){if(e==null)return{};var r=YOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function YOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N6(n.key),n)}}function JOe(e,t,r){return t&&XOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZOe(e,t,r){return t=Ly(t),eAe(e,_6()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function eAe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tAe(e)}function tAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_6=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function rAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$1(e,t)}function $d(e){return aAe(e)||sAe(e)||S6(e)||nAe()}function nAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function sAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aAe(e){if(Array.isArray(e))return I1(e)}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=N6(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N6(e){var t=iAe(e,"string");return Md(t)=="symbol"?t:t+""}function iAe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oAe={xAxis:["bottom","top"],yAxis:["left","right"]},lAe={width:"100%",height:"100%"},k6={x:0,y:0};function pg(e){return e}var cAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},uAe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return te(te(te({},s),an(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return te(te(te({},s),an(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return k6},Eb=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($d(l),$d(u)):l},[]);return o.length>0?o:t&&t.length&&be(s)&&be(i)?t.slice(s,i+1):[]};function C6(e){return e==="number"?[0,"auto"]:void 0}var D1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=Eb(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Dv(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat($d(c),[bB(u,h)]):c},[])},SR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=cAe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=N1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=D1(t,r,d,f),m=uAe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},dAe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=vB(d,i);return n.reduce(function(g,p){var x,b=p.type.defaultProps!==void 0?te(te({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var A=Eb(t.data,{graphicalItems:s.filter(function($){var ie,he=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o];return he===C}),dataStartIndex:c,dataEndIndex:u}),I=A.length,P,q,T;DOe(b.domain,_,v)&&(P=r1(b.domain,null,_),m&&(v==="number"||S!=="auto")&&(T=bh(A,w,"category")));var W=C6(v);if(!P||P.length===0){var L,K=(L=b.domain)!==null&&L!==void 0?L:W;if(w){if(P=bh(A,w,v),v==="category"&&m){var D=fue(P);j&&D?(q=P,P=Sy(0,I)):j||(P=iT(K,P,p).reduce(function($,ie){return $.indexOf(ie)>=0?$:[].concat($d($),[ie])},[]))}else if(v==="category")j?P=P.filter(function($){return $!==""&&!yt($)}):P=iT(K,P,p).reduce(function($,ie){return $.indexOf(ie)>=0||ie===""||yt(ie)?$:[].concat($d($),[ie])},[]);else if(v==="number"){var M=O1e(A,s.filter(function($){var ie,he,We=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o],Ve="hide"in $.props?$.props.hide:(he=$.type.defaultProps)===null||he===void 0?void 0:he.hide;return We===C&&(k||!Ve)}),w,i,d);M&&(P=M)}m&&(v==="number"||S!=="auto")&&(T=bh(A,w,"category"))}else m?P=Sy(0,I):l&&l[C]&&l[C].hasStack&&v==="number"?P=h==="expand"?[0,1]:xB(l[C].stackGroups,c,u):P=gB(A,s.filter(function($){var ie=o in $.props?$.props[o]:$.type.defaultProps[o],he="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return ie===C&&(k||!he)}),v,d,!0);if(v==="number")P=M1(f,P,C,i,N),K&&(P=r1(K,P,_));else if(v==="category"&&K){var R=K,ee=P.every(function($){return R.indexOf($)>=0});ee&&(P=R)}}return te(te({},g),{},Ge({},C,te(te({},b),{},{axisType:i,domain:P,categoricalDomain:T,duplicateDomain:q,originalDomain:(x=b.domain)!==null&&x!==void 0?x:W,isCategorical:m,layout:d})))},{})},fAe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=Eb(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=vB(d,i),p=-1;return n.reduce(function(x,b){var v=b.type.defaultProps!==void 0?te(te({},b.type.defaultProps),b.props):b.props,w=v[o],_=C6("number");if(!x[w]){p++;var j;return g?j=Sy(0,m):l&&l[w]&&l[w].hasStack?(j=xB(l[w].stackGroups,c,u),j=M1(f,j,w,i)):(j=r1(_,gB(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],A="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!A}),"number",d),s.defaultProps.allowDataOverflow),j=M1(f,j,w,i)),te(te({},x),{},Ge({},w,te(te({axisType:i},s.defaultProps),{},{hide:!0,orientation:Is(oAe,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return x},{})},hAe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=ya(d,i),m={};return h&&h.length?m=dAe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=fAe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},mAe=function(t){var r=wo(t),n=_i(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:fk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:my(r,n)}},NR=function(t){var r=t.children,n=t.defaultShowTooltip,s=ts(r,Nd),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},pAe=function(t){return!t||!t.length?!1:t.some(function(r){var n=ki(r&&r.type);return n&&n.indexOf("Bar")>=0})},kR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},gAe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=ts(f,Nd),g=ts(f,Au),p=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?te(te({},j),{},Ge({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?te(te({},j),{},Ge({},k,Is(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=te(te({},x),p),v=b.bottom;m&&(b.bottom+=m.props.height||Nd.defaultProps.height),g&&r&&(b=E1e(b,s,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return te(te({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},vAe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},E6=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var w=v.graphicalItems,_=v.stackGroups,j=v.offset,S=v.updateId,N=v.dataStartIndex,k=v.dataEndIndex,C=b.barSize,A=b.layout,I=b.barGap,P=b.barCategoryGap,q=b.maxBarSize,T=kR(A),W=T.numericAxisName,L=T.cateAxisName,K=pAe(w),D=[];return w.forEach(function(M,R){var ee=Eb(b.data,{graphicalItems:[M],dataStartIndex:N,dataEndIndex:k}),$=M.type.defaultProps!==void 0?te(te({},M.type.defaultProps),M.props):M.props,ie=$.dataKey,he=$.maxBarSize,We=$["".concat(W,"Id")],Ve=$["".concat(L,"Id")],ue={},qe=c.reduce(function(F,H){var U=v["".concat(H.axisType,"Map")],le=$["".concat(H.axisType,"Id")];U&&U[le]||H.axisType==="zAxis"||yc();var de=U[le];return te(te({},F),{},Ge(Ge({},H.axisType,de),"".concat(H.axisType,"Ticks"),_i(de)))},ue),ae=qe[L],we=qe["".concat(L,"Ticks")],G=_&&_[We]&&_[We].hasStack&&q1e(M,_[We].stackGroups),Q=ki(M.type).indexOf("Bar")>=0,Xe=my(ae,we),Ke=[],xt=K&&k1e({barSize:C,stackGroups:_,totalSize:vAe(qe,L)});if(Q){var ot,zt,jr=yt(he)?q:he,un=(ot=(zt=my(ae,we,!0))!==null&&zt!==void 0?zt:jr)!==null&&ot!==void 0?ot:0;Ke=C1e({barGap:I,barCategoryGap:P,bandSize:un!==Xe?un:Xe,sizeList:xt[Ve],maxBarSize:jr}),un!==Xe&&(Ke=Ke.map(function(F){return te(te({},F),{},{position:te(te({},F.position),{},{offset:F.position.offset-un/2})})}))}var vs=M&&M.type&&M.type.getComposedData;vs&&D.push({props:te(te({},vs(te(te({},qe),{},{displayedData:ee,props:b,dataKey:ie,item:M,bandSize:Xe,barPosition:Ke,offset:j,stackedData:G,layout:A,dataStartIndex:N,dataEndIndex:k}))),{},Ge(Ge(Ge({key:M.key||"item-".concat(R)},W,qe[W]),L,qe[L]),"animationId",S)),childIndex:Nue(M,b.children),item:M})}),D},m=function(b,v){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!ZP({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,A=w.data,I=w.reverseStackOrder,P=kR(k),q=P.numericAxisName,T=P.cateAxisName,W=ya(N,n),L=F1e(A,W,"".concat(q,"Id"),"".concat(T,"Id"),C,I),K=c.reduce(function($,ie){var he="".concat(ie.axisType,"Map");return te(te({},$),{},Ge({},he,hAe(w,te(te({},ie),{},{graphicalItems:W,stackGroups:ie.axisType===q&&L,dataStartIndex:_,dataEndIndex:j}))))},{}),D=gAe(te(te({},K),{},{props:w,graphicalItems:W}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function($){K[$]=d(w,K[$],D,$.replace("Map",""),r)});var M=K["".concat(T,"Map")],R=mAe(M),ee=h(w,te(te({},K),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:W,stackGroups:L,offset:D}));return te(te({formattedGraphicalItems:ee,graphicalItems:W,offset:D,stackGroups:L},R),K)},g=function(x){function b(v){var w,_,j;return QOe(this,b),j=ZOe(this,b,[v]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new IOe),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,A=N.updateId;j.setState(te({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:A},te(te({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ge(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return te({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=te(te({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?te(te({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,S)}),Ge(j,"handleOuterEvent",function(S){var N=Sue(S),k=Is(j.props,"".concat(N));if(N&&nt(k)){var C,A;/.*touch.*/i.test(N)?A=j.getMouseInfo(S.changedTouches[0]):A=j.getMouseInfo(S),k((C=A)!==null&&C!==void 0?C:{},S)}}),Ge(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=te(te({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,S)}}),Ge(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&f0.emit(h0,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,A=j.state.updateId,I=S.dataStartIndex,P=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(te({dataStartIndex:I,dataEndIndex:P},m({props:j.props,dataStartIndex:I,dataEndIndex:P,updateId:A},j.state)));else if(S.activeTooltipIndex!==void 0){var q=S.chartX,T=S.chartY,W=S.activeTooltipIndex,L=j.state,K=L.offset,D=L.tooltipTicks;if(!K)return;if(typeof C=="function")W=C(D,S);else if(C==="value"){W=-1;for(var M=0;M<D.length;M++)if(D[M].value===S.activeLabel){W=M;break}}var R=te(te({},K),{},{x:K.left,y:K.top}),ee=Math.min(q,R.x+R.width),$=Math.min(T,R.y+R.height),ie=D[W]&&D[W].value,he=D1(j.state,j.props.data,W),We=D[W]?{x:k==="horizontal"?D[W].coordinate:ee,y:k==="horizontal"?$:D[W].coordinate}:k6;j.setState(te(te({},S),{},{activeLabel:ie,activeCoordinate:We,activePayload:he,activeTooltipIndex:W}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,A=k.activeCoordinate,I=k.activePayload,P=k.offset,q=k.activeTooltipIndex,T=k.tooltipAxisBandSize,W=j.getTooltipEventType(),L=(N=S.props.active)!==null&&N!==void 0?N:C,K=j.props.layout,D=S.key||"_recharts-cursor";return O.createElement(zOe,{key:D,activeCoordinate:A,activePayload:I,activeTooltipIndex:q,chartName:r,element:S,isActive:L,layout:K,offset:P,tooltipAxisBandSize:T,tooltipEventType:W})}),Ge(j,"renderPolarAxis",function(S,N,k){var C=Is(S,"type.axisType"),A=Is(j.state,"".concat(C,"Map")),I=S.type.defaultProps,P=I!==void 0?te(te({},I),S.props):S.props,q=A&&A[P["".concat(C,"Id")]];return y.cloneElement(S,te(te({},q),{},{className:jt(C,q.className),key:S.key||"".concat(N,"-").concat(k),ticks:_i(q,!0)}))}),Ge(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,A=N.polarRadius,I=j.state,P=I.radiusAxisMap,q=I.angleAxisMap,T=wo(P),W=wo(q),L=W.cx,K=W.cy,D=W.innerRadius,M=W.outerRadius;return y.cloneElement(S,{polarAngles:Array.isArray(C)?C:_i(W,!0).map(function(R){return R.coordinate}),polarRadius:Array.isArray(A)?A:_i(T,!0).map(function(R){return R.coordinate}),cx:L,cy:K,innerRadius:D,outerRadius:M,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,A=N.height,I=j.props.margin||{},P=C-(I.left||0)-(I.right||0),q=mB({children:k,formattedGraphicalItems:S,legendWidth:P,legendContent:u});if(!q)return null;var T=q.item,W=jR(q,WOe);return y.cloneElement(T,te(te({},W),{},{chartWidth:C,chartHeight:A,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,A=ts(k,_s);if(!A)return null;var I=j.state,P=I.isTooltipActive,q=I.activeCoordinate,T=I.activePayload,W=I.activeLabel,L=I.offset,K=(S=A.props.active)!==null&&S!==void 0?S:P;return y.cloneElement(A,{viewBox:te(te({},L),{},{x:L.left,y:L.top}),active:K,label:W,payload:K?T:[],coordinate:q,accessibilityLayer:C})}),Ge(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,A=j.state,I=A.offset,P=A.dataStartIndex,q=A.dataEndIndex,T=A.updateId;return y.cloneElement(S,{key:S.key||"_recharts-brush",onChange:ug(j.handleBrushChange,S.props.onChange),data:C,x:be(S.props.x)?S.props.x:I.left,y:be(S.props.y)?S.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:be(S.props.width)?S.props.width:I.width,startIndex:P,endIndex:q,updateId:"brush-".concat(T)})}),Ge(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,A=C.clipPathId,I=j.state,P=I.xAxisMap,q=I.yAxisMap,T=I.offset,W=S.type.defaultProps||{},L=S.props,K=L.xAxisId,D=K===void 0?W.xAxisId:K,M=L.yAxisId,R=M===void 0?W.yAxisId:M;return y.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:P[D],yAxis:q[R],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:A})}),Ge(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,A=S.childIndex,I=S.isRange,P=[],q=N.props.key,T=N.item.type.defaultProps!==void 0?te(te({},N.item.type.defaultProps),N.item.props):N.item.props,W=T.activeDot,L=T.dataKey,K=te(te({index:A,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Lk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},mt(W,!1)),Lv(W));return P.push(b.renderActiveDot(W,K,"".concat(q,"-activePoint-").concat(A))),C?P.push(b.renderActiveDot(W,te(te({},K),{},{cx:C.x,cy:C.y}),"".concat(q,"-basePoint-").concat(A))):I&&P.push(null),P}),Ge(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var A=j.getTooltipEventType(),I=j.state,P=I.isTooltipActive,q=I.tooltipAxis,T=I.activeTooltipIndex,W=I.activeLabel,L=j.props.children,K=ts(L,_s),D=C.props,M=D.points,R=D.isRange,ee=D.baseLine,$=C.item.type.defaultProps!==void 0?te(te({},C.item.type.defaultProps),C.item.props):C.item.props,ie=$.activeDot,he=$.hide,We=$.activeBar,Ve=$.activeShape,ue=!!(!he&&P&&K&&(ie||We||Ve)),qe={};A!=="axis"&&K&&K.props.trigger==="click"?qe={onClick:ug(j.handleItemMouseEnter,S.props.onClick)}:A!=="axis"&&(qe={onMouseLeave:ug(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:ug(j.handleItemMouseEnter,S.props.onMouseEnter)});var ae=y.cloneElement(S,te(te({},C.props),qe));function we(H){return typeof q.dataKey=="function"?q.dataKey(H.payload):null}if(ue)if(T>=0){var G,Q;if(q.dataKey&&!q.allowDuplicatedCategory){var Xe=typeof q.dataKey=="function"?we:"payload.".concat(q.dataKey.toString());G=Dv(M,Xe,W),Q=R&&ee&&Dv(ee,Xe,W)}else G=M==null?void 0:M[T],Q=R&&ee&&ee[T];if(Ve||We){var Ke=S.props.activeIndex!==void 0?S.props.activeIndex:T;return[y.cloneElement(S,te(te(te({},C.props),qe),{},{activeIndex:Ke})),null,null]}if(!yt(G))return[ae].concat($d(j.renderActivePoints({item:C,activePoint:G,basePoint:Q,childIndex:T,isRange:R})))}else{var xt,ot=(xt=j.getItemByXY(j.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:ae},zt=ot.graphicalItem,jr=zt.item,un=jr===void 0?S:jr,vs=zt.childIndex,F=te(te(te({},C.props),qe),{},{activeIndex:vs});return[y.cloneElement(un,F),null,null]}return R?[ae,null,null]:[ae,null]}),Ge(j,"renderCustomized",function(S,N,k){return y.cloneElement(S,te(te({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:pg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:pg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:pg},YAxis:{handler:pg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:up("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=mU(j.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return rAe(b,x),JOe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=ts(_,_s);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var A=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=D1(this.state,j,C,A),P=this.state.tooltipTicks[C].coordinate,q=(this.state.offset.top+S)/2,T=N==="horizontal",W=T?{x:P,y:q}:{y:P,x:q},L=this.state.formattedGraphicalItems.find(function(D){var M=D.item;return M.type.name==="Scatter"});L&&(W=te(te({},W),L.props.points[C].tooltipPosition),I=L.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:A,activePayload:I,activeCoordinate:W};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){g_([ts(w.children,_s)],[ts(this.props.children,_s)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=ts(this.props.children,_s);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=Xbe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var A=this.state,I=A.xAxisMap,P=A.yAxisMap,q=this.getTooltipEventType(),T=SR(this.state,this.props.data,this.props.layout,C);if(q!=="axis"&&I&&P){var W=wo(I).scale,L=wo(P).scale,K=W&&W.invert?W.invert(N.chartX):null,D=L&&L.invert?L.invert(N.chartY):null;return te(te({},N),{},{xValue:K,yValue:D},T)}return T?te(te({},N),T):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,A=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return A?{x:N,y:k}:null}var I=this.state,P=I.angleAxisMap,q=I.radiusAxisMap;if(P&&q){var T=wo(P);return cT({x:N,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=ts(w,_s),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Lv(this.props,this.handleOuterEvent);return te(te({},N),S)}},{key:"addListener",value:function(){f0.on(h0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){f0.removeListener(h0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===ki(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return O.createElement("defs",null,O.createElement("clipPath",{id:w},O.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=wR(j,2),N=S[0],k=S[1];return te(te({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=wR(j,2),N=S[0],k=S[1];return te(te({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],A=C.props,I=C.item,P=I.type.defaultProps!==void 0?te(te({},I.type.defaultProps),I.props):I.props,q=ki(I.type);if(q==="Bar"){var T=(A.data||[]).find(function(D){return Dke(w,D)});if(T)return{graphicalItem:C,payload:T}}else if(q==="RadialBar"){var W=(A.data||[]).find(function(D){return cT(w,D)});if(W)return{graphicalItem:C,payload:W}}else if(wb(C,S)||jb(C,S)||Tm(C,S)){var L=UCe({graphicalItem:C,activeTooltipItem:S,itemData:P.data}),K=P.activeIndex===void 0?L:P.activeIndex;return{graphicalItem:te(te({},C),{},{childIndex:K}),payload:Tm(C,S)?P.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!ZP(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,A=_.compact,I=_.title,P=_.desc,q=jR(_,VOe),T=mt(q,!1);if(A)return O.createElement(sR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement(y_,xu({},T,{width:N,height:k,title:I,desc:P}),this.renderClipPath(),tO(j,this.renderMap)));if(this.props.accessibilityLayer){var W,L;T.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,T.role=(L=this.props.role)!==null&&L!==void 0?L:"application",T.onKeyDown=function(D){w.accessibilityManager.keyboardEvent(D)},T.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return O.createElement(sR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},O.createElement("div",xu({className:jt("recharts-wrapper",S),style:te({position:"relative",cursor:"default",width:N,height:k},C)},K,{ref:function(M){w.container=M}}),O.createElement(y_,xu({},T,{width:N,height:k,title:I,desc:P,style:lAe}),this.renderClipPath(),tO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(y.Component);Ge(g,"displayName",r),Ge(g,"defaultProps",te({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(g,"getDerivedStateFromProps",function(x,b){var v=x.dataKey,w=x.data,_=x.children,j=x.width,S=x.height,N=x.layout,k=x.stackOffset,C=x.margin,A=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var P=NR(x);return te(te(te({},P),{},{updateId:0},m(te(te({props:x},P),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(v!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Ou(C,b.prevMargin)){var q=NR(x),T={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},W=te(te({},SR(b,w,N)),{},{updateId:b.updateId+1}),L=te(te(te({},q),T),W);return te(te(te({},L),m(te({props:x},L),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!g_(_,b.prevChildren)){var K,D,M,R,ee=ts(_,Nd),$=ee&&(K=(D=ee.props)===null||D===void 0?void 0:D.startIndex)!==null&&K!==void 0?K:A,ie=ee&&(M=(R=ee.props)===null||R===void 0?void 0:R.endIndex)!==null&&M!==void 0?M:I,he=$!==A||ie!==I,We=!yt(w),Ve=We&&!he?b.updateId:b.updateId+1;return te(te({updateId:Ve},m(te(te({props:x},b),{},{updateId:Ve,dataStartIndex:$,dataEndIndex:ie}),b)),{},{prevChildren:_,dataStartIndex:$,dataEndIndex:ie})}return null}),Ge(g,"renderActiveDot",function(x,b,v){var w;return y.isValidElement(x)?w=y.cloneElement(x,b):nt(x)?w=x(b):w=O.createElement(Uk,b),O.createElement(dr,{className:"recharts-active-dot",key:v},w)});var p=y.forwardRef(function(b,v){return O.createElement(g,xu({},b,{ref:v}))});return p.displayName=g.displayName,p},yAe=E6({chartName:"BarChart",GraphicalChild:Tc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:bc},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:WB}),P6=E6({chartName:"AreaChart",GraphicalChild:Ji,axisComponents:[{axisType:"xAxis",AxisComp:bc},{axisType:"yAxis",AxisComp:wc}],formatAxisMap:WB});const Ca={getProviders:async()=>{const{data:e,error:t}=await z.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await z.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await z.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await z.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=z.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await z.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await z.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=z.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Ca.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await z.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await z.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await z.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function Qk(e,t){return e().catch(()=>t)}const Er={all:["model-providers"],providers:()=>[...Er.all,"providers"],provider:e=>[...Er.all,"provider",e],requests:e=>[...Er.all,"requests",e],request:e=>[...Er.all,"request",e],usageMetrics:e=>[...Er.all,"usage-metrics",e],usageSummary:e=>[...Er.all,"usage-summary",e],configOverride:e=>[...Er.all,"config-override",e]};function xAe(){return Pe({queryKey:Er.providers(),queryFn:()=>Qk(()=>Ca.getProviders(),[])})}function bAe(){const e=ve();return pe({mutationFn:t=>Ca.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Er.providers()}),V.success("Provider added")},onError:t=>{V.error(t.message||"Failed to add provider")}})}function wAe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Ca.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Er.providers()}),e.invalidateQueries({queryKey:Er.provider(r)}),V.success("Provider updated")},onError:t=>{V.error(t.message||"Failed to update provider")}})}function jAe(){const e=ve();return pe({mutationFn:t=>Ca.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Er.providers()}),e.invalidateQueries({queryKey:Er.requests()}),V.success("Provider removed")},onError:t=>{V.error(t.message||"Failed to remove provider")}})}function _Ae(e){return Pe({queryKey:Er.requests(e),queryFn:()=>Qk(()=>Ca.getRequests(e),[])})}function SAe(){const e=ve();return pe({mutationFn:t=>Ca.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Er.requests()}),V.success("Request logged")},onError:t=>{V.error(t.message||"Failed to log request")}})}function NAe(e){return Pe({queryKey:Er.usageMetrics(e),queryFn:()=>Qk(()=>Ca.getUsageMetrics(e),[])})}function kAe(e){return Pe({queryKey:Er.usageSummary(e),queryFn:()=>Ca.getUsageSummary(e)})}function CAe(){const e=ve();return pe({mutationFn:t=>Ca.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Er.usageMetrics()}),e.invalidateQueries({queryKey:Er.usageSummary()})},onError:t=>{V.error(t.message||"Failed to record usage")}})}function EAe(){const e=ve();return pe({mutationFn:t=>Ca.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Er.configOverride(r.request_id)}),V.success("Configuration saved")},onError:t=>{V.error(t.message||"Failed to save configuration")}})}const CR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},PAe=ft({name:je().min(1,"Name is required").max(128),slug:nr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:je().url().optional().or(IN("")),priority:ls.number().int().min(0).max(999),is_default:ni(),status:nr(["active","inactive","error"])});function OAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=ut({resolver:dt(PAe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});y.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Ie,{open:e,onOpenChange:c,children:a.jsxs(Te,{className:"max-w-md",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:i?"Edit provider":"Add provider"}),a.jsx($e,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:Z(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider type"}),a.jsxs(lt,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Select type"})}),a.jsx(it,{children:Object.keys(CR).map(u=>a.jsx(Ne,{value:u,children:CR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ge,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ge,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(Y,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(br,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"}),a.jsx(Ne,{value:"error",children:"Error"})]})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const AAe=ft({provider_id:je().uuid().optional().nullable(),model_name:je().max(128).optional(),temperature:ls.number().min(0).max(2).optional(),max_tokens:ls.number().int().min(1).max(128e3).optional()}),TAe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},RAe={active:"success",inactive:"secondary",error:"destructive"};function MAe(){const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s]=y.useState(()=>LN(new Date,7).toISOString()),{data:i=[],isLoading:o}=xAe(),{data:l=[],isLoading:c}=_Ae({limit:50}),{data:u,isLoading:d}=kAe({since:s}),{data:f=[]}=NAe({limit:100,since:s}),h=bAe(),m=wAe(),g=jAe(),p=SAe(),x=CAe(),b=EAe(),v=ut({resolver:dt(AAe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=S=>{r?m.mutate({id:r.id,data:{name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??void 0,priority:S.priority,is_default:S.is_default,status:S.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??null,priority:S.priority,is_default:S.is_default,status:S.status},{onSuccess:()=>t(!1)})},_=v.handleSubmit(async S=>{var C,A;const N=S.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((A=i[0])==null?void 0:A.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:S.model_name??null,temperature:S.temperature??null,max_tokens:S.max_tokens??null}),await x.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),v.reset()}),j=f.slice().reverse().reduce((S,N)=>{const k=Fa(N.created_at,"yyyy-MM-dd");S.find(A=>A.date===k)||S.push({date:k,tokens:0,requests:0});const C=S.find(A=>A.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),S},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(si,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(Sa,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(St,{value:"request",className:"gap-2",children:[a.jsx(sd,{className:"h-4 w-4"}),"Request"]}),a.jsxs(St,{value:"usage",className:"gap-2",children:[a.jsx(Xf,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(St,{value:"providers",className:"gap-2",children:[a.jsx(Wa,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Nt,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"New request"}),a.jsx(ye,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(J,{children:a.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:v.watch("provider_id")??"",onValueChange:S=>v.setValue("provider_id",S||null),children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Default provider"})}),a.jsxs(it,{children:[i.map(S=>a.jsxs(Ne,{value:S.id,children:[S.name," ",S.is_default&&"(default)"]},S.id)),i.length===0&&a.jsx(Ne,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ge,{id:"model_name",placeholder:"e.g. gpt-4o",...v.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ge,{id:"temperature",type:"number",step:.1,min:0,max:2,...v.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ge,{id:"max_tokens",type:"number",...v.register("max_tokens")})]})]}),a.jsx(E,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Recent requests"}),a.jsx(ye,{children:"Last 50 model requests"})]}),a.jsx(J,{children:c?a.jsx(ce,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(vt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(S=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(WS,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.provider_id?((N=i.find(k=>k.id===S.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Rr(S.created_at,{addSuffix:!0})})]})]}),a.jsx(He,{variant:TAe[S.status],children:S.status})]},S.id)})})})})]})]}),a.jsxs(Nt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(ce,{className:"h-24 rounded-lg"}),a.jsx(ce,{className:"h-24 rounded-lg"}),a.jsx(ce,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(dE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(dE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(m7,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Usage over time"}),a.jsx(ye,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(J,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(F_,{width:"100%",height:280,children:a.jsxs(P6,{data:j,children:[a.jsx(My,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(_s,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(Ji,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Nt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(E,{onClick:()=>{n(null),t(!0)},children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(ce,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(J,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Wa,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(E,{onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(S=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(re,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"text-base flex items-center gap-2",children:[S.name,S.is_default&&a.jsx(He,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(ye,{className:"text-xs mt-1",children:[S.api_endpoint_base??S.slug," Priority ",S.priority]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{n(S),t(!0)},children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(S.id),children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(J,{children:a.jsx(He,{variant:RAe[S.status],children:S.status})})]},S.id))})]})]}),a.jsx(OAe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const Rn={getProfiles:async()=>{const{data:e,error:t}=await z.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await z.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await z.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await z.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await z.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await z.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await z.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await z.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await z.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await z.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await z.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await z.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=z.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await z.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await z.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await z.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await z.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await z.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await z.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await z.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await z.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await z.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await z.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Xk(e,t){return e().catch(()=>t)}const Vt={all:["browser"],profiles:()=>[...Vt.all,"profiles"],profile:e=>[...Vt.all,"profile",e??""],tabs:e=>[...Vt.all,"tabs",e??""],tab:e=>[...Vt.all,"tab",e??""],scripts:()=>[...Vt.all,"scripts"],script:e=>[...Vt.all,"script",e??""],captures:(e,t)=>[...Vt.all,"captures",e??"",t],commands:e=>[...Vt.all,"commands",e??""],command:e=>[...Vt.all,"command",e??""],cdpTokens:()=>[...Vt.all,"cdpTokens"],cdpToken:e=>[...Vt.all,"cdpToken",e??""]};function $Ae(){return Pe({queryKey:Vt.profiles(),queryFn:()=>Xk(()=>Rn.getProfiles(),[])})}function IAe(e){return Pe({queryKey:Vt.profile(e),queryFn:()=>e?Rn.getProfile(e):Promise.resolve(null),enabled:!!e})}function DAe(){const e=ve();return pe({mutationFn:t=>Rn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.profiles()}),V.success("Profile created")},onError:t=>{V.error(t.message||"Failed to create profile")}})}function LAe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Rn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Vt.profiles()}),e.invalidateQueries({queryKey:Vt.profile(r)}),V.success("Profile updated")},onError:t=>{V.error(t.message||"Failed to update profile")}})}function FAe(e){return Pe({queryKey:Vt.tabs(e),queryFn:()=>Rn.getTabs(e),enabled:!!e})}function UAe(){return Pe({queryKey:Vt.scripts(),queryFn:()=>Xk(()=>Rn.getScripts(),[])})}function BAe(){const e=ve();return pe({mutationFn:t=>Rn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.scripts()}),V.success("Script added")},onError:t=>{V.error(t.message||"Failed to add script")}})}function qAe(e,t){return Pe({queryKey:Vt.captures(e,t),queryFn:()=>Rn.getCaptureRecords(e,t),enabled:!!e})}function zAe(){const e=ve();return pe({mutationFn:t=>Rn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.captures(r.browser_profile_id)}),V.success("Capture saved")},onError:t=>{V.error(t.message||"Failed to save capture")}})}function WAe(){const e=ve();return pe({mutationFn:t=>Rn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),V.success("Capture removed")},onError:t=>{V.error(t.message||"Failed to remove capture")}})}function VAe(e){return Pe({queryKey:Vt.commands(e),queryFn:()=>Rn.getCommands(e),enabled:!!e})}function KAe(){const e=ve();return pe({mutationFn:t=>Rn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.commands(r.browser_profile_id)}),V.success("Command added to queue")},onError:t=>{V.error(t.message||"Failed to add command")}})}function HAe(){const e=ve();return pe({mutationFn:t=>Rn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),V.success("Command removed")},onError:t=>{V.error(t.message||"Failed to remove command")}})}function GAe(){return Pe({queryKey:Vt.cdpTokens(),queryFn:()=>Xk(()=>Rn.getCdpTokens(),[])})}function YAe(){const e=ve();return pe({mutationFn:t=>Rn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.cdpTokens()}),V.success("CDP token added")},onError:t=>{V.error(t.message||"Failed to add CDP token")}})}function QAe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx($e,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Va,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function XAe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx($e,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:Z("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Ho,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const JAe=ft({name:je().min(1,"Name is required").max(200,"Name too long"),script_content:je().optional()}),ER={name:"",script_content:""};function ZAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=ut({resolver:dt(JAe),defaultValues:ER}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(ER),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Add automation script"}),a.jsx($e,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-name",children:"Script name"}),a.jsx(ge,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const eTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},tTe={screenshot:Yh,pdf:or,dom:mv};function rTe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=tTe[r],c=eTe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs($e,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(E,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const nTe=ft({connection_type:nr(["local","node_proxy"]),token_preview:je().max(20).optional(),config_json:je().optional()}),p0={connection_type:"local",token_preview:"",config_json:"{}"};function sTe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(nTe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:p0}),f=c("connection_type");y.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:p0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(p0),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx($e,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Connection type"}),a.jsxs(lt,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local"}),a.jsx(Ne,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(hI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ge,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const aTe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],iTe=ft({command_type:nr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:je().optional(),text:je().optional(),url:je().url().optional().or(IN("")),value:je().optional(),x:ls.number().optional(),y:ls.number().optional(),ms:ls.number().min(0).optional(),sequence_order:ls.number().min(0).optional()}),g0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function oTe({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=ut({resolver:dt(iTe),defaultValues:{...g0,sequence_order:n}}),h=c("command_type");y.useEffect(()=>{e&&r&&d({...g0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,v;const x={};return(b=p.selector)!=null&&b.trim()&&(x.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(x.text=p.text),(v=p.url)!=null&&v.trim()&&(x.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(x.value=p.value),p.x!==void 0&&(x.x=p.x),p.y!==void 0&&(x.y=p.y),p.ms!==void 0&&(x.ms=p.ms),x},g=p=>{if(!r)return;const x=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:x,sequence_order:p.sequence_order??n,status:"pending"}),d({...g0,sequence_order:n+1}),t(!1)};return r?a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Add command to queue"}),a.jsx($e,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Command type"}),a.jsxs(lt,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(at,{className:"w-full",children:a.jsx(ct,{placeholder:"Select type"})}),a.jsx(it,{children:aTe.map(({value:p,label:x})=>a.jsx(Ne,{value:p,children:x},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ge,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"text",children:"Text to type"}),a.jsx(ge,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"value",children:"Option value"}),a.jsx(ge,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"url",children:"URL"}),a.jsx(ge,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ge,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ge,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ge,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ge,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const lTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},cTe={screenshot:Yh,pdf:or,dom:mv};function uTe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Captured outputs"}),a.jsx($e,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(vt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(Yh,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=cTe[l.capture_type],u=lTe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:Z("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ho,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Jr,{className:"h-4 w-4"})}),a.jsx(E,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(ln,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const dTe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},PR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function fTe(){const[e,t]=y.useState(null),[r,n]=y.useState(null),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(!1),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(!1),[x,b]=y.useState(!1),{data:v=[],isLoading:w}=$Ae(),_=y.useMemo(()=>v.find(G=>G.status==="running")??v[0]??null,[v]),j=r??(_==null?void 0:_.id)??null,{data:S}=IAe(j),{data:N=[],isLoading:k,refetch:C}=FAe(j),{data:A=[],isLoading:I}=UAe(),{data:P=[]}=qAe(j,{limit:20}),{data:q=[]}=GAe(),{data:T=[],isLoading:W}=VAe(j),L=LAe(),K=DAe(),D=BAe(),M=zAe(),R=WAe(),ee=YAe(),$=KAe(),ie=HAe(),he=(S==null?void 0:S.status)==="running",We=y.useMemo(()=>T.length===0?0:Math.max(...T.map(G=>G.sequence_order),0)+1,[T]),Ve=G=>{j&&t({open:!0,action:G})},ue=()=>{if(!e||!j)return;const G=e.action==="start"?"running":"stopped";L.mutate({id:j,data:{status:G}},{onSettled:()=>t(null)})},qe=G=>{j&&M.mutate({browser_profile_id:j,capture_type:G,file_path:null,file_url:`/api/browser/captures/${G}-${Date.now()}`,tab_id:null},{onSuccess:Q=>{f({open:!0,type:G,fileUrl:Q.file_url,filePath:Q.file_path})}})},ae=G=>{if(G.file_url){const Q=document.createElement("a");Q.href=G.file_url,Q.download=`capture-${G.capture_type}-${Date.now()}`,Q.click()}},we=y.useMemo(()=>{const G=[];return T.slice(0,5).forEach(Q=>{G.push({id:Q.id,label:`${PR[Q.command_type]}  ${Q.status}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),P.slice(0,3).forEach(Q=>{G.push({id:Q.id,label:`Capture: ${Q.capture_type}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),G.sort((Q,Xe)=>Xe.createdAt.localeCompare(Q.createdAt)).slice(0,8).map(({id:Q,label:Xe,time:Ke})=>({id:Q,label:Xe,time:Ke}))},[T,P]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(mI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(E,{size:"sm",onClick:()=>p(!0),disabled:!j||$.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ye,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(J,{className:"flex-1 flex flex-col min-h-0",children:j?W?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(G=>a.jsx(ce,{className:"h-10 rounded-md"},G))}):T.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(i7,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(E,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(vt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:T.map(G=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:G.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:PR[G.command_type]}),a.jsx(He,{variant:"secondary",className:"text-xs shrink-0",children:G.status}),a.jsx(E,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ie.mutate(G.id),disabled:ie.isPending,"aria-label":"Remove command",children:a.jsx(ln,{className:"h-3 w-3"})})]},G.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(fx,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:G=>n(G.target.value||null),children:v.map(G=>a.jsxs("option",{value:G.id,children:["Profile  ",dTe[G.status]??G.status]},G.id))}),a.jsxs(E,{size:"sm",onClick:()=>Ve("start"),disabled:he||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ve("stop"),disabled:!he||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xh,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(E,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!he,children:a.jsx(Kd,{className:Z("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(ye,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(J,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(G=>a.jsx(ce,{className:"h-24 rounded-lg"},G))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(fE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:he?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(vt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(G=>a.jsxs("button",{type:"button",onClick:()=>{i(G),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[G.snapshot_url?a.jsx("img",{src:G.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(fE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:G.title??G.url,children:G.title||G.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:G.url,children:G.url||""})]})]},G.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs(se,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Yh,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(ye,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(J,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("screenshot"),disabled:!j||!he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Yh,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("pdf"),disabled:!j||!he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(or,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>qe("dom"),disabled:!j||!he||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(mv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(Vr,{className:"h-4 w-4 ml-0.5"})]})]}),P.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(vt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:P.slice(0,5).map(G=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:G.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(G.created_at).toLocaleDateString()})]},G.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),v.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(E,{size:"sm",onClick:()=>Ve("start"),disabled:he||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>Ve("stop"),disabled:!he||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xh,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),v.length===0&&a.jsx(E,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,children:K.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(WS,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(vt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:we.length===0?a.jsx("span",{children:"No activity yet"}):we.map(G=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:G.time,children:G.label},G.id))})})]})]})}),!w&&v.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(J,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(E,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,className:"transition-transform hover:scale-[1.02]",children:K.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-base",children:[a.jsx(mv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(E,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(SI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(ye,{children:"Upload and run automation scripts."})]}),a.jsx(J,{children:I?a.jsx(ce,{className:"h-10 rounded-md"}):A.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:A.slice(0,3).map(G=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:G.name}),a.jsx(He,{variant:"secondary",children:G.execution_status})]},G.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(se,{className:"flex items-center gap-2 text-base",children:[a.jsx(Kn,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(E,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(ye,{children:"Local or node proxy CDP settings."})]}),a.jsx(J,{children:q.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(hI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:q.slice(0,3).map(G=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:G.token_preview||G.connection_type}),a.jsx(He,{variant:"secondary",children:G.connection_type})]},G.id))})})]})]}),e&&a.jsx(QAe,{open:e.open,onOpenChange:G=>!G&&t(null),action:e.action,onConfirm:ue,isPending:L.isPending,profilePath:S==null?void 0:S.footprint_path,isIsolated:S==null?void 0:S.is_isolated}),a.jsx(XAe,{open:o,onOpenChange:l,tab:s}),a.jsx(ZAe,{open:c,onOpenChange:u,onSubmit:G=>D.mutate(G),isSubmitting:D.isPending}),d&&a.jsx(rTe,{open:d.open,onOpenChange:G=>!G&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(sTe,{open:h,onOpenChange:m,existing:null,onSubmit:G=>ee.mutate(G),isSubmitting:ee.isPending}),a.jsx(oTe,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:We,onSubmit:G=>$.mutate(G),isSubmitting:$.isPending}),a.jsx(uTe,{open:x,onOpenChange:b,captures:P,onDownload:ae,onDelete:G=>R.mutate(G),isDeleting:R.isPending})]})}const Vs={getWakeWords:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await z.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await z.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");let r=z.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await z.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await z.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function O6(e,t){return e().catch(()=>t)}const Ur={all:["voice"],wakeWords:()=>[...Ur.all,"wakeWords"],talkModeSettings:()=>[...Ur.all,"talkModeSettings"],talkModeSetting:e=>[...Ur.all,"talkModeSetting",e],transcriptionBackends:()=>[...Ur.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Ur.all,"ttsProviderSetting"],mediaSetting:()=>[...Ur.all,"mediaSetting"]};function hTe(){return Pe({queryKey:Ur.wakeWords(),queryFn:()=>O6(()=>Vs.getWakeWords(),[])})}function mTe(){const e=ve();return pe({mutationFn:t=>Vs.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.wakeWords()}),V.success("Wake word added")},onError:t=>{V.error(t.message||"Failed to add wake word")}})}function pTe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Vs.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.wakeWords()}),V.success("Wake word updated")},onError:t=>{V.error(t.message||"Failed to update wake word")}})}function gTe(){const e=ve();return pe({mutationFn:t=>Vs.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.wakeWords()}),V.success("Wake word removed")},onError:t=>{V.error(t.message||"Failed to remove wake word")}})}function vTe(){return Pe({queryKey:Ur.talkModeSettings(),queryFn:()=>O6(()=>Vs.getTalkModeSettings(),[])})}function yTe(){const e=ve();return pe({mutationFn:t=>Vs.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.talkModeSettings()}),e.invalidateQueries({queryKey:Ur.all}),V.success("Talk mode saved")},onError:t=>{V.error(t.message||"Failed to save talk mode")}})}function xTe(){return Pe({queryKey:Ur.transcriptionBackends(),queryFn:()=>Vs.getTranscriptionBackends()})}function bTe(){const e=ve();return pe({mutationFn:t=>Vs.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.transcriptionBackends()}),V.success("Transcription backends saved")},onError:t=>{V.error(t.message||"Failed to save transcription backends")}})}function wTe(){return Pe({queryKey:Ur.ttsProviderSetting(),queryFn:()=>Vs.getTtsProviderSetting()})}function jTe(){const e=ve();return pe({mutationFn:t=>Vs.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.ttsProviderSetting()}),V.success("TTS provider saved")},onError:t=>{V.error(t.message||"Failed to save TTS provider")}})}function _Te(){return Pe({queryKey:Ur.mediaSetting(),queryFn:()=>Vs.getMediaSetting()})}function STe(){const e=ve();return pe({mutationFn:t=>Vs.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.mediaSetting()}),V.success("Media settings saved")},onError:t=>{V.error(t.message||"Failed to save media settings")}})}const NTe=ft({word:je().min(1,"Wake word is required").max(64),status:nr(["active","inactive"]),propagate_to_nodes:ni()}),v0={word:"",status:"active",propagate_to_nodes:!0};function kTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(NTe),defaultValues:v0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(v0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(v0),t(p)};return a.jsx(Ie,{open:e,onOpenChange:g,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:s?"Edit wake word":"Add wake word"}),a.jsx($e,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ge,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(br,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const CTe=ft({node_id:je().nullable(),enabled:ni(),interrupt_sensitivity:nr(["low","medium","high"])});function ETe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=ut({resolver:dt(CTe),defaultValues:o});y.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const x=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:x,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Talk mode"}),a.jsx(ye,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(J,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Node"}),a.jsxs(lt,{value:f||i,onValueChange:p=>{const x=p===i?null:p,b=x===null?r:t.find(v=>v.node_id===x);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(at,{children:a.jsx(ct,{placeholder:"Default (all nodes)"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Ne,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(br,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Interrupt sensitivity"}),a.jsxs(lt,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"low",children:"Low"}),a.jsx(Ne,{value:"medium",children:"Medium"}),a.jsx(Ne,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const OR=["whisper","google","assemblyai","deepgram","local-cli"];function PTe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=y.useState(r.length>0?[...r]:[...OR]),[c,u]=y.useState(n??"");y.useEffect(()=>{e&&(l(r.length>0?[...r]:[...OR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((x,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Transcription backends"}),a.jsx($e,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:Z("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(mI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(ln,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ge,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const OTe=ft({provider:je().min(1,"Provider is required"),model:je().optional()}),ATe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],AR={provider:"default",model:""};function TTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(OTe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var x;r({provider:p.provider,model:((x=p.model)==null?void 0:x.trim())||null}),d(AR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:AR),t(p)};return a.jsx(Ie,{open:e,onOpenChange:g,children:a.jsxs(Te,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"TTS provider"}),a.jsx($e,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Provider"}),a.jsxs(lt,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsx(it,{children:ATe.map(p=>a.jsx(Ne,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ge,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const RTe=ft({retention_days:ls.number().min(1).max(3650),size_cap_mb:ls.number().min(1).max(1048576),fallback_strategy:nr(["local","cloud","none"]),audio_note_handling:nr(["store","transcribe_and_store","transcribe_only","discard"])}),TR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function MTe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=ut({resolver:dt(RTe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:TR}),u=o("fallback_strategy"),d=o("audio_note_handling");return y.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:TR)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Media storage"}),a.jsx(ye,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(J,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ge,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ge,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Fallback strategy"}),a.jsxs(lt,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"local",children:"Local only"}),a.jsx(Ne,{value:"cloud",children:"Cloud when local full"}),a.jsx(Ne,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Audio note handling"}),a.jsxs(lt,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(at,{children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"store",children:"Store only"}),a.jsx(Ne,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Ne,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Ne,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(E,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function $Te(){var D;const[e,t]=y.useState(!1),[r,n]=y.useState(null),[s,i]=y.useState(!1),[o,l]=y.useState(!1),{data:c=[],isLoading:u}=hTe(),d=mTe(),f=pTe(),h=gTe(),{data:m=[],isLoading:g}=vTe(),p=yTe(),x=m.find(M=>M.node_id===null)??null,{data:b=[]}=sF(),{data:v,isLoading:w}=xTe(),_=bTe(),{data:j,isLoading:S}=wTe(),N=jTe(),{data:k,isLoading:C}=_Te(),A=STe(),I=()=>{n(null),t(!0)},P=M=>{n(M),t(!0)},q=M=>{r?f.mutate({id:r.id,data:{word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes},{onSuccess:()=>t(!1)})},T=M=>{p.mutate({node_id:M.node_id,enabled:M.enabled,interrupt_sensitivity:M.interrupt_sensitivity})},W=(M,R)=>{_.mutate({provider_list:M,cli_fallback:R})},L=M=>{N.mutate({provider:M.provider,model:M.model})},K=M=>{A.mutate(M)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Vr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(nd,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(se,{children:"Wake words"}),a.jsx(ye,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(E,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(J,{children:u?a.jsx(ce,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(nd,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(M=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:M.word}),a.jsx(He,{variant:M.status==="active"?"success":"secondary",children:M.status}),M.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>P(M),"aria-label":"Edit wake word",children:a.jsx(Ni,{className:"h-4 w-4"})}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(M.id),"aria-label":"Delete wake word",children:a.jsx(ln,{className:"h-4 w-4"})})]})]},M.id))})})]}),g?a.jsx(ce,{className:"h-64 w-full rounded-lg"}):a.jsx(ETe,{nodes:b,settings:m,defaultSetting:x,onSave:T,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(a7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(ye,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(J,{children:w?a.jsx(ce,{className:"h-16 w-full rounded-lg"}):v?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=v.provider_list)!=null&&D.length?v.provider_list.join("  "):"default"]}),v.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:v.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(se,{className:"flex items-center gap-2",children:[a.jsx(d7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(ye,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(E,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(J,{children:S?a.jsx(ce,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(ce,{className:"h-80 w-full rounded-lg"}):a.jsx(MTe,{initial:k??null,onSave:K,isSubmitting:A.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(re,{className:"pb-2",children:a.jsx(se,{className:"text-base",children:"Related"})}),a.jsxs(J,{className:"space-y-2",children:[a.jsxs(me,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(Kn,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(me,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(re,{className:"pb-2",children:a.jsxs(se,{className:"text-base flex items-center gap-2",children:[a.jsx(Xm,{className:"h-4 w-4"}),"Help"]})}),a.jsx(J,{children:a.jsx(me,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(kTe,{open:e,onOpenChange:t,onSubmit:q,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(PTe,{open:s,onOpenChange:i,providerList:(v==null?void 0:v.provider_list)??[],cliFallback:(v==null?void 0:v.cli_fallback)??null,onSave:W,isSubmitting:_.isPending}),a.jsx(TTe,{open:o,onOpenChange:l,onSubmit:L,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function ITe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(si,{defaultValue:"network",children:[a.jsxs(Sa,{children:[a.jsx(St,{value:"network",children:"Network"}),a.jsx(St,{value:"remote",children:"Remote access"}),a.jsx(St,{value:"secrets",children:"Secrets"}),a.jsx(St,{value:"tools",children:"Tool policies"}),a.jsx(St,{value:"model",children:"Model defaults"})]}),a.jsx(Nt,{value:"network",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Network binding / TLS"}),a.jsx(ye,{children:"Bind address and TLS certificate."})]}),a.jsx(J,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Bind address"}),a.jsx(ge,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Nt,{value:"remote",className:"space-y-4",children:a.jsxs(X,{children:[a.jsx(re,{children:a.jsx(se,{children:"Remote access (tailnet / proxy)"})}),a.jsx(J,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Secrets management"}),a.jsx(ye,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx(E,{asChild:!0,variant:"secondary",children:a.jsx(me,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Nt,{value:"tools",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Tool policies"}),a.jsx(ye,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(J,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Y,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(br,{id:"sandbox"})]})})]})}),a.jsx(Nt,{value:"model",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Model defaults"}),a.jsx(ye,{children:"Default provider and model for runs."})]}),a.jsx(J,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Default model"}),a.jsx(ge,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(X,{children:a.jsxs(J,{className:"pt-6",children:[a.jsx(E,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const RR="[ENCRYPTED]";async function A6(){const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function gg(e,t,r={}){const s={user_id:await A6(),secret_id:t,action:e,details:r};await z.from("secret_audit_logs").insert(s)}const Rc={getSecrets:async()=>{const{data:e,error:t}=await z.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await z.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await A6(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?RR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await z.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await gg("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await z.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await gg("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?RR:void 0,{data:n,error:s}=await z.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await gg("secret_rotated",e),n},deleteSecret:async e=>{const t=await Rc.getSecret(e),{error:r}=await z.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await gg("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await z.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function DTe(e,t){return e().catch(()=>t)}const En={all:["secrets"],list:()=>[...En.all,"list"],detail:e=>[...En.all,"detail",e],auditLogs:e=>[...En.all,"auditLogs",e]};function LTe(){return Pe({queryKey:En.list(),queryFn:()=>DTe(()=>Rc.getSecrets(),[])})}function FTe(){const e=ve();return pe({mutationFn:t=>Rc.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:En.list()}),e.invalidateQueries({queryKey:En.auditLogs()}),V.success("Secret created")},onError:t=>{V.error(t.message||"Failed to create secret")}})}function UTe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Rc.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:En.list()}),e.invalidateQueries({queryKey:En.detail(r)}),e.invalidateQueries({queryKey:En.auditLogs()}),V.success("Secret updated")},onError:t=>{V.error(t.message||"Failed to update secret")}})}function BTe(){const e=ve();return pe({mutationFn:({id:t,value:r})=>Rc.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:En.list()}),e.invalidateQueries({queryKey:En.detail(r)}),e.invalidateQueries({queryKey:En.auditLogs()}),V.success("Secret rotated")},onError:t=>{V.error(t.message||"Failed to rotate secret")}})}function qTe(){const e=ve();return pe({mutationFn:t=>Rc.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:En.list()}),e.invalidateQueries({queryKey:En.auditLogs()}),V.success("Secret removed")},onError:t=>{V.error(t.message||"Failed to remove secret")}})}function zTe(e=50){return Pe({queryKey:En.auditLogs(e),queryFn:()=>Rc.getAuditLogs(e)})}const WTe=ft({name:je().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),value:je().optional(),key_reference:je().optional()}),y0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function VTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=ut({resolver:dt(WTe),defaultValues:y0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(y0)},h=m=>{m||o(y0),t(m)};return a.jsx(Ie,{open:e,onOpenChange:h,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Add secret"}),a.jsx($e,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"name",children:"Name"}),a.jsx(ge,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(lt,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(at,{className:u.storage_method?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"value",children:"Value"}),a.jsx(ge,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const KTe=ft({name:je().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:je().optional()});function HTe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=ut({resolver:dt(KTe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");y.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Ie,{open:e,onOpenChange:m,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Edit secret"}),a.jsx($e,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-name",children:"Name"}),a.jsx(ge,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{children:"Storage method"}),a.jsxs(lt,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(at,{className:d.storage_method?"border-destructive":"",children:a.jsx(ct,{placeholder:"Select storage"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Ne,{value:"onepassword",children:"1Password"}),a.jsx(Ne,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ge,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function GTe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:Z("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(td,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{children:"Setup & configuration"})]}),a.jsx(ye,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(J,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(br,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(br,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(br,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Or,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const MR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function YTe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=LTe(),{data:d=[],isLoading:f}=zTe(50),h=FTe(),m=UTe(),g=qTe(),p=BTe(),x=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},v=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},_=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(E,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-base",children:"Keychain status"})]}),a.jsx(ye,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(J,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(He,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(He,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(Mi,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(He,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(Ki,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(si,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(Sa,{children:[a.jsx(St,{value:"secrets",children:"Secrets management"}),a.jsx(St,{value:"setup",children:"Setup & configuration"}),a.jsx(St,{value:"audit",children:"Audit logs"})]}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Stored secrets"}),a.jsx(ye,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(J,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(ce,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(td,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(E,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(td,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[MR[j.storage_method]??j.storage_method,"  Updated"," ",Rr(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(He,{variant:"secondary",className:"text-xs",children:MR[j.storage_method]??j.storage_method}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>v(j),children:[a.jsx(Ni,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>w(j),children:[a.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>_(j),children:[a.jsx(ln,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Nt,{value:"setup",className:"space-y-4",children:a.jsx(GTe,{values:o,onChange:l})}),a.jsx(Nt,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Audit logs"})]}),a.jsx(ye,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(J,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(ce,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(vt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:Rr(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(VTe,{open:e,onOpenChange:t,onSubmit:x,isSubmitting:h.isPending}),a.jsx(HTe,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const Xn="/security",Mc={runAudit:()=>Se.post(`${Xn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Xn}/audits${t?`?${t}`:""}`)},getAudit:e=>Se.get(`${Xn}/audits/${e}`),createAudit:e=>Se.post(`${Xn}/audits`,e),getIssuesByAuditId:e=>Se.get(`${Xn}/audits/${e}/issues`),createIssue:e=>Se.post(`${Xn}/issues`,e),applyAutoFix:e=>Se.post(`${Xn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>Se.patch(`${Xn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Xn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>Se.post(`${Xn}/incident-actions`,e),exportAuditLogs:e=>Se.post(`${Xn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return Se.get(`${Xn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>Se.post(`${Xn}/audit-logs`,e)};function T6(e,t){return e().catch(()=>t)}const is={all:["security"],audits:e=>[...is.all,"audits",e],audit:e=>[...is.all,"audit",e??""],issues:e=>[...is.all,"issues",e??""],incidentActions:e=>[...is.all,"incident-actions",e],auditLogs:e=>[...is.all,"audit-logs",e]};function QTe(e){return Pe({queryKey:is.audits(e),queryFn:()=>T6(()=>Mc.getAudits(e),[])})}function XTe(e){return Pe({queryKey:is.issues(e),queryFn:()=>e?T6(()=>Mc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function JTe(){const e=ve();return pe({mutationFn:()=>Mc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:is.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:is.audit(t.audit.id)}),e.invalidateQueries({queryKey:is.issues(t.audit.id)})),V.success("Security audit completed")},onError:t=>{V.error(t.message||"Audit failed")}})}function ZTe(){const e=ve();return pe({mutationFn:t=>Mc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:is.all}),V.success("Auto-fix applied")},onError:t=>{V.error(t.message||"Auto-fix failed")}})}function eRe(){const e=ve();return pe({mutationFn:({issueId:t,data:r})=>Mc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:is.all}),V.success("Issue updated")},onError:t=>{V.error(t.message||"Update failed")}})}function tRe(){const e=ve();return pe({mutationFn:t=>Mc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:is.all}),V.success("Action submitted")},onError:t=>{V.error(t.message||"Action failed")}})}function rRe(){return pe({mutationFn:e=>Mc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}const Jk=y.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:Z("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Jk.displayName="Textarea";function nRe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bI,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Me,{children:l})]}),a.jsxs($e,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const $R={critical:{label:"Critical",icon:Ki,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ol,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:HS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:GS,className:"text-accent bg-accent/15 border-accent/30"}};function sRe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function aRe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=y.useState(!1),[f,h]=y.useState("");if(!e)return null;const m=$R[e.severity]??$R.medium,g=m.icon,p=o||c,x=()=>{d(!0)},b=()=>{i==null||i(e.id)},v=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Re,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:Z("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(He,{variant:"secondary",className:Z("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Me,{className:"text-left pt-1",children:"Security finding"}),a.jsx($e,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(vt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(He,{variant:"outline",className:"text-xs font-medium",children:sRe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,_)=>a.jsx("li",{children:w},_))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(Y,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(br,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(E,{variant:"default",size:"sm",onClick:x,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(Y,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(mx,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(Jk,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(E,{variant:"outline",size:"sm",onClick:v,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(nRe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const iRe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:QS,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:Kd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Jr,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:KS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:xI,variant:"destructive"}};function oRe({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=iRe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:xI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Ie,{open:t,onOpenChange:r,children:a.jsxs(Te,{"aria-describedby":"incident-action-description",children:[a.jsxs(Re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Me,{children:i.label})]}),a.jsx($e,{id:"incident-action-description",children:i.description})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(E,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const lRe=ft({format:nr(["json","csv"]),applyRedaction:ni(),from:je().optional(),to:je().optional()});function cRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=ut({resolver:dt(lRe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Export security logs"}),a.jsx($e,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(lt,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(at,{id:"security-export-format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(br,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ge,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ge,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const IR={critical:{label:"Critical",icon:Ki,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:ol,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:HS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:GS,className:"text-accent bg-accent/15 border-accent/30"}};function DR(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function uRe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function LR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function dRe({issue:e,isSelected:t,onSelect:r}){const n=IR[e.severity]??IR.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:Z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:Z("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(He,{variant:"secondary",className:Z("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(He,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const fRe=[{type:"revoke_sessions",label:"Revoke sessions",icon:QS},{type:"rotate_secrets",label:"Rotate secrets",icon:Kd},{type:"export_logs",label:"Export logs",icon:Jr},{type:"stop_blast_radius",label:"Stop blast radius",icon:KS}];function hRe(){const{user:e}=cx(),[t,r]=y.useState(null),[n,s]=y.useState(!1),[i,o]=y.useState(!1),[l,c]=y.useState(!1),[u,d]=y.useState(null),[f,h]=y.useState(!1),{data:m=[],isLoading:g}=QTe({limit:10}),p=m[0]??null,x=(p==null?void 0:p.id)??null,{data:b=[],isLoading:v}=XTe(x),w=JTe(),_=tRe(),j=rRe(),S=ZTe(),N=eRe(),k={critical:b.filter(L=>L.severity==="critical").length,high:b.filter(L=>L.severity==="high").length,medium:b.filter(L=>L.severity==="medium").length,low:b.filter(L=>L.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,A=L=>{r(L),s(!1),o(!0)},I=L=>{if(L==="export_logs"){h(!0);return}d(L),c(!0)},P=L=>{_.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:x??void 0,action_type:L},{onSuccess:()=>{d(null)}})},q=L=>{j.mutate(L,{onSuccess:K=>{K!=null&&K.download_url&&window.open(K.download_url,"_blank")}})},T=L=>{S.mutate(L,{onSuccess:()=>{o(!1),r(null)}})},W=(L,K)=>{N.mutate({issueId:L,data:{applied_fix:K}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Vr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Or,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(me,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(me,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(me,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Run audit"}),a.jsx(ye,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs(E,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Va,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(qN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Audit summary"}),a.jsx(ye,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(J,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ce,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:Z("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",LR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:Z("font-semibold text-lg",LR(C)),children:uRe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",DR(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(He,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(He,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(He,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(He,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(He,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Or,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Issue list"}),a.jsx(ye,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(J,{children:a.jsx(vt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:v?[1,2,3,4].map(L=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},L)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(HS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(L=>a.jsx(dRe,{issue:L,isSelected:(t==null?void 0:t.id)===L.id,onSelect:()=>A(L)},L.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Incident response"}),a.jsx(ye,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(J,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:fRe.map(({type:L,label:K,icon:D})=>a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>I(L),disabled:_.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(D,{className:"mr-2 h-4 w-4"}),K]},L))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs(se,{className:"text-base flex items-center gap-2",children:[a.jsx(Jf,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(ye,{children:"Quick links to recent audit runs."})]}),a.jsx(J,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(L=>a.jsx(ce,{className:"h-12 w-full rounded-lg"},L))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(L=>a.jsx("li",{children:a.jsx("div",{className:Z("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===L.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",L.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:DR(L.created_at)})]})})},L.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Export"}),a.jsx(ye,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(J,{children:a.jsxs(E,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(aRe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:T,isApplyingAutoFix:S.isPending,onApplyManualFix:W,isApplyingManualFix:N.isPending}),a.jsx(oRe,{actionType:u,open:l,onOpenChange:c,onConfirm:P,isSubmitting:_.isPending}),a.jsx(cRe,{open:f,onOpenChange:h,onExport:q,isExporting:j.isPending})]})}const wn="/logs",$c={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return Se.get(`${wn}${t?`?${t}`:""}`)},getLog:e=>Se.get(`${wn}/${e}`),createLog:e=>Se.post(`${wn}`,e),getTraceByLogId:e=>Se.get(`${wn}/${e}/trace`),getTrace:e=>Se.get(`${wn}/traces/${e}`),createTrace:e=>Se.post(`${wn}/traces`,e),updateTrace:(e,t)=>Se.patch(`${wn}/traces/${e}`,t),exportLogs:e=>Se.post(`${wn}/export`,e),getRetentionSettings:()=>Se.get(`${wn}/retention`),updateRetentionSettings:e=>Se.patch(`${wn}/retention`,e),createRetentionSettings:e=>Se.post(`${wn}/retention`,e),getRedactionRules:()=>Se.get(`${wn}/redaction-rules`),createRedactionRule:e=>Se.post(`${wn}/redaction-rules`,e),updateRedactionRule:(e,t)=>Se.patch(`${wn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>Se.delete(`${wn}/redaction-rules/${e}`)};function Zk(e,t){return e().catch(()=>t)}const Cs={all:["logs"],list:e=>[...Cs.all,"list",e],detail:e=>[...Cs.all,"detail",e],traceByLogId:e=>[...Cs.all,"trace",e],trace:e=>[...Cs.all,"trace-id",e],retention:()=>[...Cs.all,"retention"],redactionRules:()=>[...Cs.all,"redaction-rules"]};function mRe(e){return Pe({queryKey:Cs.list(e),queryFn:()=>Zk(()=>$c.getLogs(e),[])})}function pRe(e){return Pe({queryKey:Cs.traceByLogId(e??""),queryFn:()=>e?Zk(()=>$c.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function gRe(){return pe({mutationFn:e=>$c.exportLogs(e),onSuccess:()=>{V.success("Export started")},onError:e=>{V.error(e.message||"Export failed")}})}function vRe(){return Pe({queryKey:Cs.redactionRules(),queryFn:()=>Zk(()=>$c.getRedactionRules(),[])})}function yRe(){const e=ve();return pe({mutationFn:t=>$c.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cs.redactionRules()}),V.success("Redaction rule added")},onError:t=>{V.error(t.message||"Failed to add redaction rule")}})}function xRe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>$c.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Cs.redactionRules()}),V.success("Redaction rule updated")},onError:t=>{V.error(t.message||"Failed to update redaction rule")}})}function bRe(){const e=ve();return pe({mutationFn:t=>$c.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Cs.redactionRules()}),V.success("Redaction rule removed")},onError:t=>{V.error(t.message||"Failed to remove redaction rule")}})}const R6=["debug","info","warning","error","critical"],wRe=ft({severity:nr(R6).optional(),from:je().optional(),to:je().optional(),search:je().optional(),limit:ls.number().min(10).max(500).optional()});function jRe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=ut({resolver:dt(wRe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Filter logs"}),a.jsx($e,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(lt,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(at,{id:"filter-severity",children:a.jsx(ct,{placeholder:"All severities"})}),a.jsx(it,{children:R6.map(m=>a.jsx(Ne,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ge,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ge,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ge,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ge,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(E,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const M6=["debug","info","warning","error","critical"],_Re=ft({format:nr(["json","csv"]),applyRedaction:ni(),from:je().optional(),to:je().optional(),severity:nr(M6).optional()});function SRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=y.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=ut({resolver:dt(_Re),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const x={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(x),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Export logs"}),a.jsx($e,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-format",children:"Format"}),a.jsxs(lt,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(at,{id:"export-format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"json",children:"JSON"}),a.jsx(Ne,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(Y,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(br,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ge,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ge,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(lt,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(at,{id:"export-severity",children:a.jsx(ct,{placeholder:"All severities"})}),a.jsx(it,{children:M6.map(p=>a.jsx(Ne,{value:p,children:p},p))})]})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const NRe=ft({field_name:je().min(1,"Field name is required").max(120),is_redacted:ni()});function kRe({open:e,onOpenChange:t}){const[r,n]=y.useState(!1),{data:s=[],isLoading:i}=vRe(),o=yRe(),l=xRe(),c=bRe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=ut({resolver:dt(NRe),defaultValues:{field_name:"",is_redacted:!0}}),x=h("field_name"),b=h("is_redacted"),v=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},_=j=>{c.mutate(j)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx($e,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(vt,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Or,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:Z("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(br,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(E,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>_(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(ln,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(v),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(ge,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(Y,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(br,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(E,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(E,{type:"submit",size:"sm",disabled:!(x!=null&&x.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(E,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function CRe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function FR({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=y.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(Nc,{className:"h-4 w-4 shrink-0"}):a.jsx(Vr,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function UR({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(J,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-24 w-full"}),a.jsx(ce,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(ad,{className:"h-4 w-4"})})]}),a.jsx(J,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:Z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(se,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(E,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Jr,{className:"h-4 w-4"})}),r&&a.jsx(E,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(ad,{className:"h-4 w-4"})})]})]}),a.jsxs(J,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Mo,{className:"h-3.5 w-3.5"}),"Duration: ",CRe(e.duration_ms)]}),a.jsx(vt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(FR,{label:"Tool invocations",icon:mx,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(FR,{label:"Model calls",icon:Wa,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const BR={debug:{label:"debug",icon:YH,className:"text-muted-foreground"},info:{label:"info",icon:GS,className:"text-primary"},warning:{label:"warning",icon:ol,className:"text-warning"},error:{label:"error",icon:Ki,className:"text-destructive"},critical:{label:"critical",icon:ux,className:"text-destructive font-semibold"}};function ERe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function x0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=BR[e.severity]??BR.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:Z("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:Z("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:Z("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(He,{variant:"secondary",className:Z("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:ERe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function PRe(){const[e,t]=y.useState(!1),[r,n]=y.useState(!1),[s,i]=y.useState(!1),[o,l]=y.useState("logs"),[c,u]=y.useState({limit:100}),[d,f]=y.useState(null),[h,m]=y.useState(new Set),{data:g=[],isLoading:p}=mRe(c),{data:x,isLoading:b}=pRe(d),v=gRe(),w=C=>{u(C)},_=C=>{v.mutate(C,{onSuccess:A=>{A!=null&&A.download_url&&window.open(A.download_url,"_blank")}})},j=C=>{m(A=>{const I=new Set(A);return I.has(C)?I.delete(C):I.add(C),I})},S=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=y.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Vr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(or,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(si,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(Sa,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(St,{value:"logs",className:"gap-2",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(St,{value:"traces",className:"gap-2",children:[a.jsx(hE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(St,{value:"export",className:"gap-2",children:[a.jsx(Qh,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(Nt,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Log stream"}),a.jsx(ye,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(J,{children:a.jsx(vt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(x0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),a.jsx(UR,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Filters & actions"}),a.jsx(ye,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(J,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(mh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Run traces"}),a.jsx(ye,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(J,{children:a.jsx(vt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(hE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(x0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id)},C.id))})})})]}),a.jsx(UR,{trace:x??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Trace actions"}),a.jsx(ye,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(J,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(mh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(se,{children:"Export logs"}),a.jsx(ye,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(E,{variant:"outline",size:"sm",onClick:()=>S(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(E,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(vt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Qh,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(x0,{log:C,isSelected:d===C.id,onSelect:()=>f(A=>A===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(re,{className:"pb-2",children:[a.jsx(se,{className:"text-base",children:"Export options"}),a.jsx(ye,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(J,{className:"space-y-3",children:[a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(E,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(mh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(me,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(Kn,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(jRe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(SRe,{open:r,onOpenChange:n,onExport:_,isExporting:v.isPending,selectedLogIds:N}),a.jsx(kRe,{open:s,onOpenChange:i})]})}const qf="admin_workspaces",zf="admin_workspace_members",Wf="admin_licenses",qR="admin_analytics_metrics",Mn={getWorkspaces:async()=>{const{data:e,error:t}=await z.from(qf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await z.from(qf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await z.from(qf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await z.from(qf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await z.from(qf).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await z.from(zf).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await z.from(zf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await z.from(zf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await z.from(zf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await z.from(zf).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=z.from(Wf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await z.from(Wf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await z.from(Wf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await z.from(Wf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await z.from(Wf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=z.from(qR).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await z.from(qR).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await z.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function gp(e,t){return e().catch(()=>t)}const Yt={all:["admin"],workspaces:()=>[...Yt.all,"workspaces"],workspace:e=>[...Yt.all,"workspace",e],workspaceMembers:e=>[...Yt.all,"workspace-members",e],allMembers:()=>[...Yt.all,"members"],licenses:e=>[...Yt.all,"licenses",e],license:e=>[...Yt.all,"license",e],analytics:e=>[...Yt.all,"analytics",e]};function ORe(){return Pe({queryKey:Yt.workspaces(),queryFn:()=>gp(()=>Mn.getWorkspaces(),[])})}function ARe(){const e=ve();return pe({mutationFn:t=>Mn.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),V.success("Workspace created")},onError:t=>{V.error(t.message??"Failed to create workspace")}})}function TRe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Mn.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.workspaces()}),e.invalidateQueries({queryKey:Yt.workspace(r)}),V.success("Workspace updated")},onError:t=>{V.error(t.message??"Failed to update workspace")}})}function RRe(){const e=ve();return pe({mutationFn:t=>Mn.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),V.success("Workspace deleted")},onError:t=>{V.error(t.message??"Failed to delete workspace")}})}function MRe(){return Pe({queryKey:Yt.allMembers(),queryFn:()=>gp(()=>Mn.getAllMembers(),[])})}function $Re(){const e=ve();return pe({mutationFn:t=>Mn.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r.workspace_id)}),V.success("User added to workspace")},onError:t=>{V.error(t.message??"Failed to add user")}})}function IRe(){const e=ve();return pe({mutationFn:({id:t,data:r,workspaceId:n})=>Mn.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),V.success("Member updated")},onError:t=>{V.error(t.message??"Failed to update member")}})}function DRe(){const e=ve();return pe({mutationFn:({id:t})=>Mn.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),V.success("Member removed")},onError:t=>{V.error(t.message??"Failed to remove member")}})}function LRe(e){return Pe({queryKey:Yt.licenses(e),queryFn:()=>gp(()=>Mn.getLicenses(e),[])})}function FRe(){const e=ve();return pe({mutationFn:t=>Mn.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),V.success("License created")},onError:t=>{V.error(t.message??"Failed to create license")}})}function URe(){const e=ve();return pe({mutationFn:({id:t,data:r})=>Mn.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.licenses()}),e.invalidateQueries({queryKey:Yt.license(r)}),V.success("License updated")},onError:t=>{V.error(t.message??"Failed to update license")}})}function BRe(){const e=ve();return pe({mutationFn:t=>Mn.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),V.success("License deleted")},onError:t=>{V.error(t.message??"Failed to delete license")}})}function qRe(e){return Pe({queryKey:Yt.analytics(e),queryFn:()=>gp(()=>Mn.getAnalyticsMetrics(e),[])})}const zRe=e=>[...Yt.all,"profile",e];function WRe(e){return Pe({queryKey:zRe(e??""),queryFn:()=>e?gp(()=>Mn.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const VRe=ft({name:je().min(1,"Name is required").max(200,"Name too long"),active_users_count:ls.number().min(0,"Must be 0 or more"),status:nr(["active","archived","suspended"])}),zR={name:"",active_users_count:0,status:"active"};function KRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(VRe),defaultValues:zR}),h=u("status");y.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(zR)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:i?"Edit workspace":"Create workspace"}),a.jsx($e,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ge,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ge,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Status"}),a.jsxs(lt,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(ct,{placeholder:"Select status"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"active",children:"Active"}),a.jsx(Ne,{value:"archived",children:"Archived"}),a.jsx(Ne,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const HRe=ft({user_id:je().uuid("Invalid user ID"),role:nr(["admin","member","viewer"])}),WR={user_id:"",role:"member"};function GRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(HRe),defaultValues:WR}),m=d("role");y.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(WR)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx($e,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ge,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Role"}),a.jsxs(lt,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(ct,{placeholder:"Select role"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"admin",children:"Admin"}),a.jsx(Ne,{value:"member",children:"Member"}),a.jsx(Ne,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const YRe=ft({workspace_id:je().uuid("Select a workspace"),user_id:je().optional(),license_type:nr(["seat","pro","enterprise","trial"]),expiry_date:je().optional()}),VR={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function QRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(YRe),defaultValues:VR}),m=d("workspace_id"),g=d("license_type");y.useEffect(()=>{var x;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...VR,workspace_id:((x=s[0])==null?void 0:x.id)??""})},[e,i,s,f]);const p=x=>{const b=x.expiry_date?new Date(x.expiry_date).toISOString():null;r(o&&i?{user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}:{workspace_id:x.workspace_id,user_id:x.user_id||null,license_type:x.license_type,expiry_date:b}),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:o?"Edit license":"Allocate license"}),a.jsx($e,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:m,onValueChange:x=>u("workspace_id",x),disabled:o,children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(ct,{placeholder:"Select workspace"})}),a.jsx(it,{children:s.map(x=>a.jsx(Ne,{value:x.id,children:x.name},x.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ge,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"License type"}),a.jsxs(lt,{value:g,onValueChange:x=>u("license_type",x),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(ct,{placeholder:"Select type"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"seat",children:"Seat"}),a.jsx(Ne,{value:"pro",children:"Pro"}),a.jsx(Ne,{value:"enterprise",children:"Enterprise"}),a.jsx(Ne,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ge,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const XRe=ft({workspace_id:je().optional(),metric_type:je().optional(),from:je().optional(),to:je().optional(),limit:ls.number().min(10).max(500).optional()}),vg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},JRe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function ZRe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(XRe),defaultValues:s??vg});y.useEffect(()=>{e&&u(s??vg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(vg),r(vg),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Filter analytics"}),a.jsx($e,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(ct,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Ne,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Metric type"}),a.jsxs(lt,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(ct,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),JRe.map(p=>a.jsx(Ne,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(E,{type:"submit",children:"Apply"})]})]})]})})}const eMe={admin:"default",member:"secondary",viewer:"outline"};function tMe({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=WRe(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Fa(Pl(r.created_at),"MMM d, yyyy"):"";return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(ep,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx($e,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(ce,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rd,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ag,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Or,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(He,{variant:eMe[r.role],className:Z("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sc,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs(Fe,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(E,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(E,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(g7,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function rMe({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[440px]",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(ol,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx($e,{children:n})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(E,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const nMe={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function sMe({workspace:e,onUpdate:t,isSubmitting:r=!1}){var x,b,v;const[n,s]=y.useState(((x=e==null?void 0:e.configuration_details)==null?void 0:x.allow_user_registration)===!0),[i,o]=y.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=y.useState(((v=e==null?void 0:e.configuration_details)==null?void 0:v.registry_enabled)!==!1),[u,d]=y.useState(!1),[f,h]=y.useState(!1);y.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,_)=>{w==="allow_user_registration"&&s(!!_),w==="data_retention_days"&&o(Number(_)||90),w==="registry_enabled"&&c(!!_),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...nMe,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(ye,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(Y,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(br,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(Y,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(br,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(lt,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(at,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(ct,{})}),a.jsx(it,{children:[30,60,90,180,365].map(w=>a.jsxs(Ne,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(E,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(JS,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(rMe,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(re,{children:[a.jsxs(se,{className:"text-lg flex items-center gap-2",children:[a.jsx(Kn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(ye,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const aMe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function iMe({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Fa(Pl(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx($e,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(He,{variant:i?"destructive":"default",children:aMe[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(E,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(dx,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(E,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ho,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx(Fe,{className:"border-t border-border pt-4",children:a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const oMe=ft({workspace_id:je().optional(),from:je().min(1,"From date is required"),to:je().min(1,"To date is required"),format:nr(["csv","json"]),metric_type:je().optional()}),lMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],cMe={workspace_id:"",from:Fa(LN(new Date,30),"yyyy-MM-dd"),to:Fa(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function uMe(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function dMe({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=ut({resolver:dt(oMe),defaultValues:cMe}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await Mn.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){V.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const x=new Blob([uMe(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}else{const x=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(x),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}V.success("Report downloaded"),t(!1)}catch(g){V.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"max-w-[640px]",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2",children:[a.jsx(Jr,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx($e,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Workspace"}),a.jsxs(lt,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(ct,{placeholder:"All workspaces"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(Ne,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Metric type"}),a.jsxs(lt,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(ct,{placeholder:"All types"})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"all",children:"All types"}),lMe.map(m=>a.jsx(Ne,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{children:"Format"}),a.jsxs(lt,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(at,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(ct,{})}),a.jsxs(it,{children:[a.jsx(Ne,{value:"csv",children:"CSV"}),a.jsx(Ne,{value:"json",children:"JSON"})]})]})]}),a.jsxs(Fe,{className:"gap-2 pt-4",children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(E,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Jr,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const fMe={active:"default",archived:"secondary",suspended:"destructive"},hMe={admin:"default",member:"secondary",viewer:"outline"},mMe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function pMe(){var H;const[e,t]=y.useState("workspaces"),[r,n]=y.useState(!1),[s,i]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(null),[d,f]=y.useState(null),[h,m]=y.useState(!1),[g,p]=y.useState(null),[x,b]=y.useState(!1),[v,w]=y.useState(null),[_,j]=y.useState(null),[S,N]=y.useState(!1),[k,C]=y.useState(null),[A,I]=y.useState(!1),[P,q]=y.useState(null),[T,W]=y.useState(!1),[L,K]=y.useState(""),{data:D=[],isLoading:M}=ORe(),{data:R=[],isLoading:ee}=MRe();y.useEffect(()=>{D.length>0&&!k&&C(D[0])},[D,k]);const{data:$=[],isLoading:ie}=LRe(),{data:he=[],isLoading:We}=qRe({workspace_id:(v==null?void 0:v.workspace_id)||void 0,metric_type:(v==null?void 0:v.metric_type)||void 0,from:(v==null?void 0:v.from)||void 0,to:(v==null?void 0:v.to)||void 0,limit:(v==null?void 0:v.limit)??100}),Ve=ARe(),ue=TRe(),qe=RRe(),ae=$Re(),we=IRe(),G=DRe(),Q=FRe(),Xe=URe(),Ke=BRe(),xt=y.useMemo(()=>{const U={},le=v!=null&&v.from?Pl(v.from):LN(new Date,30),de=v!=null&&v.to?Pl(v.to):new Date;for(let ne=new Date(le);ne<=de;ne.setDate(ne.getDate()+1)){const _e=Fa(ne,"yyyy-MM-dd");U[_e]={date:_e,value:0,sessions:0,runs:0}}return he.forEach(ne=>{const _e=ne.bucket_time.slice(0,10);U[_e]||(U[_e]={date:_e,value:0,sessions:0,runs:0}),U[_e].value+=Number(ne.value),ne.metric_type==="active_sessions"&&(U[_e].sessions=Number(ne.value)),(ne.metric_type==="run_success_rate"||ne.metric_type==="run_failure_count")&&(U[_e].runs=Number(ne.value))}),Object.values(U).sort((ne,_e)=>new Date(ne.date).getTime()-new Date(_e.date).getTime())},[he,v]),ot=y.useMemo(()=>{const U={};return D.forEach(le=>{U[le.id]=le}),U},[D]),zt=y.useMemo(()=>{if(!L.trim())return R;const U=L.trim().toLowerCase();return R.filter(le=>{var de;return le.user_id.toLowerCase().includes(U)||(((de=ot[le.workspace_id])==null?void 0:de.name)??"").toLowerCase().includes(U)||le.role.toLowerCase().includes(U)})},[R,L,ot]),jr=y.useMemo(()=>{const U=new Date,le=new Date(U.getTime()+30*24*60*60*1e3);let de=0,ne=0;return $.forEach(_e=>{(!_e.expiry_date||new Date(_e.expiry_date)>=U)&&de++,_e.expiry_date&&new Date(_e.expiry_date)<=le&&new Date(_e.expiry_date)>=U&&ne++}),{total:$.length,active:de,expiringSoon:ne}},[$]),un=U=>{s?(ue.mutate({id:s.id,data:U}),i(null)):Ve.mutate(U),n(!1)},vs=U=>{c?(we.mutate({id:c.id,data:U,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in U&&(ae.mutate(U),f(null)),l(!1)},F=U=>{g?(Xe.mutate({id:g.id,data:U}),p(null)):Q.mutate(U),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(si,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(Sa,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(St,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Ag,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(St,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(vw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(St,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(xo,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(St,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Xf,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Nt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"Workspaces"}),a.jsxs(E,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(J,{children:M?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):D.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Ag,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(E,{onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:D.map(U=>a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===U.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(U),children:[a.jsx("p",{className:"font-medium truncate",children:U.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.active_users_count," active users"]})]}),a.jsx(He,{variant:fMe[U.status],className:"shrink-0 ml-2",children:U.status}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{i(U),n(!0)},children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&qe.mutate(U.id)},children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},U.id))})})})]}),a.jsx(sMe,{workspace:k??D[0]??null,onUpdate:(U,le)=>ue.mutate({id:U,data:le}),isSubmitting:ue.isPending})]})}),a.jsx(Nt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(re,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ge,{placeholder:"Search by user ID, workspace, role",value:L,onChange:U=>K(U.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(E,{size:"sm",onClick:()=>{u(null),f(D[0]??null),l(!0)},disabled:D.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(mE,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(J,{children:ee?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):R.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(vw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(E,{onClick:()=>{f(D[0]??null),l(!0)},disabled:D.length===0,children:[a.jsx(mE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(vt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:zt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):zt.map(U=>{var le;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[U.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((le=ot[U.workspace_id])==null?void 0:le.name)??U.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(He,{variant:hMe[U.role],className:"capitalize",children:U.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(U),N(!0)},"aria-label":"View user details",children:a.jsx(JH,{className:"h-4 w-4"})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(E,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{u(U),f(null),l(!0)},children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&G.mutate({id:U.id,workspaceId:U.workspace_id})},children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},U.id)})})]})})})})]})}),a.jsxs(Nt,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(xo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("div",{className:"text-2xl font-bold",children:jr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(xo,{className:"h-4 w-4 text-success"})]}),a.jsx(J,{children:a.jsx("div",{className:"text-2xl font-bold",children:jr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(xo,{className:"h-4 w-4 text-warning"})]}),a.jsx(J,{children:a.jsx("div",{className:"text-2xl font-bold",children:jr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsxs(E,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{q(null),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(se,{className:"text-lg",children:"License Management"}),a.jsxs(E,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(J,{children:ie?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):$.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(xo,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(E,{onClick:()=>m(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(vt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:$.map(U=>{var le;return a.jsxs("li",{className:Z("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:mMe[U.license_type]??U.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((le=ot[U.workspace_id])==null?void 0:le.name)??U.workspace_id,U.user_id?`  ${U.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[U.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Fa(Pl(U.expiry_date),"MMM d, yyyy")]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(E,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(ds,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{q(U),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Rt,{onClick:()=>{p(U),m(!0)},children:[a.jsx(Ni,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&Ke.mutate(U.id)},children:[a.jsx(ln,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},U.id)})})})})]})]}),a.jsxs(Nt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(mh,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>W(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Jr,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:he.filter(U=>U.metric_type==="active_sessions").reduce((U,le)=>U+Number(le.value),0),icon:vw},{title:"Run success rate",value:he.filter(U=>U.metric_type==="run_success_rate").reduce((U,le)=>U+Number(le.value),0)||"",icon:Xf},{title:"Skill installs",value:he.filter(U=>U.metric_type==="skill_installs").reduce((U,le)=>U+Number(le.value),0),icon:Ag},{title:"Data points",value:he.length,icon:Xf}].map(({title:U,value:le,icon:de})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(re,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(se,{className:"text-sm font-medium text-muted-foreground",children:U}),a.jsx(de,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(J,{children:a.jsx("div",{className:"text-2xl font-bold",children:le})})]},U))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Metrics over time"}),a.jsx(ye,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(J,{children:We?a.jsx(ce,{className:"h-[280px] w-full rounded-lg"}):xt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Xf,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(E,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(mh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(F_,{width:"100%",height:280,children:a.jsxs(P6,{data:xt,children:[a.jsx(My,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(_s,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:U=>[U,"Value"],labelFormatter:U=>Fa(Pl(U),"MMM d, yyyy")}),a.jsx(Ji,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),xt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(re,{children:[a.jsx(se,{children:"Metric breakdown (bar)"}),a.jsx(ye,{children:"Daily values for the selected period."})]}),a.jsx(J,{children:a.jsx(F_,{width:"100%",height:240,children:a.jsxs(yAe,{data:xt,children:[a.jsx(My,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(bc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(wc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(_s,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:U=>Fa(Pl(U),"MMM d, yyyy")}),a.jsx(Tc,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(KRe,{open:r,onOpenChange:n,onSubmit:un,isSubmitting:Ve.isPending||ue.isPending,workspace:s}),a.jsx(GRe,{open:o,onOpenChange:l,onSubmit:vs,isSubmitting:ae.isPending||we.isPending,workspace:c?ot[c.workspace_id]??null:d,member:c}),a.jsx(QRe,{open:h,onOpenChange:m,onSubmit:F,isSubmitting:Q.isPending||Xe.isPending,workspaces:D,license:g}),a.jsx(ZRe,{open:x,onOpenChange:b,onApply:w,workspaces:D,currentValues:v}),a.jsx(tMe,{open:S,onOpenChange:N,member:_,workspace:_?ot[_.workspace_id]??null:null,onEdit:()=>{_&&(N(!1),u(_),f(null),l(!0))},onRevoke:()=>{_&&(G.mutate({id:_.id,workspaceId:_.workspace_id}),j(null),N(!1))},isRevoking:G.isPending}),a.jsx(iMe,{open:A,onOpenChange:I,license:P,workspaceName:P?((H=ot[P.workspace_id])==null?void 0:H.name)??"":void 0}),a.jsx(dMe,{open:T,onOpenChange:W,workspaces:D})]})}var Pb="Collapsible",[gMe,$6]=Us(Pb),[vMe,eC]=gMe(Pb),I6=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=Qa({prop:n,defaultProp:s??!1,onChange:o,caller:Pb});return a.jsx(vMe,{scope:r,disabled:i,contentId:Ts(),open:c,onOpenToggle:y.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":rC(c),"data-disabled":i?"":void 0,...l,ref:t})})});I6.displayName=Pb;var D6="CollapsibleTrigger",L6=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=eC(D6,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":rC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Ee(e.onClick,s.onOpenToggle)})});L6.displayName=D6;var tC="CollapsibleContent",F6=y.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=eC(tC,e.__scopeCollapsible);return a.jsx(Gn,{present:r||s.open,children:({present:i})=>a.jsx(yMe,{...n,ref:t,present:i})})});F6.displayName=tC;var yMe=y.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=eC(tC,r),[l,c]=y.useState(n),u=y.useRef(null),d=pt(t,u),f=y.useRef(0),h=f.current,m=y.useRef(0),g=m.current,p=o.open||l,x=y.useRef(p),b=y.useRef(void 0);return y.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),wr(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,x.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":rC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function rC(e){return e?"open":"closed"}var xMe=I6,bMe=L6,wMe=F6,Ea="Accordion",jMe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[nC,_Me,SMe]=Nx(Ea),[Ob]=Us(Ea,[SMe,$6]),sC=$6(),U6=O.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(nC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(EMe,{...i,ref:t}):a.jsx(CMe,{...s,ref:t})})});U6.displayName=Ea;var[B6,NMe]=Ob(Ea),[q6,kMe]=Ob(Ea,{collapsible:!1}),CMe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=Qa({prop:r,defaultProp:n??"",onChange:s,caller:Ea});return a.jsx(B6,{scope:e.__scopeAccordion,value:O.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:O.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(q6,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(z6,{...o,ref:t})})})}),EMe=O.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=Qa({prop:r,defaultProp:n??[],onChange:s,caller:Ea}),c=O.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=O.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(B6,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(q6,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(z6,{...i,ref:t})})})}),[PMe,Ab]=Ob(Ea),z6=O.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=O.useRef(null),c=pt(l,t),u=_Me(r),f=Gd(s)==="ltr",h=Ee(e.onKeyDown,m=>{var k;if(!jMe.includes(m.key))return;const g=m.target,p=u().filter(C=>{var A;return!((A=C.ref.current)!=null&&A.disabled)}),x=p.findIndex(C=>C.ref.current===g),b=p.length;if(x===-1)return;m.preventDefault();let v=x;const w=0,_=b-1,j=()=>{v=x+1,v>_&&(v=w)},S=()=>{v=x-1,v<w&&(v=_)};switch(m.key){case"Home":v=w;break;case"End":v=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=v%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(PMe,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(nC.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Fy="AccordionItem",[OMe,aC]=Ob(Fy),W6=O.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Ab(Fy,r),o=NMe(Fy,r),l=sC(r),c=Ts(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(OMe,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(xMe,{"data-orientation":i.orientation,"data-state":Q6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});W6.displayName=Fy;var V6="AccordionHeader",K6=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ab(Ea,r),i=aC(V6,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":Q6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});K6.displayName=V6;var L1="AccordionTrigger",H6=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ab(Ea,r),i=aC(L1,r),o=kMe(L1,r),l=sC(r);return a.jsx(nC.ItemSlot,{scope:r,children:a.jsx(bMe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});H6.displayName=L1;var G6="AccordionContent",Y6=O.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Ab(Ea,r),i=aC(G6,r),o=sC(r);return a.jsx(wMe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});Y6.displayName=G6;function Q6(e){return e?"open":"closed"}var AMe=U6,X6=W6,TMe=K6,J6=H6,Z6=Y6;const RMe=AMe,eq=y.forwardRef(({className:e,...t},r)=>a.jsx(X6,{ref:r,className:Z("border-b border-border",e),...t}));eq.displayName=X6.displayName;const tq=y.forwardRef(({className:e,children:t,...r},n)=>a.jsx(TMe,{className:"flex",children:a.jsxs(J6,{ref:n,className:Z("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Nc,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));tq.displayName=J6.displayName;const rq=y.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Z6,{ref:n,className:Z("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));rq.displayName=Z6.displayName;const MMe="help_faqs",$Me="help_doc_links",IMe="support_requests",DMe="help_changelog",Tb={getFaqs:async()=>{const{data:e,error:t}=await z.from(MMe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await z.from($Me).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await z.from(IMe).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await z.from(DMe).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},ec={all:["help"],faqs:()=>[...ec.all,"faqs"],docLinks:()=>[...ec.all,"doc-links"],changelog:()=>[...ec.all,"changelog"]};function iC(e,t){return e().catch(()=>t)}function LMe(){return Pe({queryKey:ec.faqs(),queryFn:()=>iC(Tb.getFaqs,[])})}function FMe(){return Pe({queryKey:ec.docLinks(),queryFn:()=>iC(Tb.getDocLinks,[])})}function UMe(){const e=ve();return pe({mutationFn:t=>Tb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:ec.all}),V.success("Support request submitted. Well get back to you soon.")},onError:t=>{V.error(t.message||"Failed to submit support request")}})}function BMe(e){return Pe({queryKey:[...ec.changelog(),50],queryFn:()=>iC(()=>Tb.getChangelog(50),[])})}function qMe({open:e,onOpenChange:t}){return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{showClose:!0,className:"max-w-md",children:[a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(Mi,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(Me,{children:"Request received"}),a.jsx($e,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx(Fe,{className:"sm:justify-end",children:a.jsx(E,{onClick:()=>t(!1),children:"Done"})})]})})}const zMe=ft({name:je().min(1,"Name is required").max(255,"Name is too long"),email:je().min(1,"Email is required").email("Enter a valid email"),issue_description:je().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),b0={name:"",email:"",issue_description:""};function WMe(){var f;const{user:e}=cx(),t=UMe(),[r,n]=y.useState(!1),s=y.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=ut({resolver:dt(zMe),defaultValues:e!=null&&e.email?{...b0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:b0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(b0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(ye,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(J,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_name",children:"Name"}),a.jsx(ge,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_email",children:"Email"}),a.jsx(ge,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(Jk,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(E,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(qMe,{open:r,onOpenChange:n})]})}const VMe=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Jr,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:ph,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:jI,cta:"Dashboard"}];function KMe(){const[e,t]=y.useState(""),{data:r=[],isLoading:n}=LMe(),{data:s=[],isLoading:i}=FMe(),{data:o=[],isLoading:l}=BMe(),c=y.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(me,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(Vr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:VMe.map((u,d)=>a.jsxs(X,{className:Z("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(re,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(se,{className:"text-base",children:u.title})]}),a.jsx(ye,{className:"text-sm",children:u.description})]}),a.jsx(J,{className:"pt-0",children:a.jsx(E,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(me,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(J,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(ce,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Xm,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(RMe,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(eq,{value:u.id,children:[a.jsx(tq,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(rq,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(ce,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(E,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Ho,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:Z("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(VS,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Ho,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(WMe,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(ce,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(J,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Sc,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(me,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(me,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Ho,{className:"h-3.5 w-3.5"})]})]})})]})}const Rb={getPrivacySettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)return null;const{data:t,error:r}=await z.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await z.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Rb.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await z.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await z.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},Fm={all:["privacy"],settings:()=>[...Fm.all,"settings"],policyDocument:e=>[...Fm.all,"policy",e]};function nq(e,t){return e().catch(()=>t)}function HMe(){return Pe({queryKey:Fm.settings(),queryFn:()=>nq(Rb.getPrivacySettings,null)})}function GMe(){const e=ve();return pe({mutationFn:t=>Rb.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fm.settings()}),V.success("Privacy preferences updated")},onError:t=>{V.error(t.message||"Failed to update privacy preferences")}})}function YMe(e="privacy"){return Pe({queryKey:Fm.policyDocument(e),queryFn:()=>nq(()=>Rb.getCurrentPolicyDocument(e),null)})}function QMe({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Me,{children:"Confirm privacy preference"})]}),a.jsx($e,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(E,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function XMe({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Me,{children:s})]}),a.jsx($e,{id:"download-confirmation-description",children:i})]}),a.jsxs(Fe,{className:"gap-2 sm:gap-0",children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(E,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(E,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Jr,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const KR=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function JMe({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=y.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(Nc,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(Vr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function ZMe(){const{data:e,isLoading:t}=HMe(),r=GMe(),{data:n}=YMe("privacy"),[s,i]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=y.useCallback(b=>{l(b),i(!0)},[]),h=y.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??KR.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:KR,p=y.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(v)},[m]),x=y.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),v=URL.createObjectURL(b);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(v),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Policy sections"}),a.jsx(ye,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(J,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,v)=>a.jsx(JMe,{id:b.id,title:b.title,content:b.content,defaultOpen:v===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(re,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(se,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(ye,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(J,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(Y,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(br,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(re,{children:[a.jsx(se,{className:"text-lg",children:"Download policy"}),a.jsx(ye,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(J,{children:a.jsxs(E,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Jr,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(E,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(QMe,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(XMe,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:x,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function e$e(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(X,{children:[a.jsx(re,{children:a.jsx(se,{children:"Terms of Service"})}),a.jsx(J,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsx(me,{to:"/",children:"Back"})})]})}async function t$e(e){var s;let t=z.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function r$e(e){const{data:t,error:r}=await z.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function n$e(){const{data:{user:e}}=await z.auth.getUser();if(!e)return[];const{data:t,error:r}=await z.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function s$e(){const{data:{user:e}}=await z.auth.getUser();if(!e)return[];const{data:t,error:r}=await z.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function a$e(e){return Se.post("/marketplace/checkout-session",e)}async function i$e(e){await Se.post("/marketplace/subscription/cancel",{subscription_id:e})}async function o$e(e,t){const{data:r,error:n}=await z.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function oC(e,t){return e().catch(()=>t)}const ma={all:["marketplace"],skills:e=>[...ma.all,"skills",e],skill:e=>[...ma.all,"skill",e],transactions:()=>[...ma.all,"transactions"],licenses:()=>[...ma.all,"licenses"]};function sq(e){return Pe({queryKey:ma.skills(e),queryFn:()=>oC(()=>t$e(e),[])})}function l$e(e){return Pe({queryKey:ma.skill(e??""),queryFn:()=>e?r$e(e):Promise.resolve(null),enabled:!!e})}function c$e(){return Pe({queryKey:ma.transactions(),queryFn:()=>oC(()=>n$e(),[])})}function aq(){return Pe({queryKey:ma.licenses(),queryFn:()=>oC(()=>s$e(),[])})}function iq(){return pe({mutationFn:a$e,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:V.success("Checkout session created")},onError:e=>{V.error(e.message||"Failed to start checkout")}})}function u$e(){const e=ve();return pe({mutationFn:i$e,onSuccess:()=>{e.invalidateQueries({queryKey:ma.transactions()}),e.invalidateQueries({queryKey:ma.licenses()}),V.success("Subscription cancelled")},onError:t=>{V.error(t.message||"Failed to cancel subscription")}})}function d$e(){const e=ve();return pe({mutationFn:({id:t,data:r})=>o$e(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ma.licenses()}),V.success("License updated")},onError:t=>{V.error(t.message||"Failed to update license")}})}function HR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function f$e({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${HR(r.price,r.currency)} / month`:HR(r.price,r.currency);return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Confirm purchase"}),a.jsx($e,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(E,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(wI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function oq({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"sm:max-w-[440px]",children:[a.jsxs(Re,{children:[a.jsxs(Me,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(Ki,{className:"h-5 w-5"}),r]}),a.jsx($e,{children:n})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(E,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function GR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function h$e({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${GR(e.price,e.currency)} / mo`:GR(e.price,e.currency);return a.jsx(X,{className:Z("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(jI,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(se,{className:"text-lg",children:e.name}),e.category&&a.jsx(He,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(ye,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(He,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(E,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(hx,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(E,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(dx,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function m$e(){const[e,t]=y.useState(""),[r,n]=y.useState(),[s,i]=y.useState(null),[o,l]=y.useState("one_time"),[c,u]=y.useState(!1),{data:d=[],isLoading:f}=sq({search:e.trim()||void 0,category:r}),{data:h=[]}=aq(),m=iq(),g=new Set(h.filter(v=>v.activation_status==="active").map(v=>v.skill_id)),p=(v,w)=>{i(v),l(w)},x=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(v=>v.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/marketplace/licenses",children:[a.jsx(Qh,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Browse skills"}),a.jsx(ye,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Zm,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ge,{placeholder:"Search skills...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:v=>n(v.target.value?v.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(v=>a.jsx("option",{value:v,children:v},v))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(v=>a.jsx(ce,{className:"h-32 rounded-lg"},v))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(hx,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(v=>a.jsx(h$e,{skill:v,hasLicense:g.has(v.id),onPurchase:p},v.id))})]})]}),a.jsx(f$e,{open:!!s,onOpenChange:v=>!v&&i(null),skill:s,mode:o,onConfirm:x,isSubmitting:m.isPending}),a.jsx(oq,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&x()}})]})}const p$e=ft({email:je().email("Invalid email"),accept_terms:ni().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function YR(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function g$e({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=ut({resolver:dt(p$e),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(J,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${YR(e.price,e.currency)} / month`:YR(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Order summary"}),a.jsx(ye,{children:"Review your selection before payment."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Contact"}),a.jsx(ye,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(J,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(Y,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ge,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(Y,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(E,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(wI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function v$e(){const[e]=R4(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=y.useState(!1),{data:i,isLoading:o}=l$e(t),l=iq(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(ce,{className:"h-8 w-48"}),a.jsx(ce,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(E,{variant:"ghost",asChild:!0,children:a.jsxs(me,{to:"/marketplace",children:[a.jsx(ed,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(g$e,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(oq,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(E,{variant:"ghost",asChild:!0,children:a.jsxs(me,{to:"/marketplace",children:[a.jsx(ed,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(J,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(E,{asChild:!0,className:"mt-4",children:a.jsx(me,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function y$e({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Ie,{open:e,onOpenChange:t,children:a.jsxs(Te,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Manage subscription"}),a.jsxs($e,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(He,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(dx,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(Fe,{children:[a.jsx(E,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(E,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(xn,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Ki,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function x$e(){var m;const[e,t]=y.useState(null),{data:r=[],isLoading:n}=aq(),{data:s=[]}=sq(),{data:i=[]}=c$e(),o=d$e(),l=u$e(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(E,{variant:"outline",asChild:!0,children:a.jsxs(me,{to:"/marketplace",children:[a.jsx(Qh,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(re,{children:[a.jsx(se,{children:"Licenses"}),a.jsx(ye,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(J,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Qh,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(E,{asChild:!0,className:"mt-4",children:a.jsx(me,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),x=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:Z("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(He,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(x==null?void 0:x.stripe_subscription_id)&&a.jsxs(E,{variant:"outline",size:"sm",onClick:()=>f(x),children:[a.jsx(dx,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(E,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(h7,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(f7,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(y$e,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function b$e(e,t,r){try{const{data:{user:n}}=await z.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await z.from("error_logs").insert(s)}catch{}}async function w$e(e,t,r,n){try{const{data:{user:s}}=await z.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await z.from("error_logs").insert(i)}catch{}}function QR(){const e=ei(),t=e.pathname+e.search;y.useEffect(()=>{b$e(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(e7,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(J,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(E,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(pI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(YS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(me,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(me,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function j$e(e){var i;const{data:{user:t}}=await z.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await z.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const _$e=ft({description:je().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:je().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:je().max(1e3).optional()}),w0={description:"",contact_email:"",comments:""};function S$e({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=ut({resolver:dt(_$e),defaultValues:w0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(w0),t(!1)},f=h=>{h||l(w0),t(h)};return a.jsx(Ie,{open:e,onOpenChange:f,children:a.jsxs(Te,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Re,{children:[a.jsx(Me,{children:"Report an issue"}),a.jsx($e,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ge,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(Y,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(Fe,{children:[a.jsx(E,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(E,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function N$e(){const e=ei(),[t,r]=y.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;y.useEffect(()=>{w$e(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await j$e(c),V.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(me,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(me,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(E,{asChild:!0,size:"sm",children:a.jsx(me,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:Z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(ol,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(J,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(E,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/",children:[a.jsx(pI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(E,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(Jm,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(E,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(me,{to:"/dashboard",children:[a.jsx(YS,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(me,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(me,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Or,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(me,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(me,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(me,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(S$e,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const k$e=new mV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function C$e(){return a.jsxs(pV,{client:k$e,children:[a.jsx(FW,{children:a.jsx(qH,{children:a.jsx(GY,{children:a.jsxs(OW,{children:[a.jsx(bt,{path:"/",element:a.jsx(qZ,{})}),a.jsx(bt,{path:"/login",element:a.jsx(Jee,{})}),a.jsx(bt,{path:"/signup",element:a.jsx(ete,{})}),a.jsx(bt,{path:"/forgot-password",element:a.jsx(ate,{})}),a.jsx(bt,{path:"/verify-email",element:a.jsx(ote,{})}),a.jsx(bt,{path:"/download",element:a.jsx(ine,{})}),a.jsx(bt,{path:"/privacy",element:a.jsx(ZMe,{})}),a.jsx(bt,{path:"/terms",element:a.jsx(e$e,{})}),a.jsx(bt,{path:"/500",element:a.jsx(N$e,{})}),a.jsxs(bt,{element:a.jsx($Z,{}),children:[a.jsx(bt,{path:"/dashboard",element:a.jsx(pse,{})}),a.jsx(bt,{path:"/profile",element:a.jsx(zH,{}),children:a.jsx(bt,{index:!0,element:a.jsx(ane,{})})}),a.jsx(bt,{path:"/chat",element:a.jsx(Gse,{})}),a.jsx(bt,{path:"/channels",element:a.jsx(dae,{})}),a.jsx(bt,{path:"/skills",element:a.jsx(fae,{})}),a.jsx(bt,{path:"/skill-editor/:skillId?",element:a.jsx(Cae,{})}),a.jsx(bt,{path:"/marketplace",element:a.jsx(m$e,{})}),a.jsx(bt,{path:"/marketplace/checkout",element:a.jsx(v$e,{})}),a.jsx(bt,{path:"/marketplace/licenses",element:a.jsx(x$e,{})}),a.jsx(bt,{path:"/nodes",element:a.jsx(tie,{})}),a.jsx(bt,{path:"/cron",element:a.jsx(iie,{})}),a.jsx(bt,{path:"/webhooks",element:a.jsx(Rie,{})}),a.jsx(bt,{path:"/model-providers",element:a.jsx(MAe,{})}),a.jsx(bt,{path:"/browser",element:a.jsx(fTe,{})}),a.jsx(bt,{path:"/voice",element:a.jsx($Te,{})}),a.jsx(bt,{path:"/secrets",element:a.jsx(YTe,{})}),a.jsx(bt,{path:"/settings",element:a.jsx(ITe,{})}),a.jsx(bt,{path:"/security",element:a.jsx(hRe,{})}),a.jsx(bt,{path:"/logs",element:a.jsx(PRe,{})}),a.jsx(bt,{path:"/admin",element:a.jsx(pMe,{})}),a.jsx(bt,{path:"/help",element:a.jsx(KMe,{})})]}),a.jsx(bt,{path:"/404",element:a.jsx(QR,{})}),a.jsx(bt,{path:"*",element:a.jsx(QR,{})})]})})})}),a.jsx(ZV,{position:"top-right",richColors:!0,closeButton:!0})]})}const lq=document.getElementById("root");if(!lq)throw new Error("Root element not found");j0.createRoot(lq).render(a.jsx(O.StrictMode,{children:a.jsx(C$e,{})}));

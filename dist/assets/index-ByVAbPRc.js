var Ky=e=>{throw TypeError(e)};var $f=(e,t,r)=>t.has(e)||Ky("Cannot "+r);var C=(e,t,r)=>($f(e,t,"read from private field"),r?r.call(e):t.get(e)),be=(e,t,r)=>t.has(e)?Ky("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ae=(e,t,r,n)=>($f(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ue=(e,t,r)=>($f(e,t,"access private method"),r);var Tu=(e,t,r,n)=>({set _(s){ae(e,t,s,r)},get _(){return C(e,t,n)}});function I2(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function z0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V0={exports:{}},Oh={},B0={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),M2=Symbol.for("react.portal"),D2=Symbol.for("react.fragment"),L2=Symbol.for("react.strict_mode"),$2=Symbol.for("react.profiler"),F2=Symbol.for("react.provider"),U2=Symbol.for("react.context"),z2=Symbol.for("react.forward_ref"),V2=Symbol.for("react.suspense"),B2=Symbol.for("react.memo"),W2=Symbol.for("react.lazy"),Gy=Symbol.iterator;function q2(e){return e===null||typeof e!="object"?null:(e=Gy&&e[Gy]||e["@@iterator"],typeof e=="function"?e:null)}var W0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0=Object.assign,H0={};function bl(e,t,r){this.props=e,this.context=t,this.refs=H0,this.updater=r||W0}bl.prototype.isReactComponent={};bl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};bl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function K0(){}K0.prototype=bl.prototype;function zg(e,t,r){this.props=e,this.context=t,this.refs=H0,this.updater=r||W0}var Vg=zg.prototype=new K0;Vg.constructor=zg;q0(Vg,bl.prototype);Vg.isPureReactComponent=!0;var Qy=Array.isArray,G0=Object.prototype.hasOwnProperty,Bg={current:null},Q0={key:!0,ref:!0,__self:!0,__source:!0};function Y0(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)G0.call(t,n)&&!Q0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:fu,type:e,key:a,ref:o,props:s,_owner:Bg.current}}function H2(e,t){return{$$typeof:fu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Wg(e){return typeof e=="object"&&e!==null&&e.$$typeof===fu}function K2(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Yy=/\/+/g;function Ff(e,t){return typeof e=="object"&&e!==null&&e.key!=null?K2(""+e.key):t.toString(36)}function md(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case fu:case M2:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ff(o,0):n,Qy(s)?(r="",e!=null&&(r=e.replace(Yy,"$&/")+"/"),md(s,t,r,"",function(u){return u})):s!=null&&(Wg(s)&&(s=H2(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Qy(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+Ff(a,l);o+=md(a,t,r,c,s)}else if(c=q2(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+Ff(a,l++),o+=md(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Au(e,t,r){if(e==null)return e;var n=[],s=0;return md(e,n,"","",function(a){return t.call(r,a,s++)}),n}function G2(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Cr={current:null},pd={transition:null},Q2={ReactCurrentDispatcher:Cr,ReactCurrentBatchConfig:pd,ReactCurrentOwner:Bg};function J0(){throw Error("act(...) is not supported in production builds of React.")}Ke.Children={map:Au,forEach:function(e,t,r){Au(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Au(e,function(){t++}),t},toArray:function(e){return Au(e,function(t){return t})||[]},only:function(e){if(!Wg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ke.Component=bl;Ke.Fragment=D2;Ke.Profiler=$2;Ke.PureComponent=zg;Ke.StrictMode=L2;Ke.Suspense=V2;Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q2;Ke.act=J0;Ke.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=q0({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=Bg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)G0.call(t,c)&&!Q0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:fu,type:e.type,key:s,ref:a,props:n,_owner:o}};Ke.createContext=function(e){return e={$$typeof:U2,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:F2,_context:e},e.Consumer=e};Ke.createElement=Y0;Ke.createFactory=function(e){var t=Y0.bind(null,e);return t.type=e,t};Ke.createRef=function(){return{current:null}};Ke.forwardRef=function(e){return{$$typeof:z2,render:e}};Ke.isValidElement=Wg;Ke.lazy=function(e){return{$$typeof:W2,_payload:{_status:-1,_result:e},_init:G2}};Ke.memo=function(e,t){return{$$typeof:B2,type:e,compare:t===void 0?null:t}};Ke.startTransition=function(e){var t=pd.transition;pd.transition={};try{e()}finally{pd.transition=t}};Ke.unstable_act=J0;Ke.useCallback=function(e,t){return Cr.current.useCallback(e,t)};Ke.useContext=function(e){return Cr.current.useContext(e)};Ke.useDebugValue=function(){};Ke.useDeferredValue=function(e){return Cr.current.useDeferredValue(e)};Ke.useEffect=function(e,t){return Cr.current.useEffect(e,t)};Ke.useId=function(){return Cr.current.useId()};Ke.useImperativeHandle=function(e,t,r){return Cr.current.useImperativeHandle(e,t,r)};Ke.useInsertionEffect=function(e,t){return Cr.current.useInsertionEffect(e,t)};Ke.useLayoutEffect=function(e,t){return Cr.current.useLayoutEffect(e,t)};Ke.useMemo=function(e,t){return Cr.current.useMemo(e,t)};Ke.useReducer=function(e,t,r){return Cr.current.useReducer(e,t,r)};Ke.useRef=function(e){return Cr.current.useRef(e)};Ke.useState=function(e){return Cr.current.useState(e)};Ke.useSyncExternalStore=function(e,t,r){return Cr.current.useSyncExternalStore(e,t,r)};Ke.useTransition=function(){return Cr.current.useTransition()};Ke.version="18.3.1";B0.exports=Ke;var m=B0.exports;const B=z0(m),Ih=I2({__proto__:null,default:B},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=m,J2=Symbol.for("react.element"),Z2=Symbol.for("react.fragment"),X2=Object.prototype.hasOwnProperty,eE=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tE={key:!0,ref:!0,__self:!0,__source:!0};function Z0(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)X2.call(t,n)&&!tE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:J2,type:e,key:a,ref:o,props:s,_owner:eE.current}}Oh.Fragment=Z2;Oh.jsx=Z0;Oh.jsxs=Z0;V0.exports=Oh;var i=V0.exports,Vm={},X0={exports:{}},nn={},ej={exports:{}},tj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,N){var R=D.length;D.push(N);e:for(;0<R;){var ue=R-1>>>1,he=D[ue];if(0<s(he,N))D[ue]=N,D[R]=he,R=ue;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var N=D[0],R=D.pop();if(R!==N){D[0]=R;e:for(var ue=0,he=D.length,Re=he>>>1;ue<Re;){var Ee=2*(ue+1)-1,at=D[Ee],nt=Ee+1,re=D[nt];if(0>s(at,R))nt<he&&0>s(re,at)?(D[ue]=re,D[nt]=R,ue=nt):(D[ue]=at,D[Ee]=R,ue=Ee);else if(nt<he&&0>s(re,R))D[ue]=re,D[nt]=R,ue=nt;else break e}}return N}function s(D,N){var R=D.sortIndex-N.sortIndex;return R!==0?R:D.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=D)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function j(D){if(g=!1,w(D),!v)if(r(c)!==null)v=!0,Z(S);else{var N=r(u);N!==null&&se(j,N.startTime-D)}}function S(D,N){v=!1,g&&(g=!1,y(T),T=-1),f=!0;var R=p;try{for(w(N),h=r(c);h!==null&&(!(h.expirationTime>N)||D&&!W());){var ue=h.callback;if(typeof ue=="function"){h.callback=null,p=h.priorityLevel;var he=ue(h.expirationTime<=N);N=e.unstable_now(),typeof he=="function"?h.callback=he:h===r(c)&&n(c),w(N)}else n(c);h=r(c)}if(h!==null)var Re=!0;else{var Ee=r(u);Ee!==null&&se(j,Ee.startTime-N),Re=!1}return Re}finally{h=null,p=R,f=!1}}var _=!1,k=null,T=-1,O=5,M=-1;function W(){return!(e.unstable_now()-M<O)}function L(){if(k!==null){var D=e.unstable_now();M=D;var N=!0;try{N=k(!0,D)}finally{N?V():(_=!1,k=null)}}else _=!1}var V;if(typeof x=="function")V=function(){x(L)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Y=A.port2;A.port1.onmessage=L,V=function(){Y.postMessage(null)}}else V=function(){b(L,0)};function Z(D){k=D,_||(_=!0,V())}function se(D,N){T=b(function(){D(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,Z(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var R=p;p=N;try{return D()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,N){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=p;p=D;try{return N()}finally{p=R}},e.unstable_scheduleCallback=function(D,N,R){var ue=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?ue+R:ue):R=ue,D){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=R+he,D={id:d++,callback:N,priorityLevel:D,startTime:R,expirationTime:he,sortIndex:-1},R>ue?(D.sortIndex=R,t(u,D),r(c)===null&&D===r(u)&&(g?(y(T),T=-1):g=!0,se(j,R-ue))):(D.sortIndex=he,t(c,D),v||f||(v=!0,Z(S))),D},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(D){var N=p;return function(){var R=p;p=N;try{return D.apply(this,arguments)}finally{p=R}}}})(tj);ej.exports=tj;var rE=ej.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nE=m,en=rE;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rj=new Set,kc={};function Ka(e,t){rl(e,t),rl(e+"Capture",t)}function rl(e,t){for(kc[e]=t,e=0;e<t.length;e++)rj.add(t[e])}var zs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,sE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jy={},Zy={};function iE(e){return Bm.call(Zy,e)?!0:Bm.call(Jy,e)?!1:sE.test(e)?Zy[e]=!0:(Jy[e]=!0,!1)}function aE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oE(e,t,r,n){if(t===null||typeof t>"u"||aE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Er(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var fr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){fr[e]=new Er(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];fr[t]=new Er(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){fr[e]=new Er(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){fr[e]=new Er(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){fr[e]=new Er(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){fr[e]=new Er(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){fr[e]=new Er(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){fr[e]=new Er(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){fr[e]=new Er(e,5,!1,e.toLowerCase(),null,!1,!1)});var qg=/[\-:]([a-z])/g;function Hg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qg,Hg);fr[t]=new Er(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qg,Hg);fr[t]=new Er(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qg,Hg);fr[t]=new Er(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){fr[e]=new Er(e,1,!1,e.toLowerCase(),null,!1,!1)});fr.xlinkHref=new Er("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){fr[e]=new Er(e,1,!1,e.toLowerCase(),null,!0,!0)});function Kg(e,t,r,n){var s=fr.hasOwnProperty(t)?fr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oE(t,r,s,n)&&(r=null),n||s===null?iE(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Gs=nE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ou=Symbol.for("react.element"),wo=Symbol.for("react.portal"),bo=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Wm=Symbol.for("react.profiler"),nj=Symbol.for("react.provider"),sj=Symbol.for("react.context"),Qg=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Hm=Symbol.for("react.suspense_list"),Yg=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),ij=Symbol.for("react.offscreen"),Xy=Symbol.iterator;function Vl(e){return e===null||typeof e!="object"?null:(e=Xy&&e[Xy]||e["@@iterator"],typeof e=="function"?e:null)}var At=Object.assign,Uf;function nc(e){if(Uf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Uf=t&&t[1]||""}return`
`+Uf+e}var zf=!1;function Vf(e,t){if(!e||zf)return"";zf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{zf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?nc(e):""}function lE(e){switch(e.tag){case 5:return nc(e.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return e=Vf(e.type,!1),e;case 11:return e=Vf(e.type.render,!1),e;case 1:return e=Vf(e.type,!0),e;default:return""}}function Km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case bo:return"Fragment";case wo:return"Portal";case Wm:return"Profiler";case Gg:return"StrictMode";case qm:return"Suspense";case Hm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case sj:return(e.displayName||"Context")+".Consumer";case nj:return(e._context.displayName||"Context")+".Provider";case Qg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yg:return t=e.displayName||null,t!==null?t:Km(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return Km(e(t))}catch{}}return null}function cE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(t);case 8:return t===Gg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function aj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uE(e){var t=aj(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Iu(e){e._valueTracker||(e._valueTracker=uE(e))}function oj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=aj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gm(e,t){var r=t.checked;return At({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ex(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=zi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function lj(e,t){t=t.checked,t!=null&&Kg(e,"checked",t,!1)}function Qm(e,t){lj(e,t);var r=zi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ym(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ym(e,t.type,zi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tx(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ym(e,t,r){(t!=="number"||Ad(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var sc=Array.isArray;function Io(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+zi(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Jm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return At({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rx(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(sc(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:zi(r)}}function cj(e,t){var r=zi(t.value),n=zi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uj(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zm(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uj(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Mu,dj=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Mu=Mu||document.createElement("div"),Mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dE=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(e){dE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hc[t]=hc[e]})});function hj(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hc.hasOwnProperty(e)&&hc[e]?(""+t).trim():t+"px"}function fj(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=hj(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var hE=At({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xm(e,t){if(t){if(hE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function ep(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tp=null;function Jg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rp=null,Mo=null,Do=null;function sx(e){if(e=gu(e)){if(typeof rp!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Fh(t),rp(e.stateNode,e.type,t))}}function mj(e){Mo?Do?Do.push(e):Do=[e]:Mo=e}function pj(){if(Mo){var e=Mo,t=Do;if(Do=Mo=null,sx(e),t)for(e=0;e<t.length;e++)sx(t[e])}}function gj(e,t){return e(t)}function vj(){}var Bf=!1;function yj(e,t,r){if(Bf)return e(t,r);Bf=!0;try{return gj(e,t,r)}finally{Bf=!1,(Mo!==null||Do!==null)&&(vj(),pj())}}function Cc(e,t){var r=e.stateNode;if(r===null)return null;var n=Fh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var np=!1;if(zs)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){np=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{np=!1}function fE(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var fc=!1,Od=null,Id=!1,sp=null,mE={onError:function(e){fc=!0,Od=e}};function pE(e,t,r,n,s,a,o,l,c){fc=!1,Od=null,fE.apply(mE,arguments)}function gE(e,t,r,n,s,a,o,l,c){if(pE.apply(this,arguments),fc){if(fc){var u=Od;fc=!1,Od=null}else throw Error(Q(198));Id||(Id=!0,sp=u)}}function Ga(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function xj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ix(e){if(Ga(e)!==e)throw Error(Q(188))}function vE(e){var t=e.alternate;if(!t){if(t=Ga(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return ix(s),e;if(a===n)return ix(s),t;a=a.sibling}throw Error(Q(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function wj(e){return e=vE(e),e!==null?bj(e):null}function bj(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=bj(e);if(t!==null)return t;e=e.sibling}return null}var jj=en.unstable_scheduleCallback,ax=en.unstable_cancelCallback,yE=en.unstable_shouldYield,xE=en.unstable_requestPaint,Ft=en.unstable_now,wE=en.unstable_getCurrentPriorityLevel,Zg=en.unstable_ImmediatePriority,_j=en.unstable_UserBlockingPriority,Md=en.unstable_NormalPriority,bE=en.unstable_LowPriority,Sj=en.unstable_IdlePriority,Mh=null,ds=null;function jE(e){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Mh,e,void 0,(e.current.flags&128)===128)}catch{}}var Wn=Math.clz32?Math.clz32:kE,_E=Math.log,SE=Math.LN2;function kE(e){return e>>>=0,e===0?32:31-(_E(e)/SE|0)|0}var Du=64,Lu=4194304;function ic(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ic(l):(a&=o,a!==0&&(n=ic(a)))}else o=r&~s,o!==0?n=ic(o):a!==0&&(n=ic(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Wn(t),s=1<<r,n|=e[r],t&=~s;return n}function NE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Wn(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=NE(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function ip(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kj(){var e=Du;return Du<<=1,!(Du&4194240)&&(Du=64),e}function Wf(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Wn(t),e[t]=r}function EE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Wn(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Xg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Wn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var dt=0;function Nj(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cj,ev,Ej,Pj,Rj,ap=!1,$u=[],Pi=null,Ri=null,Ti=null,Ec=new Map,Pc=new Map,fi=[],PE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(e,t){switch(e){case"focusin":case"focusout":Pi=null;break;case"dragenter":case"dragleave":Ri=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":Ec.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(t.pointerId)}}function Wl(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=gu(t),t!==null&&ev(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function RE(e,t,r,n,s){switch(t){case"focusin":return Pi=Wl(Pi,e,t,r,n,s),!0;case"dragenter":return Ri=Wl(Ri,e,t,r,n,s),!0;case"mouseover":return Ti=Wl(Ti,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ec.set(a,Wl(Ec.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Pc.set(a,Wl(Pc.get(a)||null,e,t,r,n,s)),!0}return!1}function Tj(e){var t=fa(e.target);if(t!==null){var r=Ga(t);if(r!==null){if(t=r.tag,t===13){if(t=xj(r),t!==null){e.blockedOn=t,Rj(e.priority,function(){Ej(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=op(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);tp=n,r.target.dispatchEvent(n),tp=null}else return t=gu(r),t!==null&&ev(t),e.blockedOn=r,!1;t.shift()}return!0}function lx(e,t,r){gd(e)&&r.delete(t)}function TE(){ap=!1,Pi!==null&&gd(Pi)&&(Pi=null),Ri!==null&&gd(Ri)&&(Ri=null),Ti!==null&&gd(Ti)&&(Ti=null),Ec.forEach(lx),Pc.forEach(lx)}function ql(e,t){e.blockedOn===t&&(e.blockedOn=null,ap||(ap=!0,en.unstable_scheduleCallback(en.unstable_NormalPriority,TE)))}function Rc(e){function t(s){return ql(s,e)}if(0<$u.length){ql($u[0],e);for(var r=1;r<$u.length;r++){var n=$u[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Pi!==null&&ql(Pi,e),Ri!==null&&ql(Ri,e),Ti!==null&&ql(Ti,e),Ec.forEach(t),Pc.forEach(t),r=0;r<fi.length;r++)n=fi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<fi.length&&(r=fi[0],r.blockedOn===null);)Tj(r),r.blockedOn===null&&fi.shift()}var Lo=Gs.ReactCurrentBatchConfig,Ld=!0;function AE(e,t,r,n){var s=dt,a=Lo.transition;Lo.transition=null;try{dt=1,tv(e,t,r,n)}finally{dt=s,Lo.transition=a}}function OE(e,t,r,n){var s=dt,a=Lo.transition;Lo.transition=null;try{dt=4,tv(e,t,r,n)}finally{dt=s,Lo.transition=a}}function tv(e,t,r,n){if(Ld){var s=op(e,t,r,n);if(s===null)em(e,t,n,$d,r),ox(e,n);else if(RE(s,e,t,r,n))n.stopPropagation();else if(ox(e,n),t&4&&-1<PE.indexOf(e)){for(;s!==null;){var a=gu(s);if(a!==null&&Cj(a),a=op(e,t,r,n),a===null&&em(e,t,n,$d,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else em(e,t,n,null,r)}}var $d=null;function op(e,t,r,n){if($d=null,e=Jg(n),e=fa(e),e!==null)if(t=Ga(e),t===null)e=null;else if(r=t.tag,r===13){if(e=xj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $d=e,null}function Aj(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wE()){case Zg:return 1;case _j:return 4;case Md:case bE:return 16;case Sj:return 536870912;default:return 16}default:return 16}}var Ni=null,rv=null,vd=null;function Oj(){if(vd)return vd;var e,t=rv,r=t.length,n,s="value"in Ni?Ni.value:Ni.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return vd=s.slice(e,1<n?1-n:void 0)}function yd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fu(){return!0}function cx(){return!1}function sn(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Fu:cx,this.isPropagationStopped=cx,this}return At(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fu)},persist:function(){},isPersistent:Fu}),t}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nv=sn(jl),pu=At({},jl,{view:0,detail:0}),IE=sn(pu),qf,Hf,Hl,Dh=At({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hl&&(Hl&&e.type==="mousemove"?(qf=e.screenX-Hl.screenX,Hf=e.screenY-Hl.screenY):Hf=qf=0,Hl=e),qf)},movementY:function(e){return"movementY"in e?e.movementY:Hf}}),ux=sn(Dh),ME=At({},Dh,{dataTransfer:0}),DE=sn(ME),LE=At({},pu,{relatedTarget:0}),Kf=sn(LE),$E=At({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),FE=sn($E),UE=At({},jl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zE=sn(UE),VE=At({},jl,{data:0}),dx=sn(VE),BE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HE(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qE[e])?!!t[e]:!1}function sv(){return HE}var KE=At({},pu,{key:function(e){if(e.key){var t=BE[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=yd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sv,charCode:function(e){return e.type==="keypress"?yd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?yd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GE=sn(KE),QE=At({},Dh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hx=sn(QE),YE=At({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sv}),JE=sn(YE),ZE=At({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),XE=sn(ZE),eP=At({},Dh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tP=sn(eP),rP=[9,13,27,32],iv=zs&&"CompositionEvent"in window,mc=null;zs&&"documentMode"in document&&(mc=document.documentMode);var nP=zs&&"TextEvent"in window&&!mc,Ij=zs&&(!iv||mc&&8<mc&&11>=mc),fx=" ",mx=!1;function Mj(e,t){switch(e){case"keyup":return rP.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var jo=!1;function sP(e,t){switch(e){case"compositionend":return Dj(t);case"keypress":return t.which!==32?null:(mx=!0,fx);case"textInput":return e=t.data,e===fx&&mx?null:e;default:return null}}function iP(e,t){if(jo)return e==="compositionend"||!iv&&Mj(e,t)?(e=Oj(),vd=rv=Ni=null,jo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ij&&t.locale!=="ko"?null:t.data;default:return null}}var aP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!aP[e.type]:t==="textarea"}function Lj(e,t,r,n){mj(n),t=Fd(t,"onChange"),0<t.length&&(r=new nv("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var pc=null,Tc=null;function oP(e){Gj(e,0)}function Lh(e){var t=ko(e);if(oj(t))return e}function lP(e,t){if(e==="change")return t}var $j=!1;if(zs){var Gf;if(zs){var Qf="oninput"in document;if(!Qf){var gx=document.createElement("div");gx.setAttribute("oninput","return;"),Qf=typeof gx.oninput=="function"}Gf=Qf}else Gf=!1;$j=Gf&&(!document.documentMode||9<document.documentMode)}function vx(){pc&&(pc.detachEvent("onpropertychange",Fj),Tc=pc=null)}function Fj(e){if(e.propertyName==="value"&&Lh(Tc)){var t=[];Lj(t,Tc,e,Jg(e)),yj(oP,t)}}function cP(e,t,r){e==="focusin"?(vx(),pc=t,Tc=r,pc.attachEvent("onpropertychange",Fj)):e==="focusout"&&vx()}function uP(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lh(Tc)}function dP(e,t){if(e==="click")return Lh(t)}function hP(e,t){if(e==="input"||e==="change")return Lh(t)}function fP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hn=typeof Object.is=="function"?Object.is:fP;function Ac(e,t){if(Hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Bm.call(t,s)||!Hn(e[s],t[s]))return!1}return!0}function yx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xx(e,t){var r=yx(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yx(r)}}function Uj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zj(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ad(e.document)}return t}function av(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function mP(e){var t=zj(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Uj(r.ownerDocument.documentElement,r)){if(n!==null&&av(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=xx(r,a);var o=xx(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pP=zs&&"documentMode"in document&&11>=document.documentMode,_o=null,lp=null,gc=null,cp=!1;function wx(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;cp||_o==null||_o!==Ad(n)||(n=_o,"selectionStart"in n&&av(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gc&&Ac(gc,n)||(gc=n,n=Fd(lp,"onSelect"),0<n.length&&(t=new nv("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=_o)))}function Uu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var So={animationend:Uu("Animation","AnimationEnd"),animationiteration:Uu("Animation","AnimationIteration"),animationstart:Uu("Animation","AnimationStart"),transitionend:Uu("Transition","TransitionEnd")},Yf={},Vj={};zs&&(Vj=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function $h(e){if(Yf[e])return Yf[e];if(!So[e])return e;var t=So[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Vj)return Yf[e]=t[r];return e}var Bj=$h("animationend"),Wj=$h("animationiteration"),qj=$h("animationstart"),Hj=$h("transitionend"),Kj=new Map,bx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gi(e,t){Kj.set(e,t),Ka(t,[e])}for(var Jf=0;Jf<bx.length;Jf++){var Zf=bx[Jf],gP=Zf.toLowerCase(),vP=Zf[0].toUpperCase()+Zf.slice(1);Gi(gP,"on"+vP)}Gi(Bj,"onAnimationEnd");Gi(Wj,"onAnimationIteration");Gi(qj,"onAnimationStart");Gi("dblclick","onDoubleClick");Gi("focusin","onFocus");Gi("focusout","onBlur");Gi(Hj,"onTransitionEnd");rl("onMouseEnter",["mouseout","mouseover"]);rl("onMouseLeave",["mouseout","mouseover"]);rl("onPointerEnter",["pointerout","pointerover"]);rl("onPointerLeave",["pointerout","pointerover"]);Ka("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ka("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ka("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ka("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ka("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yP=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function jx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gE(n,t,void 0,e),e.currentTarget=null}function Gj(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;jx(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;jx(s,l,u),a=c}}}if(Id)throw e=sp,Id=!1,sp=null,e}function xt(e,t){var r=t[mp];r===void 0&&(r=t[mp]=new Set);var n=e+"__bubble";r.has(n)||(Qj(t,e,2,!1),r.add(n))}function Xf(e,t,r){var n=0;t&&(n|=4),Qj(r,e,n,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Oc(e){if(!e[zu]){e[zu]=!0,rj.forEach(function(r){r!=="selectionchange"&&(yP.has(r)||Xf(r,!1,e),Xf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zu]||(t[zu]=!0,Xf("selectionchange",!1,t))}}function Qj(e,t,r,n){switch(Aj(t)){case 1:var s=AE;break;case 4:s=OE;break;default:s=tv}r=s.bind(null,t,r,e),s=void 0,!np||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function em(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=fa(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}yj(function(){var u=a,d=Jg(r),h=[];e:{var p=Kj.get(e);if(p!==void 0){var f=nv,v=e;switch(e){case"keypress":if(yd(r)===0)break e;case"keydown":case"keyup":f=GE;break;case"focusin":v="focus",f=Kf;break;case"focusout":v="blur",f=Kf;break;case"beforeblur":case"afterblur":f=Kf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=DE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=JE;break;case Bj:case Wj:case qj:f=FE;break;case Hj:f=XE;break;case"scroll":f=IE;break;case"wheel":f=tP;break;case"copy":case"cut":case"paste":f=zE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=hx}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,y!==null&&(j=Cc(x,y),j!=null&&g.push(Ic(x,j,w)))),b)break;x=x.return}0<g.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==tp&&(v=r.relatedTarget||r.fromElement)&&(fa(v)||v[Vs]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?fa(v):null,v!==null&&(b=Ga(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(g=ux,j="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=hx,j="onPointerLeave",y="onPointerEnter",x="pointer"),b=f==null?p:ko(f),w=v==null?p:ko(v),p=new g(j,x+"leave",f,r,d),p.target=b,p.relatedTarget=w,j=null,fa(d)===u&&(g=new g(y,x+"enter",v,r,d),g.target=w,g.relatedTarget=b,j=g),b=j,f&&v)t:{for(g=f,y=v,x=0,w=g;w;w=to(w))x++;for(w=0,j=y;j;j=to(j))w++;for(;0<x-w;)g=to(g),x--;for(;0<w-x;)y=to(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=to(g),y=to(y)}g=null}else g=null;f!==null&&_x(h,p,f,g,!1),v!==null&&b!==null&&_x(h,b,v,g,!0)}}e:{if(p=u?ko(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=lP;else if(px(p))if($j)S=hP;else{S=uP;var _=cP}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=dP);if(S&&(S=S(e,u))){Lj(h,S,r,d);break e}_&&_(e,p,u),e==="focusout"&&(_=p._wrapperState)&&_.controlled&&p.type==="number"&&Ym(p,"number",p.value)}switch(_=u?ko(u):window,e){case"focusin":(px(_)||_.contentEditable==="true")&&(_o=_,lp=u,gc=null);break;case"focusout":gc=lp=_o=null;break;case"mousedown":cp=!0;break;case"contextmenu":case"mouseup":case"dragend":cp=!1,wx(h,r,d);break;case"selectionchange":if(pP)break;case"keydown":case"keyup":wx(h,r,d)}var k;if(iv)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else jo?Mj(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Ij&&r.locale!=="ko"&&(jo||T!=="onCompositionStart"?T==="onCompositionEnd"&&jo&&(k=Oj()):(Ni=d,rv="value"in Ni?Ni.value:Ni.textContent,jo=!0)),_=Fd(u,T),0<_.length&&(T=new dx(T,e,null,r,d),h.push({event:T,listeners:_}),k?T.data=k:(k=Dj(r),k!==null&&(T.data=k)))),(k=nP?sP(e,r):iP(e,r))&&(u=Fd(u,"onBeforeInput"),0<u.length&&(d=new dx("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}Gj(h,t)})}function Ic(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Fd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Cc(e,r),a!=null&&n.unshift(Ic(e,a,s)),a=Cc(e,t),a!=null&&n.push(Ic(e,a,s))),e=e.return}return n}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _x(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Cc(r,a),c!=null&&o.unshift(Ic(r,c,l))):s||(c=Cc(r,a),c!=null&&o.push(Ic(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var xP=/\r\n?/g,wP=/\u0000|\uFFFD/g;function Sx(e){return(typeof e=="string"?e:""+e).replace(xP,`
`).replace(wP,"")}function Vu(e,t,r){if(t=Sx(t),Sx(e)!==t&&r)throw Error(Q(425))}function Ud(){}var up=null,dp=null;function hp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var fp=typeof setTimeout=="function"?setTimeout:void 0,bP=typeof clearTimeout=="function"?clearTimeout:void 0,kx=typeof Promise=="function"?Promise:void 0,jP=typeof queueMicrotask=="function"?queueMicrotask:typeof kx<"u"?function(e){return kx.resolve(null).then(e).catch(_P)}:fp;function _P(e){setTimeout(function(){throw e})}function tm(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Rc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rc(t)}function Ai(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var _l=Math.random().toString(36).slice(2),ls="__reactFiber$"+_l,Mc="__reactProps$"+_l,Vs="__reactContainer$"+_l,mp="__reactEvents$"+_l,SP="__reactListeners$"+_l,kP="__reactHandles$"+_l;function fa(e){var t=e[ls];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Vs]||r[ls]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Nx(e);e!==null;){if(r=e[ls])return r;e=Nx(e)}return t}e=r,r=e.parentNode}return null}function gu(e){return e=e[ls]||e[Vs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ko(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Fh(e){return e[Mc]||null}var pp=[],No=-1;function Qi(e){return{current:e}}function wt(e){0>No||(e.current=pp[No],pp[No]=null,No--)}function gt(e,t){No++,pp[No]=e.current,e.current=t}var Vi={},xr=Qi(Vi),zr=Qi(!1),Ta=Vi;function nl(e,t){var r=e.type.contextTypes;if(!r)return Vi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vr(e){return e=e.childContextTypes,e!=null}function zd(){wt(zr),wt(xr)}function Cx(e,t,r){if(xr.current!==Vi)throw Error(Q(168));gt(xr,t),gt(zr,r)}function Yj(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Q(108,cE(e)||"Unknown",s));return At({},r,n)}function Vd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vi,Ta=xr.current,gt(xr,e),gt(zr,zr.current),!0}function Ex(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=Yj(e,t,Ta),n.__reactInternalMemoizedMergedChildContext=e,wt(zr),wt(xr),gt(xr,e)):wt(zr),gt(zr,r)}var Ts=null,Uh=!1,rm=!1;function Jj(e){Ts===null?Ts=[e]:Ts.push(e)}function NP(e){Uh=!0,Jj(e)}function Yi(){if(!rm&&Ts!==null){rm=!0;var e=0,t=dt;try{var r=Ts;for(dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ts=null,Uh=!1}catch(s){throw Ts!==null&&(Ts=Ts.slice(e+1)),jj(Zg,Yi),s}finally{dt=t,rm=!1}}return null}var Co=[],Eo=0,Bd=null,Wd=0,un=[],dn=0,Aa=null,Ds=1,Ls="";function aa(e,t){Co[Eo++]=Wd,Co[Eo++]=Bd,Bd=e,Wd=t}function Zj(e,t,r){un[dn++]=Ds,un[dn++]=Ls,un[dn++]=Aa,Aa=e;var n=Ds;e=Ls;var s=32-Wn(n)-1;n&=~(1<<s),r+=1;var a=32-Wn(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ds=1<<32-Wn(t)+s|r<<s|n,Ls=a+e}else Ds=1<<a|r<<s|n,Ls=e}function ov(e){e.return!==null&&(aa(e,1),Zj(e,1,0))}function lv(e){for(;e===Bd;)Bd=Co[--Eo],Co[Eo]=null,Wd=Co[--Eo],Co[Eo]=null;for(;e===Aa;)Aa=un[--dn],un[dn]=null,Ls=un[--dn],un[dn]=null,Ds=un[--dn],un[dn]=null}var Jr=null,Yr=null,jt=!1,Un=null;function Xj(e,t){var r=hn(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Px(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jr=e,Yr=Ai(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jr=e,Yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Aa!==null?{id:Ds,overflow:Ls}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=hn(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Jr=e,Yr=null,!0):!1;default:return!1}}function gp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vp(e){if(jt){var t=Yr;if(t){var r=t;if(!Px(e,t)){if(gp(e))throw Error(Q(418));t=Ai(r.nextSibling);var n=Jr;t&&Px(e,t)?Xj(n,r):(e.flags=e.flags&-4097|2,jt=!1,Jr=e)}}else{if(gp(e))throw Error(Q(418));e.flags=e.flags&-4097|2,jt=!1,Jr=e}}}function Rx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jr=e}function Bu(e){if(e!==Jr)return!1;if(!jt)return Rx(e),jt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!hp(e.type,e.memoizedProps)),t&&(t=Yr)){if(gp(e))throw e_(),Error(Q(418));for(;t;)Xj(e,t),t=Ai(t.nextSibling)}if(Rx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Yr=Ai(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Yr=null}}else Yr=Jr?Ai(e.stateNode.nextSibling):null;return!0}function e_(){for(var e=Yr;e;)e=Ai(e.nextSibling)}function sl(){Yr=Jr=null,jt=!1}function cv(e){Un===null?Un=[e]:Un.push(e)}var CP=Gs.ReactCurrentBatchConfig;function Kl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function Wu(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Tx(e){var t=e._init;return t(e._payload)}function t_(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Di(y,x),y.index=0,y.sibling=null,y}function a(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,j){return x===null||x.tag!==6?(x=cm(w,y.mode,j),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,j){var S=w.type;return S===bo?d(y,x,w.props.children,j,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ci&&Tx(S)===x.type)?(j=s(x,w.props),j.ref=Kl(y,x,w),j.return=y,j):(j=kd(w.type,w.key,w.props,null,y.mode,j),j.ref=Kl(y,x,w),j.return=y,j)}function u(y,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=um(w,y.mode,j),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function d(y,x,w,j,S){return x===null||x.tag!==7?(x=Pa(w,y.mode,j,S),x.return=y,x):(x=s(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cm(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ou:return w=kd(x.type,x.key,x.props,null,y.mode,w),w.ref=Kl(y,null,x),w.return=y,w;case wo:return x=um(x,y.mode,w),x.return=y,x;case ci:var j=x._init;return h(y,j(x._payload),w)}if(sc(x)||Vl(x))return x=Pa(x,y.mode,w,null),x.return=y,x;Wu(y,x)}return null}function p(y,x,w,j){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ou:return w.key===S?c(y,x,w,j):null;case wo:return w.key===S?u(y,x,w,j):null;case ci:return S=w._init,p(y,x,S(w._payload),j)}if(sc(w)||Vl(w))return S!==null?null:d(y,x,w,j,null);Wu(y,w)}return null}function f(y,x,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return y=y.get(w)||null,l(x,y,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Ou:return y=y.get(j.key===null?w:j.key)||null,c(x,y,j,S);case wo:return y=y.get(j.key===null?w:j.key)||null,u(x,y,j,S);case ci:var _=j._init;return f(y,x,w,_(j._payload),S)}if(sc(j)||Vl(j))return y=y.get(w)||null,d(x,y,j,S,null);Wu(x,j)}return null}function v(y,x,w,j){for(var S=null,_=null,k=x,T=x=0,O=null;k!==null&&T<w.length;T++){k.index>T?(O=k,k=null):O=k.sibling;var M=p(y,k,w[T],j);if(M===null){k===null&&(k=O);break}e&&k&&M.alternate===null&&t(y,k),x=a(M,x,T),_===null?S=M:_.sibling=M,_=M,k=O}if(T===w.length)return r(y,k),jt&&aa(y,T),S;if(k===null){for(;T<w.length;T++)k=h(y,w[T],j),k!==null&&(x=a(k,x,T),_===null?S=k:_.sibling=k,_=k);return jt&&aa(y,T),S}for(k=n(y,k);T<w.length;T++)O=f(k,y,T,w[T],j),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?T:O.key),x=a(O,x,T),_===null?S=O:_.sibling=O,_=O);return e&&k.forEach(function(W){return t(y,W)}),jt&&aa(y,T),S}function g(y,x,w,j){var S=Vl(w);if(typeof S!="function")throw Error(Q(150));if(w=S.call(w),w==null)throw Error(Q(151));for(var _=S=null,k=x,T=x=0,O=null,M=w.next();k!==null&&!M.done;T++,M=w.next()){k.index>T?(O=k,k=null):O=k.sibling;var W=p(y,k,M.value,j);if(W===null){k===null&&(k=O);break}e&&k&&W.alternate===null&&t(y,k),x=a(W,x,T),_===null?S=W:_.sibling=W,_=W,k=O}if(M.done)return r(y,k),jt&&aa(y,T),S;if(k===null){for(;!M.done;T++,M=w.next())M=h(y,M.value,j),M!==null&&(x=a(M,x,T),_===null?S=M:_.sibling=M,_=M);return jt&&aa(y,T),S}for(k=n(y,k);!M.done;T++,M=w.next())M=f(k,y,T,M.value,j),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?T:M.key),x=a(M,x,T),_===null?S=M:_.sibling=M,_=M);return e&&k.forEach(function(L){return t(y,L)}),jt&&aa(y,T),S}function b(y,x,w,j){if(typeof w=="object"&&w!==null&&w.type===bo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ou:e:{for(var S=w.key,_=x;_!==null;){if(_.key===S){if(S=w.type,S===bo){if(_.tag===7){r(y,_.sibling),x=s(_,w.props.children),x.return=y,y=x;break e}}else if(_.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ci&&Tx(S)===_.type){r(y,_.sibling),x=s(_,w.props),x.ref=Kl(y,_,w),x.return=y,y=x;break e}r(y,_);break}else t(y,_);_=_.sibling}w.type===bo?(x=Pa(w.props.children,y.mode,j,w.key),x.return=y,y=x):(j=kd(w.type,w.key,w.props,null,y.mode,j),j.ref=Kl(y,x,w),j.return=y,y=j)}return o(y);case wo:e:{for(_=w.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=um(w,y.mode,j),x.return=y,y=x}return o(y);case ci:return _=w._init,b(y,x,_(w._payload),j)}if(sc(w))return v(y,x,w,j);if(Vl(w))return g(y,x,w,j);Wu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=cm(w,y.mode,j),x.return=y,y=x),o(y)):r(y,x)}return b}var il=t_(!0),r_=t_(!1),qd=Qi(null),Hd=null,Po=null,uv=null;function dv(){uv=Po=Hd=null}function hv(e){var t=qd.current;wt(qd),e._currentValue=t}function yp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $o(e,t){Hd=e,uv=Po=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($r=!0),e.firstContext=null)}function gn(e){var t=e._currentValue;if(uv!==e)if(e={context:e,memoizedValue:t,next:null},Po===null){if(Hd===null)throw Error(Q(308));Po=e,Hd.dependencies={lanes:0,firstContext:e}}else Po=Po.next=e;return t}var ma=null;function fv(e){ma===null?ma=[e]:ma.push(e)}function n_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,fv(t)):(r.next=s.next,s.next=r),t.interleaved=r,Bs(e,n)}function Bs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ui=!1;function mv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function s_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Xe&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Bs(e,r)}return s=n.interleaved,s===null?(t.next=t,fv(n)):(t.next=s.next,s.next=t),n.interleaved=t,Bs(e,r)}function xd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xg(e,r)}}function Ax(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Kd(e,t,r,n){var s=e.updateQueue;ui=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(p=t,f=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=At({},h,p);break e;case 2:ui=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Ia|=o,e.lanes=o,e.memoizedState=h}}function Ox(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Q(191,s));s.call(n)}}}var vu={},hs=Qi(vu),Dc=Qi(vu),Lc=Qi(vu);function pa(e){if(e===vu)throw Error(Q(174));return e}function pv(e,t){switch(gt(Lc,t),gt(Dc,e),gt(hs,vu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zm(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zm(t,e)}wt(hs),gt(hs,t)}function al(){wt(hs),wt(Dc),wt(Lc)}function i_(e){pa(Lc.current);var t=pa(hs.current),r=Zm(t,e.type);t!==r&&(gt(Dc,e),gt(hs,r))}function gv(e){Dc.current===e&&(wt(hs),wt(Dc))}var Ct=Qi(0);function Gd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nm=[];function vv(){for(var e=0;e<nm.length;e++)nm[e]._workInProgressVersionPrimary=null;nm.length=0}var wd=Gs.ReactCurrentDispatcher,sm=Gs.ReactCurrentBatchConfig,Oa=0,Et=null,Xt=null,sr=null,Qd=!1,vc=!1,$c=0,EP=0;function mr(){throw Error(Q(321))}function yv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Hn(e[r],t[r]))return!1;return!0}function xv(e,t,r,n,s,a){if(Oa=a,Et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wd.current=e===null||e.memoizedState===null?AP:OP,e=r(n,s),vc){a=0;do{if(vc=!1,$c=0,25<=a)throw Error(Q(301));a+=1,sr=Xt=null,t.updateQueue=null,wd.current=IP,e=r(n,s)}while(vc)}if(wd.current=Yd,t=Xt!==null&&Xt.next!==null,Oa=0,sr=Xt=Et=null,Qd=!1,t)throw Error(Q(300));return e}function wv(){var e=$c!==0;return $c=0,e}function ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Et.memoizedState=sr=e:sr=sr.next=e,sr}function vn(){if(Xt===null){var e=Et.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var t=sr===null?Et.memoizedState:sr.next;if(t!==null)sr=t,Xt=e;else{if(e===null)throw Error(Q(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sr===null?Et.memoizedState=sr=e:sr=sr.next=e}return sr}function Fc(e,t){return typeof t=="function"?t(e):t}function im(e){var t=vn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=Xt,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((Oa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Et.lanes|=d,Ia|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,Hn(n,t.memoizedState)||($r=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Et.lanes|=a,Ia|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function am(e){var t=vn(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);Hn(a,t.memoizedState)||($r=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function a_(){}function o_(e,t){var r=Et,n=vn(),s=t(),a=!Hn(n.memoizedState,s);if(a&&(n.memoizedState=s,$r=!0),n=n.queue,bv(u_.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,Uc(9,c_.bind(null,r,n,s,t),void 0,null),ar===null)throw Error(Q(349));Oa&30||l_(r,t,s)}return s}function l_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function c_(e,t,r,n){t.value=r,t.getSnapshot=n,d_(t)&&h_(e)}function u_(e,t,r){return r(function(){d_(t)&&h_(e)})}function d_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Hn(e,r)}catch{return!0}}function h_(e){var t=Bs(e,1);t!==null&&qn(t,e,1,-1)}function Ix(e){var t=ns();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fc,lastRenderedState:e},t.queue=e,e=e.dispatch=TP.bind(null,Et,e),[t.memoizedState,e]}function Uc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Et.updateQueue,t===null?(t={lastEffect:null,stores:null},Et.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function f_(){return vn().memoizedState}function bd(e,t,r,n){var s=ns();Et.flags|=e,s.memoizedState=Uc(1|t,r,void 0,n===void 0?null:n)}function zh(e,t,r,n){var s=vn();n=n===void 0?null:n;var a=void 0;if(Xt!==null){var o=Xt.memoizedState;if(a=o.destroy,n!==null&&yv(n,o.deps)){s.memoizedState=Uc(t,r,a,n);return}}Et.flags|=e,s.memoizedState=Uc(1|t,r,a,n)}function Mx(e,t){return bd(8390656,8,e,t)}function bv(e,t){return zh(2048,8,e,t)}function m_(e,t){return zh(4,2,e,t)}function p_(e,t){return zh(4,4,e,t)}function g_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function v_(e,t,r){return r=r!=null?r.concat([e]):null,zh(4,4,g_.bind(null,t,e),r)}function jv(){}function y_(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function x_(e,t){var r=vn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yv(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function w_(e,t,r){return Oa&21?(Hn(r,t)||(r=kj(),Et.lanes|=r,Ia|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$r=!0),e.memoizedState=r)}function PP(e,t){var r=dt;dt=r!==0&&4>r?r:4,e(!0);var n=sm.transition;sm.transition={};try{e(!1),t()}finally{dt=r,sm.transition=n}}function b_(){return vn().memoizedState}function RP(e,t,r){var n=Mi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},j_(e))__(t,r);else if(r=n_(e,t,r,n),r!==null){var s=Sr();qn(r,e,n,s),S_(r,t,n)}}function TP(e,t,r){var n=Mi(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(j_(e))__(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,Hn(l,o)){var c=t.interleaved;c===null?(s.next=s,fv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=n_(e,t,s,n),r!==null&&(s=Sr(),qn(r,e,n,s),S_(r,t,n))}}function j_(e){var t=e.alternate;return e===Et||t!==null&&t===Et}function __(e,t){vc=Qd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function S_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xg(e,r)}}var Yd={readContext:gn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},AP={readContext:gn,useCallback:function(e,t){return ns().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Mx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,bd(4194308,4,g_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return bd(4194308,4,e,t)},useInsertionEffect:function(e,t){return bd(4,2,e,t)},useMemo:function(e,t){var r=ns();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ns();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=RP.bind(null,Et,e),[n.memoizedState,e]},useRef:function(e){var t=ns();return e={current:e},t.memoizedState=e},useState:Ix,useDebugValue:jv,useDeferredValue:function(e){return ns().memoizedState=e},useTransition:function(){var e=Ix(!1),t=e[0];return e=PP.bind(null,e[1]),ns().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Et,s=ns();if(jt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),ar===null)throw Error(Q(349));Oa&30||l_(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Mx(u_.bind(null,n,a,e),[e]),n.flags|=2048,Uc(9,c_.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ns(),t=ar.identifierPrefix;if(jt){var r=Ls,n=Ds;r=(n&~(1<<32-Wn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$c++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=EP++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OP={readContext:gn,useCallback:y_,useContext:gn,useEffect:bv,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:x_,useReducer:im,useRef:f_,useState:function(){return im(Fc)},useDebugValue:jv,useDeferredValue:function(e){var t=vn();return w_(t,Xt.memoizedState,e)},useTransition:function(){var e=im(Fc)[0],t=vn().memoizedState;return[e,t]},useMutableSource:a_,useSyncExternalStore:o_,useId:b_,unstable_isNewReconciler:!1},IP={readContext:gn,useCallback:y_,useContext:gn,useEffect:bv,useImperativeHandle:v_,useInsertionEffect:m_,useLayoutEffect:p_,useMemo:x_,useReducer:am,useRef:f_,useState:function(){return am(Fc)},useDebugValue:jv,useDeferredValue:function(e){var t=vn();return Xt===null?t.memoizedState=e:w_(t,Xt.memoizedState,e)},useTransition:function(){var e=am(Fc)[0],t=vn().memoizedState;return[e,t]},useMutableSource:a_,useSyncExternalStore:o_,useId:b_,unstable_isNewReconciler:!1};function In(e,t){if(e&&e.defaultProps){t=At({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function xp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:At({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Vh={isMounted:function(e){return(e=e._reactInternals)?Ga(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sr(),s=Mi(e),a=Fs(n,s);a.payload=t,r!=null&&(a.callback=r),t=Oi(e,a,s),t!==null&&(qn(t,e,s,n),xd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sr(),s=Mi(e),a=Fs(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Oi(e,a,s),t!==null&&(qn(t,e,s,n),xd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sr(),n=Mi(e),s=Fs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Oi(e,s,n),t!==null&&(qn(t,e,n,r),xd(t,e,n))}};function Dx(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ac(r,n)||!Ac(s,a):!0}function k_(e,t,r){var n=!1,s=Vi,a=t.contextType;return typeof a=="object"&&a!==null?a=gn(a):(s=Vr(t)?Ta:xr.current,n=t.contextTypes,a=(n=n!=null)?nl(e,s):Vi),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Lx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Vh.enqueueReplaceState(t,t.state,null)}function wp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},mv(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=gn(a):(a=Vr(t)?Ta:xr.current,s.context=nl(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(xp(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vh.enqueueReplaceState(s,s.state,null),Kd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function ol(e,t){try{var r="",n=t;do r+=lE(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function om(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function bp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var MP=typeof WeakMap=="function"?WeakMap:Map;function N_(e,t,r){r=Fs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zd||(Zd=!0,Tp=n),bp(e,t)},r}function C_(e,t,r){r=Fs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){bp(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){bp(e,t),typeof n!="function"&&(Ii===null?Ii=new Set([this]):Ii.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function $x(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new MP;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=QP.bind(null,e,t,r),t.then(e,e))}function Fx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ux(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Fs(-1,1),t.tag=2,Oi(r,t,1))),r.lanes|=1),e)}var DP=Gs.ReactCurrentOwner,$r=!1;function jr(e,t,r,n){t.child=e===null?r_(t,null,r,n):il(t,e.child,r,n)}function zx(e,t,r,n,s){r=r.render;var a=t.ref;return $o(t,s),n=xv(e,t,r,n,a,s),r=wv(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(jt&&r&&ov(t),t.flags|=1,jr(e,t,n,s),t.child)}function Vx(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Rv(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,E_(e,t,a,n,s)):(e=kd(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:Ac,r(o,n)&&e.ref===t.ref)return Ws(e,t,s)}return t.flags|=1,e=Di(a,n),e.ref=t.ref,e.return=t,t.child=e}function E_(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Ac(a,n)&&e.ref===t.ref)if($r=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&($r=!0);else return t.lanes=e.lanes,Ws(e,t,s)}return jp(e,t,r,n,s)}function P_(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(To,Hr),Hr|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,gt(To,Hr),Hr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,gt(To,Hr),Hr|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,gt(To,Hr),Hr|=n;return jr(e,t,s,r),t.child}function R_(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function jp(e,t,r,n,s){var a=Vr(r)?Ta:xr.current;return a=nl(t,a),$o(t,s),r=xv(e,t,r,n,a,s),n=wv(),e!==null&&!$r?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ws(e,t,s)):(jt&&n&&ov(t),t.flags|=1,jr(e,t,r,s),t.child)}function Bx(e,t,r,n,s){if(Vr(r)){var a=!0;Vd(t)}else a=!1;if($o(t,s),t.stateNode===null)jd(e,t),k_(t,r,n),wp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=gn(u):(u=Vr(r)?Ta:xr.current,u=nl(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Lx(t,o,n,u),ui=!1;var p=t.memoizedState;o.state=p,Kd(t,n,o,s),c=t.memoizedState,l!==n||p!==c||zr.current||ui?(typeof d=="function"&&(xp(t,r,d,n),c=t.memoizedState),(l=ui||Dx(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,s_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:In(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=Vr(r)?Ta:xr.current,c=nl(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&Lx(t,o,n,c),ui=!1,p=t.memoizedState,o.state=p,Kd(t,n,o,s);var v=t.memoizedState;l!==h||p!==v||zr.current||ui?(typeof f=="function"&&(xp(t,r,f,n),v=t.memoizedState),(u=ui||Dx(t,r,u,n,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return _p(e,t,r,n,a,s)}function _p(e,t,r,n,s,a){R_(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ex(t,r,!1),Ws(e,t,a);n=t.stateNode,DP.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=il(t,e.child,null,a),t.child=il(t,null,l,a)):jr(e,t,l,a),t.memoizedState=n.state,s&&Ex(t,r,!0),t.child}function T_(e){var t=e.stateNode;t.pendingContext?Cx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Cx(e,t.context,!1),pv(e,t.containerInfo)}function Wx(e,t,r,n,s){return sl(),cv(s),t.flags|=256,jr(e,t,r,n),t.child}var Sp={dehydrated:null,treeContext:null,retryLane:0};function kp(e){return{baseLanes:e,cachePool:null,transitions:null}}function A_(e,t,r){var n=t.pendingProps,s=Ct.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),gt(Ct,s&1),e===null)return vp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=qh(o,n,0,null),e=Pa(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=kp(r),t.memoizedState=Sp,e):_v(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return LP(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Di(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Di(l,a):(a=Pa(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?kp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Sp,n}return a=e.child,e=a.sibling,n=Di(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function _v(e,t){return t=qh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qu(e,t,r,n){return n!==null&&cv(n),il(t,e.child,null,r),e=_v(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LP(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=om(Error(Q(422))),qu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=qh({mode:"visible",children:n.children},s,0,null),a=Pa(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&il(t,e.child,null,o),t.child.memoizedState=kp(o),t.memoizedState=Sp,a);if(!(t.mode&1))return qu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(Q(419)),n=om(a,n,void 0),qu(e,t,o,n)}if(l=(o&e.childLanes)!==0,$r||l){if(n=ar,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Bs(e,s),qn(n,e,s,-1))}return Pv(),n=om(Error(Q(421))),qu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=YP.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Yr=Ai(s.nextSibling),Jr=t,jt=!0,Un=null,e!==null&&(un[dn++]=Ds,un[dn++]=Ls,un[dn++]=Aa,Ds=e.id,Ls=e.overflow,Aa=t),t=_v(t,n.children),t.flags|=4096,t)}function qx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),yp(e.return,t,r)}function lm(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function O_(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(jr(e,t,n.children,r),n=Ct.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qx(e,r,t);else if(e.tag===19)qx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(gt(Ct,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Gd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),lm(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}lm(t,!0,r,null,a);break;case"together":lm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ws(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ia|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=Di(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Di(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $P(e,t,r){switch(t.tag){case 3:T_(t),sl();break;case 5:i_(t);break;case 1:Vr(t.type)&&Vd(t);break;case 4:pv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;gt(qd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(gt(Ct,Ct.current&1),t.flags|=128,null):r&t.child.childLanes?A_(e,t,r):(gt(Ct,Ct.current&1),e=Ws(e,t,r),e!==null?e.sibling:null);gt(Ct,Ct.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return O_(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),gt(Ct,Ct.current),n)break;return null;case 22:case 23:return t.lanes=0,P_(e,t,r)}return Ws(e,t,r)}var I_,Np,M_,D_;I_=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Np=function(){};M_=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,pa(hs.current);var a=null;switch(r){case"input":s=Gm(e,s),n=Gm(e,n),a=[];break;case"select":s=At({},s,{value:void 0}),n=At({},n,{value:void 0}),a=[];break;case"textarea":s=Jm(e,s),n=Jm(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ud)}Xm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(kc.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(kc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xt("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};D_=function(e,t,r,n){r!==n&&(t.flags|=4)};function Gl(e,t){if(!jt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FP(e,t,r){var n=t.pendingProps;switch(lv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return Vr(t.type)&&zd(),pr(t),null;case 3:return n=t.stateNode,al(),wt(zr),wt(xr),vv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&(Ip(Un),Un=null))),Np(e,t),pr(t),null;case 5:gv(t);var s=pa(Lc.current);if(r=t.type,e!==null&&t.stateNode!=null)M_(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return pr(t),null}if(e=pa(hs.current),Bu(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ls]=t,n[Mc]=a,e=(t.mode&1)!==0,r){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(s=0;s<ac.length;s++)xt(ac[s],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":ex(n,a),xt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},xt("invalid",n);break;case"textarea":rx(n,a),xt("invalid",n)}Xm(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Vu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Vu(n.textContent,l,e),s=["children",""+l]):kc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&xt("scroll",n)}switch(r){case"input":Iu(n),tx(n,a,!0);break;case"textarea":Iu(n),nx(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ud)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uj(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ls]=t,e[Mc]=n,I_(e,t,!1,!1),t.stateNode=e;e:{switch(o=ep(r,n),r){case"dialog":xt("cancel",e),xt("close",e),s=n;break;case"iframe":case"object":case"embed":xt("load",e),s=n;break;case"video":case"audio":for(s=0;s<ac.length;s++)xt(ac[s],e);s=n;break;case"source":xt("error",e),s=n;break;case"img":case"image":case"link":xt("error",e),xt("load",e),s=n;break;case"details":xt("toggle",e),s=n;break;case"input":ex(e,n),s=Gm(e,n),xt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=At({},n,{value:void 0}),xt("invalid",e);break;case"textarea":rx(e,n),s=Jm(e,n),xt("invalid",e);break;default:s=n}Xm(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fj(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&dj(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Nc(e,c):typeof c=="number"&&Nc(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(kc.hasOwnProperty(a)?c!=null&&a==="onScroll"&&xt("scroll",e):c!=null&&Kg(e,a,c,o))}switch(r){case"input":Iu(e),tx(e,n,!1);break;case"textarea":Iu(e),nx(e);break;case"option":n.value!=null&&e.setAttribute("value",""+zi(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Io(e,!!n.multiple,a,!1):n.defaultValue!=null&&Io(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ud)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)D_(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=pa(Lc.current),pa(hs.current),Bu(t)){if(n=t.stateNode,r=t.memoizedProps,n[ls]=t,(a=n.nodeValue!==r)&&(e=Jr,e!==null))switch(e.tag){case 3:Vu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vu(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ls]=t,t.stateNode=n}return pr(t),null;case 13:if(wt(Ct),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jt&&Yr!==null&&t.mode&1&&!(t.flags&128))e_(),sl(),t.flags|=98560,a=!1;else if(a=Bu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(Q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(Q(317));a[ls]=t}else sl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),a=!1}else Un!==null&&(Ip(Un),Un=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ct.current&1?rr===0&&(rr=3):Pv())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return al(),Np(e,t),e===null&&Oc(t.stateNode.containerInfo),pr(t),null;case 10:return hv(t.type._context),pr(t),null;case 17:return Vr(t.type)&&zd(),pr(t),null;case 19:if(wt(Ct),a=t.memoizedState,a===null)return pr(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Gl(a,!1);else{if(rr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gd(e),o!==null){for(t.flags|=128,Gl(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return gt(Ct,Ct.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ft()>ll&&(t.flags|=128,n=!0,Gl(a,!1),t.lanes=4194304)}else{if(!n)if(e=Gd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Gl(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!jt)return pr(t),null}else 2*Ft()-a.renderingStartTime>ll&&r!==1073741824&&(t.flags|=128,n=!0,Gl(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ft(),t.sibling=null,r=Ct.current,gt(Ct,n?r&1|2:r&1),t):(pr(t),null);case 22:case 23:return Ev(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Hr&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function UP(e,t){switch(lv(t),t.tag){case 1:return Vr(t.type)&&zd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return al(),wt(zr),wt(xr),vv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gv(t),null;case 13:if(wt(Ct),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));sl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return wt(Ct),null;case 4:return al(),null;case 10:return hv(t.type._context),null;case 22:case 23:return Ev(),null;case 24:return null;default:return null}}var Hu=!1,vr=!1,zP=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Ro(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Mt(e,t,n)}else r.current=null}function Cp(e,t,r){try{r()}catch(n){Mt(e,t,n)}}var Hx=!1;function VP(e,t){if(up=Ld,e=zj(),av(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=o),p===a&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(dp={focusedElem:e,selectionRange:r},Ld=!1,fe=t;fe!==null;)if(t=fe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fe=e;else for(;fe!==null;){t=fe;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:In(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){Mt(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,fe=e;break}fe=t.return}return v=Hx,Hx=!1,v}function yc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Cp(t,r,a)}s=s.next}while(s!==n)}}function Bh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ep(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function L_(e){var t=e.alternate;t!==null&&(e.alternate=null,L_(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ls],delete t[Mc],delete t[mp],delete t[SP],delete t[kP])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $_(e){return e.tag===5||e.tag===3||e.tag===4}function Kx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ud));else if(n!==4&&(e=e.child,e!==null))for(Pp(e,t,r),e=e.sibling;e!==null;)Pp(e,t,r),e=e.sibling}function Rp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Rp(e,t,r),e=e.sibling;e!==null;)Rp(e,t,r),e=e.sibling}var cr=null,$n=!1;function ni(e,t,r){for(r=r.child;r!==null;)F_(e,t,r),r=r.sibling}function F_(e,t,r){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Mh,r)}catch{}switch(r.tag){case 5:vr||Ro(r,t);case 6:var n=cr,s=$n;cr=null,ni(e,t,r),cr=n,$n=s,cr!==null&&($n?(e=cr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):cr.removeChild(r.stateNode));break;case 18:cr!==null&&($n?(e=cr,r=r.stateNode,e.nodeType===8?tm(e.parentNode,r):e.nodeType===1&&tm(e,r),Rc(e)):tm(cr,r.stateNode));break;case 4:n=cr,s=$n,cr=r.stateNode.containerInfo,$n=!0,ni(e,t,r),cr=n,$n=s;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Cp(r,t,o),s=s.next}while(s!==n)}ni(e,t,r);break;case 1:if(!vr&&(Ro(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Mt(r,t,l)}ni(e,t,r);break;case 21:ni(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,ni(e,t,r),vr=n):ni(e,t,r);break;default:ni(e,t,r)}}function Gx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zP),t.forEach(function(n){var s=JP.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function En(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:cr=l.stateNode,$n=!1;break e;case 3:cr=l.stateNode.containerInfo,$n=!0;break e;case 4:cr=l.stateNode.containerInfo,$n=!0;break e}l=l.return}if(cr===null)throw Error(Q(160));F_(a,o,s),cr=null,$n=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Mt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)U_(t,e),t=t.sibling}function U_(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(En(t,e),ts(e),n&4){try{yc(3,e,e.return),Bh(3,e)}catch(g){Mt(e,e.return,g)}try{yc(5,e,e.return)}catch(g){Mt(e,e.return,g)}}break;case 1:En(t,e),ts(e),n&512&&r!==null&&Ro(r,r.return);break;case 5:if(En(t,e),ts(e),n&512&&r!==null&&Ro(r,r.return),e.flags&32){var s=e.stateNode;try{Nc(s,"")}catch(g){Mt(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&lj(s,a),ep(l,o);var u=ep(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?fj(s,h):d==="dangerouslySetInnerHTML"?dj(s,h):d==="children"?Nc(s,h):Kg(s,d,h,u)}switch(l){case"input":Qm(s,a);break;case"textarea":cj(s,a);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var f=a.value;f!=null?Io(s,!!a.multiple,f,!1):p!==!!a.multiple&&(a.defaultValue!=null?Io(s,!!a.multiple,a.defaultValue,!0):Io(s,!!a.multiple,a.multiple?[]:"",!1))}s[Mc]=a}catch(g){Mt(e,e.return,g)}}break;case 6:if(En(t,e),ts(e),n&4){if(e.stateNode===null)throw Error(Q(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){Mt(e,e.return,g)}}break;case 3:if(En(t,e),ts(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(t.containerInfo)}catch(g){Mt(e,e.return,g)}break;case 4:En(t,e),ts(e);break;case 13:En(t,e),ts(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Nv=Ft())),n&4&&Gx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(u=vr)||d,En(t,e),vr=u):En(t,e),ts(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(fe=e,d=e.child;d!==null;){for(h=fe=d;fe!==null;){switch(p=fe,f=p.child,p.tag){case 0:case 11:case 14:case 15:yc(4,p,p.return);break;case 1:Ro(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Mt(n,r,g)}}break;case 5:Ro(p,p.return);break;case 22:if(p.memoizedState!==null){Yx(h);continue}}f!==null?(f.return=p,fe=f):Yx(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=hj("display",o))}catch(g){Mt(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Mt(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:En(t,e),ts(e),n&4&&Gx(e);break;case 21:break;default:En(t,e),ts(e)}}function ts(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if($_(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Nc(s,""),n.flags&=-33);var a=Kx(e);Rp(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Kx(e);Pp(e,l,o);break;default:throw Error(Q(161))}}catch(c){Mt(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function BP(e,t,r){fe=e,z_(e)}function z_(e,t,r){for(var n=(e.mode&1)!==0;fe!==null;){var s=fe,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Hu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vr;l=Hu;var u=vr;if(Hu=o,(vr=c)&&!u)for(fe=s;fe!==null;)o=fe,c=o.child,o.tag===22&&o.memoizedState!==null?Jx(s):c!==null?(c.return=o,fe=c):Jx(s);for(;a!==null;)fe=a,z_(a),a=a.sibling;fe=s,Hu=l,vr=u}Qx(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,fe=a):Qx(e)}}function Qx(e){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||Bh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:In(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Ox(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ox(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Rc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}vr||t.flags&512&&Ep(t)}catch(p){Mt(t,t.return,p)}}if(t===e){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Yx(e){for(;fe!==null;){var t=fe;if(t===e){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function Jx(e){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Bh(4,t)}catch(c){Mt(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Mt(t,s,c)}}var a=t.return;try{Ep(t)}catch(c){Mt(t,a,c)}break;case 5:var o=t.return;try{Ep(t)}catch(c){Mt(t,o,c)}}}catch(c){Mt(t,t.return,c)}if(t===e){fe=null;break}var l=t.sibling;if(l!==null){l.return=t.return,fe=l;break}fe=t.return}}var WP=Math.ceil,Jd=Gs.ReactCurrentDispatcher,Sv=Gs.ReactCurrentOwner,mn=Gs.ReactCurrentBatchConfig,Xe=0,ar=null,Wt=null,hr=0,Hr=0,To=Qi(0),rr=0,zc=null,Ia=0,Wh=0,kv=0,xc=null,Lr=null,Nv=0,ll=1/0,Ps=null,Zd=!1,Tp=null,Ii=null,Ku=!1,Ci=null,Xd=0,wc=0,Ap=null,_d=-1,Sd=0;function Sr(){return Xe&6?Ft():_d!==-1?_d:_d=Ft()}function Mi(e){return e.mode&1?Xe&2&&hr!==0?hr&-hr:CP.transition!==null?(Sd===0&&(Sd=kj()),Sd):(e=dt,e!==0||(e=window.event,e=e===void 0?16:Aj(e.type)),e):1}function qn(e,t,r,n){if(50<wc)throw wc=0,Ap=null,Error(Q(185));mu(e,r,n),(!(Xe&2)||e!==ar)&&(e===ar&&(!(Xe&2)&&(Wh|=r),rr===4&&mi(e,hr)),Br(e,n),r===1&&Xe===0&&!(t.mode&1)&&(ll=Ft()+500,Uh&&Yi()))}function Br(e,t){var r=e.callbackNode;CE(e,t);var n=Dd(e,e===ar?hr:0);if(n===0)r!==null&&ax(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ax(r),t===1)e.tag===0?NP(Zx.bind(null,e)):Jj(Zx.bind(null,e)),jP(function(){!(Xe&6)&&Yi()}),r=null;else{switch(Nj(n)){case 1:r=Zg;break;case 4:r=_j;break;case 16:r=Md;break;case 536870912:r=Sj;break;default:r=Md}r=Q_(r,V_.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function V_(e,t){if(_d=-1,Sd=0,Xe&6)throw Error(Q(327));var r=e.callbackNode;if(Fo()&&e.callbackNode!==r)return null;var n=Dd(e,e===ar?hr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=eh(e,n);else{t=n;var s=Xe;Xe|=2;var a=W_();(ar!==e||hr!==t)&&(Ps=null,ll=Ft()+500,Ea(e,t));do try{KP();break}catch(l){B_(e,l)}while(!0);dv(),Jd.current=a,Xe=s,Wt!==null?t=0:(ar=null,hr=0,t=rr)}if(t!==0){if(t===2&&(s=ip(e),s!==0&&(n=s,t=Op(e,s))),t===1)throw r=zc,Ea(e,0),mi(e,n),Br(e,Ft()),r;if(t===6)mi(e,n);else{if(s=e.current.alternate,!(n&30)&&!qP(s)&&(t=eh(e,n),t===2&&(a=ip(e),a!==0&&(n=a,t=Op(e,a))),t===1))throw r=zc,Ea(e,0),mi(e,n),Br(e,Ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:oa(e,Lr,Ps);break;case 3:if(mi(e,n),(n&130023424)===n&&(t=Nv+500-Ft(),10<t)){if(Dd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=fp(oa.bind(null,e,Lr,Ps),t);break}oa(e,Lr,Ps);break;case 4:if(mi(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Wn(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*WP(n/1960))-n,10<n){e.timeoutHandle=fp(oa.bind(null,e,Lr,Ps),n);break}oa(e,Lr,Ps);break;case 5:oa(e,Lr,Ps);break;default:throw Error(Q(329))}}}return Br(e,Ft()),e.callbackNode===r?V_.bind(null,e):null}function Op(e,t){var r=xc;return e.current.memoizedState.isDehydrated&&(Ea(e,t).flags|=256),e=eh(e,t),e!==2&&(t=Lr,Lr=r,t!==null&&Ip(t)),e}function Ip(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function qP(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!Hn(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mi(e,t){for(t&=~kv,t&=~Wh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Wn(t),n=1<<r;e[r]=-1,t&=~n}}function Zx(e){if(Xe&6)throw Error(Q(327));Fo();var t=Dd(e,0);if(!(t&1))return Br(e,Ft()),null;var r=eh(e,t);if(e.tag!==0&&r===2){var n=ip(e);n!==0&&(t=n,r=Op(e,n))}if(r===1)throw r=zc,Ea(e,0),mi(e,t),Br(e,Ft()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oa(e,Lr,Ps),Br(e,Ft()),null}function Cv(e,t){var r=Xe;Xe|=1;try{return e(t)}finally{Xe=r,Xe===0&&(ll=Ft()+500,Uh&&Yi())}}function Ma(e){Ci!==null&&Ci.tag===0&&!(Xe&6)&&Fo();var t=Xe;Xe|=1;var r=mn.transition,n=dt;try{if(mn.transition=null,dt=1,e)return e()}finally{dt=n,mn.transition=r,Xe=t,!(Xe&6)&&Yi()}}function Ev(){Hr=To.current,wt(To)}function Ea(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bP(r)),Wt!==null)for(r=Wt.return;r!==null;){var n=r;switch(lv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zd();break;case 3:al(),wt(zr),wt(xr),vv();break;case 5:gv(n);break;case 4:al();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:hv(n.type._context);break;case 22:case 23:Ev()}r=r.return}if(ar=e,Wt=e=Di(e.current,null),hr=Hr=t,rr=0,zc=null,kv=Wh=Ia=0,Lr=xc=null,ma!==null){for(t=0;t<ma.length;t++)if(r=ma[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}ma=null}return e}function B_(e,t){do{var r=Wt;try{if(dv(),wd.current=Yd,Qd){for(var n=Et.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Qd=!1}if(Oa=0,sr=Xt=Et=null,vc=!1,$c=0,Sv.current=null,r===null||r.return===null){rr=1,zc=t,Wt=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=hr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Fx(o);if(f!==null){f.flags&=-257,Ux(f,o,l,a,t),f.mode&1&&$x(a,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){$x(a,u,t),Pv();break e}c=Error(Q(426))}}else if(jt&&l.mode&1){var b=Fx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Ux(b,o,l,a,t),cv(ol(c,l));break e}}a=c=ol(c,l),rr!==4&&(rr=2),xc===null?xc=[a]:xc.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=N_(a,c,t);Ax(a,y);break e;case 1:l=c;var x=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ii===null||!Ii.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=C_(a,l,t);Ax(a,j);break e}}a=a.return}while(a!==null)}H_(r)}catch(S){t=S,Wt===r&&r!==null&&(Wt=r=r.return);continue}break}while(!0)}function W_(){var e=Jd.current;return Jd.current=Yd,e===null?Yd:e}function Pv(){(rr===0||rr===3||rr===2)&&(rr=4),ar===null||!(Ia&268435455)&&!(Wh&268435455)||mi(ar,hr)}function eh(e,t){var r=Xe;Xe|=2;var n=W_();(ar!==e||hr!==t)&&(Ps=null,Ea(e,t));do try{HP();break}catch(s){B_(e,s)}while(!0);if(dv(),Xe=r,Jd.current=n,Wt!==null)throw Error(Q(261));return ar=null,hr=0,rr}function HP(){for(;Wt!==null;)q_(Wt)}function KP(){for(;Wt!==null&&!yE();)q_(Wt)}function q_(e){var t=G_(e.alternate,e,Hr);e.memoizedProps=e.pendingProps,t===null?H_(e):Wt=t,Sv.current=null}function H_(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=UP(r,t),r!==null){r.flags&=32767,Wt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rr=6,Wt=null;return}}else if(r=FP(r,t,Hr),r!==null){Wt=r;return}if(t=t.sibling,t!==null){Wt=t;return}Wt=t=e}while(t!==null);rr===0&&(rr=5)}function oa(e,t,r){var n=dt,s=mn.transition;try{mn.transition=null,dt=1,GP(e,t,r,n)}finally{mn.transition=s,dt=n}return null}function GP(e,t,r,n){do Fo();while(Ci!==null);if(Xe&6)throw Error(Q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(EE(e,a),e===ar&&(Wt=ar=null,hr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ku||(Ku=!0,Q_(Md,function(){return Fo(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=mn.transition,mn.transition=null;var o=dt;dt=1;var l=Xe;Xe|=4,Sv.current=null,VP(e,r),U_(r,e),mP(dp),Ld=!!up,dp=up=null,e.current=r,BP(r),xE(),Xe=l,dt=o,mn.transition=a}else e.current=r;if(Ku&&(Ku=!1,Ci=e,Xd=s),a=e.pendingLanes,a===0&&(Ii=null),jE(r.stateNode),Br(e,Ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zd)throw Zd=!1,e=Tp,Tp=null,e;return Xd&1&&e.tag!==0&&Fo(),a=e.pendingLanes,a&1?e===Ap?wc++:(wc=0,Ap=e):wc=0,Yi(),null}function Fo(){if(Ci!==null){var e=Nj(Xd),t=mn.transition,r=dt;try{if(mn.transition=null,dt=16>e?16:e,Ci===null)var n=!1;else{if(e=Ci,Ci=null,Xd=0,Xe&6)throw Error(Q(331));var s=Xe;for(Xe|=4,fe=e.current;fe!==null;){var a=fe,o=a.child;if(fe.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(fe=u;fe!==null;){var d=fe;switch(d.tag){case 0:case 11:case 15:yc(8,d,a)}var h=d.child;if(h!==null)h.return=d,fe=h;else for(;fe!==null;){d=fe;var p=d.sibling,f=d.return;if(L_(d),d===u){fe=null;break}if(p!==null){p.return=f,fe=p;break}fe=f}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}fe=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,fe=o;else e:for(;fe!==null;){if(a=fe,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yc(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,fe=y;break e}fe=a.return}}var x=e.current;for(fe=x;fe!==null;){o=fe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,fe=w;else e:for(o=x;fe!==null;){if(l=fe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Bh(9,l)}}catch(S){Mt(l,l.return,S)}if(l===o){fe=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,fe=j;break e}fe=l.return}}if(Xe=s,Yi(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Mh,e)}catch{}n=!0}return n}finally{dt=r,mn.transition=t}}return!1}function Xx(e,t,r){t=ol(r,t),t=N_(e,t,1),e=Oi(e,t,1),t=Sr(),e!==null&&(mu(e,1,t),Br(e,t))}function Mt(e,t,r){if(e.tag===3)Xx(e,e,r);else for(;t!==null;){if(t.tag===3){Xx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ii===null||!Ii.has(n))){e=ol(r,e),e=C_(t,e,1),t=Oi(t,e,1),e=Sr(),t!==null&&(mu(t,1,e),Br(t,e));break}}t=t.return}}function QP(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sr(),e.pingedLanes|=e.suspendedLanes&r,ar===e&&(hr&r)===r&&(rr===4||rr===3&&(hr&130023424)===hr&&500>Ft()-Nv?Ea(e,0):kv|=r),Br(e,t)}function K_(e,t){t===0&&(e.mode&1?(t=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):t=1);var r=Sr();e=Bs(e,t),e!==null&&(mu(e,t,r),Br(e,r))}function YP(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),K_(e,r)}function JP(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),K_(e,r)}var G_;G_=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||zr.current)$r=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return $r=!1,$P(e,t,r);$r=!!(e.flags&131072)}else $r=!1,jt&&t.flags&1048576&&Zj(t,Wd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;jd(e,t),e=t.pendingProps;var s=nl(t,xr.current);$o(t,r),s=xv(null,t,n,e,s,r);var a=wv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vr(n)?(a=!0,Vd(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mv(t),s.updater=Vh,t.stateNode=s,s._reactInternals=t,wp(t,n,e,r),t=_p(null,t,n,!0,a,r)):(t.tag=0,jt&&a&&ov(t),jr(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(jd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=XP(n),e=In(n,e),s){case 0:t=jp(null,t,n,e,r);break e;case 1:t=Bx(null,t,n,e,r);break e;case 11:t=zx(null,t,n,e,r);break e;case 14:t=Vx(null,t,n,In(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),jp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),Bx(e,t,n,s,r);case 3:e:{if(T_(t),e===null)throw Error(Q(387));n=t.pendingProps,a=t.memoizedState,s=a.element,s_(e,t),Kd(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=ol(Error(Q(423)),t),t=Wx(e,t,n,r,s);break e}else if(n!==s){s=ol(Error(Q(424)),t),t=Wx(e,t,n,r,s);break e}else for(Yr=Ai(t.stateNode.containerInfo.firstChild),Jr=t,jt=!0,Un=null,r=r_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(sl(),n===s){t=Ws(e,t,r);break e}jr(e,t,n,r)}t=t.child}return t;case 5:return i_(t),e===null&&vp(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,hp(n,s)?o=null:a!==null&&hp(n,a)&&(t.flags|=32),R_(e,t),jr(e,t,o,r),t.child;case 6:return e===null&&vp(t),null;case 13:return A_(e,t,r);case 4:return pv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=il(t,null,n,r):jr(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),zx(e,t,n,s,r);case 7:return jr(e,t,t.pendingProps,r),t.child;case 8:return jr(e,t,t.pendingProps.children,r),t.child;case 12:return jr(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,gt(qd,n._currentValue),n._currentValue=o,a!==null)if(Hn(a.value,o)){if(a.children===s.children&&!zr.current){t=Ws(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Fs(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),yp(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(Q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),yp(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}jr(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,$o(t,r),s=gn(s),n=n(s),t.flags|=1,jr(e,t,n,r),t.child;case 14:return n=t.type,s=In(n,t.pendingProps),s=In(n.type,s),Vx(e,t,n,s,r);case 15:return E_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:In(n,s),jd(e,t),t.tag=1,Vr(n)?(e=!0,Vd(t)):e=!1,$o(t,r),k_(t,n,s),wp(t,n,s,r),_p(null,t,n,!0,e,r);case 19:return O_(e,t,r);case 22:return P_(e,t,r)}throw Error(Q(156,t.tag))};function Q_(e,t){return jj(e,t)}function ZP(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,t,r,n){return new ZP(e,t,r,n)}function Rv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function XP(e){if(typeof e=="function")return Rv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Qg)return 11;if(e===Yg)return 14}return 2}function Di(e,t){var r=e.alternate;return r===null?(r=hn(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kd(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Rv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case bo:return Pa(r.children,s,a,t);case Gg:o=8,s|=8;break;case Wm:return e=hn(12,r,t,s|2),e.elementType=Wm,e.lanes=a,e;case qm:return e=hn(13,r,t,s),e.elementType=qm,e.lanes=a,e;case Hm:return e=hn(19,r,t,s),e.elementType=Hm,e.lanes=a,e;case ij:return qh(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nj:o=10;break e;case sj:o=9;break e;case Qg:o=11;break e;case Yg:o=14;break e;case ci:o=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=hn(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Pa(e,t,r,n){return e=hn(7,e,n,t),e.lanes=r,e}function qh(e,t,r,n){return e=hn(22,e,n,t),e.elementType=ij,e.lanes=r,e.stateNode={isHidden:!1},e}function cm(e,t,r){return e=hn(6,e,null,t),e.lanes=r,e}function um(e,t,r){return t=hn(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wf(0),this.expirationTimes=Wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Tv(e,t,r,n,s,a,o,l,c){return e=new eR(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=hn(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(a),e}function tR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Y_(e){if(!e)return Vi;e=e._reactInternals;e:{if(Ga(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Vr(r))return Yj(e,r,t)}return t}function J_(e,t,r,n,s,a,o,l,c){return e=Tv(r,n,!0,e,s,a,o,l,c),e.context=Y_(null),r=e.current,n=Sr(),s=Mi(r),a=Fs(n,s),a.callback=t??null,Oi(r,a,s),e.current.lanes=s,mu(e,s,n),Br(e,n),e}function Hh(e,t,r,n){var s=t.current,a=Sr(),o=Mi(s);return r=Y_(r),t.context===null?t.context=r:t.pendingContext=r,t=Fs(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Oi(s,t,o),e!==null&&(qn(e,s,o,a),xd(e,s,o)),o}function th(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ew(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Av(e,t){ew(e,t),(e=e.alternate)&&ew(e,t)}function rR(){return null}var Z_=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ov(e){this._internalRoot=e}Kh.prototype.render=Ov.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Hh(e,t,null,null)};Kh.prototype.unmount=Ov.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ma(function(){Hh(null,e,null,null)}),t[Vs]=null}};function Kh(e){this._internalRoot=e}Kh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<fi.length&&t!==0&&t<fi[r].priority;r++);fi.splice(r,0,e),r===0&&Tj(e)}};function Iv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Gh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tw(){}function nR(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=th(o);a.call(u)}}var o=J_(t,n,e,0,null,!1,!1,"",tw);return e._reactRootContainer=o,e[Vs]=o.current,Oc(e.nodeType===8?e.parentNode:e),Ma(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=th(c);l.call(u)}}var c=Tv(e,0,!1,null,null,!1,!1,"",tw);return e._reactRootContainer=c,e[Vs]=c.current,Oc(e.nodeType===8?e.parentNode:e),Ma(function(){Hh(t,c,r,n)}),c}function Qh(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=th(o);l.call(c)}}Hh(t,o,e,s)}else o=nR(r,t,e,s,n);return th(o)}Cj=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ic(t.pendingLanes);r!==0&&(Xg(t,r|1),Br(t,Ft()),!(Xe&6)&&(ll=Ft()+500,Yi()))}break;case 13:Ma(function(){var n=Bs(e,1);if(n!==null){var s=Sr();qn(n,e,1,s)}}),Av(e,1)}};ev=function(e){if(e.tag===13){var t=Bs(e,134217728);if(t!==null){var r=Sr();qn(t,e,134217728,r)}Av(e,134217728)}};Ej=function(e){if(e.tag===13){var t=Mi(e),r=Bs(e,t);if(r!==null){var n=Sr();qn(r,e,t,n)}Av(e,t)}};Pj=function(){return dt};Rj=function(e,t){var r=dt;try{return dt=e,t()}finally{dt=r}};rp=function(e,t,r){switch(t){case"input":if(Qm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Fh(n);if(!s)throw Error(Q(90));oj(n),Qm(n,s)}}}break;case"textarea":cj(e,r);break;case"select":t=r.value,t!=null&&Io(e,!!r.multiple,t,!1)}};gj=Cv;vj=Ma;var sR={usingClientEntryPoint:!1,Events:[gu,ko,Fh,mj,pj,Cv]},Ql={findFiberByHostInstance:fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iR={bundleType:Ql.bundleType,version:Ql.version,rendererPackageName:Ql.rendererPackageName,rendererConfig:Ql.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=wj(e),e===null?null:e.stateNode},findFiberByHostInstance:Ql.findFiberByHostInstance||rR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Mh=Gu.inject(iR),ds=Gu}catch{}}nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR;nn.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Iv(t))throw Error(Q(200));return tR(e,t,null,r)};nn.createRoot=function(e,t){if(!Iv(e))throw Error(Q(299));var r=!1,n="",s=Z_;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Tv(e,1,!1,null,null,r,!1,n,s),e[Vs]=t.current,Oc(e.nodeType===8?e.parentNode:e),new Ov(t)};nn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=wj(t),e=e===null?null:e.stateNode,e};nn.flushSync=function(e){return Ma(e)};nn.hydrate=function(e,t,r){if(!Gh(t))throw Error(Q(200));return Qh(null,e,t,!0,r)};nn.hydrateRoot=function(e,t,r){if(!Iv(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Z_;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=J_(t,null,e,1,r??null,s,!1,a,o),e[Vs]=t.current,Oc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Kh(t)};nn.render=function(e,t,r){if(!Gh(t))throw Error(Q(200));return Qh(null,e,t,!1,r)};nn.unmountComponentAtNode=function(e){if(!Gh(e))throw Error(Q(40));return e._reactRootContainer?(Ma(function(){Qh(null,null,e,!1,function(){e._reactRootContainer=null,e[Vs]=null})}),!0):!1};nn.unstable_batchedUpdates=Cv;nn.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Gh(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Qh(e,t,r,!1,n)};nn.version="18.3.1-next-f1338f8080-20240426";function X_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X_)}catch(e){console.error(e)}}X_(),X0.exports=nn;var Sl=X0.exports;const eS=z0(Sl);var rw=Sl;Vm.createRoot=rw.createRoot,Vm.hydrateRoot=rw.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vc.apply(this,arguments)}var Ei;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ei||(Ei={}));const nw="popstate";function aR(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Mp("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:rh(s)}return lR(t,r,null,e)}function Pt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Mv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function oR(){return Math.random().toString(36).substr(2,8)}function sw(e,t){return{usr:e.state,key:e.key,idx:t}}function Mp(e,t,r,n){return r===void 0&&(r=null),Vc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?kl(t):t,{state:r,key:t&&t.key||n||oR()})}function rh(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function kl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function lR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Ei.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Vc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Ei.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function p(b,y){l=Ei.Push;let x=Mp(g.location,b,y);u=d()+1;let w=sw(x,u),j=g.createHref(x);try{o.pushState(w,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(j)}a&&c&&c({action:l,location:g.location,delta:1})}function f(b,y){l=Ei.Replace;let x=Mp(g.location,b,y);u=d();let w=sw(x,u),j=g.createHref(x);o.replaceState(w,"",j),a&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:rh(b);return x=x.replace(/ $/,"%20"),Pt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(nw,h),c=b,()=>{s.removeEventListener(nw,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(b){return o.go(b)}};return g}var iw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iw||(iw={}));function cR(e,t,r){return r===void 0&&(r="/"),uR(e,t,r)}function uR(e,t,r,n){let s=typeof t=="string"?kl(t):t,a=cl(s.pathname||"/",r);if(a==null)return null;let o=tS(e);dR(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=jR(a);l=wR(o[c],u)}return l}function tS(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Pt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Li([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Pt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),tS(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:yR(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of rS(a.path))s(a,o,c)}),t}function rS(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=rS(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function dR(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:xR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const hR=/^:[\w-]+$/,fR=3,mR=2,pR=1,gR=10,vR=-2,aw=e=>e==="*";function yR(e,t){let r=e.split("/"),n=r.length;return r.some(aw)&&(n+=vR),t&&(n+=mR),r.filter(s=>!aw(s)).reduce((s,a)=>s+(hR.test(a)?fR:a===""?pR:gR),n)}function xR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function wR(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=Dp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Li([a,h.pathname]),pathnameBase:CR(Li([a,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(a=Li([a,h.pathnameBase]))}return o}function Dp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=bR(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let g=l[h]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function bR(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Mv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function jR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Mv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function cl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const _R=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SR=e=>_R.test(e);function kR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?kl(e):e,a;if(r)if(SR(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Mv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=ow(r.substring(1),"/"):a=ow(r,t)}else a=t;return{pathname:a,search:ER(n),hash:PR(s)}}function ow(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function dm(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function NR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dv(e,t){let r=NR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Lv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=kl(e):(s=Vc({},e),Pt(!s.pathname||!s.pathname.includes("?"),dm("?","pathname","search",s)),Pt(!s.pathname||!s.pathname.includes("#"),dm("#","pathname","hash",s)),Pt(!s.search||!s.search.includes("#"),dm("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=kR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Li=e=>e.join("/").replace(/\/\/+/g,"/"),CR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ER=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,PR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function RR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nS=["post","put","patch","delete"];new Set(nS);const TR=["get",...nS];new Set(TR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bc.apply(this,arguments)}const Yh=m.createContext(null),sS=m.createContext(null),Qs=m.createContext(null),Jh=m.createContext(null),vs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),iS=m.createContext(null);function AR(e,t){let{relative:r}=t===void 0?{}:t;Nl()||Pt(!1);let{basename:n,navigator:s}=m.useContext(Qs),{hash:a,pathname:o,search:l}=Zh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Li([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Nl(){return m.useContext(Jh)!=null}function ys(){return Nl()||Pt(!1),m.useContext(Jh).location}function aS(e){m.useContext(Qs).static||m.useLayoutEffect(e)}function Ji(){let{isDataRoute:e}=m.useContext(vs);return e?GR():OR()}function OR(){Nl()||Pt(!1);let e=m.useContext(Yh),{basename:t,future:r,navigator:n}=m.useContext(Qs),{matches:s}=m.useContext(vs),{pathname:a}=ys(),o=JSON.stringify(Dv(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return aS(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Lv(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Li([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}const IR=m.createContext(null);function MR(e){let t=m.useContext(vs).outlet;return t&&m.createElement(IR.Provider,{value:e},t)}function DR(){let{matches:e}=m.useContext(vs),t=e[e.length-1];return t?t.params:{}}function Zh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Qs),{matches:s}=m.useContext(vs),{pathname:a}=ys(),o=JSON.stringify(Dv(s,n.v7_relativeSplatPath));return m.useMemo(()=>Lv(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function LR(e,t){return $R(e,t)}function $R(e,t,r,n){Nl()||Pt(!1);let{navigator:s}=m.useContext(Qs),{matches:a}=m.useContext(vs),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ys(),d;if(t){var h;let b=typeof t=="string"?kl(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Pt(!1),d=b}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=cR(e,{pathname:f}),g=BR(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Li([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Li([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),a,r,n);return t&&g?m.createElement(Jh.Provider,{value:{location:Bc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ei.Pop}},g):g}function FR(){let e=KR(),t=RR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const UR=m.createElement(FR,null);class zR extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(vs.Provider,{value:this.props.routeContext},m.createElement(iS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function VR(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Yh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(vs.Provider,{value:t},n)}function BR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Pt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,v=!1,g=null,b=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||UR,c&&(u<0&&p===0?(QR("route-fallback"),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),x=()=>{let w;return f?w=g:v?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(VR,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(zR,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var oS=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(oS||{}),lS=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lS||{});function WR(e){let t=m.useContext(Yh);return t||Pt(!1),t}function qR(e){let t=m.useContext(sS);return t||Pt(!1),t}function HR(e){let t=m.useContext(vs);return t||Pt(!1),t}function cS(e){let t=HR(),r=t.matches[t.matches.length-1];return r.route.id||Pt(!1),r.route.id}function KR(){var e;let t=m.useContext(iS),r=qR(),n=cS();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function GR(){let{router:e}=WR(oS.UseNavigateStable),t=cS(lS.UseNavigateStable),r=m.useRef(!1);return aS(()=>{r.current=!0}),m.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Bc({fromRouteId:t},a)))},[e,t])}const lw={};function QR(e,t,r){lw[e]||(lw[e]=!0)}function YR(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function JR(e){let{to:t,replace:r,state:n,relative:s}=e;Nl()||Pt(!1);let{future:a,static:o}=m.useContext(Qs),{matches:l}=m.useContext(vs),{pathname:c}=ys(),u=Ji(),d=Lv(t,Dv(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return m.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function uS(e){return MR(e.context)}function ot(e){Pt(!1)}function ZR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ei.Pop,navigator:a,static:o=!1,future:l}=e;Nl()&&Pt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:a,static:o,future:Bc({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=kl(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=n,g=m.useMemo(()=>{let b=cl(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:f,key:v},navigationType:s}},[c,d,h,p,f,v,s]);return g==null?null:m.createElement(Qs.Provider,{value:u},m.createElement(Jh.Provider,{children:r,value:g}))}function XR(e){let{children:t,location:r}=e;return LR(Lp(t),r)}new Promise(()=>{});function Lp(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let a=[...t,s];if(n.type===m.Fragment){r.push.apply(r,Lp(n.props.children,a));return}n.type!==ot&&Pt(!1),!n.props.index||!n.props.children||Pt(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Lp(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nh.apply(this,arguments)}function dS(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function eT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function tT(e,t){return e.button===0&&(!t||t==="_self")&&!eT(e)}function $p(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function rT(e,t){let r=$p(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const nT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sT=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iT="6";try{window.__reactRouterVersion=iT}catch{}const aT=m.createContext({isTransitioning:!1}),oT="startTransition",cw=Ih[oT];function lT(e){let{basename:t,children:r,future:n,window:s}=e,a=m.useRef();a.current==null&&(a.current=aR({window:s,v5Compat:!0}));let o=a.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(h=>{u&&cw?cw(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>YR(n),[n]),m.createElement(ZR,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const cT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ie=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=dS(t,nT),{basename:f}=m.useContext(Qs),v,g=!1;if(typeof u=="string"&&uT.test(u)&&(v=u,cT))try{let w=new URL(window.location.href),j=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=cl(j.pathname,f);j.origin===w.origin&&S!=null?u=S+j.search+j.hash:g=!0}catch{}let b=AR(u,{relative:s}),y=fT(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(w){n&&n(w),w.defaultPrevented||y(w)}return m.createElement("a",nh({},p,{href:v||b,onClick:g||a?n:x,ref:r,target:c}))}),dT=m.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=dS(t,sT),p=Zh(c,{relative:h.relative}),f=ys(),v=m.useContext(sS),{navigator:g,basename:b}=m.useContext(Qs),y=v!=null&&pT(p)&&u===!0,x=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=f.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(w=w.toLowerCase(),j=j?j.toLowerCase():null,x=x.toLowerCase()),j&&b&&(j=cl(j,b)||j);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let _=w===x||!o&&w.startsWith(x)&&w.charAt(S)==="/",k=j!=null&&(j===x||!o&&j.startsWith(x)&&j.charAt(x.length)==="/"),T={isActive:_,isPending:k,isTransitioning:y},O=_?n:void 0,M;typeof a=="function"?M=a(T):M=[a,_?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(T):l;return m.createElement(ie,nh({},h,{"aria-current":O,className:M,ref:r,style:W,to:c,viewTransition:u}),typeof d=="function"?d(T):d)});var Fp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Fp||(Fp={}));var uw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uw||(uw={}));function hT(e){let t=m.useContext(Yh);return t||Pt(!1),t}function fT(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=Ji(),u=ys(),d=Zh(e,{relative:o});return m.useCallback(h=>{if(tT(h,r)){h.preventDefault();let p=n!==void 0?n:rh(u)===rh(d);c(e,{replace:p,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function mT(e){let t=m.useRef($p(e)),r=m.useRef(!1),n=ys(),s=m.useMemo(()=>rT(n.search,r.current?null:t.current),[n.search]),a=Ji(),o=m.useCallback((l,c)=>{const u=$p(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}function pT(e,t){t===void 0&&(t={});let r=m.useContext(aT);r==null&&Pt(!1);let{basename:n}=hT(Fp.useViewTransitionState),s=Zh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=cl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=cl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Dp(s.pathname,o)!=null||Dp(s.pathname,a)!=null}var Cl=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},gT={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},vi,Ug,R0,vT=(R0=class{constructor(){be(this,vi,gT);be(this,Ug,!1)}setTimeoutProvider(e){ae(this,vi,e)}setTimeout(e,t){return C(this,vi).setTimeout(e,t)}clearTimeout(e){C(this,vi).clearTimeout(e)}setInterval(e,t){return C(this,vi).setInterval(e,t)}clearInterval(e){C(this,vi).clearInterval(e)}},vi=new WeakMap,Ug=new WeakMap,R0),ga=new vT;function yT(e){setTimeout(e,0)}var Da=typeof window>"u"||"Deno"in globalThis;function _r(){}function xT(e,t){return typeof e=="function"?e(t):e}function Up(e){return typeof e=="number"&&e>=0&&e!==1/0}function hS(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $i(e,t){return typeof e=="function"?e(t):e}function cn(e,t){return typeof e=="function"?e(t):e}function dw(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:a,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==$v(o,t.options))return!1}else if(!Wc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||a&&!a(t))}function hw(e,t){const{exact:r,status:n,predicate:s,mutationKey:a}=e;if(a){if(!t.options.mutationKey)return!1;if(r){if(La(t.options.mutationKey)!==La(a))return!1}else if(!Wc(t.options.mutationKey,a))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function $v(e,t){return((t==null?void 0:t.queryKeyHashFn)||La)(e)}function La(e){return JSON.stringify(e,(t,r)=>zp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Wc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Wc(e[r],t[r])):!1}var wT=Object.prototype.hasOwnProperty;function fS(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=fw(e)&&fw(t);if(!n&&!(zp(e)&&zp(t)))return t;const a=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=n?d:o[d],p=e[h],f=t[h];if(p===f){c[h]=p,(n?d<a:wT.call(e,h))&&u++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){c[h]=f;continue}const v=fS(p,f,r+1);c[h]=v,v===p&&u++}return a===l&&u===a?e:c}function sh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function fw(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zp(e){if(!mw(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!mw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function mw(e){return Object.prototype.toString.call(e)==="[object Object]"}function bT(e){return new Promise(t=>{ga.setTimeout(t,e)})}function Vp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?fS(e,t):t}function jT(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function _T(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Fv=Symbol();function mS(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Fv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Uv(e,t){return typeof e=="function"?e(...t):!!e}function ST(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var xa,yi,Wo,T0,kT=(T0=class extends Cl{constructor(){super();be(this,xa);be(this,yi);be(this,Wo);ae(this,Wo,t=>{if(!Da&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,yi)||this.setEventListener(C(this,Wo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,yi))==null||t.call(this),ae(this,yi,void 0))}setEventListener(t){var r;ae(this,Wo,t),(r=C(this,yi))==null||r.call(this),ae(this,yi,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,xa)!==t&&(ae(this,xa,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,xa)=="boolean"?C(this,xa):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xa=new WeakMap,yi=new WeakMap,Wo=new WeakMap,T0),zv=new kT;function Bp(){let e,t;const r=new Promise((s,a)=>{e=s,t=a});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var NT=yT;function CT(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=NT;const a=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var er=CT(),qo,xi,Ho,A0,ET=(A0=class extends Cl{constructor(){super();be(this,qo,!0);be(this,xi);be(this,Ho);ae(this,Ho,t=>{if(!Da&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,xi)||this.setEventListener(C(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,xi))==null||t.call(this),ae(this,xi,void 0))}setEventListener(t){var r;ae(this,Ho,t),(r=C(this,xi))==null||r.call(this),ae(this,xi,t(this.setOnline.bind(this)))}setOnline(t){C(this,qo)!==t&&(ae(this,qo,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,qo)}},qo=new WeakMap,xi=new WeakMap,Ho=new WeakMap,A0),ih=new ET;function PT(e){return Math.min(1e3*2**e,3e4)}function pS(e){return(e??"online")==="online"?ih.isOnline():!0}var Wp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gS(e){let t=!1,r=0,n;const s=Bp(),a=()=>s.status!=="pending",o=g=>{var b;if(!a()){const y=new Wp(g);p(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>zv.isFocused()&&(e.networkMode==="always"||ih.isOnline())&&e.canRun(),d=()=>pS(e.networkMode)&&e.canRun(),h=g=>{a()||(n==null||n(),s.resolve(g))},p=g=>{a()||(n==null||n(),s.reject(g))},f=()=>new Promise(g=>{var b;n=y=>{(a()||u())&&g(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;n=void 0,a()||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(a())return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var _;if(a())return;const x=e.retry??(Da?0:3),w=e.retryDelay??PT,j=typeof w=="function"?w(r,y):w,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!S){p(y);return}r++,(_=e.onFail)==null||_.call(e,r,y),bT(j).then(()=>u()?void 0:f()).then(()=>{t?p(y):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),s)}}var wa,O0,vS=(O0=class{constructor(){be(this,wa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Up(this.gcTime)&&ae(this,wa,ga.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Da?1/0:5*60*1e3))}clearGcTimeout(){C(this,wa)&&(ga.clearTimeout(C(this,wa)),ae(this,wa,void 0))}},wa=new WeakMap,O0),ba,Ko,ln,ja,nr,lu,_a,Dn,Es,I0,RT=(I0=class extends vS{constructor(t){super();be(this,Dn);be(this,ba);be(this,Ko);be(this,ln);be(this,ja);be(this,nr);be(this,lu);be(this,_a);ae(this,_a,!1),ae(this,lu,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,ja,t.client),ae(this,ln,C(this,ja).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,ba,gw(this.options)),this.state=t.state??C(this,ba),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,nr))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,lu),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=gw(this.options);r.data!==void 0&&(this.setState(pw(r.data,r.dataUpdatedAt)),ae(this,ba,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,ln).remove(this)}setData(t,r){const n=Vp(this.state.data,t,this.options);return Ue(this,Dn,Es).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ue(this,Dn,Es).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,nr))==null?void 0:n.promise;return(s=C(this,nr))==null||s.cancel(t),r?r.then(_r).catch(_r):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,ba))}isActive(){return this.observers.some(t=>cn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>$i(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!hS(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,nr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,nr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,ln).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,nr)&&(C(this,_a)?C(this,nr).cancel({revert:!0}):C(this,nr).cancelRetry()),this.scheduleGc()),C(this,ln).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ue(this,Dn,Es).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,p,f,v,g,b,y,x,w;if(this.state.fetchStatus!=="idle"&&((c=C(this,nr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,nr))return C(this,nr).continueRetry(),C(this,nr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const n=new AbortController,s=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(ae(this,_a,!0),n.signal)})},a=()=>{const j=mS(this.options,r),_=(()=>{const k={client:C(this,ja),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return ae(this,_a,!1),this.options.persister?this.options.persister(j,_,this):j(_)},l=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,ja),state:this.state,fetchFn:a};return s(j),j})();(u=this.options.behavior)==null||u.onFetch(l,this),ae(this,Ko,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ue(this,Dn,Es).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ae(this,nr,gS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:j=>{j instanceof Wp&&j.revert&&this.setState({...C(this,Ko),fetchStatus:"idle"}),n.abort()},onFail:(j,S)=>{Ue(this,Dn,Es).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{Ue(this,Dn,Es).call(this,{type:"pause"})},onContinue:()=>{Ue(this,Dn,Es).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const j=await C(this,nr).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(f=(p=C(this,ln).config).onSuccess)==null||f.call(p,j,this),(g=(v=C(this,ln).config).onSettled)==null||g.call(v,j,this.state.error,this),j}catch(j){if(j instanceof Wp){if(j.silent)return C(this,nr).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw Ue(this,Dn,Es).call(this,{type:"error",error:j}),(y=(b=C(this,ln).config).onError)==null||y.call(b,j,this),(w=(x=C(this,ln).config).onSettled)==null||w.call(x,this.state.data,j,this),j}finally{this.scheduleGc()}}},ba=new WeakMap,Ko=new WeakMap,ln=new WeakMap,ja=new WeakMap,nr=new WeakMap,lu=new WeakMap,_a=new WeakMap,Dn=new WeakSet,Es=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...yS(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...pw(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,Ko,t.manual?s:void 0),s;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),er.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,ln).notify({query:this,type:"updated",action:t})})},I0);function yS(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function pw(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function gw(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,Ye,cu,wr,Sa,Go,As,wi,uu,Qo,Yo,ka,Na,bi,Jo,ct,oc,qp,Hp,Kp,Gp,Qp,Yp,Jp,xS,M0,TT=(M0=class extends Cl{constructor(t,r){super();be(this,ct);be(this,Ar);be(this,Ye);be(this,cu);be(this,wr);be(this,Sa);be(this,Go);be(this,As);be(this,wi);be(this,uu);be(this,Qo);be(this,Yo);be(this,ka);be(this,Na);be(this,bi);be(this,Jo,new Set);this.options=r,ae(this,Ar,t),ae(this,wi,null),ae(this,As,Bp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Ye).addObserver(this),vw(C(this,Ye),this.options)?Ue(this,ct,oc).call(this):this.updateResult(),Ue(this,ct,Gp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Zp(C(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Zp(C(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ue(this,ct,Qp).call(this),Ue(this,ct,Yp).call(this),C(this,Ye).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,Ye);if(this.options=C(this,Ar).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof cn(this.options.enabled,C(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ue(this,ct,Jp).call(this),C(this,Ye).setOptions(this.options),r._defaulted&&!sh(this.options,r)&&C(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Ye),observer:this});const s=this.hasListeners();s&&yw(C(this,Ye),n,this.options,r)&&Ue(this,ct,oc).call(this),this.updateResult(),s&&(C(this,Ye)!==n||cn(this.options.enabled,C(this,Ye))!==cn(r.enabled,C(this,Ye))||$i(this.options.staleTime,C(this,Ye))!==$i(r.staleTime,C(this,Ye)))&&Ue(this,ct,qp).call(this);const a=Ue(this,ct,Hp).call(this);s&&(C(this,Ye)!==n||cn(this.options.enabled,C(this,Ye))!==cn(r.enabled,C(this,Ye))||a!==C(this,bi))&&Ue(this,ct,Kp).call(this,a)}getOptimisticResult(t){const r=C(this,Ar).getQueryCache().build(C(this,Ar),t),n=this.createResult(r,t);return OT(this,n)&&(ae(this,wr,n),ae(this,Go,this.options),ae(this,Sa,C(this,Ye).state)),n}getCurrentResult(){return C(this,wr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,As).status==="pending"&&C(this,As).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){C(this,Jo).add(t)}getCurrentQuery(){return C(this,Ye)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,Ar).defaultQueryOptions(t),n=C(this,Ar).getQueryCache().build(C(this,Ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ue(this,ct,oc).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,wr)))}createResult(t,r){var O;const n=C(this,Ye),s=this.options,a=C(this,wr),o=C(this,Sa),l=C(this,Go),u=t!==n?t.state:C(this,cu),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const M=this.hasListeners(),W=!M&&vw(t,r),L=M&&yw(t,n,r,s);(W||L)&&(h={...h,...yS(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&b==="pending"){let M;a!=null&&a.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(M=a.data,y=!0):M=typeof r.placeholderData=="function"?r.placeholderData((O=C(this,Yo))==null?void 0:O.state.data,C(this,Yo)):r.placeholderData,M!==void 0&&(b="success",f=Vp(a==null?void 0:a.data,M,r),p=!0)}if(r.select&&f!==void 0&&!y)if(a&&f===(o==null?void 0:o.data)&&r.select===C(this,uu))f=C(this,Qo);else try{ae(this,uu,r.select),f=r.select(f),f=Vp(a==null?void 0:a.data,f,r),ae(this,Qo,f),ae(this,wi,null)}catch(M){ae(this,wi,M)}C(this,wi)&&(v=C(this,wi),f=C(this,Qo),g=Date.now(),b="error");const x=h.fetchStatus==="fetching",w=b==="pending",j=b==="error",S=w&&x,_=f!==void 0,T={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:j,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:j&&!_,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:j&&_,isStale:Vv(t,r),refetch:this.refetch,promise:C(this,As),isEnabled:cn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=T.data!==void 0,W=T.status==="error"&&!M,L=Y=>{W?Y.reject(T.error):M&&Y.resolve(T.data)},V=()=>{const Y=ae(this,As,T.promise=Bp());L(Y)},A=C(this,As);switch(A.status){case"pending":t.queryHash===n.queryHash&&L(A);break;case"fulfilled":(W||T.data!==A.value)&&V();break;case"rejected":(!W||T.error!==A.reason)&&V();break}}return T}updateResult(){const t=C(this,wr),r=this.createResult(C(this,Ye),this.options);if(ae(this,Sa,C(this,Ye).state),ae(this,Go,this.options),C(this,Sa).data!==void 0&&ae(this,Yo,C(this,Ye)),sh(r,t))return;ae(this,wr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,a=typeof s=="function"?s():s;if(a==="all"||!a&&!C(this,Jo).size)return!0;const o=new Set(a??C(this,Jo));return this.options.throwOnError&&o.add("error"),Object.keys(C(this,wr)).some(l=>{const c=l;return C(this,wr)[c]!==t[c]&&o.has(c)})};Ue(this,ct,xS).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ue(this,ct,Gp).call(this)}},Ar=new WeakMap,Ye=new WeakMap,cu=new WeakMap,wr=new WeakMap,Sa=new WeakMap,Go=new WeakMap,As=new WeakMap,wi=new WeakMap,uu=new WeakMap,Qo=new WeakMap,Yo=new WeakMap,ka=new WeakMap,Na=new WeakMap,bi=new WeakMap,Jo=new WeakMap,ct=new WeakSet,oc=function(t){Ue(this,ct,Jp).call(this);let r=C(this,Ye).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(_r)),r},qp=function(){Ue(this,ct,Qp).call(this);const t=$i(this.options.staleTime,C(this,Ye));if(Da||C(this,wr).isStale||!Up(t))return;const n=hS(C(this,wr).dataUpdatedAt,t)+1;ae(this,ka,ga.setTimeout(()=>{C(this,wr).isStale||this.updateResult()},n))},Hp=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Ye)):this.options.refetchInterval)??!1},Kp=function(t){Ue(this,ct,Yp).call(this),ae(this,bi,t),!(Da||cn(this.options.enabled,C(this,Ye))===!1||!Up(C(this,bi))||C(this,bi)===0)&&ae(this,Na,ga.setInterval(()=>{(this.options.refetchIntervalInBackground||zv.isFocused())&&Ue(this,ct,oc).call(this)},C(this,bi)))},Gp=function(){Ue(this,ct,qp).call(this),Ue(this,ct,Kp).call(this,Ue(this,ct,Hp).call(this))},Qp=function(){C(this,ka)&&(ga.clearTimeout(C(this,ka)),ae(this,ka,void 0))},Yp=function(){C(this,Na)&&(ga.clearInterval(C(this,Na)),ae(this,Na,void 0))},Jp=function(){const t=C(this,Ar).getQueryCache().build(C(this,Ar),this.options);if(t===C(this,Ye))return;const r=C(this,Ye);ae(this,Ye,t),ae(this,cu,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},xS=function(t){er.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,wr))}),C(this,Ar).getQueryCache().notify({query:C(this,Ye),type:"observerResultsUpdated"})})},M0);function AT(e,t){return cn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function vw(e,t){return AT(e,t)||e.state.data!==void 0&&Zp(e,t,t.refetchOnMount)}function Zp(e,t,r){if(cn(t.enabled,e)!==!1&&$i(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Vv(e,t)}return!1}function yw(e,t,r,n){return(e!==t||cn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Vv(e,r)}function Vv(e,t){return cn(t.enabled,e)!==!1&&e.isStaleByTime($i(t.staleTime,e))}function OT(e,t){return!sh(e.getCurrentResult(),t)}function xw(e){return{onFetch:(t,r)=>{var d,h,p,f,v;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,a=((f=t.state.data)==null?void 0:f.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{ST(w,()=>t.signal,()=>g=!0)},y=mS(t.options,t.fetchOptions),x=async(w,j,S)=>{if(g)return Promise.reject();if(j==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return b(W),W})(),T=await y(k),{maxPages:O}=t.options,M=S?_T:jT;return{pages:M(w.pages,T,O),pageParams:M(w.pageParams,j,O)}};if(s&&a.length){const w=s==="backward",j=w?IT:ww,S={pages:a,pageParams:o},_=j(n,S);l=await x(S,_,w)}else{const w=e??a.length;do{const j=c===0?o[0]??n.initialPageParam:ww(n,l);if(c>0&&j==null)break;l=await x(l,j),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function ww(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function IT(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var du,is,gr,Ca,as,oi,D0,MT=(D0=class extends vS{constructor(t){super();be(this,as);be(this,du);be(this,is);be(this,gr);be(this,Ca);ae(this,du,t.client),this.mutationId=t.mutationId,ae(this,gr,t.mutationCache),ae(this,is,[]),this.state=t.state||wS(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,is).includes(t)||(C(this,is).push(t),this.clearGcTimeout(),C(this,gr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,is,C(this,is).filter(r=>r!==t)),this.scheduleGc(),C(this,gr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,is).length||(this.state.status==="pending"?this.scheduleGc():C(this,gr).remove(this))}continue(){var t;return((t=C(this,Ca))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,p,f,v,g,b,y,x,w,j,S,_,k;const r=()=>{Ue(this,as,oi).call(this,{type:"continue"})},n={client:C(this,du),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,Ca,gS({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(T,O)=>{Ue(this,as,oi).call(this,{type:"failed",failureCount:T,error:O})},onPause:()=>{Ue(this,as,oi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,gr).canRun(this)}));const s=this.state.status==="pending",a=!C(this,Ca).canStart();try{if(s)r();else{Ue(this,as,oi).call(this,{type:"pending",variables:t,isPaused:a}),C(this,gr).config.onMutate&&await C(this,gr).config.onMutate(t,this,n);const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));O!==this.state.context&&Ue(this,as,oi).call(this,{type:"pending",context:O,variables:t,isPaused:a})}const T=await C(this,Ca).start();return await((u=(c=C(this,gr).config).onSuccess)==null?void 0:u.call(c,T,t,this.state.context,this,n)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,t,this.state.context,n)),await((f=(p=C(this,gr).config).onSettled)==null?void 0:f.call(p,T,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,T,null,t,this.state.context,n)),Ue(this,as,oi).call(this,{type:"success",data:T}),T}catch(T){try{await((y=(b=C(this,gr).config).onError)==null?void 0:y.call(b,T,t,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((w=(x=this.options).onError)==null?void 0:w.call(x,T,t,this.state.context,n))}catch(O){Promise.reject(O)}try{await((S=(j=C(this,gr).config).onSettled)==null?void 0:S.call(j,void 0,T,this.state.variables,this.state.context,this,n))}catch(O){Promise.reject(O)}try{await((k=(_=this.options).onSettled)==null?void 0:k.call(_,void 0,T,t,this.state.context,n))}catch(O){Promise.reject(O)}throw Ue(this,as,oi).call(this,{type:"error",error:T}),T}finally{C(this,gr).runNext(this)}}},du=new WeakMap,is=new WeakMap,gr=new WeakMap,Ca=new WeakMap,as=new WeakSet,oi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),er.batch(()=>{C(this,is).forEach(n=>{n.onMutationUpdate(t)}),C(this,gr).notify({mutation:this,type:"updated",action:t})})},D0);function wS(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Os,Ln,hu,L0,DT=(L0=class extends Cl{constructor(t={}){super();be(this,Os);be(this,Ln);be(this,hu);this.config=t,ae(this,Os,new Set),ae(this,Ln,new Map),ae(this,hu,0)}build(t,r,n){const s=new MT({client:t,mutationCache:this,mutationId:++Tu(this,hu)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,Os).add(t);const r=Qu(t);if(typeof r=="string"){const n=C(this,Ln).get(r);n?n.push(t):C(this,Ln).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,Os).delete(t)){const r=Qu(t);if(typeof r=="string"){const n=C(this,Ln).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,Ln).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Qu(t);if(typeof r=="string"){const n=C(this,Ln).get(r),s=n==null?void 0:n.find(a=>a.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Qu(t);if(typeof r=="string"){const s=(n=C(this,Ln).get(r))==null?void 0:n.find(a=>a!==t&&a.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){er.batch(()=>{C(this,Os).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,Os).clear(),C(this,Ln).clear()})}getAll(){return Array.from(C(this,Os))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>hw(r,n))}findAll(t={}){return this.getAll().filter(r=>hw(t,r))}notify(t){er.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return er.batch(()=>Promise.all(t.map(r=>r.continue().catch(_r))))}},Os=new WeakMap,Ln=new WeakMap,hu=new WeakMap,L0);function Qu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Is,ji,Or,Ms,Us,Nd,Xp,$0,LT=($0=class extends Cl{constructor(r,n){super();be(this,Us);be(this,Is);be(this,ji);be(this,Or);be(this,Ms);ae(this,Is,r),this.setOptions(n),this.bindMethods(),Ue(this,Us,Nd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,Is).defaultMutationOptions(r),sh(this.options,n)||C(this,Is).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Or),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&La(n.mutationKey)!==La(this.options.mutationKey)?this.reset():((s=C(this,Or))==null?void 0:s.state.status)==="pending"&&C(this,Or).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,Or))==null||r.removeObserver(this)}onMutationUpdate(r){Ue(this,Us,Nd).call(this),Ue(this,Us,Xp).call(this,r)}getCurrentResult(){return C(this,ji)}reset(){var r;(r=C(this,Or))==null||r.removeObserver(this),ae(this,Or,void 0),Ue(this,Us,Nd).call(this),Ue(this,Us,Xp).call(this)}mutate(r,n){var s;return ae(this,Ms,n),(s=C(this,Or))==null||s.removeObserver(this),ae(this,Or,C(this,Is).getMutationCache().build(C(this,Is),this.options)),C(this,Or).addObserver(this),C(this,Or).execute(r)}},Is=new WeakMap,ji=new WeakMap,Or=new WeakMap,Ms=new WeakMap,Us=new WeakSet,Nd=function(){var n;const r=((n=C(this,Or))==null?void 0:n.state)??wS();ae(this,ji,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Xp=function(r){er.batch(()=>{var n,s,a,o,l,c,u,d;if(C(this,Ms)&&this.hasListeners()){const h=C(this,ji).variables,p=C(this,ji).context,f={client:C(this,Is),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=C(this,Ms)).onSuccess)==null||s.call(n,r.data,h,p,f)}catch(v){Promise.reject(v)}try{(o=(a=C(this,Ms)).onSettled)==null||o.call(a,r.data,null,h,p,f)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=C(this,Ms)).onError)==null||c.call(l,r.error,h,p,f)}catch(v){Promise.reject(v)}try{(d=(u=C(this,Ms)).onSettled)==null||d.call(u,void 0,r.error,h,p,f)}catch(v){Promise.reject(v)}}}this.listeners.forEach(h=>{h(C(this,ji))})})},$0),os,F0,$T=(F0=class extends Cl{constructor(t={}){super();be(this,os);this.config=t,ae(this,os,new Map)}build(t,r,n){const s=r.queryKey,a=r.queryHash??$v(s,r);let o=this.get(a);return o||(o=new RT({client:t,queryKey:s,queryHash:a,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,os).has(t.queryHash)||(C(this,os).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,os).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,os).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){er.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,os).get(t)}getAll(){return[...C(this,os).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>dw(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>dw(t,n)):r}notify(t){er.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){er.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){er.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},os=new WeakMap,F0),Ot,_i,Si,Zo,Xo,ki,el,tl,U0,FT=(U0=class{constructor(e={}){be(this,Ot);be(this,_i);be(this,Si);be(this,Zo);be(this,Xo);be(this,ki);be(this,el);be(this,tl);ae(this,Ot,e.queryCache||new $T),ae(this,_i,e.mutationCache||new DT),ae(this,Si,e.defaultOptions||{}),ae(this,Zo,new Map),ae(this,Xo,new Map),ae(this,ki,0)}mount(){Tu(this,ki)._++,C(this,ki)===1&&(ae(this,el,zv.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ot).onFocus())})),ae(this,tl,ih.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Ot).onOnline())})))}unmount(){var e,t;Tu(this,ki)._--,C(this,ki)===0&&((e=C(this,el))==null||e.call(this),ae(this,el,void 0),(t=C(this,tl))==null||t.call(this),ae(this,tl,void 0))}isFetching(e){return C(this,Ot).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,_i).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Ot).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,Ot).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime($i(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,Ot).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,Ot).get(n.queryHash),a=s==null?void 0:s.state.data,o=xT(t,a);if(o!==void 0)return C(this,Ot).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return er.batch(()=>C(this,Ot).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Ot).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,Ot);er.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,Ot);return er.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=er.batch(()=>C(this,Ot).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(_r).catch(_r)}invalidateQueries(e,t={}){return er.batch(()=>(C(this,Ot).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=er.batch(()=>C(this,Ot).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let a=s.fetch(void 0,r);return r.throwOnError||(a=a.catch(_r)),s.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(_r)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,Ot).build(this,t);return r.isStaleByTime($i(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(_r).catch(_r)}fetchInfiniteQuery(e){return e.behavior=xw(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(_r).catch(_r)}ensureInfiniteQueryData(e){return e.behavior=xw(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ih.isOnline()?C(this,_i).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Ot)}getMutationCache(){return C(this,_i)}getDefaultOptions(){return C(this,Si)}setDefaultOptions(e){ae(this,Si,e)}setQueryDefaults(e,t){C(this,Zo).set(La(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,Zo).values()],r={};return t.forEach(n=>{Wc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Xo).set(La(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Xo).values()],r={};return t.forEach(n=>{Wc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,Si).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=$v(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Fv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,Si).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Ot).clear(),C(this,_i).clear()}},Ot=new WeakMap,_i=new WeakMap,Si=new WeakMap,Zo=new WeakMap,Xo=new WeakMap,ki=new WeakMap,el=new WeakMap,tl=new WeakMap,U0),bS=m.createContext(void 0),_e=e=>{const t=m.useContext(bS);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},UT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),i.jsx(bS.Provider,{value:e,children:t})),jS=m.createContext(!1),zT=()=>m.useContext(jS);jS.Provider;function VT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var BT=m.createContext(VT()),WT=()=>m.useContext(BT),qT=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Uv(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},HT=e=>{m.useEffect(()=>{e.clearReset()},[e])},KT=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Uv(r,[e.error,n])),GT=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},QT=(e,t)=>e.isLoading&&e.isFetching&&!t,YT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,bw=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function JT(e,t,r){var p,f,v,g;const n=zT(),s=WT(),a=_e(),o=a.defaultQueryOptions(e);(f=(p=a.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,o);const l=a.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",GT(o),qT(o,s,l),HT(s);const c=!a.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new t(a,o)),d=u.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const y=h?u.subscribe(er.batchCalls(b)):_r;return u.updateResult(),y},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),YT(o,d))throw bw(o,u,s);if(KT({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((g=(v=a.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,d),o.experimental_prefetchInRender&&!Da&&QT(d,n)){const b=c?bw(o,u,s):l==null?void 0:l.promise;b==null||b.catch(_r).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Oe(e,t){return JT(e,TT)}function Se(e,t){const r=_e(),[n]=m.useState(()=>new LT(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(er.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=m.useCallback((o,l)=>{n.mutate(o,l).catch(_r)},[n]);if(s.error&&Uv(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}var ZT=e=>{switch(e){case"success":return tA;case"info":return nA;case"warning":return rA;case"error":return sA;default:return null}},XT=Array(12).fill(0),eA=({visible:e,className:t})=>B.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},B.createElement("div",{className:"sonner-spinner"},XT.map((r,n)=>B.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),tA=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),rA=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),nA=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),sA=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},B.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),iA=B.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},B.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),B.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),aA=()=>{let[e,t]=B.useState(document.hidden);return B.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},eg=1,oA=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:eg++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],B.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(cA(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||eg++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ir=new oA,lA=(e,t)=>{let r=(t==null?void 0:t.id)||eg++;return Ir.addToast({title:e,...t,id:r}),r},cA=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",uA=lA,dA=()=>Ir.toasts,hA=()=>Ir.getActiveToasts(),U=Object.assign(uA,{success:Ir.success,info:Ir.info,warning:Ir.warning,error:Ir.error,custom:Ir.custom,message:Ir.message,promise:Ir.promise,dismiss:Ir.dismiss,loading:Ir.loading},{getHistory:dA,getToasts:hA});function fA(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}fA(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Yu(e){return e.label!==void 0}var mA=3,pA="32px",gA="16px",jw=4e3,vA=356,yA=14,xA=20,wA=200;function Pn(...e){return e.filter(Boolean).join(" ")}function bA(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var jA=e=>{var t,r,n,s,a,o,l,c,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:g,setHeights:b,visibleToasts:y,heights:x,index:w,toasts:j,expanded:S,removeToast:_,defaultRichColors:k,closeButton:T,style:O,cancelButtonStyle:M,actionButtonStyle:W,className:L="",descriptionClassName:V="",duration:A,position:Y,gap:Z,loadingIcon:se,expandByDefault:D,classNames:N,icons:R,closeButtonAriaLabel:ue="Close toast",pauseWhenPageIsHidden:he}=e,[Re,Ee]=B.useState(null),[at,nt]=B.useState(null),[re,Ge]=B.useState(!1),[Qe,Be]=B.useState(!1),[We,Ze]=B.useState(!1),[Yt,Tr]=B.useState(!1),[Xn,_n]=B.useState(!1),[Ss,ta]=B.useState(0),[ra,Fl]=B.useState(0),E=B.useRef(f.duration||A||jw),I=B.useRef(null),$=B.useRef(null),oe=w===0,te=w+1<=y,q=f.type,ye=f.dismissible!==!1,st=f.className||"",it=f.descriptionClassName||"",Ut=B.useMemo(()=>x.findIndex(Ie=>Ie.toastId===f.id)||0,[x,f.id]),ks=B.useMemo(()=>{var Ie;return(Ie=f.closeButton)!=null?Ie:T},[f.closeButton,T]),Sn=B.useMemo(()=>f.duration||A||jw,[f.duration,A]),Ul=B.useRef(0),es=B.useRef(0),eo=B.useRef(0),Xs=B.useRef(null),[Ru,Df]=Y.split("-"),zl=B.useMemo(()=>x.reduce((Ie,ht,bt)=>bt>=Ut?Ie:Ie+ht.height,0),[x,Ut]),Hy=aA(),A2=f.invert||p,Lf=q==="loading";es.current=B.useMemo(()=>Ut*Z+zl,[Ut,zl]),B.useEffect(()=>{E.current=Sn},[Sn]),B.useEffect(()=>{Ge(!0)},[]),B.useEffect(()=>{let Ie=$.current;if(Ie){let ht=Ie.getBoundingClientRect().height;return Fl(ht),b(bt=>[{toastId:f.id,height:ht,position:f.position},...bt]),()=>b(bt=>bt.filter(kn=>kn.toastId!==f.id))}},[b,f.id]),B.useLayoutEffect(()=>{if(!re)return;let Ie=$.current,ht=Ie.style.height;Ie.style.height="auto";let bt=Ie.getBoundingClientRect().height;Ie.style.height=ht,Fl(bt),b(kn=>kn.find(Nn=>Nn.toastId===f.id)?kn.map(Nn=>Nn.toastId===f.id?{...Nn,height:bt}:Nn):[{toastId:f.id,height:bt,position:f.position},...kn])},[re,f.title,f.description,b,f.id]);let ei=B.useCallback(()=>{Be(!0),ta(es.current),b(Ie=>Ie.filter(ht=>ht.toastId!==f.id)),setTimeout(()=>{_(f)},wA)},[f,_,b,es]);B.useEffect(()=>{if(f.promise&&q==="loading"||f.duration===1/0||f.type==="loading")return;let Ie;return S||g||he&&Hy?(()=>{if(eo.current<Ul.current){let ht=new Date().getTime()-Ul.current;E.current=E.current-ht}eo.current=new Date().getTime()})():E.current!==1/0&&(Ul.current=new Date().getTime(),Ie=setTimeout(()=>{var ht;(ht=f.onAutoClose)==null||ht.call(f,f),ei()},E.current)),()=>clearTimeout(Ie)},[S,g,f,q,he,Hy,ei]),B.useEffect(()=>{f.delete&&ei()},[ei,f.delete]);function O2(){var Ie,ht,bt;return R!=null&&R.loading?B.createElement("div",{className:Pn(N==null?void 0:N.loader,(Ie=f==null?void 0:f.classNames)==null?void 0:Ie.loader,"sonner-loader"),"data-visible":q==="loading"},R.loading):se?B.createElement("div",{className:Pn(N==null?void 0:N.loader,(ht=f==null?void 0:f.classNames)==null?void 0:ht.loader,"sonner-loader"),"data-visible":q==="loading"},se):B.createElement(eA,{className:Pn(N==null?void 0:N.loader,(bt=f==null?void 0:f.classNames)==null?void 0:bt.loader),visible:q==="loading"})}return B.createElement("li",{tabIndex:0,ref:$,className:Pn(L,st,N==null?void 0:N.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[q],(r=f==null?void 0:f.classNames)==null?void 0:r[q]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:k,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":re,"data-promise":!!f.promise,"data-swiped":Xn,"data-removed":Qe,"data-visible":te,"data-y-position":Ru,"data-x-position":Df,"data-index":w,"data-front":oe,"data-swiping":We,"data-dismissible":ye,"data-type":q,"data-invert":A2,"data-swipe-out":Yt,"data-swipe-direction":at,"data-expanded":!!(S||D&&re),style:{"--index":w,"--toasts-before":w,"--z-index":j.length-w,"--offset":`${Qe?Ss:es.current}px`,"--initial-height":D?"auto":`${ra}px`,...O,...f.style},onDragEnd:()=>{Ze(!1),Ee(null),Xs.current=null},onPointerDown:Ie=>{Lf||!ye||(I.current=new Date,ta(es.current),Ie.target.setPointerCapture(Ie.pointerId),Ie.target.tagName!=="BUTTON"&&(Ze(!0),Xs.current={x:Ie.clientX,y:Ie.clientY}))},onPointerUp:()=>{var Ie,ht,bt,kn;if(Yt||!ye)return;Xs.current=null;let Nn=Number(((Ie=$.current)==null?void 0:Ie.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ti=Number(((ht=$.current)==null?void 0:ht.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),na=new Date().getTime()-((bt=I.current)==null?void 0:bt.getTime()),Cn=Re==="x"?Nn:ti,ri=Math.abs(Cn)/na;if(Math.abs(Cn)>=xA||ri>.11){ta(es.current),(kn=f.onDismiss)==null||kn.call(f,f),nt(Re==="x"?Nn>0?"right":"left":ti>0?"down":"up"),ei(),Tr(!0),_n(!1);return}Ze(!1),Ee(null)},onPointerMove:Ie=>{var ht,bt,kn,Nn;if(!Xs.current||!ye||((ht=window.getSelection())==null?void 0:ht.toString().length)>0)return;let ti=Ie.clientY-Xs.current.y,na=Ie.clientX-Xs.current.x,Cn=(bt=e.swipeDirections)!=null?bt:bA(Y);!Re&&(Math.abs(na)>1||Math.abs(ti)>1)&&Ee(Math.abs(na)>Math.abs(ti)?"x":"y");let ri={x:0,y:0};Re==="y"?(Cn.includes("top")||Cn.includes("bottom"))&&(Cn.includes("top")&&ti<0||Cn.includes("bottom")&&ti>0)&&(ri.y=ti):Re==="x"&&(Cn.includes("left")||Cn.includes("right"))&&(Cn.includes("left")&&na<0||Cn.includes("right")&&na>0)&&(ri.x=na),(Math.abs(ri.x)>0||Math.abs(ri.y)>0)&&_n(!0),(kn=$.current)==null||kn.style.setProperty("--swipe-amount-x",`${ri.x}px`),(Nn=$.current)==null||Nn.style.setProperty("--swipe-amount-y",`${ri.y}px`)}},ks&&!f.jsx?B.createElement("button",{"aria-label":ue,"data-disabled":Lf,"data-close-button":!0,onClick:Lf||!ye?()=>{}:()=>{var Ie;ei(),(Ie=f.onDismiss)==null||Ie.call(f,f)},className:Pn(N==null?void 0:N.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(a=R==null?void 0:R.close)!=null?a:iA):null,f.jsx||m.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:B.createElement(B.Fragment,null,q||f.icon||f.promise?B.createElement("div",{"data-icon":"",className:Pn(N==null?void 0:N.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||O2():null,f.type!=="loading"?f.icon||(R==null?void 0:R[q])||ZT(q):null):null,B.createElement("div",{"data-content":"",className:Pn(N==null?void 0:N.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},B.createElement("div",{"data-title":"",className:Pn(N==null?void 0:N.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?B.createElement("div",{"data-description":"",className:Pn(V,it,N==null?void 0:N.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),m.isValidElement(f.cancel)?f.cancel:f.cancel&&Yu(f.cancel)?B.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:Ie=>{var ht,bt;Yu(f.cancel)&&ye&&((bt=(ht=f.cancel).onClick)==null||bt.call(ht,Ie),ei())},className:Pn(N==null?void 0:N.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,m.isValidElement(f.action)?f.action:f.action&&Yu(f.action)?B.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||W,onClick:Ie=>{var ht,bt;Yu(f.action)&&((bt=(ht=f.action).onClick)==null||bt.call(ht,Ie),!Ie.defaultPrevented&&ei())},className:Pn(N==null?void 0:N.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function _w(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function _A(e,t){let r={};return[e,t].forEach((n,s)=>{let a=s===1,o=a?"--mobile-offset":"--offset",l=a?gA:pA;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var SA=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=mA,toastOptions:g,dir:b=_w(),gap:y=yA,loadingIcon:x,icons:w,containerAriaLabel:j="Notifications",pauseWhenPageIsHidden:S}=e,[_,k]=B.useState([]),T=B.useMemo(()=>Array.from(new Set([n].concat(_.filter(he=>he.position).map(he=>he.position)))),[_,n]),[O,M]=B.useState([]),[W,L]=B.useState(!1),[V,A]=B.useState(!1),[Y,Z]=B.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),se=B.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=B.useRef(null),R=B.useRef(!1),ue=B.useCallback(he=>{k(Re=>{var Ee;return(Ee=Re.find(at=>at.id===he.id))!=null&&Ee.delete||Ir.dismiss(he.id),Re.filter(({id:at})=>at!==he.id)})},[]);return B.useEffect(()=>Ir.subscribe(he=>{if(he.dismiss){k(Re=>Re.map(Ee=>Ee.id===he.id?{...Ee,delete:!0}:Ee));return}setTimeout(()=>{eS.flushSync(()=>{k(Re=>{let Ee=Re.findIndex(at=>at.id===he.id);return Ee!==-1?[...Re.slice(0,Ee),{...Re[Ee],...he},...Re.slice(Ee+1)]:[he,...Re]})})})}),[]),B.useEffect(()=>{if(d!=="system"){Z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let he=window.matchMedia("(prefers-color-scheme: dark)");try{he.addEventListener("change",({matches:Re})=>{Z(Re?"dark":"light")})}catch{he.addListener(({matches:Ee})=>{try{Z(Ee?"dark":"light")}catch(at){console.error(at)}})}},[d]),B.useEffect(()=>{_.length<=1&&L(!1)},[_]),B.useEffect(()=>{let he=Re=>{var Ee,at;s.every(nt=>Re[nt]||Re.code===nt)&&(L(!0),(Ee=se.current)==null||Ee.focus()),Re.code==="Escape"&&(document.activeElement===se.current||(at=se.current)!=null&&at.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",he),()=>document.removeEventListener("keydown",he)},[s]),B.useEffect(()=>{if(se.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,R.current=!1)}},[se.current]),B.createElement("section",{ref:t,"aria-label":`${j} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((he,Re)=>{var Ee;let[at,nt]=he.split("-");return _.length?B.createElement("ol",{key:he,dir:b==="auto"?_w():b,tabIndex:-1,ref:se,className:l,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":at,"data-lifted":W&&_.length>1&&!a,"data-x-position":nt,style:{"--front-toast-height":`${((Ee=O[0])==null?void 0:Ee.height)||0}px`,"--width":`${vA}px`,"--gap":`${y}px`,...f,..._A(c,u)},onBlur:re=>{R.current&&!re.currentTarget.contains(re.relatedTarget)&&(R.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||R.current||(R.current=!0,N.current=re.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{V||L(!1)},onDragEnd:()=>L(!1),onPointerDown:re=>{re.target instanceof HTMLElement&&re.target.dataset.dismissible==="false"||A(!0)},onPointerUp:()=>A(!1)},_.filter(re=>!re.position&&Re===0||re.position===he).map((re,Ge)=>{var Qe,Be;return B.createElement(jA,{key:re.id,icons:w,index:Ge,toast:re,defaultRichColors:h,duration:(Qe=g==null?void 0:g.duration)!=null?Qe:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(Be=g==null?void 0:g.closeButton)!=null?Be:o,interacting:V,position:he,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:ue,toasts:_.filter(We=>We.position==re.position),heights:O.filter(We=>We.position==re.position),setHeights:M,expandByDefault:a,gap:y,loadingIcon:x,expanded:W,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))}),cs=function(){return cs=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},cs.apply(this,arguments)};function El(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function kA(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function NA(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,a;n<s;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}const CA=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Bv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EA extends Bv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Sw extends Bv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kw extends Bv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var tg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(tg||(tg={}));class PA{constructor(t,{headers:r={},customFetch:n,region:s=tg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=CA(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return kA(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let b=d;h&&(o=new AbortController,a=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g,signal:b}).catch(S=>{throw new EA(S)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new Sw(y);if(!y.ok)throw new kw(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),j;return w==="application/json"?j=yield y.json():w==="application/octet-stream"||w==="application/pdf"?j=yield y.blob():w==="text/event-stream"?j=y:w==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof kw||l instanceof Sw?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var RA=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},TA=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var h,p;if(r.method!=="HEAD"){var f;const y=await a.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(p=a.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await a.text();try{o=JSON.parse(g),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new RA(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,h,p;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=a==null?void 0:a.name)!==null&&h!==void 0?h:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=a==null?void 0:a.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},AA=class extends TA{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Nw=new RegExp("[,()]");var po=class extends AA{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Nw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Nw.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},OA=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new po({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new po({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new po({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new po({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new po({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},IA=class _S{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new OA(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _S(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{c.searchParams.append(f,v)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&p.set("Prefer",`count=${a}`),new po({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class MA{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const DA="2.93.3",LA=`realtime-js/${DA}`,$A="1.0.0",SS="2.0.0",Cw=SS,rg=1e4,FA=1e3,UA=100;var di;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(di||(di={}));var Zt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Zt||(Zt={}));var Fn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Fn||(Fn={}));var ng;(function(e){e.websocket="websocket"})(ng||(ng={}));var ua;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ua||(ua={}));class zA{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,h.length),v.setUint8(g++,r),Array.from(c,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+n.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(n),f.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const h=n.decode(t.slice(c,c+o));c=c+o;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class kS{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var pt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(pt||(pt={}));const Ew=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=VA(o,e,t,s),a),{}):{}},VA=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?NS(a,o):sg(o)},NS=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HA(t,r)}switch(e){case pt.bool:return BA(t);case pt.float4:case pt.float8:case pt.int2:case pt.int4:case pt.int8:case pt.numeric:case pt.oid:return WA(t);case pt.json:case pt.jsonb:return qA(t);case pt.timestamp:return KA(t);case pt.abstime:case pt.date:case pt.daterange:case pt.int4range:case pt.int8range:case pt.money:case pt.reltime:case pt.text:case pt.time:case pt.timestamptz:case pt.timetz:case pt.tsrange:case pt.tstzrange:return sg(t);default:return sg(t)}},sg=e=>e,BA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},WA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},qA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},HA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>NS(t,l))}return e},KA=e=>typeof e=="string"?e.replace(" ","T"):e,CS=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class hm{constructor(t,r,n={},s=rg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Pw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Pw||(Pw={}));class bc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bc.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=bc.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=bc.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),v=d.filter(b=>f.indexOf(b.presence_ref)<0),g=h.filter(b=>p.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rw||(Rw={}));var jc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jc||(jc={}));var Rs;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rs||(Rs={}));class Ao{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Zt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new hm(this,Fn.join,this.params,this.timeout),this.rejoinTimer=new kS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fn.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new bc(this),this.broadcastEndpointURL=CS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Zt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[jc.PRESENCE]&&this.bindings[jc.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Rs.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Rs.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Rs.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<b;x++){const w=g[x],{filter:{event:j,schema:S,table:_,filter:k}}=w,T=f&&f[x];if(T&&T.event===j&&Ao.isFilterValueEqual(T.schema,S)&&Ao.isFilterValueEqual(T.table,_)&&Ao.isFilterValueEqual(T.filter,k))y.push(Object.assign(Object.assign({},w),{id:T.id}));else{this.unsubscribe(),this.state=Zt.errored,t==null||t(Rs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Rs.SUBSCRIBED);return}}).receive("error",f=>{this.state=Zt.errored,t==null||t(Rs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Zt.joined&&t===jc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Zt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new hm(this,Fn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Zt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new hm(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>UA){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Fn;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,g,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=f.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(a=this.bindings[o])===null||a===void 0||a.filter(f=>{var v,g,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const j=f.id,S=(v=f.filter)===null||v===void 0?void 0:v.event;return j&&((g=r.ids)===null||g===void 0?void 0:g.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:b,commit_timestamp:y,type:x,errors:w}=v;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===Zt.closed}_isJoined(){return this.state===Zt.joined}_isJoining(){return this.state===Zt.joining}_isLeaving(){return this.state===Zt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Ao.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Fn.close,{},t)}_onError(t){this._on(Fn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ew(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ew(t.columns,t.old_record)),r}}const fm=()=>{},Ju={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GA=[1e3,2e3,5e3,1e4],QA=1e4,YA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class JA{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rg,this.transport=null,this.heartbeatIntervalMs=Ju.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fm,this.ref=0,this.reconnectTimer=null,this.vsn=Cw,this.logger=fm,this.conn=null,this.sendBuffer=[],this.serializer=new zA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ng.websocket}`,this.httpEndpoint=CS(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=MA.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case di.connecting:return ua.Connecting;case di.open:return ua.Open;case di.closing:return ua.Closing;default:return ua.Closed}}isConnected(){return this.connectionState()===ua.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Ao(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(FA,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ju.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===di.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===di.open||this.conn.readyState===di.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Fn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([YA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:LA};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(Fn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new kS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ju.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:rg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ju.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:fm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Cw,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>GA[v-1]||QA,this.vsn){case $A:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case SS:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var qc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function ZA(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function XA(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=ZA(e.baseUrl,n,s),c=await XA(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new qc((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function Zu(e){return e.join("")}var tO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Zu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zu(e.namespace)}`}),!0}catch(t){if(t instanceof qc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof qc&&r.status===409)return;throw r}}};function ro(e){return e.join("")}var rO=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ro(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof qc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof qc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},nO=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eO({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new tO(this.client,t),this.tableOps=new rO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xh=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ef(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xu=class extends Xh{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ES=class extends Xh{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const sO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),iO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ig=e=>{if(Array.isArray(e))return e.map(r=>ig(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=ig(n)}),t},aO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Hc(e){"@babel/helpers - typeof";return Hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hc(e)}function oO(e,t){if(Hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lO(e){var t=oO(e,"string");return Hc(t)=="symbol"?t:t+""}function cO(e,t,r){return(t=lO(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(n){cO(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Aw=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uO=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Xu(Aw(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Xu(s.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Xu(s.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Xu(s.statusText||`HTTP ${a} error`,a,o,n))}}else t(new ES(Aw(e),e,n))},dO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Ne(Ne({},s),r):(iO(n)?(s.headers=Ne({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Ne(Ne({},s),r))};async function Yl(e,t,r,n,s,a,o){return new Promise((l,c)=>{e(r,dO(t,n,s,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>uO(u,c,n,o))})}function PS(e="storage"){return{get:async(t,r,n,s)=>Yl(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>Yl(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>Yl(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>Yl(t,"HEAD",r,Ne(Ne({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>Yl(t,"DELETE",r,s,a,n,e)}}const hO=PS("storage"),{get:Kc,post:Mn,put:ag,head:fO,remove:Wv}=hO,Gr=PS("vectors");var Pl=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=sO(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ef(r))return{data:null,error:r};throw r}}},mO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ef(t))return{data:null,error:t};throw t}}};let RS;RS=Symbol.toStringTag;var pO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[RS]="BlobDownloadBuilder",this.promise=null}asStream(){return new mO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ef(t))return{data:null,error:t};throw t}}};const gO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var vO=class extends Pl{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const o=Ne(Ne({},Ow),n);let l=Ne(Ne({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Ne(Ne({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?ag:Mn)(s.fetch,`${s.url}/object/${d}`,a,Ne({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Ne({upsert:Ow.upsert},n),d=Ne(Ne({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await ag(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Ne({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await Mn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new Xh("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await Mn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await Mn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await Mn(n.fetch,`${n.url}/object/sign/${s}`,Ne({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await Mn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Ne(Ne({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>Kc(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new pO(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>ig(await Kc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await fO(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ef(n)&&n instanceof ES){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Wv(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Ne(Ne(Ne({},gO),t),{},{prefix:e||""});return await Mn(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Ne({},e);return await Mn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const yO="2.93.3",yu={"X-Client-Info":`storage-js/${yO}`};var xO=class extends Pl{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),o=Ne(Ne({},yu),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Kc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await Mn(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await ag(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Mn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},wO=class extends Pl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ne(Ne({},yu),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Mn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Kc(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Wv(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!aO(e))throw new Xh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new nO({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},bO=class extends Pl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ne(Ne({},yu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Gr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Gr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},jO=class extends Pl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ne(Ne({},yu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},_O=class extends Pl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Ne(Ne({},yu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Gr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},SO=class extends _O{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new kO(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},kO=class extends bO{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new NO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},NO=class extends jO{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Ne(Ne({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},CO=class extends xO{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new vO(this.url,this.headers,e,this.fetch)}get vectors(){return new SO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wO(this.url+"/iceberg",this.headers,this.fetch)}};const TS="2.93.3",go=30*1e3,og=3,mm=og*go,EO="http://localhost:9999",PO="supabase.auth.token",RO={"X-Client-Info":`gotrue-js/${TS}`},lg="X-Supabase-Api-Version",AS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},TO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,AO=10*60*1e3;class Gc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function we(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OO extends Gc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function IO(e){return we(e)&&e.name==="AuthApiError"}class da extends Gc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ys extends Gc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class qr extends Ys{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pm(e){return we(e)&&e.name==="AuthSessionMissingError"}class no extends Ys{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ed extends Ys{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class td extends Ys{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MO(e){return we(e)&&e.name==="AuthImplicitGrantRedirectError"}class Iw extends Ys{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class DO extends Ys{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cg extends Ys{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function gm(e){return we(e)&&e.name==="AuthRetryableFetchError"}class Mw extends Ys{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ug extends Ys{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ah="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dw=` 	
\r=`.split(""),LO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dw.length;t+=1)e[Dw[t].charCodeAt(0)]=-2;for(let t=0;t<ah.length;t+=1)e[ah[t].charCodeAt(0)]=t;return e})();function Lw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ah[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ah[n]),t.queuedBits-=6}}function OS(e,t,r){const n=LO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function $w(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{UO(o,n,r)};for(let o=0;o<e.length;o+=1)OS(e.charCodeAt(o),s,a);return t.join("")}function $O(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function FO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$O(n,t)}}function UO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Uo(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)OS(e.charCodeAt(s),r,n);return new Uint8Array(t)}function zO(e){const t=[];return FO(e,r=>t.push(r)),new Uint8Array(t)}function va(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Lw(s,r,n)),Lw(null,r,n),t.join("")}function VO(e){return Math.round(Date.now()/1e3)+e}function BO(){return Symbol("auth-callback")}const lr=()=>typeof window<"u"&&typeof document<"u",sa={tested:!1,writable:!1},IS=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sa.tested)return sa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sa.tested=!0,sa.writable=!0}catch{sa.tested=!0,sa.writable=!1}return sa.writable};function WO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const MS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),qO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",vo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ia=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},or=async(e,t)=>{await e.removeItem(t)};class tf{constructor(){this.promise=new tf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}tf.promiseConstructor=Promise;function rd(e){const t=e.split(".");if(t.length!==3)throw new ug("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!TO.test(t[n]))throw new ug("JWT not in base64url format");return{header:JSON.parse($w(t[0])),payload:JSON.parse($w(t[1])),signature:Uo(t[2]),raw:{header:t[0],payload:t[1]}}}async function HO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KO(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function GO(e){return("0"+e.toString(16)).substr(-2)}function QO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,GO).join("")}async function YO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function JO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await YO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function so(e,t,r=!1){const n=QO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await vo(e,`${t}-code-verifier`,s);const a=await JO(n);return[a,n===a?"plain":"s256"]}const ZO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XO(e){const t=e.headers.get(lg);if(!t||!t.match(ZO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function e4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function t4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function io(e){if(!r4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function vm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n4(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Fw(e){return JSON.parse(JSON.stringify(e))}const la=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),s4=[502,503,504];async function Uw(e){var t;if(!qO(e))throw new cg(la(e),0);if(s4.includes(e.status))throw new cg(la(e),e.status);let r;try{r=await e.json()}catch(a){throw new da(la(a),a)}let n;const s=XO(e);if(s&&s.getTime()>=AS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mw(la(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new qr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Mw(la(r),e.status,r.weak_password.reasons);throw new OO(la(r),e.status||500,n)}const i4=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ke(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[lg]||(a[lg]=AS["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await a4(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function a4(e,t,r,n,s,a){const o=i4(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new cg(la(c),0)}if(l.ok||await Uw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Uw(c)}}function An(e){var t;let r=null;c4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function zw(e){const t=An(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function o4(e){return{data:e,error:null}}function l4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=El(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Vw(e){return e}function c4(e){return e.access_token&&e.refresh_token&&e.expires_in}const ym=["global","local","others"];class u4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=MS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ym[0]){if(ym.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ym.join(", ")}`);try{return await ke(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(we(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ke(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pi})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=El(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ke(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:l4,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(we(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pi})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vw});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){io(t);try{return await ke(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pi})}catch(r){if(we(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){io(t);try{return await ke(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pi})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){io(t);try{return await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pi})}catch(n){if(we(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){io(t.userId);try{const{data:r,error:n}=await ke(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _deleteFactor(t){io(t.userId),io(t.id);try{return{data:await ke(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Vw});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(we(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ke(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ke(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(we(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ke(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(we(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ke(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(we(r))return{data:null,error:r};throw r}}}function Bw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const ao={debug:!!(globalThis&&IS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class DS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class d4 extends DS{}async function h4(e,t,r){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new d4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ao.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function f4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function LS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function m4(e){return parseInt(e,16)}function p4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function g4(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=LS(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${g}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${b}
${y}`}class Vt extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class oh extends Vt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function v4({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Vt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Vt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Vt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Vt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Vt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Vt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if($S(o)){if(a.rp.id!==o)return new Vt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new Vt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function y4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Vt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Vt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if($S(n)){if(r.rpId!==n)return new Vt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Vt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Vt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Vt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class x4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const w4=new x4;function b4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=El(e,["challenge","user","excludeCredentials"]),a=Uo(t).buffer,o=Object.assign(Object.assign({},r),{id:Uo(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Uo(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function j4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=El(e,["challenge","allowCredentials"]),s=Uo(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Uo(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function _4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:va(new Uint8Array(e.response.attestationObject)),clientDataJSON:va(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function S4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:va(new Uint8Array(s.authenticatorData)),clientDataJSON:va(new Uint8Array(s.clientDataJSON)),signature:va(new Uint8Array(s.signature)),userHandle:s.userHandle?va(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $S(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Ww(){var e,t;return!!(lr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function k4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oh("Browser returned unexpected credential type",t)}:{data:null,error:new oh("Empty credential response",t)}}catch(t){return{data:null,error:v4({error:t,options:e})}}}async function N4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new oh("Browser returned unexpected credential type",t)}:{data:null,error:new oh("Empty credential response",t)}}catch(t){return{data:null,error:y4({error:t,options:e})}}}const C4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E4={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function lh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=lh(l,o):n[a]=lh(o)}else n[a]=o}return n}function P4(e,t){return lh(C4,e,t||{})}function R4(e,t){return lh(E4,e,t||{})}class T4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??w4.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const f=(await this.client.getUser()).data.user,v=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=P4(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:h,error:p}=await k4({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=R4(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:h,error:p}=await N4(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return we(l)?{data:null,error:l}:{data:null,error:new da("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn authentication")};try{if(!Ww())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new da("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new Gc("rpId is required for WebAuthn registration")};try{if(!Ww())return{data:null,error:new da("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return we(o)?{data:null,error:o}:{data:null,error:new da("Unexpected error in register",o)}}}}f4();const A4={url:EO,storageKey:PO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qw(e,t,r){return await r()}const oo={};class Qc{get jwks(){var t,r;return(r=(t=oo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=oo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oo[this.storageKey]=Object.assign(Object.assign({},oo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},A4),t);if(this.storageKey=a.storageKey,this.instanceID=(r=Qc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Qc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&lr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new u4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=MS(a.fetch),this.lock=a.lock||qw,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&lr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h4:this.lock=qw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new T4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:IS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Bw(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Bw(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${TS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(lr()&&(r=WO(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),MO(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return we(r)?this._returnResult({error:r}):this._returnResult({error:new da("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:An}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await so(this.storage,this.storageKey)),a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:An})}else if("phone"in t){const{phone:d,password:h,options:p}=t;a=await ke(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:An})}else throw new ed("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await or(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zw})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await ke(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:zw})}else throw new ed("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new no;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:g,wallet:b,statement:y,options:x}=t;let w;if(lr())if(typeof b=="object")w=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const _=LS(S[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const O=await w.request({method:"eth_chainId"});k=m4(O)}const T={domain:j.host,address:_,statement:y,uri:j.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=x==null?void 0:x.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=g4(T),v=await w.request({method:"personal_sign",params:[p4(f),_]})}try{const{data:g,error:b}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:An});if(b)throw b;if(!g||!g.session||!g.user){const y=new no;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(we(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,p,f;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:x,options:w}=t;let j;if(lr())if(typeof y=="object")j=y;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")k=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)k=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=_}}try{const{data:b,error:y}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:va(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:An});if(y)throw y;if(!b||!b.session||!b.user){const x=new no;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(we(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await ia(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new DO;const{data:a,error:o}=await ke(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:An});if(await or(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new no;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:An}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new no;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await so(this.storage,this.storageKey));const{error:h}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ke(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new ed("You must provide either an email or phone number.")}catch(l){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ke(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:An});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await so(this.storage,this.storageKey));const u=await ke(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:o4});return!((a=u.data)===null||a===void 0)&&a.url&&lr()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new qr;const{error:s}=await ke(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(we(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await ke(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new ed("You must provide either an email or phone number and a type")}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ia(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ia(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=vm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=n4(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pi}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qr}:await ke(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:pi})})}catch(r){if(we(r))return pm(r)&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new qr;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await so(this.storage,this.storageKey));const{data:u,error:d}=await ke(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:pi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qr;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=rd(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(we(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new qr;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(we(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Iw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Iw("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new td("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=go&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:g,error:b}=await this._getUser(a);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(we(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ia(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!pm(a))return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(IO(l)&&(l.status===404||l.status===401||l.status===403)||pm(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await or(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=BO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await so(this.storage,this.storageKey,!0));try{return await ke(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:p}=a;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ke(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(we(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await ke(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:An}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new no}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await or(this.storage,`${this.storageKey}-code-verifier`),we(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await ke(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KO(async s=>(s>0&&await HO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ke(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:An})),(s,a)=>{const o=200*Math.pow(2,s);return a&&gm(a)&&Date.now()+o-n<go})}catch(n){if(this._debug(r,"error",n),we(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ia(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ia(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await vo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:vm()}else if(s&&!s.user&&!s.user){const o=await ia(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await or(this.storage,this.storageKey+"-user"),await vo(this.storage,this.storageKey,s)):s.user=vm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mm;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${mm}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),gm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new tf;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new qr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),we(a)){const o={data:null,error:a};return gm(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await or(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await vo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Fw(s);await vo(this.storage,this.storageKey,a)}else{const s=Fw(r);await vo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await or(this.storage,this.storageKey),await or(this.storage,this.storageKey+"-code-verifier"),await or(this.storage,this.storageKey+"-user"),this.userStorage&&await or(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),go);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/go);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${go}ms, refresh threshold is ${og} ticks`),s<=og&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof DS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await so(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await ke(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ke(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?_4(t.webauthn.credential_response):S4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await ke(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:b4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:j4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:f}=rd(t);let v=null;f.aal&&(v=f.aal);let g=v;const{data:{user:b},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(j=>j.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const w=f.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(f){if(we(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=rd(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await ke(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new qr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new qr});const o=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new qr});const o=await ke(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&lr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ke(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new qr})})}catch(t){if(we(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await ke(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qr})})}catch(r){if(we(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+AO>s)return n;const{data:a,error:o}=await ke(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=rd(n);r!=null&&r.allowExpired||e4(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:a,header:s,signature:o},error:null}}const d=t4(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,zO(`${l}.${c}`)))throw new ug("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(we(n))return this._returnResult({data:null,error:n});throw n}}}Qc.nextInstanceID={};const O4=Qc,I4="2.93.3";let lc="";typeof Deno<"u"?lc="deno":typeof document<"u"?lc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?lc="react-native":lc="node";const M4={"X-Client-Info":`supabase-js-${lc}/${I4}`},D4={headers:M4},L4={schema:"public"},$4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},F4={};function Yc(e){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yc(e)}function U4(e,t){if(Yc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z4(e){var t=U4(e,"string");return Yc(t)=="symbol"?t:t+""}function V4(e,t,r){return(t=z4(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){V4(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const B4=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),W4=()=>Headers,q4=(e,t,r)=>{const n=B4(r),s=W4();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,It(It({},o),{},{headers:u}))}};function H4(e){return e.endsWith("/")?e:e+"/"}function K4(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:It(It({},c),s),auth:It(It({},u),a),realtime:It(It({},d),o),storage:{},global:It(It(It({},h),l),{},{headers:It(It({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function G4(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(H4(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Q4=class extends O4{constructor(e){super(e)}},Y4=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=G4(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:L4,realtime:F4,auth:It(It({},$4),{},{storageKey:o}),global:D4},c=K4(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=q4(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(It({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new IA(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new CO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new PA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Q4({url:this.authUrl.href,headers:It(It({},p),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new JA(this.realtimeUrl.href,It(It({},e),{},{params:It(It({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const J4=(e,t,r)=>new Y4(e,t,r);function Z4(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Z4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const X4="https://prqmzdstrfmahymkekef.supabase.co",eI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",F=J4(X4,eI);async function tI(e,t){const{error:r}=await F.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function rI(){const{error:e}=await F.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function nI(){const{data:{session:e}}=await F.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function sI(e){const{data:{subscription:t}}=F.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function iI(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await F.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function aI(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:a,error:o}=await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(a.user&&!((u=(c=a.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=a.user.identities)==null?void 0:d.length))}}async function oI(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await F.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function lI(e){const{error:t}=await F.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function cI(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function uI(){const{data:{user:e}}=await F.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await F.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function Kw(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await F.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function dI(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function hI(){const{data:{user:e}}=await F.auth.getUser();return e?!!e.email_confirmed_at:!1}const FS=m.createContext(null);function fI({children:e}){const[t,r]=m.useState({user:null,session:null,isLoading:!0});m.useEffect(()=>{let a=!1;nI().then(({user:l,session:c})=>{a||r({user:l,session:c,isLoading:!1})});const o=sI((l,c)=>{a||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{a=!0,o()}},[]);const n=m.useCallback(async()=>{await rI(),r({user:null,session:null,isLoading:!1})},[]),s=m.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return i.jsx(FS.Provider,{value:s,children:e})}function qv(){const e=m.useContext(FS);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function mI(){const{user:e,isLoading:t}=qv(),r=ys();if(t)return i.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),i.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return i.jsx(JR,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return i.jsx(uS,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),US=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:a,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...gI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:US("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const r=m.forwardRef(({className:n,...s},a)=>m.createElement(vI,{ref:a,iconNode:t,className:US(`lucide-${pI(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=J("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ch=J("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=J("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=J("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=J("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=J("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=J("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=J("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=J("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=J("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=J("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=J("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=J("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=J("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=J("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=J("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=J("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=J("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=J("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=J("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=J("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=J("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=J("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=J("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=J("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=J("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=J("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=J("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uh=J("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=J("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=J("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=J("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=J("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=J("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=J("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=J("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=J("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=J("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=J("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=J("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=J("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=J("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=J("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=J("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=J("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=J("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=J("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=J("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=J("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=J("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=J("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=J("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=J("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=J("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=J("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=J("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=J("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=J("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=J("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=J("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=J("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=J("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=J("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=J("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=J("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=J("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=J("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=J("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=J("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=J("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=J("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=J("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=J("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=J("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=J("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=J("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=J("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=J("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=J("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=J("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=J("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=J("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=J("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=J("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=J("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=J("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function n1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=n1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function s1(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=n1(e))&&(n&&(n+=" "),n+=t);return n}const ny="-",WI=e=>{const t=HI(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(ny);return l[0]===""&&l.length!==1&&l.shift(),i1(l,t)||qI(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},i1=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?i1(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const a=e.join(ny);return(o=t.validators.find(({validator:l})=>l(a)))==null?void 0:o.classGroupId},Yw=/^\[(.+)\]$/,qI=e=>{if(Yw.test(e)){const t=Yw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},HI=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return GI(Object.entries(e.classGroups),r).forEach(([a,o])=>{vg(o,n,a,t)}),n},vg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const a=s===""?t:Jw(t,s);a.classGroupId=r;return}if(typeof s=="function"){if(KI(s)){vg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([a,o])=>{vg(o,Jw(t,a),r,n)})})},Jw=(e,t)=>{let r=e;return t.split(ny).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},KI=e=>e.isThemeGetter,GI=(e,t)=>t?e.map(([r,n])=>{const s=n.map(a=>typeof a=="string"?t+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[t+o,l])):a);return[r,s]}):e,QI=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(a,o)=>{r.set(a,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return s(a,o),o},set(a,o){r.has(a)?r.set(a,o):s(a,o)}}},a1="!",YI=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],a=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+a)===t)){c.push(l.slice(d,b)),d=b+a;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(a1),v=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},JI=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},ZI=e=>({cache:QI(e.cacheSize),parseClassName:YI(e),...WI(e)}),XI=/\s+/,eM=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,a=[],o=e.trim().split(XI);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,g=n(v?p.substring(0,f):p);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=JI(d).join(":"),y=h?b+a1:b,x=y+g;if(a.includes(x))continue;a.push(x);const w=s(g,v);for(let j=0;j<w.length;++j){const S=w[j];a.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function tM(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=o1(t))&&(n&&(n+=" "),n+=r);return n}const o1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=o1(e[n]))&&(r&&(r+=" "),r+=t);return r};function rM(e,...t){let r,n,s,a=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=ZI(u),n=r.cache.get,s=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=eM(c,r);return s(c,d),d}return function(){return a(tM.apply(null,arguments))}}const vt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},l1=/^\[(?:([a-z-]+):)?(.+)\]$/i,nM=/^\d+\/\d+$/,sM=new Set(["px","full","screen"]),iM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,aM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,lM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ns=e=>zo(e)||sM.has(e)||nM.test(e),si=e=>Al(e,"length",vM),zo=e=>!!e&&!Number.isNaN(Number(e)),xm=e=>Al(e,"number",zo),Jl=e=>!!e&&Number.isInteger(Number(e)),uM=e=>e.endsWith("%")&&zo(e.slice(0,-1)),Me=e=>l1.test(e),ii=e=>iM.test(e),dM=new Set(["length","size","percentage"]),hM=e=>Al(e,dM,c1),fM=e=>Al(e,"position",c1),mM=new Set(["image","url"]),pM=e=>Al(e,mM,xM),gM=e=>Al(e,"",yM),Zl=()=>!0,Al=(e,t,r)=>{const n=l1.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},vM=e=>aM.test(e)&&!oM.test(e),c1=()=>!1,yM=e=>lM.test(e),xM=e=>cM.test(e),wM=()=>{const e=vt("colors"),t=vt("spacing"),r=vt("blur"),n=vt("brightness"),s=vt("borderColor"),a=vt("borderRadius"),o=vt("borderSpacing"),l=vt("borderWidth"),c=vt("contrast"),u=vt("grayscale"),d=vt("hueRotate"),h=vt("invert"),p=vt("gap"),f=vt("gradientColorStops"),v=vt("gradientColorStopPositions"),g=vt("inset"),b=vt("margin"),y=vt("opacity"),x=vt("padding"),w=vt("saturate"),j=vt("scale"),S=vt("sepia"),_=vt("skew"),k=vt("space"),T=vt("translate"),O=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Me,t],L=()=>[Me,t],V=()=>["",Ns,si],A=()=>["auto",zo,Me],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Me],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ue=()=>[zo,Me];return{cacheSize:500,separator:":",theme:{colors:[Zl],spacing:[Ns,si],blur:["none","",ii,Me],brightness:ue(),borderColor:[e],borderRadius:["none","","full",ii,Me],borderSpacing:L(),borderWidth:V(),contrast:ue(),grayscale:N(),hueRotate:ue(),invert:N(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[uM,si],inset:W(),margin:W(),opacity:ue(),padding:L(),saturate:ue(),scale:ue(),sepia:N(),skew:ue(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Me]}],container:["container"],columns:[{columns:[ii]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Me]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jl,Me]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Me]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Jl,Me]}],"grid-cols":[{"grid-cols":[Zl]}],"col-start-end":[{col:["auto",{span:["full",Jl,Me]},Me]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[Zl]}],"row-start-end":[{row:["auto",{span:[Jl,Me]},Me]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Me]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Me]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Me,t]}],"min-w":[{"min-w":[Me,t,"min","max","fit"]}],"max-w":[{"max-w":[Me,t,"none","full","min","max","fit","prose",{screen:[ii]},ii]}],h:[{h:[Me,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Me,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Me,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ii,si]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[Zl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Me]}],"line-clamp":[{"line-clamp":["none",zo,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ns,Me]}],"list-image":[{"list-image":["none",Me]}],"list-style-type":[{list:["none","disc","decimal",Me]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ns,si]}],"underline-offset":[{"underline-offset":["auto",Ns,Me]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),fM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pM]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Ns,Me]}],"outline-w":[{outline:[Ns,si]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Ns,si]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ii,gM]}],"shadow-color":[{shadow:[Zl]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ii,Me]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Me]}],duration:[{duration:ue()}],ease:[{ease:["linear","in","out","in-out",Me]}],delay:[{delay:ue()}],animate:[{animate:["none","spin","ping","pulse","bounce",Me]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Jl,Me]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[_]}],"skew-y":[{"skew-y":[_]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Me]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Me]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Me]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ns,si,xm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bM=rM(wM);function z(...e){return bM(s1(e))}function jM({visible:e,message:t="Processing",className:r}){return e?i.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:z("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[i.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[i.jsx(Zr,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),i.jsx("span",{className:"sr-only",children:t})]}):null}function de(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Zw(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Js(...e){return t=>{let r=!1;const n=e.map(s=>{const a=Zw(s,t);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let s=0;s<n.length;s++){const a=n[s];typeof a=="function"?a():Zw(e[s],null)}}}}function Je(...e){return m.useCallback(Js(...e),e)}function _M(e,t){const r=m.createContext(t),n=a=>{const{children:o,...l}=a,c=m.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(a){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[n,s]}function ws(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:f})};u.displayName=a+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,SM(s,...t)]}function SM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Gt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},kM=Ih[" useId ".trim().toString()]||(()=>{}),NM=0;function fs(e){const[t,r]=m.useState(kM());return Gt(()=>{r(n=>n??String(NM++))},[e]),t?`radix-${t}`:""}var CM=Ih[" useInsertionEffect ".trim().toString()]||Gt;function Fa({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,a,o]=EM({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var h;if(l){const p=PM(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else a(d)},[l,e,a,o]);return[c,u]}function EM({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),a=m.useRef(t);return CM(()=>{a.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=a.current)==null||o.call(a,r),s.current=r)},[r,s]),[r,n,a]}function PM(e){return typeof e=="function"}function RM(e){const t=TM(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(OM);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function TM(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=MM(s),l=IM(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AM=Symbol("radix.slottable");function OM(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AM}function IM(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function MM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var DM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Pe=DM.reduce((e,t)=>{const r=RM(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function u1(e,t){e&&Sl.flushSync(()=>e.dispatchEvent(t))}function ir(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function LM(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var $M="DismissableLayer",yg="dismissableLayer.update",FM="dismissableLayer.pointerDownOutside",UM="dismissableLayer.focusOutside",Xw,d1=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lf=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(d1),[d,h]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=Je(t,k=>h(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,j=x>=y,S=BM(k=>{const T=k.target,O=[...u.branches].some(M=>M.contains(T));!j||O||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),_=WM(k=>{const T=k.target;[...u.branches].some(M=>M.contains(T))||(a==null||a(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return LM(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Xw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),eb(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Xw)}},[d,p,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),eb())},[d,u]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(yg,k),()=>document.removeEventListener(yg,k)},[]),i.jsx(Pe.div,{...c,ref:v,style:{pointerEvents:w?j?"auto":"none":void 0,...e.style},onFocusCapture:de(e.onFocusCapture,_.onFocusCapture),onBlurCapture:de(e.onBlurCapture,_.onBlurCapture),onPointerDownCapture:de(e.onPointerDownCapture,S.onPointerDownCapture)})});lf.displayName=$M;var zM="DismissableLayerBranch",VM=m.forwardRef((e,t)=>{const r=m.useContext(d1),n=m.useRef(null),s=Je(t,n);return m.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),i.jsx(Pe.div,{...e,ref:s})});VM.displayName=zM;function BM(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){h1(FM,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function WM(e,t=globalThis==null?void 0:globalThis.document){const r=ir(e),n=m.useRef(!1);return m.useEffect(()=>{const s=a=>{a.target&&!n.current&&h1(UM,r,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function eb(){const e=new CustomEvent(yg);document.dispatchEvent(e)}function h1(e,t,r,{discrete:n}){const s=r.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?u1(s,a):s.dispatchEvent(a)}var wm="focusScope.autoFocusOnMount",bm="focusScope.autoFocusOnUnmount",tb={bubbles:!1,cancelable:!0},qM="FocusScope",cf=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...o}=e,[l,c]=m.useState(null),u=ir(s),d=ir(a),h=m.useRef(null),p=Je(t,g=>c(g)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const j=w.target;l.contains(j)?h.current=j:li(h.current,{select:!0})},b=function(w){if(f.paused||!l)return;const j=w.relatedTarget;j!==null&&(l.contains(j)||li(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&li(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,f.paused]),m.useEffect(()=>{if(l){nb.add(f);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(wm,tb);l.addEventListener(wm,u),l.dispatchEvent(y),y.defaultPrevented||(HM(JM(f1(l)),{select:!0}),document.activeElement===g&&li(l))}return()=>{l.removeEventListener(wm,u),setTimeout(()=>{const y=new CustomEvent(bm,tb);l.addEventListener(bm,d),l.dispatchEvent(y),y.defaultPrevented||li(g??document.body,{select:!0}),l.removeEventListener(bm,d),nb.remove(f)},0)}}},[l,u,d,f]);const v=m.useCallback(g=>{if(!r&&!n||f.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[w,j]=KM(x);w&&j?!g.shiftKey&&y===j?(g.preventDefault(),r&&li(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&li(j,{select:!0})):y===x&&g.preventDefault()}},[r,n,f.paused]);return i.jsx(Pe.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});cf.displayName=qM;function HM(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(li(n,{select:t}),document.activeElement!==r)return}function KM(e){const t=f1(e),r=rb(t,e),n=rb(t.reverse(),e);return[r,n]}function f1(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function rb(e,t){for(const r of e)if(!GM(r,{upTo:t}))return r}function GM(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function QM(e){return e instanceof HTMLInputElement&&"select"in e}function li(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&QM(e)&&t&&e.select()}}var nb=YM();function YM(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=sb(e,t),e.unshift(t)},remove(t){var r;e=sb(e,t),(r=e[0])==null||r.resume()}}}function sb(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function JM(e){return e.filter(t=>t.tagName!=="A")}var ZM="Portal",uf=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,a]=m.useState(!1);Gt(()=>a(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?eS.createPortal(i.jsx(Pe.div,{...n,ref:t}),o):null});uf.displayName=ZM;function XM(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var an=e=>{const{present:t,children:r}=e,n=eD(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),a=Je(n.ref,tD(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:a}):null};an.displayName="Presence";function eD(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),a=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=XM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=sd(n.current);a.current=l==="mounted"?u:"none"},[l]),Gt(()=>{const u=n.current,d=s.current;if(d!==e){const p=a.current,f=sd(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Gt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const g=sd(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=f=>{f.target===t&&(a.current=sd(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sd(e){return(e==null?void 0:e.animationName)||"none"}function tD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var jm=0;function sy(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ib()),document.body.insertAdjacentElement("beforeend",e[1]??ib()),jm++,()=>{jm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jm--}},[])}function ib(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ed="right-scroll-bar-position",Pd="width-before-scroll-bar",rD="with-scroll-bars-hidden",nD="--removed-body-scroll-bar-size";function _m(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function sD(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var iD=typeof window<"u"?m.useLayoutEffect:m.useEffect,ab=new WeakMap;function aD(e,t){var r=sD(null,function(n){return e.forEach(function(s){return _m(s,n)})});return iD(function(){var n=ab.get(r);if(n){var s=new Set(n),a=new Set(e),o=r.current;s.forEach(function(l){a.has(l)||_m(l,null)}),a.forEach(function(l){s.has(l)||_m(l,o)})}ab.set(r,e)},[e]),r}function oD(e){return e}function lD(e,t){t===void 0&&(t=oD);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(a){var o=t(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function cD(e){e===void 0&&(e={});var t=lD(null);return t.options=cs({async:!0,ssr:!1},e),t}var m1=function(e){var t=e.sideCar,r=El(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,cs({},r))};m1.isSideCarExport=!0;function uD(e,t){return e.useMedium(t),m1}var p1=cD(),Sm=function(){},df=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:Sm,onWheelCapture:Sm,onTouchMoveCapture:Sm}),s=n[0],a=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,g=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,j=El(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,_=aD([r,t]),k=cs(cs({},j),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:p1,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:g,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),cs(cs({},k),{ref:_})):m.createElement(x,cs({},k,{className:c,ref:_}),l))});df.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};df.classNames={fullWidth:Pd,zeroRight:Ed};var dD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hD(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dD();return t&&e.setAttribute("nonce",t),e}function fD(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function mD(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var pD=function(){var e=0,t=null;return{add:function(r){e==0&&(t=hD())&&(fD(t,r),mD(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gD=function(){var e=pD();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},g1=function(){var e=gD(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},vD={left:0,top:0,right:0,gap:0},km=function(e){return parseInt(e||"",10)||0},yD=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[km(r),km(n),km(s)]},xD=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return vD;var t=yD(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},wD=g1(),Vo="data-scroll-locked",bD=function(e,t,r,n){var s=e.left,a=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(rD,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Vo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ed,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Pd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ed," .").concat(Ed,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Pd," .").concat(Pd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Vo,`] {
    `).concat(nD,": ").concat(l,`px;
  }
`)},ob=function(){var e=parseInt(document.body.getAttribute(Vo)||"0",10);return isFinite(e)?e:0},jD=function(){m.useEffect(function(){return document.body.setAttribute(Vo,(ob()+1).toString()),function(){var e=ob()-1;e<=0?document.body.removeAttribute(Vo):document.body.setAttribute(Vo,e.toString())}},[])},_D=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;jD();var a=m.useMemo(function(){return xD(s)},[s]);return m.createElement(wD,{styles:bD(a,!t,s,r?"":"!important")})},xg=!1;if(typeof window<"u")try{var id=Object.defineProperty({},"passive",{get:function(){return xg=!0,!0}});window.addEventListener("test",id,id),window.removeEventListener("test",id,id)}catch{xg=!1}var lo=xg?{passive:!1}:!1,SD=function(e){return e.tagName==="TEXTAREA"},v1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!SD(e)&&r[t]==="visible")},kD=function(e){return v1(e,"overflowY")},ND=function(e){return v1(e,"overflowX")},lb=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=y1(e,n);if(s){var a=x1(e,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},CD=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ED=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},y1=function(e,t){return e==="v"?kD(t):ND(t)},x1=function(e,t){return e==="v"?CD(t):ED(t)},PD=function(e,t){return e==="h"&&t==="rtl"?-1:1},RD=function(e,t,r,n,s){var a=PD(e,window.getComputedStyle(t).direction),o=a*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=x1(e,l),v=f[0],g=f[1],b=f[2],y=g-b-a*v;(v||y)&&y1(e,l)&&(h+=y,p+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},ad=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},cb=function(e){return[e.deltaX,e.deltaY]},ub=function(e){return e&&"current"in e?e.current:e},TD=function(e,t){return e[0]===t[0]&&e[1]===t[1]},AD=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},OD=0,co=[];function ID(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(OD++)[0],a=m.useState(g1)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=NA([e.lockRef.current],(e.shards||[]).map(ub),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=ad(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],j="deltaY"in g?g.deltaY:x[1]-y[1],S,_=g.target,k=Math.abs(w)>Math.abs(j)?"h":"v";if("touches"in g&&k==="h"&&_.type==="range")return!1;var T=window.getSelection(),O=T&&T.anchorNode,M=O?O===_||O.contains(_):!1;if(M)return!1;var W=lb(k,_);if(!W)return!0;if(W?S=k:(S=k==="v"?"h":"v",W=lb(k,_)),!W)return!1;if(!n.current&&"changedTouches"in g&&(w||j)&&(n.current=S),!S)return!0;var L=n.current||S;return RD(L,b,g,L==="h"?w:j)},[]),c=m.useCallback(function(g){var b=g;if(!(!co.length||co[co.length-1]!==a)){var y="deltaY"in b?cb(b):ad(b),x=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&TD(S.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(ub).filter(Boolean).filter(function(S){return S.contains(b.target)}),j=w.length>0?l(b,w[0]):!o.current.noIsolation;j&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,y,x){var w={name:g,delta:b,target:y,should:x,shadowParent:MD(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(j){return j!==w})},1)},[]),d=m.useCallback(function(g){r.current=ad(g),n.current=void 0},[]),h=m.useCallback(function(g){u(g.type,cb(g),g.target,l(g,e.lockRef.current))},[]),p=m.useCallback(function(g){u(g.type,ad(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return co.push(a),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,lo),document.addEventListener("touchmove",c,lo),document.addEventListener("touchstart",d,lo),function(){co=co.filter(function(g){return g!==a}),document.removeEventListener("wheel",c,lo),document.removeEventListener("touchmove",c,lo),document.removeEventListener("touchstart",d,lo)}},[]);var f=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(a,{styles:AD(s)}):null,f?m.createElement(_D,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function MD(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const DD=uD(p1,ID);var hf=m.forwardRef(function(e,t){return m.createElement(df,cs({},e,{ref:t,sideCar:DD}))});hf.classNames=df.classNames;var LD=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},uo=new WeakMap,od=new WeakMap,ld={},Nm=0,w1=function(e){return e&&(e.host||w1(e.parentNode))},$D=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=w1(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},FD=function(e,t,r,n){var s=$D(t,Array.isArray(e)?e:[e]);ld[r]||(ld[r]=new WeakMap);var a=ld[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",g=(uo.get(p)||0)+1,b=(a.get(p)||0)+1;uo.set(p,g),a.set(p,b),o.push(p),g===1&&v&&od.set(p,!0),b===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),l.clear(),Nm++,function(){o.forEach(function(h){var p=uo.get(h)-1,f=a.get(h)-1;uo.set(h,p),a.set(h,f),p||(od.has(h)||h.removeAttribute(n),od.delete(h)),f||h.removeAttribute(r)}),Nm--,Nm||(uo=new WeakMap,uo=new WeakMap,od=new WeakMap,ld={})}},iy=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=LD(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),FD(n,s,r,"aria-hidden")):function(){return null}};function UD(e){const t=zD(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(BD);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function zD(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=qD(s),l=WD(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var VD=Symbol("radix.slottable");function BD(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===VD}function WD(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function qD(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ff="Dialog",[b1]=ws(ff),[HD,Yn]=b1(ff),j1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Fa({prop:n,defaultProp:s??!1,onChange:a,caller:ff});return i.jsx(HD,{scope:t,triggerRef:l,contentRef:c,contentId:fs(),titleId:fs(),descriptionId:fs(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};j1.displayName=ff;var _1="DialogTrigger",KD=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yn(_1,r),a=Je(t,s.triggerRef);return i.jsx(Pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ly(s.open),...n,ref:a,onClick:de(e.onClick,s.onOpenToggle)})});KD.displayName=_1;var ay="DialogPortal",[GD,S1]=b1(ay,{forceMount:void 0}),k1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,a=Yn(ay,t);return i.jsx(GD,{scope:t,forceMount:r,children:m.Children.map(n,o=>i.jsx(an,{present:r||a.open,children:i.jsx(uf,{asChild:!0,container:s,children:o})}))})};k1.displayName=ay;var dh="DialogOverlay",N1=m.forwardRef((e,t)=>{const r=S1(dh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yn(dh,e.__scopeDialog);return a.modal?i.jsx(an,{present:n||a.open,children:i.jsx(YD,{...s,ref:t})}):null});N1.displayName=dh;var QD=UD("DialogOverlay.RemoveScroll"),YD=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yn(dh,r);return i.jsx(hf,{as:QD,allowPinchZoom:!0,shards:[s.contentRef],children:i.jsx(Pe.div,{"data-state":ly(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ua="DialogContent",C1=m.forwardRef((e,t)=>{const r=S1(Ua,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,a=Yn(Ua,e.__scopeDialog);return i.jsx(an,{present:n||a.open,children:a.modal?i.jsx(JD,{...s,ref:t}):i.jsx(ZD,{...s,ref:t})})});C1.displayName=Ua;var JD=m.forwardRef((e,t)=>{const r=Yn(Ua,e.__scopeDialog),n=m.useRef(null),s=Je(t,r.contentRef,n);return m.useEffect(()=>{const a=n.current;if(a)return iy(a)},[]),i.jsx(E1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:de(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault())})}),ZD=m.forwardRef((e,t)=>{const r=Yn(Ua,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return i.jsx(E1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),a.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:a=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),E1=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:a,...o}=e,l=Yn(Ua,r),c=m.useRef(null),u=Je(t,c);return sy(),i.jsxs(i.Fragment,{children:[i.jsx(cf,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:a,children:i.jsx(lf,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":ly(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(XD,{titleId:l.titleId}),i.jsx(tL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),oy="DialogTitle",P1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yn(oy,r);return i.jsx(Pe.h2,{id:s.titleId,...n,ref:t})});P1.displayName=oy;var R1="DialogDescription",T1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yn(R1,r);return i.jsx(Pe.p,{id:s.descriptionId,...n,ref:t})});T1.displayName=R1;var A1="DialogClose",O1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Yn(A1,r);return i.jsx(Pe.button,{type:"button",...n,ref:t,onClick:de(e.onClick,()=>s.onOpenChange(!1))})});O1.displayName=A1;function ly(e){return e?"open":"closed"}var I1="DialogTitleWarning",[GW,M1]=_M(I1,{contentName:Ua,titleName:oy,docsSlug:"dialog"}),XD=({titleId:e})=>{const t=M1(I1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},eL="DialogDescriptionWarning",tL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${M1(eL).contentName}}.`;return m.useEffect(()=>{var a;const s=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},rL=j1,nL=k1,D1=N1,L1=C1,$1=P1,F1=T1,sL=O1;const ze=rL,iL=nL,U1=m.forwardRef(({className:e,...t},r)=>i.jsx(D1,{ref:r,className:z("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));U1.displayName=D1.displayName;const De=m.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>i.jsxs(iL,{children:[i.jsx(U1,{}),i.jsxs(L1,{ref:s,className:z("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&i.jsxs(sL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[i.jsx(dl,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));De.displayName=L1.displayName;const Le=({className:e,...t})=>i.jsx("div",{className:z("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Le.displayName="DialogHeader";const He=({className:e,...t})=>i.jsx("div",{className:z("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});He.displayName="DialogFooter";const $e=m.forwardRef(({className:e,...t},r)=>i.jsx($1,{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));$e.displayName=$1.displayName;const Fe=m.forwardRef(({className:e,...t},r)=>i.jsx(F1,{ref:r,className:z("text-sm text-muted-foreground",e),...t}));Fe.displayName=F1.displayName;var aL=Symbol.for("react.lazy"),hh=Ih[" use ".trim().toString()];function oL(e){return typeof e=="object"&&e!==null&&"then"in e}function z1(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===aL&&"_payload"in e&&oL(e._payload)}function bu(e){const t=cL(e),r=m.forwardRef((n,s)=>{let{children:a,...o}=n;z1(a)&&typeof hh=="function"&&(a=hh(a._payload));const l=m.Children.toArray(a),c=l.find(dL);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}var lL=bu("Slot");function cL(e){const t=m.forwardRef((r,n)=>{let{children:s,...a}=r;if(z1(s)&&typeof hh=="function"&&(s=hh(s._payload)),m.isValidElement(s)){const o=fL(s),l=hL(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var uL=Symbol("radix.slottable");function dL(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===uL}function hL(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function fL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const db=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,hb=s1,cy=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return hb(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:a}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=a==null?void 0:a[u];if(d===null)return null;const p=db(d)||db(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...a,...l}[g]):{...a,...l}[g]===b})?[...u,h,p]:u},[]);return hb(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},mL=cy("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},a)=>{const o=n?lL:"button";return i.jsx(o,{className:z(mL({variant:t,size:r,className:e})),ref:a,...s})});P.displayName="Button";function pL({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:a}){const o=l=>{l||s==null||s(),t(l)};return i.jsx(ze,{open:e,onOpenChange:o,children:i.jsxs(De,{showClose:!0,className:z("max-w-[640px]",a),"aria-describedby":"operation-success-description",children:[i.jsx(Le,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:i.jsx(Jc,{className:"h-6 w-6 text-success","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx($e,{children:"Success"}),i.jsx(Fe,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[i.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),i.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>i.jsx("li",{children:l.href?i.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:i.jsx("a",{href:l.href,children:l.label})}):i.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),i.jsx(He,{children:i.jsx(P,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function gL({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:a,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{a==null||a(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{showClose:!0,className:z("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[i.jsx(Le,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:i.jsx(Qa,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx($e,{children:"Cancel operation?"}),i.jsx(Fe,{id:"abort-confirm-description",children:r})]})]})}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),i.jsx(P,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const fb={visible:!1},mb={visible:!1},pb={visible:!1},V1=m.createContext(null);function vL({children:e}){const[t,r]=m.useState(fb),[n,s]=m.useState(mb),[a,o]=m.useState(pb),l=m.useCallback(v=>{r({visible:!0,message:v})},[]),c=m.useCallback(()=>{r(fb)},[]),u=m.useCallback((v,g)=>{s({visible:!0,message:v,nextSteps:g})},[]),d=m.useCallback(()=>{s(mb)},[]),h=m.useCallback(v=>{o({visible:!0,message:v.message,onConfirm:v.onConfirm,onCancel:v.onCancel,confirmLabel:v.confirmLabel})},[]),p=m.useCallback(()=>{o(pb)},[]),f=m.useMemo(()=>({loading:t,success:n,abortConfirm:a,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:h,hideAbortConfirm:p}),[t,n,a,l,c,u,d,h,p]);return i.jsx(V1.Provider,{value:f,children:e})}function yL(){const e=m.useContext(V1);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function xL(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=yL();return i.jsxs(i.Fragment,{children:[i.jsx(jM,{visible:e.visible,message:e.message}),i.jsx(pL,{open:t.visible,onOpenChange:a=>!a&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),i.jsx(gL,{open:r.visible,onOpenChange:a=>!a&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function wL({children:e}){return i.jsxs(vL,{children:[i.jsx(xL,{}),e]})}var bL=m.createContext(void 0);function ju(e){const t=m.useContext(bL);return e||t||"ltr"}function wg(e,[t,r]){return Math.min(r,Math.max(t,e))}function jL(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var uy="ScrollArea",[B1]=ws(uy),[_L,wn]=B1(uy),W1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:a=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,p]=m.useState(null),[f,v]=m.useState(null),[g,b]=m.useState(null),[y,x]=m.useState(0),[w,j]=m.useState(0),[S,_]=m.useState(!1),[k,T]=m.useState(!1),O=Je(t,W=>c(W)),M=ju(s);return i.jsx(_L,{scope:r,type:n,dir:M,scrollHideDelay:a,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:_,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:T,onCornerWidthChange:x,onCornerHeightChange:j,children:i.jsx(Pe.div,{dir:M,...o,ref:O,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});W1.displayName=uy;var q1="ScrollAreaViewport",H1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...a}=e,o=wn(q1,r),l=m.useRef(null),c=Je(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Pe.div,{"data-radix-scroll-area-viewport":"",...a,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});H1.displayName=q1;var bs="ScrollAreaScrollbar",dy=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=wn(bs,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),s.type==="hover"?i.jsx(SL,{...n,ref:t,forceMount:r}):s.type==="scroll"?i.jsx(kL,{...n,ref:t,forceMount:r}):s.type==="auto"?i.jsx(K1,{...n,ref:t,forceMount:r}):s.type==="always"?i.jsx(hy,{...n,ref:t}):null});dy.displayName=bs;var SL=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=wn(bs,e.__scopeScrollArea),[a,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),i.jsx(an,{present:r||a,children:i.jsx(K1,{"data-state":a?"visible":"hidden",...n,ref:t})})}),kL=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=wn(bs,e.__scopeScrollArea),a=e.orientation==="horizontal",o=pf(()=>c("SCROLL_END"),100),[l,c]=jL("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=a?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),o()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,a,c,o]),i.jsx(an,{present:r||l!=="hidden",children:i.jsx(hy,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:de(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:de(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),K1=m.forwardRef((e,t)=>{const r=wn(bs,e.__scopeScrollArea),{forceMount:n,...s}=e,[a,o]=m.useState(!1),l=e.orientation==="horizontal",c=pf(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return hl(r.viewport,c),hl(r.content,c),i.jsx(an,{present:n||a,children:i.jsx(hy,{"data-state":a?"visible":"hidden",...s,ref:t})})}),hy=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=wn(bs,e.__scopeScrollArea),a=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=Z1(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>a.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,f){return TL(p,o.current,l,f)}return r==="horizontal"?i.jsx(NL,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollLeft,f=gb(p,l,s.dir);a.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?i.jsx(CL,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&a.current){const p=s.viewport.scrollTop,f=gb(p,l);a.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),NL=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=wn(bs,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Je(t,c,a.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Q1,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":mf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),ek(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:mh(o.paddingLeft),paddingEnd:mh(o.paddingRight)}})}})}),CL=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,a=wn(bs,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=Je(t,c,a.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),i.jsx(Q1,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":mf(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(a.viewport){const p=a.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),ek(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&a.viewport&&o&&n({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:mh(o.paddingTop),paddingEnd:mh(o.paddingBottom)}})}})}),[EL,G1]=B1(bs),Q1=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=wn(bs,r),[v,g]=m.useState(null),b=Je(t,O=>g(O)),y=m.useRef(null),x=m.useRef(""),w=f.viewport,j=n.content-n.viewport,S=ir(d),_=ir(c),k=pf(h,10);function T(O){if(y.current){const M=O.clientX-y.current.left,W=O.clientY-y.current.top;u({x:M,y:W})}}return m.useEffect(()=>{const O=M=>{const W=M.target;(v==null?void 0:v.contains(W))&&S(M,j)};return document.addEventListener("wheel",O,{passive:!1}),()=>document.removeEventListener("wheel",O,{passive:!1})},[w,v,j,S]),m.useEffect(_,[n,_]),hl(v,k),hl(f.content,k),i.jsx(EL,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:ir(a),onThumbPointerUp:ir(o),onThumbPositionChange:_,onThumbPointerDown:ir(l),children:i.jsx(Pe.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:de(e.onPointerDown,O=>{O.button===0&&(O.target.setPointerCapture(O.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),T(O))}),onPointerMove:de(e.onPointerMove,T),onPointerUp:de(e.onPointerUp,O=>{const M=O.target;M.hasPointerCapture(O.pointerId)&&M.releasePointerCapture(O.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),fh="ScrollAreaThumb",Y1=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=G1(fh,e.__scopeScrollArea);return i.jsx(an,{present:r||s.hasThumb,children:i.jsx(PL,{ref:t,...n})})}),PL=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,a=wn(fh,r),o=G1(fh,r),{onThumbPositionChange:l}=o,c=Je(t,h=>o.onThumbChange(h)),u=m.useRef(void 0),d=pf(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=a.viewport;if(h){const p=()=>{if(d(),!u.current){const f=AL(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[a.viewport,d,l]),i.jsx(Pe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:de(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:de(e.onPointerUp,o.onThumbPointerUp)})});Y1.displayName=fh;var fy="ScrollAreaCorner",J1=m.forwardRef((e,t)=>{const r=wn(fy,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(RL,{...e,ref:t}):null});J1.displayName=fy;var RL=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=wn(fy,r),[a,o]=m.useState(0),[l,c]=m.useState(0),u=!!(a&&l);return hl(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),hl(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?i.jsx(Pe.div,{...n,ref:t,style:{width:a,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function mh(e){return e?parseInt(e,10):0}function Z1(e,t){const r=e/t;return isNaN(r)?0:r}function mf(e){const t=Z1(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function TL(e,t,r,n="ltr"){const s=mf(r),a=s/2,o=t||a,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return X1([c,u],h)(e)}function gb(e,t,r="ltr"){const n=mf(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-s,o=t.content-t.viewport,l=a-n,c=r==="ltr"?[0,o]:[o*-1,0],u=wg(e,c);return X1([0,o],[0,l])(u)}function X1(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function ek(e,t){return e>0&&e<t}var AL=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const a={left:e.scrollLeft,top:e.scrollTop},o=r.left!==a.left,l=r.top!==a.top;(o||l)&&t(),r=a,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function pf(e,t){const r=ir(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function hl(e,t){const r=ir(t);Gt(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var tk=W1,OL=H1,IL=J1;const Qt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(tk,{ref:n,className:z("relative overflow-hidden",e),...r,children:[i.jsx(OL,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(rk,{}),i.jsx(IL,{})]}));Qt.displayName=tk.displayName;const rk=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(dy,{ref:n,orientation:t,className:z("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(Y1,{className:"relative flex-1 rounded-full bg-border"})}));rk.displayName=dy.displayName;var ML=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],DL=ML.reduce((e,t)=>{const r=bu(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),LL="Separator",vb="horizontal",$L=["horizontal","vertical"],nk=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=vb,...s}=e,a=FL(n)?n:vb,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(DL.div,{"data-orientation":a,...l,...s,ref:t})});nk.displayName=LL;function FL(e){return $L.includes(e)}var sk=nk;const my=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>i.jsx(sk,{ref:s,decorative:r,orientation:t,className:z("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));my.displayName=sk.displayName;const UL=[{to:"/dashboard",label:"Dashboard",icon:Xv},{to:"/profile",label:"Profile",icon:of},{to:"/chat",label:"Chat Session",icon:xu},{to:"/channels",label:"Channels & Adapters",icon:$I},{to:"/skills",label:"Skills Library",icon:Hv},{to:"/skill-editor",label:"Skill Editor",icon:kr},{to:"/nodes",label:"Nodes",icon:Zc},{to:"/cron",label:"Cron Jobs",icon:rf},{to:"/webhooks",label:"Webhooks & Hooks",icon:gg},{to:"/browser",label:"Browser Automation",icon:ty},{to:"/voice",label:"Voice & Media",icon:fg},{to:"/settings",label:"Settings",icon:Ra},{to:"/security",label:"Security Audit",icon:xn},{to:"/logs",label:"Logs & Tracing",icon:kr},{to:"/admin",label:"Admin",icon:xn}];function zL(){const[e,t]=m.useState(!1);return i.jsxs("aside",{className:z("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[i.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&i.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),i.jsx(P,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?i.jsx(yn,{className:"h-4 w-4"}):i.jsx(zS,{className:"h-4 w-4"})})]}),i.jsx(Qt,{className:"flex-1 py-2",children:i.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:UL.map(({to:r,label:n,icon:s})=>i.jsxs(dT,{to:r,className:({isActive:a})=>z("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",a?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[i.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&i.jsx("span",{className:"truncate",children:n})]},r))})}),i.jsx(my,{})]})}const je=m.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));je.displayName="Input";function VL(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:f})};u.displayName=a+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,BL(s,...t)]}function BL(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var WL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],py=WL.reduce((e,t)=>{const r=bu(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),ik={exports:{}},ak={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fl=m;function qL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var HL=typeof Object.is=="function"?Object.is:qL,KL=fl.useState,GL=fl.useEffect,QL=fl.useLayoutEffect,YL=fl.useDebugValue;function JL(e,t){var r=t(),n=KL({inst:{value:r,getSnapshot:t}}),s=n[0].inst,a=n[1];return QL(function(){s.value=r,s.getSnapshot=t,Cm(s)&&a({inst:s})},[e,r,t]),GL(function(){return Cm(s)&&a({inst:s}),e(function(){Cm(s)&&a({inst:s})})},[e]),YL(r),r}function Cm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!HL(e,r)}catch{return!0}}function ZL(e,t){return t()}var XL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZL:JL;ak.useSyncExternalStore=fl.useSyncExternalStore!==void 0?fl.useSyncExternalStore:XL;ik.exports=ak;var e$=ik.exports;function t$(){return e$.useSyncExternalStore(r$,()=>!0,()=>!1)}function r$(){return()=>{}}var gy="Avatar",[n$]=VL(gy),[s$,ok]=n$(gy),lk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,a]=m.useState("idle");return i.jsx(s$,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:a,children:i.jsx(py.span,{...n,ref:t})})});lk.displayName=gy;var ck="AvatarImage",uk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...a}=e,o=ok(ck,r),l=i$(n,a),c=ir(u=>{s(u),o.onImageLoadingStatusChange(u)});return Gt(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?i.jsx(py.img,{...a,ref:t,src:n}):null});uk.displayName=ck;var dk="AvatarFallback",hk=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,a=ok(dk,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(py.span,{...s,ref:t}):null});hk.displayName=dk;function yb(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function i$(e,{referrerPolicy:t,crossOrigin:r}){const n=t$(),s=m.useRef(null),a=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>yb(a,e));return Gt(()=>{l(yb(a,e))},[a,e]),Gt(()=>{const c=h=>()=>{l(h)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),t&&(a.referrerPolicy=t),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,t]),o}var fk=lk,mk=uk,pk=hk;const gf=m.forwardRef(({className:e,...t},r)=>i.jsx(fk,{ref:r,className:z("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));gf.displayName=fk.displayName;const vy=m.forwardRef(({className:e,...t},r)=>i.jsx(mk,{ref:r,className:z("aspect-square h-full w-full",e),...t}));vy.displayName=mk.displayName;const vf=m.forwardRef(({className:e,...t},r)=>i.jsx(pk,{ref:r,className:z("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));vf.displayName=pk.displayName;function xb(e){const t=a$(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(l$);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function a$(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=u$(s),l=c$(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var o$=Symbol("radix.slottable");function l$(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===o$}function c$(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function u$(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function yy(e){const t=e+"CollectionProvider",[r,n]=ws(t),[s,a]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:y}=g,x=B.useRef(null),w=B.useRef(new Map).current;return i.jsx(s,{scope:b,itemMap:w,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=xb(l),u=B.forwardRef((g,b)=>{const{scope:y,children:x}=g,w=a(l,y),j=Je(b,w.collectionRef);return i.jsx(c,{ref:j,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=xb(d),f=B.forwardRef((g,b)=>{const{scope:y,children:x,...w}=g,j=B.useRef(null),S=Je(b,j),_=a(d,y);return B.useEffect(()=>(_.itemMap.set(j,{ref:j,...w}),()=>void _.itemMap.delete(j))),i.jsx(p,{[h]:"",ref:S,children:x})});f.displayName=d;function v(g){const b=a(e+"CollectionConsumer",g);return B.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((_,k)=>w.indexOf(_.ref.current)-w.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},v,n]}const d$=["top","right","bottom","left"],Bi=Math.min,Kr=Math.max,ph=Math.round,cd=Math.floor,ms=e=>({x:e,y:e}),h$={left:"right",right:"left",bottom:"top",top:"bottom"},f$={start:"end",end:"start"};function bg(e,t,r){return Kr(e,Bi(t,r))}function qs(e,t){return typeof e=="function"?e(t):e}function Hs(e){return e.split("-")[0]}function Ol(e){return e.split("-")[1]}function xy(e){return e==="x"?"y":"x"}function wy(e){return e==="y"?"height":"width"}const m$=new Set(["top","bottom"]);function us(e){return m$.has(Hs(e))?"y":"x"}function by(e){return xy(us(e))}function p$(e,t,r){r===void 0&&(r=!1);const n=Ol(e),s=by(e),a=wy(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=gh(o)),[o,gh(o)]}function g$(e){const t=gh(e);return[jg(e),t,jg(t)]}function jg(e){return e.replace(/start|end/g,t=>f$[t])}const wb=["left","right"],bb=["right","left"],v$=["top","bottom"],y$=["bottom","top"];function x$(e,t,r){switch(e){case"top":case"bottom":return r?t?bb:wb:t?wb:bb;case"left":case"right":return t?v$:y$;default:return[]}}function w$(e,t,r,n){const s=Ol(e);let a=x$(Hs(e),r==="start",n);return s&&(a=a.map(o=>o+"-"+s),t&&(a=a.concat(a.map(jg)))),a}function gh(e){return e.replace(/left|right|bottom|top/g,t=>h$[t])}function b$(e){return{top:0,right:0,bottom:0,left:0,...e}}function gk(e){return typeof e!="number"?b$(e):{top:e,right:e,bottom:e,left:e}}function vh(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function jb(e,t,r){let{reference:n,floating:s}=e;const a=us(t),o=by(t),l=wy(o),c=Hs(t),u=a==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(Ol(t)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}async function j$(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:a,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=qs(t,e),v=gk(f),b=l[p?h==="floating"?"reference":"floating":h],y=vh(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(b)))==null||r?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),j=await(a.isElement==null?void 0:a.isElement(w))?await(a.getScale==null?void 0:a.getScale(w))||{x:1,y:1}:{x:1,y:1},S=vh(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-S.top+v.top)/j.y,bottom:(S.bottom-y.bottom+v.bottom)/j.y,left:(y.left-S.left+v.left)/j.x,right:(S.right-y.right+v.right)/j.x}}const _$=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=jb(u,n,c),p=n,f={},v=0;for(let b=0;b<l.length;b++){var g;const{name:y,fn:x}=l[b],{x:w,y:j,data:S,reset:_}=await x({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:j$},elements:{reference:e,floating:t}});d=w??d,h=j??h,f={...f,[y]:{...f[y],...S}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):_.rects),{x:d,y:h}=jb(u,p,c)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}},S$=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:a,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=qs(e,t)||{};if(u==null)return{};const h=gk(d),p={x:r,y:n},f=by(s),v=wy(f),g=await o.getDimensions(u),b=f==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",j=a.reference[v]+a.reference[f]-p[f]-a.floating[v],S=p[f]-a.reference[f],_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=_?_[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(_)))&&(k=l.floating[w]||a.floating[v]);const T=j/2-S/2,O=k/2-g[v]/2-1,M=Bi(h[y],O),W=Bi(h[x],O),L=M,V=k-g[v]-W,A=k/2-g[v]/2+T,Y=bg(L,A,V),Z=!c.arrow&&Ol(s)!=null&&A!==Y&&a.reference[v]/2-(A<L?M:W)-g[v]/2<0,se=Z?A<L?A-L:A-V:0;return{[f]:p[f]+se,data:{[f]:Y,centerOffset:A-Y-se,...Z&&{alignmentOffset:se}},reset:Z}}}),k$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=qs(e,t);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const y=Hs(s),x=us(l),w=Hs(l)===l,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(w||!g?[gh(l)]:g$(l)),_=v!=="none";!p&&_&&S.push(...w$(l,g,v,j));const k=[l,...S],T=await c.detectOverflow(t,b),O=[];let M=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&O.push(T[y]),h){const A=p$(s,o,j);O.push(T[A[0]],T[A[1]])}if(M=[...M,{placement:s,overflows:O}],!O.every(A=>A<=0)){var W,L;const A=(((W=a.flip)==null?void 0:W.index)||0)+1,Y=k[A];if(Y&&(!(h==="alignment"?x!==us(Y):!1)||M.every(D=>us(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:A,overflows:M},reset:{placement:Y}};let Z=(L=M.filter(se=>se.overflows[0]<=0).sort((se,D)=>se.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!Z)switch(f){case"bestFit":{var V;const se=(V=M.filter(D=>{if(_){const N=us(D.placement);return N===x||N==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((D,N)=>D[1]-N[1])[0])==null?void 0:V[0];se&&(Z=se);break}case"initialPlacement":Z=l;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function _b(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Sb(e){return d$.some(t=>e[t]>=0)}const N$=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...a}=qs(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...a,elementContext:"reference"}),l=_b(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Sb(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...a,altBoundary:!0}),l=_b(o,r.floating);return{data:{escapedOffsets:l,escaped:Sb(l)}}}default:return{}}}}},vk=new Set(["left","top"]);async function C$(e,t){const{placement:r,platform:n,elements:s}=e,a=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Hs(r),l=Ol(r),c=us(r)==="y",u=vk.has(o)?-1:1,d=a&&c?-1:1,h=qs(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const E$=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:a,placement:o,middlewareData:l}=t,c=await C$(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:a+c.y,data:{...c,placement:o}}}}},P$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...u}=qs(e,t),d={x:r,y:n},h=await a.detectOverflow(t,u),p=us(Hs(s)),f=xy(p);let v=d[f],g=d[p];if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=v+h[y],j=v-h[x];v=bg(w,v,j)}if(l){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=g+h[y],j=g-h[x];g=bg(w,g,j)}const b=c.fn({...t,[f]:v,[p]:g});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[f]:o,[p]:l}}}}}},R$=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=qs(e,t),d={x:r,y:n},h=us(s),p=xy(h);let f=d[p],v=d[h];const g=qs(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",j=a.reference[p]-a.floating[w]+b.mainAxis,S=a.reference[p]+a.reference[w]-b.mainAxis;f<j?f=j:f>S&&(f=S)}if(u){var y,x;const w=p==="y"?"width":"height",j=vk.has(Hs(s)),S=a.reference[h]-a.floating[w]+(j&&((y=o.offset)==null?void 0:y[h])||0)+(j?0:b.crossAxis),_=a.reference[h]+a.reference[w]+(j?0:((x=o.offset)==null?void 0:x[h])||0)-(j?b.crossAxis:0);v<S?v=S:v>_&&(v=_)}return{[p]:f,[h]:v}}}},T$=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:a,platform:o,elements:l}=t,{apply:c=()=>{},...u}=qs(e,t),d=await o.detectOverflow(t,u),h=Hs(s),p=Ol(s),f=us(s)==="y",{width:v,height:g}=a.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,j=Bi(g-d[b],x),S=Bi(v-d[y],w),_=!t.middlewareData.shift;let k=j,T=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(T=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),_&&!p){const M=Kr(d.left,0),W=Kr(d.right,0),L=Kr(d.top,0),V=Kr(d.bottom,0);f?T=v-2*(M!==0||W!==0?M+W:Kr(d.left,d.right)):k=g-2*(L!==0||V!==0?L+V:Kr(d.top,d.bottom))}await c({...t,availableWidth:T,availableHeight:k});const O=await o.getDimensions(l.floating);return v!==O.width||g!==O.height?{reset:{rects:!0}}:{}}}};function yf(){return typeof window<"u"}function Il(e){return yk(e)?(e.nodeName||"").toLowerCase():"#document"}function Xr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function js(e){var t;return(t=(yk(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yk(e){return yf()?e instanceof Node||e instanceof Xr(e).Node:!1}function Kn(e){return yf()?e instanceof Element||e instanceof Xr(e).Element:!1}function gs(e){return yf()?e instanceof HTMLElement||e instanceof Xr(e).HTMLElement:!1}function kb(e){return!yf()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xr(e).ShadowRoot}const A$=new Set(["inline","contents"]);function _u(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Gn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!A$.has(s)}const O$=new Set(["table","td","th"]);function I$(e){return O$.has(Il(e))}const M$=[":popover-open",":modal"];function xf(e){return M$.some(t=>{try{return e.matches(t)}catch{return!1}})}const D$=["transform","translate","scale","rotate","perspective"],L$=["transform","translate","scale","rotate","perspective","filter"],$$=["paint","layout","strict","content"];function jy(e){const t=_y(),r=Kn(e)?Gn(e):e;return D$.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||L$.some(n=>(r.willChange||"").includes(n))||$$.some(n=>(r.contain||"").includes(n))}function F$(e){let t=Wi(e);for(;gs(t)&&!ml(t);){if(jy(t))return t;if(xf(t))return null;t=Wi(t)}return null}function _y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const U$=new Set(["html","body","#document"]);function ml(e){return U$.has(Il(e))}function Gn(e){return Xr(e).getComputedStyle(e)}function wf(e){return Kn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wi(e){if(Il(e)==="html")return e;const t=e.assignedSlot||e.parentNode||kb(e)&&e.host||js(e);return kb(t)?t.host:t}function xk(e){const t=Wi(e);return ml(t)?e.ownerDocument?e.ownerDocument.body:e.body:gs(t)&&_u(t)?t:xk(t)}function eu(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=xk(e),a=s===((n=e.ownerDocument)==null?void 0:n.body),o=Xr(s);if(a){const l=_g(o);return t.concat(o,o.visualViewport||[],_u(s)?s:[],l&&r?eu(l):[])}return t.concat(s,eu(s,[],r))}function _g(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function wk(e){const t=Gn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=gs(e),a=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=ph(r)!==a||ph(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function Sy(e){return Kn(e)?e:e.contextElement}function Bo(e){const t=Sy(e);if(!gs(t))return ms(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:a}=wk(t);let o=(a?ph(r.width):r.width)/n,l=(a?ph(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const z$=ms(0);function bk(e){const t=Xr(e);return!_y()||!t.visualViewport?z$:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function V$(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Xr(e)?!1:t}function za(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),a=Sy(e);let o=ms(1);t&&(n?Kn(n)&&(o=Bo(n)):o=Bo(e));const l=V$(a,r,n)?bk(a):ms(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(a){const p=Xr(a),f=n&&Kn(n)?Xr(n):n;let v=p,g=_g(v);for(;g&&n&&f!==v;){const b=Bo(g),y=g.getBoundingClientRect(),x=Gn(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,j=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=j,v=Xr(g),g=_g(v)}}return vh({width:d,height:h,x:c,y:u})}function bf(e,t){const r=wf(e).scrollLeft;return t?t.left+r:za(js(e)).left+r}function jk(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-bf(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function B$(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const a=s==="fixed",o=js(n),l=t?xf(t.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=ms(1);const d=ms(0),h=gs(n);if((h||!h&&!a)&&((Il(n)!=="body"||_u(o))&&(c=wf(n)),gs(n))){const f=za(n);u=Bo(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!a?jk(o,c):ms(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function W$(e){return Array.from(e.getClientRects())}function q$(e){const t=js(e),r=wf(e),n=e.ownerDocument.body,s=Kr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=Kr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+bf(e);const l=-r.scrollTop;return Gn(n).direction==="rtl"&&(o+=Kr(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:o,y:l}}const Nb=25;function H$(e,t){const r=Xr(e),n=js(e),s=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){a=s.width,o=s.height;const d=_y();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=bf(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(n.clientWidth-h.clientWidth-f);v<=Nb&&(a-=v)}else u<=Nb&&(a+=u);return{width:a,height:o,x:l,y:c}}const K$=new Set(["absolute","fixed"]);function G$(e,t){const r=za(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,a=gs(e)?Bo(e):ms(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,c=s*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function Cb(e,t,r){let n;if(t==="viewport")n=H$(e,r);else if(t==="document")n=q$(js(e));else if(Kn(t))n=G$(t,r);else{const s=bk(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return vh(n)}function _k(e,t){const r=Wi(e);return r===t||!Kn(r)||ml(r)?!1:Gn(r).position==="fixed"||_k(r,t)}function Q$(e,t){const r=t.get(e);if(r)return r;let n=eu(e,[],!1).filter(l=>Kn(l)&&Il(l)!=="body"),s=null;const a=Gn(e).position==="fixed";let o=a?Wi(e):e;for(;Kn(o)&&!ml(o);){const l=Gn(o),c=jy(o);!c&&l.position==="fixed"&&(s=null),(a?!c&&!s:!c&&l.position==="static"&&!!s&&K$.has(s.position)||_u(o)&&!c&&_k(e,o))?n=n.filter(d=>d!==o):s=l,o=Wi(o)}return t.set(e,n),n}function Y$(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?xf(t)?[]:Q$(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=Cb(t,d,s);return u.top=Kr(h.top,u.top),u.right=Bi(h.right,u.right),u.bottom=Bi(h.bottom,u.bottom),u.left=Kr(h.left,u.left),u},Cb(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function J$(e){const{width:t,height:r}=wk(e);return{width:t,height:r}}function Z$(e,t,r){const n=gs(t),s=js(t),a=r==="fixed",o=za(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const c=ms(0);function u(){c.x=bf(s)}if(n||!n&&!a)if((Il(t)!=="body"||_u(s))&&(l=wf(t)),n){const f=za(t,!0,a,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();a&&!n&&s&&u();const d=s&&!n&&!a?jk(s,l):ms(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function Em(e){return Gn(e).position==="static"}function Eb(e,t){if(!gs(e)||Gn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return js(e)===r&&(r=r.ownerDocument.body),r}function Sk(e,t){const r=Xr(e);if(xf(e))return r;if(!gs(e)){let s=Wi(e);for(;s&&!ml(s);){if(Kn(s)&&!Em(s))return s;s=Wi(s)}return r}let n=Eb(e,t);for(;n&&I$(n)&&Em(n);)n=Eb(n,t);return n&&ml(n)&&Em(n)&&!jy(n)?r:n||F$(e)||r}const X$=async function(e){const t=this.getOffsetParent||Sk,r=this.getDimensions,n=await r(e.floating);return{reference:Z$(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function e3(e){return Gn(e).direction==="rtl"}const t3={convertOffsetParentRelativeRectToViewportRelativeRect:B$,getDocumentElement:js,getClippingRect:Y$,getOffsetParent:Sk,getElementRects:X$,getClientRects:W$,getDimensions:J$,getScale:Bo,isElement:Kn,isRTL:e3};function kk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function r3(e,t){let r=null,n;const s=js(e);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const v=cd(h),g=cd(s.clientWidth-(d+p)),b=cd(s.clientHeight-(h+f)),y=cd(d),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-y+"px",threshold:Kr(0,Bi(1,c))||1};let j=!0;function S(_){const k=_[0].intersectionRatio;if(k!==c){if(!j)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!kk(u,e.getBoundingClientRect())&&o(),j=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),a}function n3(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Sy(e),d=s||a?[...u?eu(u):[],...eu(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),a&&y.addEventListener("resize",r)});const h=u&&l?r3(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let v,g=c?za(e):null;c&&b();function b(){const y=za(e);g&&!kk(g,y)&&r(),g=y,v=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",r),a&&x.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const s3=E$,i3=P$,a3=k$,o3=T$,l3=N$,Pb=S$,c3=R$,u3=(e,t,r)=>{const n=new Map,s={platform:t3,...r},a={...s.platform,_c:n};return _$(e,t,{...s,platform:a})};var d3=typeof document<"u",h3=function(){},Rd=d3?m.useLayoutEffect:h3;function yh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!yh(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!yh(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function Nk(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rb(e,t){const r=Nk(e);return Math.round(t*r)/r}function Pm(e){const t=m.useRef(e);return Rd(()=>{t.current=e}),t}function f3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=m.useState(n);yh(p,n)||f(n);const[v,g]=m.useState(null),[b,y]=m.useState(null),x=m.useCallback(D=>{D!==_.current&&(_.current=D,g(D))},[]),w=m.useCallback(D=>{D!==k.current&&(k.current=D,y(D))},[]),j=a||v,S=o||b,_=m.useRef(null),k=m.useRef(null),T=m.useRef(d),O=c!=null,M=Pm(c),W=Pm(s),L=Pm(u),V=m.useCallback(()=>{if(!_.current||!k.current)return;const D={placement:t,strategy:r,middleware:p};W.current&&(D.platform=W.current),u3(_.current,k.current,D).then(N=>{const R={...N,isPositioned:L.current!==!1};A.current&&!yh(T.current,R)&&(T.current=R,Sl.flushSync(()=>{h(R)}))})},[p,t,r,W,L]);Rd(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const A=m.useRef(!1);Rd(()=>(A.current=!0,()=>{A.current=!1}),[]),Rd(()=>{if(j&&(_.current=j),S&&(k.current=S),j&&S){if(M.current)return M.current(j,S,V);V()}},[j,S,V,M,O]);const Y=m.useMemo(()=>({reference:_,floating:k,setReference:x,setFloating:w}),[x,w]),Z=m.useMemo(()=>({reference:j,floating:S}),[j,S]),se=m.useMemo(()=>{const D={position:r,left:0,top:0};if(!Z.floating)return D;const N=Rb(Z.floating,d.x),R=Rb(Z.floating,d.y);return l?{...D,transform:"translate("+N+"px, "+R+"px)",...Nk(Z.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:R}},[r,l,Z.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:V,refs:Y,elements:Z,floatingStyles:se}),[d,V,Y,Z,se])}const m3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pb({element:n.current,padding:s}).fn(r):{}:n?Pb({element:n,padding:s}).fn(r):{}}}},p3=(e,t)=>({...s3(e),options:[e,t]}),g3=(e,t)=>({...i3(e),options:[e,t]}),v3=(e,t)=>({...c3(e),options:[e,t]}),y3=(e,t)=>({...a3(e),options:[e,t]}),x3=(e,t)=>({...o3(e),options:[e,t]}),w3=(e,t)=>({...l3(e),options:[e,t]}),b3=(e,t)=>({...m3(e),options:[e,t]});var j3="Arrow",Ck=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...a}=e;return i.jsx(Pe.svg,{...a,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ck.displayName=j3;var _3=Ck;function Ek(e){const[t,r]=m.useState(void 0);return Gt(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var ky="Popper",[Pk,jf]=ws(ky),[S3,Rk]=Pk(ky),Tk=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return i.jsx(S3,{scope:t,anchor:n,onAnchorChange:s,children:r})};Tk.displayName=ky;var Ak="PopperAnchor",Ok=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,a=Rk(Ak,r),o=m.useRef(null),l=Je(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:i.jsx(Pe.div,{...s,ref:l})});Ok.displayName=Ak;var Ny="PopperContent",[k3,N3]=Pk(Ny),Ik=m.forwardRef((e,t)=>{var re,Ge,Qe,Be,We,Ze;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...g}=e,b=Rk(Ny,r),[y,x]=m.useState(null),w=Je(t,Yt=>x(Yt)),[j,S]=m.useState(null),_=Ek(j),k=(_==null?void 0:_.width)??0,T=(_==null?void 0:_.height)??0,O=n+(a!=="center"?"-"+a:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(u)?u:[u],L=W.length>0,V={padding:M,boundary:W.filter(E3),altBoundary:L},{refs:A,floatingStyles:Y,placement:Z,isPositioned:se,middlewareData:D}=f3({strategy:"fixed",placement:O,whileElementsMounted:(...Yt)=>n3(...Yt,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[p3({mainAxis:s+T,alignmentAxis:o}),c&&g3({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?v3():void 0,...V}),c&&y3({...V}),x3({...V,apply:({elements:Yt,rects:Tr,availableWidth:Xn,availableHeight:_n})=>{const{width:Ss,height:ta}=Tr.reference,ra=Yt.floating.style;ra.setProperty("--radix-popper-available-width",`${Xn}px`),ra.setProperty("--radix-popper-available-height",`${_n}px`),ra.setProperty("--radix-popper-anchor-width",`${Ss}px`),ra.setProperty("--radix-popper-anchor-height",`${ta}px`)}}),j&&b3({element:j,padding:l}),P3({arrowWidth:k,arrowHeight:T}),p&&w3({strategy:"referenceHidden",...V})]}),[N,R]=Lk(Z),ue=ir(v);Gt(()=>{se&&(ue==null||ue())},[se,ue]);const he=(re=D.arrow)==null?void 0:re.x,Re=(Ge=D.arrow)==null?void 0:Ge.y,Ee=((Qe=D.arrow)==null?void 0:Qe.centerOffset)!==0,[at,nt]=m.useState();return Gt(()=>{y&&nt(window.getComputedStyle(y).zIndex)},[y]),i.jsx("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:se?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:at,"--radix-popper-transform-origin":[(Be=D.transformOrigin)==null?void 0:Be.x,(We=D.transformOrigin)==null?void 0:We.y].join(" "),...((Ze=D.hide)==null?void 0:Ze.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(k3,{scope:r,placedSide:N,onArrowChange:S,arrowX:he,arrowY:Re,shouldHideArrow:Ee,children:i.jsx(Pe.div,{"data-side":N,"data-align":R,...g,ref:w,style:{...g.style,animation:se?void 0:"none"}})})})});Ik.displayName=Ny;var Mk="PopperArrow",C3={top:"bottom",right:"left",bottom:"top",left:"right"},Dk=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,a=N3(Mk,n),o=C3[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(_3,{...s,ref:r,style:{...s.style,display:"block"}})})});Dk.displayName=Mk;function E3(e){return e!==null}var P3=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=Lk(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?h:`${p}px`,g=`${-c}px`):u==="top"?(v=o?h:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:v,y:g}}}});function Lk(e){const[t,r="center"]=e.split("-");return[t,r]}var $k=Tk,Fk=Ok,Uk=Ik,zk=Dk,Rm="rovingFocusGroup.onEntryFocus",R3={bubbles:!1,cancelable:!0},Su="RovingFocusGroup",[Sg,Vk,T3]=yy(Su),[A3,_f]=ws(Su,[T3]),[O3,I3]=A3(Su),Bk=m.forwardRef((e,t)=>i.jsx(Sg.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(Sg.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(M3,{...e,ref:t})})}));Bk.displayName=Su;var M3=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=m.useRef(null),f=Je(t,p),v=ju(a),[g,b]=Fa({prop:o,defaultProp:l??null,onChange:c,caller:Su}),[y,x]=m.useState(!1),w=ir(u),j=Vk(r),S=m.useRef(!1),[_,k]=m.useState(0);return m.useEffect(()=>{const T=p.current;if(T)return T.addEventListener(Rm,w),()=>T.removeEventListener(Rm,w)},[w]),i.jsx(O3,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(T=>b(T),[b]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(T=>T+1),[]),onFocusableItemRemove:m.useCallback(()=>k(T=>T-1),[]),children:i.jsx(Pe.div,{tabIndex:y||_===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:de(e.onMouseDown,()=>{S.current=!0}),onFocus:de(e.onFocus,T=>{const O=!S.current;if(T.target===T.currentTarget&&O&&!y){const M=new CustomEvent(Rm,R3);if(T.currentTarget.dispatchEvent(M),!M.defaultPrevented){const W=j().filter(Z=>Z.focusable),L=W.find(Z=>Z.active),V=W.find(Z=>Z.id===g),Y=[L,V,...W].filter(Boolean).map(Z=>Z.ref.current);Hk(Y,d)}}S.current=!1}),onBlur:de(e.onBlur,()=>x(!1))})})}),Wk="RovingFocusGroupItem",qk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:a,children:o,...l}=e,c=fs(),u=a||c,d=I3(Wk,r),h=d.currentTabStopId===u,p=Vk(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),i.jsx(Sg.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:i.jsx(Pe.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:de(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:de(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:de(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=$3(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(j=>j.focusable).map(j=>j.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const j=w.indexOf(b.currentTarget);w=d.loop?F3(w,j+1):w.slice(j+1)}setTimeout(()=>Hk(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});qk.displayName=Wk;var D3={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function L3(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function $3(e,t,r){const n=L3(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return D3[n]}function Hk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function F3(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Kk=Bk,Gk=qk;function U3(e){const t=z3(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(B3);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function z3(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=q3(s),l=W3(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V3=Symbol("radix.slottable");function B3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V3}function W3(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function q3(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kg=["Enter"," "],H3=["ArrowDown","PageUp","Home"],Qk=["ArrowUp","PageDown","End"],K3=[...H3,...Qk],G3={ltr:[...kg,"ArrowRight"],rtl:[...kg,"ArrowLeft"]},Q3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ku="Menu",[tu,Y3,J3]=yy(ku),[Ya,Yk]=ws(ku,[J3,jf,_f]),Sf=jf(),Jk=_f(),[Z3,Ja]=Ya(ku),[X3,Nu]=Ya(ku),Zk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:a,modal:o=!0}=e,l=Sf(t),[c,u]=m.useState(null),d=m.useRef(!1),h=ir(a),p=ju(s);return m.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),i.jsx($k,{...l,children:i.jsx(Z3,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:i.jsx(X3,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:n})})})};Zk.displayName=ku;var eF="MenuAnchor",Cy=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sf(r);return i.jsx(Fk,{...s,...n,ref:t})});Cy.displayName=eF;var Ey="MenuPortal",[tF,Xk]=Ya(Ey,{forceMount:void 0}),eN=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,a=Ja(Ey,t);return i.jsx(tF,{scope:t,forceMount:r,children:i.jsx(an,{present:r||a.open,children:i.jsx(uf,{asChild:!0,container:s,children:n})})})};eN.displayName=Ey;var pn="MenuContent",[rF,Py]=Ya(pn),tN=m.forwardRef((e,t)=>{const r=Xk(pn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ja(pn,e.__scopeMenu),o=Nu(pn,e.__scopeMenu);return i.jsx(tu.Provider,{scope:e.__scopeMenu,children:i.jsx(an,{present:n||a.open,children:i.jsx(tu.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(nF,{...s,ref:t}):i.jsx(sF,{...s,ref:t})})})})}),nF=m.forwardRef((e,t)=>{const r=Ja(pn,e.__scopeMenu),n=m.useRef(null),s=Je(t,n);return m.useEffect(()=>{const a=n.current;if(a)return iy(a)},[]),i.jsx(Ry,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:de(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),sF=m.forwardRef((e,t)=>{const r=Ja(pn,e.__scopeMenu);return i.jsx(Ry,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),iF=U3("MenuContent.ScrollLock"),Ry=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:v,...g}=e,b=Ja(pn,r),y=Nu(pn,r),x=Sf(r),w=Jk(r),j=Y3(r),[S,_]=m.useState(null),k=m.useRef(null),T=Je(t,k,b.onContentChange),O=m.useRef(0),M=m.useRef(""),W=m.useRef(0),L=m.useRef(null),V=m.useRef("right"),A=m.useRef(0),Y=v?hf:m.Fragment,Z=v?{as:iF,allowPinchZoom:!0}:void 0,se=N=>{var re,Ge;const R=M.current+N,ue=j().filter(Qe=>!Qe.disabled),he=document.activeElement,Re=(re=ue.find(Qe=>Qe.ref.current===he))==null?void 0:re.textValue,Ee=ue.map(Qe=>Qe.textValue),at=vF(Ee,R,Re),nt=(Ge=ue.find(Qe=>Qe.textValue===at))==null?void 0:Ge.ref.current;(function Qe(Be){M.current=Be,window.clearTimeout(O.current),Be!==""&&(O.current=window.setTimeout(()=>Qe(""),1e3))})(R),nt&&setTimeout(()=>nt.focus())};m.useEffect(()=>()=>window.clearTimeout(O.current),[]),sy();const D=m.useCallback(N=>{var ue,he;return V.current===((ue=L.current)==null?void 0:ue.side)&&xF(N,(he=L.current)==null?void 0:he.area)},[]);return i.jsx(rF,{scope:r,searchRef:M,onItemEnter:m.useCallback(N=>{D(N)&&N.preventDefault()},[D]),onItemLeave:m.useCallback(N=>{var R;D(N)||((R=k.current)==null||R.focus(),_(null))},[D]),onTriggerLeave:m.useCallback(N=>{D(N)&&N.preventDefault()},[D]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(N=>{L.current=N},[]),children:i.jsx(Y,{...Z,children:i.jsx(cf,{asChild:!0,trapped:s,onMountAutoFocus:de(a,N=>{var R;N.preventDefault(),(R=k.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(lf,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:i.jsx(Kk,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:_,onEntryFocus:de(c,N=>{y.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Uk,{role:"menu","aria-orientation":"vertical","data-state":vN(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:T,style:{outline:"none",...g.style},onKeyDown:de(g.onKeyDown,N=>{const ue=N.target.closest("[data-radix-menu-content]")===N.currentTarget,he=N.ctrlKey||N.altKey||N.metaKey,Re=N.key.length===1;ue&&(N.key==="Tab"&&N.preventDefault(),!he&&Re&&se(N.key));const Ee=k.current;if(N.target!==Ee||!K3.includes(N.key))return;N.preventDefault();const nt=j().filter(re=>!re.disabled).map(re=>re.ref.current);Qk.includes(N.key)&&nt.reverse(),pF(nt)}),onBlur:de(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(O.current),M.current="")}),onPointerMove:de(e.onPointerMove,ru(N=>{const R=N.target,ue=A.current!==N.clientX;if(N.currentTarget.contains(R)&&ue){const he=N.clientX>A.current?"right":"left";V.current=he,A.current=N.clientX}}))})})})})})})});tN.displayName=pn;var aF="MenuGroup",Ty=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Pe.div,{role:"group",...n,ref:t})});Ty.displayName=aF;var oF="MenuLabel",rN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Pe.div,{...n,ref:t})});rN.displayName=oF;var xh="MenuItem",Tb="menu.itemSelect",kf=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,a=m.useRef(null),o=Nu(xh,e.__scopeMenu),l=Py(xh,e.__scopeMenu),c=Je(t,a),u=m.useRef(!1),d=()=>{const h=a.current;if(!r&&h){const p=new CustomEvent(Tb,{bubbles:!0,cancelable:!0});h.addEventListener(Tb,f=>n==null?void 0:n(f),{once:!0}),u1(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return i.jsx(nN,{...s,ref:c,disabled:r,onClick:de(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:de(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:de(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||kg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});kf.displayName=xh;var nN=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...a}=e,o=Py(xh,r),l=Jk(r),c=m.useRef(null),u=Je(t,c),[d,h]=m.useState(!1),[p,f]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[a.children]),i.jsx(tu.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:i.jsx(Gk,{asChild:!0,...l,focusable:!n,children:i.jsx(Pe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:de(e.onPointerMove,ru(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:de(e.onPointerLeave,ru(v=>o.onItemLeave(v))),onFocus:de(e.onFocus,()=>h(!0)),onBlur:de(e.onBlur,()=>h(!1))})})})}),lF="MenuCheckboxItem",sN=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return i.jsx(cN,{scope:e.__scopeMenu,checked:r,children:i.jsx(kf,{role:"menuitemcheckbox","aria-checked":wh(r)?"mixed":r,...s,ref:t,"data-state":Oy(r),onSelect:de(s.onSelect,()=>n==null?void 0:n(wh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});sN.displayName=lF;var iN="MenuRadioGroup",[cF,uF]=Ya(iN,{value:void 0,onValueChange:()=>{}}),aN=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,a=ir(n);return i.jsx(cF,{scope:e.__scopeMenu,value:r,onValueChange:a,children:i.jsx(Ty,{...s,ref:t})})});aN.displayName=iN;var oN="MenuRadioItem",lN=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=uF(oN,e.__scopeMenu),a=r===s.value;return i.jsx(cN,{scope:e.__scopeMenu,checked:a,children:i.jsx(kf,{role:"menuitemradio","aria-checked":a,...n,ref:t,"data-state":Oy(a),onSelect:de(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});lN.displayName=oN;var Ay="MenuItemIndicator",[cN,dF]=Ya(Ay,{checked:!1}),uN=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,a=dF(Ay,r);return i.jsx(an,{present:n||wh(a.checked)||a.checked===!0,children:i.jsx(Pe.span,{...s,ref:t,"data-state":Oy(a.checked)})})});uN.displayName=Ay;var hF="MenuSeparator",dN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Pe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});dN.displayName=hF;var fF="MenuArrow",hN=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Sf(r);return i.jsx(zk,{...s,...n,ref:t})});hN.displayName=fF;var mF="MenuSub",[QW,fN]=Ya(mF),cc="MenuSubTrigger",mN=m.forwardRef((e,t)=>{const r=Ja(cc,e.__scopeMenu),n=Nu(cc,e.__scopeMenu),s=fN(cc,e.__scopeMenu),a=Py(cc,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),i.jsx(Cy,{asChild:!0,...u,children:i.jsx(nN,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":vN(r.open),...e,ref:Js(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:de(e.onPointerMove,ru(h=>{a.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:de(e.onPointerLeave,ru(h=>{var f,v;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const g=(v=r.content)==null?void 0:v.dataset.side,b=g==="right",y=b?-5:5,x=p[b?"left":"right"],w=p[b?"right":"left"];a.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(h),h.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:de(e.onKeyDown,h=>{var f;const p=a.searchRef.current!=="";e.disabled||p&&h.key===" "||G3[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});mN.displayName=cc;var pN="MenuSubContent",gN=m.forwardRef((e,t)=>{const r=Xk(pn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,a=Ja(pn,e.__scopeMenu),o=Nu(pn,e.__scopeMenu),l=fN(pN,e.__scopeMenu),c=m.useRef(null),u=Je(t,c);return i.jsx(tu.Provider,{scope:e.__scopeMenu,children:i.jsx(an,{present:n||a.open,children:i.jsx(tu.Slot,{scope:e.__scopeMenu,children:i.jsx(Ry,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:de(e.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:de(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:de(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=Q3[o.dir].includes(d.key);h&&p&&(a.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});gN.displayName=pN;function vN(e){return e?"open":"closed"}function wh(e){return e==="indeterminate"}function Oy(e){return wh(e)?"indeterminate":e?"checked":"unchecked"}function pF(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function gF(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function vF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=gF(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function yF(e,t){const{x:r,y:n}=e;let s=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],c=t[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function xF(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return yF(r,t)}function ru(e){return t=>t.pointerType==="mouse"?e(t):void 0}var wF=Zk,bF=Cy,jF=eN,_F=tN,SF=Ty,kF=rN,NF=kf,CF=sN,EF=aN,PF=lN,RF=uN,TF=dN,AF=hN,OF=mN,IF=gN,Nf="DropdownMenu",[MF]=ws(Nf,[Yk]),Pr=Yk(),[DF,yN]=MF(Nf),xN=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,c=Pr(t),u=m.useRef(null),[d,h]=Fa({prop:s,defaultProp:a??!1,onChange:o,caller:Nf});return i.jsx(DF,{scope:t,triggerId:fs(),triggerRef:u,contentId:fs(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:l,children:i.jsx(wF,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};xN.displayName=Nf;var wN="DropdownMenuTrigger",bN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,a=yN(wN,r),o=Pr(r);return i.jsx(bF,{asChild:!0,...o,children:i.jsx(Pe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Js(t,a.triggerRef),onPointerDown:de(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:de(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});bN.displayName=wN;var LF="DropdownMenuPortal",jN=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Pr(t);return i.jsx(jF,{...n,...r})};jN.displayName=LF;var _N="DropdownMenuContent",SN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=yN(_N,r),a=Pr(r),o=m.useRef(!1);return i.jsx(_F,{id:s.contentId,"aria-labelledby":s.triggerId,...a,...n,ref:t,onCloseAutoFocus:de(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:de(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SN.displayName=_N;var $F="DropdownMenuGroup",FF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(SF,{...s,...n,ref:t})});FF.displayName=$F;var UF="DropdownMenuLabel",kN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(kF,{...s,...n,ref:t})});kN.displayName=UF;var zF="DropdownMenuItem",NN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(NF,{...s,...n,ref:t})});NN.displayName=zF;var VF="DropdownMenuCheckboxItem",CN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(CF,{...s,...n,ref:t})});CN.displayName=VF;var BF="DropdownMenuRadioGroup",WF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(EF,{...s,...n,ref:t})});WF.displayName=BF;var qF="DropdownMenuRadioItem",EN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(PF,{...s,...n,ref:t})});EN.displayName=qF;var HF="DropdownMenuItemIndicator",PN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(RF,{...s,...n,ref:t})});PN.displayName=HF;var KF="DropdownMenuSeparator",RN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(TF,{...s,...n,ref:t})});RN.displayName=KF;var GF="DropdownMenuArrow",QF=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(AF,{...s,...n,ref:t})});QF.displayName=GF;var YF="DropdownMenuSubTrigger",TN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(OF,{...s,...n,ref:t})});TN.displayName=YF;var JF="DropdownMenuSubContent",AN=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Pr(r);return i.jsx(IF,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});AN.displayName=JF;var ZF=xN,XF=bN,e5=jN,ON=SN,IN=kN,MN=NN,DN=CN,LN=EN,$N=PN,FN=RN,UN=TN,zN=AN;const nu=ZF,su=XF,t5=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>i.jsxs(UN,{ref:s,className:z("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,i.jsx(yn,{className:"ml-auto h-4 w-4"})]}));t5.displayName=UN.displayName;const r5=m.forwardRef(({className:e,...t},r)=>i.jsx(zN,{ref:r,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));r5.displayName=zN.displayName;const pl=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(e5,{children:i.jsx(ON,{ref:n,sideOffset:t,className:z("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));pl.displayName=ON.displayName;const Dr=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(MN,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Dr.displayName=MN.displayName;const n5=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>i.jsxs(DN,{ref:s,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($N,{children:i.jsx(nf,{className:"h-4 w-4"})})}),t]}));n5.displayName=DN.displayName;const s5=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(LN,{ref:n,className:z("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx($N,{children:i.jsx(kI,{className:"h-2 w-2 fill-current"})})}),t]}));s5.displayName=LN.displayName;const VN=m.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(IN,{ref:n,className:z("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));VN.displayName=IN.displayName;const Ng=m.forwardRef(({className:e,...t},r)=>i.jsx(FN,{ref:r,className:z("-mx-1 my-1 h-px bg-border",e),...t}));Ng.displayName=FN.displayName;function i5({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const a=async()=>{await r(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:z("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[i.jsx(Le,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:i.jsx(KS,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx($e,{children:"Sign out"}),i.jsx(Fe,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(P,{type:"button",variant:"default",onClick:a,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function a5({className:e}){var d;const{user:t,signOut:r,isLoading:n}=qv(),s=Ji(),[a,o]=m.useState(!1),[l,c]=m.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:z("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[i.jsx("div",{className:"flex flex-1 items-center gap-4",children:i.jsxs("div",{className:"relative w-full max-w-md",children:[i.jsx(ZS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),i.jsx(je,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(P,{variant:"ghost",size:"icon","aria-label":"Notifications",children:i.jsx(wI,{className:"h-4 w-4"})}),i.jsx(P,{variant:"ghost",size:"icon",asChild:!0,children:i.jsx(ie,{to:"/help","aria-label":"Help",children:i.jsx(sf,{className:"h-4 w-4"})})}),!n&&(t?i.jsxs(nu,{children:[i.jsx(su,{asChild:!0,children:i.jsx(P,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:i.jsxs(gf,{className:"h-10 w-10",children:[i.jsx(vy,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),i.jsx(vf,{className:"bg-primary/20 text-primary",children:i.jsx(of,{className:"h-5 w-5"})})]})})}),i.jsxs(pl,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[i.jsx(VN,{children:i.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),i.jsx(Ng,{}),i.jsx(Dr,{asChild:!0,children:i.jsx(ie,{to:"/profile",children:"Profile"})}),i.jsx(Dr,{asChild:!0,children:i.jsx(ie,{to:"/settings",children:"Settings"})}),i.jsx(Ng,{}),i.jsxs(Dr,{className:"text-destructive focus:text-destructive",onSelect:h=>{h.preventDefault(),o(!0)},children:[i.jsx(KS,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:i.jsx(ie,{to:"/login",children:"Sign in"})}),i.jsx(P,{size:"sm",asChild:!0,children:i.jsx(ie,{to:"/signup",children:"Sign up"})})]}))]})]}),i.jsx(i5,{open:a,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function o5(){return i.jsxs("div",{className:"flex min-h-screen bg-background",children:[i.jsx(zL,{}),i.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[i.jsx(a5,{}),i.jsx("main",{className:z("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:i.jsx(uS,{})})]})]})}const H=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:z("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));H.displayName="Card";const ee=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:z("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));ee.displayName="CardHeader";const ne=m.forwardRef(({className:e,...t},r)=>i.jsx("h3",{ref:r,className:z("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const ge=m.forwardRef(({className:e,...t},r)=>i.jsx("p",{ref:r,className:z("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const K=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:z("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));K.displayName="CardContent";const l5=m.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:z("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));l5.displayName="CardFooter";const c5="reveal-visible";function ud(e){const t=m.useRef(null),[r,n]=m.useState(!1);return m.useEffect(()=>{const s=t.current;if(!s)return;const a=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(c5))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return a.observe(s),()=>a.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const u5=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],d5=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],h5=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],f5={MessageSquare:xu,Zap:r1,Smartphone:UI,Globe:AI,Shield:xn,Clock:Oo};function m5(){const[e,t]=m.useState(null),r=ud(),n=ud(),s=ud(),a=ud();return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(ie,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),i.jsxs("nav",{className:"flex items-center gap-6",children:[i.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),i.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),i.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),i.jsx(ie,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),i.jsx(ie,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(P,{asChild:!0,size:"sm",children:i.jsx(ie,{to:"/signup",children:"Sign up"})})]})]})}),i.jsxs("main",{children:[i.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),i.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),i.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),i.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[i.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),i.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),i.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[i.jsx(P,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/download",className:"inline-flex items-center gap-2",children:[i.jsx(xs,{className:"h-5 w-5"}),"Install Gateway"]})}),i.jsx(P,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[i.jsx(Qv,{className:"h-5 w-5"}),"Open Local UI"]})}),i.jsx(P,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:i.jsxs(ie,{to:"/help",className:"inline-flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),i.jsxs("section",{id:"features",ref:r.ref,className:z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:u5.map((o,l)=>i.jsx(p5,{feature:o,index:l},o.id))})]}),i.jsx("section",{id:"quick-start",ref:n.ref,className:z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:i.jsxs("div",{className:"mx-auto max-w-content",children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),i.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>i.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),i.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),i.jsxs("section",{id:"integrations",ref:s.ref,className:z("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),i.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:d5.map(o=>i.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),i.jsx("section",{id:"pricing",ref:a.ref,className:z("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:i.jsxs("div",{className:"mx-auto max-w-content",children:[i.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:h5.map(o=>i.jsxs(H,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[i.jsxs(ee,{className:"pb-2",children:[i.jsx(ne,{className:"text-lg",children:o.planName}),i.jsx(ge,{children:o.description}),i.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),i.jsxs(K,{children:[i.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(yn,{className:"h-4 w-4 text-accent"}),l]},c))}),i.jsx(P,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),i.jsx("footer",{className:"border-t border-border py-12",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(ie,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),i.jsx(ie,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(ie,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),i.jsx(ze,{open:!!e,onOpenChange:o=>{o||t(null)},children:i.jsx(De,{className:"max-w-md",children:e&&i.jsxs(i.Fragment,{children:[i.jsxs(Le,{children:[i.jsx($e,{children:e.planName}),i.jsx(Fe,{children:e.description})]}),i.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),i.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(yn,{className:"h-4 w-4 text-accent"}),o]},l))}),i.jsx(P,{asChild:!0,className:"mt-6 w-full",children:i.jsx(ie,{to:"/signup",children:"Get started"})})]})})})]})}function p5({feature:e,index:t}){const r=f5[e.iconName]??r1;return i.jsx(H,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:i.jsxs(ee,{children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:i.jsx(r,{className:"h-6 w-6"})}),i.jsx(ne,{className:"text-lg",children:e.name}),i.jsx(ge,{children:e.description})]})})}var Cu=e=>e.type==="checkbox",ya=e=>e instanceof Date,Mr=e=>e==null;const BN=e=>typeof e=="object";var Kt=e=>!Mr(e)&&!Array.isArray(e)&&BN(e)&&!ya(e),g5=e=>Kt(e)&&e.target?Cu(e.target)?e.target.checked:e.target.value:e,v5=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,y5=(e,t)=>e.has(v5(t)),x5=e=>{const t=e.constructor&&e.constructor.prototype;return Kt(t)&&t.hasOwnProperty("isPrototypeOf")},Iy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Jt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(Iy&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Kt(e)&&x5(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Jt(e[s]));return n}var Cf=e=>/^\w*$/.test(e),Nt=e=>e===void 0,My=e=>Array.isArray(e)?e.filter(Boolean):[],Dy=e=>My(e.replace(/["|']|\]/g,"").split(/\.|\[/)),me=(e,t,r)=>{if(!t||!Kt(e))return r;const n=(Cf(t)?[t]:Dy(t)).reduce((s,a)=>Mr(s)?s:s[a],e);return Nt(n)||n===e?Nt(e[t])?r:e[t]:n},ss=e=>typeof e=="boolean",zn=e=>typeof e=="function",ft=(e,t,r)=>{let n=-1;const s=Cf(t)?[t]:Dy(t),a=s.length,o=a-1;for(;++n<a;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Kt(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const Ab={BLUR:"blur",FOCUS_OUT:"focusout"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Cs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},w5=B.createContext(null);w5.displayName="HookFormControlContext";var b5=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(s,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Vn.all&&(t._proxyFormState[o]=!n||Vn.all),e[o]}});return s};const j5=typeof window<"u"?B.useLayoutEffect:B.useEffect;var Qr=e=>typeof e=="string",_5=(e,t,r,n,s)=>Qr(e)?(n&&t.watch.add(e),me(r,e,s)):Array.isArray(e)?e.map(a=>(n&&t.watch.add(a),me(r,a))):(n&&(t.watchAll=!0),r),Cg=e=>Mr(e)||!BN(e);function gi(e,t,r=new WeakSet){if(Cg(e)||Cg(t))return Object.is(e,t);if(ya(e)&&ya(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const a of n){const o=e[a];if(!s.includes(a))return!1;if(a!=="ref"){const l=t[a];if(ya(o)&&ya(l)||Kt(o)&&Kt(l)||Array.isArray(o)&&Array.isArray(l)?!gi(o,l,r):!Object.is(o,l))return!1}}return!0}const S5=B.createContext(null);S5.displayName="HookFormContext";var WN=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},_c=e=>Array.isArray(e)?e:[e],Ob=()=>{let e=[];return{get observers(){return e},next:s=>{for(const a of e)a.next&&a.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(a=>a!==s)}}),unsubscribe:()=>{e=[]}}};function qN(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],a=t[n];if(s&&Kt(s)&&a){const o=qN(s,a);Kt(o)&&(r[n]=o)}else e[n]&&(r[n]=a)}return r}var br=e=>Kt(e)&&!Object.keys(e).length,Ly=e=>e.type==="file",bh=e=>{if(!Iy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},HN=e=>e.type==="select-multiple",$y=e=>e.type==="radio",k5=e=>$y(e)||Cu(e),Tm=e=>bh(e)&&e.isConnected;function N5(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Nt(e)?n++:e[t[n++]];return e}function C5(e){for(const t in e)if(e.hasOwnProperty(t)&&!Nt(e[t]))return!1;return!0}function zt(e,t){const r=Array.isArray(t)?t:Cf(t)?[t]:Dy(t),n=r.length===1?e:N5(e,r),s=r.length-1,a=r[s];return n&&delete n[a],s!==0&&(Kt(n)&&br(n)||Array.isArray(n)&&C5(n))&&zt(e,r.slice(0,-1)),e}var E5=e=>{for(const t in e)if(zn(e[t]))return!0;return!1};function KN(e){return Array.isArray(e)||Kt(e)&&!E5(e)}function Eg(e,t={}){for(const r in e){const n=e[r];KN(n)?(t[r]=Array.isArray(n)?[]:{},Eg(n,t[r])):Nt(n)||(t[r]=!0)}return t}function yo(e,t,r){r||(r=Eg(t));for(const n in e){const s=e[n];if(KN(s))Nt(t)||Cg(r[n])?r[n]=Eg(s,Array.isArray(s)?[]:{}):yo(s,Mr(t)?{}:t[n],r[n]);else{const a=t[n];r[n]=!gi(s,a)}}return r}const Ib={value:!1,isValid:!1},Mb={value:!0,isValid:!0};var GN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Nt(e[0].attributes.value)?Nt(e[0].value)||e[0].value===""?Mb:{value:e[0].value,isValid:!0}:Mb:Ib}return Ib},QN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Nt(e)?e:t?e===""?NaN:e&&+e:r&&Qr(e)?new Date(e):n?n(e):e;const Db={isValid:!1,value:null};var YN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Db):Db;function Lb(e){const t=e.ref;return Ly(t)?t.files:$y(t)?YN(e.refs).value:HN(t)?[...t.selectedOptions].map(({value:r})=>r):Cu(t)?GN(e.refs).value:QN(Nt(t.value)?e.ref.value:t.value,e)}var P5=(e,t,r,n)=>{const s={};for(const a of e){const o=me(t,a);o&&ft(s,a,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},jh=e=>e instanceof RegExp,Xl=e=>Nt(e)?e:jh(e)?e.source:Kt(e)?jh(e.value)?e.value.source:e.value:e,$b=e=>({isOnSubmit:!e||e===Vn.onSubmit,isOnBlur:e===Vn.onBlur,isOnChange:e===Vn.onChange,isOnAll:e===Vn.all,isOnTouch:e===Vn.onTouched});const Fb="AsyncFunction";var R5=e=>!!e&&!!e.validate&&!!(zn(e.validate)&&e.validate.constructor.name===Fb||Kt(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Fb)),T5=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Ub=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Sc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const a=me(e,s);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Sc(l,t))break}else if(Kt(l)&&Sc(l,t))break}}};function zb(e,t,r){const n=me(e,r);if(n||Cf(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const a=s.join("."),o=me(t,a),l=me(e,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};s.pop()}return{name:r}}var A5=(e,t,r,n)=>{r(e);const{name:s,...a}=e;return br(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!n||Vn.all))},O5=(e,t,r)=>!e||!t||e===t||_c(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),I5=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,M5=(e,t)=>!My(me(e,t)).length&&zt(e,t),D5=(e,t,r)=>{const n=_c(me(e,r));return ft(n,"root",t[r]),ft(e,r,n),e};function Vb(e,t,r="validate"){if(Qr(e)||Array.isArray(e)&&e.every(Qr)||ss(e)&&!e)return{type:r,message:Qr(e)?e:"",ref:t}}var ho=e=>Kt(e)&&!jh(e)?e:{value:e,message:""},Bb=async(e,t,r,n,s,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:v,name:g,valueAsNumber:b,mount:y}=e._f,x=me(r,g);if(!y||t.has(g))return{};const w=l?l[0]:o,j=L=>{s&&w.reportValidity&&(w.setCustomValidity(ss(L)?"":L||""),w.reportValidity())},S={},_=$y(o),k=Cu(o),T=_||k,O=(b||Ly(o))&&Nt(o.value)&&Nt(x)||bh(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,M=WN.bind(null,g,n,S),W=(L,V,A,Y=Cs.maxLength,Z=Cs.minLength)=>{const se=L?V:A;S[g]={type:L?Y:Z,message:se,ref:o,...M(L?Y:Z,se)}};if(a?!Array.isArray(x)||!x.length:c&&(!T&&(O||Mr(x))||ss(x)&&!x||k&&!GN(l).isValid||_&&!YN(l).isValid)){const{value:L,message:V}=Qr(c)?{value:!!c,message:c}:ho(c);if(L&&(S[g]={type:Cs.required,message:V,ref:w,...M(Cs.required,V)},!n))return j(V),S}if(!O&&(!Mr(h)||!Mr(p))){let L,V;const A=ho(p),Y=ho(h);if(!Mr(x)&&!isNaN(x)){const Z=o.valueAsNumber||x&&+x;Mr(A.value)||(L=Z>A.value),Mr(Y.value)||(V=Z<Y.value)}else{const Z=o.valueAsDate||new Date(x),se=R=>new Date(new Date().toDateString()+" "+R),D=o.type=="time",N=o.type=="week";Qr(A.value)&&x&&(L=D?se(x)>se(A.value):N?x>A.value:Z>new Date(A.value)),Qr(Y.value)&&x&&(V=D?se(x)<se(Y.value):N?x<Y.value:Z<new Date(Y.value))}if((L||V)&&(W(!!L,A.message,Y.message,Cs.max,Cs.min),!n))return j(S[g].message),S}if((u||d)&&!O&&(Qr(x)||a&&Array.isArray(x))){const L=ho(u),V=ho(d),A=!Mr(L.value)&&x.length>+L.value,Y=!Mr(V.value)&&x.length<+V.value;if((A||Y)&&(W(A,L.message,V.message),!n))return j(S[g].message),S}if(f&&!O&&Qr(x)){const{value:L,message:V}=ho(f);if(jh(L)&&!x.match(L)&&(S[g]={type:Cs.pattern,message:V,ref:o,...M(Cs.pattern,V)},!n))return j(V),S}if(v){if(zn(v)){const L=await v(x,r),V=Vb(L,w);if(V&&(S[g]={...V,...M(Cs.validate,V.message)},!n))return j(V.message),S}else if(Kt(v)){let L={};for(const V in v){if(!br(L)&&!n)break;const A=Vb(await v[V](x,r),w,V);A&&(L={...A,...M(V,A.message)},j(A.message),n&&(S[g]=L))}if(!br(L)&&(S[g]={ref:w,...L},!n))return S}}return j(!0),S};const L5={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function $5(e={}){let t={...L5,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:zn(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Kt(t.defaultValues)||Kt(t.values)?Jt(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:Jt(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let p={...h};const f={array:Ob(),state:Ob()},v=t.criteriaMode===Vn.all,g=E=>I=>{clearTimeout(u),u=setTimeout(E,I)},b=async E=>{if(!o.keepIsValid&&!t.disabled&&(h.isValid||p.isValid||E)){let I;t.resolver?(I=br((await T()).errors),y()):I=await M(n,!0),I!==r.isValid&&f.state.next({isValid:I})}},y=(E,I)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((E||Array.from(l.mount)).forEach($=>{$&&(I?ft(r.validatingFields,$,I):zt(r.validatingFields,$))}),f.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},x=(E,I=[],$,oe,te=!0,q=!0)=>{if(oe&&$&&!t.disabled){if(o.action=!0,q&&Array.isArray(me(n,E))){const ye=$(me(n,E),oe.argA,oe.argB);te&&ft(n,E,ye)}if(q&&Array.isArray(me(r.errors,E))){const ye=$(me(r.errors,E),oe.argA,oe.argB);te&&ft(r.errors,E,ye),M5(r.errors,E)}if((h.touchedFields||p.touchedFields)&&q&&Array.isArray(me(r.touchedFields,E))){const ye=$(me(r.touchedFields,E),oe.argA,oe.argB);te&&ft(r.touchedFields,E,ye)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=yo(s,a)),f.state.next({name:E,isDirty:L(E,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ft(a,E,I)},w=(E,I)=>{ft(r.errors,E,I),f.state.next({errors:r.errors})},j=E=>{r.errors=E,f.state.next({errors:r.errors,isValid:!1})},S=(E,I,$,oe)=>{const te=me(n,E);if(te){const q=me(a,E,Nt($)?me(s,E):$);Nt(q)||oe&&oe.defaultChecked||I?ft(a,E,I?q:Lb(te._f)):Y(E,q),o.mount&&!o.action&&b()}},_=(E,I,$,oe,te)=>{let q=!1,ye=!1;const st={name:E};if(!t.disabled){if(!$||oe){(h.isDirty||p.isDirty)&&(ye=r.isDirty,r.isDirty=st.isDirty=L(),q=ye!==st.isDirty);const it=gi(me(s,E),I);ye=!!me(r.dirtyFields,E),it?zt(r.dirtyFields,E):ft(r.dirtyFields,E,!0),st.dirtyFields=r.dirtyFields,q=q||(h.dirtyFields||p.dirtyFields)&&ye!==!it}if($){const it=me(r.touchedFields,E);it||(ft(r.touchedFields,E,$),st.touchedFields=r.touchedFields,q=q||(h.touchedFields||p.touchedFields)&&it!==$)}q&&te&&f.state.next(st)}return q?st:{}},k=(E,I,$,oe)=>{const te=me(r.errors,E),q=(h.isValid||p.isValid)&&ss(I)&&r.isValid!==I;if(t.delayError&&$?(c=g(()=>w(E,$)),c(t.delayError)):(clearTimeout(u),c=null,$?ft(r.errors,E,$):zt(r.errors,E)),($?!gi(te,$):te)||!br(oe)||q){const ye={...oe,...q&&ss(I)?{isValid:I}:{},errors:r.errors,name:E};r={...r,...ye},f.state.next(ye)}},T=async E=>(y(E,!0),await t.resolver(a,t.context,P5(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),O=async E=>{const{errors:I}=await T(E);if(y(E),E)for(const $ of E){const oe=me(I,$);oe?ft(r.errors,$,oe):zt(r.errors,$)}else r.errors=I;return I},M=async(E,I,$={valid:!0})=>{for(const oe in E){const te=E[oe];if(te){const{_f:q,...ye}=te;if(q){const st=l.array.has(q.name),it=te._f&&R5(te._f);it&&h.validatingFields&&y([q.name],!0);const Ut=await Bb(te,l.disabled,a,v,t.shouldUseNativeValidation&&!I,st);if(it&&h.validatingFields&&y([q.name]),Ut[q.name]&&($.valid=!1,I||e.shouldUseNativeValidation))break;!I&&(me(Ut,q.name)?st?D5(r.errors,Ut,q.name):ft(r.errors,q.name,Ut[q.name]):zt(r.errors,q.name))}!br(ye)&&await M(ye,I,$)}}return $.valid},W=()=>{for(const E of l.unMount){const I=me(n,E);I&&(I._f.refs?I._f.refs.every($=>!Tm($)):!Tm(I._f.ref))&&Ge(E)}l.unMount=new Set},L=(E,I)=>!t.disabled&&(E&&I&&ft(a,E,I),!gi(ue(),s)),V=(E,I,$)=>_5(E,l,{...o.mount?a:Nt(I)?s:Qr(E)?{[E]:I}:I},$,I),A=E=>My(me(o.mount?a:s,E,t.shouldUnregister?me(s,E,[]):[])),Y=(E,I,$={})=>{const oe=me(n,E);let te=I;if(oe){const q=oe._f;q&&(!q.disabled&&ft(a,E,QN(I,q)),te=bh(q.ref)&&Mr(I)?"":I,HN(q.ref)?[...q.ref.options].forEach(ye=>ye.selected=te.includes(ye.value)):q.refs?Cu(q.ref)?q.refs.forEach(ye=>{(!ye.defaultChecked||!ye.disabled)&&(Array.isArray(te)?ye.checked=!!te.find(st=>st===ye.value):ye.checked=te===ye.value||!!te)}):q.refs.forEach(ye=>ye.checked=ye.value===te):Ly(q.ref)?q.ref.value="":(q.ref.value=te,q.ref.type||f.state.next({name:E,values:Jt(a)})))}($.shouldDirty||$.shouldTouch)&&_(E,te,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&R(E)},Z=(E,I,$)=>{for(const oe in I){if(!I.hasOwnProperty(oe))return;const te=I[oe],q=E+"."+oe,ye=me(n,q);(l.array.has(E)||Kt(te)||ye&&!ye._f)&&!ya(te)?Z(q,te,$):Y(q,te,$)}},se=(E,I,$={})=>{const oe=me(n,E),te=l.array.has(E),q=Jt(I);ft(a,E,q),te?(f.array.next({name:E,values:Jt(a)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&$.shouldDirty&&f.state.next({name:E,dirtyFields:yo(s,a),isDirty:L(E,q)})):oe&&!oe._f&&!Mr(q)?Z(E,q,$):Y(E,q,$),Ub(E,l)?f.state.next({...r,name:E,values:Jt(a)}):f.state.next({name:o.mount?E:void 0,values:Jt(a)})},D=async E=>{o.mount=!0;const I=E.target;let $=I.name,oe=!0;const te=me(n,$),q=it=>{oe=Number.isNaN(it)||ya(it)&&isNaN(it.getTime())||gi(it,me(a,$,it))},ye=$b(t.mode),st=$b(t.reValidateMode);if(te){let it,Ut;const ks=I.type?Lb(te._f):g5(E),Sn=E.type===Ab.BLUR||E.type===Ab.FOCUS_OUT,Ul=!T5(te._f)&&!t.resolver&&!me(r.errors,$)&&!te._f.deps||I5(Sn,me(r.touchedFields,$),r.isSubmitted,st,ye),es=Ub($,l,Sn);ft(a,$,ks),Sn?(!I||!I.readOnly)&&(te._f.onBlur&&te._f.onBlur(E),c&&c(0)):te._f.onChange&&te._f.onChange(E);const eo=_($,ks,Sn),Xs=!br(eo)||es;if(!Sn&&f.state.next({name:$,type:E.type,values:Jt(a)}),Ul)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?Sn&&b():Sn||b()),Xs&&f.state.next({name:$,...es?{}:eo});if(!Sn&&es&&f.state.next({...r}),t.resolver){const{errors:Ru}=await T([$]);if(y([$]),q(ks),oe){const Df=zb(r.errors,n,$),zl=zb(Ru,n,Df.name||$);it=zl.error,$=zl.name,Ut=br(Ru)}}else y([$],!0),it=(await Bb(te,l.disabled,a,v,t.shouldUseNativeValidation))[$],y([$]),q(ks),oe&&(it?Ut=!1:(h.isValid||p.isValid)&&(Ut=await M(n,!0)));oe&&(te._f.deps&&(!Array.isArray(te._f.deps)||te._f.deps.length>0)&&R(te._f.deps),k($,Ut,it,eo))}},N=(E,I)=>{if(me(r.errors,I)&&E.focus)return E.focus(),1},R=async(E,I={})=>{let $,oe;const te=_c(E);if(t.resolver){const q=await O(Nt(E)?E:te);$=br(q),oe=E?!te.some(ye=>me(q,ye)):$}else E?(oe=(await Promise.all(te.map(async q=>{const ye=me(n,q);return await M(ye&&ye._f?{[q]:ye}:ye)}))).every(Boolean),!(!oe&&!r.isValid)&&b()):oe=$=await M(n);return f.state.next({...!Qr(E)||(h.isValid||p.isValid)&&$!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:$}:{},errors:r.errors}),I.shouldFocus&&!oe&&Sc(n,N,E?te:l.mount),oe},ue=(E,I)=>{let $={...o.mount?a:s};return I&&($=qN(I.dirtyFields?r.dirtyFields:r.touchedFields,$)),Nt(E)?$:Qr(E)?me($,E):E.map(oe=>me($,oe))},he=(E,I)=>({invalid:!!me((I||r).errors,E),isDirty:!!me((I||r).dirtyFields,E),error:me((I||r).errors,E),isValidating:!!me(r.validatingFields,E),isTouched:!!me((I||r).touchedFields,E)}),Re=E=>{E&&_c(E).forEach(I=>zt(r.errors,I)),f.state.next({errors:E?r.errors:{}})},Ee=(E,I,$)=>{const oe=(me(n,E,{_f:{}})._f||{}).ref,te=me(r.errors,E)||{},{ref:q,message:ye,type:st,...it}=te;ft(r.errors,E,{...it,...I,ref:oe}),f.state.next({name:E,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&oe&&oe.focus&&oe.focus()},at=(E,I)=>zn(E)?f.state.subscribe({next:$=>"values"in $&&E(V(void 0,I),$)}):V(E,I,!0),nt=E=>f.state.subscribe({next:I=>{O5(E.name,I.name,E.exact)&&A5(I,E.formState||h,ta,E.reRenderRoot)&&E.callback({values:{...a},...r,...I,defaultValues:s})}}).unsubscribe,re=E=>(o.mount=!0,p={...p,...E.formState},nt({...E,formState:{...d,...E.formState}})),Ge=(E,I={})=>{for(const $ of E?_c(E):l.mount)l.mount.delete($),l.array.delete($),I.keepValue||(zt(n,$),zt(a,$)),!I.keepError&&zt(r.errors,$),!I.keepDirty&&zt(r.dirtyFields,$),!I.keepTouched&&zt(r.touchedFields,$),!I.keepIsValidating&&zt(r.validatingFields,$),!t.shouldUnregister&&!I.keepDefaultValue&&zt(s,$);f.state.next({values:Jt(a)}),f.state.next({...r,...I.keepDirty?{isDirty:L()}:{}}),!I.keepIsValid&&b()},Qe=({disabled:E,name:I})=>{if(ss(E)&&o.mount||E||l.disabled.has(I)){const te=l.disabled.has(I)!==!!E;E?l.disabled.add(I):l.disabled.delete(I),te&&o.mount&&!o.action&&b()}},Be=(E,I={})=>{let $=me(n,E);const oe=ss(I.disabled)||ss(t.disabled);return ft(n,E,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:E}},name:E,mount:!0,...I}}),l.mount.add(E),$?Qe({disabled:ss(I.disabled)?I.disabled:t.disabled,name:E}):S(E,!0,I.value),{...oe?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:Xl(I.min),max:Xl(I.max),minLength:Xl(I.minLength),maxLength:Xl(I.maxLength),pattern:Xl(I.pattern)}:{},name:E,onChange:D,onBlur:D,ref:te=>{if(te){Be(E,I),$=me(n,E);const q=Nt(te.value)&&te.querySelectorAll&&te.querySelectorAll("input,select,textarea")[0]||te,ye=k5(q),st=$._f.refs||[];if(ye?st.find(it=>it===q):q===$._f.ref)return;ft(n,E,{_f:{...$._f,...ye?{refs:[...st.filter(Tm),q,...Array.isArray(me(s,E))?[{}]:[]],ref:{type:q.type,name:E}}:{ref:q}}}),S(E,!1,void 0,q)}else $=me(n,E,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(y5(l.array,E)&&o.action)&&l.unMount.add(E)}}},We=()=>t.shouldFocusError&&Sc(n,N,l.mount),Ze=E=>{ss(E)&&(f.state.next({disabled:E}),Sc(n,(I,$)=>{const oe=me(n,$);oe&&(I.disabled=oe._f.disabled||E,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(te=>{te.disabled=oe._f.disabled||E}))},0,!1))},Yt=(E,I)=>async $=>{let oe;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let te=Jt(a);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:q,values:ye}=await T();y(),r.errors=q,te=Jt(ye)}else await M(n);if(l.disabled.size)for(const q of l.disabled)zt(te,q);if(zt(r.errors,"root"),br(r.errors)){f.state.next({errors:{}});try{await E(te,$)}catch(q){oe=q}}else I&&await I({...r.errors},$),We(),setTimeout(We);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},Tr=(E,I={})=>{me(n,E)&&(Nt(I.defaultValue)?se(E,Jt(me(s,E))):(se(E,I.defaultValue),ft(s,E,Jt(I.defaultValue))),I.keepTouched||zt(r.touchedFields,E),I.keepDirty||(zt(r.dirtyFields,E),r.isDirty=I.defaultValue?L(E,Jt(me(s,E))):L()),I.keepError||(zt(r.errors,E),h.isValid&&b()),f.state.next({...r}))},Xn=(E,I={})=>{const $=E?Jt(E):s,oe=Jt($),te=br(E),q=te?s:oe;if(I.keepDefaultValues||(s=$),!I.keepValues){if(I.keepDirtyValues){const ye=new Set([...l.mount,...Object.keys(yo(s,a))]);for(const st of Array.from(ye)){const it=me(r.dirtyFields,st),Ut=me(a,st),ks=me(q,st);it&&!Nt(Ut)?ft(q,st,Ut):!it&&!Nt(ks)&&se(st,ks)}}else{if(Iy&&Nt(E))for(const ye of l.mount){const st=me(n,ye);if(st&&st._f){const it=Array.isArray(st._f.refs)?st._f.refs[0]:st._f.ref;if(bh(it)){const Ut=it.closest("form");if(Ut){Ut.reset();break}}}}if(I.keepFieldsRef)for(const ye of l.mount)se(ye,me(q,ye));else n={}}a=t.shouldUnregister?I.keepDefaultValues?Jt(s):{}:Jt(q),f.array.next({values:{...q}}),f.state.next({values:{...q}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!I.keepIsValid||!!I.keepDirtyValues||!t.shouldUnregister&&!br(q),o.watch=!!t.shouldUnregister,o.keepIsValid=!!I.keepIsValid,o.action=!1,I.keepErrors||(r.errors={}),f.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:te?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!gi(E,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:te?{}:I.keepDirtyValues?I.keepDefaultValues&&a?yo(s,a):r.dirtyFields:I.keepDefaultValues&&E?yo(s,E):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},_n=(E,I)=>Xn(zn(E)?E(a):E,{...t.resetOptions,...I}),Ss=(E,I={})=>{const $=me(n,E),oe=$&&$._f;if(oe){const te=oe.refs?oe.refs[0]:oe.ref;te.focus&&setTimeout(()=>{te.focus(),I.shouldSelect&&zn(te.select)&&te.select()})}},ta=E=>{r={...r,...E}},Fl={control:{register:Be,unregister:Ge,getFieldState:he,handleSubmit:Yt,setError:Ee,_subscribe:nt,_runSchema:T,_updateIsValidating:y,_focusError:We,_getWatch:V,_getDirty:L,_setValid:b,_setFieldArray:x,_setDisabledField:Qe,_setErrors:j,_getFieldArray:A,_reset:Xn,_resetDefaultValues:()=>zn(t.defaultValues)&&t.defaultValues().then(E=>{_n(E,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:Ze,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:re,trigger:R,register:Be,handleSubmit:Yt,watch:at,setValue:se,getValues:ue,reset:_n,resetField:Tr,clearErrors:Re,unregister:Ge,setError:Ee,setFocus:Ss,getFieldState:he};return{...Fl,formControl:Fl}}function _t(e={}){const t=B.useRef(void 0),r=B.useRef(void 0),[n,s]=B.useState({isDirty:!1,isValidating:!1,isLoading:zn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:zn(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!zn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=$5(e);t.current={...l,formState:n}}const a=t.current.control;return a._options=e,j5(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),B.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),B.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),B.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),B.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),B.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),B.useEffect(()=>{var o;e.values&&!gi(e.values,r.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),r.current=e.values,s(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),B.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=B.useMemo(()=>b5(n,a),[a,n]),t.current}const Wb=(e,t,r)=>{if(e&&"reportValidity"in e){const n=me(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},JN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Wb(n.ref,r,e):n.refs&&n.refs.forEach(s=>Wb(s,r,e))}},F5=(e,t)=>{t.shouldUseNativeValidation&&JN(e,t);const r={};for(const n in e){const s=me(t.fields,n),a=Object.assign(e[n]||{},{ref:s&&s.ref});if(U5(t.names||Object.keys(e),n)){const o=Object.assign({},me(r,n));ft(o,"root",a),ft(r,n,o)}else ft(r,n,a)}return r},U5=(e,t)=>e.some(r=>r.startsWith(t+"."));var z5=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=WN(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},St=function(e,t,r){return r===void 0&&(r={}),function(n,s,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return a.shouldUseNativeValidation&&JN({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:F5(z5(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},rt;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const a={};for(const o of s)a[o]=o;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of a)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&a.push(o);return a},e.find=(s,a)=>{for(const o of s)if(a(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,a=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(rt||(rt={}));var qb;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(qb||(qb={}));const ve=rt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),hi=e=>{switch(typeof e){case"undefined":return ve.undefined;case"string":return ve.string;case"number":return Number.isNaN(e)?ve.nan:ve.number;case"boolean":return ve.boolean;case"function":return ve.function;case"bigint":return ve.bigint;case"symbol":return ve.symbol;case"object":return Array.isArray(e)?ve.array:e===null?ve.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ve.promise:typeof Map<"u"&&e instanceof Map?ve.map:typeof Set<"u"&&e instanceof Set?ve.set:typeof Date<"u"&&e instanceof Date?ve.date:ve.object;default:return ve.unknown}},X=rt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ks extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(a){return a.message},n={_errors:[]},s=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ks))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];r[a]=r[a]||[],r[a].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ks.create=e=>new Ks(e);const Pg=(e,t)=>{let r;switch(e.code){case X.invalid_type:e.received===ve.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case X.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,rt.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:r=`Unrecognized key(s) in object: ${rt.joinValues(e.keys,", ")}`;break;case X.invalid_union:r="Invalid input";break;case X.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${rt.joinValues(e.options)}`;break;case X.invalid_enum_value:r=`Invalid enum value. Expected ${rt.joinValues(e.options)}, received '${e.received}'`;break;case X.invalid_arguments:r="Invalid function arguments";break;case X.invalid_return_type:r="Invalid function return type";break;case X.invalid_date:r="Invalid date";break;case X.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:rt.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case X.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case X.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case X.custom:r="Invalid input";break;case X.invalid_intersection_types:r="Intersection results could not be merged";break;case X.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case X.not_finite:r="Number must be finite";break;default:r=t.defaultError,rt.assertNever(e)}return{message:r}};let V5=Pg;function B5(){return V5}const W5=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,a=[...r,...s.path||[]],o={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:a,message:l}};function le(e,t){const r=B5(),n=W5({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===Pg?void 0:Pg].filter(s=>!!s)});e.common.issues.push(n)}class tn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Te;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const a=await s.key,o=await s.value;n.push({key:a,value:o})}return tn.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:a,value:o}=s;if(a.status==="aborted"||o.status==="aborted")return Te;a.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[a.value]=o.value)}return{status:t.value,value:n}}}const Te=Object.freeze({status:"aborted"}),uc=e=>({status:"dirty",value:e}),bn=e=>({status:"valid",value:e}),Hb=e=>e.status==="aborted",Kb=e=>e.status==="dirty",gl=e=>e.status==="valid",_h=e=>typeof Promise<"u"&&e instanceof Promise;var xe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(xe||(xe={}));class qi{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Gb=(e,t)=>{if(gl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ks(e.common.issues);return this._error=r,this._error}}};function qe(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class et{get description(){return this._def.description}_getType(t){return hi(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new tn,ctx:{common:t.parent.common,data:t.data,parsedType:hi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(_h(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hi(t)},s=this._parseSync({data:t,path:n.path,parent:n});return Gb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hi(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:r});return gl(a)?{value:a.value}:{issues:r.common.issues}}catch(a){(s=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(a=>gl(a)?{value:a.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:hi(t)},s=this._parse({data:t,path:n.path,parent:n}),a=await(_h(s)?s:Promise.resolve(s));return Gb(n,a)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,a)=>{const o=t(s),l=()=>a.addIssue({code:X.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new xl({schema:this,typeName:Ae.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ui.create(this,this._def)}nullable(){return wl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ps.create(this)}promise(){return Ch.create(this,this._def)}or(t){return kh.create([this,t],this._def)}and(t){return Nh.create(this,t,this._def)}transform(t){return new xl({...qe(this._def),schema:this,typeName:Ae.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new Ag({...qe(this._def),innerType:this,defaultValue:r,typeName:Ae.ZodDefault})}brand(){return new fU({typeName:Ae.ZodBranded,type:this,...qe(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Og({...qe(this._def),innerType:this,catchValue:r,typeName:Ae.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return Fy.create(this,t)}readonly(){return Ig.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const q5=/^c[^\s-]{8,}$/i,H5=/^[0-9a-z]+$/,K5=/^[0-9A-HJKMNP-TV-Z]{26}$/i,G5=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Q5=/^[a-z0-9_-]{21}$/i,Y5=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,J5=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Z5=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,X5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Am;const eU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,ZN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",aU=new RegExp(`^${ZN}$`);function XN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function oU(e){return new RegExp(`^${XN(e)}$`)}function lU(e){let t=`${ZN}T${XN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function cU(e,t){return!!((t==="v4"||!t)&&eU.test(e)||(t==="v6"||!t)&&rU.test(e))}function uU(e,t){if(!Y5.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function dU(e,t){return!!((t==="v4"||!t)&&tU.test(e)||(t==="v6"||!t)&&nU.test(e))}class $s extends et{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ve.string){const a=this._getOrReturnCtx(t);return le(a,{code:X.invalid_type,expected:ve.string,received:a.parsedType}),Te}const n=new tn;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=t.data.length>a.value,l=t.data.length<a.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?le(s,{code:X.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&le(s,{code:X.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")Z5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"email",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Am||(Am=new RegExp(X5,"u")),Am.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"emoji",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")G5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"uuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")Q5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"nanoid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")q5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cuid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")H5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cuid2",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")K5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"ulid",code:X.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),le(s,{validation:"url",code:X.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"regex",code:X.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?lU(a).test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?aU.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?oU(a).test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{code:X.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?J5.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"duration",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?cU(t.data,a.version)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"ip",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?uU(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"jwt",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?dU(t.data,a.version)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"cidr",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?sU.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"base64",code:X.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?iU.test(t.data)||(s=this._getOrReturnCtx(t,s),le(s,{validation:"base64url",code:X.invalid_string,message:a.message}),n.dirty()):rt.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:X.invalid_string,...xe.errToObj(n)})}_addCheck(t){return new $s({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...xe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...xe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...xe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...xe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...xe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...xe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...xe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...xe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...xe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...xe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...xe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...xe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...xe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...xe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...xe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...xe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...xe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...xe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...xe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...xe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...xe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...xe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...xe.errToObj(r)})}nonempty(t){return this.min(1,xe.errToObj(t))}trim(){return new $s({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new $s({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new $s({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}$s.create=e=>new $s({checks:[],typeName:Ae.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});function hU(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,a=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return a%o/10**s}class Va extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ve.number){const a=this._getOrReturnCtx(t);return le(a,{code:X.invalid_type,expected:ve.number,received:a.parsedType}),Te}let n;const s=new tn;for(const a of this._def.checks)a.kind==="int"?rt.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),le(n,{code:X.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?hU(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),le(n,{code:X.not_finite,message:a.message}),s.dirty()):rt.assertNever(a);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,xe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xe.toString(r))}setLimit(t,r,n,s){return new Va({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xe.toString(s)}]})}_addCheck(t){return new Va({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:xe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:xe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:xe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:xe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:xe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rt.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Va.create=e=>new Va({checks:[],typeName:Ae.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class Ba extends et{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ve.bigint)return this._getInvalidInput(t);let n;const s=new tn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),le(n,{code:X.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):rt.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return le(r,{code:X.invalid_type,expected:ve.bigint,received:r.parsedType}),Te}gte(t,r){return this.setLimit("min",t,!0,xe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,xe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,xe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,xe.toString(r))}setLimit(t,r,n,s){return new Ba({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:xe.toString(s)}]})}_addCheck(t){return new Ba({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:xe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:xe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:xe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ba.create=e=>new Ba({checks:[],typeName:Ae.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...qe(e)});class Sh extends et{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ve.boolean){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.boolean,received:n.parsedType}),Te}return bn(t.data)}}Sh.create=e=>new Sh({typeName:Ae.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qe(e)});class vl extends et{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ve.date){const a=this._getOrReturnCtx(t);return le(a,{code:X.invalid_type,expected:ve.date,received:a.parsedType}),Te}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return le(a,{code:X.invalid_date}),Te}const n=new tn;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:X.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),le(s,{code:X.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):rt.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:xe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:xe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}vl.create=e=>new vl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ae.ZodDate,...qe(e)});class Qb extends et{_parse(t){if(this._getType(t)!==ve.symbol){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.symbol,received:n.parsedType}),Te}return bn(t.data)}}Qb.create=e=>new Qb({typeName:Ae.ZodSymbol,...qe(e)});class Yb extends et{_parse(t){if(this._getType(t)!==ve.undefined){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.undefined,received:n.parsedType}),Te}return bn(t.data)}}Yb.create=e=>new Yb({typeName:Ae.ZodUndefined,...qe(e)});class Jb extends et{_parse(t){if(this._getType(t)!==ve.null){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.null,received:n.parsedType}),Te}return bn(t.data)}}Jb.create=e=>new Jb({typeName:Ae.ZodNull,...qe(e)});class Zb extends et{constructor(){super(...arguments),this._any=!0}_parse(t){return bn(t.data)}}Zb.create=e=>new Zb({typeName:Ae.ZodAny,...qe(e)});class Xb extends et{constructor(){super(...arguments),this._unknown=!0}_parse(t){return bn(t.data)}}Xb.create=e=>new Xb({typeName:Ae.ZodUnknown,...qe(e)});class Hi extends et{_parse(t){const r=this._getOrReturnCtx(t);return le(r,{code:X.invalid_type,expected:ve.never,received:r.parsedType}),Te}}Hi.create=e=>new Hi({typeName:Ae.ZodNever,...qe(e)});class e0 extends et{_parse(t){if(this._getType(t)!==ve.undefined){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.void,received:n.parsedType}),Te}return bn(t.data)}}e0.create=e=>new e0({typeName:Ae.ZodVoid,...qe(e)});class ps extends et{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==ve.array)return le(r,{code:X.invalid_type,expected:ve.array,received:r.parsedType}),Te;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(le(r,{code:o?X.too_big:X.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(le(r,{code:X.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(le(r,{code:X.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new qi(r,o,r.path,l)))).then(o=>tn.mergeArray(n,o));const a=[...r.data].map((o,l)=>s.type._parseSync(new qi(r,o,r.path,l)));return tn.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new ps({...this._def,minLength:{value:t,message:xe.toString(r)}})}max(t,r){return new ps({...this._def,maxLength:{value:t,message:xe.toString(r)}})}length(t,r){return new ps({...this._def,exactLength:{value:t,message:xe.toString(r)}})}nonempty(t){return this.min(1,t)}}ps.create=(e,t)=>new ps({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ae.ZodArray,...qe(t)});function xo(e){if(e instanceof Bt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ui.create(xo(n))}return new Bt({...e._def,shape:()=>t})}else return e instanceof ps?new ps({...e._def,type:xo(e.element)}):e instanceof Ui?Ui.create(xo(e.unwrap())):e instanceof wl?wl.create(xo(e.unwrap())):e instanceof Wa?Wa.create(e.items.map(t=>xo(t))):e}class Bt extends et{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=rt.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ve.object){const u=this._getOrReturnCtx(t);return le(u,{code:X.invalid_type,expected:ve.object,received:u.parsedType}),Te}const{status:n,ctx:s}=this._processInputParams(t),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Hi&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new qi(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Hi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(le(s,{code:X.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new qi(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>tn.mergeObjectSync(n,u)):tn.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return xe.errToObj,new Bt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var a,o;const s=((o=(a=this._def).errorMap)==null?void 0:o.call(a,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:xe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Bt({...this._def,unknownKeys:"strip"})}passthrough(){return new Bt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Bt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Bt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ae.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Bt({...this._def,catchall:t})}pick(t){const r={};for(const n of rt.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Bt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of rt.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Bt({...this._def,shape:()=>r})}deepPartial(){return xo(this)}partial(t){const r={};for(const n of rt.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Bt({...this._def,shape:()=>r})}required(t){const r={};for(const n of rt.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Ui;)a=a._def.innerType;r[n]=a}return new Bt({...this._def,shape:()=>r})}keyof(){return eC(rt.objectKeys(this.shape))}}Bt.create=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strip",catchall:Hi.create(),typeName:Ae.ZodObject,...qe(t)});Bt.strictCreate=(e,t)=>new Bt({shape:()=>e,unknownKeys:"strict",catchall:Hi.create(),typeName:Ae.ZodObject,...qe(t)});Bt.lazycreate=(e,t)=>new Bt({shape:e,unknownKeys:"strip",catchall:Hi.create(),typeName:Ae.ZodObject,...qe(t)});class kh extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ks(l.ctx.common.issues));return le(r,{code:X.invalid_union,unionErrors:o}),Te}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ks(c));return le(r,{code:X.invalid_union,unionErrors:l}),Te}}get options(){return this._def.options}}kh.create=(e,t)=>new kh({options:e,typeName:Ae.ZodUnion,...qe(t)});function Rg(e,t){const r=hi(e),n=hi(t);if(e===t)return{valid:!0,data:e};if(r===ve.object&&n===ve.object){const s=rt.objectKeys(t),a=rt.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of a){const c=Rg(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ve.array&&n===ve.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const o=e[a],l=t[a],c=Rg(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===ve.date&&n===ve.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Nh extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(a,o)=>{if(Hb(a)||Hb(o))return Te;const l=Rg(a.value,o.value);return l.valid?((Kb(a)||Kb(o))&&r.dirty(),{status:r.value,value:l.data}):(le(n,{code:X.invalid_intersection_types}),Te)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>s(a,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Nh.create=(e,t,r)=>new Nh({left:e,right:t,typeName:Ae.ZodIntersection,...qe(r)});class Wa extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.array)return le(n,{code:X.invalid_type,expected:ve.array,received:n.parsedType}),Te;if(n.data.length<this._def.items.length)return le(n,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Te;!this._def.rest&&n.data.length>this._def.items.length&&(le(n,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new qi(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>tn.mergeArray(r,o)):tn.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new Wa({...this._def,rest:t})}}Wa.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Wa({items:e,typeName:Ae.ZodTuple,rest:null,...qe(t)})};class t0 extends et{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.map)return le(n,{code:X.invalid_type,expected:ve.map,received:n.parsedType}),Te;const s=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new qi(n,l,n.path,[u,"key"])),value:a._parse(new qi(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Te;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}t0.create=(e,t,r)=>new t0({valueType:t,keyType:e,typeName:Ae.ZodMap,...qe(r)});class iu extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ve.set)return le(n,{code:X.invalid_type,expected:ve.set,received:n.parsedType}),Te;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(le(n,{code:X.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(le(n,{code:X.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Te;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new qi(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new iu({...this._def,minSize:{value:t,message:xe.toString(r)}})}max(t,r){return new iu({...this._def,maxSize:{value:t,message:xe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}iu.create=(e,t)=>new iu({valueType:e,minSize:null,maxSize:null,typeName:Ae.ZodSet,...qe(t)});class r0 extends et{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}r0.create=(e,t)=>new r0({getter:e,typeName:Ae.ZodLazy,...qe(t)});class Tg extends et{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return le(r,{received:r.data,code:X.invalid_literal,expected:this._def.value}),Te}return{status:"valid",value:t.data}}get value(){return this._def.value}}Tg.create=(e,t)=>new Tg({value:e,typeName:Ae.ZodLiteral,...qe(t)});function eC(e,t){return new yl({values:e,typeName:Ae.ZodEnum,...qe(t)})}class yl extends et{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return le(r,{expected:rt.joinValues(n),received:r.parsedType,code:X.invalid_type}),Te}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return le(r,{received:r.data,code:X.invalid_enum_value,options:n}),Te}return bn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return yl.create(t,{...this._def,...r})}exclude(t,r=this._def){return yl.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}yl.create=eC;class n0 extends et{_parse(t){const r=rt.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ve.string&&n.parsedType!==ve.number){const s=rt.objectValues(r);return le(n,{expected:rt.joinValues(s),received:n.parsedType,code:X.invalid_type}),Te}if(this._cache||(this._cache=new Set(rt.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=rt.objectValues(r);return le(n,{received:n.data,code:X.invalid_enum_value,options:s}),Te}return bn(t.data)}get enum(){return this._def.values}}n0.create=(e,t)=>new n0({values:e,typeName:Ae.ZodNativeEnum,...qe(t)});class Ch extends et{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ve.promise&&r.common.async===!1)return le(r,{code:X.invalid_type,expected:ve.promise,received:r.parsedType}),Te;const n=r.parsedType===ve.promise?r.data:Promise.resolve(r.data);return bn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Ch.create=(e,t)=>new Ch({type:e,typeName:Ae.ZodPromise,...qe(t)});class xl extends et{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ae.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:o=>{le(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const o=s.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Te;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Te:c.status==="dirty"||r.value==="dirty"?uc(c.value):c});{if(r.value==="aborted")return Te;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Te:l.status==="dirty"||r.value==="dirty"?uc(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Te:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Te:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!gl(o))return Te;const l=s.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>gl(o)?Promise.resolve(s.transform(o.value,a)).then(l=>({status:r.value,value:l})):Te);rt.assertNever(s)}}xl.create=(e,t,r)=>new xl({schema:e,typeName:Ae.ZodEffects,effect:t,...qe(r)});xl.createWithPreprocess=(e,t,r)=>new xl({schema:t,effect:{type:"preprocess",transform:e},typeName:Ae.ZodEffects,...qe(r)});class Ui extends et{_parse(t){return this._getType(t)===ve.undefined?bn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ui.create=(e,t)=>new Ui({innerType:e,typeName:Ae.ZodOptional,...qe(t)});class wl extends et{_parse(t){return this._getType(t)===ve.null?bn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}wl.create=(e,t)=>new wl({innerType:e,typeName:Ae.ZodNullable,...qe(t)});class Ag extends et{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ve.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Ag.create=(e,t)=>new Ag({innerType:e,typeName:Ae.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qe(t)});class Og extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return _h(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ks(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ks(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Og.create=(e,t)=>new Og({innerType:e,typeName:Ae.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qe(t)});class s0 extends et{_parse(t){if(this._getType(t)!==ve.nan){const n=this._getOrReturnCtx(t);return le(n,{code:X.invalid_type,expected:ve.nan,received:n.parsedType}),Te}return{status:"valid",value:t.data}}}s0.create=e=>new s0({typeName:Ae.ZodNaN,...qe(e)});class fU extends et{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class Fy extends et{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Te:a.status==="dirty"?(r.dirty(),uc(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Te:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new Fy({in:t,out:r,typeName:Ae.ZodPipeline})}}class Ig extends et{_parse(t){const r=this._def.innerType._parse(t),n=s=>(gl(s)&&(s.value=Object.freeze(s.value)),s);return _h(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}Ig.create=(e,t)=>new Ig({innerType:e,typeName:Ae.ZodReadonly,...qe(t)});var Ae;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ae||(Ae={}));const Ce=$s.create;Va.create;Ba.create;const Za=Sh.create;vl.create;Hi.create;ps.create;const kt=Bt.create;kh.create;Nh.create;Wa.create;const mU=Tg.create,Nr=yl.create;Ch.create;Ui.create;wl.create;const Eh={string:e=>$s.create({...e,coerce:!0}),number:e=>Va.create({...e,coerce:!0}),boolean:e=>Sh.create({...e,coerce:!0}),bigint:e=>Ba.create({...e,coerce:!0}),date:e=>vl.create({...e,coerce:!0})};var pU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gU=pU.reduce((e,t)=>{const r=bu(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),vU="Label",tC=m.forwardRef((e,t)=>i.jsx(gU.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));tC.displayName=vU;var rC=tC;const yU=cy("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=m.forwardRef(({className:e,...t},r)=>i.jsx(rC,{ref:r,className:z(yU(),e),...t}));G.displayName=rC.displayName;var Ef="Tabs",[xU]=ws(Ef,[_f]),nC=_f(),[wU,Uy]=xU(Ef),sC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ju(l),[h,p]=Fa({prop:n,onChange:s,defaultProp:a??"",caller:Ef});return i.jsx(wU,{scope:r,baseId:fs(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:i.jsx(Pe.div,{dir:d,"data-orientation":o,...u,ref:t})})});sC.displayName=Ef;var iC="TabsList",aC=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,a=Uy(iC,r),o=nC(r);return i.jsx(Kk,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:i.jsx(Pe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:t})})});aC.displayName=iC;var oC="TabsTrigger",lC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...a}=e,o=Uy(oC,r),l=nC(r),c=dC(o.baseId,n),u=hC(o.baseId,n),d=n===o.value;return i.jsx(Gk,{asChild:!0,...l,focusable:!s,active:d,children:i.jsx(Pe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...a,ref:t,onMouseDown:de(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:de(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:de(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});lC.displayName=oC;var cC="TabsContent",uC=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:a,...o}=e,l=Uy(cC,r),c=dC(l.baseId,n),u=hC(l.baseId,n),d=n===l.value,h=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),i.jsx(an,{present:s||d,children:({present:p})=>i.jsx(Pe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&a})})});uC.displayName=cC;function dC(e,t){return`${e}-trigger-${t}`}function hC(e,t){return`${e}-content-${t}`}var bU=sC,fC=aC,mC=lC,pC=uC;const Ml=bU,Xa=m.forwardRef(({className:e,...t},r)=>i.jsx(fC,{ref:r,className:z("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Xa.displayName=fC.displayName;const qt=m.forwardRef(({className:e,...t},r)=>i.jsx(mC,{ref:r,className:z("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qt.displayName=mC.displayName;const Ht=m.forwardRef(({className:e,...t},r)=>i.jsx(pC,{ref:r,className:z("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ht.displayName=pC.displayName;const jU=kt({email:Ce().email("Invalid email"),password:Ce().min(1,"Password required")});function _U(){const e=Ji(),[t]=mT(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:a,isSubmitting:o}}=_t({resolver:St(jU)}),l=async u=>{const d=await tI(u.email,u.password);d.success?(U.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):U.error("Sign in failed",{description:d.error})},c=async u=>{const d=await iI(u,{redirectTo:r});d.success||U.error("Sign in failed",{description:d.error})};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(H,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Sign in"}),i.jsx(ge,{children:"Choose local-only or cloud-linked mode."})]}),i.jsx(K,{children:i.jsxs(Ml,{defaultValue:"cloud",className:"w-full",children:[i.jsxs(Xa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[i.jsx(qt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),i.jsx(qt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),i.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),i.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:i.jsx(ie,{to:"/dashboard",children:"Open Local UI"})})]}),i.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[i.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(je,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!a.email}),a.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password",children:"Password"}),i.jsx(je,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!a.password}),a.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.password.message})]}),i.jsx("div",{className:"flex items-center justify-between text-sm",children:i.jsx(ie,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),i.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t border-border"})}),i.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[i.jsx(TI,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),i.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",i.jsx(ie,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const SU=kt({email:Ce().email("Invalid email"),password:Ce().min(8,"At least 8 characters"),confirmPassword:Ce()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function kU(){const e=Ji(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=_t({resolver:St(SU)}),a=async o=>{const l=await aI(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(U.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(U.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):U.error("Sign up failed",{description:l.error})};return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(H,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Create account"}),i.jsx(ge,{children:"Choose local-only or sign up for cloud-linked mode."})]}),i.jsx(K,{children:i.jsxs(Ml,{defaultValue:"cloud",className:"w-full",children:[i.jsxs(Xa,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[i.jsx(qt,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),i.jsx(qt,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),i.jsxs(Ht,{value:"local",className:"space-y-4 pt-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),i.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:i.jsx(ie,{to:"/dashboard",children:"Open Local UI"})})]}),i.jsxs(Ht,{value:"cloud",className:"space-y-4 pt-4",children:[i.jsxs("form",{onSubmit:r(a),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"email",children:"Email"}),i.jsx(je,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password",children:"Password"}),i.jsx(je,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"confirmPassword",children:"Confirm password"}),i.jsx(je,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),i.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?i.jsxs(i.Fragment,{children:[i.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",i.jsx(ie,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const i0={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function NU(e){if(!e||e.length===0)return{level:"empty",score:0,label:i0.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),a=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:i0[l],minLength:a,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function CU(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const EU=kt({email:Ce().min(1,"Email is required").email("Enter a valid email address")}),PU=kt({password:Ce().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:Ce().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function RU(){const[e,t]=m.useState("email"),[r,n]=m.useState(!0),s=_t({resolver:St(EU),defaultValues:{email:""}}),a=_t({resolver:St(PU),defaultValues:{password:"",confirmPassword:""}}),o=a.watch("password",""),l=NU(o);m.useEffect(()=>{if(!cI()){n(!1);return}F.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const h=await oI(d.email,"/forgot-password");h.success?(t("email_sent"),U.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):U.error("Could not send reset link",{description:h.error})},u=async d=>{const h=await lI(d.password);h.success?(t("success"),U.success("Password updated",{description:"You can now sign in with your new password."}),await F.auth.signOut()):U.error("Could not update password",{description:h.error})};return r?i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs(ie,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[i.jsx(ch,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),i.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:i.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[i.jsxs(ie,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[i.jsx(ch,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),i.jsx(ie,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:i.jsxs(H,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(ee,{className:"space-y-1",children:[i.jsx(ne,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),i.jsxs(ge,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),i.jsxs(K,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&i.jsx(i.Fragment,{children:e==="email"?i.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"password-reset-email",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(ul,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(je,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),i.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):i.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[i.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),i.jsx(P,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&i.jsxs("form",{onSubmit:a.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"new-password",children:"New password"}),i.jsxs("div",{className:"relative",children:[i.jsx(ey,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(je,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...a.register("password"),"aria-invalid":!!a.formState.errors.password})]}),o.length>0&&i.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs",children:[i.jsx("span",{className:"text-muted-foreground",children:"Strength"}),i.jsx("span",{className:z(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),i.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:i.jsx("div",{className:z("h-full rounded-full transition-all duration-300",CU(l.level)),style:{width:`${l.score*25}%`}})})]}),a.formState.errors.password&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.formState.errors.password.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"confirm-password",children:"Confirm password"}),i.jsx(je,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...a.register("confirmPassword"),"aria-invalid":!!a.formState.errors.confirmPassword}),a.formState.errors.confirmPassword&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:a.formState.errors.confirmPassword.message})]}),i.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:a.formState.isSubmitting,children:a.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&i.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"rounded-full bg-success/15 p-3",children:i.jsx(Jc,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),i.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:i.jsx(ie,{to:"/login",children:"Sign in"})})]}),e!=="success"&&i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:i.jsx(ie,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),i.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:i.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:i.jsxs(ie,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[i.jsx(sf,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const TU=kt({token:Ce().min(1,"Enter the verification code from your email")});function AU(){const e=Ji(),[t,r]=m.useState("checking"),[n,s]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(null),u=_t({resolver:St(TU),defaultValues:{token:""}});m.useEffect(()=>{let f=!1;async function v(){const g=dI();if(g){const x=await Kw(g);f||(x.success?(r("verified"),U.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):U.error("Verification failed",{description:x.error}));return}const b=await hI();if(f)return;if(b){r("verified");return}const{data:{user:y}}=await F.auth.getUser();f||(y!=null&&y.email&&c(y.email),r("pending"))}return v(),()=>{f=!0}},[]);const d=async f=>{const v=await Kw(f.token);v.success?(r("verified"),u.reset(),U.success("Email verified",{description:"Your email has been confirmed."})):U.error("Verification failed",{description:v.error})},h=async()=>{o(!0);const f=await uI();o(!1),s(!1),f.success?U.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):U.error("Could not resend email",{description:f.error})},p=()=>{e("/dashboard",{replace:!0})};return t==="checking"?i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs(ie,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[i.jsx(ch,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),i.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:i.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[i.jsx(Zr,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),i.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:i.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[i.jsxs(ie,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[i.jsx(ch,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),i.jsx(ie,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:i.jsxs(H,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(ee,{className:"space-y-1",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-xl font-semibold",children:[i.jsx(ul,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),i.jsxs(ge,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?i.jsxs(i.Fragment,{children:[i.jsx(BS,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):i.jsxs(i.Fragment,{children:[i.jsx(ul,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?i.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),i.jsx(P,{onClick:p,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),i.jsx(P,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:i.jsx(ie,{to:"/profile",children:"Go to profile"})})]}):i.jsxs(i.Fragment,{children:[i.jsx(P,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),i.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"verify-token",children:"Or enter code manually"}),i.jsxs("div",{className:"relative",children:[i.jsx(Zv,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),i.jsx(je,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&i.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),i.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?i.jsxs(i.Fragment,{children:[i.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xc,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),i.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:i.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:i.jsxs(ie,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[i.jsx(sf,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),i.jsx(ze,{open:n,onOpenChange:s,children:i.jsxs(De,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Resend verification email"}),i.jsx(Fe,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:a,children:"Cancel"}),i.jsx(P,{type:"button",onClick:h,disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(Zr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function pe({className:e,...t}){return i.jsx("div",{className:z("animate-pulse rounded-md bg-muted",e),...t})}function gC(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Pf="Switch",[OU]=ws(Pf),[IU,MU]=OU(Pf),vC=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=m.useState(null),v=Je(t,w=>f(w)),g=m.useRef(!1),b=p?d||!!p.closest("form"):!0,[y,x]=Fa({prop:s,defaultProp:a??!1,onChange:u,caller:Pf});return i.jsxs(IU,{scope:r,checked:y,disabled:l,children:[i.jsx(Pe.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":bC(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:de(e.onClick,w=>{x(j=>!j),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&i.jsx(wC,{control:p,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});vC.displayName=Pf;var yC="SwitchThumb",xC=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=MU(yC,r);return i.jsx(Pe.span,{"data-state":bC(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});xC.displayName=yC;var DU="SwitchBubbleInput",wC=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},a)=>{const o=m.useRef(null),l=Je(o,a),c=gC(r),u=Ek(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});wC.displayName=DU;function bC(e){return e?"checked":"unchecked"}var jC=vC,LU=xC;const on=m.forwardRef(({className:e,...t},r)=>i.jsx(jC,{className:z("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:i.jsx(LU,{className:z("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));on.displayName=jC.displayName;const $U="http://localhost:3000/api";async function ec(e,t={}){const r=`${$U}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const a=await fetch(r,{...t,headers:n});if(!a.ok)throw a.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${a.status}`);const o=await a.text();if(o)return JSON.parse(o)}const ce={get:e=>ec(e),post:(e,t)=>ec(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>ec(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>ec(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>ec(e,{method:"DELETE"})},Rn="/profile",Jn={getProfile:()=>ce.get(`${Rn}`),updateProfile:e=>ce.patch(`${Rn}`,e),getOAuthAccounts:()=>ce.get(`${Rn}/oauth-accounts`),unlinkOAuthAccount:e=>ce.delete(`${Rn}/oauth-accounts/${e}`),getDeviceSessions:()=>ce.get(`${Rn}/sessions`),revokeSession:e=>ce.delete(`${Rn}/sessions/${e}`),getApiKeys:()=>ce.get(`${Rn}/api-keys`),createApiKey:e=>ce.post(`${Rn}/api-keys`,e),revokeApiKey:e=>ce.delete(`${Rn}/api-keys/${e}`),getSecuritySettings:()=>ce.get(`${Rn}/security-settings`),updateSecuritySettings:e=>ce.patch(`${Rn}/security-settings`,e)},yr={all:["profile"],profile:()=>[...yr.all,"detail"],oauthAccounts:()=>[...yr.all,"oauth-accounts"],sessions:()=>[...yr.all,"sessions"],apiKeys:()=>[...yr.all,"api-keys"],securitySettings:()=>[...yr.all,"security-settings"]};function Eu(e,t){return e().catch(()=>t)}function Rf(){return Oe({queryKey:yr.profile(),queryFn:()=>Eu(Jn.getProfile,null)})}function FU(){const e=_e();return Se({mutationFn:t=>Jn.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.profile()}),U.success("Profile updated")},onError:t=>{U.error(t.message||"Failed to update profile")}})}function UU(){return Oe({queryKey:yr.oauthAccounts(),queryFn:()=>Eu(Jn.getOAuthAccounts,[])})}function zU(){const e=_e();return Se({mutationFn:t=>Jn.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.oauthAccounts()}),U.success("Account unlinked")},onError:t=>{U.error(t.message||"Failed to unlink account")}})}function VU(){return Oe({queryKey:yr.sessions(),queryFn:()=>Eu(Jn.getDeviceSessions,[])})}function BU(){const e=_e();return Se({mutationFn:t=>Jn.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.sessions()}),U.success("Session revoked")},onError:t=>{U.error(t.message||"Failed to revoke session")}})}function WU(){return Oe({queryKey:yr.apiKeys(),queryFn:()=>Eu(Jn.getApiKeys,[])})}function qU(){const e=_e();return Se({mutationFn:t=>Jn.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.apiKeys()}),U.success("API key created")},onError:t=>{U.error(t.message||"Failed to create API key")}})}function HU(){const e=_e();return Se({mutationFn:t=>Jn.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.apiKeys()}),U.success("API key revoked")},onError:t=>{U.error(t.message||"Failed to revoke API key")}})}function _C(){return Oe({queryKey:yr.securitySettings(),queryFn:()=>Eu(Jn.getSecuritySettings,null)})}function SC(){const e=_e();return Se({mutationFn:t=>Jn.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.securitySettings()}),U.success("Security settings updated")},onError:t=>{U.error(t.message||"Failed to update security settings")}})}function mt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ki(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const kC=6048e5,KU=864e5,dd=43200,a0=1440;let GU={};function Pu(){return GU}function au(e,t){var l,c,u,d;const r=Pu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=mt(e),a=s.getDay(),o=(a<n?7:0)+a-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Ph(e){return au(e,{weekStartsOn:1})}function NC(e){const t=mt(e),r=t.getFullYear(),n=Ki(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Ph(n),a=Ki(e,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Ph(a);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function o0(e){const t=mt(e);return t.setHours(0,0,0,0),t}function Rh(e){const t=mt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function QU(e,t){const r=o0(e),n=o0(t),s=+r-Rh(r),a=+n-Rh(n);return Math.round((s-a)/KU)}function YU(e){const t=NC(e),r=Ki(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Ph(r)}function Td(e,t){const r=mt(e),n=mt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function JU(e){return Ki(e,Date.now())}function ZU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function XU(e){if(!ZU(e)&&typeof e!="number")return!1;const t=mt(e);return!isNaN(Number(t))}function e6(e,t){const r=mt(e),n=mt(t),s=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return s*12+a}function t6(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function r6(e,t){return+mt(e)-+mt(t)}function n6(e){const t=mt(e);return t.setHours(23,59,59,999),t}function s6(e){const t=mt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function i6(e){const t=mt(e);return+n6(t)==+s6(t)}function a6(e,t){const r=mt(e),n=mt(t),s=Td(r,n),a=Math.abs(e6(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*a);let l=Td(r,n)===-s;i6(mt(e))&&a===1&&Td(e,n)===1&&(l=!1),o=s*(a-Number(l))}return o===0?0:o}function o6(e,t,r){const n=r6(e,t)/1e3;return t6(r==null?void 0:r.roundingMethod)(n)}function l6(e){const t=mt(e),r=Ki(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const c6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},u6=(e,t,r)=>{let n;const s=c6[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Om(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const d6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},h6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},f6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},m6={date:Om({formats:d6,defaultWidth:"full"}),time:Om({formats:h6,defaultWidth:"full"}),dateTime:Om({formats:f6,defaultWidth:"full"})},p6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},g6=(e,t,r,n)=>p6[e];function tc(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const v6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},y6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},x6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},w6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},b6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},j6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},_6=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},S6={ordinalNumber:_6,era:tc({values:v6,defaultWidth:"wide"}),quarter:tc({values:y6,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tc({values:x6,defaultWidth:"wide"}),day:tc({values:w6,defaultWidth:"wide"}),dayPeriod:tc({values:b6,defaultWidth:"wide",formattingValues:j6,defaultFormattingWidth:"wide"})};function rc(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?N6(l,h=>h.test(o)):k6(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function k6(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function N6(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function C6(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const E6=/^(\d+)(th|st|nd|rd)?/i,P6=/\d+/i,R6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},T6={any:[/^b/i,/^(a|c)/i]},A6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},O6={any:[/1/i,/2/i,/3/i,/4/i]},I6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},M6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},D6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},L6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},F6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},U6={ordinalNumber:C6({matchPattern:E6,parsePattern:P6,valueCallback:e=>parseInt(e,10)}),era:rc({matchPatterns:R6,defaultMatchWidth:"wide",parsePatterns:T6,defaultParseWidth:"any"}),quarter:rc({matchPatterns:A6,defaultMatchWidth:"wide",parsePatterns:O6,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rc({matchPatterns:I6,defaultMatchWidth:"wide",parsePatterns:M6,defaultParseWidth:"any"}),day:rc({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),dayPeriod:rc({matchPatterns:$6,defaultMatchWidth:"any",parsePatterns:F6,defaultParseWidth:"any"})},CC={code:"en-US",formatDistance:u6,formatLong:m6,formatRelative:g6,localize:S6,match:U6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function z6(e){const t=mt(e);return QU(t,l6(t))+1}function V6(e){const t=mt(e),r=+Ph(t)-+YU(t);return Math.round(r/kC)+1}function EC(e,t){var d,h,p,f;const r=mt(e),n=r.getFullYear(),s=Pu(),a=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ki(e,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=au(o,t),c=Ki(e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=au(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function B6(e,t){var l,c,u,d;const r=Pu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=EC(e,t),a=Ki(e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),au(a,t)}function W6(e,t){const r=mt(e),n=+au(r,t)-+B6(r,t);return Math.round(n/kC)+1}function ut(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const ai={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ut(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ut(r+1,2)},d(e,t){return ut(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ut(e.getHours()%12||12,t.length)},H(e,t){return ut(e.getHours(),t.length)},m(e,t){return ut(e.getMinutes(),t.length)},s(e,t){return ut(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ut(s,t.length)}},fo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},l0={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return ai.y(e,t)},Y:function(e,t,r,n){const s=EC(e,n),a=s>0?s:1-s;if(t==="YY"){const o=a%100;return ut(o,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):ut(a,t.length)},R:function(e,t){const r=NC(e);return ut(r,t.length)},u:function(e,t){const r=e.getFullYear();return ut(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ut(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ut(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return ai.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ut(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=W6(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ut(s,t.length)},I:function(e,t,r){const n=V6(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ut(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):ai.d(e,t)},D:function(e,t,r){const n=z6(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ut(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ut(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ut(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ut(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=fo.noon:n===0?s=fo.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=fo.evening:n>=12?s=fo.afternoon:n>=4?s=fo.morning:s=fo.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ai.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):ai.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ut(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):ai.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):ai.s(e,t)},S:function(e,t){return ai.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return u0(n);case"XXXX":case"XX":return ca(n);case"XXXXX":case"XXX":default:return ca(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return u0(n);case"xxxx":case"xx":return ca(n);case"xxxxx":case"xxx":default:return ca(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+c0(n,":");case"OOOO":default:return"GMT"+ca(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+c0(n,":");case"zzzz":default:return"GMT"+ca(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ut(n,t.length)},T:function(e,t,r){const n=e.getTime();return ut(n,t.length)}};function c0(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+ut(a,2)}function u0(e,t){return e%60===0?(e>0?"-":"+")+ut(Math.abs(e)/60,2):ca(e,t)}function ca(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ut(Math.trunc(n/60),2),a=ut(n%60,2);return r+s+t+a}const d0=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},PC=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},q6=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return d0(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",d0(n,t)).replace("{{time}}",PC(s,t))},H6={p:PC,P:q6},K6=/^D+$/,G6=/^Y+$/,Q6=["D","DD","YY","YYYY"];function Y6(e){return K6.test(e)}function J6(e){return G6.test(e)}function Z6(e,t,r){const n=X6(e,t,r);if(console.warn(n),Q6.includes(e))throw new RangeError(n)}function X6(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const e8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,t8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,r8=/^'([^]*?)'?$/,n8=/''/g,s8=/[a-zA-Z]/;function i8(e,t,r){var d,h,p,f;const n=Pu(),s=n.locale??CC,a=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=mt(e);if(!XU(l))throw new RangeError("Invalid time value");let c=t.match(t8).map(v=>{const g=v[0];if(g==="p"||g==="P"){const b=H6[g];return b(v,s.formatLong)}return v}).join("").match(e8).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:a8(v)};if(l0[g])return{isToken:!0,value:v};if(g.match(s8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(J6(g)||Y6(g))&&Z6(g,t,String(e));const b=l0[g[0]];return b(l,g,s.localize,u)}).join("")}function a8(e){const t=e.match(r8);return t?t[1].replace(n8,"'"):e}function o8(e,t,r){const n=Pu(),s=(r==null?void 0:r.locale)??n.locale??CC,a=2520,o=Td(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=mt(t),u=mt(e)):(c=mt(e),u=mt(t));const d=o6(u,c),h=(Rh(u)-Rh(c))/1e3,p=Math.round((d-h)/60);let f;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<a0){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,l)}else{if(p<a)return s.formatDistance("xDays",1,l);if(p<dd){const v=Math.round(p/a0);return s.formatDistance("xDays",v,l)}else if(p<dd*2)return f=Math.round(p/dd),s.formatDistance("aboutXMonths",f,l)}if(f=a6(u,c),f<12){const v=Math.round(p/dd);return s.formatDistance("xMonths",v,l)}else{const v=f%12,g=Math.trunc(f/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function rn(e,t){return o8(e,JU(e),t)}const l8=kt({name:Ce().min(1,"Name is required").max(64),scope:Ce().min(1,"Scope is required").max(128)}),c8={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function u8(){const{data:e,isLoading:t}=Rf(),r=FU(),[n,s]=m.useState(!1),[a,o]=m.useState((e==null?void 0:e.display_name)??"");if(m.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-32"}),i.jsx(pe,{className:"h-4 w-48 mt-2"})]}),i.jsxs(K,{className:"flex items-center gap-4",children:[i.jsx(pe,{className:"h-16 w-16 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-5 w-40"}),i.jsx(pe,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),h=()=>{r.mutate({display_name:a||null},{onSuccess:()=>s(!1)})};return i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(of,{className:"h-5 w-5"}),"Profile summary"]}),i.jsx(ge,{children:"Account and avatar."})]}),i.jsxs(K,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[i.jsxs(gf,{className:"h-16 w-16 shrink-0",children:[i.jsx(vy,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),i.jsx(vf,{className:"text-lg bg-primary/20 text-primary",children:d})]}),i.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx(je,{value:a,onChange:p=>o(p.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),i.jsx(P,{size:"sm",onClick:h,disabled:r.isPending,children:r.isPending?i.jsx(Zr,{className:"h-4 w-4 animate-spin"}):"Save"}),i.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"font-medium truncate",children:l}),i.jsx(P,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),i.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",i.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function d8(){const{data:e,isLoading:t}=UU(),r=zU(),[n,s]=m.useState(null);if(t)return i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-40"}),i.jsx(pe,{className:"h-4 w-56 mt-2"})]}),i.jsxs(K,{children:[i.jsx(pe,{className:"h-12 w-full"}),i.jsx(pe,{className:"h-12 w-full mt-2"})]})]});const a=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(VI,{className:"h-5 w-5"}),"Connected accounts"]}),i.jsx(ge,{children:"OAuth and linked accounts; unlink here."})]}),i.jsx(K,{children:a.length===0?i.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):i.jsx("ul",{className:"space-y-2",children:a.map(o=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsx("span",{className:"font-medium",children:c8[o.provider]??o.provider}),i.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),i.jsx(ze,{open:!!n,onOpenChange:()=>s(null),children:i.jsxs(De,{showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Unlink account"}),i.jsx(Fe,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),i.jsx(P,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?i.jsx(Zr,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function h8(){const{data:e,isLoading:t}=VU(),{data:r,isLoading:n}=_C(),s=SC(),a=BU(),[o,l]=m.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-24"}),i.jsx(pe,{className:"h-4 w-48 mt-2"})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsx(pe,{className:"h-10 w-32"}),i.jsx(pe,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5"}),"Security"]}),i.jsx(ge,{children:"Password, 2FA, active sessions."})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(ie,{to:"/forgot-password",children:"Change password"})}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[i.jsx(G,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),i.jsx(on,{id:"2fa",checked:u,onCheckedChange:h=>s.mutate({two_factor_enabled:h}),disabled:s.isPending})]}),i.jsx(my,{}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):i.jsx("ul",{className:"space-y-2",children:d.map(h=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ty,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:h.device_name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:rn(new Date(h.last_active_at),{addSuffix:!0})})]})]}),i.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(h.id),disabled:a.isPending,"aria-label":`Revoke ${h.device_name}`,children:"Revoke"})]},h.id))})]})]})]}),i.jsx(ze,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(De,{showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Revoke session"}),i.jsx(Fe,{children:"This device will be signed out. Are you sure?"})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(P,{variant:"destructive",onClick:()=>{o&&a.mutate(o,{onSuccess:()=>l(null)})},disabled:a.isPending,children:a.isPending?i.jsx(Zr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function f8(){const{data:e,isLoading:t}=WU(),r=qU(),n=HU(),[s,a]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(null),d=_t({resolver:St(l8),defaultValues:{name:"",scope:"read"}}),h=f=>{r.mutate(f,{onSuccess:v=>{u(v.key),d.reset()}})};if(t)return i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-24"}),i.jsx(pe,{className:"h-4 w-40 mt-2"})]}),i.jsxs(K,{children:[i.jsx(pe,{className:"h-10 w-28"}),i.jsx(pe,{className:"h-12 w-full mt-4"})]})]});const p=Array.isArray(e)?e:[];return i.jsxs(i.Fragment,{children:[i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(II,{className:"h-5 w-5"}),"API Keys"]}),i.jsx(ge,{children:"Create and manage scoped API keys for integrations."})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsx(P,{variant:"outline",size:"sm",onClick:()=>{a(!0),u(null)},children:"Create API key"}),p.length===0?i.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[i.jsx(Zv,{className:"mx-auto h-10 w-10 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),i.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):i.jsx("ul",{className:"space-y-2",children:p.map(f=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:f.name}),i.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[f.key_prefix,""]})]}),i.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:n.isPending,"aria-label":`Revoke key ${f.name}`,children:"Revoke"})]},f.id))}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),i.jsx(ze,{open:s,onOpenChange:a,children:i.jsxs(De,{showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Create API key"}),i.jsx(Fe,{children:"Choose a name and scope. The key value is shown only once."})]}),c?i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Your new key (copy now)"}),i.jsx(je,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),i.jsx(He,{children:i.jsx(P,{onClick:()=>a(!1),children:"Done"})})]}):i.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"key-name",children:"Name"}),i.jsx(je,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&i.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"key-scope",children:"Scope"}),i.jsx(je,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&i.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>a(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:r.isPending,children:r.isPending?i.jsx(Zr,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),i.jsx(ze,{open:!!o,onOpenChange:()=>l(null),children:i.jsxs(De,{showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Revoke API key"}),i.jsx(Fe,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),i.jsx(P,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?i.jsx(Zr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function m8(){const{data:e,isLoading:t}=_C(),r=SC(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-48"}),i.jsx(pe,{className:"h-4 w-64 mt-2"})]}),i.jsx(K,{children:i.jsx(pe,{className:"h-6 w-full"})})]}):i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(Zv,{className:"h-5 w-5"}),"Keychain / 1Password"]}),i.jsx(ge,{children:"Use 1Password or system keychain for secure login and autofill."})]}),i.jsx(K,{children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[i.jsx(G,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),i.jsx(on,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function p8(){return i.jsxs("div",{className:z("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),i.jsx(u8,{}),i.jsx(d8,{}),i.jsx(h8,{}),i.jsx(f8,{}),i.jsx(m8,{}),i.jsx("div",{className:"flex justify-end",children:i.jsx(P,{asChild:!0,children:i.jsx(ie,{to:"/settings",children:"Settings"})})})]})}function g8(){return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs(H,{className:"w-full max-w-md animate-fade-in-up",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(xs,{className:"h-5 w-5"}),"Install Gateway"]}),i.jsx(ge,{children:"Download the Clawgate gateway for your platform."})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),i.jsx(P,{asChild:!0,className:"w-full",children:i.jsx(ie,{to:"/dashboard",children:"Open Local UI"})}),i.jsx(P,{variant:"outline",asChild:!0,className:"w-full",children:i.jsx(ie,{to:"/",children:"Back to home"})})]})]})})}const v8=cy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function lt({className:e,variant:t,...r}){return i.jsx("div",{className:z(v8({variant:t}),e),...r})}const yt="/dashboard",Rr={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return ce.get(`${yt}/activities${t?`?${t}`:""}`)},getActivity:e=>ce.get(`${yt}/activities/${e}`),createActivity:e=>ce.post(`${yt}/activities`,e),deleteActivity:e=>ce.delete(`${yt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return ce.get(`${yt}/runs${t?`?${t}`:""}`)},getRun:e=>ce.get(`${yt}/runs/${e}`),createRun:e=>ce.post(`${yt}/runs`,e),updateRun:(e,t)=>ce.patch(`${yt}/runs/${e}`,t),abortRun:e=>ce.post(`${yt}/runs/${e}/abort`,{}),getCronJobs:()=>ce.get(`${yt}/cron-jobs`),getCronJob:e=>ce.get(`${yt}/cron-jobs/${e}`),createCronJob:e=>ce.post(`${yt}/cron-jobs`,e),updateCronJob:(e,t)=>ce.patch(`${yt}/cron-jobs/${e}`,t),deleteCronJob:e=>ce.delete(`${yt}/cron-jobs/${e}`),runCronJobNow:e=>ce.post(`${yt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return ce.get(`${yt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>ce.get(`${yt}/nodes`),getNode:e=>ce.get(`${yt}/nodes/${e}`),createNode:e=>ce.post(`${yt}/nodes`,e),updateNode:(e,t)=>ce.patch(`${yt}/nodes/${e}`,t),deleteNode:e=>ce.delete(`${yt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return ce.get(`${yt}/alerts${t?`?${t}`:""}`)},getAlert:e=>ce.get(`${yt}/alerts/${e}`),updateAlert:(e,t)=>ce.patch(`${yt}/alerts/${e}`,t),quickRun:e=>ce.post(`${yt}/quick-run`,e)};function Dl(e,t){return e().catch(()=>t)}const tt={all:["dashboard"],activities:e=>[...tt.all,"activities",e],activity:e=>[...tt.all,"activity",e],runs:e=>[...tt.all,"runs",e],run:e=>[...tt.all,"run",e],cronJobs:()=>[...tt.all,"cron-jobs"],cronJob:e=>[...tt.all,"cron-job",e],cronRunHistory:(e,t)=>[...tt.all,"cron-run-history",e,t],nodes:()=>[...tt.all,"nodes"],node:e=>[...tt.all,"node",e],alerts:e=>[...tt.all,"alerts",e],alert:e=>[...tt.all,"alert",e]};function y8(e){return Oe({queryKey:tt.activities(e),queryFn:()=>Dl(()=>Rr.getActivities(e),[])})}function x8(){const e=_e();return Se({mutationFn:t=>Rr.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.activities()}),U.success("Activity removed")},onError:t=>{U.error(t.message||"Failed to remove activity")}})}function w8(e){return Oe({queryKey:tt.runs(e),queryFn:()=>Dl(()=>Rr.getRuns(e),[])})}function b8(){const e=_e();return Se({mutationFn:t=>Rr.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.runs()}),U.success("Run aborted")},onError:t=>{U.error(t.message||"Failed to abort run")}})}function RC(){return Oe({queryKey:tt.cronJobs(),queryFn:()=>Dl(()=>Rr.getCronJobs(),[])})}function TC(){const e=_e();return Se({mutationFn:t=>Rr.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.cronJobs()}),U.success("Cron job created")},onError:t=>{U.error(t.message||"Failed to create cron job")}})}function j8(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Rr.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:tt.cronJobs()}),e.invalidateQueries({queryKey:tt.cronJob(r)}),U.success("Cron job updated")},onError:t=>{U.error(t.message||"Failed to update cron job")}})}function _8(){const e=_e();return Se({mutationFn:t=>Rr.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.cronJobs()}),U.success("Cron job deleted")},onError:t=>{U.error(t.message||"Failed to delete cron job")}})}function S8(e,t){return Oe({queryKey:tt.cronRunHistory(e??"",t),queryFn:()=>e?Dl(()=>Rr.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function k8(){const e=_e();return Se({mutationFn:t=>Rr.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:tt.cronJobs()}),e.invalidateQueries({queryKey:tt.cronRunHistory(r)}),e.invalidateQueries({queryKey:tt.runs()}),U.success("Job started")},onError:t=>{U.error(t.message||"Failed to run job")}})}function AC(){return Oe({queryKey:tt.nodes(),queryFn:()=>Dl(()=>Rr.getNodes(),[])})}function N8(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Rr.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:tt.nodes()}),e.invalidateQueries({queryKey:tt.node(r)}),U.success("Node updated")},onError:t=>{U.error(t.message||"Failed to update node")}})}function C8(e){return Oe({queryKey:tt.alerts(e),queryFn:()=>Dl(()=>Rr.getAlerts(e),[])})}function E8(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Rr.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:tt.alerts()}),e.invalidateQueries({queryKey:tt.alert(r)}),U.success("Alert updated")},onError:t=>{U.error(t.message||"Failed to update alert")}})}function P8(){const e=_e();return Se({mutationFn:t=>Rr.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:tt.activities()}),e.invalidateQueries({queryKey:tt.runs()}),U.success("Message sent")},onError:t=>{U.error(t.message||"Failed to send message")}})}const h0={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function R8({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Activity details"}),i.jsxs(Fe,{id:"activity-detail-description",children:[h0[e.activity_type]??e.activity_type," "," ",rn(new Date(e.created_at),{addSuffix:!0})]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),i.jsx("p",{className:"text-sm",children:h0[e.activity_type]??e.activity_type})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),i.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),i.jsxs(He,{children:[n&&i.jsx(P,{variant:"destructive",onClick:s,children:"Remove"}),i.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function T8({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const a=()=>{n(e.id),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{"aria-describedby":"run-abort-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Abort run?"}),i.jsxs(Fe,{id:"run-abort-description",children:["This will stop the run that started"," ",rn(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(P,{variant:"destructive",onClick:a,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function A8(e){const t=O8(e),r=m.forwardRef((n,s)=>{const{children:a,...o}=n,l=m.Children.toArray(a),c=l.find(M8);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return i.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return i.jsx(t,{...o,ref:s,children:a})});return r.displayName=`${e}.Slot`,r}function O8(e){const t=m.forwardRef((r,n)=>{const{children:s,...a}=r;if(m.isValidElement(s)){const o=L8(s),l=D8(a,s.props);return s.type!==m.Fragment&&(l.ref=n?Js(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I8=Symbol("radix.slottable");function M8(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===I8}function D8(e,t){const r={...t};for(const n in t){const s=e[n],a=t[n];/^on[A-Z]/.test(n)?s&&a?r[n]=(...l)=>{const c=a(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...a}:n==="className"&&(r[n]=[s,a].filter(Boolean).join(" "))}return{...e,...r}}function L8(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var OC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$8="VisuallyHidden",F8=m.forwardRef((e,t)=>i.jsx(Pe.span,{...e,ref:t,style:{...OC,...e.style}}));F8.displayName=$8;var U8=[" ","Enter","ArrowUp","ArrowDown"],z8=[" ","Enter"],qa="Select",[Tf,Af,V8]=yy(qa),[Ll]=ws(qa,[V8,jf]),Of=jf(),[B8,Zi]=Ll(qa),[W8,q8]=Ll(qa),IC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,g=Of(t),[b,y]=m.useState(null),[x,w]=m.useState(null),[j,S]=m.useState(!1),_=ju(u),[k,T]=Fa({prop:n,defaultProp:s??!1,onChange:a,caller:qa}),[O,M]=Fa({prop:o,defaultProp:l,onChange:c,caller:qa}),W=m.useRef(null),L=b?v||!!b.closest("form"):!0,[V,A]=m.useState(new Set),Y=Array.from(V).map(Z=>Z.props.value).join(";");return i.jsx($k,{...g,children:i.jsxs(B8,{required:f,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:j,onValueNodeHasChildrenChange:S,contentId:fs(),value:O,onValueChange:M,open:k,onOpenChange:T,dir:_,triggerPointerDownPosRef:W,disabled:p,children:[i.jsx(Tf.Provider,{scope:t,children:i.jsx(W8,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(Z=>{A(se=>new Set(se).add(Z))},[]),onNativeOptionRemove:m.useCallback(Z=>{A(se=>{const D=new Set(se);return D.delete(Z),D})},[]),children:r})}),L?i.jsxs(s2,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:Z=>M(Z.target.value),disabled:p,form:v,children:[O===void 0?i.jsx("option",{value:""}):null,Array.from(V)]},Y):null]})})};IC.displayName=qa;var MC="SelectTrigger",DC=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,a=Of(r),o=Zi(MC,r),l=o.disabled||n,c=Je(t,o.onTriggerChange),u=Af(r),d=m.useRef("touch"),[h,p,f]=a2(g=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),x=o2(b,g,y);x!==void 0&&o.onValueChange(x.value)}),v=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return i.jsx(Fk,{asChild:!0,...a,children:i.jsx(Pe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":i2(o.value)?"":void 0,...s,ref:c,onClick:de(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:de(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:de(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&U8.includes(g.key)&&(v(),g.preventDefault())})})})});DC.displayName=MC;var LC="SelectValue",$C=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:a,placeholder:o="",...l}=e,c=Zi(LC,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,h=Je(t,c.onValueNodeChange);return Gt(()=>{u(d)},[u,d]),i.jsx(Pe.span,{...l,ref:h,style:{pointerEvents:"none"},children:i2(c.value)?i.jsx(i.Fragment,{children:o}):a})});$C.displayName=LC;var H8="SelectIcon",FC=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return i.jsx(Pe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});FC.displayName=H8;var K8="SelectPortal",UC=e=>i.jsx(uf,{asChild:!0,...e});UC.displayName=K8;var Ha="SelectContent",zC=m.forwardRef((e,t)=>{const r=Zi(Ha,e.__scopeSelect),[n,s]=m.useState();if(Gt(()=>{s(new DocumentFragment)},[]),!r.open){const a=n;return a?Sl.createPortal(i.jsx(VC,{scope:e.__scopeSelect,children:i.jsx(Tf.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(BC,{...e,ref:t})});zC.displayName=Ha;var On=10,[VC,Xi]=Ll(Ha),G8="SelectContentImpl",Q8=A8("SelectContent.RemoveScroll"),BC=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:b,...y}=e,x=Zi(Ha,r),[w,j]=m.useState(null),[S,_]=m.useState(null),k=Je(t,re=>j(re)),[T,O]=m.useState(null),[M,W]=m.useState(null),L=Af(r),[V,A]=m.useState(!1),Y=m.useRef(!1);m.useEffect(()=>{if(w)return iy(w)},[w]),sy();const Z=m.useCallback(re=>{const[Ge,...Qe]=L().map(Ze=>Ze.ref.current),[Be]=Qe.slice(-1),We=document.activeElement;for(const Ze of re)if(Ze===We||(Ze==null||Ze.scrollIntoView({block:"nearest"}),Ze===Ge&&S&&(S.scrollTop=0),Ze===Be&&S&&(S.scrollTop=S.scrollHeight),Ze==null||Ze.focus(),document.activeElement!==We))return},[L,S]),se=m.useCallback(()=>Z([T,w]),[Z,T,w]);m.useEffect(()=>{V&&se()},[V,se]);const{onOpenChange:D,triggerPointerDownPosRef:N}=x;m.useEffect(()=>{if(w){let re={x:0,y:0};const Ge=Be=>{var We,Ze;re={x:Math.abs(Math.round(Be.pageX)-(((We=N.current)==null?void 0:We.x)??0)),y:Math.abs(Math.round(Be.pageY)-(((Ze=N.current)==null?void 0:Ze.y)??0))}},Qe=Be=>{re.x<=10&&re.y<=10?Be.preventDefault():w.contains(Be.target)||D(!1),document.removeEventListener("pointermove",Ge),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",Ge),document.addEventListener("pointerup",Qe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ge),document.removeEventListener("pointerup",Qe,{capture:!0})}}},[w,D,N]),m.useEffect(()=>{const re=()=>D(!1);return window.addEventListener("blur",re),window.addEventListener("resize",re),()=>{window.removeEventListener("blur",re),window.removeEventListener("resize",re)}},[D]);const[R,ue]=a2(re=>{const Ge=L().filter(We=>!We.disabled),Qe=Ge.find(We=>We.ref.current===document.activeElement),Be=o2(Ge,re,Qe);Be&&setTimeout(()=>Be.ref.current.focus())}),he=m.useCallback((re,Ge,Qe)=>{const Be=!Y.current&&!Qe;(x.value!==void 0&&x.value===Ge||Be)&&(O(re),Be&&(Y.current=!0))},[x.value]),Re=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Ee=m.useCallback((re,Ge,Qe)=>{const Be=!Y.current&&!Qe;(x.value!==void 0&&x.value===Ge||Be)&&W(re)},[x.value]),at=n==="popper"?Mg:WC,nt=at===Mg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return i.jsx(VC,{scope:r,content:w,viewport:S,onViewportChange:_,itemRefCallback:he,selectedItem:T,onItemLeave:Re,itemTextRefCallback:Ee,focusSelectedItem:se,selectedItemText:M,position:n,isPositioned:V,searchRef:R,children:i.jsx(hf,{as:Q8,allowPinchZoom:!0,children:i.jsx(cf,{asChild:!0,trapped:x.open,onMountAutoFocus:re=>{re.preventDefault()},onUnmountAutoFocus:de(s,re=>{var Ge;(Ge=x.trigger)==null||Ge.focus({preventScroll:!0}),re.preventDefault()}),children:i.jsx(lf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:re=>re.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:i.jsx(at,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:re=>re.preventDefault(),...y,...nt,onPlaced:()=>A(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:de(y.onKeyDown,re=>{const Ge=re.ctrlKey||re.altKey||re.metaKey;if(re.key==="Tab"&&re.preventDefault(),!Ge&&re.key.length===1&&ue(re.key),["ArrowUp","ArrowDown","Home","End"].includes(re.key)){let Be=L().filter(We=>!We.disabled).map(We=>We.ref.current);if(["ArrowUp","End"].includes(re.key)&&(Be=Be.slice().reverse()),["ArrowUp","ArrowDown"].includes(re.key)){const We=re.target,Ze=Be.indexOf(We);Be=Be.slice(Ze+1)}setTimeout(()=>Z(Be)),re.preventDefault()}})})})})})})});BC.displayName=G8;var Y8="SelectItemAlignedPosition",WC=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,a=Zi(Ha,r),o=Xi(Ha,r),[l,c]=m.useState(null),[u,d]=m.useState(null),h=Je(t,k=>d(k)),p=Af(r),f=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=o,w=m.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&g&&b&&y){const k=a.trigger.getBoundingClientRect(),T=u.getBoundingClientRect(),O=a.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(a.dir!=="rtl"){const We=M.left-T.left,Ze=O.left-We,Yt=k.left-Ze,Tr=k.width+Yt,Xn=Math.max(Tr,T.width),_n=window.innerWidth-On,Ss=wg(Ze,[On,Math.max(On,_n-Xn)]);l.style.minWidth=Tr+"px",l.style.left=Ss+"px"}else{const We=T.right-M.right,Ze=window.innerWidth-O.right-We,Yt=window.innerWidth-k.right-Ze,Tr=k.width+Yt,Xn=Math.max(Tr,T.width),_n=window.innerWidth-On,Ss=wg(Ze,[On,Math.max(On,_n-Xn)]);l.style.minWidth=Tr+"px",l.style.right=Ss+"px"}const W=p(),L=window.innerHeight-On*2,V=g.scrollHeight,A=window.getComputedStyle(u),Y=parseInt(A.borderTopWidth,10),Z=parseInt(A.paddingTop,10),se=parseInt(A.borderBottomWidth,10),D=parseInt(A.paddingBottom,10),N=Y+Z+V+D+se,R=Math.min(b.offsetHeight*5,N),ue=window.getComputedStyle(g),he=parseInt(ue.paddingTop,10),Re=parseInt(ue.paddingBottom,10),Ee=k.top+k.height/2-On,at=L-Ee,nt=b.offsetHeight/2,re=b.offsetTop+nt,Ge=Y+Z+re,Qe=N-Ge;if(Ge<=Ee){const We=W.length>0&&b===W[W.length-1].ref.current;l.style.bottom="0px";const Ze=u.clientHeight-g.offsetTop-g.offsetHeight,Yt=Math.max(at,nt+(We?Re:0)+Ze+se),Tr=Ge+Yt;l.style.height=Tr+"px"}else{const We=W.length>0&&b===W[0].ref.current;l.style.top="0px";const Yt=Math.max(Ee,Y+g.offsetTop+(We?he:0)+nt)+Qe;l.style.height=Yt+"px",g.scrollTop=Ge-Ee+g.offsetTop}l.style.margin=`${On}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,a.trigger,a.valueNode,l,u,g,b,y,a.dir,n]);Gt(()=>w(),[w]);const[j,S]=m.useState();Gt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const _=m.useCallback(k=>{k&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return i.jsx(Z8,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:_,children:i.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Pe.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});WC.displayName=Y8;var J8="SelectPopperPosition",Mg=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=On,...a}=e,o=Of(r);return i.jsx(Uk,{...o,...a,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Mg.displayName=J8;var[Z8,zy]=Ll(Ha,{}),Dg="SelectViewport",qC=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,a=Xi(Dg,r),o=zy(Dg,r),l=Je(t,a.onViewportChange),c=m.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Tf.Slot,{scope:r,children:i.jsx(Pe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:de(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-On*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(g,b);if(y<v){const x=y+f,w=Math.min(v,x),j=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});qC.displayName=Dg;var HC="SelectGroup",[X8,ez]=Ll(HC),tz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=fs();return i.jsx(X8,{scope:r,id:s,children:i.jsx(Pe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});tz.displayName=HC;var KC="SelectLabel",GC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=ez(KC,r);return i.jsx(Pe.div,{id:s.id,...n,ref:t})});GC.displayName=KC;var Th="SelectItem",[rz,QC]=Ll(Th),YC=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:a,...o}=e,l=Zi(Th,r),c=Xi(Th,r),u=l.value===n,[d,h]=m.useState(a??""),[p,f]=m.useState(!1),v=Je(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),g=fs(),b=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(rz,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:i.jsx(Tf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:i.jsx(Pe.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:de(o.onFocus,()=>f(!0)),onBlur:de(o.onBlur,()=>f(!1)),onClick:de(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:de(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:de(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:de(o.onPointerMove,x=>{var w;b.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:de(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:de(o.onKeyDown,x=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&x.key===" "||(z8.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});YC.displayName=Th;var dc="SelectItemText",JC=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...a}=e,o=Zi(dc,r),l=Xi(dc,r),c=QC(dc,r),u=q8(dc,r),[d,h]=m.useState(null),p=Je(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=m.useMemo(()=>i.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Gt(()=>(g(v),()=>b(v)),[g,b,v]),i.jsxs(i.Fragment,{children:[i.jsx(Pe.span,{id:c.textId,...a,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Sl.createPortal(a.children,o.valueNode):null]})});JC.displayName=dc;var ZC="SelectItemIndicator",XC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return QC(ZC,r).isSelected?i.jsx(Pe.span,{"aria-hidden":!0,...n,ref:t}):null});XC.displayName=ZC;var Lg="SelectScrollUpButton",e2=m.forwardRef((e,t)=>{const r=Xi(Lg,e.__scopeSelect),n=zy(Lg,e.__scopeSelect),[s,a]=m.useState(!1),o=Je(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(r2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});e2.displayName=Lg;var $g="SelectScrollDownButton",t2=m.forwardRef((e,t)=>{const r=Xi($g,e.__scopeSelect),n=zy($g,e.__scopeSelect),[s,a]=m.useState(!1),o=Je(t,n.onScrollButtonChange);return Gt(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?i.jsx(r2,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});t2.displayName=$g;var r2=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,a=Xi("SelectScrollButton",r),o=m.useRef(null),l=Af(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Gt(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),i.jsx(Pe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:de(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:de(s.onPointerMove,()=>{var u;(u=a.onItemLeave)==null||u.call(a),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:de(s.onPointerLeave,()=>{c()})})}),nz="SelectSeparator",n2=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Pe.div,{"aria-hidden":!0,...n,ref:t})});n2.displayName=nz;var Fg="SelectArrow",sz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Of(r),a=Zi(Fg,r),o=Xi(Fg,r);return a.open&&o.position==="popper"?i.jsx(zk,{...s,...n,ref:t}):null});sz.displayName=Fg;var iz="SelectBubbleInput",s2=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),a=Je(n,s),o=gC(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),i.jsx(Pe.select,{...r,style:{...OC,...r.style},ref:a,defaultValue:t})});s2.displayName=iz;function i2(e){return e===""||e===void 0}function a2(e){const t=ir(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),a=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,a]}function o2(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let o=az(e,Math.max(a,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function az(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var oz=IC,l2=DC,lz=$C,cz=FC,uz=UC,c2=zC,dz=qC,u2=GC,d2=YC,hz=JC,fz=XC,h2=e2,f2=t2,m2=n2;const Dt=oz,Lt=lz,Rt=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(l2,{ref:n,className:z("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(cz,{asChild:!0,children:i.jsx(Rl,{className:"h-4 w-4 opacity-50"})})]}));Rt.displayName=l2.displayName;const p2=m.forwardRef(({className:e,...t},r)=>i.jsx(h2,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(VS,{className:"h-4 w-4"})}));p2.displayName=h2.displayName;const g2=m.forwardRef(({className:e,...t},r)=>i.jsx(f2,{ref:r,className:z("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(Rl,{className:"h-4 w-4"})}));g2.displayName=f2.displayName;const Tt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>i.jsx(uz,{children:i.jsxs(c2,{ref:s,className:z("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(p2,{}),i.jsx(dz,{className:z("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(g2,{})]})}));Tt.displayName=c2.displayName;const mz=m.forwardRef(({className:e,...t},r)=>i.jsx(u2,{ref:r,className:z("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));mz.displayName=u2.displayName;const Ve=m.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(d2,{ref:n,className:z("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(fz,{children:i.jsx(nf,{className:"h-4 w-4"})})}),i.jsx(hz,{children:t})]}));Ve.displayName=d2.displayName;const pz=m.forwardRef(({className:e,...t},r)=>i.jsx(m2,{ref:r,className:z("-mx-1 my-1 h-px bg-muted",e),...t}));pz.displayName=m2.displayName;const gz=kt({name:Ce().min(1,"Name is required").max(200,"Name too long"),schedule:Ce().min(1,"Schedule is required"),description:Ce().optional(),payload_json:Ce().optional(),session_target:Ce().optional(),isolation_setting:Za().optional(),status:Nr(["active","paused"]).optional()}),hd={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function vz(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function v2({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:a=null}){const o=!!a,{register:l,handleSubmit:c,setValue:u,watch:d,reset:h,formState:{errors:p}}=_t({resolver:St(gz),defaultValues:hd}),f=d("status"),v=d("isolation_setting");m.useEffect(()=>{e&&a?h({name:a.name??a.description??"",schedule:a.schedule,description:a.description??"",payload_json:typeof a.payload=="object"&&Object.keys(a.payload||{}).length>0?JSON.stringify(a.payload,null,2):"{}",session_target:a.session_target??"",isolation_setting:a.isolation_setting??!1,status:a.status==="failed"?"paused":a.status}):e&&!a&&h(hd)},[e,a,h]);const g=y=>{const x=vz(y.payload_json??"{}");r(o&&a?{name:y.name||null,schedule:y.schedule,description:y.description||null,payload:x,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}:{user_id:s,name:y.name||null,schedule:y.schedule,description:y.description||null,payload:x,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}),h(hd),t(!1)},b=y=>{y||h(hd),t(y)};return i.jsx(ze,{open:e,onOpenChange:b,children:i.jsxs(De,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:o?"Edit cron job":"Create cron job"}),i.jsx(Fe,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),i.jsxs("form",{onSubmit:c(g),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"name",children:"Job name"}),i.jsx(je,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:p.name?"border-destructive":""}),p.name&&i.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"schedule",children:"Schedule (cron expression)"}),i.jsx(je,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:p.schedule?"border-destructive":""}),p.schedule&&i.jsx("p",{className:"text-xs text-destructive",children:p.schedule.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"description",children:"Description (optional)"}),i.jsx(je,{id:"description",placeholder:"Optional description",...l("description")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"payload_json",children:"Payload (JSON)"}),i.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"session_target",children:"Session target"}),i.jsx(je,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"isolation_setting",children:"Isolation"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),i.jsx(on,{id:"isolation_setting",checked:v??!1,onCheckedChange:y=>u("isolation_setting",y)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(Dt,{value:f??"active",onValueChange:y=>u("status",y),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"active",children:"Active"}),i.jsx(Ve,{value:"paused",children:"Paused"})]})]})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:n,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Im={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},yz={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},xz={paired:"success",offline:"destructive",error:"warning"};function wz({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[a,o]=m.useState((e==null?void 0:e.connection_health)??"unknown");if(m.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,a),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{className:"max-w-md","aria-describedby":"node-health-description",children:[i.jsxs(Le,{children:[i.jsxs($e,{className:"flex items-center gap-2",children:[i.jsx(Zc,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),i.jsx(Fe,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),i.jsx(lt,{variant:xz[e.status],children:e.status})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),i.jsxs(lt,{variant:yz[l],children:[l==="healthy"&&i.jsx(t1,{className:"mr-1 h-3 w-3"}),l==="offline"&&i.jsx(e1,{className:"mr-1 h-3 w-3"}),Im[l]]})]}),(u=e.capabilities)!=null&&u.length?i.jsxs("div",{className:"grid gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),i.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>i.jsx(lt,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Update connection health"}),i.jsxs(Dt,{value:a,onValueChange:d=>o(d),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsx(Tt,{children:Object.keys(Im).map(d=>i.jsx(Ve,{value:d,children:Im[d]},d))})]})]})]}),n&&i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(P,{onClick:c,disabled:s||a===l,children:s?"Saving":"Save"})]})]})})}const bz={low:"Low",medium:"Medium",high:"High",critical:"Critical"},jz=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function _z({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const a=o=>{n==null||n(e.id,o),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[i.jsxs(Le,{children:[i.jsxs($e,{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:z("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),i.jsx(Fe,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:i.jsx("p",{className:"text-sm",children:e.description})}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),i.jsx("span",{className:z("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:bz[e.severity]})]}),n&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Resolution status"}),i.jsxs(Dt,{value:e.resolution_status,onValueChange:o=>a(o),disabled:s,children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsx(Tt,{children:jz.map(o=>i.jsx(Ve,{value:o.value,children:o.label},o.value))})]})]})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&i.jsx(P,{onClick:()=>a("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const f0={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},Sz={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},kz={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function Nz(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,a]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(!1),[p,f]=m.useState(null),[v,g]=m.useState(null),{data:b}=Rf(),y=(b==null?void 0:b.user_id)??"",{data:x=[],isLoading:w}=y8({limit:20,type:r||void 0}),{data:j=[],isLoading:S}=w8({status:"running",limit:10}),{data:_=[],isLoading:k}=RC(),{data:T=[],isLoading:O}=AC(),{data:M=[],isLoading:W}=C8({resolution_status:"open"}),L=P8(),V=b8(),A=TC(),Y=x8(),Z=E8(),se=N8(),D=()=>{const R=e.trim();R&&L.mutate({message:R},{onSuccess:()=>t("")})},N=r?x.filter(R=>R.activity_type===r):x;return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:i.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:j.length,icon:Fi,href:"/chat"},{title:"Cron jobs",value:_.length,icon:rf,href:"/cron"},{title:"Nodes",value:T.length,icon:Zc,href:"/nodes"},{title:"Alerts",value:M.length,icon:xn,href:"/security"}].map(({title:R,value:ue,icon:he,href:Re})=>i.jsx(ie,{to:Re,children:i.jsxs(H,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:R}),i.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsx(K,{children:i.jsx("div",{className:"text-2xl font-bold",children:ue})})]})},R))}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(H,{className:"flex flex-col",children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(yI,{className:"h-5 w-5"}),"Recent activity"]}),i.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[i.jsx("option",{value:"",children:"All"}),Object.entries(f0).map(([R,ue])=>i.jsx("option",{value:R,children:ue},R))]})]}),i.jsx(K,{className:"flex-1 overflow-hidden",children:i.jsx(Qt,{className:"h-[280px] pr-4",children:w?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>i.jsx(pe,{className:"h-14 w-full rounded-lg"},R))}):N.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):i.jsx("ul",{className:"space-y-2",children:N.map(R=>i.jsx("li",{children:i.jsxs("div",{className:z("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===R.id&&"ring-2 ring-ring"),children:[i.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>a(s===R.id?null:R.id),"aria-expanded":s===R.id,children:[s===R.id?i.jsx(Rl,{className:"h-4 w-4 shrink-0"}):i.jsx(yn,{className:"h-4 w-4 shrink-0"}),i.jsx(lt,{variant:"secondary",className:"text-xs",children:f0[R.activity_type]??R.activity_type}),i.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:rn(new Date(R.created_at),{addSuffix:!0})})]}),s===R.id&&i.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:i.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(R),children:"View details"})})]})},R.id))})})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(xu,{className:"h-5 w-5"}),"Quick Run"]}),i.jsx(ge,{children:"Send a message to the default session or channel."})]}),i.jsx(K,{children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx(je,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:R=>t(R.target.value),onKeyDown:R=>R.key==="Enter"&&D(),"aria-label":"Quick run message"}),i.jsx(P,{onClick:D,disabled:!e.trim()||L.isPending,children:L.isPending?i.jsx("span",{className:"animate-pulse",children:"Sending"}):i.jsx(Xc,{className:"h-4 w-4"})})]})})]})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Active runs"}),i.jsx(ge,{children:"Stream and abort running jobs."})]}),i.jsx(K,{children:S?i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-12 w-full rounded-lg"}),i.jsx(pe,{className:"h-12 w-full rounded-lg"})]}):j.length===0?i.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):i.jsx("ul",{className:"space-y-2",children:j.map(R=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{variant:Sz[R.status],children:R.status}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",rn(new Date(R.start_time),{addSuffix:!0})]})]}),i.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>u(R),disabled:R.status!=="running",children:[i.jsx(Kv,{className:"mr-1 h-4 w-4"}),"Abort"]})]},R.id))})})]}),i.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[i.jsxs(H,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsx(ne,{children:"Cron overview"}),i.jsxs(P,{size:"sm",onClick:()=>h(!0),children:[i.jsx(dr,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),i.jsx(K,{children:k?i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-10 w-full rounded-lg"}),i.jsx(pe,{className:"h-10 w-full rounded-lg"})]}):_.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),i.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(ie,{to:"/cron",children:"Manage cron"})})]}):i.jsxs("ul",{className:"space-y-2",children:[_.slice(0,5).map(R=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:R.description||R.schedule}),i.jsx("p",{className:"text-xs text-muted-foreground",children:R.schedule})]}),i.jsx(lt,{variant:R.status==="active"?"default":"secondary",children:R.status})]},R.id)),_.length>5&&i.jsx("li",{children:i.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:i.jsxs(ie,{to:"/cron",children:["View all (",_.length,")"]})})})]})})]}),i.jsxs(H,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsx(ne,{children:"Nodes status"}),i.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(ie,{to:"/nodes",children:"Pair node"})})]}),i.jsx(K,{children:O?i.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[i.jsx(pe,{className:"h-20 rounded-lg"}),i.jsx(pe,{className:"h-20 rounded-lg"})]}):T.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),i.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(ie,{to:"/nodes",children:"Pair node"})})]}):i.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:T.map(R=>i.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>f(R),children:[i.jsx(Zc,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:R.name??"Node"}),i.jsx("div",{className:"flex items-center gap-1",children:i.jsxs(lt,{variant:kz[R.connection_health],className:"text-xs",children:[R.connection_health==="healthy"&&i.jsx(t1,{className:"mr-0.5 h-3 w-3"}),R.connection_health==="offline"&&i.jsx(e1,{className:"mr-0.5 h-3 w-3"}),R.connection_health]})})]})]},R.id))})})]})]}),i.jsxs(H,{children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(Qa,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),i.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:i.jsx(ie,{to:"/security",children:"Run audit"})})]}),i.jsx(K,{children:W?i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-12 w-full rounded-lg"}),i.jsx(pe,{className:"h-12 w-full rounded-lg"})]}):M.length===0?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),i.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:i.jsx(ie,{to:"/security",children:"Run audit"})})]}):i.jsx("ul",{className:"space-y-2",children:M.map(R=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:R.type}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",children:R.description})]}),i.jsx(lt,{variant:R.severity==="critical"?"destructive":R.severity==="high"?"warning":"secondary",className:"shrink-0",children:R.severity}),i.jsx(P,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>g(R),children:"Fix"})]},R.id))})})]}),i.jsx(R8,{activity:o,open:!!o,onOpenChange:R=>!R&&l(null),onDelete:R=>{Y.mutate(R),l(null)}}),i.jsx(T8,{run:c,open:!!c,onOpenChange:R=>!R&&u(null),onConfirm:R=>{V.mutate(R),u(null)},isAborting:V.isPending}),i.jsx(v2,{open:d,onOpenChange:h,onSubmit:R=>{"user_id"in R&&R.user_id!==void 0&&A.mutate(R)},isSubmitting:A.isPending,userId:y}),i.jsx(wz,{node:p,open:!!p,onOpenChange:R=>!R&&f(null),onUpdateHealth:(R,ue)=>se.mutate({id:R,data:{connection_health:ue}}),isUpdating:se.isPending}),i.jsx(_z,{alert:v,open:!!v,onOpenChange:R=>!R&&g(null),onResolve:(R,ue)=>Z.mutate({id:R,data:{resolution_status:ue}}),isUpdating:Z.isPending})]})}const Qn={getSessions:async()=>{const{data:e,error:t}=await F.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await F.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await F.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await F.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=F.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await F.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=F.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await F.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await F.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>Qn.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>Qn.updateToolInvocation(e,{status:"denied"})};function Cz(e,t){return e().catch(()=>t)}const Fr={all:["chat"],sessions:()=>[...Fr.all,"sessions"],session:e=>[...Fr.all,"session",e],messages:(e,t)=>[...Fr.all,"messages",e,t],toolInvocations:(e,t)=>[...Fr.all,"toolInvocations",e,t]};function Ez(){return Oe({queryKey:Fr.sessions(),queryFn:()=>Cz(()=>Qn.getSessions(),[])})}function Pz(e){return Oe({queryKey:Fr.session(e??""),queryFn:()=>e?Qn.getSession(e):Promise.resolve(null),enabled:!!e})}function Rz(){const e=_e();return Se({mutationFn:t=>Qn.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Fr.sessions()}),U.success("Session created")},onError:t=>{U.error(t.message||"Failed to create session")}})}function Tz(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Qn.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Fr.sessions()}),e.invalidateQueries({queryKey:Fr.session(r)}),U.success("Session updated")},onError:t=>{U.error(t.message||"Failed to update session")}})}function Az(e,t){return Oe({queryKey:Fr.messages(e??"",{limit:t}),queryFn:()=>e?Qn.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Oz(){const e=_e();return Se({mutationFn:t=>Qn.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Fr.messages(r.session_id)}),U.success("Message sent")},onError:t=>{U.error(t.message||"Failed to send message")}})}function Iz(e,t){return Oe({queryKey:Fr.toolInvocations(e??"",t),queryFn:()=>e?Qn.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Mz(){const e=_e();return Se({mutationFn:({id:t,sessionId:r})=>Qn.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Fr.toolInvocations(r)}),U.success("Tool output approved")},onError:t=>{U.error(t.message||"Failed to approve")}})}function Dz(){const e=_e();return Se({mutationFn:({id:t,sessionId:r})=>Qn.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Fr.toolInvocations(r)}),U.success("Tool output denied")},onError:t=>{U.error(t.message||"Failed to deny")}})}function Lz({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return i.jsxs("div",{className:z("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[i.jsx(gf,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:i.jsx(vf,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?i.jsx(bI,{className:"h-4 w-4"}):i.jsx(of,{className:"h-4 w-4"})})}),i.jsxs("div",{className:z("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),i.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:rn(new Date(e.created_at),{addSuffix:!0})})]}),i.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&i.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((a,o)=>i.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:a.name??"Attachment"},o))})]})]})}function $z({messages:e,isLoading:t,currentUserId:r,className:n}){const s=m.useRef(null);return m.useEffect(()=>{var a;(a=s.current)==null||a.scrollIntoView({behavior:"smooth"})},[e.length]),i.jsx(Qt,{className:z("flex-1",n),"data-testid":"message-thread",children:i.jsx("div",{className:"space-y-1 p-4",children:t?i.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(a=>i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),i.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},a))}):e.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((a,o)=>i.jsx("div",{ref:o===e.length-1?s:void 0,children:i.jsx(Lz,{message:a,currentUserId:r})},a.id))})})}function Fz({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:a,availableTools:o=[],className:l}){const[c,u]=m.useState(""),[d,h]=m.useState(null),p=m.useCallback(v=>{v.preventDefault();const g=c.trim();!g||!e||(t(g,{toolName:d??void 0}),u(""),h(null))},[c,e,t,d]),f=!!(e&&c.trim()&&!s&&!a);return i.jsx("form",{onSubmit:p,className:z("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:i.jsx(LI,{className:"h-4 w-4"})}),i.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx(je,{value:c,onChange:v=>u(v.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&i.jsxs(Dt,{value:d??"",onValueChange:v=>{h(v||null),v&&n&&n(v)},disabled:s||!e,children:[i.jsxs(Rt,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[i.jsx(ry,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),i.jsx(Lt,{placeholder:"Tool"})]}),i.jsx(Tt,{children:o.map(v=>i.jsx(Ve,{value:v.id,children:v.name},v.id))})]})]}),i.jsx(P,{type:"submit",size:"icon",disabled:!f,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:a?i.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):i.jsx(Xc,{className:"h-4 w-4"})})]})})}function Uz(e,t=[]){let r=[];function n(a,o){const l=m.createContext(o);l.displayName=a+"Context";const c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return i.jsx(g.Provider,{value:b,children:f})};u.displayName=a+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${a}\``)}return[u,d]}const s=()=>{const a=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||a;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,zz(s,...t)]}function zz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(a)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Vz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],y2=Vz.reduce((e,t)=>{const r=bu(`Primitive.${t}`),n=m.forwardRef((s,a)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Vy="Progress",By=100,[Bz]=Uz(Vy),[Wz,qz]=Bz(Vy),x2=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:a=Hz,...o}=e;(s||s===0)&&!m0(s)&&console.error(Kz(`${s}`,"Progress"));const l=m0(s)?s:By;n!==null&&!p0(n,l)&&console.error(Gz(`${n}`,"Progress"));const c=p0(n,l)?n:null,u=Ah(c)?a(c,l):void 0;return i.jsx(Wz,{scope:r,value:c,max:l,children:i.jsx(y2.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Ah(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":j2(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});x2.displayName=Vy;var w2="ProgressIndicator",b2=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=qz(w2,r);return i.jsx(y2.div,{"data-state":j2(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});b2.displayName=w2;function Hz(e,t){return`${Math.round(e/t*100)}%`}function j2(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ah(e){return typeof e=="number"}function m0(e){return Ah(e)&&!isNaN(e)&&e>0}function p0(e,t){return Ah(e)&&!isNaN(e)&&e<=t&&e>=0}function Kz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${By}\`.`}function Gz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${By} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var _2=x2,Qz=b2;const S2=m.forwardRef(({className:e,value:t,...r},n)=>i.jsx(_2,{ref:n,className:z("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:i.jsx(Qz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));S2.displayName=_2.displayName;const Yz={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function Jz({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",a=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return i.jsxs(H,{className:z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ry,{className:"h-4 w-4 text-muted-foreground"}),i.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),i.jsx(lt,{variant:Yz[e.status],className:"text-xs",children:e.status})]}),i.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:rn(new Date(e.created_at),{addSuffix:!0})})]}),i.jsxs(K,{className:"p-4",children:[s&&i.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Zr,{className:"h-4 w-4 animate-spin"}),i.jsx("span",{children:"Running"}),i.jsx(S2,{value:void 0,className:"h-1.5 flex-1"})]}),o&&i.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),a&&t&&r&&i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsxs(P,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[i.jsx(dl,{className:"h-4 w-4"}),"Deny"]}),i.jsxs(P,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[i.jsx(nf,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Zz({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:a}){return i.jsxs("aside",{className:z("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",a),"aria-label":"Chat sidebar",children:[i.jsxs(H,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(ee,{className:"pb-2",children:i.jsx(ne,{className:"text-sm font-semibold",children:"Session"})}),i.jsxs(K,{className:"text-sm text-muted-foreground",children:[e?i.jsx("p",{className:"font-medium text-foreground",children:e.title}):i.jsx("p",{children:"Main session (default)"}),e&&i.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",i.jsx(lt,{variant:"outline",children:e.status})]})]})]}),t.length>1&&i.jsxs(H,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(ee,{className:"pb-2",children:i.jsx(ne,{className:"text-sm font-semibold",children:"Sessions"})}),i.jsx(K,{children:i.jsx(Qt,{className:"h-32",children:i.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>r(o.id),className:z("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[i.jsx(xu,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),i.jsxs(H,{className:"rounded-lg border border-border bg-card shadow-card",children:[i.jsx(ee,{className:"pb-2",children:i.jsx(ne,{className:"text-sm font-semibold",children:"Routing targets"})}),i.jsx(K,{className:"text-sm text-muted-foreground",children:s.length===0?i.jsx("p",{children:"No channels configured."}):i.jsx("ul",{className:"space-y-1",children:s.map(o=>i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(QS,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{children:o.name}),i.jsx(lt,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Xz({traces:e,isLoading:t,onExport:r,className:n}){const[s,a]=m.useState(!1);return i.jsxs(H,{className:z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[r&&i.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:i.jsx(xs,{className:"h-4 w-4"})}),i.jsx(P,{variant:"ghost",size:"icon",onClick:()=>a(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?i.jsx(Rl,{className:"h-4 w-4"}):i.jsx(VS,{className:"h-4 w-4"})})]})]}),s&&i.jsx(K,{className:"p-0",children:i.jsx(Qt,{className:"h-48",children:i.jsx("div",{className:"space-y-1 p-2",children:t?i.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>i.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?i.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>i.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsx("span",{className:"font-medium",children:o.type}),i.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function eV({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:a,maxAttachments:o=5,className:l}){const[c,u]=m.useState(""),[d,h]=m.useState(""),p=()=>{const v=c.trim();!v||r.length>=o||(n(v,d.trim()||void 0),u(""),h(""))},f=()=>{a(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:z("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Manage attachments"}),i.jsxs(Fe,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),i.jsxs("div",{className:"space-y-4 py-2",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx(G,{htmlFor:"attach-url",children:"URL"}),i.jsx(je,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:v=>u(v.target.value),className:"rounded-md border-input"})]}),i.jsxs("div",{className:"w-32 space-y-2",children:[i.jsx(G,{htmlFor:"attach-name",children:"Name (optional)"}),i.jsx(je,{id:"attach-name",placeholder:"Label",value:d,onChange:v=>h(v.target.value),className:"rounded-md border-input"})]}),i.jsx(P,{type:"button",variant:"secondary",size:"icon",onClick:p,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:i.jsx(pg,{className:"h-4 w-4"})})]}),r.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs(G,{children:["Attachments (",r.length,"/",o,")"]}),i.jsx(Qt,{className:"h-32 rounded-md border border-border p-2",children:i.jsx("ul",{className:"space-y-1",children:r.map((v,g)=>i.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[i.jsx("span",{className:"truncate",children:v.name??v.url}),i.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(g),"aria-label":"Remove attachment",children:i.jsx(dl,{className:"h-4 w-4"})})]},g))})})]})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(P,{onClick:f,children:"Done"})]})]})})}const tV={new:"Start new session",reset:"Reset session",stop:"Stop session"},rV={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function nV({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:a}){if(!r)return null;const o=()=>{n(r),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:z("max-w-[640px]",a),"aria-describedby":"session-dialog-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:tV[r]}),i.jsx(Fe,{id:"session-dialog-description",children:rV[r]})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(P,{onClick:o,disabled:s,children:s?i.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):i.jsxs(i.Fragment,{children:[r==="new"&&i.jsx(dr,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&i.jsx(YS,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&i.jsx(af,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const sV=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function iV(){const{data:e}=Rf(),t=(e==null?void 0:e.user_id)??null,[r,n]=m.useState(null),[s,a]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState([]),[p,f]=m.useState([]),{data:v=[],isLoading:g}=Ez(),{data:b}=Pz(r),{data:y=[],isLoading:x}=Az(r,200),{data:w=[]}=Iz(r,{limit:20}),j=Rz(),S=Tz(),_=Oz(),k=Mz(),T=Dz();m.useEffect(()=>{if(!g){if(v.length>0&&!r){n(v[0].id);return}v.length===0&&j.mutate({title:"New session"},{onSuccess:A=>n(A.id)})}},[g,v.length,v,r,j]);const O=m.useCallback((A,Y)=>{r&&_.mutate({session_id:r,sender_id:t??void 0,role:"user",text:A,attachment_links:(Y==null?void 0:Y.attachmentUrls)??d},{onSuccess:()=>h([])})},[r,t,d,_]),M=m.useCallback(A=>{A==="new"?j.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:Y=>{n(Y.id),l(!1),a(null)}}):A==="reset"&&r?j.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:Y=>{n(Y.id),l(!1),a(null)}}):A==="stop"&&r&&S.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),a(null)}})},[r,j,S]),W=m.useCallback(A=>{r&&k.mutate({id:A,sessionId:r})},[r,k]),L=m.useCallback(A=>{r&&T.mutate({id:A,sessionId:r})},[r,T]),V=A=>{a(A),l(!0)};return i.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[i.jsxs("header",{className:"flex items-center justify-between gap-4",children:[i.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>V("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx(dr,{className:"h-4 w-4"}),"/new"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>V("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx(YS,{className:"h-4 w-4"}),"/reset"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>V("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[i.jsx(af,{className:"h-4 w-4"}),"/stop"]})]})]}),i.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[i.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[i.jsxs(H,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[i.jsx($z,{messages:y,isLoading:x,currentUserId:t,className:"min-h-0"}),i.jsx(Fz,{sessionId:r,onSend:O,onAttachClick:()=>u(!0),disabled:!r,isSending:_.isPending,availableTools:sV})]}),w.length>0&&i.jsx(Qt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(A=>i.jsx(Jz,{invocation:A,onApprove:W,onDeny:L},A.id))]})})]}),i.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[i.jsx(Zz,{session:b??null,sessions:v,onSelectSession:n,currentSessionId:r,routingTargets:[]}),i.jsx(Xz,{traces:p,onExport:()=>f([])})]})]}),i.jsx(eV,{open:c,onOpenChange:u,attachments:d,onAdd:(A,Y)=>h(Z=>[...Z,{url:A,name:Y}]),onRemove:A=>h(Y=>Y.filter((Z,se)=>se!==A)),onConfirm:()=>{},maxAttachments:5}),i.jsx(nV,{open:o,onOpenChange:l,action:s,onConfirm:M,isLoading:j.isPending||S.isPending})]})}const ea={getChannels:async()=>{const{data:e,error:t}=await F.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await F.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await F.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await F.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await F.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ea.getAdapterConfig(e.channel_id);if(t){const{data:a,error:o}=await F.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return a}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await F.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await F.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=F.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await F.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function aV(e,t){return e().catch(()=>t)}const fn={all:["channels"],list:()=>[...fn.all,"list"],detail:e=>[...fn.all,"detail",e],adapterConfig:e=>[...fn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...fn.all,"deliveryLogs",e,t]};function oV(){return Oe({queryKey:fn.list(),queryFn:()=>aV(()=>ea.getChannels(),[])})}function lV(e){return Oe({queryKey:fn.detail(e??""),queryFn:()=>e?ea.getChannel(e):Promise.resolve(null),enabled:!!e})}function cV(){const e=_e();return Se({mutationFn:t=>ea.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.list()}),U.success("Channel added")},onError:t=>{U.error(t.message||"Failed to add channel")}})}function uV(){const e=_e();return Se({mutationFn:t=>ea.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:fn.list()}),U.success("Channel removed")},onError:t=>{U.error(t.message||"Failed to remove channel")}})}function dV(e){return Oe({queryKey:fn.adapterConfig(e??""),queryFn:()=>e?ea.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function hV(){const e=_e();return Se({mutationFn:t=>ea.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:fn.adapterConfig(n)}),e.invalidateQueries({queryKey:fn.detail(n)}),U.success("Channel config saved")},onError:t=>{U.error(t.message||"Failed to save config")}})}function fV(e,t){return Oe({queryKey:fn.deliveryLogs(e,t),queryFn:()=>e?ea.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const Mm={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},mV=kt({provider:Nr(["whatsapp","telegram","slack","discord"]),display_name:Ce().optional()}),pV=kt({retrieval_mode:Nr(["webhook","polling"]),webhook_url:Ce().url().optional().or(mU("")),polling_interval_seconds:Eh.number().min(30).max(3600).optional()}),gV=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function vV({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,a]=m.useState(1),o=_t({resolver:St(mV),defaultValues:{provider:"telegram",display_name:""}}),l=_t({resolver:St(pV),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const f=o.getValues(),v=l.getValues();r({provider:f.provider,display_name:f.display_name||null,webhook_url:u==="webhook"&&v.webhook_url?v.webhook_url:null,polling_interval_seconds:u==="polling"?v.polling_interval_seconds??60:null}),t(!1),a(1),o.reset(),l.reset();return}a(f=>f+1)}},h=()=>{s>1&&a(f=>f-1)},p=f=>{f||(a(1),o.reset(),l.reset()),t(f)};return i.jsx(ze,{open:e,onOpenChange:p,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Add channel"}),i.jsx(Fe,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),i.jsx("div",{className:"flex gap-2 py-2",children:gV.map(f=>i.jsx("div",{className:z("h-1 flex-1 rounded-full transition-colors",f.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},f.id))}),s===1&&i.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>a(2)),children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider"}),i.jsxs(Dt,{value:c,onValueChange:f=>o.setValue("provider",f),children:[i.jsx(Rt,{children:i.jsx(Lt,{placeholder:"Select provider"})}),i.jsx(Tt,{children:Object.keys(Mm).map(f=>i.jsx(Ve,{value:f,children:Mm[f]},f))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"display_name",children:"Display name (optional)"}),i.jsx(je,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&i.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>a(3)),children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Message retrieval"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[i.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),i.jsx(QS,{className:"h-4 w-4"}),"Webhook"]}),i.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[i.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),i.jsx(Cd,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"webhook_url",children:"Webhook URL"}),i.jsx(je,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&i.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),i.jsx(je,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[i.jsx(GS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),i.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[i.jsx("p",{className:"font-medium",children:Mm[c]}),o.getValues("display_name")&&i.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),i.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[s>1?i.jsxs(P,{type:"button",variant:"outline",onClick:h,disabled:n,children:[i.jsx(zS,{className:"mr-2 h-4 w-4"}),"Back"]}):i.jsx("div",{}),i.jsx(P,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":i.jsxs(i.Fragment,{children:["Next",i.jsx(yn,{className:"ml-2 h-4 w-4"})]})})]})]})})}const yV=kt({dm_policy:Nr(["pairing","allowlist","open","disabled"]),group_policy:Nr(["mention","open","disabled"]),mention_gating:Za()}),g0={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},v0={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function xV({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:a,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:h,formState:{errors:p,isDirty:f}}=_t({resolver:St(yV),defaultValues:l}),v=d("mention_gating");m.useEffect(()=>{e&&s&&h({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,h]);const g=y=>{a(y),h(y),t(!1)},b=y=>{y||h(l),t(y)};return i.jsx(ze,{open:e,onOpenChange:b,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Channel policy"}),i.jsx(Fe,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),i.jsxs("form",{id:"channel-policy-form",onSubmit:c(g),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"DM policy"}),i.jsxs(Dt,{value:d("dm_policy"),onValueChange:y=>u("dm_policy",y,{shouldDirty:!0}),children:[i.jsx(Rt,{className:z(p.dm_policy&&"border-destructive"),children:i.jsx(Lt,{placeholder:"Select DM policy"})}),i.jsx(Tt,{children:Object.keys(g0).map(y=>i.jsx(Ve,{value:y,children:g0[y]},y))})]}),p.dm_policy&&i.jsx("p",{className:"text-xs text-destructive",children:p.dm_policy.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Group policy"}),i.jsxs(Dt,{value:d("group_policy"),onValueChange:y=>u("group_policy",y,{shouldDirty:!0}),children:[i.jsx(Rt,{className:z(p.group_policy&&"border-destructive"),children:i.jsx(Lt,{placeholder:"Select group policy"})}),i.jsx(Tt,{children:Object.keys(v0).map(y=>i.jsx(Ve,{value:y,children:v0[y]},y))})]}),p.group_policy&&i.jsx("p",{className:"text-xs text-destructive",children:p.group_policy.message})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"mention_gating",children:"Mention gating"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),i.jsx(on,{id:"mention_gating",checked:v,onCheckedChange:y=>u("mention_gating",y,{shouldDirty:!0})})]})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),i.jsx(P,{type:"submit",form:"channel-policy-form",disabled:!f||o,children:o?"Saving":"Save"})]})]})})}function wV({open:e,onOpenChange:t,log:r}){return r?i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[i.jsxs(Le,{children:[i.jsxs($e,{className:"flex items-center gap-2",children:[i.jsx(Tl,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),i.jsxs(Fe,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",i8(new Date(r.created_at),"PPp")]})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),i.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&i.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),i.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const y0={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},bV={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function jV(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,a]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(!1),[d,h]=m.useState(""),{data:p=[],isLoading:f}=oV(),{data:v}=lV(r),{data:g}=dV(r),{data:b=[]}=fV(r,{limit:50}),y=cV(),x=uV(),w=hV(),j=async k=>{const T=await y.mutateAsync({provider:k.provider,display_name:k.display_name,status:"provisioning"});await w.mutateAsync({channel_id:T.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:k.webhook_url??null,polling_interval_seconds:k.polling_interval_seconds??null}),n(T.id),t(!1)},S=k=>{r&&w.mutate({channel_id:r,dm_policy:k.dm_policy,group_policy:k.group_policy,mention_gating:k.mention_gating})},_=k=>{l(k),u(!0)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),i.jsxs(P,{onClick:()=>t(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),i.jsxs(Ml,{defaultValue:"channels",className:"space-y-4",children:[i.jsxs(Xa,{className:"grid w-full max-w-md grid-cols-3",children:[i.jsx(qt,{value:"channels",children:"Channels"}),i.jsx(qt,{value:"logs",children:"Delivery logs"}),i.jsx(qt,{value:"test",children:"Test console"})]}),i.jsx(Ht,{value:"channels",className:"space-y-4",children:i.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Channels list"}),i.jsx(ge,{children:"Manage chat channel adapters and per-channel policies."})]}),i.jsx(K,{children:f?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(k=>i.jsx(pe,{className:"h-16 w-full rounded-lg"},k))}):p.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Cd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),i.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):i.jsx(Qt,{className:"h-[320px] pr-4",children:i.jsx("div",{className:"space-y-2",children:p.map(k=>i.jsxs("div",{className:z("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===k.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[i.jsxs("button",{type:"button",onClick:()=>n(k.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:i.jsx(Cd,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:k.display_name||y0[k.provider]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[y0[k.provider],k.last_event_at&&`  Last event ${rn(new Date(k.last_event_at),{addSuffix:!0})}`]})]}),i.jsx(lt,{variant:bV[k.status],className:"shrink-0",children:k.status}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.success_rate.toFixed(0),"% success"]})]}),i.jsxs(nu,{children:[i.jsx(su,{asChild:!0,children:i.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[i.jsx(uh,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsxs(pl,{align:"end",children:[i.jsxs(Dr,{onClick:()=>{n(k.id),a(!0)},children:[i.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),i.jsxs(Dr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(x.mutate(k.id),r===k.id&&n(null))},children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},k.id))})})})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Channel config"}),i.jsx(ge,{children:"DM policy, group policy, mention gating."})]}),i.jsx(K,{children:r?i.jsx("div",{className:"space-y-4",children:g===void 0?i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-10 w-full"}),i.jsx(pe,{className:"h-10 w-full"}),i.jsx(pe,{className:"h-12 w-full"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),i.jsx("span",{className:"font-medium capitalize",children:(g==null?void 0:g.dm_policy)??""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),i.jsx("span",{className:"font-medium capitalize",children:(g==null?void 0:g.group_policy)??""})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),i.jsx("span",{className:"font-medium",children:g!=null&&g.mention_gating?"On":"Off"})]})]}),i.jsxs(P,{variant:"outline",className:"w-full",onClick:()=>a(!0),children:[i.jsx(Ra,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Ra,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),i.jsx(Ht,{value:"logs",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Delivery logs"}),i.jsxs(ge,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),i.jsx(K,{children:r?b.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Jc,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):i.jsx(Qt,{className:"h-[400px] pr-4",children:i.jsx("div",{className:"space-y-2",children:b.map(k=>i.jsx("div",{className:z("flex items-center justify-between rounded-lg border p-3 text-sm",k.success?"border-border":"border-destructive/50 bg-destructive/5"),children:i.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[k.success?i.jsx(Jc,{className:"h-4 w-4 shrink-0 text-success"}):i.jsx(Gv,{className:"h-4 w-4 shrink-0 text-destructive"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:k.event_type}),i.jsx("p",{className:"text-xs text-muted-foreground",children:rn(new Date(k.created_at),{addSuffix:!0})})]}),!k.success&&k.error_details&&i.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>_(k),className:"shrink-0",children:[i.jsx(Qv,{className:"mr-1 h-4 w-4"}),"Details"]})]})},k.id))})}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Cd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),i.jsx(Ht,{value:"test",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Test console"}),i.jsx(ge,{children:"Send test messages through the selected channel."})]}),i.jsx(K,{children:r?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),i.jsx(je,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:k=>h(k.target.value),className:"min-h-[80px]"})]}),i.jsxs(P,{disabled:!d.trim(),onClick:()=>{h("")},children:[i.jsx(Xc,{className:"mr-2 h-4 w-4"}),"Send test message"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Xc,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),i.jsx(vV,{open:e,onOpenChange:t,onSubmit:j,isSubmitting:y.isPending||w.isPending}),i.jsx(xV,{open:s,onOpenChange:a,channelId:r??"",channelName:(v==null?void 0:v.display_name)??(v==null?void 0:v.provider),config:g??null,onSubmit:S,isSubmitting:w.isPending}),i.jsx(wV,{open:c,onOpenChange:u,log:o})]})}function _V(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),i.jsx(P,{variant:"outline",asChild:!0,children:i.jsxs(ie,{to:"/skill-editor",children:[i.jsx(Hv,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Installed skills"}),i.jsx(ge,{children:"Enable/disable and manage local skills."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Registry browser"}),i.jsx(ge,{children:"Browse and install skills from the registry."})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(ZS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(je,{placeholder:"Search skills...",className:"pl-9"})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Skill detail"}),i.jsx(ge,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Wr="/skills",Zs={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return ce.get(`${Wr}${t?`?${t}`:""}`)},get:e=>ce.get(`${Wr}/${e}`),create:e=>ce.post(Wr,e),update:(e,t)=>ce.patch(`${Wr}/${e}`,t),delete:e=>ce.delete(`${Wr}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return ce.get(`${Wr}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>ce.get(`${Wr}/${e}/test-runs/${t}`),runTest:(e,t)=>ce.post(`${Wr}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>ce.post(`${Wr}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>ce.get(`${Wr}/${e}/check-requirements`),getVersions:e=>ce.get(`${Wr}/${e}/versions`),createVersion:(e,t)=>ce.post(`${Wr}/${e}/versions`,t),commit:(e,t)=>ce.post(`${Wr}/${e}/commit`,t)};function If(e,t){return e().catch(()=>t)}const ur={all:["skills"],list:e=>[...ur.all,"list",e],detail:e=>[...ur.all,"detail",e],testRuns:(e,t)=>[...ur.all,"test-runs",e,t],testRun:(e,t)=>[...ur.all,"test-run",e,t],versions:e=>[...ur.all,"versions",e],gating:e=>[...ur.all,"gating",e]};function SV(e){return Oe({queryKey:ur.list(e),queryFn:()=>If(()=>Zs.list(e),[])})}function kV(e){return Oe({queryKey:ur.detail(e??""),queryFn:()=>e?If(()=>Zs.get(e),null):Promise.resolve(null),enabled:!!e})}function NV(){const e=_e();return Se({mutationFn:t=>Zs.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.list()}),U.success("Skill created")},onError:t=>{U.error(t.message||"Failed to create skill")}})}function CV(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Zs.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:ur.list()}),e.invalidateQueries({queryKey:ur.detail(r)}),U.success("Skill saved")},onError:t=>{U.error(t.message||"Failed to save skill")}})}function EV(e,t){return Oe({queryKey:ur.testRuns(e??"",t),queryFn:()=>e?If(()=>Zs.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function PV(){const e=_e();return Se({mutationFn:({skillId:t,payload:r})=>Zs.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ur.testRuns(r)}),U.success("Test run started")},onError:t=>{U.error(t.message||"Failed to run skill test")}})}function RV(e){return Oe({queryKey:ur.versions(e??""),queryFn:()=>e?If(()=>Zs.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function TV(e){return Oe({queryKey:ur.gating(e??""),queryFn:()=>e?Zs.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function AV(){const e=_e();return Se({mutationFn:({skillId:t,message:r,sign:n})=>Zs.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:ur.detail(r)}),e.invalidateQueries({queryKey:ur.versions(r)}),U.success("Changes committed")},onError:t=>{U.error(t.message||"Failed to commit")}})}const OV=kt({name:Ce().min(1,"Name is required"),version:Ce().min(1,"Version is required"),description:Ce().optional(),permissions:Ce().optional(),env_keys:Ce().optional()}),Dm={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function IV({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const a=()=>({...Dm,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=_t({resolver:St(OV),defaultValues:a()});m.useEffect(()=>{e&&c(a())},[e]);const d=p=>{const f={name:p.name,version:p.version,description:p.description||void 0,permissions:p.permissions?p.permissions.split(",").map(v=>v.trim()).filter(Boolean):void 0,env_keys:p.env_keys?p.env_keys.split(",").map(v=>v.trim()).filter(Boolean):void 0};n(f),c(Dm),t(!1)},h=p=>{p||c(Dm),t(p)};return i.jsx(ze,{open:e,onOpenChange:h,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Edit frontmatter"}),i.jsx(Fe,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),i.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-name",children:"Name"}),i.jsx(je,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:z(u.name&&"border-destructive")}),u.name&&i.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-version",children:"Version"}),i.jsx(je,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:z(u.version&&"border-destructive")}),u.version&&i.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-description",children:"Description (optional)"}),i.jsx(je,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),i.jsx(je,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),i.jsx(je,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const MV=kt({message:Ce().optional(),sign:Za().optional()}),Lm={message:"",sign:!1};function DV({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:a,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=_t({resolver:St(MV),defaultValues:Lm}),h=l("sign"),p=v=>{n({message:v.message||void 0,sign:v.sign}),u(Lm),t(!1)},f=v=>{v||u(Lm),t(v)};return i.jsx(ze,{open:e,onOpenChange:f,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Commit changes"}),i.jsx(Fe,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),i.jsxs("form",{onSubmit:o(p),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"commit-message",children:"Commit message (optional)"}),i.jsx(je,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...a("message"),className:z(d.message&&"border-destructive")}),d.message&&i.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"commit-sign",children:"Sign package"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),i.jsx(on,{id:"commit-sign",checked:h,onCheckedChange:v=>c("sign",v)})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function LV({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:a}){return e?i.jsx("div",{className:z("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",a),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:i.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),i.jsx(P,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:i.jsx(dl,{className:"h-4 w-4"})})]}),i.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),i.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>i.jsxs("li",{className:z("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?i.jsx(BS,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):i.jsx(Tl,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("span",{className:"font-medium",children:o.label}),o.message&&i.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&i.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),i.jsx("div",{className:"mt-6 flex justify-end",children:i.jsx(P,{onClick:t,children:"Close"})})]})}):null}const mo=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function $V(){const{skillId:e}=DR(),t=Ji(),[r,n]=m.useState("editor"),[s,a]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState(!1),[p,f]=m.useState(!1),{data:v=[],isLoading:g}=SV(),{data:b,isLoading:y}=kV(e??null),{data:x=[]}=EV(e??null,{limit:5}),{data:w=[]}=RV(e??null),{data:j}=TV(e??null),S=CV(),_=PV(),k=AV(),T=NV(),O=b??null,M=O&&(s!==O.content||o!==O.name),W=m.useCallback(()=>{O?(a(O.content||mo),l(O.name||"")):(a(mo),l(""))},[O]);m.useEffect(()=>{O?(a(O.content||mo),l(O.name||"")):e||(a(mo),l(""))},[e,O==null?void 0:O.id,O==null?void 0:O.content,O==null?void 0:O.name]);const L=R=>{t(`/skill-editor/${R}`)},V=()=>{!e||!O||S.mutate({id:e,data:{content:s,name:o||O.name}},{onSuccess:()=>W()})},A=()=>{e&&_.mutate({skillId:e})},Y=R=>{e&&k.mutate({skillId:e,...R},{onSuccess:()=>h(!1)})},Z=R=>{!e||!O||S.mutate({id:e,data:{frontmatter:{...O.frontmatter,...R}}},{onSuccess:()=>{u(!1)}})},se=x[0],D=j&&!j.passed,N=(j==null?void 0:j.requirements)??[];return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[i.jsx(PI,{className:"mr-1 h-4 w-4"}),"All skills"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[i.jsx(FI,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:V,disabled:!e||!M||S.isPending,children:[i.jsx(JS,{className:"mr-1 h-4 w-4"}),S.isPending?"Saving":"Save"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[i.jsx(Tl,{className:"mr-1 h-4 w-4"}),"Gating"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>h(!0),disabled:!e,children:[i.jsx(RI,{className:"mr-1 h-4 w-4"}),"Commit"]}),i.jsxs(P,{size:"sm",onClick:A,disabled:!e||_.isPending,children:[i.jsx(Fi,{className:"mr-1 h-4 w-4"}),_.isPending?"Running":"Test run"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[i.jsxs(H,{className:"lg:col-span-1",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsx(ne,{className:"text-sm",children:"Skills"}),i.jsx(ge,{children:"Select a skill to edit."})]}),i.jsxs(K,{className:"pt-0",children:[g?i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-9 w-full"}),i.jsx(pe,{className:"h-9 w-full"}),i.jsx(pe,{className:"h-9 w-4/5"})]}):v.length===0?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),i.jsxs(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>T.mutate({user_id:"",name:"Untitled Skill",content:mo},{onSuccess:R=>{t(`/skill-editor/${R.id}`)}}),disabled:T.isPending,children:[i.jsx(dr,{className:"mr-1 h-4 w-4"}),T.isPending?"Creating":"New skill"]})]}):i.jsx(Qt,{className:"h-[200px] pr-2",children:i.jsx("ul",{className:"space-y-0.5",role:"list",children:v.map(R=>i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>L(R.id),className:z("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===R.id&&"bg-primary/15 text-primary"),children:[i.jsx(kr,{className:"h-4 w-4 shrink-0"}),i.jsx("span",{className:"truncate",children:R.name}),i.jsx(yn,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},R.id))})}),i.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[i.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&i.jsx(Qt,{className:"h-[120px] pr-2",children:w.length===0?i.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):i.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(R=>i.jsxs("li",{className:"flex justify-between gap-2",children:[i.jsx("span",{className:"truncate font-mono",children:R.version_number}),i.jsx("span",{className:"text-muted-foreground shrink-0",children:R.changes?"":""})]},R.id))})}),!e&&i.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),i.jsx("div",{className:"space-y-4 lg:col-span-1",children:y&&e?i.jsx(H,{children:i.jsx(K,{className:"flex items-center justify-center py-12",children:i.jsx(pe,{className:"h-8 w-48"})})}):i.jsxs(i.Fragment,{children:[i.jsxs(Ml,{value:r,onValueChange:n,className:"w-full",children:[i.jsxs(Xa,{className:"grid w-full grid-cols-3",children:[i.jsx(qt,{value:"editor",children:"SKILL.md editor"}),i.jsx(qt,{value:"preview",children:"Preview"}),i.jsx(qt,{value:"frontmatter",children:"Frontmatter"})]}),i.jsx(Ht,{value:"editor",className:"mt-4",children:i.jsxs(H,{className:"relative overflow-hidden",children:[p&&i.jsx(LV,{open:p,onClose:()=>f(!1),requirements:N.map(R=>({id:R.id,label:R.label,met:R.met,message:R.message})),passed:(j==null?void 0:j.passed)??!0}),i.jsxs(K,{className:"pt-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx(G,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),i.jsx(je,{id:"skill-name",value:o,onChange:R=>l(R.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),i.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:mo,value:s,onChange:R=>a(R.target.value)})]})]})}),i.jsx(Ht,{value:"preview",className:"mt-4",children:i.jsx(H,{children:i.jsx(K,{className:"pt-6",children:i.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:i.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),i.jsx(Ht,{value:"frontmatter",className:"mt-4",children:i.jsx(H,{children:i.jsxs(K,{className:"pt-6",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(O==null?void 0:O.frontmatter)&&Object.keys(O.frontmatter).length>0&&i.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(O.frontmatter,null,2)})]})})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{className:"text-sm",children:"Test runner"}),i.jsx(ge,{children:"Run skill in sandbox and view logs."})]}),i.jsx(K,{children:se?i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Status: ",se.status]}),i.jsx("span",{children:""}),i.jsx("span",{children:new Date(se.created_at).toLocaleString()})]}),i.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:se.logs||"No logs."})]}):i.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),i.jsx(IV,{open:c,onOpenChange:u,initialValues:O==null?void 0:O.frontmatter,onSubmit:Z,isSubmitting:S.isPending}),i.jsx(DV,{open:d,onOpenChange:h,skillName:O==null?void 0:O.name,onSubmit:Y,isSubmitting:k.isPending})]})}function FV(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),i.jsxs(P,{children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Nodes list"}),i.jsx(ge,{children:"Capability badges, pair flow (QR/code), node details (exec allowlist, wake/config, tokens), approval history, revoke/unpair."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Pair node"}),i.jsx(ge,{children:"QR on left, code & instructions on right, expiry countdown."})]}),i.jsx(K,{children:i.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:i.jsxs("div",{className:"text-center",children:[i.jsx(GS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."})]})})})]})]})}function UV({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const a=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{"aria-describedby":"cron-delete-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Delete cron job?"}),i.jsxs(Fe,{id:"cron-delete-description",children:['This will permanently delete "',a,'" and its run history. This action cannot be undone.']})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(P,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const zV={running:{label:"Running",icon:Zr,variant:"secondary"},completed:{label:"Completed",icon:Jc,variant:"default"},failed:{label:"Failed",icon:Gv,variant:"destructive"},aborted:{label:"Aborted",icon:xI,variant:"outline"}};function VV({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?i.jsxs(H,{className:z("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(ee,{children:[i.jsx(pe,{className:"h-6 w-32"}),i.jsx(pe,{className:"h-4 w-48"})]}),i.jsx(K,{className:"space-y-3",children:[1,2,3].map(s=>i.jsx(pe,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?i.jsxs(H,{className:z("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(nd,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(ge,{children:"Past executions with output and logs. Newest first."})]}),i.jsx(K,{children:i.jsx(Qt,{className:"h-[320px] pr-4",children:i.jsx("ul",{className:"space-y-3",children:t.map(s=>{const a=zV[s.status],o=a.icon;return i.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(lt,{variant:a.variant,className:"gap-1",children:[s.status==="running"?i.jsx(o,{className:"h-3 w-3 animate-spin"}):i.jsx(o,{className:"h-3 w-3"}),a.label]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:rn(new Date(s.execution_time),{addSuffix:!0})})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?i.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),i.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),i.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):i.jsxs(H,{className:z("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(nd,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(ge,{children:"Past executions for this job. Run the job to see entries here."})]}),i.jsx(K,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(nd,{className:"h-10 w-10 text-muted-foreground/50"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):i.jsxs(H,{className:z("rounded-[10px] border border-border bg-card shadow-card",n),children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(nd,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),i.jsx(ge,{children:"Select a job to view its run history, or run a job to see entries here."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function BV(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,a]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(null),{data:p}=Rf(),f=(p==null?void 0:p.user_id)??"",{data:v=[],isLoading:g}=RC(),{data:b=[],isLoading:y}=S8(c??d,{limit:20}),x=TC(),w=j8(),j=_8(),S=k8(),_=()=>{a(null),t(!0)},k=A=>{a(A),t(!0)},T=A=>{s?w.mutate({id:s.id,data:A},{onSuccess:()=>{t(!1),a(null)}}):x.mutate(A,{onSuccess:()=>t(!1)})},O=A=>{l(A),n(!0)},M=A=>{j.mutate(A,{onSuccess:()=>{n(!1),l(null),c===A&&u(null)}})},W=A=>{h(A.id),S.mutate(A.id,{onSuccess:()=>{u(A.id),h(null)},onError:()=>h(null)})},L=A=>A.name||A.description||"Unnamed job",V=A=>A==="active"?"default":A==="paused"?"secondary":"destructive";return i.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),i.jsxs(P,{onClick:_,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),i.jsxs(H,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Cron list"}),i.jsx(ge,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),i.jsx(K,{className:"p-0",children:g?i.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(A=>i.jsx(pe,{className:"h-16 w-full rounded-lg"},A))}):v.length?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"hidden overflow-x-auto md:block",children:i.jsxs("table",{className:"w-full text-left text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[i.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),i.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),i.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),i.jsx("tbody",{children:v.map(A=>i.jsxs("tr",{className:z("border-b border-border transition-colors hover:bg-secondary/30",c===A.id&&"bg-primary/5"),children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:L(A)}),A.isolation_setting&&i.jsx("span",{title:"Isolated",children:i.jsx(xn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),i.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:A.schedule}),i.jsx("td",{className:"px-6 py-4",children:i.jsx(lt,{variant:V(A.status),children:A.status})}),i.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:A.next_run_time?rn(new Date(A.next_run_time),{addSuffix:!0}):""}),i.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:A.session_target||""}),i.jsx("td",{className:"px-6 py-4 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>W(A),disabled:S.isPending&&d===A.id,className:"transition-transform hover:scale-[1.02]",children:[S.isPending&&d===A.id?i.jsx(Oo,{className:"h-4 w-4 animate-spin"}):i.jsx(Fi,{className:"h-4 w-4"}),i.jsx("span",{className:"ml-1 hidden sm:inline",children:S.isPending&&d===A.id?"Running":"Run now"})]}),i.jsxs(nu,{children:[i.jsx(su,{asChild:!0,children:i.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8",children:i.jsx(uh,{className:"h-4 w-4"})})}),i.jsxs(pl,{align:"end",children:[i.jsxs(Dr,{onClick:()=>k(A),children:[i.jsx(mg,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Dr,{onClick:()=>{u(A.id)},children:[i.jsx(Oo,{className:"mr-2 h-4 w-4"}),"View history"]}),i.jsxs(Dr,{className:"text-destructive focus:text-destructive",onClick:()=>O(A),children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},A.id))})]})}),i.jsx("div",{className:"space-y-3 p-4 md:hidden",children:v.map(A=>i.jsx(H,{className:z("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===A.id&&"ring-2 ring-primary"),children:i.jsxs(K,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:L(A)}),A.isolation_setting&&i.jsx("span",{title:"Isolated",children:i.jsx(xn,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),i.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:A.schedule}),i.jsx(lt,{variant:V(A.status),className:"mt-2",children:A.status}),A.next_run_time&&i.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",rn(new Date(A.next_run_time),{addSuffix:!0})]})]}),i.jsxs(nu,{children:[i.jsx(su,{asChild:!0,children:i.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(uh,{className:"h-4 w-4"})})}),i.jsxs(pl,{align:"end",children:[i.jsxs(Dr,{onClick:()=>W(A),children:[i.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Run now"]}),i.jsxs(Dr,{onClick:()=>k(A),children:[i.jsx(mg,{className:"mr-2 h-4 w-4"}),"Edit"]}),i.jsxs(Dr,{onClick:()=>u(A.id),children:[i.jsx(Oo,{className:"mr-2 h-4 w-4"}),"View history"]}),i.jsxs(Dr,{className:"text-destructive focus:text-destructive",onClick:()=>O(A),children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),i.jsxs("div",{className:"mt-3 flex gap-2",children:[i.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>W(A),disabled:S.isPending&&d===A.id,children:[S.isPending&&d===A.id?i.jsx(Oo,{className:"mr-1 h-4 w-4 animate-spin"}):i.jsx(Fi,{className:"mr-1 h-4 w-4"}),"Run now"]}),i.jsx(P,{variant:"outline",size:"sm",onClick:()=>k(A),children:"Edit"})]})]})},A.id))})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[i.jsx(rf,{className:"h-12 w-12 text-muted-foreground/50"}),i.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),i.jsxs(P,{onClick:_,className:"mt-4",children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),i.jsx(VV,{jobId:c??d,runs:b,isLoading:y}),i.jsx(v2,{open:e,onOpenChange:t,onSubmit:T,isSubmitting:x.isPending||w.isPending,userId:f,job:s}),i.jsx(UV,{job:o,open:r,onOpenChange:n,onConfirm:M,isDeleting:j.isPending})]})}function WV(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const _s={getWebhooks:async()=>{const{data:e,error:t}=await F.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await F.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=WV(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,a={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await F.from("webhooks").insert(a).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await F.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await F.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)return[];let r=F.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await F.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await F.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await F.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await _s.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await F.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:a}=await F.from("payload_templates").insert(n).select().single();if(a)throw new Error(a.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await F.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function qV(e,t){return e().catch(()=>t)}const Ur={all:["webhooks"],list:()=>[...Ur.all,"list"],detail:e=>[...Ur.all,"detail",e],hookScripts:e=>[...Ur.all,"hookScripts",e],payloadTemplate:e=>[...Ur.all,"payloadTemplate",e]};function HV(){return Oe({queryKey:Ur.list(),queryFn:()=>qV(()=>_s.getWebhooks(),[])})}function KV(){const e=_e();return Se({mutationFn:t=>_s.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.list()}),U.success("Webhook created")},onError:t=>{U.error(t.message||"Failed to create webhook")}})}function GV(){const e=_e();return Se({mutationFn:t=>_s.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.list()}),U.success("Webhook removed")},onError:t=>{U.error(t.message||"Failed to remove webhook")}})}function QV(e){return Oe({queryKey:Ur.hookScripts(e),queryFn:()=>_s.getHookScripts(e)})}function YV(){const e=_e();return Se({mutationFn:t=>_s.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ur.hookScripts(r.webhook_id??null)}),U.success("Hook script added")},onError:t=>{U.error(t.message||"Failed to add hook script")}})}function JV(){const e=_e();return Se({mutationFn:({id:t,data:r})=>_s.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:Ur.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:Ur.hookScripts(null)}),U.success("Hook script updated")},onError:t=>{U.error(t.message||"Failed to update hook script")}})}function ZV(){const e=_e();return Se({mutationFn:t=>_s.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ur.all}),U.success("Hook script removed")},onError:t=>{U.error(t.message||"Failed to remove hook script")}})}function XV(e){return Oe({queryKey:Ur.payloadTemplate(e??""),queryFn:()=>e?_s.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function eB(){const e=_e();return Se({mutationFn:t=>_s.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ur.payloadTemplate(r.webhook_id)}),U.success("Payload template saved")},onError:t=>{U.error(t.message||"Failed to save payload template")}})}const tB=kt({route_name:Ce().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:Ce().optional(),delivery_route:Ce().optional()}),$m={route_name:"",mapping_template:"",delivery_route:""};function rB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:a,reset:o,formState:{errors:l}}=_t({resolver:St(tB),defaultValues:$m}),c=d=>{var h,p;r({route_name:d.route_name.trim(),mapping_template:((h=d.mapping_template)==null?void 0:h.trim())||null,delivery_route:((p=d.delivery_route)==null?void 0:p.trim())||null}),o($m)},u=d=>{d||o($m),t(d)};return i.jsx(ze,{open:e,onOpenChange:u,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Create webhook"}),i.jsx(Fe,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),i.jsxs("form",{onSubmit:a(c),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"route_name",children:"Route name"}),i.jsx(je,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&i.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),i.jsx(je,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),i.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const nB=kt({event_trigger:Ce().min(1,"Event trigger is required"),language:Nr(["javascript","python"]),script_content:Ce(),webhook_id:Ce().nullable()}),sB=["/new","/reset","start","end","before_run","after_run"],fd={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function iB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:a}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:h}}=_t({resolver:St(nB),defaultValues:fd}),p=u("language"),f=u("webhook_id");m.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:fd)},[s,e,d]);const v=b=>{r(b),s||d(fd),t(!1)},g=b=>{b||d(fd),t(b)};return i.jsx(ze,{open:e,onOpenChange:g,children:i.jsxs(De,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:s?"Edit hook script":"Add hook script"}),i.jsx(Fe,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),i.jsxs("form",{onSubmit:l(v),className:"flex flex-col flex-1 min-h-0 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"event_trigger",children:"Event trigger"}),i.jsxs(Dt,{value:u("event_trigger"),onValueChange:b=>c("event_trigger",b),children:[i.jsx(Rt,{id:"event_trigger",className:h.event_trigger?"border-destructive":"",children:i.jsx(Lt,{placeholder:"Select trigger"})}),i.jsx(Tt,{children:sB.map(b=>i.jsx(Ve,{value:b,children:b},b))})]}),h.event_trigger&&i.jsx("p",{className:"text-xs text-destructive",children:h.event_trigger.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"language",children:"Language"}),i.jsxs(Dt,{value:p,onValueChange:b=>c("language",b),children:[i.jsx(Rt,{id:"language",children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"javascript",children:"JavaScript"}),i.jsx(Ve,{value:"python",children:"Python"})]})]})]})]}),a.length>0&&i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"webhook_id",children:"Webhook (optional)"}),i.jsxs(Dt,{value:f??"none",onValueChange:b=>c("webhook_id",b==="none"?null:b),children:[i.jsx(Rt,{id:"webhook_id",children:i.jsx(Lt,{placeholder:"Global (all webhooks)"})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"none",children:"Global (all webhooks)"}),a.map(b=>i.jsx(Ve,{value:b.id,children:b.route_name},b.id))]})]})]}),i.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[i.jsx(G,{htmlFor:"script_content",children:"Script content"}),i.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:p==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"secondary",onClick:()=>g(!1),disabled:n,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function aB({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=m.useState(null),[s,a]=m.useState(null),{data:o,isLoading:l}=XV(r),c=eB(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>a(null)})},h=r&&u!==((o==null?void 0:o.template_content)??"");return i.jsxs(H,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(CI,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),i.jsx(ge,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),i.jsxs(K,{className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"payload-webhook",children:"Webhook"}),t?i.jsx(pe,{className:"h-10 w-full rounded-md"}):i.jsxs(Dt,{value:r??"",onValueChange:p=>{n(p||null),a(null)},children:[i.jsx(Rt,{id:"payload-webhook",children:i.jsx(Lt,{placeholder:"Select a webhook"})}),i.jsx(Tt,{children:e.length===0?i.jsx(Ve,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(p=>i.jsx(Ve,{value:p.id,children:p.route_name},p.id))})]})]}),r&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"template_content",children:"Template content"}),l?i.jsx(pe,{className:"h-[200px] w-full rounded-md"}):i.jsx("textarea",{id:"template_content",rows:10,className:z("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:p=>a(p.target.value),spellCheck:!1})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(P,{onClick:d,disabled:c.isPending||!h&&!o,children:c.isPending?"Saving":i.jsxs(i.Fragment,{children:[i.jsx(JS,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&i.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function oB(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,a]=m.useState(null),[o,l]=m.useState(null),{data:c=[],isLoading:u}=HV(),{data:d=[],isLoading:h}=QV(null),p=KV(),f=GV(),v=YV(),g=JV(),b=ZV(),y=async _=>{await p.mutateAsync(_),t(!1)},x=_=>{navigator.clipboard.writeText(_),l(_),U.success("URL copied"),setTimeout(()=>l(null),2e3)},w=_=>{s?g.mutate({id:s.id,data:{event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id}},{onSuccess:()=>{a(null),n(!1)}}):v.mutate({event_trigger:_.event_trigger,language:_.language,script_content:_.script_content,webhook_id:_.webhook_id},{onSuccess:()=>n(!1)})},j=_=>{a(_),n(!0)},S=()=>{a(null),n(!0)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),i.jsxs(P,{onClick:()=>t(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),i.jsxs(Ml,{defaultValue:"endpoints",className:"space-y-4",children:[i.jsxs(Xa,{className:"grid w-full max-w-2xl grid-cols-4",children:[i.jsx(qt,{value:"endpoints",children:"Endpoints"}),i.jsx(qt,{value:"hooks",children:"Hook scripts"}),i.jsx(qt,{value:"transform",children:"Payload transformer"}),i.jsx(qt,{value:"gmail",children:"Gmail Pub/Sub"})]}),i.jsx(Ht,{value:"endpoints",className:"space-y-4",children:i.jsxs(H,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(gg,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),i.jsx(ge,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),i.jsx(K,{children:u?i.jsx("div",{className:"space-y-3",children:[1,2,3].map(_=>i.jsx(pe,{className:"h-20 w-full rounded-lg"},_))}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(gg,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),i.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):i.jsx(Qt,{className:"h-[400px] pr-4",children:i.jsx("div",{className:"space-y-3",children:c.map(_=>i.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:_.route_name}),i.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:_.url}),i.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"font-mono",children:["Token: ",_.token_preview]}),_.last_received_at&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(rf,{className:"h-3 w-3"}),"Last received"," ",rn(new Date(_.last_received_at),{addSuffix:!0})]})]}),_.mapping_template&&i.jsx(lt,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),i.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[i.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(_.url),"aria-label":"Copy URL",children:o===_.url?i.jsx(nf,{className:"h-4 w-4 text-success"}):i.jsx(NI,{className:"h-4 w-4"})}),i.jsxs(nu,{children:[i.jsx(su,{asChild:!0,children:i.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[i.jsx(uh,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Actions"})]})}),i.jsx(pl,{align:"end",children:i.jsxs(Dr,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&f.mutate(_.id)},children:[i.jsx($a,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},_.id))})})})]})}),i.jsx(Ht,{value:"hooks",className:"space-y-4",children:i.jsxs(H,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(Gw,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),i.jsx(ge,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),i.jsxs(K,{children:[i.jsx("div",{className:"mb-4 flex justify-end",children:i.jsxs(P,{onClick:S,children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),h?i.jsx("div",{className:"space-y-3",children:[1,2].map(_=>i.jsx(pe,{className:"h-16 w-full rounded-lg"},_))}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(Gw,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),i.jsxs(P,{className:"mt-4",variant:"outline",onClick:S,children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):i.jsx(Qt,{className:"h-[360px] pr-4",children:i.jsx("div",{className:"space-y-2",children:d.map(_=>{var k;return i.jsxs("div",{className:z("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-medium",children:_.event_trigger}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[_.language,_.webhook_id?`  Webhook: ${((k=c.find(T=>T.id===_.webhook_id))==null?void 0:k.route_name)??_.webhook_id}`:"  Global"]})]}),i.jsxs("div",{className:"flex shrink-0 gap-1",children:[i.jsx(P,{variant:"ghost",size:"sm",onClick:()=>j(_),children:"Edit"}),i.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&b.mutate(_.id)},"aria-label":"Remove script",children:i.jsx($a,{className:"h-4 w-4"})})]})]},_.id)})})})]})]})}),i.jsx(Ht,{value:"transform",className:"space-y-4",children:i.jsx(aB,{webhooks:c,isLoadingWebhooks:u})}),i.jsx(Ht,{value:"gmail",className:"space-y-4",children:i.jsxs(H,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(ul,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),i.jsx(ge,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),i.jsx(K,{children:i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(ul,{className:"mb-4 h-12 w-12 text-muted-foreground"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),i.jsx(P,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),i.jsx(rB,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:p.isPending}),i.jsx(iB,{open:r,onOpenChange:_=>{n(_),_||a(null)},onSubmit:w,isSubmitting:v.isPending||g.isPending,script:s,webhooks:c})]})}const Zn={getProfiles:async()=>{const{data:e,error:t}=await F.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await F.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await F.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await F.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(a=>({...a,browser_profile_id:e})),{data:n,error:s}=await F.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await F.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await F.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await F.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await F.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await F.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await F.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=F.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await F.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},deleteCaptureRecord:async e=>{const{error:t}=await F.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await F.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await F.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await F.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await F.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Wy(e,t){return e().catch(()=>t)}const $t={all:["browser"],profiles:()=>[...$t.all,"profiles"],profile:e=>[...$t.all,"profile",e??""],tabs:e=>[...$t.all,"tabs",e??""],tab:e=>[...$t.all,"tab",e??""],scripts:()=>[...$t.all,"scripts"],script:e=>[...$t.all,"script",e??""],captures:(e,t)=>[...$t.all,"captures",e??"",t],cdpTokens:()=>[...$t.all,"cdpTokens"],cdpToken:e=>[...$t.all,"cdpToken",e??""]};function lB(){return Oe({queryKey:$t.profiles(),queryFn:()=>Wy(()=>Zn.getProfiles(),[])})}function cB(e){return Oe({queryKey:$t.profile(e),queryFn:()=>e?Zn.getProfile(e):Promise.resolve(null),enabled:!!e})}function uB(){const e=_e();return Se({mutationFn:t=>Zn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:$t.profiles()}),U.success("Profile created")},onError:t=>{U.error(t.message||"Failed to create profile")}})}function dB(){const e=_e();return Se({mutationFn:({id:t,data:r})=>Zn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:$t.profiles()}),e.invalidateQueries({queryKey:$t.profile(r)}),U.success("Profile updated")},onError:t=>{U.error(t.message||"Failed to update profile")}})}function hB(e){return Oe({queryKey:$t.tabs(e),queryFn:()=>Zn.getTabs(e),enabled:!!e})}function fB(){return Oe({queryKey:$t.scripts(),queryFn:()=>Wy(()=>Zn.getScripts(),[])})}function mB(){const e=_e();return Se({mutationFn:t=>Zn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:$t.scripts()}),U.success("Script added")},onError:t=>{U.error(t.message||"Failed to add script")}})}function pB(e,t){return Oe({queryKey:$t.captures(e,t),queryFn:()=>Zn.getCaptureRecords(e,t),enabled:!!e})}function gB(){const e=_e();return Se({mutationFn:t=>Zn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$t.captures(r.browser_profile_id)}),U.success("Capture saved")},onError:t=>{U.error(t.message||"Failed to save capture")}})}function vB(){return Oe({queryKey:$t.cdpTokens(),queryFn:()=>Wy(()=>Zn.getCdpTokens(),[])})}function yB(){const e=_e();return Se({mutationFn:t=>Zn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:$t.cdpTokens()}),U.success("CDP token added")},onError:t=>{U.error(t.message||"Failed to add CDP token")}})}function xB({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:a,isIsolated:o=!0}){const l=r==="start";return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[420px]",showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:l?"Start managed profile":"Stop managed profile"}),i.jsx(Fe,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(a!=null||o!=null)&&i.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[a&&i.jsxs("p",{className:"truncate",title:a,children:[i.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",a]}),o!=null&&i.jsxs("p",{children:[i.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(P,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?i.jsxs(i.Fragment,{children:[i.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Start profile"]}):i.jsxs(i.Fragment,{children:[i.jsx(af,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function wB({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{className:"flex items-center gap-2 truncate pr-8",children:s}),i.jsx(Fe,{className:"break-all",children:n})]}),i.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&i.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:i.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),i.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"URL"}),i.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),i.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),i.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&i.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:z("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[i.jsx(Qv,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const bB=kt({name:Ce().min(1,"Name is required").max(200,"Name too long"),script_content:Ce().optional()}),x0={name:"",script_content:""};function jB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:a,reset:o,formState:{errors:l}}=_t({resolver:St(bB),defaultValues:x0}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(x0),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Add automation script"}),i.jsx(Fe,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),i.jsxs("form",{onSubmit:a(c),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"script-name",children:"Script name"}),i.jsx(je,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&i.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"script-content",children:"Content (optional)"}),i.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const _B={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},SB={screenshot:hg,pdf:kr,dom:dg};function kB({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:a,onClose:o}){const l=SB[r],c=_B[r],u=!!n,d=()=>{o==null||o(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[420px]",showClose:!0,children:[i.jsxs(Le,{children:[i.jsxs($e,{className:"flex items-center gap-2",children:[i.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),i.jsxs(Fe,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&i.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{variant:"outline",onClick:d,children:"Close"}),u&&i.jsxs(P,{onClick:()=>{if(a==null||a(),n){const h=document.createElement("a");h.href=n,h.download=`capture-${r}-${Date.now()}`,h.click()}d()},children:[i.jsx(xs,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const NB=kt({connection_type:Nr(["local","node_proxy"]),token_preview:Ce().max(20).optional(),config_json:Ce().optional()}),Fm={connection_type:"local",token_preview:"",config_json:"{}"};function CB({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:a,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=_t({resolver:St(NB),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Fm}),h=c("connection_type");m.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Fm)},[e,r,u]);const p=f=>{let v={};try{v=f.config_json?JSON.parse(f.config_json):{}}catch{v={}}n(r?{connection_type:f.connection_type,token_preview:f.token_preview||null,config_json:v}:{connection_type:f.connection_type,token_preview:f.token_preview||null,config_json:v}),u(Fm),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[520px]",showClose:!0,children:[i.jsxs(Le,{children:[i.jsx($e,{children:r?"Edit CDP connector":"Add CDP connector"}),i.jsx(Fe,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),i.jsxs("form",{onSubmit:o(p),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Connection type"}),i.jsxs(Dt,{value:h,onValueChange:f=>l("connection_type",f),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"local",children:"Local"}),i.jsx(Ve,{value:"node_proxy",children:"Node proxy"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(G,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[i.jsx(WS,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),i.jsx(je,{id:"token-preview",placeholder:"e.g. ws://***...***",...a("token_preview")}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"config-json",children:"Config (JSON, optional)"}),i.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...a("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&i.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const EB={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"};function PB(){const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,a]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState(null),[p,f]=m.useState(!1),{data:v=[],isLoading:g}=lB(),b=m.useMemo(()=>v.find(N=>N.status==="running")??v[0]??null,[v]),y=r??(b==null?void 0:b.id)??null,{data:x}=cB(y),{data:w=[],isLoading:j,refetch:S}=hB(y),{data:_=[],isLoading:k}=fB(),{data:T=[]}=pB(y,{limit:10}),{data:O=[]}=vB(),M=dB(),W=uB(),L=mB(),V=gB(),A=yB(),Y=(x==null?void 0:x.status)==="running",Z=N=>{y&&t({open:!0,action:N})},se=()=>{if(!e||!y)return;const N=e.action==="start"?"running":"stopped";M.mutate({id:y,data:{status:N}},{onSettled:()=>t(null)})},D=N=>{y&&V.mutate({browser_profile_id:y,capture_type:N,file_path:null,file_url:`/api/browser/captures/${N}-${Date.now()}`,tab_id:null},{onSuccess:R=>{h({open:!0,type:N,fileUrl:R.file_url,filePath:R.file_path})}})};return i.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[i.jsxs("header",{children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),i.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Manage Chromium profile, inspect tabs, run automations, and capture screenshots or PDFs."})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(ty,{className:"h-5 w-5 text-primary"}),"Managed Profile Controls"]}),i.jsx(ge,{children:"Start or stop the managed Chromium profile. Profile footprint and isolation are shown below."})]}),i.jsx(K,{className:"space-y-4",children:g?i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx(pe,{className:"h-9 w-24 rounded-md"}),i.jsx(pe,{className:"h-9 w-24 rounded-md"}),i.jsx(pe,{className:"h-6 flex-1 min-w-[200px] rounded"})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[v.length>0&&i.jsx("select",{className:"rounded-md border border-input bg-background px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:y??"",onChange:N=>n(N.target.value||null),children:v.map(N=>i.jsxs("option",{value:N.id,children:["Profile ",N.id.slice(0,8),"  ",EB[N.status]??N.status]},N.id))}),i.jsxs(P,{size:"sm",onClick:()=>Z("start"),disabled:!y||Y||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(Fi,{className:"mr-1 h-4 w-4"}),"Start"]}),i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Z("stop"),disabled:!y||!Y||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(af,{className:"mr-1 h-4 w-4"}),"Stop"]})]}),x&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[x.footprint_path&&i.jsxs("span",{className:"truncate font-mono",title:x.footprint_path,children:["Path: ",x.footprint_path]}),i.jsx(lt,{variant:x.is_isolated?"default":"secondary",className:"shrink-0",children:x.is_isolated?"Isolated":"Not isolated"})]}),v.length===0&&i.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"No profile yet. Create a default profile to start the managed browser."}),i.jsx(P,{size:"sm",variant:"outline",onClick:()=>W.mutate({status:"stopped",is_isolated:!0}),disabled:W.isPending,children:W.isPending?"Creating":"Create profile"})]})]})})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Qw,{className:"h-5 w-5 text-primary"}),"Tab Inspector"]}),y&&i.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>S(),disabled:j||!Y,children:[i.jsx(wu,{className:z("h-4 w-4",j&&"animate-spin")}),i.jsx("span",{className:"ml-1 sr-only sm:not-sr-only",children:"Refresh"})]})]}),i.jsx(ge,{children:"Open tabs with snapshot thumbnails. Click a tab for details."})]}),i.jsx(K,{children:y?j?i.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(N=>i.jsx(pe,{className:"h-24 rounded-lg"},N))}):w.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(DI,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:Y?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):i.jsx(Qt,{className:"w-full",children:i.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:w.map(N=>i.jsxs("button",{type:"button",onClick:()=>{a(N),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[N.snapshot_url?i.jsx("img",{src:N.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):i.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:i.jsx(Qw,{className:"h-8 w-8 text-muted-foreground"})}),i.jsxs("div",{className:"p-2",children:[i.jsx("p",{className:"truncate text-sm font-medium",title:N.title??N.url,children:N.title||N.url||"Untitled"}),i.jsx("p",{className:"truncate text-xs text-muted-foreground",title:N.url,children:N.url||""})]})]},N.id))})}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or start a profile to inspect tabs."})})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(dg,{className:"h-5 w-5 text-primary"}),"Automation Runner"]}),i.jsxs(P,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[i.jsx(pg,{className:"mr-1 h-4 w-4"}),"Add script"]})]}),i.jsx(ge,{children:"Upload and run automation scripts. Actions are logged deterministically."})]}),i.jsx(K,{children:k?i.jsx("ul",{className:"space-y-2",children:[1,2].map(N=>i.jsx(pe,{className:"h-12 rounded-lg"},N))}):_.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(pg,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No scripts"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a script to run automations against the profile."}),i.jsxs(P,{className:"mt-3",variant:"outline",size:"sm",onClick:()=>u(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add script"]})]}):i.jsx("ul",{className:"space-y-2",children:_.map(N=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 px-3 py-2",children:[i.jsx("span",{className:"font-medium truncate",children:N.name}),i.jsx(lt,{variant:"secondary",children:N.execution_status})]},N.id))})})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(hg,{className:"h-5 w-5 text-primary"}),"Capture Tools"]}),i.jsx(ge,{children:"Screenshot, full-page PDF, or DOM snapshot of the current view."})]}),i.jsxs(K,{className:"flex flex-wrap gap-3",children:[i.jsxs(P,{variant:"outline",onClick:()=>D("screenshot"),disabled:!y||!Y||V.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(hg,{className:"mr-2 h-4 w-4"}),"Screenshot"]}),i.jsxs(P,{variant:"outline",onClick:()=>D("pdf"),disabled:!y||!Y||V.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(kr,{className:"mr-2 h-4 w-4"}),"PDF"]}),i.jsxs(P,{variant:"outline",onClick:()=>D("dom"),disabled:!y||!Y||V.isPending,className:"transition-transform hover:scale-[1.02]",children:[i.jsx(dg,{className:"mr-2 h-4 w-4"}),"DOM snapshot"]}),!y&&i.jsx("p",{className:"text-sm text-muted-foreground self-center",children:"Start a profile to capture."})]}),T.length>0&&i.jsxs(K,{className:"border-t border-border pt-4",children:[i.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recent captures"}),i.jsx("ul",{className:"flex flex-wrap gap-2",children:T.slice(0,5).map(N=>i.jsxs(lt,{variant:"outline",children:[N.capture_type,"  ",new Date(N.created_at).toLocaleDateString()]},N.id))})]})]}),i.jsxs(H,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ra,{className:"h-5 w-5 text-primary"}),"CDP Connector Settings"]}),i.jsxs(P,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"transition-transform hover:scale-[1.02]",children:[i.jsx(dr,{className:"mr-1 h-4 w-4"}),"Add connector"]})]}),i.jsx(ge,{children:"Local or node proxy CDP settings. Tokens are stored with sensitive data redacted."})]}),i.jsx(K,{children:O.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[i.jsx(WS,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No CDP connectors"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a connector to use remote CDP or node proxy."}),i.jsxs(P,{className:"mt-3",variant:"outline",size:"sm",onClick:()=>f(!0),children:[i.jsx(dr,{className:"mr-2 h-4 w-4"}),"Add connector"]})]}):i.jsx("ul",{className:"space-y-2",children:O.map(N=>i.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 px-3 py-2",children:[i.jsx("span",{className:"font-mono text-sm",children:N.token_preview||N.connection_type}),i.jsx(lt,{variant:"secondary",children:N.connection_type})]},N.id))})})]}),e&&i.jsx(xB,{open:e.open,onOpenChange:N=>!N&&t(null),action:e.action,onConfirm:se,isPending:M.isPending,profilePath:x==null?void 0:x.footprint_path,isIsolated:x==null?void 0:x.is_isolated}),i.jsx(wB,{open:o,onOpenChange:l,tab:s}),i.jsx(jB,{open:c,onOpenChange:u,onSubmit:N=>L.mutate(N),isSubmitting:L.isPending}),d&&i.jsx(kB,{open:d.open,onOpenChange:N=>!N&&h(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),i.jsx(CB,{open:p,onOpenChange:f,existing:null,onSubmit:N=>A.mutate(N),isSubmitting:A.isPending})]})}const jn={getWakeWords:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await F.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await F.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");let r=F.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await F.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await F.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function k2(e,t){return e().catch(()=>t)}const tr={all:["voice"],wakeWords:()=>[...tr.all,"wakeWords"],talkModeSettings:()=>[...tr.all,"talkModeSettings"],talkModeSetting:e=>[...tr.all,"talkModeSetting",e],transcriptionBackends:()=>[...tr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...tr.all,"ttsProviderSetting"],mediaSetting:()=>[...tr.all,"mediaSetting"]};function RB(){return Oe({queryKey:tr.wakeWords(),queryFn:()=>k2(()=>jn.getWakeWords(),[])})}function TB(){const e=_e();return Se({mutationFn:t=>jn.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.wakeWords()}),U.success("Wake word added")},onError:t=>{U.error(t.message||"Failed to add wake word")}})}function AB(){const e=_e();return Se({mutationFn:({id:t,data:r})=>jn.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:tr.wakeWords()}),U.success("Wake word updated")},onError:t=>{U.error(t.message||"Failed to update wake word")}})}function OB(){const e=_e();return Se({mutationFn:t=>jn.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.wakeWords()}),U.success("Wake word removed")},onError:t=>{U.error(t.message||"Failed to remove wake word")}})}function IB(){return Oe({queryKey:tr.talkModeSettings(),queryFn:()=>k2(()=>jn.getTalkModeSettings(),[])})}function MB(){const e=_e();return Se({mutationFn:t=>jn.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.talkModeSettings()}),e.invalidateQueries({queryKey:tr.all}),U.success("Talk mode saved")},onError:t=>{U.error(t.message||"Failed to save talk mode")}})}function DB(){return Oe({queryKey:tr.transcriptionBackends(),queryFn:()=>jn.getTranscriptionBackends()})}function LB(){const e=_e();return Se({mutationFn:t=>jn.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.transcriptionBackends()}),U.success("Transcription backends saved")},onError:t=>{U.error(t.message||"Failed to save transcription backends")}})}function $B(){return Oe({queryKey:tr.ttsProviderSetting(),queryFn:()=>jn.getTtsProviderSetting()})}function FB(){const e=_e();return Se({mutationFn:t=>jn.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.ttsProviderSetting()}),U.success("TTS provider saved")},onError:t=>{U.error(t.message||"Failed to save TTS provider")}})}function UB(){return Oe({queryKey:tr.mediaSetting(),queryFn:()=>jn.getMediaSetting()})}function zB(){const e=_e();return Se({mutationFn:t=>jn.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:tr.mediaSetting()}),U.success("Media settings saved")},onError:t=>{U.error(t.message||"Failed to save media settings")}})}const VB=kt({word:Ce().min(1,"Wake word is required").max(64),status:Nr(["active","inactive"]),propagate_to_nodes:Za()}),Um={word:"",status:"active",propagate_to_nodes:!0};function BB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:a,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=_t({resolver:St(VB),defaultValues:Um}),h=c("propagate_to_nodes"),p=c("status"),f=g=>{r(g),u(Um),t(!1)},v=g=>{g&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):g||u(Um),t(g)};return i.jsx(ze,{open:e,onOpenChange:v,children:i.jsxs(De,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:s?"Edit wake word":"Add wake word"}),i.jsx(Fe,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),i.jsxs("form",{onSubmit:o(f),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"wake-word-input",children:"Wake word"}),i.jsx(je,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...a("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&i.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Status"}),i.jsxs(Dt,{value:p,onValueChange:g=>l("status",g),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"active",children:"Active"}),i.jsx(Ve,{value:"inactive",children:"Inactive"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),i.jsx(on,{id:"propagate-nodes",checked:h,onCheckedChange:g=>l("propagate_to_nodes",g)})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const WB=kt({node_id:Ce().nullable(),enabled:Za(),interrupt_sensitivity:Nr(["low","medium","high"])});function qB({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const a="",o={node_id:a,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=_t({resolver:St(WB),defaultValues:o});m.useEffect(()=>{d({node_id:a,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const h=u("node_id"),p=u("enabled"),f=u("interrupt_sensitivity"),v=g=>{const b=g.node_id===""||!g.node_id?null:g.node_id;n({node_id:b,enabled:g.enabled,interrupt_sensitivity:g.interrupt_sensitivity}),d({node_id:g.node_id,enabled:g.enabled,interrupt_sensitivity:g.interrupt_sensitivity})};return i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Talk mode"}),i.jsx(ge,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),i.jsx(K,{className:"space-y-6",children:i.jsxs("form",{onSubmit:l(v),className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Node"}),i.jsxs(Dt,{value:h||a,onValueChange:g=>{const b=g===a?null:g,y=b===null?r:t.find(x=>x.node_id===b);c("node_id",g||a),c("enabled",(y==null?void 0:y.enabled)??!1),c("interrupt_sensitivity",(y==null?void 0:y.interrupt_sensitivity)??"medium")},children:[i.jsx(Rt,{children:i.jsx(Lt,{placeholder:"Default (all nodes)"})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"",children:"Default (all nodes)"}),e.map(g=>i.jsx(Ve,{value:g.id,children:g.name||g.id.slice(0,8)},g.id))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"talk-enabled",children:"Talk mode"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:h?"Enable for this node":"Enable for all nodes by default"})]}),i.jsx(on,{id:"talk-enabled",checked:p,onCheckedChange:g=>c("enabled",g)})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Interrupt sensitivity"}),i.jsxs(Dt,{value:f,onValueChange:g=>c("interrupt_sensitivity",g),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"low",children:"Low"}),i.jsx(Ve,{value:"medium",children:"Medium"}),i.jsx(Ve,{value:"high",children:"High"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),i.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const w0=["whisper","google","assemblyai","deepgram","local-cli"];function HB({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:a=!1}){const[o,l]=m.useState(r.length>0?[...r]:[...w0]),[c,u]=m.useState(n??"");m.useEffect(()=>{e&&(l(r.length>0?[...r]:[...w0]),u(n??""))},[e,r,n]);const d=v=>{if(v<=0)return;const g=[...o];[g[v-1],g[v]]=[g[v],g[v-1]],l(g)},h=v=>{if(v>=o.length-1)return;const g=[...o];[g[v],g[v+1]]=[g[v+1],g[v]],l(g)},p=v=>{l(g=>g.filter((b,y)=>y!==v))},f=()=>{s(o,c.trim()||null),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Transcription backends"}),i.jsx(Fe,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider order (first = preferred)"}),i.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((v,g)=>i.jsxs("li",{className:z("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[i.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:i.jsx(OI,{className:"h-4 w-4"})}),i.jsx("span",{className:"flex-1 font-medium",children:v}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(g),disabled:g===0,"aria-label":"Move up",children:""}),i.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(g),disabled:g===o.length-1,"aria-label":"Move down",children:""}),i.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>p(g),"aria-label":"Remove",children:i.jsx($a,{className:"h-4 w-4"})})]})]},`${v}-${g}`))})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"cli-fallback",children:"CLI fallback command"}),i.jsx(je,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:v=>u(v.target.value),className:"transition-colors focus-visible:ring-2"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(P,{onClick:f,disabled:a,children:a?"Saving":"Save order"})]})]})})}const KB=kt({provider:Ce().min(1,"Provider is required"),model:Ce().optional()}),GB=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],b0={provider:"default",model:""};function QB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:a=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:h}}=_t({resolver:St(KB),defaultValues:{provider:s,model:a??""}}),p=u("provider"),f=g=>{var b;r({provider:g.provider,model:((b=g.model)==null?void 0:b.trim())||null}),d(b0),t(!1)},v=g=>{d(g?{provider:s,model:a??""}:b0),t(g)};return i.jsx(ze,{open:e,onOpenChange:v,children:i.jsxs(De,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"TTS provider"}),i.jsx(Fe,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),i.jsxs("form",{onSubmit:l(f),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Provider"}),i.jsxs(Dt,{value:p,onValueChange:g=>c("provider",g),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsx(Tt,{children:GB.map(g=>i.jsx(Ve,{value:g.id,children:g.label},g.id))})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"tts-model",children:"Model (optional)"}),i.jsx(je,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),h.model&&i.jsx("p",{className:"text-sm text-destructive",children:h.model.message})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const YB=kt({retention_days:Eh.number().min(1).max(3650),size_cap_mb:Eh.number().min(1).max(1048576),fallback_strategy:Nr(["local","cloud","none"]),audio_note_handling:Nr(["store","transcribe_and_store","transcribe_only","discard"])}),j0={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function JB({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:a,watch:o,reset:l,formState:{errors:c}}=_t({resolver:St(YB),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:j0}),u=o("fallback_strategy"),d=o("audio_note_handling");return m.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:j0)},[e,l]),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Media storage"}),i.jsx(ge,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),i.jsx(K,{children:i.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"retention-days",children:"Retention (days)"}),i.jsx(je,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&i.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),i.jsx(je,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&i.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Fallback strategy"}),i.jsxs(Dt,{value:u,onValueChange:h=>a("fallback_strategy",h),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"local",children:"Local only"}),i.jsx(Ve,{value:"cloud",children:"Cloud when local full"}),i.jsx(Ve,{value:"none",children:"No fallback (fail when full)"})]})]})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{children:"Audio note handling"}),i.jsxs(Dt,{value:d,onValueChange:h=>a("audio_note_handling",h),children:[i.jsx(Rt,{children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"store",children:"Store only"}),i.jsx(Ve,{value:"transcribe_and_store",children:"Transcribe and store"}),i.jsx(Ve,{value:"transcribe_only",children:"Transcribe only"}),i.jsx(Ve,{value:"discard",children:"Discard"})]})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),i.jsx(P,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function ZB(){var D;const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,a]=m.useState(!1),[o,l]=m.useState(!1),{data:c=[],isLoading:u}=RB(),d=TB(),h=AB(),p=OB(),{data:f=[],isLoading:v}=IB(),g=MB(),b=f.find(N=>N.node_id===null)??null,{data:y=[]}=AC(),{data:x,isLoading:w}=DB(),j=LB(),{data:S,isLoading:_}=$B(),k=FB(),{data:T,isLoading:O}=UB(),M=zB(),W=()=>{n(null),t(!0)},L=N=>{n(N),t(!0)},V=N=>{r?h.mutate({id:r.id,data:{word:N.word,status:N.status,propagate_to_nodes:N.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:N.word,status:N.status,propagate_to_nodes:N.propagate_to_nodes},{onSuccess:()=>t(!1)})},A=N=>{g.mutate({node_id:N.node_id,enabled:N.enabled,interrupt_sensitivity:N.interrupt_sensitivity})},Y=(N,R)=>{j.mutate({provider_list:N,cli_fallback:R})},Z=N=>{k.mutate({provider:N.provider,model:N.model})},se=N=>{M.mutate(N)};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(ie,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(yn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(fg,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),i.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsx(ne,{children:"Wake words"}),i.jsx(ge,{children:"Voice activation phrases; optionally propagated to nodes."})]}),i.jsxs(P,{type:"button",size:"sm",onClick:W,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[i.jsx(dr,{className:"h-4 w-4 mr-2"}),"Add"]})]}),i.jsx(K,{children:u?i.jsx(pe,{className:"h-24 w-full rounded-lg"}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[i.jsx(fg,{className:"h-10 w-10 text-muted-foreground mb-2"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),i.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:W,children:"Add wake word"})]}):i.jsx("ul",{className:"space-y-2",children:c.map(N=>i.jsxs("li",{className:z("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"font-medium",children:N.word}),i.jsx(lt,{variant:N.status==="active"?"success":"secondary",children:N.status}),N.propagate_to_nodes&&i.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>L(N),"aria-label":"Edit wake word",children:i.jsx(mg,{className:"h-4 w-4"})}),i.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>p.mutate(N.id),"aria-label":"Delete wake word",children:i.jsx($a,{className:"h-4 w-4"})})]})]},N.id))})})]}),v?i.jsx(pe,{className:"h-64 w-full rounded-lg"}):i.jsx(qB,{nodes:y,settings:f,defaultSetting:b,onSave:A,isSubmitting:g.isPending}),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(MI,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),i.jsx(ge,{children:"Provider order and CLI fallback for voice-to-text."})]}),i.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>a(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),i.jsx(K,{children:w?i.jsx(pe,{className:"h-16 w-full rounded-lg"}):x?i.jsxs("div",{className:"space-y-1 text-sm",children:[i.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=x.provider_list)!=null&&D.length?x.provider_list.join("  "):"default"]}),x.cli_fallback&&i.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",i.jsx("code",{className:"rounded bg-secondary px-1",children:x.cli_fallback})]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsxs("div",{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(zI,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),i.jsx(ge,{children:"Text-to-speech provider and model for voice output."})]}),i.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),i.jsx(K,{children:_?i.jsx(pe,{className:"h-12 w-full rounded-lg"}):S?i.jsxs("p",{className:"text-sm",children:[i.jsx("span",{className:"font-medium",children:S.provider}),S.model&&i.jsxs("span",{className:"text-muted-foreground",children:[" / ",S.model]})]}):i.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),O?i.jsx(pe,{className:"h-80 w-full rounded-lg"}):i.jsx(JB,{initial:T??null,onSave:se,isSubmitting:M.isPending})]}),i.jsxs("aside",{className:"space-y-4 lg:order-last",children:[i.jsxs(H,{className:"border-border bg-card/80",children:[i.jsx(ee,{className:"pb-2",children:i.jsx(ne,{className:"text-base",children:"Related"})}),i.jsxs(K,{className:"space-y-2",children:[i.jsxs(ie,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[i.jsx(Ra,{className:"h-4 w-4 shrink-0"}),"Settings"]}),i.jsx(ie,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),i.jsxs(H,{className:"border-border bg-card/80",children:[i.jsx(ee,{className:"pb-2",children:i.jsxs(ne,{className:"text-base flex items-center gap-2",children:[i.jsx(sf,{className:"h-4 w-4"}),"Help"]})}),i.jsx(K,{children:i.jsx(ie,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),i.jsx(BB,{open:e,onOpenChange:t,onSubmit:V,isSubmitting:d.isPending||h.isPending,initial:r}),i.jsx(HB,{open:s,onOpenChange:a,providerList:(x==null?void 0:x.provider_list)??[],cliFallback:(x==null?void 0:x.cli_fallback)??null,onSave:Y,isSubmitting:j.isPending}),i.jsx(QB,{open:o,onOpenChange:l,onSubmit:Z,isSubmitting:k.isPending,initialProvider:(S==null?void 0:S.provider)??"default",initialModel:(S==null?void 0:S.model)??null})]})}function XB(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),i.jsxs(Ml,{defaultValue:"network",children:[i.jsxs(Xa,{children:[i.jsx(qt,{value:"network",children:"Network"}),i.jsx(qt,{value:"remote",children:"Remote access"}),i.jsx(qt,{value:"secrets",children:"Secrets"}),i.jsx(qt,{value:"tools",children:"Tool policies"}),i.jsx(qt,{value:"model",children:"Model defaults"})]}),i.jsx(Ht,{value:"network",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Network binding / TLS"}),i.jsx(ge,{children:"Bind address and TLS certificate."})]}),i.jsx(K,{className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Bind address"}),i.jsx(je,{placeholder:"0.0.0.0:3000"})]})})]})}),i.jsx(Ht,{value:"remote",className:"space-y-4",children:i.jsxs(H,{children:[i.jsx(ee,{children:i.jsx(ne,{children:"Remote access (tailnet / proxy)"})}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),i.jsx(Ht,{value:"secrets",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Secrets management"}),i.jsx(ge,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext."})})]})}),i.jsx(Ht,{value:"tools",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Tool policies"}),i.jsx(ge,{children:"Exec allowlist, sandbox toggle."})]}),i.jsx(K,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(G,{htmlFor:"sandbox",children:"Sandbox tools"}),i.jsx(on,{id:"sandbox"})]})})]})}),i.jsx(Ht,{value:"model",className:"space-y-4",children:i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Model defaults"}),i.jsx(ge,{children:"Default provider and model for runs."})]}),i.jsx(K,{children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{children:"Default model"}),i.jsx(je,{placeholder:"gpt-4"})]})})]})})]}),i.jsx(H,{children:i.jsxs(K,{className:"pt-6",children:[i.jsx(P,{children:"Restart / Apply"}),i.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const rs="/security",$l={runAudit:()=>ce.post(`${rs}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return ce.get(`${rs}/audits${t?`?${t}`:""}`)},getAudit:e=>ce.get(`${rs}/audits/${e}`),createAudit:e=>ce.post(`${rs}/audits`,e),getIssuesByAuditId:e=>ce.get(`${rs}/audits/${e}/issues`),createIssue:e=>ce.post(`${rs}/issues`,e),applyAutoFix:e=>ce.post(`${rs}/issues/${e}/auto-fix`,{}),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return ce.get(`${rs}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>ce.post(`${rs}/incident-actions`,e),exportAuditLogs:e=>ce.post(`${rs}/export`,e)};function N2(e,t){return e().catch(()=>t)}const Bn={all:["security"],audits:e=>[...Bn.all,"audits",e],audit:e=>[...Bn.all,"audit",e??""],issues:e=>[...Bn.all,"issues",e??""],incidentActions:e=>[...Bn.all,"incident-actions",e]};function eW(e){return Oe({queryKey:Bn.audits(e),queryFn:()=>N2(()=>$l.getAudits(e),[])})}function tW(e){return Oe({queryKey:Bn.issues(e),queryFn:()=>e?N2(()=>$l.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function rW(){const e=_e();return Se({mutationFn:()=>$l.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:Bn.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:Bn.audit(t.audit.id)}),e.invalidateQueries({queryKey:Bn.issues(t.audit.id)})),U.success("Security audit completed")},onError:t=>{U.error(t.message||"Audit failed")}})}function nW(){const e=_e();return Se({mutationFn:t=>$l.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:Bn.all}),U.success("Auto-fix applied")},onError:t=>{U.error(t.message||"Auto-fix failed")}})}function sW(){const e=_e();return Se({mutationFn:t=>$l.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:Bn.all}),U.success("Action submitted")},onError:t=>{U.error(t.message||"Action failed")}})}function iW(){return Se({mutationFn:e=>$l.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),U.success("Export started")},onError:e=>{U.error(e.message||"Export failed")}})}const _0={critical:{label:"Critical",icon:Tl,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:Qa,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:Yv,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:Jv,className:"text-accent bg-accent/15 border-accent/30"}};function aW({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:a,isApplyingAutoFix:o=!1}){if(!e)return null;const l=_0[e.severity]??_0.medium,c=l.icon;return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[i.jsxs(Le,{children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(c,{className:z("h-5 w-5 shrink-0",l.className.split(" ")[0]),"aria-hidden":!0}),i.jsx(lt,{variant:"secondary",className:z("border text-xs font-medium",l.className),children:l.label})]}),i.jsx($e,{className:"text-left pt-1",children:"Security finding"}),i.jsx(Fe,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),i.jsx(Qt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:i.jsxs("div",{className:"space-y-4 pr-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),i.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),i.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),i.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((u,d)=>i.jsx("li",{children:u},d))})]}),e.auto_fix_available&&i.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx(G,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),i.jsx(on,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:o,"aria-label":"Enable auto-fix for this issue"})]})]})}),e.auto_fix_available&&i.jsx("div",{className:"flex justify-end pt-2 border-t border-border",children:i.jsx("button",{type:"button",onClick:()=>a==null?void 0:a(e.id),disabled:o||!n,className:"text-sm font-medium text-primary hover:underline disabled:opacity-50 disabled:pointer-events-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded px-2 py-1",children:o?"Applying":"Apply auto-fix now"})})]})})}const oW={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:ey,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:wu,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:xs,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:Kv,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:XS,variant:"destructive"}};function lW({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const a=oW[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:XS,variant:"default"},o=a.icon,l=()=>{n(e),r(!1)};return i.jsx(ze,{open:t,onOpenChange:r,children:i.jsxs(De,{"aria-describedby":"incident-action-description",children:[i.jsxs(Le,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),i.jsx($e,{children:a.label})]}),i.jsx(Fe,{id:"incident-action-description",children:a.description})]}),i.jsxs(He,{children:[i.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),i.jsx(P,{variant:a.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const cW=kt({format:Nr(["json","csv"]),applyRedaction:Za(),from:Ce().optional(),to:Ce().optional()});function uW({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:a,setValue:o,watch:l}=_t({resolver:St(cW),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=h=>{const p={format:h.format,apply_redaction:h.applyRedaction,from:h.from||void 0,to:h.to||void 0};r(p),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Export security logs"}),i.jsx(Fe,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),i.jsxs("form",{onSubmit:a(d),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-format",children:"Format"}),i.jsxs(Dt,{value:u,onValueChange:h=>o("format",h),children:[i.jsx(Rt,{id:"security-export-format",children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"json",children:"JSON"}),i.jsx(Ve,{value:"csv",children:"CSV"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"security-export-redaction",children:"Apply redaction"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),i.jsx(on,{id:"security-export-redaction",checked:c,onCheckedChange:h=>o("applyRedaction",h)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-from",children:"From (optional)"}),i.jsx(je,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"security-export-to",children:"To (optional)"}),i.jsx(je,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const S0={critical:{label:"Critical",icon:Tl,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:Qa,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:Yv,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:Jv,className:"text-accent bg-accent/15 border-accent/30"}};function dW(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function hW(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function k0(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function fW({issue:e,isSelected:t,onSelect:r}){const n=S0[e.severity]??S0.medium,s=n.icon,a=e.description.length>120?e.description.slice(0,120)+"":e.description;return i.jsxs("button",{type:"button",onClick:r,className:z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(s,{className:z("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),i.jsx(lt,{variant:"secondary",className:z("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&i.jsx(lt,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),i.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:a})]})}const mW=[{type:"revoke_sessions",label:"Revoke sessions",icon:ey},{type:"rotate_secrets",label:"Rotate secrets",icon:wu},{type:"export_logs",label:"Export logs",icon:xs},{type:"stop_blast_radius",label:"Stop blast radius",icon:Kv}];function pW(){const{user:e}=qv(),[t,r]=m.useState(null),[n,s]=m.useState(!1),[a,o]=m.useState(!1),[l,c]=m.useState(!1),[u,d]=m.useState(null),[h,p]=m.useState(!1),{data:f=[],isLoading:v}=eW({limit:10}),g=f[0]??null,b=(g==null?void 0:g.id)??null,{data:y=[],isLoading:x}=tW(b),w=rW(),j=sW(),S=iW(),_=nW(),k={critical:y.filter(A=>A.severity==="critical").length,high:y.filter(A=>A.severity==="high").length,medium:y.filter(A=>A.severity==="medium").length,low:y.filter(A=>A.severity==="low").length},T=(g==null?void 0:g.risk_score)??0,O=A=>{r(A),s(!1),o(!0)},M=A=>{if(A==="export_logs"){p(!0);return}d(A),c(!0)},W=A=>{j.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:b??void 0,action_type:A},{onSuccess:()=>{d(null)}})},L=A=>{S.mutate(A,{onSuccess:Y=>{Y!=null&&Y.download_url&&window.open(Y.download_url,"_blank")}})},V=A=>{_.mutate(A,{onSuccess:()=>{o(!1),r(null)}})};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(ie,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(yn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(xn,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),i.jsxs(P,{onClick:()=>w.mutate(),disabled:w.isPending,className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx(Fi,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Run audit"]})]})]}),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Audit summary"}),i.jsx(ge,{children:"Overall risk score and issue counts from the latest audit."})]}),i.jsx(K,{children:v?i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(pe,{className:"h-14 w-14 rounded-full"}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(pe,{className:"h-6 w-32"}),i.jsx(pe,{className:"h-4 w-48"})]})]}):g?i.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:z("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",k0(T),T>=70&&"border-destructive bg-destructive/10",T>=40&&T<70&&"border-warning bg-warning/10",T<40&&"border-success bg-success/10"),children:T}),i.jsxs("div",{children:[i.jsx("p",{className:z("font-semibold text-lg",k0(T)),children:hW(T)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",dW(g.created_at)]})]})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&i.jsxs(lt,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&i.jsxs(lt,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&i.jsxs(lt,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&i.jsxs(lt,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),y.length===0&&i.jsx(lt,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(xn,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Run audit" to get your current risk score and issues.'})]})]})})]}),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Issue list"}),i.jsx(ge,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),i.jsx(K,{children:i.jsx(Qt,{className:"h-[360px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:x?[1,2,3,4].map(A=>i.jsx(pe,{className:"h-20 w-full rounded-lg"},A)):y.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(Yv,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):y.map(A=>i.jsx(fW,{issue:A,isSelected:(t==null?void 0:t.id)===A.id,onSelect:()=>O(A)},A.id))})})})]}),i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Incident response"}),i.jsx(ge,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),i.jsx(K,{children:i.jsx("div",{className:"flex flex-wrap gap-2",children:mW.map(({type:A,label:Y,icon:Z})=>i.jsxs(P,{variant:"outline",size:"sm",onClick:()=>M(A),disabled:j.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[i.jsx(Z,{className:"mr-2 h-4 w-4"}),Y]},A))})})]}),i.jsx(aW,{issue:t,open:a,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:V,isApplyingAutoFix:_.isPending}),i.jsx(lW,{actionType:u,open:l,onOpenChange:c,onConfirm:W,isSubmitting:j.isPending}),i.jsx(uW,{open:h,onOpenChange:p,onExport:L,isExporting:S.isPending})]})}const Tn="/logs",qy={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return ce.get(`${Tn}${t?`?${t}`:""}`)},getLog:e=>ce.get(`${Tn}/${e}`),createLog:e=>ce.post(`${Tn}`,e),getTraceByLogId:e=>ce.get(`${Tn}/${e}/trace`),getTrace:e=>ce.get(`${Tn}/traces/${e}`),createTrace:e=>ce.post(`${Tn}/traces`,e),updateTrace:(e,t)=>ce.patch(`${Tn}/traces/${e}`,t),exportLogs:e=>ce.post(`${Tn}/export`,e),getRetentionSettings:()=>ce.get(`${Tn}/retention`),updateRetentionSettings:e=>ce.patch(`${Tn}/retention`,e),createRetentionSettings:e=>ce.post(`${Tn}/retention`,e)};function C2(e,t){return e().catch(()=>t)}const ha={all:["logs"],list:e=>[...ha.all,"list",e],detail:e=>[...ha.all,"detail",e],traceByLogId:e=>[...ha.all,"trace",e],trace:e=>[...ha.all,"trace-id",e],retention:()=>[...ha.all,"retention"]};function gW(e){return Oe({queryKey:ha.list(e),queryFn:()=>C2(()=>qy.getLogs(e),[])})}function vW(e){return Oe({queryKey:ha.traceByLogId(e??""),queryFn:()=>e?C2(()=>qy.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function yW(){return Se({mutationFn:e=>qy.exportLogs(e),onSuccess:()=>{U.success("Export started")},onError:e=>{U.error(e.message||"Export failed")}})}const E2=["debug","info","warning","error","critical"],xW=kt({severity:Nr(E2).optional(),from:Ce().optional(),to:Ce().optional(),search:Ce().optional(),limit:Eh.number().min(10).max(500).optional()});function wW({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:a,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=_t({resolver:St(xW),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),h=f=>{const v={limit:f.limit,search:f.search||void 0,from:f.from||void 0,to:f.to||void 0};f.severity&&(v.severity=f.severity),n(v),t(!1)},p=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Filter logs"}),i.jsx(Fe,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),i.jsxs("form",{onSubmit:a(h),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-severity",children:"Severity"}),i.jsxs(Dt,{value:d??"",onValueChange:f=>o("severity",f||void 0,{shouldDirty:!0}),children:[i.jsx(Rt,{id:"filter-severity",children:i.jsx(Lt,{placeholder:"All severities"})}),i.jsx(Tt,{children:E2.map(f=>i.jsx(Ve,{value:f,children:f},f))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-from",children:"From (ISO date)"}),i.jsx(je,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-to",children:"To (ISO date)"}),i.jsx(je,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-search",children:"Keyword search"}),i.jsx(je,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"filter-limit",children:"Max results"}),i.jsx(je,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{type:"button",variant:"outline",onClick:p,children:"Clear"}),i.jsx(P,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const P2=["debug","info","warning","error","critical"],bW=kt({format:Nr(["json","csv"]),applyRedaction:Za(),from:Ce().optional(),to:Ce().optional(),severity:Nr(P2).optional()});function jW({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const[s,a]=m.useState("json"),{register:o,handleSubmit:l,setValue:c,watch:u}=_t({resolver:St(bW),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),d=u("applyRedaction"),h=u("severity"),p=f=>{const v={format:f.format,applyRedaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0,severity:f.severity};r(v),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Export logs"}),i.jsx(Fe,{id:"export-desc",children:"Choose format, date range, and redaction. Export will download with your settings."})]}),i.jsxs("form",{onSubmit:l(p),className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-format",children:"Format"}),i.jsxs(Dt,{value:s,onValueChange:f=>{a(f),c("format",f)},children:[i.jsx(Rt,{id:"export-format",children:i.jsx(Lt,{})}),i.jsxs(Tt,{children:[i.jsx(Ve,{value:"json",children:"JSON"}),i.jsx(Ve,{value:"csv",children:"CSV"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx(G,{htmlFor:"export-redaction",children:"Apply redaction"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),i.jsx(on,{id:"export-redaction",checked:d,onCheckedChange:f=>c("applyRedaction",f)})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-from",children:"From (optional)"}),i.jsx(je,{id:"export-from",type:"datetime-local",...o("from"),className:"font-mono text-sm"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-to",children:"To (optional)"}),i.jsx(je,{id:"export-to",type:"datetime-local",...o("to"),className:"font-mono text-sm"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(G,{htmlFor:"export-severity",children:"Severity filter (optional)"}),i.jsxs(Dt,{value:h??"",onValueChange:f=>c("severity",f||void 0),children:[i.jsx(Rt,{id:"export-severity",children:i.jsx(Lt,{placeholder:"All severities"})}),i.jsx(Tt,{children:P2.map(f=>i.jsx(Ve,{value:f,children:f},f))})]})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}function _W(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function N0({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,a]=m.useState(n);return i.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[i.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>a(o=>!o),"aria-expanded":s,children:[s?i.jsx(Rl,{className:"h-4 w-4 shrink-0"}):i.jsx(yn,{className:"h-4 w-4 shrink-0"}),i.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&i.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function SW({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return i.jsxs(H,{className:z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:i.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),i.jsx(K,{className:"p-4",children:i.jsxs("div",{className:"space-y-3",children:[i.jsx(pe,{className:"h-10 w-full"}),i.jsx(pe,{className:"h-24 w-full"}),i.jsx(pe,{className:"h-24 w-full"})]})})]});if(!e)return i.jsxs(H,{className:z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&i.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:i.jsx(dl,{className:"h-4 w-4"})})]}),i.jsx(K,{className:"p-6",children:i.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const a=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return i.jsxs(H,{className:z("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[i.jsxs(ee,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[i.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(kr,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),i.jsxs("div",{className:"flex items-center gap-1",children:[n&&i.jsx(P,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:i.jsx(xs,{className:"h-4 w-4"})}),r&&i.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:i.jsx(dl,{className:"h-4 w-4"})})]})]}),i.jsxs(K,{className:"p-0",children:[i.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[i.jsx(Oo,{className:"h-3.5 w-3.5"}),"Duration: ",_W(e.duration_ms)]}),i.jsx(Qt,{className:"h-[320px]",children:i.jsxs("div",{className:"space-y-2 p-3",children:[i.jsx(N0,{label:"Tool invocations",icon:ry,defaultOpen:!0,children:a.length===0?i.jsx("p",{className:"text-muted-foreground",children:"None"}):i.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(a,null,2)})}),i.jsx(N0,{label:"Model calls",icon:Zc,defaultOpen:!0,children:o.length===0?i.jsx("p",{className:"text-muted-foreground",children:"None"}):i.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const C0={debug:{label:"debug",icon:jI,className:"text-muted-foreground"},info:{label:"info",icon:Jv,className:"text-primary"},warning:{label:"warning",icon:Qa,className:"text-warning"},error:{label:"error",icon:Tl,className:"text-destructive"},critical:{label:"critical",icon:Gv,className:"text-destructive font-semibold"}};function kW(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function NW({log:e,isSelected:t,onSelect:r}){const n=C0[e.severity]??C0.info,s=n.icon,a=e.redacted_message??e.message,o=a.length>200?a.slice(0,200)+"":a;return i.jsxs("button",{type:"button",onClick:r,className:z("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx(s,{className:z("h-4 w-4 shrink-0",n.className),"aria-hidden":!0}),i.jsx(lt,{variant:"secondary",className:z("text-xs font-mono shrink-0",n.className),children:n.label}),i.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:kW(e.timestamp)})]}),i.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:o})]})}function CW(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,a]=m.useState({limit:100}),[o,l]=m.useState(null),{data:c=[],isLoading:u}=gW(s),{data:d,isLoading:h}=vW(o),p=yW(),f=g=>{a(g)},v=g=>{p.mutate(g,{onSuccess:b=>{b!=null&&b.download_url&&window.open(b.download_url,"_blank")}})};return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsxs("header",{className:"space-y-2",children:[i.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[i.jsx(ie,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),i.jsx(yn,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),i.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),i.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[i.jsx(kr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),i.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[i.jsxs("div",{className:"space-y-6 min-w-0",children:[i.jsxs(H,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[i.jsx(ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:i.jsxs("div",{children:[i.jsx(ne,{children:"Log stream"}),i.jsx(ge,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),i.jsx(K,{children:i.jsx(Qt,{className:"h-[400px] rounded-md border border-border",children:i.jsx("div",{className:"p-3 space-y-2",children:u?i.jsx(i.Fragment,{children:[1,2,3,4,5].map(g=>i.jsx(pe,{className:"h-20 w-full rounded-lg"},g))}):c.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(kr,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),i.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),i.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):c.map(g=>i.jsx(NW,{log:g,isSelected:o===g.id,onSelect:()=>l(b=>b===g.id?null:g.id)},g.id))})})})]}),i.jsx(SW,{trace:d??null,isLoading:h,onClose:()=>l(null),onExport:void 0})]}),i.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:i.jsxs(H,{className:"transition-shadow duration-200",children:[i.jsxs(ee,{className:"pb-2",children:[i.jsx(ne,{className:"text-base",children:"Filters & export"}),i.jsx(ge,{children:"Refine the log view and export with redaction options."})]}),i.jsxs(K,{className:"space-y-3",children:[i.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[i.jsx(EI,{className:"mr-2 h-4 w-4"}),"Filters"]}),i.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>n(!0),children:[i.jsx(xs,{className:"mr-2 h-4 w-4"}),"Export logs"]})]})]})})]}),i.jsx("footer",{className:"pt-4 border-t border-border",children:i.jsxs(ie,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[i.jsx(Ra,{className:"h-4 w-4"}),"Manage retention settings"]})}),i.jsx(wW,{open:e,onOpenChange:t,currentFilters:s,onApply:f}),i.jsx(jW,{open:r,onOpenChange:n,onExport:v,isExporting:p.isPending})]})}function EW(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Dashboard"}),i.jsx("p",{className:"text-muted-foreground",children:"Enterprise / admin management. Cloud-only."}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[i.jsx(BI,{className:"h-4 w-4"}),"User management"]}),i.jsx(ge,{children:"Users table and roles."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No users (demo)."})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[i.jsx(_I,{className:"h-4 w-4"}),"Workspace settings"]}),i.jsx(ge,{children:"Multi-workspace controls."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Default workspace."})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[i.jsx(SI,{className:"h-4 w-4"}),"Licensing summary"]}),i.jsx(ge,{children:"Seats and entitlements."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"No licensing (self-hosted)."})})]})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsx(ne,{children:"Analytics panels"}),i.jsx(ge,{children:"Sessions, run success rates, skill installs."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics placeholder."})})]})]})}function PW(){return i.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"About / Help"}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(Hv,{className:"h-5 w-5"}),"Quick start"]}),i.jsx(ge,{children:"Get started with Clawgate."})]}),i.jsxs(K,{children:[i.jsxs("ol",{className:"list-decimal space-y-2 pl-4 text-sm text-muted-foreground",children:[i.jsx("li",{children:"Install and start the gateway."}),i.jsx("li",{children:"Open Control UI and add a channel."}),i.jsx("li",{children:"Message your agent from chat."})]}),i.jsx(P,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:i.jsx(ie,{to:"/",children:"Landing"})})]})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(qS,{className:"h-5 w-5"}),"Docs"]}),i.jsx(ge,{children:"Documentation links."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation (external link placeholder)."})})]}),i.jsxs(H,{children:[i.jsxs(ee,{children:[i.jsxs(ne,{className:"flex items-center gap-2",children:[i.jsx(ul,{className:"h-5 w-5"}),"Support"]}),i.jsx(ge,{children:"Contact support with context."})]}),i.jsx(K,{children:i.jsx("p",{className:"text-sm text-muted-foreground",children:"Support form with context autofill."})})]})]})]})}const Mf={getPrivacySettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)return null;const{data:t,error:r}=await F.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await F.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Mf.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await F.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await F.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},ou={all:["privacy"],settings:()=>[...ou.all,"settings"],policyDocument:e=>[...ou.all,"policy",e]};function R2(e,t){return e().catch(()=>t)}function RW(){return Oe({queryKey:ou.settings(),queryFn:()=>R2(Mf.getPrivacySettings,null)})}function TW(){const e=_e();return Se({mutationFn:t=>Mf.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:ou.settings()}),U.success("Privacy preferences updated")},onError:t=>{U.error(t.message||"Failed to update privacy preferences")}})}function AW(e="privacy"){return Oe({queryKey:ou.policyDocument(e),queryFn:()=>R2(()=>Mf.getCurrentPolicyDocument(e),null)})}function OW({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const a=()=>{n(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{"aria-describedby":"preferences-modal-description",children:[i.jsxs(Le,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx($e,{children:"Confirm privacy preference"})]}),i.jsx(Fe,{id:"preferences-modal-description",children:r?i.jsx(i.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):i.jsx(i.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),i.jsx(P,{onClick:a,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function IW({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:a="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return i.jsx(ze,{open:e,onOpenChange:t,children:i.jsxs(De,{"aria-describedby":"download-confirmation-description",children:[i.jsxs(Le,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx($e,{children:s})]}),i.jsx(Fe,{id:"download-confirmation-description",children:a})]}),i.jsxs(He,{className:"gap-2 sm:gap-0",children:[i.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&i.jsx(P,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),i.jsxs(P,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[i.jsx(xs,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const E0=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function MW({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,a]=m.useState(n);return i.jsxs("details",{id:e,open:s,onToggle:o=>a(o.target.open),className:"group border-b border-border last:border-b-0",children:[i.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?i.jsx(Rl,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):i.jsx(yn,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),i.jsx("span",{children:t})]}),i.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:i.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function DW(){const{data:e,isLoading:t}=RW(),r=TW(),{data:n}=AW("privacy"),[s,a]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,h=m.useCallback(y=>{l(y),a(!0)},[]),p=m.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),f=(n==null?void 0:n.content)??E0.map(y=>`${y.title}

${y.content}`).join(`

`),v=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:E0,g=m.useCallback(()=>{const y=new Blob([f],{type:"text/plain;charset=utf-8"}),x=URL.createObjectURL(y),w=document.createElement("a");w.href=x,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(x)},[f]),b=m.useCallback(()=>{const y=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${f.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),x=URL.createObjectURL(y);window.open(x,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(x),5e3)},[f]);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[i.jsxs("header",{className:"mb-8",children:[i.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),i.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),i.jsxs(H,{className:"mb-8",children:[i.jsxs(ee,{children:[i.jsx(ne,{className:"text-lg",children:"Policy sections"}),i.jsx(ge,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),i.jsx(K,{className:"px-0 sm:px-6",children:i.jsx("div",{className:"divide-y-0",children:v.map((y,x)=>i.jsx(MW,{id:y.id,title:y.title,content:y.content,defaultOpen:x===0},y.id))})})]}),i.jsxs(H,{className:"mb-8",children:[i.jsxs(ee,{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(xn,{className:"h-5 w-5 text-primary","aria-hidden":!0}),i.jsx(ne,{className:"text-lg",children:"Opt-out controls"})]}),i.jsx(ge,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),i.jsxs(K,{children:[i.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx(G,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),i.jsx(on,{id:"telemetry-opt-out",checked:d,onCheckedChange:h,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&i.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),i.jsxs(H,{className:"mb-8",children:[i.jsxs(ee,{children:[i.jsx(ne,{className:"text-lg",children:"Download policy"}),i.jsx(ge,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),i.jsx(K,{children:i.jsxs(P,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[i.jsx(xs,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),i.jsx("footer",{className:"border-t border-border pt-8",children:i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[i.jsx(P,{variant:"outline",asChild:!0,children:i.jsx(ie,{to:"/",children:"Back to home"})}),i.jsxs("nav",{className:"flex flex-wrap gap-6",children:[i.jsx(ie,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),i.jsx(ie,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),i.jsx(OW,{open:s,onOpenChange:a,telemetryOptOut:o??d,onConfirm:p,isUpdating:r.isPending}),i.jsx(IW,{open:c,onOpenChange:u,onDownload:g,onOpenInNewTab:b,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function LW(){return i.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[i.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),i.jsxs(H,{children:[i.jsx(ee,{children:i.jsx(ne,{children:"Terms of Service"})}),i.jsx(K,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:i.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),i.jsx(P,{variant:"outline",asChild:!0,children:i.jsx(ie,{to:"/",children:"Back"})})]})}async function $W(e,t,r){try{const{data:{user:n}}=await F.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await F.from("error_logs").insert(s)}catch{}}async function FW(e,t,r,n){try{const{data:{user:s}}=await F.auth.getUser(),a={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await F.from("error_logs").insert(a)}catch{}}function P0(){const e=ys(),t=e.pathname+e.search;m.useEffect(()=>{$W(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(ie,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),i.jsxs("nav",{className:"flex items-center gap-4",children:[i.jsx(ie,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(P,{asChild:!0,size:"sm",children:i.jsx(ie,{to:"/signup",children:"Sign up"})})]})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:i.jsxs("div",{className:z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[i.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:i.jsx(qS,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),i.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&i.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",i.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),i.jsx(H,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:i.jsxs(K,{className:"flex flex-col gap-4 p-6",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[i.jsxs(P,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[i.jsx(wu,{className:"mr-2 h-4 w-4"}),"Retry"]}),i.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/",children:[i.jsx(HS,{className:"mr-2 h-4 w-4"}),"Home"]})}),i.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/dashboard",children:[i.jsx(Xv,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),i.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[i.jsxs(ie,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(kr,{className:"h-4 w-4"}),"Docs & support"]}),i.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),i.jsx(ie,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),i.jsx("footer",{className:"border-t border-border py-8",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(ie,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx(ie,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(ie,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function UW(e){var a;const{data:{user:t}}=await F.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((a=e.contact_email)==null?void 0:a.trim())||null,context:e.context??{}},{data:n,error:s}=await F.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const zW=kt({description:Ce().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:Ce().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:Ce().max(1e3).optional()}),zm={description:"",contact_email:"",comments:""};function VW({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:a,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=_t({resolver:St(zW),defaultValues:zm}),d=async p=>{var f,v;await r({error_type:n,description:p.description.trim(),contact_email:((f=p.contact_email)==null?void 0:f.trim())||null,context:{...s,comments:((v=p.comments)==null?void 0:v.trim())||void 0}}),l(zm),t(!1)},h=p=>{p||l(zm),t(p)};return i.jsx(ze,{open:e,onOpenChange:h,children:i.jsxs(De,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[i.jsxs(Le,{children:[i.jsx($e,{children:"Report an issue"}),i.jsx(Fe,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),i.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-description",children:"What happened?"}),i.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("description"),"aria-invalid":!!c.description}),c.description&&i.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-contact",children:"Contact email (optional)"}),i.jsx(je,{id:"report-contact",type:"email",placeholder:"you@example.com",...a("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&i.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(G,{htmlFor:"report-comments",children:"Additional details (optional)"}),i.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...a("comments")})]}),i.jsxs(He,{children:[i.jsx(P,{type:"button",variant:"outline",onClick:()=>h(!1),disabled:u,children:"Cancel"}),i.jsx(P,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function BW(){const e=ys(),[t,r]=m.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,a=typeof navigator<"u"?navigator.userAgent:null;m.useEffect(()=>{FW(n,s,a,{path:n,referrer:s??void 0})},[n,s,a]);const o=()=>{window.location.reload()},l=async c=>{await UW(c),U.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return i.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[i.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:i.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[i.jsx(ie,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),i.jsxs("nav",{className:"flex gap-4",children:[i.jsx(ie,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),i.jsx(P,{asChild:!0,size:"sm",children:i.jsx(ie,{to:"/signup",children:"Sign up"})})]})]})}),i.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:i.jsxs("div",{className:z("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[i.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:i.jsx(Qa,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),i.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),i.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&i.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",i.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),i.jsx(H,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:i.jsxs(K,{className:"flex flex-col gap-4 p-6",children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),i.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[i.jsxs(P,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[i.jsx(wu,{className:"mr-2 h-4 w-4"}),"Retry"]}),i.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/",children:[i.jsx(HS,{className:"mr-2 h-4 w-4"}),"Home"]})}),i.jsxs(P,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[i.jsx(xu,{className:"mr-2 h-4 w-4"}),"Report issue"]}),i.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:i.jsxs(ie,{to:"/dashboard",children:[i.jsx(Xv,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),i.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[i.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),i.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[i.jsxs(ie,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(kr,{className:"h-4 w-4"}),"Logs & tracing"]}),i.jsxs(ie,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(xn,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),i.jsx("footer",{className:"border-t border-border py-8",children:i.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsx(ie,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),i.jsx(ie,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),i.jsx(ie,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),i.jsx(VW,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const WW=new FT({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function qW(){return i.jsxs(UT,{client:WW,children:[i.jsx(lT,{children:i.jsx(fI,{children:i.jsx(wL,{children:i.jsxs(XR,{children:[i.jsx(ot,{path:"/",element:i.jsx(m5,{})}),i.jsx(ot,{path:"/login",element:i.jsx(_U,{})}),i.jsx(ot,{path:"/signup",element:i.jsx(kU,{})}),i.jsx(ot,{path:"/forgot-password",element:i.jsx(RU,{})}),i.jsx(ot,{path:"/verify-email",element:i.jsx(AU,{})}),i.jsx(ot,{path:"/download",element:i.jsx(g8,{})}),i.jsx(ot,{path:"/privacy",element:i.jsx(DW,{})}),i.jsx(ot,{path:"/terms",element:i.jsx(LW,{})}),i.jsx(ot,{path:"/500",element:i.jsx(BW,{})}),i.jsxs(ot,{element:i.jsx(o5,{}),children:[i.jsx(ot,{path:"/dashboard",element:i.jsx(Nz,{})}),i.jsx(ot,{path:"/profile",element:i.jsx(mI,{}),children:i.jsx(ot,{index:!0,element:i.jsx(p8,{})})}),i.jsx(ot,{path:"/chat",element:i.jsx(iV,{})}),i.jsx(ot,{path:"/channels",element:i.jsx(jV,{})}),i.jsx(ot,{path:"/skills",element:i.jsx(_V,{})}),i.jsx(ot,{path:"/skill-editor/:skillId?",element:i.jsx($V,{})}),i.jsx(ot,{path:"/nodes",element:i.jsx(FV,{})}),i.jsx(ot,{path:"/cron",element:i.jsx(BV,{})}),i.jsx(ot,{path:"/webhooks",element:i.jsx(oB,{})}),i.jsx(ot,{path:"/browser",element:i.jsx(PB,{})}),i.jsx(ot,{path:"/voice",element:i.jsx(ZB,{})}),i.jsx(ot,{path:"/settings",element:i.jsx(XB,{})}),i.jsx(ot,{path:"/security",element:i.jsx(pW,{})}),i.jsx(ot,{path:"/logs",element:i.jsx(CW,{})}),i.jsx(ot,{path:"/admin",element:i.jsx(EW,{})}),i.jsx(ot,{path:"/help",element:i.jsx(PW,{})})]}),i.jsx(ot,{path:"/404",element:i.jsx(P0,{})}),i.jsx(ot,{path:"*",element:i.jsx(P0,{})})]})})})}),i.jsx(SA,{position:"top-right",richColors:!0,closeButton:!0})]})}const T2=document.getElementById("root");if(!T2)throw new Error("Root element not found");Vm.createRoot(T2).render(i.jsx(B.StrictMode,{children:i.jsx(qW,{})}));

var vC=e=>{throw TypeError(e)};var zb=(e,t,r)=>t.has(e)||vC("Cannot "+r);var q=(e,t,r)=>(zb(e,t,"read from private field"),r?r.call(e):t.get(e)),ze=(e,t,r)=>t.has(e)?vC("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ke=(e,t,r,n)=>(zb(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),it=(e,t,r)=>(zb(e,t,"access private method"),r);var Sp=(e,t,r,n)=>({set _(s){ke(e,t,s,r)},get _(){return q(e,t,n)}});function v6(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pM={exports:{}},Hy={},gM={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym=Symbol.for("react.element"),y6=Symbol.for("react.portal"),x6=Symbol.for("react.fragment"),b6=Symbol.for("react.strict_mode"),w6=Symbol.for("react.profiler"),j6=Symbol.for("react.provider"),_6=Symbol.for("react.context"),S6=Symbol.for("react.forward_ref"),N6=Symbol.for("react.suspense"),k6=Symbol.for("react.memo"),C6=Symbol.for("react.lazy"),yC=Symbol.iterator;function E6(e){return e===null||typeof e!="object"?null:(e=yC&&e[yC]||e["@@iterator"],typeof e=="function"?e:null)}var vM={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yM=Object.assign,xM={};function Bd(e,t,r){this.props=e,this.context=t,this.refs=xM,this.updater=r||vM}Bd.prototype.isReactComponent={};Bd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Bd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bM(){}bM.prototype=Bd.prototype;function G1(e,t,r){this.props=e,this.context=t,this.refs=xM,this.updater=r||vM}var Y1=G1.prototype=new bM;Y1.constructor=G1;yM(Y1,Bd.prototype);Y1.isPureReactComponent=!0;var xC=Array.isArray,wM=Object.prototype.hasOwnProperty,Q1={current:null},jM={key:!0,ref:!0,__self:!0,__source:!0};function _M(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wM.call(t,n)&&!jM.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ym,type:e,key:i,ref:o,props:s,_owner:Q1.current}}function P6(e,t){return{$$typeof:Ym,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function X1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ym}function O6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var bC=/\/+/g;function Wb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O6(""+e.key):t.toString(36)}function Ng(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ym:case y6:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Wb(o,0):n,xC(s)?(r="",e!=null&&(r=e.replace(bC,"$&/")+"/"),Ng(s,t,r,"",function(u){return u})):s!=null&&(X1(s)&&(s=P6(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bC,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",xC(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Wb(i,l);o+=Ng(i,t,r,c,s)}else if(c=E6(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Wb(i,l++),o+=Ng(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function kp(e,t,r){if(e==null)return e;var n=[],s=0;return Ng(e,n,"","",function(i){return t.call(r,i,s++)}),n}function A6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var On={current:null},kg={transition:null},T6={ReactCurrentDispatcher:On,ReactCurrentBatchConfig:kg,ReactCurrentOwner:Q1};function SM(){throw Error("act(...) is not supported in production builds of React.")}vt.Children={map:kp,forEach:function(e,t,r){kp(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return kp(e,function(){t++}),t},toArray:function(e){return kp(e,function(t){return t})||[]},only:function(e){if(!X1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vt.Component=Bd;vt.Fragment=x6;vt.Profiler=w6;vt.PureComponent=G1;vt.StrictMode=b6;vt.Suspense=N6;vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=T6;vt.act=SM;vt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=yM({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Q1.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wM.call(t,c)&&!jM.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ym,type:e.type,key:s,ref:i,props:n,_owner:o}};vt.createContext=function(e){return e={$$typeof:_6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:j6,_context:e},e.Consumer=e};vt.createElement=_M;vt.createFactory=function(e){var t=_M.bind(null,e);return t.type=e,t};vt.createRef=function(){return{current:null}};vt.forwardRef=function(e){return{$$typeof:S6,render:e}};vt.isValidElement=X1;vt.lazy=function(e){return{$$typeof:C6,_payload:{_status:-1,_result:e},_init:A6}};vt.memo=function(e,t){return{$$typeof:k6,type:e,compare:t===void 0?null:t}};vt.startTransition=function(e){var t=kg.transition;kg.transition={};try{e()}finally{kg.transition=t}};vt.unstable_act=SM;vt.useCallback=function(e,t){return On.current.useCallback(e,t)};vt.useContext=function(e){return On.current.useContext(e)};vt.useDebugValue=function(){};vt.useDeferredValue=function(e){return On.current.useDeferredValue(e)};vt.useEffect=function(e,t){return On.current.useEffect(e,t)};vt.useId=function(){return On.current.useId()};vt.useImperativeHandle=function(e,t,r){return On.current.useImperativeHandle(e,t,r)};vt.useInsertionEffect=function(e,t){return On.current.useInsertionEffect(e,t)};vt.useLayoutEffect=function(e,t){return On.current.useLayoutEffect(e,t)};vt.useMemo=function(e,t){return On.current.useMemo(e,t)};vt.useReducer=function(e,t,r){return On.current.useReducer(e,t,r)};vt.useRef=function(e){return On.current.useRef(e)};vt.useState=function(e){return On.current.useState(e)};vt.useSyncExternalStore=function(e,t,r){return On.current.useSyncExternalStore(e,t,r)};vt.useTransition=function(){return On.current.useTransition()};vt.version="18.3.1";gM.exports=vt;var x=gM.exports;const A=qt(x),Gy=v6({__proto__:null,default:A},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R6=x,M6=Symbol.for("react.element"),$6=Symbol.for("react.fragment"),I6=Object.prototype.hasOwnProperty,D6=R6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,L6={key:!0,ref:!0,__self:!0,__source:!0};function NM(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)I6.call(t,n)&&!L6.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:M6,type:e,key:i,ref:o,props:s,_owner:D6.current}}Hy.Fragment=$6;Hy.jsx=NM;Hy.jsxs=NM;pM.exports=Hy;var a=pM.exports,P0={},kM={exports:{}},gs={},CM={exports:{}},EM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var $=R.length;R.push(M);e:for(;0<$;){var ee=$-1>>>1,D=R[ee];if(0<s(D,M))R[ee]=M,R[$]=D,$=ee;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],$=R.pop();if($!==M){R[0]=$;e:for(var ee=0,D=R.length,ie=D>>>1;ee<ie;){var ve=2*(ee+1)-1,Ve=R[ve],Ke=ve+1,de=R[Ke];if(0>s(Ve,$))Ke<D&&0>s(de,Ve)?(R[ee]=de,R[Ke]=$,ee=Ke):(R[ee]=Ve,R[ve]=$,ee=ve);else if(Ke<D&&0>s(de,$))R[ee]=de,R[Ke]=$,ee=Ke;else break e}}return M}function s(R,M){var $=R.sortIndex-M.sortIndex;return $!==0?$:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,p=!1,y=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=R)n(u),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(u)}}function _(R){if(p=!1,w(R),!g)if(r(c)!==null)g=!0,L(j);else{var M=r(u);M!==null&&K(_,M.startTime-R)}}function j(R,M){g=!1,p&&(p=!1,b(k),k=-1),m=!0;var $=h;try{for(w(M),f=r(c);f!==null&&(!(f.expirationTime>M)||R&&!I());){var ee=f.callback;if(typeof ee=="function"){f.callback=null,h=f.priorityLevel;var D=ee(f.expirationTime<=M);M=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),w(M)}else n(c);f=r(c)}if(f!==null)var ie=!0;else{var ve=r(u);ve!==null&&K(_,ve.startTime-M),ie=!1}return ie}finally{f=null,h=$,m=!1}}var S=!1,N=null,k=-1,C=5,E=-1;function I(){return!(e.unstable_now()-E<C)}function O(){if(N!==null){var R=e.unstable_now();E=R;var M=!0;try{M=N(!0,R)}finally{M?B():(S=!1,N=null)}}else S=!1}var B;if(typeof v=="function")B=function(){v(O)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,V=T.port2;T.port1.onmessage=O,B=function(){V.postMessage(null)}}else B=function(){y(O,0)};function L(R){N=R,S||(S=!0,B())}function K(R,M){k=y(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,L(j))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var $=h;h=M;try{return R()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var $=h;h=R;try{return M()}finally{h=$}},e.unstable_scheduleCallback=function(R,M,$){var ee=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,R){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=$+D,R={id:d++,callback:M,priorityLevel:R,startTime:$,expirationTime:D,sortIndex:-1},$>ee?(R.sortIndex=$,t(u,R),r(c)===null&&R===r(u)&&(p?(b(k),k=-1):p=!0,K(_,$-ee))):(R.sortIndex=D,t(c,R),g||m||(g=!0,L(j))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var M=h;return function(){var $=h;h=M;try{return R.apply(this,arguments)}finally{h=$}}}})(EM);CM.exports=EM;var F6=CM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U6=x,hs=F6;function ge(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PM=new Set,Eh={};function kc(e,t){Qu(e,t),Qu(e+"Capture",t)}function Qu(e,t){for(Eh[e]=t,e=0;e<t.length;e++)PM.add(t[e])}var Ri=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O0=Object.prototype.hasOwnProperty,B6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wC={},jC={};function q6(e){return O0.call(jC,e)?!0:O0.call(wC,e)?!1:B6.test(e)?jC[e]=!0:(wC[e]=!0,!1)}function z6(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W6(e,t,r,n){if(t===null||typeof t>"u"||z6(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function An(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){un[e]=new An(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];un[t]=new An(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){un[e]=new An(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){un[e]=new An(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){un[e]=new An(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){un[e]=new An(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){un[e]=new An(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){un[e]=new An(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){un[e]=new An(e,5,!1,e.toLowerCase(),null,!1,!1)});var J1=/[\-:]([a-z])/g;function Z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(J1,Z1);un[t]=new An(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(J1,Z1);un[t]=new An(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(J1,Z1);un[t]=new An(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){un[e]=new An(e,1,!1,e.toLowerCase(),null,!1,!1)});un.xlinkHref=new An("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){un[e]=new An(e,1,!1,e.toLowerCase(),null,!0,!0)});function eS(e,t,r,n){var s=un.hasOwnProperty(t)?un[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(W6(t,r,s,n)&&(r=null),n||s===null?q6(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Vi=U6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),ou=Symbol.for("react.portal"),lu=Symbol.for("react.fragment"),tS=Symbol.for("react.strict_mode"),A0=Symbol.for("react.profiler"),OM=Symbol.for("react.provider"),AM=Symbol.for("react.context"),rS=Symbol.for("react.forward_ref"),T0=Symbol.for("react.suspense"),R0=Symbol.for("react.suspense_list"),nS=Symbol.for("react.memo"),po=Symbol.for("react.lazy"),TM=Symbol.for("react.offscreen"),_C=Symbol.iterator;function jf(e){return e===null||typeof e!="object"?null:(e=_C&&e[_C]||e["@@iterator"],typeof e=="function"?e:null)}var mr=Object.assign,Vb;function Xf(e){if(Vb===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vb=t&&t[1]||""}return`
`+Vb+e}var Kb=!1;function Hb(e,t){if(!e||Kb)return"";Kb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Kb=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Xf(e):""}function V6(e){switch(e.tag){case 5:return Xf(e.type);case 16:return Xf("Lazy");case 13:return Xf("Suspense");case 19:return Xf("SuspenseList");case 0:case 2:case 15:return e=Hb(e.type,!1),e;case 11:return e=Hb(e.type.render,!1),e;case 1:return e=Hb(e.type,!0),e;default:return""}}function M0(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lu:return"Fragment";case ou:return"Portal";case A0:return"Profiler";case tS:return"StrictMode";case T0:return"Suspense";case R0:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case AM:return(e.displayName||"Context")+".Consumer";case OM:return(e._context.displayName||"Context")+".Provider";case rS:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case nS:return t=e.displayName||null,t!==null?t:M0(e.type)||"Memo";case po:t=e._payload,e=e._init;try{return M0(e(t))}catch{}}return null}function K6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M0(t);case 8:return t===tS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function RM(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function H6(e){var t=RM(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ep(e){e._valueTracker||(e._valueTracker=H6(e))}function MM(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=RM(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $0(e,t){var r=t.checked;return mr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function SC(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=tl(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $M(e,t){t=t.checked,t!=null&&eS(e,"checked",t,!1)}function I0(e,t){$M(e,t);var r=tl(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?D0(e,t.type,r):t.hasOwnProperty("defaultValue")&&D0(e,t.type,tl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function NC(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function D0(e,t,r){(t!=="number"||zg(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Jf=Array.isArray;function Su(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+tl(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function L0(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ge(91));return mr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function kC(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(ge(92));if(Jf(r)){if(1<r.length)throw Error(ge(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:tl(r)}}function IM(e,t){var r=tl(t.value),n=tl(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function CC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DM(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function F0(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DM(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Pp,LM=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Pp=Pp||document.createElement("div"),Pp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ph(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ch={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G6=["Webkit","ms","Moz","O"];Object.keys(ch).forEach(function(e){G6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ch[t]=ch[e]})});function FM(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ch.hasOwnProperty(e)&&ch[e]?(""+t).trim():t+"px"}function UM(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=FM(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Y6=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function U0(e,t){if(t){if(Y6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ge(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ge(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ge(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ge(62))}}function B0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var q0=null;function sS(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var z0=null,Nu=null,ku=null;function EC(e){if(e=Jm(e)){if(typeof z0!="function")throw Error(ge(280));var t=e.stateNode;t&&(t=Zy(t),z0(e.stateNode,e.type,t))}}function BM(e){Nu?ku?ku.push(e):ku=[e]:Nu=e}function qM(){if(Nu){var e=Nu,t=ku;if(ku=Nu=null,EC(e),t)for(e=0;e<t.length;e++)EC(t[e])}}function zM(e,t){return e(t)}function WM(){}var Gb=!1;function VM(e,t,r){if(Gb)return e(t,r);Gb=!0;try{return zM(e,t,r)}finally{Gb=!1,(Nu!==null||ku!==null)&&(WM(),qM())}}function Oh(e,t){var r=e.stateNode;if(r===null)return null;var n=Zy(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(ge(231,t,typeof r));return r}var W0=!1;if(Ri)try{var _f={};Object.defineProperty(_f,"passive",{get:function(){W0=!0}}),window.addEventListener("test",_f,_f),window.removeEventListener("test",_f,_f)}catch{W0=!1}function Q6(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var uh=!1,Wg=null,Vg=!1,V0=null,X6={onError:function(e){uh=!0,Wg=e}};function J6(e,t,r,n,s,i,o,l,c){uh=!1,Wg=null,Q6.apply(X6,arguments)}function Z6(e,t,r,n,s,i,o,l,c){if(J6.apply(this,arguments),uh){if(uh){var u=Wg;uh=!1,Wg=null}else throw Error(ge(198));Vg||(Vg=!0,V0=u)}}function Cc(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KM(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PC(e){if(Cc(e)!==e)throw Error(ge(188))}function e8(e){var t=e.alternate;if(!t){if(t=Cc(e),t===null)throw Error(ge(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return PC(s),e;if(i===n)return PC(s),t;i=i.sibling}throw Error(ge(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(ge(189))}}if(r.alternate!==n)throw Error(ge(190))}if(r.tag!==3)throw Error(ge(188));return r.stateNode.current===r?e:t}function HM(e){return e=e8(e),e!==null?GM(e):null}function GM(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GM(e);if(t!==null)return t;e=e.sibling}return null}var YM=hs.unstable_scheduleCallback,OC=hs.unstable_cancelCallback,t8=hs.unstable_shouldYield,r8=hs.unstable_requestPaint,br=hs.unstable_now,n8=hs.unstable_getCurrentPriorityLevel,aS=hs.unstable_ImmediatePriority,QM=hs.unstable_UserBlockingPriority,Kg=hs.unstable_NormalPriority,s8=hs.unstable_LowPriority,XM=hs.unstable_IdlePriority,Yy=null,Wa=null;function a8(e){if(Wa&&typeof Wa.onCommitFiberRoot=="function")try{Wa.onCommitFiberRoot(Yy,e,void 0,(e.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:l8,i8=Math.log,o8=Math.LN2;function l8(e){return e>>>=0,e===0?32:31-(i8(e)/o8|0)|0}var Op=64,Ap=4194304;function Zf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hg(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Zf(l):(i&=o,i!==0&&(n=Zf(i)))}else o=r&~s,o!==0?n=Zf(o):i!==0&&(n=Zf(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-pa(t),s=1<<r,n|=e[r],t&=~s;return n}function c8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u8(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-pa(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=c8(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function K0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function JM(){var e=Op;return Op<<=1,!(Op&4194240)&&(Op=64),e}function Yb(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Qm(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pa(t),e[t]=r}function d8(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-pa(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function iS(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pa(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Dt=0;function ZM(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var e$,oS,t$,r$,n$,H0=!1,Tp=[],Bo=null,qo=null,zo=null,Ah=new Map,Th=new Map,bo=[],f8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AC(e,t){switch(e){case"focusin":case"focusout":Bo=null;break;case"dragenter":case"dragleave":qo=null;break;case"mouseover":case"mouseout":zo=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(t.pointerId)}}function Sf(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Jm(t),t!==null&&oS(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function h8(e,t,r,n,s){switch(t){case"focusin":return Bo=Sf(Bo,e,t,r,n,s),!0;case"dragenter":return qo=Sf(qo,e,t,r,n,s),!0;case"mouseover":return zo=Sf(zo,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ah.set(i,Sf(Ah.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Th.set(i,Sf(Th.get(i)||null,e,t,r,n,s)),!0}return!1}function s$(e){var t=Rl(e.target);if(t!==null){var r=Cc(t);if(r!==null){if(t=r.tag,t===13){if(t=KM(r),t!==null){e.blockedOn=t,n$(e.priority,function(){t$(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=G0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);q0=n,r.target.dispatchEvent(n),q0=null}else return t=Jm(r),t!==null&&oS(t),e.blockedOn=r,!1;t.shift()}return!0}function TC(e,t,r){Cg(e)&&r.delete(t)}function m8(){H0=!1,Bo!==null&&Cg(Bo)&&(Bo=null),qo!==null&&Cg(qo)&&(qo=null),zo!==null&&Cg(zo)&&(zo=null),Ah.forEach(TC),Th.forEach(TC)}function Nf(e,t){e.blockedOn===t&&(e.blockedOn=null,H0||(H0=!0,hs.unstable_scheduleCallback(hs.unstable_NormalPriority,m8)))}function Rh(e){function t(s){return Nf(s,e)}if(0<Tp.length){Nf(Tp[0],e);for(var r=1;r<Tp.length;r++){var n=Tp[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Bo!==null&&Nf(Bo,e),qo!==null&&Nf(qo,e),zo!==null&&Nf(zo,e),Ah.forEach(t),Th.forEach(t),r=0;r<bo.length;r++)n=bo[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<bo.length&&(r=bo[0],r.blockedOn===null);)s$(r),r.blockedOn===null&&bo.shift()}var Cu=Vi.ReactCurrentBatchConfig,Gg=!0;function p8(e,t,r,n){var s=Dt,i=Cu.transition;Cu.transition=null;try{Dt=1,lS(e,t,r,n)}finally{Dt=s,Cu.transition=i}}function g8(e,t,r,n){var s=Dt,i=Cu.transition;Cu.transition=null;try{Dt=4,lS(e,t,r,n)}finally{Dt=s,Cu.transition=i}}function lS(e,t,r,n){if(Gg){var s=G0(e,t,r,n);if(s===null)aw(e,t,n,Yg,r),AC(e,n);else if(h8(s,e,t,r,n))n.stopPropagation();else if(AC(e,n),t&4&&-1<f8.indexOf(e)){for(;s!==null;){var i=Jm(s);if(i!==null&&e$(i),i=G0(e,t,r,n),i===null&&aw(e,t,n,Yg,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else aw(e,t,n,null,r)}}var Yg=null;function G0(e,t,r,n){if(Yg=null,e=sS(n),e=Rl(e),e!==null)if(t=Cc(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KM(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yg=e,null}function a$(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n8()){case aS:return 1;case QM:return 4;case Kg:case s8:return 16;case XM:return 536870912;default:return 16}default:return 16}}var $o=null,cS=null,Eg=null;function i$(){if(Eg)return Eg;var e,t=cS,r=t.length,n,s="value"in $o?$o.value:$o.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Eg=s.slice(e,1<n?1-n:void 0)}function Pg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Rp(){return!0}function RC(){return!1}function vs(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Rp:RC,this.isPropagationStopped=RC,this}return mr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rp)},persist:function(){},isPersistent:Rp}),t}var qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uS=vs(qd),Xm=mr({},qd,{view:0,detail:0}),v8=vs(Xm),Qb,Xb,kf,Qy=mr({},Xm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dS,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==kf&&(kf&&e.type==="mousemove"?(Qb=e.screenX-kf.screenX,Xb=e.screenY-kf.screenY):Xb=Qb=0,kf=e),Qb)},movementY:function(e){return"movementY"in e?e.movementY:Xb}}),MC=vs(Qy),y8=mr({},Qy,{dataTransfer:0}),x8=vs(y8),b8=mr({},Xm,{relatedTarget:0}),Jb=vs(b8),w8=mr({},qd,{animationName:0,elapsedTime:0,pseudoElement:0}),j8=vs(w8),_8=mr({},qd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S8=vs(_8),N8=mr({},qd,{data:0}),$C=vs(N8),k8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},E8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=E8[e])?!!t[e]:!1}function dS(){return P8}var O8=mr({},Xm,{key:function(e){if(e.key){var t=k8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?C8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dS,charCode:function(e){return e.type==="keypress"?Pg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),A8=vs(O8),T8=mr({},Qy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IC=vs(T8),R8=mr({},Xm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dS}),M8=vs(R8),$8=mr({},qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),I8=vs($8),D8=mr({},Qy,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),L8=vs(D8),F8=[9,13,27,32],fS=Ri&&"CompositionEvent"in window,dh=null;Ri&&"documentMode"in document&&(dh=document.documentMode);var U8=Ri&&"TextEvent"in window&&!dh,o$=Ri&&(!fS||dh&&8<dh&&11>=dh),DC=" ",LC=!1;function l$(e,t){switch(e){case"keyup":return F8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c$(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var cu=!1;function B8(e,t){switch(e){case"compositionend":return c$(t);case"keypress":return t.which!==32?null:(LC=!0,DC);case"textInput":return e=t.data,e===DC&&LC?null:e;default:return null}}function q8(e,t){if(cu)return e==="compositionend"||!fS&&l$(e,t)?(e=i$(),Eg=cS=$o=null,cu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return o$&&t.locale!=="ko"?null:t.data;default:return null}}var z8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FC(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z8[e.type]:t==="textarea"}function u$(e,t,r,n){BM(n),t=Qg(t,"onChange"),0<t.length&&(r=new uS("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fh=null,Mh=null;function W8(e){w$(e,0)}function Xy(e){var t=fu(e);if(MM(t))return e}function V8(e,t){if(e==="change")return t}var d$=!1;if(Ri){var Zb;if(Ri){var ew="oninput"in document;if(!ew){var UC=document.createElement("div");UC.setAttribute("oninput","return;"),ew=typeof UC.oninput=="function"}Zb=ew}else Zb=!1;d$=Zb&&(!document.documentMode||9<document.documentMode)}function BC(){fh&&(fh.detachEvent("onpropertychange",f$),Mh=fh=null)}function f$(e){if(e.propertyName==="value"&&Xy(Mh)){var t=[];u$(t,Mh,e,sS(e)),VM(W8,t)}}function K8(e,t,r){e==="focusin"?(BC(),fh=t,Mh=r,fh.attachEvent("onpropertychange",f$)):e==="focusout"&&BC()}function H8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xy(Mh)}function G8(e,t){if(e==="click")return Xy(t)}function Y8(e,t){if(e==="input"||e==="change")return Xy(t)}function Q8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ba=typeof Object.is=="function"?Object.is:Q8;function $h(e,t){if(ba(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!O0.call(t,s)||!ba(e[s],t[s]))return!1}return!0}function qC(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zC(e,t){var r=qC(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qC(r)}}function h$(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h$(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function m$(){for(var e=window,t=zg();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zg(e.document)}return t}function hS(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function X8(e){var t=m$(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&h$(r.ownerDocument.documentElement,r)){if(n!==null&&hS(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=zC(r,i);var o=zC(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var J8=Ri&&"documentMode"in document&&11>=document.documentMode,uu=null,Y0=null,hh=null,Q0=!1;function WC(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q0||uu==null||uu!==zg(n)||(n=uu,"selectionStart"in n&&hS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hh&&$h(hh,n)||(hh=n,n=Qg(Y0,"onSelect"),0<n.length&&(t=new uS("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=uu)))}function Mp(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var du={animationend:Mp("Animation","AnimationEnd"),animationiteration:Mp("Animation","AnimationIteration"),animationstart:Mp("Animation","AnimationStart"),transitionend:Mp("Transition","TransitionEnd")},tw={},p$={};Ri&&(p$=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function Jy(e){if(tw[e])return tw[e];if(!du[e])return e;var t=du[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in p$)return tw[e]=t[r];return e}var g$=Jy("animationend"),v$=Jy("animationiteration"),y$=Jy("animationstart"),x$=Jy("transitionend"),b$=new Map,VC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ol(e,t){b$.set(e,t),kc(t,[e])}for(var rw=0;rw<VC.length;rw++){var nw=VC[rw],Z8=nw.toLowerCase(),ez=nw[0].toUpperCase()+nw.slice(1);ol(Z8,"on"+ez)}ol(g$,"onAnimationEnd");ol(v$,"onAnimationIteration");ol(y$,"onAnimationStart");ol("dblclick","onDoubleClick");ol("focusin","onFocus");ol("focusout","onBlur");ol(x$,"onTransitionEnd");Qu("onMouseEnter",["mouseout","mouseover"]);Qu("onMouseLeave",["mouseout","mouseover"]);Qu("onPointerEnter",["pointerout","pointerover"]);Qu("onPointerLeave",["pointerout","pointerover"]);kc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kc("onBeforeInput",["compositionend","keypress","textInput","paste"]);kc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tz=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function KC(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Z6(n,t,void 0,e),e.currentTarget=null}function w$(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;KC(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;KC(s,l,u),i=c}}}if(Vg)throw e=V0,Vg=!1,V0=null,e}function Zt(e,t){var r=t[tj];r===void 0&&(r=t[tj]=new Set);var n=e+"__bubble";r.has(n)||(j$(t,e,2,!1),r.add(n))}function sw(e,t,r){var n=0;t&&(n|=4),j$(r,e,n,t)}var $p="_reactListening"+Math.random().toString(36).slice(2);function Ih(e){if(!e[$p]){e[$p]=!0,PM.forEach(function(r){r!=="selectionchange"&&(tz.has(r)||sw(r,!1,e),sw(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$p]||(t[$p]=!0,sw("selectionchange",!1,t))}}function j$(e,t,r,n){switch(a$(t)){case 1:var s=p8;break;case 4:s=g8;break;default:s=lS}r=s.bind(null,t,r,e),s=void 0,!W0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function aw(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Rl(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}VM(function(){var u=i,d=sS(r),f=[];e:{var h=b$.get(e);if(h!==void 0){var m=uS,g=e;switch(e){case"keypress":if(Pg(r)===0)break e;case"keydown":case"keyup":m=A8;break;case"focusin":g="focus",m=Jb;break;case"focusout":g="blur",m=Jb;break;case"beforeblur":case"afterblur":m=Jb;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=MC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=x8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=M8;break;case g$:case v$:case y$:m=j8;break;case x$:m=I8;break;case"scroll":m=v8;break;case"wheel":m=L8;break;case"copy":case"cut":case"paste":m=S8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=IC}var p=(t&4)!==0,y=!p&&e==="scroll",b=p?h!==null?h+"Capture":null:h;p=[];for(var v=u,w;v!==null;){w=v;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,b!==null&&(_=Oh(v,b),_!=null&&p.push(Dh(v,_,w)))),y)break;v=v.return}0<p.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==q0&&(g=r.relatedTarget||r.fromElement)&&(Rl(g)||g[Mi]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Rl(g):null,g!==null&&(y=Cc(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(p=MC,_="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(p=IC,_="onPointerLeave",b="onPointerEnter",v="pointer"),y=m==null?h:fu(m),w=g==null?h:fu(g),h=new p(_,v+"leave",m,r,d),h.target=y,h.relatedTarget=w,_=null,Rl(d)===u&&(p=new p(b,v+"enter",g,r,d),p.target=w,p.relatedTarget=y,_=p),y=_,m&&g)t:{for(p=m,b=g,v=0,w=p;w;w=Uc(w))v++;for(w=0,_=b;_;_=Uc(_))w++;for(;0<v-w;)p=Uc(p),v--;for(;0<w-v;)b=Uc(b),w--;for(;v--;){if(p===b||b!==null&&p===b.alternate)break t;p=Uc(p),b=Uc(b)}p=null}else p=null;m!==null&&HC(f,h,m,p,!1),g!==null&&y!==null&&HC(f,y,g,p,!0)}}e:{if(h=u?fu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=V8;else if(FC(h))if(d$)j=Y8;else{j=H8;var S=K8}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=G8);if(j&&(j=j(e,u))){u$(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&D0(h,"number",h.value)}switch(S=u?fu(u):window,e){case"focusin":(FC(S)||S.contentEditable==="true")&&(uu=S,Y0=u,hh=null);break;case"focusout":hh=Y0=uu=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,WC(f,r,d);break;case"selectionchange":if(J8)break;case"keydown":case"keyup":WC(f,r,d)}var N;if(fS)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else cu?l$(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(o$&&r.locale!=="ko"&&(cu||k!=="onCompositionStart"?k==="onCompositionEnd"&&cu&&(N=i$()):($o=d,cS="value"in $o?$o.value:$o.textContent,cu=!0)),S=Qg(u,k),0<S.length&&(k=new $C(k,e,null,r,d),f.push({event:k,listeners:S}),N?k.data=N:(N=c$(r),N!==null&&(k.data=N)))),(N=U8?B8(e,r):q8(e,r))&&(u=Qg(u,"onBeforeInput"),0<u.length&&(d=new $C("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}w$(f,t)})}function Dh(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qg(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Oh(e,r),i!=null&&n.unshift(Dh(e,i,s)),i=Oh(e,t),i!=null&&n.push(Dh(e,i,s))),e=e.return}return n}function Uc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function HC(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Oh(r,i),c!=null&&o.unshift(Dh(r,c,l))):s||(c=Oh(r,i),c!=null&&o.push(Dh(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rz=/\r\n?/g,nz=/\u0000|\uFFFD/g;function GC(e){return(typeof e=="string"?e:""+e).replace(rz,`
`).replace(nz,"")}function Ip(e,t,r){if(t=GC(t),GC(e)!==t&&r)throw Error(ge(425))}function Xg(){}var X0=null,J0=null;function Z0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ej=typeof setTimeout=="function"?setTimeout:void 0,sz=typeof clearTimeout=="function"?clearTimeout:void 0,YC=typeof Promise=="function"?Promise:void 0,az=typeof queueMicrotask=="function"?queueMicrotask:typeof YC<"u"?function(e){return YC.resolve(null).then(e).catch(iz)}:ej;function iz(e){setTimeout(function(){throw e})}function iw(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Rh(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Rh(t)}function Wo(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function QC(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var zd=Math.random().toString(36).slice(2),La="__reactFiber$"+zd,Lh="__reactProps$"+zd,Mi="__reactContainer$"+zd,tj="__reactEvents$"+zd,oz="__reactListeners$"+zd,lz="__reactHandles$"+zd;function Rl(e){var t=e[La];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mi]||r[La]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=QC(e);e!==null;){if(r=e[La])return r;e=QC(e)}return t}e=r,r=e.parentNode}return null}function Jm(e){return e=e[La]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function fu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ge(33))}function Zy(e){return e[Lh]||null}var rj=[],hu=-1;function ll(e){return{current:e}}function rr(e){0>hu||(e.current=rj[hu],rj[hu]=null,hu--)}function Qt(e,t){hu++,rj[hu]=e.current,e.current=t}var rl={},wn=ll(rl),Wn=ll(!1),sc=rl;function Xu(e,t){var r=e.type.contextTypes;if(!r)return rl;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Vn(e){return e=e.childContextTypes,e!=null}function Jg(){rr(Wn),rr(wn)}function XC(e,t,r){if(wn.current!==rl)throw Error(ge(168));Qt(wn,t),Qt(Wn,r)}function _$(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(ge(108,K6(e)||"Unknown",s));return mr({},r,n)}function Zg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rl,sc=wn.current,Qt(wn,e),Qt(Wn,Wn.current),!0}function JC(e,t,r){var n=e.stateNode;if(!n)throw Error(ge(169));r?(e=_$(e,t,sc),n.__reactInternalMemoizedMergedChildContext=e,rr(Wn),rr(wn),Qt(wn,e)):rr(Wn),Qt(Wn,r)}var pi=null,ex=!1,ow=!1;function S$(e){pi===null?pi=[e]:pi.push(e)}function cz(e){ex=!0,S$(e)}function cl(){if(!ow&&pi!==null){ow=!0;var e=0,t=Dt;try{var r=pi;for(Dt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pi=null,ex=!1}catch(s){throw pi!==null&&(pi=pi.slice(e+1)),YM(aS,cl),s}finally{Dt=t,ow=!1}}return null}var mu=[],pu=0,ev=null,tv=0,Ns=[],ks=0,ac=null,bi=1,wi="";function _l(e,t){mu[pu++]=tv,mu[pu++]=ev,ev=e,tv=t}function N$(e,t,r){Ns[ks++]=bi,Ns[ks++]=wi,Ns[ks++]=ac,ac=e;var n=bi;e=wi;var s=32-pa(n)-1;n&=~(1<<s),r+=1;var i=32-pa(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,bi=1<<32-pa(t)+s|r<<s|n,wi=i+e}else bi=1<<i|r<<s|n,wi=e}function mS(e){e.return!==null&&(_l(e,1),N$(e,1,0))}function pS(e){for(;e===ev;)ev=mu[--pu],mu[pu]=null,tv=mu[--pu],mu[pu]=null;for(;e===ac;)ac=Ns[--ks],Ns[ks]=null,wi=Ns[--ks],Ns[ks]=null,bi=Ns[--ks],Ns[ks]=null}var us=null,ls=null,ar=!1,ca=null;function k$(e,t){var r=Ps(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function ZC(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,us=e,ls=Wo(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,us=e,ls=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ac!==null?{id:bi,overflow:wi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ps(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,us=e,ls=null,!0):!1;default:return!1}}function nj(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sj(e){if(ar){var t=ls;if(t){var r=t;if(!ZC(e,t)){if(nj(e))throw Error(ge(418));t=Wo(r.nextSibling);var n=us;t&&ZC(e,t)?k$(n,r):(e.flags=e.flags&-4097|2,ar=!1,us=e)}}else{if(nj(e))throw Error(ge(418));e.flags=e.flags&-4097|2,ar=!1,us=e}}}function e2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;us=e}function Dp(e){if(e!==us)return!1;if(!ar)return e2(e),ar=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Z0(e.type,e.memoizedProps)),t&&(t=ls)){if(nj(e))throw C$(),Error(ge(418));for(;t;)k$(e,t),t=Wo(t.nextSibling)}if(e2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ge(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ls=Wo(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ls=null}}else ls=us?Wo(e.stateNode.nextSibling):null;return!0}function C$(){for(var e=ls;e;)e=Wo(e.nextSibling)}function Ju(){ls=us=null,ar=!1}function gS(e){ca===null?ca=[e]:ca.push(e)}var uz=Vi.ReactCurrentBatchConfig;function Cf(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ge(309));var n=r.stateNode}if(!n)throw Error(ge(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(ge(284));if(!r._owner)throw Error(ge(290,e))}return e}function Lp(e,t){throw e=Object.prototype.toString.call(t),Error(ge(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function t2(e){var t=e._init;return t(e._payload)}function E$(e){function t(b,v){if(e){var w=b.deletions;w===null?(b.deletions=[v],b.flags|=16):w.push(v)}}function r(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function n(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function s(b,v){return b=Go(b,v),b.index=0,b.sibling=null,b}function i(b,v,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<v?(b.flags|=2,v):w):(b.flags|=2,v)):(b.flags|=1048576,v)}function o(b){return e&&b.alternate===null&&(b.flags|=2),b}function l(b,v,w,_){return v===null||v.tag!==6?(v=mw(w,b.mode,_),v.return=b,v):(v=s(v,w),v.return=b,v)}function c(b,v,w,_){var j=w.type;return j===lu?d(b,v,w.props.children,_,w.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===po&&t2(j)===v.type)?(_=s(v,w.props),_.ref=Cf(b,v,w),_.return=b,_):(_=Ig(w.type,w.key,w.props,null,b.mode,_),_.ref=Cf(b,v,w),_.return=b,_)}function u(b,v,w,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=pw(w,b.mode,_),v.return=b,v):(v=s(v,w.children||[]),v.return=b,v)}function d(b,v,w,_,j){return v===null||v.tag!==7?(v=ec(w,b.mode,_,j),v.return=b,v):(v=s(v,w),v.return=b,v)}function f(b,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=mw(""+v,b.mode,w),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Cp:return w=Ig(v.type,v.key,v.props,null,b.mode,w),w.ref=Cf(b,null,v),w.return=b,w;case ou:return v=pw(v,b.mode,w),v.return=b,v;case po:var _=v._init;return f(b,_(v._payload),w)}if(Jf(v)||jf(v))return v=ec(v,b.mode,w,null),v.return=b,v;Lp(b,v)}return null}function h(b,v,w,_){var j=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:l(b,v,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Cp:return w.key===j?c(b,v,w,_):null;case ou:return w.key===j?u(b,v,w,_):null;case po:return j=w._init,h(b,v,j(w._payload),_)}if(Jf(w)||jf(w))return j!==null?null:d(b,v,w,_,null);Lp(b,w)}return null}function m(b,v,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return b=b.get(w)||null,l(v,b,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Cp:return b=b.get(_.key===null?w:_.key)||null,c(v,b,_,j);case ou:return b=b.get(_.key===null?w:_.key)||null,u(v,b,_,j);case po:var S=_._init;return m(b,v,w,S(_._payload),j)}if(Jf(_)||jf(_))return b=b.get(w)||null,d(v,b,_,j,null);Lp(v,_)}return null}function g(b,v,w,_){for(var j=null,S=null,N=v,k=v=0,C=null;N!==null&&k<w.length;k++){N.index>k?(C=N,N=null):C=N.sibling;var E=h(b,N,w[k],_);if(E===null){N===null&&(N=C);break}e&&N&&E.alternate===null&&t(b,N),v=i(E,v,k),S===null?j=E:S.sibling=E,S=E,N=C}if(k===w.length)return r(b,N),ar&&_l(b,k),j;if(N===null){for(;k<w.length;k++)N=f(b,w[k],_),N!==null&&(v=i(N,v,k),S===null?j=N:S.sibling=N,S=N);return ar&&_l(b,k),j}for(N=n(b,N);k<w.length;k++)C=m(N,b,k,w[k],_),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?k:C.key),v=i(C,v,k),S===null?j=C:S.sibling=C,S=C);return e&&N.forEach(function(I){return t(b,I)}),ar&&_l(b,k),j}function p(b,v,w,_){var j=jf(w);if(typeof j!="function")throw Error(ge(150));if(w=j.call(w),w==null)throw Error(ge(151));for(var S=j=null,N=v,k=v=0,C=null,E=w.next();N!==null&&!E.done;k++,E=w.next()){N.index>k?(C=N,N=null):C=N.sibling;var I=h(b,N,E.value,_);if(I===null){N===null&&(N=C);break}e&&N&&I.alternate===null&&t(b,N),v=i(I,v,k),S===null?j=I:S.sibling=I,S=I,N=C}if(E.done)return r(b,N),ar&&_l(b,k),j;if(N===null){for(;!E.done;k++,E=w.next())E=f(b,E.value,_),E!==null&&(v=i(E,v,k),S===null?j=E:S.sibling=E,S=E);return ar&&_l(b,k),j}for(N=n(b,N);!E.done;k++,E=w.next())E=m(N,b,k,E.value,_),E!==null&&(e&&E.alternate!==null&&N.delete(E.key===null?k:E.key),v=i(E,v,k),S===null?j=E:S.sibling=E,S=E);return e&&N.forEach(function(O){return t(b,O)}),ar&&_l(b,k),j}function y(b,v,w,_){if(typeof w=="object"&&w!==null&&w.type===lu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Cp:e:{for(var j=w.key,S=v;S!==null;){if(S.key===j){if(j=w.type,j===lu){if(S.tag===7){r(b,S.sibling),v=s(S,w.props.children),v.return=b,b=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===po&&t2(j)===S.type){r(b,S.sibling),v=s(S,w.props),v.ref=Cf(b,S,w),v.return=b,b=v;break e}r(b,S);break}else t(b,S);S=S.sibling}w.type===lu?(v=ec(w.props.children,b.mode,_,w.key),v.return=b,b=v):(_=Ig(w.type,w.key,w.props,null,b.mode,_),_.ref=Cf(b,v,w),_.return=b,b=_)}return o(b);case ou:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(b,v.sibling),v=s(v,w.children||[]),v.return=b,b=v;break e}else{r(b,v);break}else t(b,v);v=v.sibling}v=pw(w,b.mode,_),v.return=b,b=v}return o(b);case po:return S=w._init,y(b,v,S(w._payload),_)}if(Jf(w))return g(b,v,w,_);if(jf(w))return p(b,v,w,_);Lp(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(b,v.sibling),v=s(v,w),v.return=b,b=v):(r(b,v),v=mw(w,b.mode,_),v.return=b,b=v),o(b)):r(b,v)}return y}var Zu=E$(!0),P$=E$(!1),rv=ll(null),nv=null,gu=null,vS=null;function yS(){vS=gu=nv=null}function xS(e){var t=rv.current;rr(rv),e._currentValue=t}function aj(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Eu(e,t){nv=e,vS=gu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bn=!0),e.firstContext=null)}function Ds(e){var t=e._currentValue;if(vS!==e)if(e={context:e,memoizedValue:t,next:null},gu===null){if(nv===null)throw Error(ge(308));gu=e,nv.dependencies={lanes:0,firstContext:e}}else gu=gu.next=e;return t}var Ml=null;function bS(e){Ml===null?Ml=[e]:Ml.push(e)}function O$(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,bS(t)):(r.next=s.next,s.next=r),t.interleaved=r,$i(e,n)}function $i(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var go=!1;function wS(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function A$(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ki(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vo(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_t&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,$i(e,r)}return s=n.interleaved,s===null?(t.next=t,bS(n)):(t.next=s.next,s.next=t),n.interleaved=t,$i(e,r)}function Og(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iS(e,r)}}function r2(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sv(e,t,r,n){var s=e.updateQueue;go=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,p=l;switch(h=t,m=r,p.tag){case 1:if(g=p.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=p.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=mr({},f,h);break e;case 2:go=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);oc|=o,e.lanes=o,e.memoizedState=f}}function n2(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(ge(191,s));s.call(n)}}}var Zm={},Va=ll(Zm),Fh=ll(Zm),Uh=ll(Zm);function $l(e){if(e===Zm)throw Error(ge(174));return e}function jS(e,t){switch(Qt(Uh,t),Qt(Fh,e),Qt(Va,Zm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:F0(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=F0(t,e)}rr(Va),Qt(Va,t)}function ed(){rr(Va),rr(Fh),rr(Uh)}function T$(e){$l(Uh.current);var t=$l(Va.current),r=F0(t,e.type);t!==r&&(Qt(Fh,e),Qt(Va,r))}function _S(e){Fh.current===e&&(rr(Va),rr(Fh))}var cr=ll(0);function av(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lw=[];function SS(){for(var e=0;e<lw.length;e++)lw[e]._workInProgressVersionPrimary=null;lw.length=0}var Ag=Vi.ReactCurrentDispatcher,cw=Vi.ReactCurrentBatchConfig,ic=0,fr=null,Br=null,Xr=null,iv=!1,mh=!1,Bh=0,dz=0;function fn(){throw Error(ge(321))}function NS(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ba(e[r],t[r]))return!1;return!0}function kS(e,t,r,n,s,i){if(ic=i,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ag.current=e===null||e.memoizedState===null?pz:gz,e=r(n,s),mh){i=0;do{if(mh=!1,Bh=0,25<=i)throw Error(ge(301));i+=1,Xr=Br=null,t.updateQueue=null,Ag.current=vz,e=r(n,s)}while(mh)}if(Ag.current=ov,t=Br!==null&&Br.next!==null,ic=0,Xr=Br=fr=null,iv=!1,t)throw Error(ge(300));return e}function CS(){var e=Bh!==0;return Bh=0,e}function Ra(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xr===null?fr.memoizedState=Xr=e:Xr=Xr.next=e,Xr}function Ls(){if(Br===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Br.next;var t=Xr===null?fr.memoizedState:Xr.next;if(t!==null)Xr=t,Br=e;else{if(e===null)throw Error(ge(310));Br=e,e={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Xr===null?fr.memoizedState=Xr=e:Xr=Xr.next=e}return Xr}function qh(e,t){return typeof t=="function"?t(e):t}function uw(e){var t=Ls(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=Br,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((ic&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,o=n):c=c.next=f,fr.lanes|=d,oc|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ba(n,t.memoizedState)||(Bn=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,fr.lanes|=i,oc|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function dw(e){var t=Ls(),r=t.queue;if(r===null)throw Error(ge(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ba(i,t.memoizedState)||(Bn=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function R$(){}function M$(e,t){var r=fr,n=Ls(),s=t(),i=!ba(n.memoizedState,s);if(i&&(n.memoizedState=s,Bn=!0),n=n.queue,ES(D$.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xr!==null&&Xr.memoizedState.tag&1){if(r.flags|=2048,zh(9,I$.bind(null,r,n,s,t),void 0,null),Zr===null)throw Error(ge(349));ic&30||$$(r,t,s)}return s}function $$(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function I$(e,t,r,n){t.value=r,t.getSnapshot=n,L$(t)&&F$(e)}function D$(e,t,r){return r(function(){L$(t)&&F$(e)})}function L$(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ba(e,r)}catch{return!0}}function F$(e){var t=$i(e,1);t!==null&&ga(t,e,1,-1)}function s2(e){var t=Ra();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qh,lastRenderedState:e},t.queue=e,e=e.dispatch=mz.bind(null,fr,e),[t.memoizedState,e]}function zh(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function U$(){return Ls().memoizedState}function Tg(e,t,r,n){var s=Ra();fr.flags|=e,s.memoizedState=zh(1|t,r,void 0,n===void 0?null:n)}function tx(e,t,r,n){var s=Ls();n=n===void 0?null:n;var i=void 0;if(Br!==null){var o=Br.memoizedState;if(i=o.destroy,n!==null&&NS(n,o.deps)){s.memoizedState=zh(t,r,i,n);return}}fr.flags|=e,s.memoizedState=zh(1|t,r,i,n)}function a2(e,t){return Tg(8390656,8,e,t)}function ES(e,t){return tx(2048,8,e,t)}function B$(e,t){return tx(4,2,e,t)}function q$(e,t){return tx(4,4,e,t)}function z$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function W$(e,t,r){return r=r!=null?r.concat([e]):null,tx(4,4,z$.bind(null,t,e),r)}function PS(){}function V$(e,t){var r=Ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&NS(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function K$(e,t){var r=Ls();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&NS(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function H$(e,t,r){return ic&21?(ba(r,t)||(r=JM(),fr.lanes|=r,oc|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bn=!0),e.memoizedState=r)}function fz(e,t){var r=Dt;Dt=r!==0&&4>r?r:4,e(!0);var n=cw.transition;cw.transition={};try{e(!1),t()}finally{Dt=r,cw.transition=n}}function G$(){return Ls().memoizedState}function hz(e,t,r){var n=Ho(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Y$(e))Q$(t,r);else if(r=O$(e,t,r,n),r!==null){var s=En();ga(r,e,n,s),X$(r,t,n)}}function mz(e,t,r){var n=Ho(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Y$(e))Q$(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ba(l,o)){var c=t.interleaved;c===null?(s.next=s,bS(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=O$(e,t,s,n),r!==null&&(s=En(),ga(r,e,n,s),X$(r,t,n))}}function Y$(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function Q$(e,t){mh=iv=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,iS(e,r)}}var ov={readContext:Ds,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},pz={readContext:Ds,useCallback:function(e,t){return Ra().memoizedState=[e,t===void 0?null:t],e},useContext:Ds,useEffect:a2,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Tg(4194308,4,z$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tg(4,2,e,t)},useMemo:function(e,t){var r=Ra();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ra();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hz.bind(null,fr,e),[n.memoizedState,e]},useRef:function(e){var t=Ra();return e={current:e},t.memoizedState=e},useState:s2,useDebugValue:PS,useDeferredValue:function(e){return Ra().memoizedState=e},useTransition:function(){var e=s2(!1),t=e[0];return e=fz.bind(null,e[1]),Ra().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=fr,s=Ra();if(ar){if(r===void 0)throw Error(ge(407));r=r()}else{if(r=t(),Zr===null)throw Error(ge(349));ic&30||$$(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,a2(D$.bind(null,n,i,e),[e]),n.flags|=2048,zh(9,I$.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Ra(),t=Zr.identifierPrefix;if(ar){var r=wi,n=bi;r=(n&~(1<<32-pa(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Bh++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dz++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gz={readContext:Ds,useCallback:V$,useContext:Ds,useEffect:ES,useImperativeHandle:W$,useInsertionEffect:B$,useLayoutEffect:q$,useMemo:K$,useReducer:uw,useRef:U$,useState:function(){return uw(qh)},useDebugValue:PS,useDeferredValue:function(e){var t=Ls();return H$(t,Br.memoizedState,e)},useTransition:function(){var e=uw(qh)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:R$,useSyncExternalStore:M$,useId:G$,unstable_isNewReconciler:!1},vz={readContext:Ds,useCallback:V$,useContext:Ds,useEffect:ES,useImperativeHandle:W$,useInsertionEffect:B$,useLayoutEffect:q$,useMemo:K$,useReducer:dw,useRef:U$,useState:function(){return dw(qh)},useDebugValue:PS,useDeferredValue:function(e){var t=Ls();return Br===null?t.memoizedState=e:H$(t,Br.memoizedState,e)},useTransition:function(){var e=dw(qh)[0],t=Ls().memoizedState;return[e,t]},useMutableSource:R$,useSyncExternalStore:M$,useId:G$,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){t=mr({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ij(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:mr({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var rx={isMounted:function(e){return(e=e._reactInternals)?Cc(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=En(),s=Ho(e),i=ki(n,s);i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,s),t!==null&&(ga(t,e,s,n),Og(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=En(),s=Ho(e),i=ki(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Vo(e,i,s),t!==null&&(ga(t,e,s,n),Og(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=En(),n=Ho(e),s=ki(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vo(e,s,n),t!==null&&(ga(t,e,n,r),Og(t,e,n))}};function i2(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!$h(r,n)||!$h(s,i):!0}function J$(e,t,r){var n=!1,s=rl,i=t.contextType;return typeof i=="object"&&i!==null?i=Ds(i):(s=Vn(t)?sc:wn.current,n=t.contextTypes,i=(n=n!=null)?Xu(e,s):rl),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=rx,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function o2(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&rx.enqueueReplaceState(t,t.state,null)}function oj(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},wS(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ds(i):(i=Vn(t)?sc:wn.current,s.context=Xu(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ij(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&rx.enqueueReplaceState(s,s.state,null),sv(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function td(e,t){try{var r="",n=t;do r+=V6(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function fw(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lj(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yz=typeof WeakMap=="function"?WeakMap:Map;function Z$(e,t,r){r=ki(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){cv||(cv=!0,yj=n),lj(e,t)},r}function e4(e,t,r){r=ki(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lj(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lj(e,t),typeof n!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function l2(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yz;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Tz.bind(null,e,t,r),t.then(e,e))}function c2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function u2(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ki(-1,1),t.tag=2,Vo(r,t,1))),r.lanes|=1),e)}var xz=Vi.ReactCurrentOwner,Bn=!1;function Nn(e,t,r,n){t.child=e===null?P$(t,null,r,n):Zu(t,e.child,r,n)}function d2(e,t,r,n,s){r=r.render;var i=t.ref;return Eu(t,s),n=kS(e,t,r,n,i,s),r=CS(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ii(e,t,s)):(ar&&r&&mS(t),t.flags|=1,Nn(e,t,n,s),t.child)}function f2(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!DS(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,t4(e,t,i,n,s)):(e=Ig(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:$h,r(o,n)&&e.ref===t.ref)return Ii(e,t,s)}return t.flags|=1,e=Go(i,n),e.ref=t.ref,e.return=t,t.child=e}function t4(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if($h(i,n)&&e.ref===t.ref)if(Bn=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Bn=!0);else return t.lanes=e.lanes,Ii(e,t,s)}return cj(e,t,r,n,s)}function r4(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(yu,ts),ts|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Qt(yu,ts),ts|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Qt(yu,ts),ts|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Qt(yu,ts),ts|=n;return Nn(e,t,s,r),t.child}function n4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cj(e,t,r,n,s){var i=Vn(r)?sc:wn.current;return i=Xu(t,i),Eu(t,s),r=kS(e,t,r,n,i,s),n=CS(),e!==null&&!Bn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ii(e,t,s)):(ar&&n&&mS(t),t.flags|=1,Nn(e,t,r,s),t.child)}function h2(e,t,r,n,s){if(Vn(r)){var i=!0;Zg(t)}else i=!1;if(Eu(t,s),t.stateNode===null)Rg(e,t),J$(t,r,n),oj(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ds(u):(u=Vn(r)?sc:wn.current,u=Xu(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&o2(t,o,n,u),go=!1;var h=t.memoizedState;o.state=h,sv(t,n,o,s),c=t.memoizedState,l!==n||h!==c||Wn.current||go?(typeof d=="function"&&(ij(t,r,d,n),c=t.memoizedState),(l=go||i2(t,r,l,n,h,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,A$(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:ra(t.type,l),o.props=u,f=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ds(c):(c=Vn(r)?sc:wn.current,c=Xu(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||h!==c)&&o2(t,o,n,c),go=!1,h=t.memoizedState,o.state=h,sv(t,n,o,s);var g=t.memoizedState;l!==f||h!==g||Wn.current||go?(typeof m=="function"&&(ij(t,r,m,n),g=t.memoizedState),(u=go||i2(t,r,u,n,h,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return uj(e,t,r,n,i,s)}function uj(e,t,r,n,s,i){n4(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&JC(t,r,!1),Ii(e,t,i);n=t.stateNode,xz.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Zu(t,e.child,null,i),t.child=Zu(t,null,l,i)):Nn(e,t,l,i),t.memoizedState=n.state,s&&JC(t,r,!0),t.child}function s4(e){var t=e.stateNode;t.pendingContext?XC(e,t.pendingContext,t.pendingContext!==t.context):t.context&&XC(e,t.context,!1),jS(e,t.containerInfo)}function m2(e,t,r,n,s){return Ju(),gS(s),t.flags|=256,Nn(e,t,r,n),t.child}var dj={dehydrated:null,treeContext:null,retryLane:0};function fj(e){return{baseLanes:e,cachePool:null,transitions:null}}function a4(e,t,r){var n=t.pendingProps,s=cr.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Qt(cr,s&1),e===null)return sj(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ax(o,n,0,null),e=ec(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fj(r),t.memoizedState=dj,e):OS(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return bz(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Go(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Go(l,i):(i=ec(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fj(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dj,n}return i=e.child,e=i.sibling,n=Go(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function OS(e,t){return t=ax({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fp(e,t,r,n){return n!==null&&gS(n),Zu(t,e.child,null,r),e=OS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bz(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=fw(Error(ge(422))),Fp(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=ax({mode:"visible",children:n.children},s,0,null),i=ec(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Zu(t,e.child,null,o),t.child.memoizedState=fj(o),t.memoizedState=dj,i);if(!(t.mode&1))return Fp(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(ge(419)),n=fw(i,n,void 0),Fp(e,t,o,n)}if(l=(o&e.childLanes)!==0,Bn||l){if(n=Zr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,$i(e,s),ga(n,e,s,-1))}return IS(),n=fw(Error(ge(421))),Fp(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rz.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ls=Wo(s.nextSibling),us=t,ar=!0,ca=null,e!==null&&(Ns[ks++]=bi,Ns[ks++]=wi,Ns[ks++]=ac,bi=e.id,wi=e.overflow,ac=t),t=OS(t,n.children),t.flags|=4096,t)}function p2(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),aj(e.return,t,r)}function hw(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function i4(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Nn(e,t,n.children,r),n=cr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&p2(e,r,t);else if(e.tag===19)p2(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Qt(cr,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&av(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),hw(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&av(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}hw(t,!0,r,null,i);break;case"together":hw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Rg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ii(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oc|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ge(153));if(t.child!==null){for(e=t.child,r=Go(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Go(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wz(e,t,r){switch(t.tag){case 3:s4(t),Ju();break;case 5:T$(t);break;case 1:Vn(t.type)&&Zg(t);break;case 4:jS(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Qt(rv,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Qt(cr,cr.current&1),t.flags|=128,null):r&t.child.childLanes?a4(e,t,r):(Qt(cr,cr.current&1),e=Ii(e,t,r),e!==null?e.sibling:null);Qt(cr,cr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i4(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(cr,cr.current),n)break;return null;case 22:case 23:return t.lanes=0,r4(e,t,r)}return Ii(e,t,r)}var o4,hj,l4,c4;o4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hj=function(){};l4=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,$l(Va.current);var i=null;switch(r){case"input":s=$0(e,s),n=$0(e,n),i=[];break;case"select":s=mr({},s,{value:void 0}),n=mr({},n,{value:void 0}),i=[];break;case"textarea":s=L0(e,s),n=L0(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Xg)}U0(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Eh.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Eh.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Zt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};c4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ef(e,t){if(!ar)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hn(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function jz(e,t,r){var n=t.pendingProps;switch(pS(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(t),null;case 1:return Vn(t.type)&&Jg(),hn(t),null;case 3:return n=t.stateNode,ed(),rr(Wn),rr(wn),SS(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Dp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ca!==null&&(wj(ca),ca=null))),hj(e,t),hn(t),null;case 5:_S(t);var s=$l(Uh.current);if(r=t.type,e!==null&&t.stateNode!=null)l4(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ge(166));return hn(t),null}if(e=$l(Va.current),Dp(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[La]=t,n[Lh]=i,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(s=0;s<eh.length;s++)Zt(eh[s],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":SC(n,i),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Zt("invalid",n);break;case"textarea":kC(n,i),Zt("invalid",n)}U0(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ip(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ip(n.textContent,l,e),s=["children",""+l]):Eh.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Zt("scroll",n)}switch(r){case"input":Ep(n),NC(n,i,!0);break;case"textarea":Ep(n),CC(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Xg)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DM(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[La]=t,e[Lh]=n,o4(e,t,!1,!1),t.stateNode=e;e:{switch(o=B0(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),s=n;break;case"iframe":case"object":case"embed":Zt("load",e),s=n;break;case"video":case"audio":for(s=0;s<eh.length;s++)Zt(eh[s],e);s=n;break;case"source":Zt("error",e),s=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),s=n;break;case"details":Zt("toggle",e),s=n;break;case"input":SC(e,n),s=$0(e,n),Zt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=mr({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":kC(e,n),s=L0(e,n),Zt("invalid",e);break;default:s=n}U0(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?UM(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LM(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ph(e,c):typeof c=="number"&&Ph(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Eh.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zt("scroll",e):c!=null&&eS(e,i,c,o))}switch(r){case"input":Ep(e),NC(e,n,!1);break;case"textarea":Ep(e),CC(e);break;case"option":n.value!=null&&e.setAttribute("value",""+tl(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Su(e,!!n.multiple,i,!1):n.defaultValue!=null&&Su(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xg)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return hn(t),null;case 6:if(e&&t.stateNode!=null)c4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ge(166));if(r=$l(Uh.current),$l(Va.current),Dp(t)){if(n=t.stateNode,r=t.memoizedProps,n[La]=t,(i=n.nodeValue!==r)&&(e=us,e!==null))switch(e.tag){case 3:Ip(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ip(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[La]=t,t.stateNode=n}return hn(t),null;case 13:if(rr(cr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ar&&ls!==null&&t.mode&1&&!(t.flags&128))C$(),Ju(),t.flags|=98560,i=!1;else if(i=Dp(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(ge(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ge(317));i[La]=t}else Ju(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;hn(t),i=!1}else ca!==null&&(wj(ca),ca=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||cr.current&1?Vr===0&&(Vr=3):IS())),t.updateQueue!==null&&(t.flags|=4),hn(t),null);case 4:return ed(),hj(e,t),e===null&&Ih(t.stateNode.containerInfo),hn(t),null;case 10:return xS(t.type._context),hn(t),null;case 17:return Vn(t.type)&&Jg(),hn(t),null;case 19:if(rr(cr),i=t.memoizedState,i===null)return hn(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ef(i,!1);else{if(Vr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=av(e),o!==null){for(t.flags|=128,Ef(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Qt(cr,cr.current&1|2),t.child}e=e.sibling}i.tail!==null&&br()>rd&&(t.flags|=128,n=!0,Ef(i,!1),t.lanes=4194304)}else{if(!n)if(e=av(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ef(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ar)return hn(t),null}else 2*br()-i.renderingStartTime>rd&&r!==1073741824&&(t.flags|=128,n=!0,Ef(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=br(),t.sibling=null,r=cr.current,Qt(cr,n?r&1|2:r&1),t):(hn(t),null);case 22:case 23:return $S(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ts&1073741824&&(hn(t),t.subtreeFlags&6&&(t.flags|=8192)):hn(t),null;case 24:return null;case 25:return null}throw Error(ge(156,t.tag))}function _z(e,t){switch(pS(t),t.tag){case 1:return Vn(t.type)&&Jg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ed(),rr(Wn),rr(wn),SS(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return _S(t),null;case 13:if(rr(cr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ge(340));Ju()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return rr(cr),null;case 4:return ed(),null;case 10:return xS(t.type._context),null;case 22:case 23:return $S(),null;case 24:return null;default:return null}}var Up=!1,gn=!1,Sz=typeof WeakSet=="function"?WeakSet:Set,$e=null;function vu(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){vr(e,t,n)}else r.current=null}function mj(e,t,r){try{r()}catch(n){vr(e,t,n)}}var g2=!1;function Nz(e,t){if(X0=Gg,e=m$(),hS(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(J0={focusedElem:e,selectionRange:r},Gg=!1,$e=t;$e!==null;)if(t=$e,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$e=e;else for(;$e!==null;){t=$e;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var p=g.memoizedProps,y=g.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?p:ra(t.type,p),y);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ge(163))}}catch(_){vr(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,$e=e;break}$e=t.return}return g=g2,g2=!1,g}function ph(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&mj(t,r,i)}s=s.next}while(s!==n)}}function nx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pj(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u4(e){var t=e.alternate;t!==null&&(e.alternate=null,u4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[La],delete t[Lh],delete t[tj],delete t[oz],delete t[lz])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d4(e){return e.tag===5||e.tag===3||e.tag===4}function v2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Xg));else if(n!==4&&(e=e.child,e!==null))for(gj(e,t,r),e=e.sibling;e!==null;)gj(e,t,r),e=e.sibling}function vj(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(vj(e,t,r),e=e.sibling;e!==null;)vj(e,t,r),e=e.sibling}var an=null,ia=!1;function io(e,t,r){for(r=r.child;r!==null;)f4(e,t,r),r=r.sibling}function f4(e,t,r){if(Wa&&typeof Wa.onCommitFiberUnmount=="function")try{Wa.onCommitFiberUnmount(Yy,r)}catch{}switch(r.tag){case 5:gn||vu(r,t);case 6:var n=an,s=ia;an=null,io(e,t,r),an=n,ia=s,an!==null&&(ia?(e=an,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):an.removeChild(r.stateNode));break;case 18:an!==null&&(ia?(e=an,r=r.stateNode,e.nodeType===8?iw(e.parentNode,r):e.nodeType===1&&iw(e,r),Rh(e)):iw(an,r.stateNode));break;case 4:n=an,s=ia,an=r.stateNode.containerInfo,ia=!0,io(e,t,r),an=n,ia=s;break;case 0:case 11:case 14:case 15:if(!gn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&mj(r,t,o),s=s.next}while(s!==n)}io(e,t,r);break;case 1:if(!gn&&(vu(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){vr(r,t,l)}io(e,t,r);break;case 21:io(e,t,r);break;case 22:r.mode&1?(gn=(n=gn)||r.memoizedState!==null,io(e,t,r),gn=n):io(e,t,r);break;default:io(e,t,r)}}function y2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Sz),t.forEach(function(n){var s=Mz.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qs(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:an=l.stateNode,ia=!1;break e;case 3:an=l.stateNode.containerInfo,ia=!0;break e;case 4:an=l.stateNode.containerInfo,ia=!0;break e}l=l.return}if(an===null)throw Error(ge(160));f4(i,o,s),an=null,ia=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){vr(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h4(t,e),t=t.sibling}function h4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qs(t,e),Ta(e),n&4){try{ph(3,e,e.return),nx(3,e)}catch(p){vr(e,e.return,p)}try{ph(5,e,e.return)}catch(p){vr(e,e.return,p)}}break;case 1:Qs(t,e),Ta(e),n&512&&r!==null&&vu(r,r.return);break;case 5:if(Qs(t,e),Ta(e),n&512&&r!==null&&vu(r,r.return),e.flags&32){var s=e.stateNode;try{Ph(s,"")}catch(p){vr(e,e.return,p)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$M(s,i),B0(l,o);var u=B0(l,i);for(o=0;o<c.length;o+=2){var d=c[o],f=c[o+1];d==="style"?UM(s,f):d==="dangerouslySetInnerHTML"?LM(s,f):d==="children"?Ph(s,f):eS(s,d,f,u)}switch(l){case"input":I0(s,i);break;case"textarea":IM(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Su(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?Su(s,!!i.multiple,i.defaultValue,!0):Su(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lh]=i}catch(p){vr(e,e.return,p)}}break;case 6:if(Qs(t,e),Ta(e),n&4){if(e.stateNode===null)throw Error(ge(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){vr(e,e.return,p)}}break;case 3:if(Qs(t,e),Ta(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rh(t.containerInfo)}catch(p){vr(e,e.return,p)}break;case 4:Qs(t,e),Ta(e);break;case 13:Qs(t,e),Ta(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(RS=br())),n&4&&y2(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(gn=(u=gn)||d,Qs(t,e),gn=u):Qs(t,e),Ta(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for($e=e,d=e.child;d!==null;){for(f=$e=d;$e!==null;){switch(h=$e,m=h.child,h.tag){case 0:case 11:case 14:case 15:ph(4,h,h.return);break;case 1:vu(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(p){vr(n,r,p)}}break;case 5:vu(h,h.return);break;case 22:if(h.memoizedState!==null){b2(f);continue}}m!==null?(m.return=h,$e=m):b2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=FM("display",o))}catch(p){vr(e,e.return,p)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(p){vr(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qs(t,e),Ta(e),n&4&&y2(e);break;case 21:break;default:Qs(t,e),Ta(e)}}function Ta(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d4(r)){var n=r;break e}r=r.return}throw Error(ge(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ph(s,""),n.flags&=-33);var i=v2(e);vj(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=v2(e);gj(e,l,o);break;default:throw Error(ge(161))}}catch(c){vr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kz(e,t,r){$e=e,m4(e)}function m4(e,t,r){for(var n=(e.mode&1)!==0;$e!==null;){var s=$e,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Up;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||gn;l=Up;var u=gn;if(Up=o,(gn=c)&&!u)for($e=s;$e!==null;)o=$e,c=o.child,o.tag===22&&o.memoizedState!==null?w2(s):c!==null?(c.return=o,$e=c):w2(s);for(;i!==null;)$e=i,m4(i),i=i.sibling;$e=s,Up=l,gn=u}x2(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$e=i):x2(e)}}function x2(e){for(;$e!==null;){var t=$e;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gn||nx(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!gn)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&n2(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}n2(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Rh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ge(163))}gn||t.flags&512&&pj(t)}catch(h){vr(t,t.return,h)}}if(t===e){$e=null;break}if(r=t.sibling,r!==null){r.return=t.return,$e=r;break}$e=t.return}}function b2(e){for(;$e!==null;){var t=$e;if(t===e){$e=null;break}var r=t.sibling;if(r!==null){r.return=t.return,$e=r;break}$e=t.return}}function w2(e){for(;$e!==null;){var t=$e;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nx(4,t)}catch(c){vr(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){vr(t,s,c)}}var i=t.return;try{pj(t)}catch(c){vr(t,i,c)}break;case 5:var o=t.return;try{pj(t)}catch(c){vr(t,o,c)}}}catch(c){vr(t,t.return,c)}if(t===e){$e=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$e=l;break}$e=t.return}}var Cz=Math.ceil,lv=Vi.ReactCurrentDispatcher,AS=Vi.ReactCurrentOwner,As=Vi.ReactCurrentBatchConfig,_t=0,Zr=null,Ar=null,cn=0,ts=0,yu=ll(0),Vr=0,Wh=null,oc=0,sx=0,TS=0,gh=null,Un=null,RS=0,rd=1/0,hi=null,cv=!1,yj=null,Ko=null,Bp=!1,Io=null,uv=0,vh=0,xj=null,Mg=-1,$g=0;function En(){return _t&6?br():Mg!==-1?Mg:Mg=br()}function Ho(e){return e.mode&1?_t&2&&cn!==0?cn&-cn:uz.transition!==null?($g===0&&($g=JM()),$g):(e=Dt,e!==0||(e=window.event,e=e===void 0?16:a$(e.type)),e):1}function ga(e,t,r,n){if(50<vh)throw vh=0,xj=null,Error(ge(185));Qm(e,r,n),(!(_t&2)||e!==Zr)&&(e===Zr&&(!(_t&2)&&(sx|=r),Vr===4&&wo(e,cn)),Kn(e,n),r===1&&_t===0&&!(t.mode&1)&&(rd=br()+500,ex&&cl()))}function Kn(e,t){var r=e.callbackNode;u8(e,t);var n=Hg(e,e===Zr?cn:0);if(n===0)r!==null&&OC(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&OC(r),t===1)e.tag===0?cz(j2.bind(null,e)):S$(j2.bind(null,e)),az(function(){!(_t&6)&&cl()}),r=null;else{switch(ZM(n)){case 1:r=aS;break;case 4:r=QM;break;case 16:r=Kg;break;case 536870912:r=XM;break;default:r=Kg}r=j4(r,p4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p4(e,t){if(Mg=-1,$g=0,_t&6)throw Error(ge(327));var r=e.callbackNode;if(Pu()&&e.callbackNode!==r)return null;var n=Hg(e,e===Zr?cn:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=dv(e,n);else{t=n;var s=_t;_t|=2;var i=v4();(Zr!==e||cn!==t)&&(hi=null,rd=br()+500,Zl(e,t));do try{Oz();break}catch(l){g4(e,l)}while(!0);yS(),lv.current=i,_t=s,Ar!==null?t=0:(Zr=null,cn=0,t=Vr)}if(t!==0){if(t===2&&(s=K0(e),s!==0&&(n=s,t=bj(e,s))),t===1)throw r=Wh,Zl(e,0),wo(e,n),Kn(e,br()),r;if(t===6)wo(e,n);else{if(s=e.current.alternate,!(n&30)&&!Ez(s)&&(t=dv(e,n),t===2&&(i=K0(e),i!==0&&(n=i,t=bj(e,i))),t===1))throw r=Wh,Zl(e,0),wo(e,n),Kn(e,br()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(ge(345));case 2:Sl(e,Un,hi);break;case 3:if(wo(e,n),(n&130023424)===n&&(t=RS+500-br(),10<t)){if(Hg(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){En(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ej(Sl.bind(null,e,Un,hi),t);break}Sl(e,Un,hi);break;case 4:if(wo(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-pa(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=br()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Cz(n/1960))-n,10<n){e.timeoutHandle=ej(Sl.bind(null,e,Un,hi),n);break}Sl(e,Un,hi);break;case 5:Sl(e,Un,hi);break;default:throw Error(ge(329))}}}return Kn(e,br()),e.callbackNode===r?p4.bind(null,e):null}function bj(e,t){var r=gh;return e.current.memoizedState.isDehydrated&&(Zl(e,t).flags|=256),e=dv(e,t),e!==2&&(t=Un,Un=r,t!==null&&wj(t)),e}function wj(e){Un===null?Un=e:Un.push.apply(Un,e)}function Ez(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ba(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wo(e,t){for(t&=~TS,t&=~sx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-pa(t),n=1<<r;e[r]=-1,t&=~n}}function j2(e){if(_t&6)throw Error(ge(327));Pu();var t=Hg(e,0);if(!(t&1))return Kn(e,br()),null;var r=dv(e,t);if(e.tag!==0&&r===2){var n=K0(e);n!==0&&(t=n,r=bj(e,n))}if(r===1)throw r=Wh,Zl(e,0),wo(e,t),Kn(e,br()),r;if(r===6)throw Error(ge(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sl(e,Un,hi),Kn(e,br()),null}function MS(e,t){var r=_t;_t|=1;try{return e(t)}finally{_t=r,_t===0&&(rd=br()+500,ex&&cl())}}function lc(e){Io!==null&&Io.tag===0&&!(_t&6)&&Pu();var t=_t;_t|=1;var r=As.transition,n=Dt;try{if(As.transition=null,Dt=1,e)return e()}finally{Dt=n,As.transition=r,_t=t,!(_t&6)&&cl()}}function $S(){ts=yu.current,rr(yu)}function Zl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sz(r)),Ar!==null)for(r=Ar.return;r!==null;){var n=r;switch(pS(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Jg();break;case 3:ed(),rr(Wn),rr(wn),SS();break;case 5:_S(n);break;case 4:ed();break;case 13:rr(cr);break;case 19:rr(cr);break;case 10:xS(n.type._context);break;case 22:case 23:$S()}r=r.return}if(Zr=e,Ar=e=Go(e.current,null),cn=ts=t,Vr=0,Wh=null,TS=sx=oc=0,Un=gh=null,Ml!==null){for(t=0;t<Ml.length;t++)if(r=Ml[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Ml=null}return e}function g4(e,t){do{var r=Ar;try{if(yS(),Ag.current=ov,iv){for(var n=fr.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}iv=!1}if(ic=0,Xr=Br=fr=null,mh=!1,Bh=0,AS.current=null,r===null||r.return===null){Vr=1,Wh=t,Ar=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=cn,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=c2(o);if(m!==null){m.flags&=-257,u2(m,o,l,i,t),m.mode&1&&l2(i,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var p=new Set;p.add(c),t.updateQueue=p}else g.add(c);break e}else{if(!(t&1)){l2(i,u,t),IS();break e}c=Error(ge(426))}}else if(ar&&l.mode&1){var y=c2(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),u2(y,o,l,i,t),gS(td(c,l));break e}}i=c=td(c,l),Vr!==4&&(Vr=2),gh===null?gh=[i]:gh.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var b=Z$(i,c,t);r2(i,b);break e;case 1:l=c;var v=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ko===null||!Ko.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=e4(i,l,t);r2(i,_);break e}}i=i.return}while(i!==null)}x4(r)}catch(j){t=j,Ar===r&&r!==null&&(Ar=r=r.return);continue}break}while(!0)}function v4(){var e=lv.current;return lv.current=ov,e===null?ov:e}function IS(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),Zr===null||!(oc&268435455)&&!(sx&268435455)||wo(Zr,cn)}function dv(e,t){var r=_t;_t|=2;var n=v4();(Zr!==e||cn!==t)&&(hi=null,Zl(e,t));do try{Pz();break}catch(s){g4(e,s)}while(!0);if(yS(),_t=r,lv.current=n,Ar!==null)throw Error(ge(261));return Zr=null,cn=0,Vr}function Pz(){for(;Ar!==null;)y4(Ar)}function Oz(){for(;Ar!==null&&!t8();)y4(Ar)}function y4(e){var t=w4(e.alternate,e,ts);e.memoizedProps=e.pendingProps,t===null?x4(e):Ar=t,AS.current=null}function x4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_z(r,t),r!==null){r.flags&=32767,Ar=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Vr=6,Ar=null;return}}else if(r=jz(r,t,ts),r!==null){Ar=r;return}if(t=t.sibling,t!==null){Ar=t;return}Ar=t=e}while(t!==null);Vr===0&&(Vr=5)}function Sl(e,t,r){var n=Dt,s=As.transition;try{As.transition=null,Dt=1,Az(e,t,r,n)}finally{As.transition=s,Dt=n}return null}function Az(e,t,r,n){do Pu();while(Io!==null);if(_t&6)throw Error(ge(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(ge(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(d8(e,i),e===Zr&&(Ar=Zr=null,cn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bp||(Bp=!0,j4(Kg,function(){return Pu(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=As.transition,As.transition=null;var o=Dt;Dt=1;var l=_t;_t|=4,AS.current=null,Nz(e,r),h4(r,e),X8(J0),Gg=!!X0,J0=X0=null,e.current=r,kz(r),r8(),_t=l,Dt=o,As.transition=i}else e.current=r;if(Bp&&(Bp=!1,Io=e,uv=s),i=e.pendingLanes,i===0&&(Ko=null),a8(r.stateNode),Kn(e,br()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(cv)throw cv=!1,e=yj,yj=null,e;return uv&1&&e.tag!==0&&Pu(),i=e.pendingLanes,i&1?e===xj?vh++:(vh=0,xj=e):vh=0,cl(),null}function Pu(){if(Io!==null){var e=ZM(uv),t=As.transition,r=Dt;try{if(As.transition=null,Dt=16>e?16:e,Io===null)var n=!1;else{if(e=Io,Io=null,uv=0,_t&6)throw Error(ge(331));var s=_t;for(_t|=4,$e=e.current;$e!==null;){var i=$e,o=i.child;if($e.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for($e=u;$e!==null;){var d=$e;switch(d.tag){case 0:case 11:case 15:ph(8,d,i)}var f=d.child;if(f!==null)f.return=d,$e=f;else for(;$e!==null;){d=$e;var h=d.sibling,m=d.return;if(u4(d),d===u){$e=null;break}if(h!==null){h.return=m,$e=h;break}$e=m}}}var g=i.alternate;if(g!==null){var p=g.child;if(p!==null){g.child=null;do{var y=p.sibling;p.sibling=null,p=y}while(p!==null)}}$e=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$e=o;else e:for(;$e!==null;){if(i=$e,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ph(9,i,i.return)}var b=i.sibling;if(b!==null){b.return=i.return,$e=b;break e}$e=i.return}}var v=e.current;for($e=v;$e!==null;){o=$e;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,$e=w;else e:for(o=v;$e!==null;){if(l=$e,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:nx(9,l)}}catch(j){vr(l,l.return,j)}if(l===o){$e=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,$e=_;break e}$e=l.return}}if(_t=s,cl(),Wa&&typeof Wa.onPostCommitFiberRoot=="function")try{Wa.onPostCommitFiberRoot(Yy,e)}catch{}n=!0}return n}finally{Dt=r,As.transition=t}}return!1}function _2(e,t,r){t=td(r,t),t=Z$(e,t,1),e=Vo(e,t,1),t=En(),e!==null&&(Qm(e,1,t),Kn(e,t))}function vr(e,t,r){if(e.tag===3)_2(e,e,r);else for(;t!==null;){if(t.tag===3){_2(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ko===null||!Ko.has(n))){e=td(r,e),e=e4(t,e,1),t=Vo(t,e,1),e=En(),t!==null&&(Qm(t,1,e),Kn(t,e));break}}t=t.return}}function Tz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=En(),e.pingedLanes|=e.suspendedLanes&r,Zr===e&&(cn&r)===r&&(Vr===4||Vr===3&&(cn&130023424)===cn&&500>br()-RS?Zl(e,0):TS|=r),Kn(e,t)}function b4(e,t){t===0&&(e.mode&1?(t=Ap,Ap<<=1,!(Ap&130023424)&&(Ap=4194304)):t=1);var r=En();e=$i(e,t),e!==null&&(Qm(e,t,r),Kn(e,r))}function Rz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b4(e,r)}function Mz(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(ge(314))}n!==null&&n.delete(t),b4(e,r)}var w4;w4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Wn.current)Bn=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Bn=!1,wz(e,t,r);Bn=!!(e.flags&131072)}else Bn=!1,ar&&t.flags&1048576&&N$(t,tv,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Rg(e,t),e=t.pendingProps;var s=Xu(t,wn.current);Eu(t,r),s=kS(null,t,n,e,s,r);var i=CS();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Vn(n)?(i=!0,Zg(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wS(t),s.updater=rx,t.stateNode=s,s._reactInternals=t,oj(t,n,e,r),t=uj(null,t,n,!0,i,r)):(t.tag=0,ar&&i&&mS(t),Nn(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Rg(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Iz(n),e=ra(n,e),s){case 0:t=cj(null,t,n,e,r);break e;case 1:t=h2(null,t,n,e,r);break e;case 11:t=d2(null,t,n,e,r);break e;case 14:t=f2(null,t,n,ra(n.type,e),r);break e}throw Error(ge(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),cj(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),h2(e,t,n,s,r);case 3:e:{if(s4(t),e===null)throw Error(ge(387));n=t.pendingProps,i=t.memoizedState,s=i.element,A$(e,t),sv(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=td(Error(ge(423)),t),t=m2(e,t,n,r,s);break e}else if(n!==s){s=td(Error(ge(424)),t),t=m2(e,t,n,r,s);break e}else for(ls=Wo(t.stateNode.containerInfo.firstChild),us=t,ar=!0,ca=null,r=P$(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ju(),n===s){t=Ii(e,t,r);break e}Nn(e,t,n,r)}t=t.child}return t;case 5:return T$(t),e===null&&sj(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Z0(n,s)?o=null:i!==null&&Z0(n,i)&&(t.flags|=32),n4(e,t),Nn(e,t,o,r),t.child;case 6:return e===null&&sj(t),null;case 13:return a4(e,t,r);case 4:return jS(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zu(t,null,n,r):Nn(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),d2(e,t,n,s,r);case 7:return Nn(e,t,t.pendingProps,r),t.child;case 8:return Nn(e,t,t.pendingProps.children,r),t.child;case 12:return Nn(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Qt(rv,n._currentValue),n._currentValue=o,i!==null)if(ba(i.value,o)){if(i.children===s.children&&!Wn.current){t=Ii(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=ki(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),aj(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ge(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),aj(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nn(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Eu(t,r),s=Ds(s),n=n(s),t.flags|=1,Nn(e,t,n,r),t.child;case 14:return n=t.type,s=ra(n,t.pendingProps),s=ra(n.type,s),f2(e,t,n,s,r);case 15:return t4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ra(n,s),Rg(e,t),t.tag=1,Vn(n)?(e=!0,Zg(t)):e=!1,Eu(t,r),J$(t,n,s),oj(t,n,s,r),uj(null,t,n,!0,e,r);case 19:return i4(e,t,r);case 22:return r4(e,t,r)}throw Error(ge(156,t.tag))};function j4(e,t){return YM(e,t)}function $z(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(e,t,r,n){return new $z(e,t,r,n)}function DS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Iz(e){if(typeof e=="function")return DS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===rS)return 11;if(e===nS)return 14}return 2}function Go(e,t){var r=e.alternate;return r===null?(r=Ps(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ig(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")DS(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case lu:return ec(r.children,s,i,t);case tS:o=8,s|=8;break;case A0:return e=Ps(12,r,t,s|2),e.elementType=A0,e.lanes=i,e;case T0:return e=Ps(13,r,t,s),e.elementType=T0,e.lanes=i,e;case R0:return e=Ps(19,r,t,s),e.elementType=R0,e.lanes=i,e;case TM:return ax(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case OM:o=10;break e;case AM:o=9;break e;case rS:o=11;break e;case nS:o=14;break e;case po:o=16,n=null;break e}throw Error(ge(130,e==null?e:typeof e,""))}return t=Ps(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ec(e,t,r,n){return e=Ps(7,e,n,t),e.lanes=r,e}function ax(e,t,r,n){return e=Ps(22,e,n,t),e.elementType=TM,e.lanes=r,e.stateNode={isHidden:!1},e}function mw(e,t,r){return e=Ps(6,e,null,t),e.lanes=r,e}function pw(e,t,r){return t=Ps(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dz(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yb(0),this.expirationTimes=Yb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yb(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function LS(e,t,r,n,s,i,o,l,c){return e=new Dz(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ps(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},wS(i),e}function Lz(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ou,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _4(e){if(!e)return rl;e=e._reactInternals;e:{if(Cc(e)!==e||e.tag!==1)throw Error(ge(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Vn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ge(171))}if(e.tag===1){var r=e.type;if(Vn(r))return _$(e,r,t)}return t}function S4(e,t,r,n,s,i,o,l,c){return e=LS(r,n,!0,e,s,i,o,l,c),e.context=_4(null),r=e.current,n=En(),s=Ho(r),i=ki(n,s),i.callback=t??null,Vo(r,i,s),e.current.lanes=s,Qm(e,s,n),Kn(e,n),e}function ix(e,t,r,n){var s=t.current,i=En(),o=Ho(s);return r=_4(r),t.context===null?t.context=r:t.pendingContext=r,t=ki(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vo(s,t,o),e!==null&&(ga(e,s,o,i),Og(e,s,o)),o}function fv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function S2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function FS(e,t){S2(e,t),(e=e.alternate)&&S2(e,t)}function Fz(){return null}var N4=typeof reportError=="function"?reportError:function(e){console.error(e)};function US(e){this._internalRoot=e}ox.prototype.render=US.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ge(409));ix(e,t,null,null)};ox.prototype.unmount=US.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;lc(function(){ix(null,e,null,null)}),t[Mi]=null}};function ox(e){this._internalRoot=e}ox.prototype.unstable_scheduleHydration=function(e){if(e){var t=r$();e={blockedOn:null,target:e,priority:t};for(var r=0;r<bo.length&&t!==0&&t<bo[r].priority;r++);bo.splice(r,0,e),r===0&&s$(e)}};function BS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function lx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function N2(){}function Uz(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=fv(o);i.call(u)}}var o=S4(t,n,e,0,null,!1,!1,"",N2);return e._reactRootContainer=o,e[Mi]=o.current,Ih(e.nodeType===8?e.parentNode:e),lc(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=fv(c);l.call(u)}}var c=LS(e,0,!1,null,null,!1,!1,"",N2);return e._reactRootContainer=c,e[Mi]=c.current,Ih(e.nodeType===8?e.parentNode:e),lc(function(){ix(t,c,r,n)}),c}function cx(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=fv(o);l.call(c)}}ix(t,o,e,s)}else o=Uz(r,t,e,s,n);return fv(o)}e$=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Zf(t.pendingLanes);r!==0&&(iS(t,r|1),Kn(t,br()),!(_t&6)&&(rd=br()+500,cl()))}break;case 13:lc(function(){var n=$i(e,1);if(n!==null){var s=En();ga(n,e,1,s)}}),FS(e,1)}};oS=function(e){if(e.tag===13){var t=$i(e,134217728);if(t!==null){var r=En();ga(t,e,134217728,r)}FS(e,134217728)}};t$=function(e){if(e.tag===13){var t=Ho(e),r=$i(e,t);if(r!==null){var n=En();ga(r,e,t,n)}FS(e,t)}};r$=function(){return Dt};n$=function(e,t){var r=Dt;try{return Dt=e,t()}finally{Dt=r}};z0=function(e,t,r){switch(t){case"input":if(I0(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Zy(n);if(!s)throw Error(ge(90));MM(n),I0(n,s)}}}break;case"textarea":IM(e,r);break;case"select":t=r.value,t!=null&&Su(e,!!r.multiple,t,!1)}};zM=MS;WM=lc;var Bz={usingClientEntryPoint:!1,Events:[Jm,fu,Zy,BM,qM,MS]},Pf={findFiberByHostInstance:Rl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qz={bundleType:Pf.bundleType,version:Pf.version,rendererPackageName:Pf.rendererPackageName,rendererConfig:Pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HM(e),e===null?null:e.stateNode},findFiberByHostInstance:Pf.findFiberByHostInstance||Fz,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Yy=qp.inject(qz),Wa=qp}catch{}}gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bz;gs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!BS(t))throw Error(ge(200));return Lz(e,t,null,r)};gs.createRoot=function(e,t){if(!BS(e))throw Error(ge(299));var r=!1,n="",s=N4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=LS(e,1,!1,null,null,r,!1,n,s),e[Mi]=t.current,Ih(e.nodeType===8?e.parentNode:e),new US(t)};gs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ge(188)):(e=Object.keys(e).join(","),Error(ge(268,e)));return e=HM(t),e=e===null?null:e.stateNode,e};gs.flushSync=function(e){return lc(e)};gs.hydrate=function(e,t,r){if(!lx(t))throw Error(ge(200));return cx(null,e,t,!0,r)};gs.hydrateRoot=function(e,t,r){if(!BS(e))throw Error(ge(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=N4;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=S4(t,null,e,1,r??null,s,!1,i,o),e[Mi]=t.current,Ih(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ox(t)};gs.render=function(e,t,r){if(!lx(t))throw Error(ge(200));return cx(null,e,t,!1,r)};gs.unmountComponentAtNode=function(e){if(!lx(e))throw Error(ge(40));return e._reactRootContainer?(lc(function(){cx(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};gs.unstable_batchedUpdates=MS;gs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lx(r))throw Error(ge(200));if(e==null||e._reactInternals===void 0)throw Error(ge(38));return cx(e,t,r,!1,n)};gs.version="18.3.1-next-f1338f8080-20240426";function k4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k4)}catch(e){console.error(e)}}k4(),kM.exports=gs;var Wd=kM.exports;const C4=qt(Wd);var k2=Wd;P0.createRoot=k2.createRoot,P0.hydrateRoot=k2.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vh.apply(this,arguments)}var Do;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Do||(Do={}));const C2="popstate";function zz(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return jj("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:hv(s)}return Vz(t,r,null,e)}function hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function qS(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Wz(){return Math.random().toString(36).substr(2,8)}function E2(e,t){return{usr:e.state,key:e.key,idx:t}}function jj(e,t,r,n){return r===void 0&&(r=null),Vh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Vd(t):t,{state:r,key:t&&t.key||n||Wz()})}function hv(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Vd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Vz(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Do.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Vh({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=Do.Pop;let y=d(),b=y==null?null:y-u;u=y,c&&c({action:l,location:p.location,delta:b})}function h(y,b){l=Do.Push;let v=jj(p.location,y,b);u=d()+1;let w=E2(v,u),_=p.createHref(v);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&c&&c({action:l,location:p.location,delta:1})}function m(y,b){l=Do.Replace;let v=jj(p.location,y,b);u=d();let w=E2(v,u),_=p.createHref(v);o.replaceState(w,"",_),i&&c&&c({action:l,location:p.location,delta:0})}function g(y){let b=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:hv(y);return v=v.replace(/ $/,"%20"),hr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let p={get action(){return l},get location(){return e(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(C2,f),c=y,()=>{s.removeEventListener(C2,f),c=null}},createHref(y){return t(s,y)},createURL:g,encodeLocation(y){let b=g(y);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:m,go(y){return o.go(y)}};return p}var P2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(P2||(P2={}));function Kz(e,t,r){return r===void 0&&(r="/"),Hz(e,t,r)}function Hz(e,t,r,n){let s=typeof t=="string"?Vd(t):t,i=nd(s.pathname||"/",r);if(i==null)return null;let o=E4(e);Gz(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=aW(i);l=nW(o[c],u)}return l}function E4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(hr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Yo([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(hr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E4(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:tW(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of P4(i.path))s(i,o,c)}),t}function P4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=P4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:rW(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Yz=/^:[\w-]+$/,Qz=3,Xz=2,Jz=1,Zz=10,eW=-2,O2=e=>e==="*";function tW(e,t){let r=e.split("/"),n=r.length;return r.some(O2)&&(n+=eW),t&&(n+=Xz),r.filter(s=>!O2(s)).reduce((s,i)=>s+(Yz.test(i)?Qz:i===""?Jz:Zz),n)}function rW(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function nW(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=_j({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Yo([i,f.pathname]),pathnameBase:uW(Yo([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Yo([i,f.pathnameBase]))}return o}function _j(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=sW(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let p=l[f]||"";o=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function sW(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),qS(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function aW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return qS(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const iW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oW=e=>iW.test(e);function lW(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Vd(e):e,i;if(r)if(oW(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),qS(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=A2(r.substring(1),"/"):i=A2(r,t)}else i=t;return{pathname:i,search:dW(n),hash:fW(s)}}function A2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function gw(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cW(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function zS(e,t){let r=cW(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function WS(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Vd(e):(s=Vh({},e),hr(!s.pathname||!s.pathname.includes("?"),gw("?","pathname","search",s)),hr(!s.pathname||!s.pathname.includes("#"),gw("#","pathname","hash",s)),hr(!s.search||!s.search.includes("#"),gw("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}l=f>=0?t[f]:"/"}let c=lW(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Yo=e=>e.join("/").replace(/\/\/+/g,"/"),uW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function hW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const O4=["post","put","patch","delete"];new Set(O4);const mW=["get",...O4];new Set(mW);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kh(){return Kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kh.apply(this,arguments)}const ux=x.createContext(null),A4=x.createContext(null),Ki=x.createContext(null),dx=x.createContext(null),ti=x.createContext({outlet:null,matches:[],isDataRoute:!1}),T4=x.createContext(null);function pW(e,t){let{relative:r}=t===void 0?{}:t;Kd()||hr(!1);let{basename:n,navigator:s}=x.useContext(Ki),{hash:i,pathname:o,search:l}=fx(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Yo([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Kd(){return x.useContext(dx)!=null}function ri(){return Kd()||hr(!1),x.useContext(dx).location}function R4(e){x.useContext(Ki).static||x.useLayoutEffect(e)}function ul(){let{isDataRoute:e}=x.useContext(ti);return e?AW():gW()}function gW(){Kd()||hr(!1);let e=x.useContext(ux),{basename:t,future:r,navigator:n}=x.useContext(Ki),{matches:s}=x.useContext(ti),{pathname:i}=ri(),o=JSON.stringify(zS(s,r.v7_relativeSplatPath)),l=x.useRef(!1);return R4(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=WS(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Yo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const vW=x.createContext(null);function yW(e){let t=x.useContext(ti).outlet;return t&&x.createElement(vW.Provider,{value:e},t)}function xW(){let{matches:e}=x.useContext(ti),t=e[e.length-1];return t?t.params:{}}function fx(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(Ki),{matches:s}=x.useContext(ti),{pathname:i}=ri(),o=JSON.stringify(zS(s,n.v7_relativeSplatPath));return x.useMemo(()=>WS(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function bW(e,t){return wW(e,t)}function wW(e,t,r,n){Kd()||hr(!1);let{navigator:s}=x.useContext(Ki),{matches:i}=x.useContext(ti),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ri(),d;if(t){var f;let y=typeof t=="string"?Vd(t):t;c==="/"||(f=y.pathname)!=null&&f.startsWith(c)||hr(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=Kz(e,{pathname:m}),p=kW(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:Yo([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Yo([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&p?x.createElement(dx.Provider,{value:{location:Kh({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Do.Pop}},p):p}function jW(){let e=OW(),t=hW(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:s},r):null,null)}const _W=x.createElement(jW,null);class SW extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(ti.Provider,{value:this.props.routeContext},x.createElement(T4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NW(e){let{routeContext:t,match:r,children:n}=e,s=x.useContext(ux);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(ti.Provider,{value:t},n)}function kW(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||hr(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,p=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,p=f.route.errorElement||_W,c&&(u<0&&h===0?(TW("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),v=()=>{let w;return m?w=p:g?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(NW,{match:f,routeContext:{outlet:d,matches:b,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(SW,{location:r.location,revalidation:r.revalidation,component:p,error:m,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var M4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(M4||{}),$4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}($4||{});function CW(e){let t=x.useContext(ux);return t||hr(!1),t}function EW(e){let t=x.useContext(A4);return t||hr(!1),t}function PW(e){let t=x.useContext(ti);return t||hr(!1),t}function I4(e){let t=PW(),r=t.matches[t.matches.length-1];return r.route.id||hr(!1),r.route.id}function OW(){var e;let t=x.useContext(T4),r=EW(),n=I4();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function AW(){let{router:e}=CW(M4.UseNavigateStable),t=I4($4.UseNavigateStable),r=x.useRef(!1);return R4(()=>{r.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Kh({fromRouteId:t},i)))},[e,t])}const T2={};function TW(e,t,r){T2[e]||(T2[e]=!0)}function RW(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function MW(e){let{to:t,replace:r,state:n,relative:s}=e;Kd()||hr(!1);let{future:i,static:o}=x.useContext(Ki),{matches:l}=x.useContext(ti),{pathname:c}=ri(),u=ul(),d=WS(t,zS(l,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:s}),[u,f,s,r,n]),null}function D4(e){return yW(e.context)}function bt(e){hr(!1)}function $W(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Do.Pop,navigator:i,static:o=!1,future:l}=e;Kd()&&hr(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:i,static:o,future:Kh({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Vd(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,p=x.useMemo(()=>{let y=nd(d,c);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:s}},[c,d,f,h,m,g,s]);return p==null?null:x.createElement(Ki.Provider,{value:u},x.createElement(dx.Provider,{children:r,value:p}))}function IW(e){let{children:t,location:r}=e;return bW(Sj(t),r)}new Promise(()=>{});function Sj(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,s)=>{if(!x.isValidElement(n))return;let i=[...t,s];if(n.type===x.Fragment){r.push.apply(r,Sj(n.props.children,i));return}n.type!==bt&&hr(!1),!n.props.index||!n.props.children||hr(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Sj(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mv(){return mv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mv.apply(this,arguments)}function L4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function DW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function LW(e,t){return e.button===0&&(!t||t==="_self")&&!DW(e)}function Nj(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function FW(e,t){let r=Nj(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const UW=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BW=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],qW="6";try{window.__reactRouterVersion=qW}catch{}const zW=x.createContext({isTransitioning:!1}),WW="startTransition",R2=Gy[WW];function VW(e){let{basename:t,children:r,future:n,window:s}=e,i=x.useRef();i.current==null&&(i.current=zz({window:s,v5Compat:!0}));let o=i.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&R2?R2(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>RW(n),[n]),x.createElement($W,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const KW=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HW=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ue=x.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,h=L4(t,UW),{basename:m}=x.useContext(Ki),g,p=!1;if(typeof u=="string"&&HW.test(u)&&(g=u,KW))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),j=nd(_.pathname,m);_.origin===w.origin&&j!=null?u=j+_.search+_.hash:p=!0}catch{}let y=pW(u,{relative:s}),b=YW(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:f});function v(w){n&&n(w),w.defaultPrevented||b(w)}return x.createElement("a",mv({},h,{href:g||y,onClick:p||i?n:v,ref:r,target:c}))}),F4=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,f=L4(t,BW),h=fx(c,{relative:f.relative}),m=ri(),g=x.useContext(A4),{navigator:p,basename:y}=x.useContext(Ki),b=g!=null&&QW(h)&&u===!0,v=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,w=m.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,v=v.toLowerCase()),_&&y&&(_=nd(_,y)||_);const j=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=w===v||!o&&w.startsWith(v)&&w.charAt(j)==="/",N=_!=null&&(_===v||!o&&_.startsWith(v)&&_.charAt(v.length)==="/"),k={isActive:S,isPending:N,isTransitioning:b},C=S?n:void 0,E;typeof i=="function"?E=i(k):E=[i,S?"active":null,N?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(k):l;return x.createElement(ue,mv({},f,{"aria-current":C,className:E,ref:r,style:I,to:c,viewTransition:u}),typeof d=="function"?d(k):d)});var kj;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(kj||(kj={}));var M2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(M2||(M2={}));function GW(e){let t=x.useContext(ux);return t||hr(!1),t}function YW(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=ul(),u=ri(),d=fx(e,{relative:o});return x.useCallback(f=>{if(LW(f,r)){f.preventDefault();let h=n!==void 0?n:hv(u)===hv(d);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function U4(e){let t=x.useRef(Nj(e)),r=x.useRef(!1),n=ri(),s=x.useMemo(()=>FW(n.search,r.current?null:t.current),[n.search]),i=ul(),o=x.useCallback((l,c)=>{const u=Nj(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function QW(e,t){t===void 0&&(t={});let r=x.useContext(zW);r==null&&hr(!1);let{basename:n}=GW(kj.useViewTransitionState),s=fx(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=nd(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=nd(r.nextLocation.pathname,n)||r.nextLocation.pathname;return _j(s.pathname,o)!=null||_j(s.pathname,i)!=null}var Hd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XW={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},ko,H1,sM,JW=(sM=class{constructor(){ze(this,ko,XW);ze(this,H1,!1)}setTimeoutProvider(e){ke(this,ko,e)}setTimeout(e,t){return q(this,ko).setTimeout(e,t)}clearTimeout(e){q(this,ko).clearTimeout(e)}setInterval(e,t){return q(this,ko).setInterval(e,t)}clearInterval(e){q(this,ko).clearInterval(e)}},ko=new WeakMap,H1=new WeakMap,sM),Il=new JW;function ZW(e){setTimeout(e,0)}var cc=typeof window>"u"||"Deno"in globalThis;function kn(){}function eV(e,t){return typeof e=="function"?e(t):e}function Cj(e){return typeof e=="number"&&e>=0&&e!==1/0}function B4(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qo(e,t){return typeof e=="function"?e(t):e}function _s(e,t){return typeof e=="function"?e(t):e}function $2(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==VS(o,t.options))return!1}else if(!Hh(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function I2(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(uc(t.options.mutationKey)!==uc(i))return!1}else if(!Hh(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function VS(e,t){return((t==null?void 0:t.queryKeyHashFn)||uc)(e)}function uc(e){return JSON.stringify(e,(t,r)=>Ej(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Hh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Hh(e[r],t[r])):!1}var tV=Object.prototype.hasOwnProperty;function q4(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=D2(e)&&D2(t);if(!n&&!(Ej(e)&&Ej(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const f=n?d:o[d],h=e[f],m=t[f];if(h===m){c[f]=h,(n?d<i:tV.call(e,f))&&u++;continue}if(h===null||m===null||typeof h!="object"||typeof m!="object"){c[f]=m;continue}const g=q4(h,m,r+1);c[f]=g,g===h&&u++}return i===l&&u===i?e:c}function pv(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function D2(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ej(e){if(!L2(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!L2(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function L2(e){return Object.prototype.toString.call(e)==="[object Object]"}function rV(e){return new Promise(t=>{Il.setTimeout(t,e)})}function Pj(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?q4(e,t):t}function nV(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function sV(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var KS=Symbol();function z4(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===KS?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function HS(e,t){return typeof e=="function"?e(...t):!!e}function aV(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var Wl,Co,Lu,aM,iV=(aM=class extends Hd{constructor(){super();ze(this,Wl);ze(this,Co);ze(this,Lu);ke(this,Lu,t=>{if(!cc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){q(this,Co)||this.setEventListener(q(this,Lu))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Co))==null||t.call(this),ke(this,Co,void 0))}setEventListener(t){var r;ke(this,Lu,t),(r=q(this,Co))==null||r.call(this),ke(this,Co,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){q(this,Wl)!==t&&(ke(this,Wl,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof q(this,Wl)=="boolean"?q(this,Wl):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Wl=new WeakMap,Co=new WeakMap,Lu=new WeakMap,aM),GS=new iV;function Oj(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var oV=ZW;function lV(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=oV;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var qr=lV(),Fu,Eo,Uu,iM,cV=(iM=class extends Hd{constructor(){super();ze(this,Fu,!0);ze(this,Eo);ze(this,Uu);ke(this,Uu,t=>{if(!cc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){q(this,Eo)||this.setEventListener(q(this,Uu))}onUnsubscribe(){var t;this.hasListeners()||((t=q(this,Eo))==null||t.call(this),ke(this,Eo,void 0))}setEventListener(t){var r;ke(this,Uu,t),(r=q(this,Eo))==null||r.call(this),ke(this,Eo,t(this.setOnline.bind(this)))}setOnline(t){q(this,Fu)!==t&&(ke(this,Fu,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return q(this,Fu)}},Fu=new WeakMap,Eo=new WeakMap,Uu=new WeakMap,iM),gv=new cV;function uV(e){return Math.min(1e3*2**e,3e4)}function W4(e){return(e??"online")==="online"?gv.isOnline():!0}var Aj=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function V4(e){let t=!1,r=0,n;const s=Oj(),i=()=>s.status!=="pending",o=p=>{var y;if(!i()){const b=new Aj(p);h(b),(y=e.onCancel)==null||y.call(e,b)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>GS.isFocused()&&(e.networkMode==="always"||gv.isOnline())&&e.canRun(),d=()=>W4(e.networkMode)&&e.canRun(),f=p=>{i()||(n==null||n(),s.resolve(p))},h=p=>{i()||(n==null||n(),s.reject(p))},m=()=>new Promise(p=>{var y;n=b=>{(i()||u())&&p(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var p;n=void 0,i()||(p=e.onContinue)==null||p.call(e)}),g=()=>{if(i())return;let p;const y=r===0?e.initialPromise:void 0;try{p=y??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(f).catch(b=>{var S;if(i())return;const v=e.retry??(cc?0:3),w=e.retryDelay??uV,_=typeof w=="function"?w(r,b):w,j=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,b);if(t||!j){h(b);return}r++,(S=e.onFail)==null||S.call(e,r,b),rV(_).then(()=>u()?void 0:m()).then(()=>{t?h(b):g()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?g():m().then(g),s)}}var Vl,oM,K4=(oM=class{constructor(){ze(this,Vl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cj(this.gcTime)&&ke(this,Vl,Il.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(cc?1/0:5*60*1e3))}clearGcTimeout(){q(this,Vl)&&(Il.clearTimeout(q(this,Vl)),ke(this,Vl,void 0))}},Vl=new WeakMap,oM),Kl,Bu,js,Hl,Yr,Wm,Gl,sa,fi,lM,dV=(lM=class extends K4{constructor(t){super();ze(this,sa);ze(this,Kl);ze(this,Bu);ze(this,js);ze(this,Hl);ze(this,Yr);ze(this,Wm);ze(this,Gl);ke(this,Gl,!1),ke(this,Wm,t.defaultOptions),this.setOptions(t.options),this.observers=[],ke(this,Hl,t.client),ke(this,js,q(this,Hl).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ke(this,Kl,U2(this.options)),this.state=t.state??q(this,Kl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=q(this,Yr))==null?void 0:t.promise}setOptions(t){if(this.options={...q(this,Wm),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=U2(this.options);r.data!==void 0&&(this.setState(F2(r.data,r.dataUpdatedAt)),ke(this,Kl,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&q(this,js).remove(this)}setData(t,r){const n=Pj(this.state.data,t,this.options);return it(this,sa,fi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){it(this,sa,fi).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=q(this,Yr))==null?void 0:n.promise;return(s=q(this,Yr))==null||s.cancel(t),r?r.then(kn).catch(kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(q(this,Kl))}isActive(){return this.observers.some(t=>_s(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===KS||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qo(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!B4(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,Yr))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=q(this,Yr))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),q(this,js).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(q(this,Yr)&&(q(this,Gl)?q(this,Yr).cancel({revert:!0}):q(this,Yr).cancelRetry()),this.scheduleGc()),q(this,js).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||it(this,sa,fi).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,f,h,m,g,p,y,b,v,w;if(this.state.fetchStatus!=="idle"&&((c=q(this,Yr))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(q(this,Yr))return q(this,Yr).continueRetry(),q(this,Yr).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(j=>j.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ke(this,Gl,!0),n.signal)})},i=()=>{const _=z4(this.options,r),S=(()=>{const N={client:q(this,Hl),queryKey:this.queryKey,meta:this.meta};return s(N),N})();return ke(this,Gl,!1),this.options.persister?this.options.persister(_,S,this):_(S)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:q(this,Hl),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),ke(this,Bu,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&it(this,sa,fi).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta}),ke(this,Yr,V4({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Aj&&_.revert&&this.setState({...q(this,Bu),fetchStatus:"idle"}),n.abort()},onFail:(_,j)=>{it(this,sa,fi).call(this,{type:"failed",failureCount:_,error:j})},onPause:()=>{it(this,sa,fi).call(this,{type:"pause"})},onContinue:()=>{it(this,sa,fi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await q(this,Yr).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(m=(h=q(this,js).config).onSuccess)==null||m.call(h,_,this),(p=(g=q(this,js).config).onSettled)==null||p.call(g,_,this.state.error,this),_}catch(_){if(_ instanceof Aj){if(_.silent)return q(this,Yr).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw it(this,sa,fi).call(this,{type:"error",error:_}),(b=(y=q(this,js).config).onError)==null||b.call(y,_,this),(w=(v=q(this,js).config).onSettled)==null||w.call(v,this.state.data,_,this),_}finally{this.scheduleGc()}}},Kl=new WeakMap,Bu=new WeakMap,js=new WeakMap,Hl=new WeakMap,Yr=new WeakMap,Wm=new WeakMap,Gl=new WeakMap,sa=new WeakSet,fi=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...H4(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...F2(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ke(this,Bu,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),qr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),q(this,js).notify({query:this,type:"updated",action:t})})},lM);function H4(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:W4(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function F2(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function U2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var In,wt,Vm,_n,Yl,qu,gi,Po,Km,zu,Wu,Ql,Xl,Oo,Vu,Mt,th,Tj,Rj,Mj,$j,Ij,Dj,Lj,G4,cM,fV=(cM=class extends Hd{constructor(t,r){super();ze(this,Mt);ze(this,In);ze(this,wt);ze(this,Vm);ze(this,_n);ze(this,Yl);ze(this,qu);ze(this,gi);ze(this,Po);ze(this,Km);ze(this,zu);ze(this,Wu);ze(this,Ql);ze(this,Xl);ze(this,Oo);ze(this,Vu,new Set);this.options=r,ke(this,In,t),ke(this,Po,null),ke(this,gi,Oj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(q(this,wt).addObserver(this),B2(q(this,wt),this.options)?it(this,Mt,th).call(this):this.updateResult(),it(this,Mt,$j).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fj(q(this,wt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fj(q(this,wt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,it(this,Mt,Ij).call(this),it(this,Mt,Dj).call(this),q(this,wt).removeObserver(this)}setOptions(t){const r=this.options,n=q(this,wt);if(this.options=q(this,In).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _s(this.options.enabled,q(this,wt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");it(this,Mt,Lj).call(this),q(this,wt).setOptions(this.options),r._defaulted&&!pv(this.options,r)&&q(this,In).getQueryCache().notify({type:"observerOptionsUpdated",query:q(this,wt),observer:this});const s=this.hasListeners();s&&q2(q(this,wt),n,this.options,r)&&it(this,Mt,th).call(this),this.updateResult(),s&&(q(this,wt)!==n||_s(this.options.enabled,q(this,wt))!==_s(r.enabled,q(this,wt))||Qo(this.options.staleTime,q(this,wt))!==Qo(r.staleTime,q(this,wt)))&&it(this,Mt,Tj).call(this);const i=it(this,Mt,Rj).call(this);s&&(q(this,wt)!==n||_s(this.options.enabled,q(this,wt))!==_s(r.enabled,q(this,wt))||i!==q(this,Oo))&&it(this,Mt,Mj).call(this,i)}getOptimisticResult(t){const r=q(this,In).getQueryCache().build(q(this,In),t),n=this.createResult(r,t);return mV(this,n)&&(ke(this,_n,n),ke(this,qu,this.options),ke(this,Yl,q(this,wt).state)),n}getCurrentResult(){return q(this,_n)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&q(this,gi).status==="pending"&&q(this,gi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){q(this,Vu).add(t)}getCurrentQuery(){return q(this,wt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=q(this,In).defaultQueryOptions(t),n=q(this,In).getQueryCache().build(q(this,In),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return it(this,Mt,th).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),q(this,_n)))}createResult(t,r){var C;const n=q(this,wt),s=this.options,i=q(this,_n),o=q(this,Yl),l=q(this,qu),u=t!==n?t.state:q(this,Vm),{state:d}=t;let f={...d},h=!1,m;if(r._optimisticResults){const E=this.hasListeners(),I=!E&&B2(t,r),O=E&&q2(t,n,r,s);(I||O)&&(f={...f,...H4(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:g,errorUpdatedAt:p,status:y}=f;m=f.data;let b=!1;if(r.placeholderData!==void 0&&m===void 0&&y==="pending"){let E;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(E=i.data,b=!0):E=typeof r.placeholderData=="function"?r.placeholderData((C=q(this,Wu))==null?void 0:C.state.data,q(this,Wu)):r.placeholderData,E!==void 0&&(y="success",m=Pj(i==null?void 0:i.data,E,r),h=!0)}if(r.select&&m!==void 0&&!b)if(i&&m===(o==null?void 0:o.data)&&r.select===q(this,Km))m=q(this,zu);else try{ke(this,Km,r.select),m=r.select(m),m=Pj(i==null?void 0:i.data,m,r),ke(this,zu,m),ke(this,Po,null)}catch(E){ke(this,Po,E)}q(this,Po)&&(g=q(this,Po),m=q(this,zu),p=Date.now(),y="error");const v=f.fetchStatus==="fetching",w=y==="pending",_=y==="error",j=w&&v,S=m!==void 0,k={status:y,fetchStatus:f.fetchStatus,isPending:w,isSuccess:y==="success",isError:_,isInitialLoading:j,isLoading:j,data:m,dataUpdatedAt:f.dataUpdatedAt,error:g,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:_&&!S,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:YS(t,r),refetch:this.refetch,promise:q(this,gi),isEnabled:_s(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const E=k.data!==void 0,I=k.status==="error"&&!E,O=V=>{I?V.reject(k.error):E&&V.resolve(k.data)},B=()=>{const V=ke(this,gi,k.promise=Oj());O(V)},T=q(this,gi);switch(T.status){case"pending":t.queryHash===n.queryHash&&O(T);break;case"fulfilled":(I||k.data!==T.value)&&B();break;case"rejected":(!I||k.error!==T.reason)&&B();break}}return k}updateResult(){const t=q(this,_n),r=this.createResult(q(this,wt),this.options);if(ke(this,Yl,q(this,wt).state),ke(this,qu,this.options),q(this,Yl).data!==void 0&&ke(this,Wu,q(this,wt)),pv(r,t))return;ke(this,_n,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!q(this,Vu).size)return!0;const o=new Set(i??q(this,Vu));return this.options.throwOnError&&o.add("error"),Object.keys(q(this,_n)).some(l=>{const c=l;return q(this,_n)[c]!==t[c]&&o.has(c)})};it(this,Mt,G4).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&it(this,Mt,$j).call(this)}},In=new WeakMap,wt=new WeakMap,Vm=new WeakMap,_n=new WeakMap,Yl=new WeakMap,qu=new WeakMap,gi=new WeakMap,Po=new WeakMap,Km=new WeakMap,zu=new WeakMap,Wu=new WeakMap,Ql=new WeakMap,Xl=new WeakMap,Oo=new WeakMap,Vu=new WeakMap,Mt=new WeakSet,th=function(t){it(this,Mt,Lj).call(this);let r=q(this,wt).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(kn)),r},Tj=function(){it(this,Mt,Ij).call(this);const t=Qo(this.options.staleTime,q(this,wt));if(cc||q(this,_n).isStale||!Cj(t))return;const n=B4(q(this,_n).dataUpdatedAt,t)+1;ke(this,Ql,Il.setTimeout(()=>{q(this,_n).isStale||this.updateResult()},n))},Rj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(q(this,wt)):this.options.refetchInterval)??!1},Mj=function(t){it(this,Mt,Dj).call(this),ke(this,Oo,t),!(cc||_s(this.options.enabled,q(this,wt))===!1||!Cj(q(this,Oo))||q(this,Oo)===0)&&ke(this,Xl,Il.setInterval(()=>{(this.options.refetchIntervalInBackground||GS.isFocused())&&it(this,Mt,th).call(this)},q(this,Oo)))},$j=function(){it(this,Mt,Tj).call(this),it(this,Mt,Mj).call(this,it(this,Mt,Rj).call(this))},Ij=function(){q(this,Ql)&&(Il.clearTimeout(q(this,Ql)),ke(this,Ql,void 0))},Dj=function(){q(this,Xl)&&(Il.clearInterval(q(this,Xl)),ke(this,Xl,void 0))},Lj=function(){const t=q(this,In).getQueryCache().build(q(this,In),this.options);if(t===q(this,wt))return;const r=q(this,wt);ke(this,wt,t),ke(this,Vm,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},G4=function(t){qr.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(q(this,_n))}),q(this,In).getQueryCache().notify({query:q(this,wt),type:"observerResultsUpdated"})})},cM);function hV(e,t){return _s(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function B2(e,t){return hV(e,t)||e.state.data!==void 0&&Fj(e,t,t.refetchOnMount)}function Fj(e,t,r){if(_s(t.enabled,e)!==!1&&Qo(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&YS(e,t)}return!1}function q2(e,t,r,n){return(e!==t||_s(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&YS(e,r)}function YS(e,t){return _s(t.enabled,e)!==!1&&e.isStaleByTime(Qo(t.staleTime,e))}function mV(e,t){return!pv(e.getCurrentResult(),t)}function z2(e){return{onFetch:(t,r)=>{var d,f,h,m,g;const n=t.options,s=(h=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((m=t.state.data)==null?void 0:m.pages)||[],o=((g=t.state.data)==null?void 0:g.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let p=!1;const y=w=>{aV(w,()=>t.signal,()=>p=!0)},b=z4(t.options,t.fetchOptions),v=async(w,_,j)=>{if(p)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:t.client,queryKey:t.queryKey,pageParam:_,direction:j?"backward":"forward",meta:t.options.meta};return y(I),I})(),k=await b(N),{maxPages:C}=t.options,E=j?sV:nV;return{pages:E(w.pages,k,C),pageParams:E(w.pageParams,_,C)}};if(s&&i.length){const w=s==="backward",_=w?pV:W2,j={pages:i,pageParams:o},S=_(n,j);l=await v(j,S,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:W2(n,l);if(c>0&&_==null)break;l=await v(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var p,y;return(y=(p=t.options).persister)==null?void 0:y.call(p,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function W2(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function pV(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Hm,$a,mn,Jl,Ia,fo,uM,gV=(uM=class extends K4{constructor(t){super();ze(this,Ia);ze(this,Hm);ze(this,$a);ze(this,mn);ze(this,Jl);ke(this,Hm,t.client),this.mutationId=t.mutationId,ke(this,mn,t.mutationCache),ke(this,$a,[]),this.state=t.state||Y4(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){q(this,$a).includes(t)||(q(this,$a).push(t),this.clearGcTimeout(),q(this,mn).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ke(this,$a,q(this,$a).filter(r=>r!==t)),this.scheduleGc(),q(this,mn).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){q(this,$a).length||(this.state.status==="pending"?this.scheduleGc():q(this,mn).remove(this))}continue(){var t;return((t=q(this,Jl))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,f,h,m,g,p,y,b,v,w,_,j,S,N;const r=()=>{it(this,Ia,fo).call(this,{type:"continue"})},n={client:q(this,Hm),meta:this.options.meta,mutationKey:this.options.mutationKey};ke(this,Jl,V4({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(k,C)=>{it(this,Ia,fo).call(this,{type:"failed",failureCount:k,error:C})},onPause:()=>{it(this,Ia,fo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>q(this,mn).canRun(this)}));const s=this.state.status==="pending",i=!q(this,Jl).canStart();try{if(s)r();else{it(this,Ia,fo).call(this,{type:"pending",variables:t,isPaused:i}),q(this,mn).config.onMutate&&await q(this,mn).config.onMutate(t,this,n);const C=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));C!==this.state.context&&it(this,Ia,fo).call(this,{type:"pending",context:C,variables:t,isPaused:i})}const k=await q(this,Jl).start();return await((u=(c=q(this,mn).config).onSuccess)==null?void 0:u.call(c,k,t,this.state.context,this,n)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,k,t,this.state.context,n)),await((m=(h=q(this,mn).config).onSettled)==null?void 0:m.call(h,k,null,this.state.variables,this.state.context,this,n)),await((p=(g=this.options).onSettled)==null?void 0:p.call(g,k,null,t,this.state.context,n)),it(this,Ia,fo).call(this,{type:"success",data:k}),k}catch(k){try{await((b=(y=q(this,mn).config).onError)==null?void 0:b.call(y,k,t,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((w=(v=this.options).onError)==null?void 0:w.call(v,k,t,this.state.context,n))}catch(C){Promise.reject(C)}try{await((j=(_=q(this,mn).config).onSettled)==null?void 0:j.call(_,void 0,k,this.state.variables,this.state.context,this,n))}catch(C){Promise.reject(C)}try{await((N=(S=this.options).onSettled)==null?void 0:N.call(S,void 0,k,t,this.state.context,n))}catch(C){Promise.reject(C)}throw it(this,Ia,fo).call(this,{type:"error",error:k}),k}finally{q(this,mn).runNext(this)}}},Hm=new WeakMap,$a=new WeakMap,mn=new WeakMap,Jl=new WeakMap,Ia=new WeakSet,fo=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),qr.batch(()=>{q(this,$a).forEach(n=>{n.onMutationUpdate(t)}),q(this,mn).notify({mutation:this,type:"updated",action:t})})},uM);function Y4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vi,aa,Gm,dM,vV=(dM=class extends Hd{constructor(t={}){super();ze(this,vi);ze(this,aa);ze(this,Gm);this.config=t,ke(this,vi,new Set),ke(this,aa,new Map),ke(this,Gm,0)}build(t,r,n){const s=new gV({client:t,mutationCache:this,mutationId:++Sp(this,Gm)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){q(this,vi).add(t);const r=zp(t);if(typeof r=="string"){const n=q(this,aa).get(r);n?n.push(t):q(this,aa).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(q(this,vi).delete(t)){const r=zp(t);if(typeof r=="string"){const n=q(this,aa).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&q(this,aa).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=zp(t);if(typeof r=="string"){const n=q(this,aa).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=zp(t);if(typeof r=="string"){const s=(n=q(this,aa).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qr.batch(()=>{q(this,vi).forEach(t=>{this.notify({type:"removed",mutation:t})}),q(this,vi).clear(),q(this,aa).clear()})}getAll(){return Array.from(q(this,vi))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>I2(r,n))}findAll(t={}){return this.getAll().filter(r=>I2(t,r))}notify(t){qr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return qr.batch(()=>Promise.all(t.map(r=>r.continue().catch(kn))))}},vi=new WeakMap,aa=new WeakMap,Gm=new WeakMap,dM);function zp(e){var t;return(t=e.options.scope)==null?void 0:t.id}var yi,Ao,Dn,xi,Ti,Dg,Uj,fM,yV=(fM=class extends Hd{constructor(r,n){super();ze(this,Ti);ze(this,yi);ze(this,Ao);ze(this,Dn);ze(this,xi);ke(this,yi,r),this.setOptions(n),this.bindMethods(),it(this,Ti,Dg).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=q(this,yi).defaultMutationOptions(r),pv(this.options,n)||q(this,yi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:q(this,Dn),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&uc(n.mutationKey)!==uc(this.options.mutationKey)?this.reset():((s=q(this,Dn))==null?void 0:s.state.status)==="pending"&&q(this,Dn).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=q(this,Dn))==null||r.removeObserver(this)}onMutationUpdate(r){it(this,Ti,Dg).call(this),it(this,Ti,Uj).call(this,r)}getCurrentResult(){return q(this,Ao)}reset(){var r;(r=q(this,Dn))==null||r.removeObserver(this),ke(this,Dn,void 0),it(this,Ti,Dg).call(this),it(this,Ti,Uj).call(this)}mutate(r,n){var s;return ke(this,xi,n),(s=q(this,Dn))==null||s.removeObserver(this),ke(this,Dn,q(this,yi).getMutationCache().build(q(this,yi),this.options)),q(this,Dn).addObserver(this),q(this,Dn).execute(r)}},yi=new WeakMap,Ao=new WeakMap,Dn=new WeakMap,xi=new WeakMap,Ti=new WeakSet,Dg=function(){var n;const r=((n=q(this,Dn))==null?void 0:n.state)??Y4();ke(this,Ao,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Uj=function(r){qr.batch(()=>{var n,s,i,o,l,c,u,d;if(q(this,xi)&&this.hasListeners()){const f=q(this,Ao).variables,h=q(this,Ao).context,m={client:q(this,yi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=q(this,xi)).onSuccess)==null||s.call(n,r.data,f,h,m)}catch(g){Promise.reject(g)}try{(o=(i=q(this,xi)).onSettled)==null||o.call(i,r.data,null,f,h,m)}catch(g){Promise.reject(g)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=q(this,xi)).onError)==null||c.call(l,r.error,f,h,m)}catch(g){Promise.reject(g)}try{(d=(u=q(this,xi)).onSettled)==null||d.call(u,void 0,r.error,f,h,m)}catch(g){Promise.reject(g)}}}this.listeners.forEach(f=>{f(q(this,Ao))})})},fM),Da,hM,xV=(hM=class extends Hd{constructor(t={}){super();ze(this,Da);this.config=t,ke(this,Da,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??VS(s,r);let o=this.get(i);return o||(o=new dV({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){q(this,Da).has(t.queryHash)||(q(this,Da).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=q(this,Da).get(t.queryHash);r&&(t.destroy(),r===t&&q(this,Da).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return q(this,Da).get(t)}getAll(){return[...q(this,Da).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>$2(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>$2(t,n)):r}notify(t){qr.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){qr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Da=new WeakMap,hM),pr,To,Ro,Ku,Hu,Mo,Gu,Yu,mM,bV=(mM=class{constructor(e={}){ze(this,pr);ze(this,To);ze(this,Ro);ze(this,Ku);ze(this,Hu);ze(this,Mo);ze(this,Gu);ze(this,Yu);ke(this,pr,e.queryCache||new xV),ke(this,To,e.mutationCache||new vV),ke(this,Ro,e.defaultOptions||{}),ke(this,Ku,new Map),ke(this,Hu,new Map),ke(this,Mo,0)}mount(){Sp(this,Mo)._++,q(this,Mo)===1&&(ke(this,Gu,GS.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,pr).onFocus())})),ke(this,Yu,gv.subscribe(async e=>{e&&(await this.resumePausedMutations(),q(this,pr).onOnline())})))}unmount(){var e,t;Sp(this,Mo)._--,q(this,Mo)===0&&((e=q(this,Gu))==null||e.call(this),ke(this,Gu,void 0),(t=q(this,Yu))==null||t.call(this),ke(this,Yu,void 0))}isFetching(e){return q(this,pr).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return q(this,To).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,pr).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=q(this,pr).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qo(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return q(this,pr).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=q(this,pr).get(n.queryHash),i=s==null?void 0:s.state.data,o=eV(t,i);if(o!==void 0)return q(this,pr).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return qr.batch(()=>q(this,pr).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=q(this,pr).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=q(this,pr);qr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=q(this,pr);return qr.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=qr.batch(()=>q(this,pr).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(kn).catch(kn)}invalidateQueries(e,t={}){return qr.batch(()=>(q(this,pr).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=qr.batch(()=>q(this,pr).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(kn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(kn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=q(this,pr).build(this,t);return r.isStaleByTime(Qo(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(kn).catch(kn)}fetchInfiniteQuery(e){return e.behavior=z2(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(kn).catch(kn)}ensureInfiniteQueryData(e){return e.behavior=z2(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gv.isOnline()?q(this,To).resumePausedMutations():Promise.resolve()}getQueryCache(){return q(this,pr)}getMutationCache(){return q(this,To)}getDefaultOptions(){return q(this,Ro)}setDefaultOptions(e){ke(this,Ro,e)}setQueryDefaults(e,t){q(this,Ku).set(uc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...q(this,Ku).values()],r={};return t.forEach(n=>{Hh(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){q(this,Hu).set(uc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...q(this,Hu).values()],r={};return t.forEach(n=>{Hh(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...q(this,Ro).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=VS(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===KS&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...q(this,Ro).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){q(this,pr).clear(),q(this,To).clear()}},pr=new WeakMap,To=new WeakMap,Ro=new WeakMap,Ku=new WeakMap,Hu=new WeakMap,Mo=new WeakMap,Gu=new WeakMap,Yu=new WeakMap,mM),Q4=x.createContext(void 0),me=e=>{const t=x.useContext(Q4);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},wV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Q4.Provider,{value:e,children:t})),X4=x.createContext(!1),jV=()=>x.useContext(X4);X4.Provider;function _V(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var SV=x.createContext(_V()),NV=()=>x.useContext(SV),kV=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?HS(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},CV=e=>{x.useEffect(()=>{e.clearReset()},[e])},EV=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||HS(r,[e.error,n])),PV=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},OV=(e,t)=>e.isLoading&&e.isFetching&&!t,AV=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,V2=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function TV(e,t,r){var h,m,g,p;const n=jV(),s=NV(),i=me(),o=i.defaultQueryOptions(e);(m=(h=i.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",PV(o),kV(o,s,l),CV(s);const c=!i.getQueryCache().get(o.queryHash),[u]=x.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(y=>{const b=f?u.subscribe(qr.batchCalls(y)):kn;return u.updateResult(),b},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),x.useEffect(()=>{u.setOptions(o)},[o,u]),AV(o,d))throw V2(o,u,s);if(EV({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((p=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||p.call(g,o,d),o.experimental_prefetchInRender&&!cc&&OV(d,n)){const y=c?V2(o,u,s):l==null?void 0:l.promise;y==null||y.catch(kn).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Ce(e,t){return TV(e,fV)}function fe(e,t){const r=me(),[n]=x.useState(()=>new yV(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const s=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(qr.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=x.useCallback((o,l)=>{n.mutate(o,l).catch(kn)},[n]);if(s.error&&HS(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var RV=e=>{switch(e){case"success":return IV;case"info":return LV;case"warning":return DV;case"error":return FV;default:return null}},MV=Array(12).fill(0),$V=({visible:e,className:t})=>A.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},A.createElement("div",{className:"sonner-spinner"},MV.map((r,n)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),IV=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DV=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),LV=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),FV=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UV=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BV=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Bj=1,qV=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Bj++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],A.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(WV(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Bj++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ln=new qV,zV=(e,t)=>{let r=(t==null?void 0:t.id)||Bj++;return Ln.addToast({title:e,...t,id:r}),r},WV=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",VV=zV,KV=()=>Ln.toasts,HV=()=>Ln.getActiveToasts(),W=Object.assign(VV,{success:Ln.success,info:Ln.info,warning:Ln.warning,error:Ln.error,custom:Ln.custom,message:Ln.message,promise:Ln.promise,dismiss:Ln.dismiss,loading:Ln.loading},{getHistory:KV,getToasts:HV});function GV(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}GV(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Wp(e){return e.label!==void 0}var YV=3,QV="32px",XV="16px",K2=4e3,JV=356,ZV=14,e9=20,t9=200;function Xs(...e){return e.filter(Boolean).join(" ")}function r9(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var n9=e=>{var t,r,n,s,i,o,l,c,u,d,f;let{invert:h,toast:m,unstyled:g,interacting:p,setHeights:y,visibleToasts:b,heights:v,index:w,toasts:_,expanded:j,removeToast:S,defaultRichColors:N,closeButton:k,style:C,cancelButtonStyle:E,actionButtonStyle:I,className:O="",descriptionClassName:B="",duration:T,position:V,gap:L,loadingIcon:K,expandByDefault:R,classNames:M,icons:$,closeButtonAriaLabel:ee="Close toast",pauseWhenPageIsHidden:D}=e,[ie,ve]=A.useState(null),[Ve,Ke]=A.useState(null),[de,qe]=A.useState(!1),[ae,je]=A.useState(!1),[Y,Q]=A.useState(!1),[Xe,He]=A.useState(!1),[xt,ct]=A.useState(!1),[zt,Sr]=A.useState(0),[dn,ys]=A.useState(0),F=A.useRef(m.duration||T||K2),H=A.useRef(null),U=A.useRef(null),le=w===0,he=w+1<=b,se=m.type,Ne=m.dismissible!==!1,Ot=m.className||"",At=m.descriptionClassName||"",Nr=A.useMemo(()=>v.findIndex(tt=>tt.toastId===m.id)||0,[v,m.id]),li=A.useMemo(()=>{var tt;return(tt=m.closeButton)!=null?tt:k},[m.closeButton,k]),Ks=A.useMemo(()=>m.duration||T||K2,[m.duration,T]),bf=A.useRef(0),Aa=A.useRef(0),Fc=A.useRef(0),ro=A.useRef(null),[_p,Bb]=V.split("-"),wf=A.useMemo(()=>v.reduce((tt,Ft,sr)=>sr>=Nr?tt:tt+Ft.height,0),[v,Nr]),gC=BV(),p6=m.invert||h,qb=se==="loading";Aa.current=A.useMemo(()=>Nr*L+wf,[Nr,wf]),A.useEffect(()=>{F.current=Ks},[Ks]),A.useEffect(()=>{qe(!0)},[]),A.useEffect(()=>{let tt=U.current;if(tt){let Ft=tt.getBoundingClientRect().height;return ys(Ft),y(sr=>[{toastId:m.id,height:Ft,position:m.position},...sr]),()=>y(sr=>sr.filter(Hs=>Hs.toastId!==m.id))}},[y,m.id]),A.useLayoutEffect(()=>{if(!de)return;let tt=U.current,Ft=tt.style.height;tt.style.height="auto";let sr=tt.getBoundingClientRect().height;tt.style.height=Ft,ys(sr),y(Hs=>Hs.find(Gs=>Gs.toastId===m.id)?Hs.map(Gs=>Gs.toastId===m.id?{...Gs,height:sr}:Gs):[{toastId:m.id,height:sr,position:m.position},...Hs])},[de,m.title,m.description,y,m.id]);let no=A.useCallback(()=>{je(!0),Sr(Aa.current),y(tt=>tt.filter(Ft=>Ft.toastId!==m.id)),setTimeout(()=>{S(m)},t9)},[m,S,y,Aa]);A.useEffect(()=>{if(m.promise&&se==="loading"||m.duration===1/0||m.type==="loading")return;let tt;return j||p||D&&gC?(()=>{if(Fc.current<bf.current){let Ft=new Date().getTime()-bf.current;F.current=F.current-Ft}Fc.current=new Date().getTime()})():F.current!==1/0&&(bf.current=new Date().getTime(),tt=setTimeout(()=>{var Ft;(Ft=m.onAutoClose)==null||Ft.call(m,m),no()},F.current)),()=>clearTimeout(tt)},[j,p,m,se,D,gC,no]),A.useEffect(()=>{m.delete&&no()},[no,m.delete]);function g6(){var tt,Ft,sr;return $!=null&&$.loading?A.createElement("div",{className:Xs(M==null?void 0:M.loader,(tt=m==null?void 0:m.classNames)==null?void 0:tt.loader,"sonner-loader"),"data-visible":se==="loading"},$.loading):K?A.createElement("div",{className:Xs(M==null?void 0:M.loader,(Ft=m==null?void 0:m.classNames)==null?void 0:Ft.loader,"sonner-loader"),"data-visible":se==="loading"},K):A.createElement($V,{className:Xs(M==null?void 0:M.loader,(sr=m==null?void 0:m.classNames)==null?void 0:sr.loader),visible:se==="loading"})}return A.createElement("li",{tabIndex:0,ref:U,className:Xs(O,Ot,M==null?void 0:M.toast,(t=m==null?void 0:m.classNames)==null?void 0:t.toast,M==null?void 0:M.default,M==null?void 0:M[se],(r=m==null?void 0:m.classNames)==null?void 0:r[se]),"data-sonner-toast":"","data-rich-colors":(n=m.richColors)!=null?n:N,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":de,"data-promise":!!m.promise,"data-swiped":xt,"data-removed":ae,"data-visible":he,"data-y-position":_p,"data-x-position":Bb,"data-index":w,"data-front":le,"data-swiping":Y,"data-dismissible":Ne,"data-type":se,"data-invert":p6,"data-swipe-out":Xe,"data-swipe-direction":Ve,"data-expanded":!!(j||R&&de),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${ae?zt:Aa.current}px`,"--initial-height":R?"auto":`${dn}px`,...C,...m.style},onDragEnd:()=>{Q(!1),ve(null),ro.current=null},onPointerDown:tt=>{qb||!Ne||(H.current=new Date,Sr(Aa.current),tt.target.setPointerCapture(tt.pointerId),tt.target.tagName!=="BUTTON"&&(Q(!0),ro.current={x:tt.clientX,y:tt.clientY}))},onPointerUp:()=>{var tt,Ft,sr,Hs;if(Xe||!Ne)return;ro.current=null;let Gs=Number(((tt=U.current)==null?void 0:tt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),so=Number(((Ft=U.current)==null?void 0:Ft.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xl=new Date().getTime()-((sr=H.current)==null?void 0:sr.getTime()),Ys=ie==="x"?Gs:so,ao=Math.abs(Ys)/xl;if(Math.abs(Ys)>=e9||ao>.11){Sr(Aa.current),(Hs=m.onDismiss)==null||Hs.call(m,m),Ke(ie==="x"?Gs>0?"right":"left":so>0?"down":"up"),no(),He(!0),ct(!1);return}Q(!1),ve(null)},onPointerMove:tt=>{var Ft,sr,Hs,Gs;if(!ro.current||!Ne||((Ft=window.getSelection())==null?void 0:Ft.toString().length)>0)return;let so=tt.clientY-ro.current.y,xl=tt.clientX-ro.current.x,Ys=(sr=e.swipeDirections)!=null?sr:r9(V);!ie&&(Math.abs(xl)>1||Math.abs(so)>1)&&ve(Math.abs(xl)>Math.abs(so)?"x":"y");let ao={x:0,y:0};ie==="y"?(Ys.includes("top")||Ys.includes("bottom"))&&(Ys.includes("top")&&so<0||Ys.includes("bottom")&&so>0)&&(ao.y=so):ie==="x"&&(Ys.includes("left")||Ys.includes("right"))&&(Ys.includes("left")&&xl<0||Ys.includes("right")&&xl>0)&&(ao.x=xl),(Math.abs(ao.x)>0||Math.abs(ao.y)>0)&&ct(!0),(Hs=U.current)==null||Hs.style.setProperty("--swipe-amount-x",`${ao.x}px`),(Gs=U.current)==null||Gs.style.setProperty("--swipe-amount-y",`${ao.y}px`)}},li&&!m.jsx?A.createElement("button",{"aria-label":ee,"data-disabled":qb,"data-close-button":!0,onClick:qb||!Ne?()=>{}:()=>{var tt;no(),(tt=m.onDismiss)==null||tt.call(m,m)},className:Xs(M==null?void 0:M.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=$==null?void 0:$.close)!=null?i:UV):null,m.jsx||x.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:A.createElement(A.Fragment,null,se||m.icon||m.promise?A.createElement("div",{"data-icon":"",className:Xs(M==null?void 0:M.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||g6():null,m.type!=="loading"?m.icon||($==null?void 0:$[se])||RV(se):null):null,A.createElement("div",{"data-content":"",className:Xs(M==null?void 0:M.content,(l=m==null?void 0:m.classNames)==null?void 0:l.content)},A.createElement("div",{"data-title":"",className:Xs(M==null?void 0:M.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?A.createElement("div",{"data-description":"",className:Xs(B,At,M==null?void 0:M.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),x.isValidElement(m.cancel)?m.cancel:m.cancel&&Wp(m.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||E,onClick:tt=>{var Ft,sr;Wp(m.cancel)&&Ne&&((sr=(Ft=m.cancel).onClick)==null||sr.call(Ft,tt),no())},className:Xs(M==null?void 0:M.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,x.isValidElement(m.action)?m.action:m.action&&Wp(m.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||I,onClick:tt=>{var Ft,sr;Wp(m.action)&&((sr=(Ft=m.action).onClick)==null||sr.call(Ft,tt),!tt.defaultPrevented&&no())},className:Xs(M==null?void 0:M.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function H2(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function s9(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?XV:QV;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var a9=x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:g=YV,toastOptions:p,dir:y=H2(),gap:b=ZV,loadingIcon:v,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:j}=e,[S,N]=A.useState([]),k=A.useMemo(()=>Array.from(new Set([n].concat(S.filter(D=>D.position).map(D=>D.position)))),[S,n]),[C,E]=A.useState([]),[I,O]=A.useState(!1),[B,T]=A.useState(!1),[V,L]=A.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=A.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=A.useRef(null),$=A.useRef(!1),ee=A.useCallback(D=>{N(ie=>{var ve;return(ve=ie.find(Ve=>Ve.id===D.id))!=null&&ve.delete||Ln.dismiss(D.id),ie.filter(({id:Ve})=>Ve!==D.id)})},[]);return A.useEffect(()=>Ln.subscribe(D=>{if(D.dismiss){N(ie=>ie.map(ve=>ve.id===D.id?{...ve,delete:!0}:ve));return}setTimeout(()=>{C4.flushSync(()=>{N(ie=>{let ve=ie.findIndex(Ve=>Ve.id===D.id);return ve!==-1?[...ie.slice(0,ve),{...ie[ve],...D},...ie.slice(ve+1)]:[D,...ie]})})})}),[]),A.useEffect(()=>{if(d!=="system"){L(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?L("dark"):L("light")),typeof window>"u")return;let D=window.matchMedia("(prefers-color-scheme: dark)");try{D.addEventListener("change",({matches:ie})=>{L(ie?"dark":"light")})}catch{D.addListener(({matches:ve})=>{try{L(ve?"dark":"light")}catch(Ve){console.error(Ve)}})}},[d]),A.useEffect(()=>{S.length<=1&&O(!1)},[S]),A.useEffect(()=>{let D=ie=>{var ve,Ve;s.every(Ke=>ie[Ke]||ie.code===Ke)&&(O(!0),(ve=K.current)==null||ve.focus()),ie.code==="Escape"&&(document.activeElement===K.current||(Ve=K.current)!=null&&Ve.contains(document.activeElement))&&O(!1)};return document.addEventListener("keydown",D),()=>document.removeEventListener("keydown",D)},[s]),A.useEffect(()=>{if(K.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,$.current=!1)}},[K.current]),A.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},k.map((D,ie)=>{var ve;let[Ve,Ke]=D.split("-");return S.length?A.createElement("ol",{key:D,dir:y==="auto"?H2():y,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Ve,"data-lifted":I&&S.length>1&&!i,"data-x-position":Ke,style:{"--front-toast-height":`${((ve=C[0])==null?void 0:ve.height)||0}px`,"--width":`${JV}px`,"--gap":`${b}px`,...m,...s9(c,u)},onBlur:de=>{$.current&&!de.currentTarget.contains(de.relatedTarget)&&($.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||$.current||($.current=!0,M.current=de.relatedTarget)},onMouseEnter:()=>O(!0),onMouseMove:()=>O(!0),onMouseLeave:()=>{B||O(!1)},onDragEnd:()=>O(!1),onPointerDown:de=>{de.target instanceof HTMLElement&&de.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},S.filter(de=>!de.position&&ie===0||de.position===D).map((de,qe)=>{var ae,je;return A.createElement(n9,{key:de.id,icons:w,index:qe,toast:de,defaultRichColors:f,duration:(ae=p==null?void 0:p.duration)!=null?ae:h,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:g,closeButton:(je=p==null?void 0:p.closeButton)!=null?je:o,interacting:B,position:D,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:ee,toasts:S.filter(Y=>Y.position==de.position),heights:C.filter(Y=>Y.position==de.position),setHeights:E,expandByDefault:i,gap:b,loadingIcon:v,expanded:I,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))}),Fa=function(){return Fa=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Fa.apply(this,arguments)};function Gd(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function i9(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function o9(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}const l9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class QS extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class c9 extends QS{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class G2 extends QS{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Y2 extends QS{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var qj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(qj||(qj={}));class u9{constructor(t,{headers:r={},customFetch:n,region:s=qj.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=l9(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return i9(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:f}=n;let h={},{region:m}=n;m||(m=this.region);const g=new URL(`${this.url}/${r}`);m&&m!=="any"&&(h["x-region"]=m,g.searchParams.set("forceFunctionRegion",m));let p;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=u):typeof u=="string"?(h["Content-Type"]="text/plain",p=u):typeof FormData<"u"&&u instanceof FormData?p=u:(h["Content-Type"]="application/json",p=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?p=JSON.stringify(u):p=u;let y=d;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),d?(y=o.signal,d.addEventListener("abort",()=>o.abort())):y=o.signal);const b=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),l),body:p,signal:y}).catch(j=>{throw new c9(j)}),v=b.headers.get("x-relay-error");if(v&&v==="true")throw new G2(b);if(!b.ok)throw new Y2(b);let w=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield b.json():w==="application/octet-stream"||w==="application/pdf"?_=yield b.blob():w==="text/event-stream"?_=b:w==="multipart/form-data"?_=yield b.formData():_=yield b.text(),{data:_,error:null,response:b}}catch(l){return{data:null,error:l,response:l instanceof Y2||l instanceof G2?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var d9=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},f9=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var f,h;if(r.method!=="HEAD"){var m;const b=await i.text();b===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((m=r.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?l=b:l=JSON.parse(b))}const p=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),y=(h=i.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");p&&y&&y.length>1&&(c=parseInt(y[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var g;const p=await i.text();try{o=JSON.parse(p),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&p===""?(u=204,d="No Content"):o={message:p}}if(o&&r.isMaybeSingle&&(!(o==null||(g=o.details)===null||g===void 0)&&g.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new d9(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,f,h;const g=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",p=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"Error"}: ${g}`,p&&(l+=` (${p})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var m;l=(m=i==null?void 0:i.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},h9=class extends f9{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Q2=new RegExp("[,()]");var ru=class extends h9{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Q2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Q2.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},m9=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new ru({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new ru({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);l.searchParams.set("columns",d.join(","))}}return new ru({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ru({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new ru({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},p9=class J4{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new m9(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new J4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(d)),f=n&&Object.values(r).some(d);f?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{c.searchParams.append(m,g)})):(l="POST",u=r);const h=new Headers(this.headers);return f?h.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&h.set("Prefer",`count=${i}`),new ru({method:l,url:c,headers:h,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class g9{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const v9="2.93.3",y9=`realtime-js/${v9}`,x9="1.0.0",Z4="2.0.0",X2=Z4,zj=1e4,b9=1e3,w9=100;var vo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vo||(vo={}));var Ur;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ur||(Ur={}));var oa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(oa||(oa={}));var Wj;(function(e){e.websocket="websocket"})(Wj||(Wj={}));var Ol;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ol||(Ol={}));class j9{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),p=0;g.setUint8(p++,this.KINDS.userBroadcastPush),g.setUint8(p++,c.length),g.setUint8(p++,l.length),g.setUint8(p++,o.length),g.setUint8(p++,u.length),g.setUint8(p++,f.length),g.setUint8(p++,r),Array.from(c,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(l,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(o,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(u,b=>g.setUint8(p++,b.charCodeAt(0))),Array.from(f,b=>g.setUint8(p++,b.charCodeAt(0)));var y=new Uint8Array(m.byteLength+n.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(n),m.byteLength),y.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const f=n.decode(t.slice(c,c+o));c=c+o;const h=t.slice(c,t.byteLength),m=l===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,g={type:this.BROADCAST_EVENT,event:d,payload:m};return o>0&&(g.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class eI{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ht||(Ht={}));const J2=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=_9(o,e,t,s),i),{}):{}},_9=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?tI(i,o):Vj(o)},tI=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C9(t,r)}switch(e){case Ht.bool:return S9(t);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return N9(t);case Ht.json:case Ht.jsonb:return k9(t);case Ht.timestamp:return E9(t);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return Vj(t);default:return Vj(t)}},Vj=e=>e,S9=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},N9=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},k9=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},C9=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>tI(t,l))}return e},E9=e=>typeof e=="string"?e.replace(" ","T"):e,rI=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class vw{constructor(t,r,n={},s=zj){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z2;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z2||(Z2={}));class yh{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yh.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=yh.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yh.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),p=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),p.length>0&&(c[u]=p)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var eE;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(eE||(eE={}));var xh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(xh||(xh={}));var mi;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class xu{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ur.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vw(this,oa.join,this.params,this.timeout),this.rejoinTimer=new eI(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ur.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ur.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Ur.errored,this.rejoinTimer.scheduleTimeout())}),this._on(oa.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new yh(this),this.broadcastEndpointURL=rI(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ur.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[xh.PRESENCE]&&this.bindings[xh.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(mi.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){t==null||t(mi.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,y=(g=p==null?void 0:p.length)!==null&&g!==void 0?g:0,b=[];for(let v=0;v<y;v++){const w=p[v],{filter:{event:_,schema:j,table:S,filter:N}}=w,k=m&&m[v];if(k&&k.event===_&&xu.isFilterValueEqual(k.schema,j)&&xu.isFilterValueEqual(k.table,S)&&xu.isFilterValueEqual(k.filter,N))b.push(Object.assign(Object.assign({},w),{id:k.id}));else{this.unsubscribe(),this.state=Ur.errored,t==null||t(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(mi.SUBSCRIBED);return}}).receive("error",m=>{this.state=Ur.errored,t==null||t(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Ur.joined&&t===xh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ur.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(oa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new vw(this,oa.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ur.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vw(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w9){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=oa;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var g,p,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(p=m.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,p,y,b,v,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((p=r.ids)===null||p===void 0?void 0:p.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(v=(b=m==null?void 0:m.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:p,table:y,commit_timestamp:b,type:v,errors:w}=g;h=Object.assign(Object.assign({},{schema:p,table:y,commit_timestamp:b,eventType:v,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Ur.closed}_isJoined(){return this.state===Ur.joined}_isJoining(){return this.state===Ur.joining}_isLeaving(){return this.state===Ur.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&xu.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(oa.close,{},t)}_onError(t){this._on(oa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ur.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=J2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=J2(t.columns,t.old_record)),r}}const yw=()=>{},Vp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P9=[1e3,2e3,5e3,1e4],O9=1e4,A9=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class T9{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=zj,this.transport=null,this.heartbeatIntervalMs=Vp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yw,this.ref=0,this.reconnectTimer=null,this.vsn=X2,this.logger=yw,this.conn=null,this.sendBuffer=[],this.serializer=new j9,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Wj.websocket}`,this.httpEndpoint=rI(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g9.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vo.connecting:return Ol.Connecting;case vo.open:return Ol.Open;case vo.closing:return Ol.Closing;default:return Ol.Closed}}isConnected(){return this.connectionState()===Ol.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new xu(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(b9,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Vp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===vo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===vo.open||this.conn.readyState===vo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(oa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([A9],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:y9};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(oa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new eI(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Vp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,f,h,m;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:zj,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Vp.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:yw,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:X2,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:g=>P9[g-1]||O9,this.vsn){case x9:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(g,p)=>p(JSON.stringify(g)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(g,p)=>p(JSON.parse(g));break;case Z4:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Gh=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function R9(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function M9(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $9(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=R9(e.baseUrl,n,s),c=await M9(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),h=f&&d?JSON.parse(d):d;if(!u.ok){const m=f?h:void 0,g=m==null?void 0:m.error;throw new Gh((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:m})}return{status:u.status,headers:u.headers,data:h}}}}function Kp(e){return e.join("")}var I9=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Kp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kp(e.namespace)}`}),!0}catch(t){if(t instanceof Gh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Gh&&r.status===409)return;throw r}}};function Bc(e){return e.join("")}var D9=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Bc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Gh&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Gh&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},L9=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$9({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new I9(this.client,t),this.tableOps=new D9(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hx=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function mx(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Hp=class extends hx{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},nI=class extends hx{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const F9=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U9=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kj=e=>{if(Array.isArray(e))return e.map(r=>Kj(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Kj(n)}),t},B9=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function q9(e,t){if(Yh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e){var t=q9(e,"string");return Yh(t)=="symbol"?t:t+""}function W9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){W9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const rE=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},V9=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Hp(rE(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Hp(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Hp(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Hp(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new nI(rE(e),e,n))},K9=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?Je(Je({},s),r):(U9(n)?(s.headers=Je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Je(Je({},s),r))};async function Of(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,K9(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>V9(u,c,n,o))})}function sI(e="storage"){return{get:async(t,r,n,s)=>Of(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Of(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Of(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Of(t,"HEAD",r,Je(Je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Of(t,"DELETE",r,s,i,n,e)}}const H9=sI("storage"),{get:Qh,post:na,put:Hj,head:G9,remove:XS}=H9,ss=sI("vectors");var Yd=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=F9(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(mx(r))return{data:null,error:r};throw r}}},Y9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mx(t))return{data:null,error:t};throw t}}};let aI;aI=Symbol.toStringTag;var Q9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[aI]="BlobDownloadBuilder",this.promise=null}asStream(){return new Y9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(mx(t))return{data:null,error:t};throw t}}};const X9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nE={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var J9=class extends Yd{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=Je(Je({},nE),n);let l=Je(Je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=Je(Je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),f=await(e=="PUT"?Hj:na)(s.fetch,`${s.url}/object/${d}`,i,Je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=Je({upsert:nE.upsert},n),d=Je(Je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await Hj(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=Je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await na(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new hx("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await na(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await na(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await na(n.fetch,`${n.url}/object/sign/${s}`,Je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await na(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>Je(Je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Qh(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Q9(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>Kj(await Qh(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await G9(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(mx(n)&&n instanceof nI){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=Je(Je(Je({},X9),t),{},{prefix:e||""});return await na(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=Je({},e);return await na(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Z9="2.93.3",ep={"X-Client-Info":`storage-js/${Z9}`};var eK=class extends Yd{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=Je(Je({},ep),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Qh(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Qh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await na(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await Hj(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await na(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},tK=class extends Yd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ep),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await na(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Qh(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await XS(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!B9(e))throw new hx("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new L9({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},rK=class extends Yd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ep),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ss.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ss.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},nK=class extends Yd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ep),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},sK=class extends Yd{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=Je(Je({},ep),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ss.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},aK=class extends sK{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new iK(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},iK=class extends rK{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new oK(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},oK=class extends nK{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,Je(Je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},lK=class extends eK{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new J9(this.url,this.headers,e,this.fetch)}get vectors(){return new aK(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new tK(this.url+"/iceberg",this.headers,this.fetch)}};const iI="2.93.3",nu=30*1e3,Gj=3,xw=Gj*nu,cK="http://localhost:9999",uK="supabase.auth.token",dK={"X-Client-Info":`gotrue-js/${iI}`},Yj="X-Supabase-Api-Version",oI={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fK=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hK=10*60*1e3;class Xh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mK extends Xh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pK(e){return Be(e)&&e.name==="AuthApiError"}class Al extends Xh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Hi extends Xh{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Zn extends Hi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function bw(e){return Be(e)&&e.name==="AuthSessionMissingError"}class qc extends Hi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Gp extends Hi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Yp extends Hi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gK(e){return Be(e)&&e.name==="AuthImplicitGrantRedirectError"}class sE extends Hi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class vK extends Hi{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Qj extends Hi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ww(e){return Be(e)&&e.name==="AuthRetryableFetchError"}class aE extends Hi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Xj extends Hi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),iE=` 	
\r=`.split(""),yK=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<iE.length;t+=1)e[iE[t].charCodeAt(0)]=-2;for(let t=0;t<vv.length;t+=1)e[vv[t].charCodeAt(0)]=t;return e})();function oE(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vv[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(vv[n]),t.queuedBits-=6}}function lI(e,t,r){const n=yK[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function lE(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{wK(o,n,r)};for(let o=0;o<e.length;o+=1)lI(e.charCodeAt(o),s,i);return t.join("")}function xK(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function bK(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xK(n,t)}}function wK(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ou(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)lI(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jK(e){const t=[];return bK(e,r=>t.push(r)),new Uint8Array(t)}function Dl(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>oE(s,r,n)),oE(null,r,n),t.join("")}function _K(e){return Math.round(Date.now()/1e3)+e}function SK(){return Symbol("auth-callback")}const nn=()=>typeof window<"u"&&typeof document<"u",bl={tested:!1,writable:!1},cI=()=>{if(!nn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(bl.tested)return bl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),bl.tested=!0,bl.writable=!0}catch{bl.tested=!0,bl.writable=!1}return bl.writable};function NK(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const uI=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kK=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",su=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},wl=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},rn=async(e,t)=>{await e.removeItem(t)};class px{constructor(){this.promise=new px.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}px.promiseConstructor=Promise;function Qp(e){const t=e.split(".");if(t.length!==3)throw new Xj("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fK.test(t[n]))throw new Xj("JWT not in base64url format");return{header:JSON.parse(lE(t[0])),payload:JSON.parse(lE(t[1])),signature:Ou(t[2]),raw:{header:t[0],payload:t[1]}}}async function CK(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function EK(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function PK(e){return("0"+e.toString(16)).substr(-2)}function OK(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,PK).join("")}async function AK(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function TK(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await AK(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zc(e,t,r=!1){const n=OK();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await su(e,`${t}-code-verifier`,s);const i=await TK(n);return[i,n===i?"plain":"s256"]}const RK=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function MK(e){const t=e.headers.get(Yj);if(!t||!t.match(RK))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $K(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IK(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const DK=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wc(e){if(!DK.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function jw(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LK(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function cE(e){return JSON.parse(JSON.stringify(e))}const Nl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),FK=[502,503,504];async function uE(e){var t;if(!kK(e))throw new Qj(Nl(e),0);if(FK.includes(e.status))throw new Qj(Nl(e),e.status);let r;try{r=await e.json()}catch(i){throw new Al(Nl(i),i)}let n;const s=MK(e);if(s&&s.getTime()>=oI["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new aE(Nl(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Zn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new aE(Nl(r),e.status,r.weak_password.reasons);throw new mK(Nl(r),e.status||500,n)}const UK=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Yj]||(i[Yj]=oI["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await BK(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function BK(e,t,r,n,s,i){const o=UK(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Qj(Nl(c),0)}if(l.ok||await uE(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await uE(c)}}function ea(e){var t;let r=null;WK(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_K(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function dE(e){const t=ea(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qK(e){return{data:e,error:null}}function zK(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=Gd(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function fE(e){return e}function WK(e){return e.access_token&&e.refresh_token&&e.expires_in}const _w=["global","local","others"];class VK{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=uI(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=_w[0]){if(_w.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_w.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:jo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Gd(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:zK,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Wc(t);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jo})}catch(r){if(Be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Wc(t);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:jo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Wc(t);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:jo})}catch(n){if(Be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Wc(t.userId);try{const{data:r,error:n}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Wc(t.userId),Wc(t.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:fE});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const p=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=p}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(Be(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Be(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Be(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Be(r))return{data:null,error:r};throw r}}}function hE(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Vc={debug:!!(globalThis&&cI()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dI extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class KK extends dI{}async function HK(e,t,r){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Vc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new KK(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Vc.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function GK(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function fI(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function YK(e){return parseInt(e,16)}function QK(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function XK(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=fI(e.address),g=d?`${d}://${n}`:n,p=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${p}`;let b=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(b+=`
Expiration Time: ${s.toISOString()}`),l&&(b+=`
Not Before: ${l.toISOString()}`),c&&(b+=`
Request ID: ${c}`),u){let v=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);v+=`
- ${w}`}b+=v}return`${y}
${b}`}class Er extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class yv extends Er{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function JK({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(hI(o)){if(i.rp.id!==o)return new Er({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ZK({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(hI(n)){if(r.rpId!==n)return new Er({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eH{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tH=new eH;function rH(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Gd(e,["challenge","user","excludeCredentials"]),i=Ou(t).buffer,o=Object.assign(Object.assign({},r),{id:Ou(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ou(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function nH(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Gd(e,["challenge","allowCredentials"]),s=Ou(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ou(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function sH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Dl(new Uint8Array(e.response.attestationObject)),clientDataJSON:Dl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function aH(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Dl(new Uint8Array(s.authenticatorData)),clientDataJSON:Dl(new Uint8Array(s.clientDataJSON)),signature:Dl(new Uint8Array(s.signature)),userHandle:s.userHandle?Dl(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function hI(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function mE(){var e,t;return!!(nn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function iH(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yv("Browser returned unexpected credential type",t)}:{data:null,error:new yv("Empty credential response",t)}}catch(t){return{data:null,error:JK({error:t,options:e})}}}async function oH(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yv("Browser returned unexpected credential type",t)}:{data:null,error:new yv("Empty credential response",t)}}catch(t){return{data:null,error:ZK({error:t,options:e})}}}const lH={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},cH={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xv(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=xv(l,o):n[i]=xv(o)}else n[i]=o}return n}function uH(e,t){return xv(lH,e,t||{})}function dH(e,t){return xv(cH,e,t||{})}class fH{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??tH.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const f=n;if(f)d.name=`${d.id}:${f}`;else{const m=(await this.client.getUser()).data.user,g=((o=m==null?void 0:m.user_metadata)===null||o===void 0?void 0:o.name)||(m==null?void 0:m.email)||(m==null?void 0:m.id)||"User";d.name=`${d.id}:${g}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=uH(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:f,error:h}=await iH({publicKey:d,signal:u});return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const d=dH(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:f,error:h}=await oH(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return f?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(l){return Be(l)?{data:null,error:l}:{data:null,error:new Al("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Xh("rpId is required for WebAuthn authentication")};try{if(!mE())return{data:null,error:new Al("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Al("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Xh("rpId is required for WebAuthn registration")};try{if(!mE())return{data:null,error:new Al("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return Be(o)?{data:null,error:o}:{data:null,error:new Al("Unexpected error in register",o)}}}}GK();const hH={url:cK,storageKey:uK,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dK,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function pE(e,t,r){return await r()}const Kc={};class Jh{get jwks(){var t,r;return(r=(t=Kc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kc[this.storageKey]=Object.assign(Object.assign({},Kc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kc[this.storageKey]=Object.assign(Object.assign({},Kc[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},hH),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Jh.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Jh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&nn()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VK({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uI(i.fetch),this.lock=i.lock||pE,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&nn()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=HK:this.lock=pE,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fH(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cI()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=hE(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=hE(this.memoryStorage)),nn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${iI}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(nn()&&(r=NK(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),nn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gK(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Be(r)?this._returnResult({error:r}):this._returnResult({error:new Al("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ea}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await zc(this.storage,this.storageKey)),i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:ea})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ea})}else throw new Gp("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await rn(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dE})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:dE})}else throw new Gp("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new qc;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:p,wallet:y,statement:b,options:v}=t;let w;if(nn())if(typeof y=="object")w=y;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")w=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((r=v==null?void 0:v.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=fI(j[0]);let N=(n=v==null?void 0:v.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const C=await w.request({method:"eth_chainId"});N=YK(C)}const k={domain:_.host,address:S,statement:b,uri:_.href,version:"1",chainId:N,nonce:(s=v==null?void 0:v.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=v==null?void 0:v.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=v==null?void 0:v.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=v==null?void 0:v.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=v==null?void 0:v.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=v==null?void 0:v.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=XK(k),g=await w.request({method:"personal_sign",params:[QK(m),S]})}try{const{data:p,error:y}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ea});if(y)throw y;if(!p||!p.session||!p.user){const b=new qc;return this._returnResult({data:{user:null,session:null},error:b})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:Object.assign({},p),error:y})}catch(p){if(Be(p))return this._returnResult({data:{user:null,session:null},error:p});throw p}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,f,h,m;let g,p;if("message"in t)g=t.message,p=t.signature;else{const{chain:y,wallet:b,statement:v,options:w}=t;let _;if(nn())if(typeof b=="object")_=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),p=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=S}}try{const{data:y,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Dl(p)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ea});if(b)throw b;if(!y||!y.session||!y.user){const v=new qc;return this._returnResult({data:{user:null,session:null},error:v})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(Be(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async _exchangeCodeForSession(t){const r=await wl(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new vK;const{data:i,error:o}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ea});if(await rn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new qc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ea}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new qc;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zc(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Gp("You must provide either an email or phone number.")}catch(l){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ea});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await zc(this.storage,this.storageKey));const u=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:qK});return!((i=u.data)===null||i===void 0)&&i.url&&nn()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Zn;const{error:s}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(Be(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await Ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Gp("You must provide either an email or phone number and a type")}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await wl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<xw:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await wl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=jw()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=LK(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jo}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zn}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jo})})}catch(r){if(Be(r))return bw(r)&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Zn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await zc(this.storage,this.storageKey));const{data:u,error:d}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:jo});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zn;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Qp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Be(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Zn;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Be(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!nn())throw new Yp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Yp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new sE("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yp("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new sE("No code detected.");const{data:v,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Yp("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=nu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:p,error:y}=await this._getUser(i);if(y)throw y;const b={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:t.type},error:null})}catch(n){if(Be(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await wl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!bw(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pK(l)&&(l.status===404||l.status===401||l.status===403)||bw(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await rn(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=SK(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await zc(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return nn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Be(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ea}),{data:h,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new qc}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:m}))}catch(s){if(await rn(this.storage,`${this.storageKey}-code-verifier`),Be(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await EK(async s=>(s>0&&await CK(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ea})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ww(i)&&Date.now()+o-n<nu})}catch(n){if(this._debug(r,"error",n),Be(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),nn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await wl(this.storage,this.storageKey);if(s&&this.userStorage){let o=await wl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await su(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:jw()}else if(s&&!s.user&&!s.user){const o=await wl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await rn(this.storage,this.storageKey+"-user"),await su(this.storage,this.storageKey,s)):s.user=jw()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<xw;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${xw}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ww(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Zn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new px;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Zn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),Be(i)){const o={data:null,error:i};return ww(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rn(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await su(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=cE(s);await su(this.storage,this.storageKey,i)}else{const s=cE(r);await su(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await rn(this.storage,this.storageKey),await rn(this.storage,this.storageKey+"-code-verifier"),await rn(this.storage,this.storageKey+"-user"),this.userStorage&&await rn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&nn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),nu);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/nu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${nu}ms, refresh threshold is ${Gj} ticks`),s<=Gj&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dI)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await zc(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?sH(t.webauthn.credential_response):aH(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await Ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:rH(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:nH(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:m}=Qp(t);let g=null;m.aal&&(g=m.aal);let p=g;const{data:{user:y},error:b}=await this.getUser(t);if(b)return this._returnResult({data:null,error:b});((n=(r=y==null?void 0:y.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(p="aal2");const w=m.amr||[];return{data:{currentLevel:g,nextLevel:p,currentAuthenticationMethods:w},error:null}}catch(m){if(Be(m))return this._returnResult({data:null,error:m});throw m}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Qp(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const h=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Zn});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Zn});const o=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&nn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Zn})})}catch(t){if(Be(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zn})})}catch(r){if(Be(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+hK>s)return n;const{data:i,error:o}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return this._returnResult({data:null,error:g});n=m.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Qp(n);r!=null&&r.allowExpired||$K(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:o},error:null}}const d=IK(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,jK(`${l}.${c}`)))throw new Xj("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Be(n))return this._returnResult({data:null,error:n});throw n}}}Jh.nextInstanceID={};const mH=Jh,pH="2.93.3";let rh="";typeof Deno<"u"?rh="deno":typeof document<"u"?rh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rh="react-native":rh="node";const gH={"X-Client-Info":`supabase-js-${rh}/${pH}`},vH={headers:gH},yH={schema:"public"},xH={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bH={};function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function wH(e,t){if(Zh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jH(e){var t=wH(e,"string");return Zh(t)=="symbol"?t:t+""}function _H(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(r),!0).forEach(function(n){_H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const SH=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),NH=()=>Headers,kH=(e,t,r)=>{const n=SH(r),s=NH();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,gr(gr({},o),{},{headers:u}))}};function CH(e){return e.endsWith("/")?e:e+"/"}function EH(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:gr(gr({},c),s),auth:gr(gr({},u),i),realtime:gr(gr({},d),o),storage:{},global:gr(gr(gr({},f),l),{},{headers:gr(gr({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function PH(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(CH(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var OH=class extends mH{constructor(e){super(e)}},AH=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=PH(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:yH,realtime:bH,auth:gr(gr({},xH),{},{storageKey:o}),global:vH},c=EH(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=kH(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(gr({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new p9(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new lK(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new u9(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OH({url:this.authUrl.href,headers:gr(gr({},h),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new T9(this.realtimeUrl.href,gr(gr({},e),{},{params:gr(gr({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const TH=(e,t,r)=>new AH(e,t,r);function RH(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}RH()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const MH="https://prqmzdstrfmahymkekef.supabase.co",$H="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",z=TH(MH,$H);async function IH(e,t){const{error:r}=await z.auth.signInWithPassword({email:e,password:t});return r?{success:!1,error:r.message}:{success:!0}}async function DH(){const{error:e}=await z.auth.signOut({scope:"local"});return e?{success:!1,error:e.message}:{success:!0}}async function LH(){const{data:{session:e}}=await z.auth.getSession();return{user:(e==null?void 0:e.user)??null,session:e}}function FH(e){const{data:{subscription:t}}=z.auth.onAuthStateChange((r,n)=>{e(r,n)});return()=>t.unsubscribe()}async function UH(e,t){const r=typeof window<"u"?window.location.origin:"",n=t!=null&&t.redirectTo?`${r}${t.redirectTo.startsWith("/")?t.redirectTo:`/${t.redirectTo}`}`:`${r}/dashboard`,{error:s}=await z.auth.signInWithOAuth({provider:e,options:{redirectTo:n}});return s?{success:!1,error:s.message}:{success:!0}}async function BH(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await z.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function qH(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await z.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function zH(e){const{error:t}=await z.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function WH(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function VH(){const{data:{user:e}}=await z.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await z.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function vE(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await z.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function KH(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function HH(){const{data:{user:e}}=await z.auth.getUser();return e?!!e.email_confirmed_at:!1}const mI=x.createContext(null);function GH({children:e}){const[t,r]=x.useState({user:null,session:null,isLoading:!0});x.useEffect(()=>{let i=!1;LH().then(({user:l,session:c})=>{i||r({user:l,session:c,isLoading:!1})});const o=FH((l,c)=>{i||r(u=>({...u,user:(c==null?void 0:c.user)??null,session:c,isLoading:!1}))});return()=>{i=!0,o()}},[]);const n=x.useCallback(async()=>{await DH(),r({user:null,session:null,isLoading:!1})},[]),s=x.useMemo(()=>({...t,signOut:n}),[t.user,t.session,t.isLoading,n]);return a.jsx(mI.Provider,{value:s,children:e})}function gx(){const e=x.useContext(mI);if(!e)throw new Error("useAuth must be used within AuthProvider");return e}function YH(){const{user:e,isLoading:t}=gx(),r=ri();if(t)return a.jsxs("div",{className:"flex flex-1 items-center justify-center p-8",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent","aria-hidden":!0}),a.jsx("span",{className:"sr-only",children:"Loading"})]});if(!e){const n=encodeURIComponent(r.pathname+r.search);return a.jsx(MW,{to:`/login?returnTo=${n}`,state:{from:r},replace:!0})}return a.jsx(D4,{})}/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pI=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XH={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...XH,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:pI("lucide",s),...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=(e,t)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(JH,{ref:i,iconNode:t,className:pI(`lucide-${QH(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=oe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sd=oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=oe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e7=oe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=oe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=oe("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t7=oe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=oe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r7=oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nh=oe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=oe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=oe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=oe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=oe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=oe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=oe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=oe("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=oe("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=oe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=oe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=oe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=oe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=oe("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=oe("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=oe("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=oe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ir=oe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=oe("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=oe("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=oe("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n7=oe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=oe("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=oe("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=oe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=oe("FileWarning",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i7=oe("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=oe("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=oe("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=oe("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=oe("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=oe("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=oe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=oe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=oe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=oe("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=oe("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=oe("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=oe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=oe("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=oe("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=oe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=oe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tp=oe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ld=oe("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=oe("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=oe("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=oe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=oe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=oe("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=oe("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=oe("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=oe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=oe("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=oe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=oe("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=oe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=oe("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=oe("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=oe("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=oe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=oe("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=oe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=oe("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=oe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=oe("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=oe("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=oe("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=oe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=oe("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=oe("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=oe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=oe("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=oe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=oe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=oe("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=oe("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=oe("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=oe("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=oe("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ud=oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=oe("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function RI(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=RI(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function jt(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=RI(e))&&(n&&(n+=" "),n+=t);return n}const lN="-",w7=e=>{const t=_7(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(lN);return l[0]===""&&l.length!==1&&l.shift(),MI(l,t)||j7(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},MI=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?MI(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(lN);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},_E=/^\[(.+)\]$/,j7=e=>{if(_E.test(e)){const t=_E.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},_7=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return N7(Object.entries(e.classGroups),r).forEach(([i,o])=>{Zj(o,n,i,t)}),n},Zj=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:SE(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(S7(s)){Zj(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Zj(o,SE(t,i),r,n)})})},SE=(e,t)=>{let r=e;return t.split(lN).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},S7=e=>e.isThemeGetter,N7=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,k7=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},$I="!",C7=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,f;for(let y=0;y<l.length;y++){let b=l[y];if(u===0){if(b===s&&(n||l.slice(y,y+i)===t)){c.push(l.slice(d,y)),d=y+i;continue}if(b==="/"){f=y;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?l:l.substring(d),m=h.startsWith($I),g=m?h.substring(1):h,p=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:g,maybePostfixModifierPosition:p}};return r?l=>r({className:l,parseClassName:o}):o},E7=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},P7=e=>({cache:k7(e.cacheSize),parseClassName:C7(e),...w7(e)}),O7=/\s+/,A7=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(O7);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=r(u);let g=!!m,p=n(g?h.substring(0,m):h);if(!p){if(!g){l=u+(l.length>0?" "+l:l);continue}if(p=n(h),!p){l=u+(l.length>0?" "+l:l);continue}g=!1}const y=E7(d).join(":"),b=f?y+$I:y,v=b+p;if(i.includes(v))continue;i.push(v);const w=s(p,g);for(let _=0;_<w.length;++_){const j=w[_];i.push(b+j)}l=u+(l.length>0?" "+l:l)}return l};function T7(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=II(t))&&(n&&(n+=" "),n+=r);return n}const II=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=II(e[n]))&&(r&&(r+=" "),r+=t);return r};function R7(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,f)=>f(d),e());return r=P7(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=A7(c,r);return s(c,d),d}return function(){return i(T7.apply(null,arguments))}}const Xt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},DI=/^\[(?:([a-z-]+):)?(.+)\]$/i,M7=/^\d+\/\d+$/,$7=new Set(["px","full","screen"]),I7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,D7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,L7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,F7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,U7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ci=e=>Au(e)||$7.has(e)||M7.test(e),oo=e=>Zd(e,"length",G7),Au=e=>!!e&&!Number.isNaN(Number(e)),Nw=e=>Zd(e,"number",Au),Af=e=>!!e&&Number.isInteger(Number(e)),B7=e=>e.endsWith("%")&&Au(e.slice(0,-1)),rt=e=>DI.test(e),lo=e=>I7.test(e),q7=new Set(["length","size","percentage"]),z7=e=>Zd(e,q7,LI),W7=e=>Zd(e,"position",LI),V7=new Set(["image","url"]),K7=e=>Zd(e,V7,Q7),H7=e=>Zd(e,"",Y7),Tf=()=>!0,Zd=(e,t,r)=>{const n=DI.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},G7=e=>D7.test(e)&&!L7.test(e),LI=()=>!1,Y7=e=>F7.test(e),Q7=e=>U7.test(e),X7=()=>{const e=Xt("colors"),t=Xt("spacing"),r=Xt("blur"),n=Xt("brightness"),s=Xt("borderColor"),i=Xt("borderRadius"),o=Xt("borderSpacing"),l=Xt("borderWidth"),c=Xt("contrast"),u=Xt("grayscale"),d=Xt("hueRotate"),f=Xt("invert"),h=Xt("gap"),m=Xt("gradientColorStops"),g=Xt("gradientColorStopPositions"),p=Xt("inset"),y=Xt("margin"),b=Xt("opacity"),v=Xt("padding"),w=Xt("saturate"),_=Xt("scale"),j=Xt("sepia"),S=Xt("skew"),N=Xt("space"),k=Xt("translate"),C=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",rt,t],O=()=>[rt,t],B=()=>["",ci,oo],T=()=>["auto",Au,rt],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],L=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],M=()=>["","0",rt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ee=()=>[Au,rt];return{cacheSize:500,separator:":",theme:{colors:[Tf],spacing:[ci,oo],blur:["none","",lo,rt],brightness:ee(),borderColor:[e],borderRadius:["none","","full",lo,rt],borderSpacing:O(),borderWidth:B(),contrast:ee(),grayscale:M(),hueRotate:ee(),invert:M(),gap:O(),gradientColorStops:[e],gradientColorStopPositions:[B7,oo],inset:I(),margin:I(),opacity:ee(),padding:O(),saturate:ee(),scale:ee(),sepia:M(),skew:ee(),space:O(),translate:O()},classGroups:{aspect:[{aspect:["auto","square","video",rt]}],container:["container"],columns:[{columns:[lo]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),rt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Af,rt]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rt]}],grow:[{grow:M()}],shrink:[{shrink:M()}],order:[{order:["first","last","none",Af,rt]}],"grid-cols":[{"grid-cols":[Tf]}],"col-start-end":[{col:["auto",{span:["full",Af,rt]},rt]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[Tf]}],"row-start-end":[{row:["auto",{span:[Af,rt]},rt]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[y]}],mx:[{mx:[y]}],my:[{my:[y]}],ms:[{ms:[y]}],me:[{me:[y]}],mt:[{mt:[y]}],mr:[{mr:[y]}],mb:[{mb:[y]}],ml:[{ml:[y]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rt,t]}],"min-w":[{"min-w":[rt,t,"min","max","fit"]}],"max-w":[{"max-w":[rt,t,"none","full","min","max","fit","prose",{screen:[lo]},lo]}],h:[{h:[rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",lo,oo]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Nw]}],"font-family":[{font:[Tf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rt]}],"line-clamp":[{"line-clamp":["none",Au,Nw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ci,rt]}],"list-image":[{"list-image":["none",rt]}],"list-style-type":[{list:["none","disc","decimal",rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...L(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ci,oo]}],"underline-offset":[{"underline-offset":["auto",ci,rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:O()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),W7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",z7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K7]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...L(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:L()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...L()]}],"outline-offset":[{"outline-offset":[ci,rt]}],"outline-w":[{outline:[ci,oo]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[ci,oo]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",lo,H7]}],"shadow-color":[{shadow:[Tf]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",lo,rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rt]}],duration:[{duration:ee()}],ease:[{ease:["linear","in","out","in-out",rt]}],delay:[{delay:ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Af,rt]}],"translate-x":[{"translate-x":[k]}],"translate-y":[{"translate-y":[k]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":O()}],"scroll-mx":[{"scroll-mx":O()}],"scroll-my":[{"scroll-my":O()}],"scroll-ms":[{"scroll-ms":O()}],"scroll-me":[{"scroll-me":O()}],"scroll-mt":[{"scroll-mt":O()}],"scroll-mr":[{"scroll-mr":O()}],"scroll-mb":[{"scroll-mb":O()}],"scroll-ml":[{"scroll-ml":O()}],"scroll-p":[{"scroll-p":O()}],"scroll-px":[{"scroll-px":O()}],"scroll-py":[{"scroll-py":O()}],"scroll-ps":[{"scroll-ps":O()}],"scroll-pe":[{"scroll-pe":O()}],"scroll-pt":[{"scroll-pt":O()}],"scroll-pr":[{"scroll-pr":O()}],"scroll-pb":[{"scroll-pb":O()}],"scroll-pl":[{"scroll-pl":O()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ci,oo,Nw]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},J7=R7(X7);function J(...e){return J7(jt(e))}function Z7({visible:e,message:t="Processing",className:r}){return e?a.jsxs("div",{role:"status","aria-live":"polite","aria-label":t,className:J("fixed inset-0 z-[100] flex flex-col items-center justify-center gap-4","bg-background/80 backdrop-blur-sm","animate-in fade-in-0 duration-200",r),children:[a.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-xl bg-card p-8 shadow-card-hover",children:[a.jsx(wr,{className:"h-10 w-10 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:t})]}),a.jsx("span",{className:"sr-only",children:t})]}):null}function Pe(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function NE(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qi(...e){return t=>{let r=!1;const n=e.map(s=>{const i=NE(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():NE(e[s],null)}}}}function gt(...e){return x.useCallback(Qi(...e),e)}function eG(e,t){const r=x.createContext(t),n=i=>{const{children:o,...l}=i,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function Us(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,tG(s,...t)]}function tG(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var jr=globalThis!=null&&globalThis.document?x.useLayoutEffect:()=>{},rG=Gy[" useId ".trim().toString()]||(()=>{}),nG=0;function Ts(e){const[t,r]=x.useState(rG());return jr(()=>{r(n=>n??String(nG++))},[e]),t?`radix-${t}`:""}var sG=Gy[" useInsertionEffect ".trim().toString()]||jr;function Ja({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=aG({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=x.useRef(e!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{var f;if(l){const h=iG(d)?d(e):d;h!==e&&((f=o.current)==null||f.call(o,h))}else i(d)},[l,e,i,o]);return[c,u]}function aG({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),s=x.useRef(r),i=x.useRef(t);return sG(()=>{i.current=t},[t]),x.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function iG(e){return typeof e=="function"}function oG(e){const t=lG(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(uG);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function lG(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=fG(s),l=dG(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cG=Symbol("radix.slottable");function uG(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cG}function dG(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function fG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var hG=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=hG.reduce((e,t)=>{const r=oG(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function FI(e,t){e&&Wd.flushSync(()=>e.dispatchEvent(t))}function Jr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function mG(e,t=globalThis==null?void 0:globalThis.document){const r=Jr(e);x.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var pG="DismissableLayer",e_="dismissableLayer.update",gG="dismissableLayer.pointerDownOutside",vG="dismissableLayer.focusOutside",kE,UI=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_x=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(UI),[d,f]=x.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=x.useState({}),g=gt(t,N=>f(N)),p=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=p.indexOf(y),v=d?p.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=v>=b,j=bG(N=>{const k=N.target,C=[...u.branches].some(E=>E.contains(k));!_||C||(s==null||s(N),o==null||o(N),N.defaultPrevented||l==null||l())},h),S=wG(N=>{const k=N.target;[...u.branches].some(E=>E.contains(k))||(i==null||i(N),o==null||o(N),N.defaultPrevented||l==null||l())},h);return mG(N=>{v===u.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&l&&(N.preventDefault(),l()))},h),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(kE=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),CE(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=kE)}},[d,h,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),CE())},[d,u]),x.useEffect(()=>{const N=()=>m({});return document.addEventListener(e_,N),()=>document.removeEventListener(e_,N)},[]),a.jsx(Qe.div,{...c,ref:g,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:Pe(e.onFocusCapture,S.onFocusCapture),onBlurCapture:Pe(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Pe(e.onPointerDownCapture,j.onPointerDownCapture)})});_x.displayName=pG;var yG="DismissableLayerBranch",xG=x.forwardRef((e,t)=>{const r=x.useContext(UI),n=x.useRef(null),s=gt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Qe.div,{...e,ref:s})});xG.displayName=yG;function bG(e,t=globalThis==null?void 0:globalThis.document){const r=Jr(e),n=x.useRef(!1),s=x.useRef(()=>{});return x.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){BI(gG,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function wG(e,t=globalThis==null?void 0:globalThis.document){const r=Jr(e),n=x.useRef(!1);return x.useEffect(()=>{const s=i=>{i.target&&!n.current&&BI(vG,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function CE(){const e=new CustomEvent(e_);document.dispatchEvent(e)}function BI(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?FI(s,i):s.dispatchEvent(i)}var kw="focusScope.autoFocusOnMount",Cw="focusScope.autoFocusOnUnmount",EE={bubbles:!1,cancelable:!0},jG="FocusScope",Sx=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=x.useState(null),u=Jr(s),d=Jr(i),f=x.useRef(null),h=gt(t,p=>c(p)),m=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let p=function(w){if(m.paused||!l)return;const _=w.target;l.contains(_)?f.current=_:ho(f.current,{select:!0})},y=function(w){if(m.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||ho(f.current,{select:!0}))},b=function(w){if(document.activeElement===document.body)for(const j of w)j.removedNodes.length>0&&ho(l)};document.addEventListener("focusin",p),document.addEventListener("focusout",y);const v=new MutationObserver(b);return l&&v.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",p),document.removeEventListener("focusout",y),v.disconnect()}}},[n,l,m.paused]),x.useEffect(()=>{if(l){OE.add(m);const p=document.activeElement;if(!l.contains(p)){const b=new CustomEvent(kw,EE);l.addEventListener(kw,u),l.dispatchEvent(b),b.defaultPrevented||(_G(EG(qI(l)),{select:!0}),document.activeElement===p&&ho(l))}return()=>{l.removeEventListener(kw,u),setTimeout(()=>{const b=new CustomEvent(Cw,EE);l.addEventListener(Cw,d),l.dispatchEvent(b),b.defaultPrevented||ho(p??document.body,{select:!0}),l.removeEventListener(Cw,d),OE.remove(m)},0)}}},[l,u,d,m]);const g=x.useCallback(p=>{if(!r&&!n||m.paused)return;const y=p.key==="Tab"&&!p.altKey&&!p.ctrlKey&&!p.metaKey,b=document.activeElement;if(y&&b){const v=p.currentTarget,[w,_]=SG(v);w&&_?!p.shiftKey&&b===_?(p.preventDefault(),r&&ho(w,{select:!0})):p.shiftKey&&b===w&&(p.preventDefault(),r&&ho(_,{select:!0})):b===v&&p.preventDefault()}},[r,n,m.paused]);return a.jsx(Qe.div,{tabIndex:-1,...o,ref:h,onKeyDown:g})});Sx.displayName=jG;function _G(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(ho(n,{select:t}),document.activeElement!==r)return}function SG(e){const t=qI(e),r=PE(t,e),n=PE(t.reverse(),e);return[r,n]}function qI(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function PE(e,t){for(const r of e)if(!NG(r,{upTo:t}))return r}function NG(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kG(e){return e instanceof HTMLInputElement&&"select"in e}function ho(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kG(e)&&t&&e.select()}}var OE=CG();function CG(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=AE(e,t),e.unshift(t)},remove(t){var r;e=AE(e,t),(r=e[0])==null||r.resume()}}}function AE(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function EG(e){return e.filter(t=>t.tagName!=="A")}var PG="Portal",Nx=x.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=x.useState(!1);jr(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?C4.createPortal(a.jsx(Qe.div,{...n,ref:t}),o):null});Nx.displayName=PG;function OG(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var Yn=e=>{const{present:t,children:r}=e,n=AG(t),s=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),i=gt(n.ref,TG(s));return typeof r=="function"||n.isPresent?x.cloneElement(s,{ref:i}):null};Yn.displayName="Presence";function AG(e){const[t,r]=x.useState(),n=x.useRef(null),s=x.useRef(e),i=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=OG(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=Xp(n.current);i.current=l==="mounted"?u:"none"},[l]),jr(()=>{const u=n.current,d=s.current;if(d!==e){const h=i.current,m=Xp(u);e?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),jr(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=m=>{const p=Xp(n.current).includes(CSS.escape(m.animationName));if(m.target===t&&p&&(c("ANIMATION_END"),!s.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},h=m=>{m.target===t&&(i.current=Xp(n.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Xp(e){return(e==null?void 0:e.animationName)||"none"}function TG(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ew=0;function cN(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??TE()),document.body.insertAdjacentElement("beforeend",e[1]??TE()),Ew++,()=>{Ew===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Ew--}},[])}function TE(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Fg="right-scroll-bar-position",Ug="width-before-scroll-bar",RG="with-scroll-bars-hidden",MG="--removed-body-scroll-bar-size";function Pw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function $G(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var IG=typeof window<"u"?x.useLayoutEffect:x.useEffect,RE=new WeakMap;function DG(e,t){var r=$G(null,function(n){return e.forEach(function(s){return Pw(s,n)})});return IG(function(){var n=RE.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||Pw(l,null)}),i.forEach(function(l){s.has(l)||Pw(l,o)})}RE.set(r,e)},[e]),r}function LG(e){return e}function FG(e,t){t===void 0&&(t=LG);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function UG(e){e===void 0&&(e={});var t=FG(null);return t.options=Fa({async:!0,ssr:!1},e),t}var zI=function(e){var t=e.sideCar,r=Gd(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,Fa({},r))};zI.isSideCarExport=!0;function BG(e,t){return e.useMedium(t),zI}var WI=UG(),Ow=function(){},kx=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:Ow,onWheelCapture:Ow,onTouchMoveCapture:Ow}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,m=e.noRelative,g=e.noIsolation,p=e.inert,y=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,w=e.gapMode,_=Gd(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=h,S=DG([r,t]),N=Fa(Fa({},_),s);return x.createElement(x.Fragment,null,d&&x.createElement(j,{sideCar:WI,removeScrollBar:u,shards:f,noRelative:m,noIsolation:g,inert:p,setCallbacks:i,allowPinchZoom:!!y,lockRef:r,gapMode:w}),o?x.cloneElement(x.Children.only(l),Fa(Fa({},N),{ref:S})):x.createElement(v,Fa({},N,{className:c,ref:S}),l))});kx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};kx.classNames={fullWidth:Ug,zeroRight:Fg};var qG=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zG(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qG();return t&&e.setAttribute("nonce",t),e}function WG(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function VG(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KG=function(){var e=0,t=null;return{add:function(r){e==0&&(t=zG())&&(WG(t,r),VG(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HG=function(){var e=KG();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},VI=function(){var e=HG(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},GG={left:0,top:0,right:0,gap:0},Aw=function(e){return parseInt(e||"",10)||0},YG=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Aw(r),Aw(n),Aw(s)]},QG=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GG;var t=YG(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},XG=VI(),Tu="data-scroll-locked",JG=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(RG,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Tu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Fg,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Ug,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fg," .").concat(Fg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ug," .").concat(Ug,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Tu,`] {
    `).concat(MG,": ").concat(l,`px;
  }
`)},ME=function(){var e=parseInt(document.body.getAttribute(Tu)||"0",10);return isFinite(e)?e:0},ZG=function(){x.useEffect(function(){return document.body.setAttribute(Tu,(ME()+1).toString()),function(){var e=ME()-1;e<=0?document.body.removeAttribute(Tu):document.body.setAttribute(Tu,e.toString())}},[])},eY=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;ZG();var i=x.useMemo(function(){return QG(s)},[s]);return x.createElement(XG,{styles:JG(i,!t,s,r?"":"!important")})},t_=!1;if(typeof window<"u")try{var Jp=Object.defineProperty({},"passive",{get:function(){return t_=!0,!0}});window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{t_=!1}var Hc=t_?{passive:!1}:!1,tY=function(e){return e.tagName==="TEXTAREA"},KI=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!tY(e)&&r[t]==="visible")},rY=function(e){return KI(e,"overflowY")},nY=function(e){return KI(e,"overflowX")},$E=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=HI(e,n);if(s){var i=GI(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},sY=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},aY=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},HI=function(e,t){return e==="v"?rY(t):nY(t)},GI=function(e,t){return e==="v"?sY(t):aY(t)},iY=function(e,t){return e==="h"&&t==="rtl"?-1:1},oY=function(e,t,r,n,s){var i=iY(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,f=0,h=0;do{if(!l)break;var m=GI(e,l),g=m[0],p=m[1],y=m[2],b=p-y-i*g;(g||b)&&HI(e,l)&&(f+=b,h+=g);var v=l.parentNode;l=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Zp=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},IE=function(e){return[e.deltaX,e.deltaY]},DE=function(e){return e&&"current"in e?e.current:e},lY=function(e,t){return e[0]===t[0]&&e[1]===t[1]},cY=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},uY=0,Gc=[];function dY(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),s=x.useState(uY++)[0],i=x.useState(VI)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var p=o9([e.lockRef.current],(e.shards||[]).map(DE),!0).filter(Boolean);return p.forEach(function(y){return y.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),p.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(p,y){if("touches"in p&&p.touches.length===2||p.type==="wheel"&&p.ctrlKey)return!o.current.allowPinchZoom;var b=Zp(p),v=r.current,w="deltaX"in p?p.deltaX:v[0]-b[0],_="deltaY"in p?p.deltaY:v[1]-b[1],j,S=p.target,N=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in p&&N==="h"&&S.type==="range")return!1;var k=window.getSelection(),C=k&&k.anchorNode,E=C?C===S||C.contains(S):!1;if(E)return!1;var I=$E(N,S);if(!I)return!0;if(I?j=N:(j=N==="v"?"h":"v",I=$E(N,S)),!I)return!1;if(!n.current&&"changedTouches"in p&&(w||_)&&(n.current=j),!j)return!0;var O=n.current||j;return oY(O,y,p,O==="h"?w:_)},[]),c=x.useCallback(function(p){var y=p;if(!(!Gc.length||Gc[Gc.length-1]!==i)){var b="deltaY"in y?IE(y):Zp(y),v=t.current.filter(function(j){return j.name===y.type&&(j.target===y.target||y.target===j.shadowParent)&&lY(j.delta,b)})[0];if(v&&v.should){y.cancelable&&y.preventDefault();return}if(!v){var w=(o.current.shards||[]).map(DE).filter(Boolean).filter(function(j){return j.contains(y.target)}),_=w.length>0?l(y,w[0]):!o.current.noIsolation;_&&y.cancelable&&y.preventDefault()}}},[]),u=x.useCallback(function(p,y,b,v){var w={name:p,delta:y,target:b,should:v,shadowParent:fY(b)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=x.useCallback(function(p){r.current=Zp(p),n.current=void 0},[]),f=x.useCallback(function(p){u(p.type,IE(p),p.target,l(p,e.lockRef.current))},[]),h=x.useCallback(function(p){u(p.type,Zp(p),p.target,l(p,e.lockRef.current))},[]);x.useEffect(function(){return Gc.push(i),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Hc),document.addEventListener("touchmove",c,Hc),document.addEventListener("touchstart",d,Hc),function(){Gc=Gc.filter(function(p){return p!==i}),document.removeEventListener("wheel",c,Hc),document.removeEventListener("touchmove",c,Hc),document.removeEventListener("touchstart",d,Hc)}},[]);var m=e.removeScrollBar,g=e.inert;return x.createElement(x.Fragment,null,g?x.createElement(i,{styles:cY(s)}):null,m?x.createElement(eY,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function fY(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const hY=BG(WI,dY);var Cx=x.forwardRef(function(e,t){return x.createElement(kx,Fa({},e,{ref:t,sideCar:hY}))});Cx.classNames=kx.classNames;var mY=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Yc=new WeakMap,eg=new WeakMap,tg={},Tw=0,YI=function(e){return e&&(e.host||YI(e.parentNode))},pY=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=YI(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gY=function(e,t,r,n){var s=pY(t,Array.isArray(e)?e:[e]);tg[r]||(tg[r]=new WeakMap);var i=tg[r],o=[],l=new Set,c=new Set(s),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))d(h);else try{var m=h.getAttribute(n),g=m!==null&&m!=="false",p=(Yc.get(h)||0)+1,y=(i.get(h)||0)+1;Yc.set(h,p),i.set(h,y),o.push(h),p===1&&g&&eg.set(h,!0),y===1&&h.setAttribute(r,"true"),g||h.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),l.clear(),Tw++,function(){o.forEach(function(f){var h=Yc.get(f)-1,m=i.get(f)-1;Yc.set(f,h),i.set(f,m),h||(eg.has(f)||f.removeAttribute(n),eg.delete(f)),m||f.removeAttribute(r)}),Tw--,Tw||(Yc=new WeakMap,Yc=new WeakMap,eg=new WeakMap,tg={})}},uN=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=mY(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),gY(n,s,r,"aria-hidden")):function(){return null}};function vY(e){const t=yY(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(bY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function yY(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=jY(s),l=wY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xY=Symbol("radix.slottable");function bY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xY}function wY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function jY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ex="Dialog",[QI]=Us(Ex),[_Y,Na]=QI(Ex),XI=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,d]=Ja({prop:n,defaultProp:s??!1,onChange:i,caller:Ex});return a.jsx(_Y,{scope:t,triggerRef:l,contentRef:c,contentId:Ts(),titleId:Ts(),descriptionId:Ts(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};XI.displayName=Ex;var JI="DialogTrigger",SY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(JI,r),i=gt(t,s.triggerRef);return a.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hN(s.open),...n,ref:i,onClick:Pe(e.onClick,s.onOpenToggle)})});SY.displayName=JI;var dN="DialogPortal",[NY,ZI]=QI(dN,{forceMount:void 0}),eD=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Na(dN,t);return a.jsx(NY,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(Yn,{present:r||i.open,children:a.jsx(Nx,{asChild:!0,container:s,children:o})}))})};eD.displayName=dN;var _v="DialogOverlay",tD=x.forwardRef((e,t)=>{const r=ZI(_v,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Na(_v,e.__scopeDialog);return i.modal?a.jsx(Yn,{present:n||i.open,children:a.jsx(CY,{...s,ref:t})}):null});tD.displayName=_v;var kY=vY("DialogOverlay.RemoveScroll"),CY=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(_v,r);return a.jsx(Cx,{as:kY,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Qe.div,{"data-state":hN(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),fc="DialogContent",rD=x.forwardRef((e,t)=>{const r=ZI(fc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Na(fc,e.__scopeDialog);return a.jsx(Yn,{present:n||i.open,children:i.modal?a.jsx(EY,{...s,ref:t}):a.jsx(PY,{...s,ref:t})})});rD.displayName=fc;var EY=x.forwardRef((e,t)=>{const r=Na(fc,e.__scopeDialog),n=x.useRef(null),s=gt(t,r.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return uN(i)},[]),a.jsx(nD,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Pe(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault())})}),PY=x.forwardRef((e,t)=>{const r=Na(fc,e.__scopeDialog),n=x.useRef(!1),s=x.useRef(!1);return a.jsx(nD,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nD=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Na(fc,r),c=x.useRef(null),u=gt(t,c);return cN(),a.jsxs(a.Fragment,{children:[a.jsx(Sx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(_x,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":hN(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(OY,{titleId:l.titleId}),a.jsx(TY,{contentRef:c,descriptionId:l.descriptionId})]})]})}),fN="DialogTitle",sD=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(fN,r);return a.jsx(Qe.h2,{id:s.titleId,...n,ref:t})});sD.displayName=fN;var aD="DialogDescription",iD=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(aD,r);return a.jsx(Qe.p,{id:s.descriptionId,...n,ref:t})});iD.displayName=aD;var oD="DialogClose",lD=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Na(oD,r);return a.jsx(Qe.button,{type:"button",...n,ref:t,onClick:Pe(e.onClick,()=>s.onOpenChange(!1))})});lD.displayName=oD;function hN(e){return e?"open":"closed"}var cD="DialogTitleWarning",[K$e,uD]=eG(cD,{contentName:fc,titleName:fN,docsSlug:"dialog"}),OY=({titleId:e})=>{const t=uD(cD),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},AY="DialogDescriptionWarning",TY=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${uD(AY).contentName}}.`;return x.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},RY=XI,MY=eD,dD=tD,fD=rD,hD=sD,mD=iD,$Y=lD;const Me=RY,IY=MY,pD=x.forwardRef(({className:e,...t},r)=>a.jsx(dD,{ref:r,className:J("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pD.displayName=dD.displayName;const Oe=x.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(IY,{children:[a.jsx(pD,{}),a.jsxs(fD,{ref:s,className:J("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs($Y,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(ud,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Oe.displayName=fD.displayName;const Ae=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ae.displayName="DialogHeader";const De=({className:e,...t})=>a.jsx("div",{className:J("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});De.displayName="DialogFooter";const Te=x.forwardRef(({className:e,...t},r)=>a.jsx(hD,{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));Te.displayName=hD.displayName;const Re=x.forwardRef(({className:e,...t},r)=>a.jsx(mD,{ref:r,className:J("text-sm text-muted-foreground",e),...t}));Re.displayName=mD.displayName;var DY=Symbol.for("react.lazy"),Sv=Gy[" use ".trim().toString()];function LY(e){return typeof e=="object"&&e!==null&&"then"in e}function gD(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===DY&&"_payload"in e&&LY(e._payload)}function ap(e){const t=UY(e),r=x.forwardRef((n,s)=>{let{children:i,...o}=n;gD(i)&&typeof Sv=="function"&&(i=Sv(i._payload));const l=x.Children.toArray(i),c=l.find(qY);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var FY=ap("Slot");function UY(e){const t=x.forwardRef((r,n)=>{let{children:s,...i}=r;if(gD(s)&&typeof Sv=="function"&&(s=Sv(s._payload)),x.isValidElement(s)){const o=WY(s),l=zY(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var BY=Symbol("radix.slottable");function qY(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===BY}function zY(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function WY(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const LE=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,FE=jt,mN=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return FE(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=i==null?void 0:i[u];if(d===null)return null;const h=LE(d)||LE(f);return s[u][h]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(g=>{let[p,y]=g;return Array.isArray(y)?y.includes({...i,...l}[p]):{...i,...l}[p]===y})?[...u,f,h]:u},[]);return FE(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},VY=mN("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),P=x.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?FY:"button";return a.jsx(o,{className:J(VY({variant:t,size:r,className:e})),ref:i,...s})});P.displayName="Button";function KY({open:e,onOpenChange:t,message:r="Operation completed successfully.",nextSteps:n,onClose:s,className:i}){const o=l=>{l||s==null||s(),t(l)};return a.jsx(Me,{open:e,onOpenChange:o,children:a.jsxs(Oe,{showClose:!0,className:J("max-w-[640px]",i),"aria-describedby":"operation-success-description",children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15",children:a.jsx(wa,{className:"h-6 w-6 text-success","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Te,{children:"Success"}),a.jsx(Re,{id:"operation-success-description",children:r})]})]})}),n&&n.length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/30 p-4",children:[a.jsx("p",{className:"mb-3 text-sm font-medium text-foreground",children:"Next steps"}),a.jsx("ul",{className:"flex flex-col gap-2",children:n.map((l,c)=>a.jsx("li",{children:l.href?a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",asChild:!0,children:a.jsx("a",{href:l.href,children:l.label})}):a.jsx(P,{variant:"link",className:"h-auto p-0 text-primary underline-offset-4",onClick:()=>{var u;(u=l.onClick)==null||u.call(l),o(!1)},children:l.label})},c))})]}),a.jsx(De,{children:a.jsx(P,{onClick:()=>o(!1),className:"transition-transform hover:scale-[1.02]",children:"Done"})})]})})}function HY({open:e,onOpenChange:t,message:r="Are you sure you want to cancel this operation? Progress may be lost.",confirmLabel:n="Yes, cancel",onConfirm:s,onCancel:i,isConfirming:o=!1,className:l}){const c=()=>{s==null||s(),t(!1)},u=()=>{i==null||i(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{showClose:!0,className:J("max-w-[640px]",l),"aria-describedby":"abort-confirm-description",children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-warning/15",children:a.jsx(Yi,{className:"h-6 w-6 text-warning","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Te,{children:"Cancel operation?"}),a.jsx(Re,{id:"abort-confirm-description",children:r})]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:u,disabled:o,className:"transition-transform hover:scale-[1.02]",children:"No, continue"}),a.jsx(P,{variant:"destructive",onClick:c,disabled:o,className:"transition-transform hover:scale-[1.02]",children:o?"Cancelling":n})]})]})})}const UE={visible:!1},BE={visible:!1},qE={visible:!1},vD=x.createContext(null);function GY({children:e}){const[t,r]=x.useState(UE),[n,s]=x.useState(BE),[i,o]=x.useState(qE),l=x.useCallback(g=>{r({visible:!0,message:g})},[]),c=x.useCallback(()=>{r(UE)},[]),u=x.useCallback((g,p)=>{s({visible:!0,message:g,nextSteps:p})},[]),d=x.useCallback(()=>{s(BE)},[]),f=x.useCallback(g=>{o({visible:!0,message:g.message,onConfirm:g.onConfirm,onCancel:g.onCancel,confirmLabel:g.confirmLabel})},[]),h=x.useCallback(()=>{o(qE)},[]),m=x.useMemo(()=>({loading:t,success:n,abortConfirm:i,showLoading:l,hideLoading:c,showSuccess:u,hideSuccess:d,showAbortConfirm:f,hideAbortConfirm:h}),[t,n,i,l,c,u,d,f,h]);return a.jsx(vD.Provider,{value:m,children:e})}function YY(){const e=x.useContext(vD);if(!e)throw new Error("useOperationStateContext must be used within OperationStateProvider");return e}function QY(){const{loading:e,success:t,abortConfirm:r,hideSuccess:n,hideAbortConfirm:s}=YY();return a.jsxs(a.Fragment,{children:[a.jsx(Z7,{visible:e.visible,message:e.message}),a.jsx(KY,{open:t.visible,onOpenChange:i=>!i&&n(),message:t.message,nextSteps:t.nextSteps,onClose:n}),a.jsx(HY,{open:r.visible,onOpenChange:i=>!i&&s(),message:r.message,confirmLabel:r.confirmLabel??"Yes, cancel",onConfirm:r.onConfirm,onCancel:r.onCancel})]})}function XY({children:e}){return a.jsxs(GY,{children:[a.jsx(QY,{}),e]})}var JY=x.createContext(void 0);function ef(e){const t=x.useContext(JY);return e||t||"ltr"}function r_(e,[t,r]){return Math.min(r,Math.max(t,e))}function ZY(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var pN="ScrollArea",[yD]=Us(pN),[eQ,Bs]=yD(pN),xD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState(null),[p,y]=x.useState(null),[b,v]=x.useState(0),[w,_]=x.useState(0),[j,S]=x.useState(!1),[N,k]=x.useState(!1),C=gt(t,I=>c(I)),E=ef(s);return a.jsx(eQ,{scope:r,type:n,dir:E,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:f,onContentChange:h,scrollbarX:m,onScrollbarXChange:g,scrollbarXEnabled:j,onScrollbarXEnabledChange:S,scrollbarY:p,onScrollbarYChange:y,scrollbarYEnabled:N,onScrollbarYEnabledChange:k,onCornerWidthChange:v,onCornerHeightChange:_,children:a.jsx(Qe.div,{dir:E,...o,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});xD.displayName=pN;var bD="ScrollAreaViewport",wD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=Bs(bD,r),l=x.useRef(null),c=gt(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Qe.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});wD.displayName=bD;var ni="ScrollAreaScrollbar",gN=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ni,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return x.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(tQ,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(rQ,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(jD,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(vN,{...n,ref:t}):null});gN.displayName=ni;var tQ=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ni,e.__scopeScrollArea),[i,o]=x.useState(!1);return x.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(Yn,{present:r||i,children:a.jsx(jD,{"data-state":i?"visible":"hidden",...n,ref:t})})}),rQ=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Bs(ni,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Ox(()=>c("SCROLL_END"),100),[l,c]=ZY("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),x.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let f=u[d];const h=()=>{const m=u[d];f!==m&&(c("SCROLL"),o()),f=m};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[s.viewport,i,c,o]),a.jsx(Yn,{present:r||l!=="hidden",children:a.jsx(vN,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:Pe(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:Pe(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),jD=x.forwardRef((e,t)=>{const r=Bs(ni,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=x.useState(!1),l=e.orientation==="horizontal",c=Ox(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return dd(r.viewport,c),dd(r.content,c),a.jsx(Yn,{present:n||i,children:a.jsx(vN,{"data-state":i?"visible":"hidden",...s,ref:t})})}),vN=x.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=Bs(ni,e.__scopeScrollArea),i=x.useRef(null),o=x.useRef(0),[l,c]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=CD(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function f(h,m){return lQ(h,o.current,l,m)}return r==="horizontal"?a.jsx(nQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollLeft,m=zE(h,l,s.dir);i.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollLeft=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollLeft=f(h,s.dir))}}):r==="vertical"?a.jsx(sQ,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const h=s.viewport.scrollTop,m=zE(h,l);i.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:h=>{s.viewport&&(s.viewport.scrollTop=h)},onDragScroll:h=>{s.viewport&&(s.viewport.scrollTop=f(h))}}):null}),nQ=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Bs(ni,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=gt(t,c,i.onScrollbarXChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(SD,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Px(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(h),PD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:kv(o.paddingLeft),paddingEnd:kv(o.paddingRight)}})}})}),sQ=x.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=Bs(ni,e.__scopeScrollArea),[o,l]=x.useState(),c=x.useRef(null),u=gt(t,c,i.onScrollbarYChange);return x.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(SD,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Px(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const h=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(h),PD(h,f)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:kv(o.paddingTop),paddingEnd:kv(o.paddingBottom)}})}})}),[aQ,_D]=yD(ni),SD=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:f,...h}=e,m=Bs(ni,r),[g,p]=x.useState(null),y=gt(t,C=>p(C)),b=x.useRef(null),v=x.useRef(""),w=m.viewport,_=n.content-n.viewport,j=Jr(d),S=Jr(c),N=Ox(f,10);function k(C){if(b.current){const E=C.clientX-b.current.left,I=C.clientY-b.current.top;u({x:E,y:I})}}return x.useEffect(()=>{const C=E=>{const I=E.target;(g==null?void 0:g.contains(I))&&j(E,_)};return document.addEventListener("wheel",C,{passive:!1}),()=>document.removeEventListener("wheel",C,{passive:!1})},[w,g,_,j]),x.useEffect(S,[n,S]),dd(g,N),dd(m.content,N),a.jsx(aQ,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:Jr(i),onThumbPointerUp:Jr(o),onThumbPositionChange:S,onThumbPointerDown:Jr(l),children:a.jsx(Qe.div,{...h,ref:y,style:{position:"absolute",...h.style},onPointerDown:Pe(e.onPointerDown,C=>{C.button===0&&(C.target.setPointerCapture(C.pointerId),b.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),k(C))}),onPointerMove:Pe(e.onPointerMove,k),onPointerUp:Pe(e.onPointerUp,C=>{const E=C.target;E.hasPointerCapture(C.pointerId)&&E.releasePointerCapture(C.pointerId),document.body.style.webkitUserSelect=v.current,m.viewport&&(m.viewport.style.scrollBehavior=""),b.current=null})})})}),Nv="ScrollAreaThumb",ND=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=_D(Nv,e.__scopeScrollArea);return a.jsx(Yn,{present:r||s.hasThumb,children:a.jsx(iQ,{ref:t,...n})})}),iQ=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=Bs(Nv,r),o=_D(Nv,r),{onThumbPositionChange:l}=o,c=gt(t,f=>o.onThumbChange(f)),u=x.useRef(void 0),d=Ox(()=>{u.current&&(u.current(),u.current=void 0)},100);return x.useEffect(()=>{const f=i.viewport;if(f){const h=()=>{if(d(),!u.current){const m=cQ(f,l);u.current=m,l()}};return l(),f.addEventListener("scroll",h),()=>f.removeEventListener("scroll",h)}},[i.viewport,d,l]),a.jsx(Qe.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Pe(e.onPointerDownCapture,f=>{const m=f.target.getBoundingClientRect(),g=f.clientX-m.left,p=f.clientY-m.top;o.onThumbPointerDown({x:g,y:p})}),onPointerUp:Pe(e.onPointerUp,o.onThumbPointerUp)})});ND.displayName=Nv;var yN="ScrollAreaCorner",kD=x.forwardRef((e,t)=>{const r=Bs(yN,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(oQ,{...e,ref:t}):null});kD.displayName=yN;var oQ=x.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=Bs(yN,r),[i,o]=x.useState(0),[l,c]=x.useState(0),u=!!(i&&l);return dd(s.scrollbarX,()=>{var f;const d=((f=s.scrollbarX)==null?void 0:f.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),dd(s.scrollbarY,()=>{var f;const d=((f=s.scrollbarY)==null?void 0:f.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Qe.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function kv(e){return e?parseInt(e,10):0}function CD(e,t){const r=e/t;return isNaN(r)?0:r}function Px(e){const t=CD(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function lQ(e,t,r,n="ltr"){const s=Px(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,f=n==="ltr"?[0,d]:[d*-1,0];return ED([c,u],f)(e)}function zE(e,t,r="ltr"){const n=Px(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=r_(e,c);return ED([0,o],[0,l])(u)}function ED(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PD(e,t){return e>0&&e<t}var cQ=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Ox(e,t){const r=Jr(e),n=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),x.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function dd(e,t){const r=Jr(t);jr(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var OD=xD,uQ=wD,dQ=kD;const pt=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(OD,{ref:n,className:J("relative overflow-hidden",e),...r,children:[a.jsx(uQ,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(AD,{}),a.jsx(dQ,{})]}));pt.displayName=OD.displayName;const AD=x.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx(gN,{ref:n,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(ND,{className:"relative flex-1 rounded-full bg-border"})}));AD.displayName=gN.displayName;var fQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hQ=fQ.reduce((e,t)=>{const r=ap(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),mQ="Separator",WE="horizontal",pQ=["horizontal","vertical"],TD=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=WE,...s}=e,i=gQ(n)?n:WE,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(hQ.div,{"data-orientation":i,...l,...s,ref:t})});TD.displayName=mQ;function gQ(e){return pQ.includes(e)}var RD=TD;const xN=x.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(RD,{ref:s,decorative:r,orientation:t,className:J("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));xN.displayName=RD.displayName;const vQ=[{to:"/dashboard",label:"Dashboard",icon:tN},{to:"/profile",label:"Profile",icon:sp},{to:"/chat",label:"Chat Session",icon:tp},{to:"/channels",label:"Channels & Adapters",icon:h7},{to:"/skills",label:"Skills Library",icon:ad},{to:"/skill-editor",label:"Skill Editor",icon:or},{to:"/marketplace",label:"Marketplace",icon:wx},{to:"/nodes",label:"Nodes",icon:Ka},{to:"/cron",label:"Cron Jobs",icon:dl},{to:"/webhooks",label:"Webhooks & Hooks",icon:jv},{to:"/model-providers",label:"Model Providers",icon:gI},{to:"/browser",label:"Browser Automation",icon:bx},{to:"/voice",label:"Voice & Media",icon:ld},{to:"/secrets",label:"Secrets & Keychain",icon:id},{to:"/settings",label:"Settings",icon:Hn},{to:"/security",label:"Security Audit",icon:Rr},{to:"/logs",label:"Logs & Tracing",icon:or},{to:"/admin",label:"Admin",icon:Rr}];function yQ(){const[e,t]=x.useState(!1);return a.jsxs("aside",{className:J("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Tr,{className:"h-4 w-4"}):a.jsx(bv,{className:"h-4 w-4"})})]}),a.jsx(pt,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:vQ.map(({to:r,label:n,icon:s})=>a.jsxs(F4,{to:r,className:({isActive:i})=>J("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(xN,{})]})}const ye=x.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:J("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));ye.displayName="Input";function xQ(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,bQ(s,...t)]}function bQ(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var wQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bN=wQ.reduce((e,t)=>{const r=ap(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),MD={exports:{}},$D={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=x;function jQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _Q=typeof Object.is=="function"?Object.is:jQ,SQ=fd.useState,NQ=fd.useEffect,kQ=fd.useLayoutEffect,CQ=fd.useDebugValue;function EQ(e,t){var r=t(),n=SQ({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return kQ(function(){s.value=r,s.getSnapshot=t,Rw(s)&&i({inst:s})},[e,r,t]),NQ(function(){return Rw(s)&&i({inst:s}),e(function(){Rw(s)&&i({inst:s})})},[e]),CQ(r),r}function Rw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!_Q(e,r)}catch{return!0}}function PQ(e,t){return t()}var OQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?PQ:EQ;$D.useSyncExternalStore=fd.useSyncExternalStore!==void 0?fd.useSyncExternalStore:OQ;MD.exports=$D;var AQ=MD.exports;function TQ(){return AQ.useSyncExternalStore(RQ,()=>!0,()=>!1)}function RQ(){return()=>{}}var wN="Avatar",[MQ]=xQ(wN),[$Q,ID]=MQ(wN),DD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=x.useState("idle");return a.jsx($Q,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(bN.span,{...n,ref:t})})});DD.displayName=wN;var LD="AvatarImage",FD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=ID(LD,r),l=IQ(n,i),c=Jr(u=>{s(u),o.onImageLoadingStatusChange(u)});return jr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(bN.img,{...i,ref:t,src:n}):null});FD.displayName=LD;var UD="AvatarFallback",BD=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=ID(UD,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(bN.span,{...s,ref:t}):null});BD.displayName=UD;function VE(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function IQ(e,{referrerPolicy:t,crossOrigin:r}){const n=TQ(),s=x.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=x.useState(()=>VE(i,e));return jr(()=>{l(VE(i,e))},[i,e]),jr(()=>{const c=f=>()=>{l(f)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var qD=DD,zD=FD,WD=BD;const Ax=x.forwardRef(({className:e,...t},r)=>a.jsx(qD,{ref:r,className:J("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Ax.displayName=qD.displayName;const jN=x.forwardRef(({className:e,...t},r)=>a.jsx(zD,{ref:r,className:J("aspect-square h-full w-full",e),...t}));jN.displayName=zD.displayName;const Tx=x.forwardRef(({className:e,...t},r)=>a.jsx(WD,{ref:r,className:J("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Tx.displayName=WD.displayName;function KE(e){const t=DQ(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(FQ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function DQ(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=BQ(s),l=UQ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var LQ=Symbol("radix.slottable");function FQ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===LQ}function UQ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function BQ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rx(e){const t=e+"CollectionProvider",[r,n]=Us(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:b}=p,v=A.useRef(null),w=A.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:w,collectionRef:v,children:b})};o.displayName=t;const l=e+"CollectionSlot",c=KE(l),u=A.forwardRef((p,y)=>{const{scope:b,children:v}=p,w=i(l,b),_=gt(y,w.collectionRef);return a.jsx(c,{ref:_,children:v})});u.displayName=l;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=KE(d),m=A.forwardRef((p,y)=>{const{scope:b,children:v,...w}=p,_=A.useRef(null),j=gt(y,_),S=i(d,b);return A.useEffect(()=>(S.itemMap.set(_,{ref:_,...w}),()=>void S.itemMap.delete(_))),a.jsx(h,{[f]:"",ref:j,children:v})});m.displayName=d;function g(p){const y=i(e+"CollectionConsumer",p);return A.useCallback(()=>{const v=y.collectionRef.current;if(!v)return[];const w=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(y.itemMap.values()).sort((S,N)=>w.indexOf(S.ref.current)-w.indexOf(N.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:u,ItemSlot:m},g,n]}const qQ=["top","right","bottom","left"],nl=Math.min,ns=Math.max,Cv=Math.round,rg=Math.floor,Ga=e=>({x:e,y:e}),zQ={left:"right",right:"left",bottom:"top",top:"bottom"},WQ={start:"end",end:"start"};function n_(e,t,r){return ns(e,nl(t,r))}function Di(e,t){return typeof e=="function"?e(t):e}function Li(e){return e.split("-")[0]}function tf(e){return e.split("-")[1]}function _N(e){return e==="x"?"y":"x"}function SN(e){return e==="y"?"height":"width"}const VQ=new Set(["top","bottom"]);function Ua(e){return VQ.has(Li(e))?"y":"x"}function NN(e){return _N(Ua(e))}function KQ(e,t,r){r===void 0&&(r=!1);const n=tf(e),s=NN(e),i=SN(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Ev(o)),[o,Ev(o)]}function HQ(e){const t=Ev(e);return[s_(e),t,s_(t)]}function s_(e){return e.replace(/start|end/g,t=>WQ[t])}const HE=["left","right"],GE=["right","left"],GQ=["top","bottom"],YQ=["bottom","top"];function QQ(e,t,r){switch(e){case"top":case"bottom":return r?t?GE:HE:t?HE:GE;case"left":case"right":return t?GQ:YQ;default:return[]}}function XQ(e,t,r,n){const s=tf(e);let i=QQ(Li(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(s_)))),i}function Ev(e){return e.replace(/left|right|bottom|top/g,t=>zQ[t])}function JQ(e){return{top:0,right:0,bottom:0,left:0,...e}}function VD(e){return typeof e!="number"?JQ(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function YE(e,t,r){let{reference:n,floating:s}=e;const i=Ua(t),o=NN(t),l=SN(o),c=Li(t),u=i==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,h=n[l]/2-s[l]/2;let m;switch(c){case"top":m={x:d,y:n.y-s.height};break;case"bottom":m={x:d,y:n.y+n.height};break;case"right":m={x:n.x+n.width,y:f};break;case"left":m={x:n.x-s.width,y:f};break;default:m={x:n.x,y:n.y}}switch(tf(t)){case"start":m[o]-=h*(r&&u?-1:1);break;case"end":m[o]+=h*(r&&u?-1:1);break}return m}async function ZQ(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=Di(t,e),g=VD(m),y=l[h?f==="floating"?"reference":"floating":f],b=Pv(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},j=Pv(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:v,offsetParent:w,strategy:c}):v);return{top:(b.top-j.top+g.top)/_.y,bottom:(j.bottom-b.bottom+g.bottom)/_.y,left:(b.left-j.left+g.left)/_.x,right:(j.right-b.right+g.right)/_.x}}const eX=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=YE(u,n,c),h=n,m={},g=0;for(let y=0;y<l.length;y++){var p;const{name:b,fn:v}=l[y],{x:w,y:_,data:j,reset:S}=await v({x:d,y:f,initialPlacement:n,placement:h,strategy:s,middlewareData:m,rects:u,platform:{...o,detectOverflow:(p=o.detectOverflow)!=null?p:ZQ},elements:{reference:e,floating:t}});d=w??d,f=_??f,m={...m,[b]:{...m[b],...j}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(u=S.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:f}=YE(u,h,c)),y=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}},tX=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Di(e,t)||{};if(u==null)return{};const f=VD(d),h={x:r,y:n},m=NN(s),g=SN(m),p=await o.getDimensions(u),y=m==="y",b=y?"top":"left",v=y?"bottom":"right",w=y?"clientHeight":"clientWidth",_=i.reference[g]+i.reference[m]-h[m]-i.floating[g],j=h[m]-i.reference[m],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let N=S?S[w]:0;(!N||!await(o.isElement==null?void 0:o.isElement(S)))&&(N=l.floating[w]||i.floating[g]);const k=_/2-j/2,C=N/2-p[g]/2-1,E=nl(f[b],C),I=nl(f[v],C),O=E,B=N-p[g]-I,T=N/2-p[g]/2+k,V=n_(O,T,B),L=!c.arrow&&tf(s)!=null&&T!==V&&i.reference[g]/2-(T<O?E:I)-p[g]/2<0,K=L?T<O?T-O:T-B:0;return{[m]:h[m]+K,data:{[m]:V,centerOffset:T-V-K,...L&&{alignmentOffset:K}},reset:L}}}),rX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:p=!0,...y}=Di(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Li(s),v=Ua(l),w=Li(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),j=h||(w||!p?[Ev(l)]:HQ(l)),S=g!=="none";!h&&S&&j.push(...XQ(l,p,g,_));const N=[l,...j],k=await c.detectOverflow(t,y),C=[];let E=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&C.push(k[b]),f){const T=KQ(s,o,_);C.push(k[T[0]],k[T[1]])}if(E=[...E,{placement:s,overflows:C}],!C.every(T=>T<=0)){var I,O;const T=(((I=i.flip)==null?void 0:I.index)||0)+1,V=N[T];if(V&&(!(f==="alignment"?v!==Ua(V):!1)||E.every(R=>Ua(R.placement)===v?R.overflows[0]>0:!0)))return{data:{index:T,overflows:E},reset:{placement:V}};let L=(O=E.filter(K=>K.overflows[0]<=0).sort((K,R)=>K.overflows[1]-R.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(m){case"bestFit":{var B;const K=(B=E.filter(R=>{if(S){const M=Ua(R.placement);return M===v||M==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(M=>M>0).reduce((M,$)=>M+$,0)]).sort((R,M)=>R[1]-M[1])[0])==null?void 0:B[0];K&&(L=K);break}case"initialPlacement":L=l;break}if(s!==L)return{reset:{placement:L}}}return{}}}};function QE(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function XE(e){return qQ.some(t=>e[t]>=0)}const nX=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Di(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=QE(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:XE(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=QE(o,r.floating);return{data:{escapedOffsets:l,escaped:XE(l)}}}default:return{}}}}},KD=new Set(["left","top"]);async function sX(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Li(r),l=tf(r),c=Ua(r)==="y",u=KD.has(o)?-1:1,d=i&&c?-1:1,f=Di(t,e);let{mainAxis:h,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof g=="number"&&(m=l==="end"?g*-1:g),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const aX=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await sX(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},iX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:v,y:w}=b;return{x:v,y:w}}},...u}=Di(e,t),d={x:r,y:n},f=await i.detectOverflow(t,u),h=Ua(Li(s)),m=_N(h);let g=d[m],p=d[h];if(o){const b=m==="y"?"top":"left",v=m==="y"?"bottom":"right",w=g+f[b],_=g-f[v];g=n_(w,g,_)}if(l){const b=h==="y"?"top":"left",v=h==="y"?"bottom":"right",w=p+f[b],_=p-f[v];p=n_(w,p,_)}const y=c.fn({...t,[m]:g,[h]:p});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[m]:o,[h]:l}}}}}},oX=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Di(e,t),d={x:r,y:n},f=Ua(s),h=_N(f);let m=d[h],g=d[f];const p=Di(l,t),y=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(c){const w=h==="y"?"height":"width",_=i.reference[h]-i.floating[w]+y.mainAxis,j=i.reference[h]+i.reference[w]-y.mainAxis;m<_?m=_:m>j&&(m=j)}if(u){var b,v;const w=h==="y"?"width":"height",_=KD.has(Li(s)),j=i.reference[f]-i.floating[w]+(_&&((b=o.offset)==null?void 0:b[f])||0)+(_?0:y.crossAxis),S=i.reference[f]+i.reference[w]+(_?0:((v=o.offset)==null?void 0:v[f])||0)-(_?y.crossAxis:0);g<j?g=j:g>S&&(g=S)}return{[h]:m,[f]:g}}}},lX=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Di(e,t),d=await o.detectOverflow(t,u),f=Li(s),h=tf(s),m=Ua(s)==="y",{width:g,height:p}=i.floating;let y,b;f==="top"||f==="bottom"?(y=f,b=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(b=f,y=h==="end"?"top":"bottom");const v=p-d.top-d.bottom,w=g-d.left-d.right,_=nl(p-d[y],v),j=nl(g-d[b],w),S=!t.middlewareData.shift;let N=_,k=j;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(k=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=v),S&&!h){const E=ns(d.left,0),I=ns(d.right,0),O=ns(d.top,0),B=ns(d.bottom,0);m?k=g-2*(E!==0||I!==0?E+I:ns(d.left,d.right)):N=p-2*(O!==0||B!==0?O+B:ns(d.top,d.bottom))}await c({...t,availableWidth:k,availableHeight:N});const C=await o.getDimensions(l.floating);return g!==C.width||p!==C.height?{reset:{rects:!0}}:{}}}};function Mx(){return typeof window<"u"}function rf(e){return HD(e)?(e.nodeName||"").toLowerCase():"#document"}function ds(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function si(e){var t;return(t=(HD(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function HD(e){return Mx()?e instanceof Node||e instanceof ds(e).Node:!1}function ja(e){return Mx()?e instanceof Element||e instanceof ds(e).Element:!1}function Za(e){return Mx()?e instanceof HTMLElement||e instanceof ds(e).HTMLElement:!1}function JE(e){return!Mx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ds(e).ShadowRoot}const cX=new Set(["inline","contents"]);function ip(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=_a(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!cX.has(s)}const uX=new Set(["table","td","th"]);function dX(e){return uX.has(rf(e))}const fX=[":popover-open",":modal"];function $x(e){return fX.some(t=>{try{return e.matches(t)}catch{return!1}})}const hX=["transform","translate","scale","rotate","perspective"],mX=["transform","translate","scale","rotate","perspective","filter"],pX=["paint","layout","strict","content"];function kN(e){const t=CN(),r=ja(e)?_a(e):e;return hX.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||mX.some(n=>(r.willChange||"").includes(n))||pX.some(n=>(r.contain||"").includes(n))}function gX(e){let t=sl(e);for(;Za(t)&&!hd(t);){if(kN(t))return t;if($x(t))return null;t=sl(t)}return null}function CN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vX=new Set(["html","body","#document"]);function hd(e){return vX.has(rf(e))}function _a(e){return ds(e).getComputedStyle(e)}function Ix(e){return ja(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sl(e){if(rf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||JE(e)&&e.host||si(e);return JE(t)?t.host:t}function GD(e){const t=sl(e);return hd(t)?e.ownerDocument?e.ownerDocument.body:e.body:Za(t)&&ip(t)?t:GD(t)}function rm(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=GD(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=ds(s);if(i){const l=a_(o);return t.concat(o,o.visualViewport||[],ip(s)?s:[],l&&r?rm(l):[])}return t.concat(s,rm(s,[],r))}function a_(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function YD(e){const t=_a(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Za(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Cv(r)!==i||Cv(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function EN(e){return ja(e)?e:e.contextElement}function Ru(e){const t=EN(e);if(!Za(t))return Ga(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=YD(t);let o=(i?Cv(r.width):r.width)/n,l=(i?Cv(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const yX=Ga(0);function QD(e){const t=ds(e);return!CN()||!t.visualViewport?yX:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xX(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==ds(e)?!1:t}function hc(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=EN(e);let o=Ga(1);t&&(n?ja(n)&&(o=Ru(n)):o=Ru(e));const l=xX(i,r,n)?QD(i):Ga(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const h=ds(i),m=n&&ja(n)?ds(n):n;let g=h,p=a_(g);for(;p&&n&&m!==g;){const y=Ru(p),b=p.getBoundingClientRect(),v=_a(p),w=b.left+(p.clientLeft+parseFloat(v.paddingLeft))*y.x,_=b.top+(p.clientTop+parseFloat(v.paddingTop))*y.y;c*=y.x,u*=y.y,d*=y.x,f*=y.y,c+=w,u+=_,g=ds(p),p=a_(g)}}return Pv({width:d,height:f,x:c,y:u})}function Dx(e,t){const r=Ix(e).scrollLeft;return t?t.left+r:hc(si(e)).left+r}function XD(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Dx(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function bX(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=si(n),l=t?$x(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=Ga(1);const d=Ga(0),f=Za(n);if((f||!f&&!i)&&((rf(n)!=="body"||ip(o))&&(c=Ix(n)),Za(n))){const m=hc(n);u=Ru(n),d.x=m.x+n.clientLeft,d.y=m.y+n.clientTop}const h=o&&!f&&!i?XD(o,c):Ga(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:r.y*u.y-c.scrollTop*u.y+d.y+h.y}}function wX(e){return Array.from(e.getClientRects())}function jX(e){const t=si(e),r=Ix(e),n=e.ownerDocument.body,s=ns(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=ns(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Dx(e);const l=-r.scrollTop;return _a(n).direction==="rtl"&&(o+=ns(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const ZE=25;function _X(e,t){const r=ds(e),n=si(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=CN();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=Dx(n);if(u<=0){const d=n.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,g=Math.abs(n.clientWidth-f.clientWidth-m);g<=ZE&&(i-=g)}else u<=ZE&&(i+=u);return{width:i,height:o,x:l,y:c}}const SX=new Set(["absolute","fixed"]);function NX(e,t){const r=hc(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=Za(e)?Ru(e):Ga(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function eP(e,t,r){let n;if(t==="viewport")n=_X(e,r);else if(t==="document")n=jX(si(e));else if(ja(t))n=NX(t,r);else{const s=QD(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Pv(n)}function JD(e,t){const r=sl(e);return r===t||!ja(r)||hd(r)?!1:_a(r).position==="fixed"||JD(r,t)}function kX(e,t){const r=t.get(e);if(r)return r;let n=rm(e,[],!1).filter(l=>ja(l)&&rf(l)!=="body"),s=null;const i=_a(e).position==="fixed";let o=i?sl(e):e;for(;ja(o)&&!hd(o);){const l=_a(o),c=kN(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&SX.has(s.position)||ip(o)&&!c&&JD(e,o))?n=n.filter(d=>d!==o):s=l,o=sl(o)}return t.set(e,n),n}function CX(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?$x(t)?[]:kX(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=eP(t,d,s);return u.top=ns(f.top,u.top),u.right=nl(f.right,u.right),u.bottom=nl(f.bottom,u.bottom),u.left=ns(f.left,u.left),u},eP(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function EX(e){const{width:t,height:r}=YD(e);return{width:t,height:r}}function PX(e,t,r){const n=Za(t),s=si(t),i=r==="fixed",o=hc(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=Ga(0);function u(){c.x=Dx(s)}if(n||!n&&!i)if((rf(t)!=="body"||ip(s))&&(l=Ix(t)),n){const m=hc(t,!0,i,t);c.x=m.x+t.clientLeft,c.y=m.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?XD(s,l):Ga(0),f=o.left+l.scrollLeft-c.x-d.x,h=o.top+l.scrollTop-c.y-d.y;return{x:f,y:h,width:o.width,height:o.height}}function Mw(e){return _a(e).position==="static"}function tP(e,t){if(!Za(e)||_a(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return si(e)===r&&(r=r.ownerDocument.body),r}function ZD(e,t){const r=ds(e);if($x(e))return r;if(!Za(e)){let s=sl(e);for(;s&&!hd(s);){if(ja(s)&&!Mw(s))return s;s=sl(s)}return r}let n=tP(e,t);for(;n&&dX(n)&&Mw(n);)n=tP(n,t);return n&&hd(n)&&Mw(n)&&!kN(n)?r:n||gX(e)||r}const OX=async function(e){const t=this.getOffsetParent||ZD,r=this.getDimensions,n=await r(e.floating);return{reference:PX(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function AX(e){return _a(e).direction==="rtl"}const TX={convertOffsetParentRelativeRectToViewportRelativeRect:bX,getDocumentElement:si,getClippingRect:CX,getOffsetParent:ZD,getElementRects:OX,getClientRects:wX,getDimensions:EX,getScale:Ru,isElement:ja,isRTL:AX};function eL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function RX(e,t){let r=null,n;const s=si(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(l||t(),!h||!m)return;const g=rg(f),p=rg(s.clientWidth-(d+h)),y=rg(s.clientHeight-(f+m)),b=rg(d),w={rootMargin:-g+"px "+-p+"px "+-y+"px "+-b+"px",threshold:ns(0,nl(1,c))||1};let _=!0;function j(S){const N=S[0].intersectionRatio;if(N!==c){if(!_)return o();N?o(!1,N):n=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!eL(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(j,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(j,w)}r.observe(e)}return o(!0),i}function MX(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=EN(e),d=s||i?[...u?rm(u):[],...rm(t)]:[];d.forEach(b=>{s&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=u&&l?RX(u,r):null;let h=-1,m=null;o&&(m=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),r()}),u&&!c&&m.observe(u),m.observe(t));let g,p=c?hc(e):null;c&&y();function y(){const b=hc(e);p&&!eL(p,b)&&r(),p=b,g=requestAnimationFrame(y)}return r(),()=>{var b;d.forEach(v=>{s&&v.removeEventListener("scroll",r),i&&v.removeEventListener("resize",r)}),f==null||f(),(b=m)==null||b.disconnect(),m=null,c&&cancelAnimationFrame(g)}}const $X=aX,IX=iX,DX=rX,LX=lX,FX=nX,rP=tX,UX=oX,BX=(e,t,r)=>{const n=new Map,s={platform:TX,...r},i={...s.platform,_c:n};return eX(e,t,{...s,platform:i})};var qX=typeof document<"u",zX=function(){},Bg=qX?x.useLayoutEffect:zX;function Ov(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Ov(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!Ov(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function tL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function nP(e,t){const r=tL(e);return Math.round(t*r)/r}function $w(e){const t=x.useRef(e);return Bg(()=>{t.current=e}),t}function WX(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,f]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,m]=x.useState(n);Ov(h,n)||m(n);const[g,p]=x.useState(null),[y,b]=x.useState(null),v=x.useCallback(R=>{R!==S.current&&(S.current=R,p(R))},[]),w=x.useCallback(R=>{R!==N.current&&(N.current=R,b(R))},[]),_=i||g,j=o||y,S=x.useRef(null),N=x.useRef(null),k=x.useRef(d),C=c!=null,E=$w(c),I=$w(s),O=$w(u),B=x.useCallback(()=>{if(!S.current||!N.current)return;const R={placement:t,strategy:r,middleware:h};I.current&&(R.platform=I.current),BX(S.current,N.current,R).then(M=>{const $={...M,isPositioned:O.current!==!1};T.current&&!Ov(k.current,$)&&(k.current=$,Wd.flushSync(()=>{f($)}))})},[h,t,r,I,O]);Bg(()=>{u===!1&&k.current.isPositioned&&(k.current.isPositioned=!1,f(R=>({...R,isPositioned:!1})))},[u]);const T=x.useRef(!1);Bg(()=>(T.current=!0,()=>{T.current=!1}),[]),Bg(()=>{if(_&&(S.current=_),j&&(N.current=j),_&&j){if(E.current)return E.current(_,j,B);B()}},[_,j,B,E,C]);const V=x.useMemo(()=>({reference:S,floating:N,setReference:v,setFloating:w}),[v,w]),L=x.useMemo(()=>({reference:_,floating:j}),[_,j]),K=x.useMemo(()=>{const R={position:r,left:0,top:0};if(!L.floating)return R;const M=nP(L.floating,d.x),$=nP(L.floating,d.y);return l?{...R,transform:"translate("+M+"px, "+$+"px)",...tL(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:M,top:$}},[r,l,L.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:B,refs:V,elements:L,floatingStyles:K}),[d,B,V,L,K])}const VX=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?rP({element:n.current,padding:s}).fn(r):{}:n?rP({element:n,padding:s}).fn(r):{}}}},KX=(e,t)=>({...$X(e),options:[e,t]}),HX=(e,t)=>({...IX(e),options:[e,t]}),GX=(e,t)=>({...UX(e),options:[e,t]}),YX=(e,t)=>({...DX(e),options:[e,t]}),QX=(e,t)=>({...LX(e),options:[e,t]}),XX=(e,t)=>({...FX(e),options:[e,t]}),JX=(e,t)=>({...VX(e),options:[e,t]});var ZX="Arrow",rL=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Qe.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});rL.displayName=ZX;var eJ=rL;function nL(e){const[t,r]=x.useState(void 0);return jr(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var PN="Popper",[sL,Lx]=Us(PN),[tJ,aL]=sL(PN),iL=e=>{const{__scopePopper:t,children:r}=e,[n,s]=x.useState(null);return a.jsx(tJ,{scope:t,anchor:n,onAnchorChange:s,children:r})};iL.displayName=PN;var oL="PopperAnchor",lL=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=aL(oL,r),o=x.useRef(null),l=gt(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Qe.div,{...s,ref:l})});lL.displayName=oL;var ON="PopperContent",[rJ,nJ]=sL(ON),cL=x.forwardRef((e,t)=>{var de,qe,ae,je,Y,Q;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:g,...p}=e,y=aL(ON,r),[b,v]=x.useState(null),w=gt(t,Xe=>v(Xe)),[_,j]=x.useState(null),S=nL(_),N=(S==null?void 0:S.width)??0,k=(S==null?void 0:S.height)??0,C=n+(i!=="center"?"-"+i:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(u)?u:[u],O=I.length>0,B={padding:E,boundary:I.filter(aJ),altBoundary:O},{refs:T,floatingStyles:V,placement:L,isPositioned:K,middlewareData:R}=WX({strategy:"fixed",placement:C,whileElementsMounted:(...Xe)=>MX(...Xe,{animationFrame:m==="always"}),elements:{reference:y.anchor},middleware:[KX({mainAxis:s+k,alignmentAxis:o}),c&&HX({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?GX():void 0,...B}),c&&YX({...B}),QX({...B,apply:({elements:Xe,rects:He,availableWidth:xt,availableHeight:ct})=>{const{width:zt,height:Sr}=He.reference,dn=Xe.floating.style;dn.setProperty("--radix-popper-available-width",`${xt}px`),dn.setProperty("--radix-popper-available-height",`${ct}px`),dn.setProperty("--radix-popper-anchor-width",`${zt}px`),dn.setProperty("--radix-popper-anchor-height",`${Sr}px`)}}),_&&JX({element:_,padding:l}),iJ({arrowWidth:N,arrowHeight:k}),h&&XX({strategy:"referenceHidden",...B})]}),[M,$]=fL(L),ee=Jr(g);jr(()=>{K&&(ee==null||ee())},[K,ee]);const D=(de=R.arrow)==null?void 0:de.x,ie=(qe=R.arrow)==null?void 0:qe.y,ve=((ae=R.arrow)==null?void 0:ae.centerOffset)!==0,[Ve,Ke]=x.useState();return jr(()=>{b&&Ke(window.getComputedStyle(b).zIndex)},[b]),a.jsx("div",{ref:T.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:K?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(je=R.transformOrigin)==null?void 0:je.x,(Y=R.transformOrigin)==null?void 0:Y.y].join(" "),...((Q=R.hide)==null?void 0:Q.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(rJ,{scope:r,placedSide:M,onArrowChange:j,arrowX:D,arrowY:ie,shouldHideArrow:ve,children:a.jsx(Qe.div,{"data-side":M,"data-align":$,...p,ref:w,style:{...p.style,animation:K?void 0:"none"}})})})});cL.displayName=ON;var uL="PopperArrow",sJ={top:"bottom",right:"left",bottom:"top",left:"right"},dL=x.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=nJ(uL,n),o=sJ[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(eJ,{...s,ref:r,style:{...s.style,display:"block"}})})});dL.displayName=uL;function aJ(e){return e!==null}var iJ=e=>({name:"transformOrigin",options:e,fn(t){var y,b,v;const{placement:r,rects:n,middlewareData:s}=t,o=((y=s.arrow)==null?void 0:y.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=fL(r),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=s.arrow)==null?void 0:b.x)??0)+l/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let g="",p="";return u==="bottom"?(g=o?f:`${h}px`,p=`${-c}px`):u==="top"?(g=o?f:`${h}px`,p=`${n.floating.height+c}px`):u==="right"?(g=`${-c}px`,p=o?f:`${m}px`):u==="left"&&(g=`${n.floating.width+c}px`,p=o?f:`${m}px`),{data:{x:g,y:p}}}});function fL(e){const[t,r="center"]=e.split("-");return[t,r]}var hL=iL,mL=lL,pL=cL,gL=dL,Iw="rovingFocusGroup.onEntryFocus",oJ={bubbles:!1,cancelable:!0},op="RovingFocusGroup",[i_,vL,lJ]=Rx(op),[cJ,Fx]=Us(op,[lJ]),[uJ,dJ]=cJ(op),yL=x.forwardRef((e,t)=>a.jsx(i_.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(i_.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(fJ,{...e,ref:t})})}));yL.displayName=op;var fJ=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=x.useRef(null),m=gt(t,h),g=ef(i),[p,y]=Ja({prop:o,defaultProp:l??null,onChange:c,caller:op}),[b,v]=x.useState(!1),w=Jr(u),_=vL(r),j=x.useRef(!1),[S,N]=x.useState(0);return x.useEffect(()=>{const k=h.current;if(k)return k.addEventListener(Iw,w),()=>k.removeEventListener(Iw,w)},[w]),a.jsx(uJ,{scope:r,orientation:n,dir:g,loop:s,currentTabStopId:p,onItemFocus:x.useCallback(k=>y(k),[y]),onItemShiftTab:x.useCallback(()=>v(!0),[]),onFocusableItemAdd:x.useCallback(()=>N(k=>k+1),[]),onFocusableItemRemove:x.useCallback(()=>N(k=>k-1),[]),children:a.jsx(Qe.div,{tabIndex:b||S===0?-1:0,"data-orientation":n,...f,ref:m,style:{outline:"none",...e.style},onMouseDown:Pe(e.onMouseDown,()=>{j.current=!0}),onFocus:Pe(e.onFocus,k=>{const C=!j.current;if(k.target===k.currentTarget&&C&&!b){const E=new CustomEvent(Iw,oJ);if(k.currentTarget.dispatchEvent(E),!E.defaultPrevented){const I=_().filter(L=>L.focusable),O=I.find(L=>L.active),B=I.find(L=>L.id===p),V=[O,B,...I].filter(Boolean).map(L=>L.ref.current);wL(V,d)}}j.current=!1}),onBlur:Pe(e.onBlur,()=>v(!1))})})}),xL="RovingFocusGroupItem",bL=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=Ts(),u=i||c,d=dJ(xL,r),f=d.currentTabStopId===u,h=vL(r),{onFocusableItemAdd:m,onFocusableItemRemove:g,currentTabStopId:p}=d;return x.useEffect(()=>{if(n)return m(),()=>g()},[n,m,g]),a.jsx(i_.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Qe.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:Pe(e.onMouseDown,y=>{n?d.onItemFocus(u):y.preventDefault()}),onFocus:Pe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Pe(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){d.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const b=pJ(y,d.orientation,d.dir);if(b!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=h().filter(_=>_.focusable).map(_=>_.ref.current);if(b==="last")w.reverse();else if(b==="prev"||b==="next"){b==="prev"&&w.reverse();const _=w.indexOf(y.currentTarget);w=d.loop?gJ(w,_+1):w.slice(_+1)}setTimeout(()=>wL(w))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:p!=null}):o})})});bL.displayName=xL;var hJ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mJ(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pJ(e,t,r){const n=mJ(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return hJ[n]}function wL(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function gJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var jL=yL,_L=bL;function vJ(e){const t=yJ(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(bJ);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function yJ(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=jJ(s),l=wJ(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xJ=Symbol("radix.slottable");function bJ(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xJ}function wJ(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function jJ(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var o_=["Enter"," "],_J=["ArrowDown","PageUp","Home"],SL=["ArrowUp","PageDown","End"],SJ=[..._J,...SL],NJ={ltr:[...o_,"ArrowRight"],rtl:[...o_,"ArrowLeft"]},kJ={ltr:["ArrowLeft"],rtl:["ArrowRight"]},lp="Menu",[nm,CJ,EJ]=Rx(lp),[Pc,NL]=Us(lp,[EJ,Lx,Fx]),Ux=Lx(),kL=Fx(),[PJ,Oc]=Pc(lp),[OJ,cp]=Pc(lp),CL=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=Ux(t),[c,u]=x.useState(null),d=x.useRef(!1),f=Jr(i),h=ef(s);return x.useEffect(()=>{const m=()=>{d.current=!0,document.addEventListener("pointerdown",g,{capture:!0,once:!0}),document.addEventListener("pointermove",g,{capture:!0,once:!0})},g=()=>d.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",g,{capture:!0}),document.removeEventListener("pointermove",g,{capture:!0})}},[]),a.jsx(hL,{...l,children:a.jsx(PJ,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(OJ,{scope:t,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:o,children:n})})})};CL.displayName=lp;var AJ="MenuAnchor",AN=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ux(r);return a.jsx(mL,{...s,...n,ref:t})});AN.displayName=AJ;var TN="MenuPortal",[TJ,EL]=Pc(TN,{forceMount:void 0}),PL=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Oc(TN,t);return a.jsx(TJ,{scope:t,forceMount:r,children:a.jsx(Yn,{present:r||i.open,children:a.jsx(Nx,{asChild:!0,container:s,children:n})})})};PL.displayName=TN;var Rs="MenuContent",[RJ,RN]=Pc(Rs),OL=x.forwardRef((e,t)=>{const r=EL(Rs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Oc(Rs,e.__scopeMenu),o=cp(Rs,e.__scopeMenu);return a.jsx(nm.Provider,{scope:e.__scopeMenu,children:a.jsx(Yn,{present:n||i.open,children:a.jsx(nm.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(MJ,{...s,ref:t}):a.jsx($J,{...s,ref:t})})})})}),MJ=x.forwardRef((e,t)=>{const r=Oc(Rs,e.__scopeMenu),n=x.useRef(null),s=gt(t,n);return x.useEffect(()=>{const i=n.current;if(i)return uN(i)},[]),a.jsx(MN,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Pe(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),$J=x.forwardRef((e,t)=>{const r=Oc(Rs,e.__scopeMenu);return a.jsx(MN,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),IJ=vJ("MenuContent.ScrollLock"),MN=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,disableOutsideScroll:g,...p}=e,y=Oc(Rs,r),b=cp(Rs,r),v=Ux(r),w=kL(r),_=CJ(r),[j,S]=x.useState(null),N=x.useRef(null),k=gt(t,N,y.onContentChange),C=x.useRef(0),E=x.useRef(""),I=x.useRef(0),O=x.useRef(null),B=x.useRef("right"),T=x.useRef(0),V=g?Cx:x.Fragment,L=g?{as:IJ,allowPinchZoom:!0}:void 0,K=M=>{var de,qe;const $=E.current+M,ee=_().filter(ae=>!ae.disabled),D=document.activeElement,ie=(de=ee.find(ae=>ae.ref.current===D))==null?void 0:de.textValue,ve=ee.map(ae=>ae.textValue),Ve=GJ(ve,$,ie),Ke=(qe=ee.find(ae=>ae.textValue===Ve))==null?void 0:qe.ref.current;(function ae(je){E.current=je,window.clearTimeout(C.current),je!==""&&(C.current=window.setTimeout(()=>ae(""),1e3))})($),Ke&&setTimeout(()=>Ke.focus())};x.useEffect(()=>()=>window.clearTimeout(C.current),[]),cN();const R=x.useCallback(M=>{var ee,D;return B.current===((ee=O.current)==null?void 0:ee.side)&&QJ(M,(D=O.current)==null?void 0:D.area)},[]);return a.jsx(RJ,{scope:r,searchRef:E,onItemEnter:x.useCallback(M=>{R(M)&&M.preventDefault()},[R]),onItemLeave:x.useCallback(M=>{var $;R(M)||(($=N.current)==null||$.focus(),S(null))},[R]),onTriggerLeave:x.useCallback(M=>{R(M)&&M.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:x.useCallback(M=>{O.current=M},[]),children:a.jsx(V,{...L,children:a.jsx(Sx,{asChild:!0,trapped:s,onMountAutoFocus:Pe(i,M=>{var $;M.preventDefault(),($=N.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(_x,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:m,children:a.jsx(jL,{asChild:!0,...w,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:j,onCurrentTabStopIdChange:S,onEntryFocus:Pe(c,M=>{b.isUsingKeyboardRef.current||M.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(pL,{role:"menu","aria-orientation":"vertical","data-state":KL(y.open),"data-radix-menu-content":"",dir:b.dir,...v,...p,ref:k,style:{outline:"none",...p.style},onKeyDown:Pe(p.onKeyDown,M=>{const ee=M.target.closest("[data-radix-menu-content]")===M.currentTarget,D=M.ctrlKey||M.altKey||M.metaKey,ie=M.key.length===1;ee&&(M.key==="Tab"&&M.preventDefault(),!D&&ie&&K(M.key));const ve=N.current;if(M.target!==ve||!SJ.includes(M.key))return;M.preventDefault();const Ke=_().filter(de=>!de.disabled).map(de=>de.ref.current);SL.includes(M.key)&&Ke.reverse(),KJ(Ke)}),onBlur:Pe(e.onBlur,M=>{M.currentTarget.contains(M.target)||(window.clearTimeout(C.current),E.current="")}),onPointerMove:Pe(e.onPointerMove,sm(M=>{const $=M.target,ee=T.current!==M.clientX;if(M.currentTarget.contains($)&&ee){const D=M.clientX>T.current?"right":"left";B.current=D,T.current=M.clientX}}))})})})})})})});OL.displayName=Rs;var DJ="MenuGroup",$N=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"group",...n,ref:t})});$N.displayName=DJ;var LJ="MenuLabel",AL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{...n,ref:t})});AL.displayName=LJ;var Av="MenuItem",sP="menu.itemSelect",Bx=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=x.useRef(null),o=cp(Av,e.__scopeMenu),l=RN(Av,e.__scopeMenu),c=gt(t,i),u=x.useRef(!1),d=()=>{const f=i.current;if(!r&&f){const h=new CustomEvent(sP,{bubbles:!0,cancelable:!0});f.addEventListener(sP,m=>n==null?void 0:n(m),{once:!0}),FI(f,h),h.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(TL,{...s,ref:c,disabled:r,onClick:Pe(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:Pe(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:Pe(e.onKeyDown,f=>{const h=l.searchRef.current!=="";r||h&&f.key===" "||o_.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Bx.displayName=Av;var TL=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=RN(Av,r),l=kL(r),c=x.useRef(null),u=gt(t,c),[d,f]=x.useState(!1),[h,m]=x.useState("");return x.useEffect(()=>{const g=c.current;g&&m((g.textContent??"").trim())},[i.children]),a.jsx(nm.ItemSlot,{scope:r,disabled:n,textValue:s??h,children:a.jsx(_L,{asChild:!0,...l,focusable:!n,children:a.jsx(Qe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:Pe(e.onPointerMove,sm(g=>{n?o.onItemLeave(g):(o.onItemEnter(g),g.defaultPrevented||g.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Pe(e.onPointerLeave,sm(g=>o.onItemLeave(g))),onFocus:Pe(e.onFocus,()=>f(!0)),onBlur:Pe(e.onBlur,()=>f(!1))})})})}),FJ="MenuCheckboxItem",RL=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(LL,{scope:e.__scopeMenu,checked:r,children:a.jsx(Bx,{role:"menuitemcheckbox","aria-checked":Tv(r)?"mixed":r,...s,ref:t,"data-state":DN(r),onSelect:Pe(s.onSelect,()=>n==null?void 0:n(Tv(r)?!0:!r),{checkForDefaultPrevented:!1})})})});RL.displayName=FJ;var ML="MenuRadioGroup",[UJ,BJ]=Pc(ML,{value:void 0,onValueChange:()=>{}}),$L=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=Jr(n);return a.jsx(UJ,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx($N,{...s,ref:t})})});$L.displayName=ML;var IL="MenuRadioItem",DL=x.forwardRef((e,t)=>{const{value:r,...n}=e,s=BJ(IL,e.__scopeMenu),i=r===s.value;return a.jsx(LL,{scope:e.__scopeMenu,checked:i,children:a.jsx(Bx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":DN(i),onSelect:Pe(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});DL.displayName=IL;var IN="MenuItemIndicator",[LL,qJ]=Pc(IN,{checked:!1}),FL=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=qJ(IN,r);return a.jsx(Yn,{present:n||Tv(i.checked)||i.checked===!0,children:a.jsx(Qe.span,{...s,ref:t,"data-state":DN(i.checked)})})});FL.displayName=IN;var zJ="MenuSeparator",UL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});UL.displayName=zJ;var WJ="MenuArrow",BL=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=Ux(r);return a.jsx(gL,{...s,...n,ref:t})});BL.displayName=WJ;var VJ="MenuSub",[H$e,qL]=Pc(VJ),ah="MenuSubTrigger",zL=x.forwardRef((e,t)=>{const r=Oc(ah,e.__scopeMenu),n=cp(ah,e.__scopeMenu),s=qL(ah,e.__scopeMenu),i=RN(ah,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(AN,{asChild:!0,...u,children:a.jsx(TL,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":KL(r.open),...e,ref:Qi(t,s.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Pe(e.onPointerMove,sm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Pe(e.onPointerLeave,sm(f=>{var m,g;d();const h=(m=r.content)==null?void 0:m.getBoundingClientRect();if(h){const p=(g=r.content)==null?void 0:g.dataset.side,y=p==="right",b=y?-5:5,v=h[y?"left":"right"],w=h[y?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:w,y:h.top},{x:w,y:h.bottom},{x:v,y:h.bottom}],side:p}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Pe(e.onKeyDown,f=>{var m;const h=i.searchRef.current!=="";e.disabled||h&&f.key===" "||NJ[n.dir].includes(f.key)&&(r.onOpenChange(!0),(m=r.content)==null||m.focus(),f.preventDefault())})})})});zL.displayName=ah;var WL="MenuSubContent",VL=x.forwardRef((e,t)=>{const r=EL(Rs,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Oc(Rs,e.__scopeMenu),o=cp(Rs,e.__scopeMenu),l=qL(WL,e.__scopeMenu),c=x.useRef(null),u=gt(t,c);return a.jsx(nm.Provider,{scope:e.__scopeMenu,children:a.jsx(Yn,{present:n||i.open,children:a.jsx(nm.Slot,{scope:e.__scopeMenu,children:a.jsx(MN,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Pe(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Pe(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Pe(e.onKeyDown,d=>{var m;const f=d.currentTarget.contains(d.target),h=kJ[o.dir].includes(d.key);f&&h&&(i.onOpenChange(!1),(m=l.trigger)==null||m.focus(),d.preventDefault())})})})})})});VL.displayName=WL;function KL(e){return e?"open":"closed"}function Tv(e){return e==="indeterminate"}function DN(e){return Tv(e)?"indeterminate":e?"checked":"unchecked"}function KJ(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function HJ(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function GJ(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=HJ(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function YJ(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,f=c.x,h=c.y;d>n!=h>n&&r<(f-u)*(n-d)/(h-d)+u&&(s=!s)}return s}function QJ(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return YJ(r,t)}function sm(e){return t=>t.pointerType==="mouse"?e(t):void 0}var XJ=CL,JJ=AN,ZJ=PL,eZ=OL,tZ=$N,rZ=AL,nZ=Bx,sZ=RL,aZ=$L,iZ=DL,oZ=FL,lZ=UL,cZ=BL,uZ=zL,dZ=VL,qx="DropdownMenu",[fZ]=Us(qx,[NL]),Tn=NL(),[hZ,HL]=fZ(qx),GL=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Tn(t),u=x.useRef(null),[d,f]=Ja({prop:s,defaultProp:i??!1,onChange:o,caller:qx});return a.jsx(hZ,{scope:t,triggerId:Ts(),triggerRef:u,contentId:Ts(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(h=>!h),[f]),modal:l,children:a.jsx(XJ,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};GL.displayName=qx;var YL="DropdownMenuTrigger",QL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=HL(YL,r),o=Tn(r);return a.jsx(JJ,{asChild:!0,...o,children:a.jsx(Qe.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Qi(t,i.triggerRef),onPointerDown:Pe(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:Pe(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});QL.displayName=YL;var mZ="DropdownMenuPortal",XL=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Tn(t);return a.jsx(ZJ,{...n,...r})};XL.displayName=mZ;var JL="DropdownMenuContent",ZL=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=HL(JL,r),i=Tn(r),o=x.useRef(!1);return a.jsx(eZ,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:Pe(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Pe(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ZL.displayName=JL;var pZ="DropdownMenuGroup",gZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(tZ,{...s,...n,ref:t})});gZ.displayName=pZ;var vZ="DropdownMenuLabel",e3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(rZ,{...s,...n,ref:t})});e3.displayName=vZ;var yZ="DropdownMenuItem",t3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(nZ,{...s,...n,ref:t})});t3.displayName=yZ;var xZ="DropdownMenuCheckboxItem",r3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(sZ,{...s,...n,ref:t})});r3.displayName=xZ;var bZ="DropdownMenuRadioGroup",wZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(aZ,{...s,...n,ref:t})});wZ.displayName=bZ;var jZ="DropdownMenuRadioItem",n3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(iZ,{...s,...n,ref:t})});n3.displayName=jZ;var _Z="DropdownMenuItemIndicator",s3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(oZ,{...s,...n,ref:t})});s3.displayName=_Z;var SZ="DropdownMenuSeparator",a3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(lZ,{...s,...n,ref:t})});a3.displayName=SZ;var NZ="DropdownMenuArrow",kZ=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(cZ,{...s,...n,ref:t})});kZ.displayName=NZ;var CZ="DropdownMenuSubTrigger",i3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(uZ,{...s,...n,ref:t})});i3.displayName=CZ;var EZ="DropdownMenuSubContent",o3=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Tn(r);return a.jsx(dZ,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});o3.displayName=EZ;var PZ=GL,OZ=QL,AZ=XL,l3=ZL,c3=e3,u3=t3,d3=r3,f3=n3,h3=s3,m3=a3,p3=i3,g3=o3;const Ms=PZ,$s=OZ,TZ=x.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(p3,{ref:s,className:J("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Tr,{className:"ml-auto h-4 w-4"})]}));TZ.displayName=p3.displayName;const RZ=x.forwardRef(({className:e,...t},r)=>a.jsx(g3,{ref:r,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));RZ.displayName=g3.displayName;const fs=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(AZ,{children:a.jsx(l3,{ref:n,sideOffset:t,className:J("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));fs.displayName=l3.displayName;const Rt=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(u3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Rt.displayName=u3.displayName;const MZ=x.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(d3,{ref:s,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h3,{children:a.jsx(Qd,{className:"h-4 w-4"})})}),t]}));MZ.displayName=d3.displayName;const $Z=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(f3,{ref:n,className:J("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(h3,{children:a.jsx(Jj,{className:"h-2 w-2 fill-current"})})}),t]}));$Z.displayName=f3.displayName;const v3=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(c3,{ref:n,className:J("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));v3.displayName=c3.displayName;const l_=x.forwardRef(({className:e,...t},r)=>a.jsx(m3,{ref:r,className:J("-mx-1 my-1 h-px bg-border",e),...t}));l_.displayName=m3.displayName;function IZ({open:e,onOpenChange:t,onConfirm:r,isConfirming:n=!1,className:s}){const i=async()=>{await r(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:J("max-w-[640px] rounded-[10px] border border-border bg-card shadow-lg",s),"aria-describedby":"logout-confirm-description",children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-muted",children:a.jsx(_I,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0})}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx(Te,{children:"Sign out"}),a.jsx(Re,{id:"logout-confirm-description",children:"Are you sure you want to sign out? You can sign in again anytime."})]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"button",variant:"default",onClick:i,disabled:n,className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-md",children:n?"Signing out":"Sign out"})]})]})})}function DZ({className:e}){var d;const{user:t,signOut:r,isLoading:n}=gx(),s=ul(),[i,o]=x.useState(!1),[l,c]=x.useState(!1),u=async()=>{c(!0),await r(),c(!1),o(!1),s("/",{replace:!0})};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:J("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ye,{type:"search",placeholder:"Search...",className:"pl-9 rounded-md border-border","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(e7,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(ue,{to:"/help","aria-label":"Help",children:a.jsx(Xd,{className:"h-4 w-4"})})}),!n&&(t?a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",className:"relative h-10 w-10 rounded-full transition-all hover:scale-[1.02]","aria-label":"Account menu",children:a.jsxs(Ax,{className:"h-10 w-10",children:[a.jsx(jN,{src:(d=t.user_metadata)==null?void 0:d.avatar_url,alt:t.email??"User"}),a.jsx(Tx,{className:"bg-primary/20 text-primary",children:a.jsx(sp,{className:"h-5 w-5"})})]})})}),a.jsxs(fs,{align:"end",className:"w-56 rounded-md border-border bg-card shadow-lg",children:[a.jsx(v3,{children:a.jsx("span",{className:"font-normal text-muted-foreground",children:t.email})}),a.jsx(l_,{}),a.jsx(Rt,{asChild:!0,children:a.jsx(ue,{to:"/profile",children:"Profile"})}),a.jsx(Rt,{asChild:!0,children:a.jsx(ue,{to:"/settings",children:"Settings"})}),a.jsx(l_,{}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onSelect:f=>{f.preventDefault(),o(!0)},children:[a.jsx(_I,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Log out"]})]})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/login",children:"Sign in"})}),a.jsx(P,{size:"sm",asChild:!0,children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]}))]})]}),a.jsx(IZ,{open:i,onOpenChange:o,onConfirm:u,isConfirming:l})]})}function LZ(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(yQ,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(DZ,{}),a.jsx("main",{className:J("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(D4,{})})]})]})}const X=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));X.displayName="Card";const te=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));te.displayName="CardHeader";const ne=x.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:J("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const pe=x.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:J("text-sm text-muted-foreground",e),...t}));pe.displayName="CardDescription";const Z=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Z.displayName="CardContent";const FZ=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:J("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));FZ.displayName="CardFooter";const UZ="reveal-visible";function ng(e){const t=x.useRef(null),[r,n]=x.useState(!1);return x.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(UZ))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const BZ=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],qZ=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],zZ=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],WZ={MessageSquare:tp,Zap:TI,Smartphone:p7,Globe:c7,Shield:Rr,Clock:Lo};function VZ(){const[e,t]=x.useState(null),r=ng(),n=ng(),s=ng(),i=ng();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(P,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(P,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Xo,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(P,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:BZ.map((o,l)=>a.jsx(KZ,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:J("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:qZ.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:J("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:zZ.map(o=>a.jsxs(X,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-lg",children:o.planName}),a.jsx(pe,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Z,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(Me,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(Oe,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:e.planName}),a.jsx(Re,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(P,{asChild:!0,className:"mt-6 w-full",children:a.jsx(ue,{to:"/signup",children:"Get started"})})]})})})]})}function KZ({feature:e,index:t}){const r=WZ[e.iconName]??TI;return a.jsx(X,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(te,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ne,{className:"text-lg",children:e.name}),a.jsx(pe,{children:e.description})]})})}var up=e=>e.type==="checkbox",Ll=e=>e instanceof Date,Fn=e=>e==null;const y3=e=>typeof e=="object";var Mr=e=>!Fn(e)&&!Array.isArray(e)&&y3(e)&&!Ll(e),HZ=e=>Mr(e)&&e.target?up(e.target)?e.target.checked:e.target.value:e,GZ=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,YZ=(e,t)=>e.has(GZ(t)),QZ=e=>{const t=e.constructor&&e.constructor.prototype;return Mr(t)&&t.hasOwnProperty("isPrototypeOf")},LN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lr(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(LN&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!(Mr(e)&&QZ(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Lr(e[s]));return n}var zx=e=>/^\w*$/.test(e),lr=e=>e===void 0,FN=e=>Array.isArray(e)?e.filter(Boolean):[],UN=e=>FN(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Le=(e,t,r)=>{if(!t||!Mr(e))return r;const n=(zx(t)?[t]:UN(t)).reduce((s,i)=>Fn(s)?s:s[i],e);return lr(n)||n===e?lr(e[t])?r:e[t]:n},Ma=e=>typeof e=="boolean",ua=e=>typeof e=="function",Wt=(e,t,r)=>{let n=-1;const s=zx(t)?[t]:UN(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=Mr(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const aP={BLUR:"blur",FOCUS_OUT:"focusout"},da={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ui={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},XZ=A.createContext(null);XZ.displayName="HookFormControlContext";var JZ=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==da.all&&(t._proxyFormState[o]=!n||da.all),e[o]}});return s};const ZZ=typeof window<"u"?A.useLayoutEffect:A.useEffect;var as=e=>typeof e=="string",eee=(e,t,r,n,s)=>as(e)?(n&&t.watch.add(e),Le(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),Le(r,i))):(n&&(t.watchAll=!0),r),c_=e=>Fn(e)||!y3(e);function So(e,t,r=new WeakSet){if(c_(e)||c_(t))return Object.is(e,t);if(Ll(e)&&Ll(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(Ll(o)&&Ll(l)||Mr(o)&&Mr(l)||Array.isArray(o)&&Array.isArray(l)?!So(o,l,r):!Object.is(o,l))return!1}}return!0}const tee=A.createContext(null);tee.displayName="HookFormContext";var x3=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},wh=e=>Array.isArray(e)?e:[e],iP=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function b3(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&Mr(s)&&i){const o=b3(s,i);Mr(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var Sn=e=>Mr(e)&&!Object.keys(e).length,BN=e=>e.type==="file",Rv=e=>{if(!LN)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},w3=e=>e.type==="select-multiple",qN=e=>e.type==="radio",ree=e=>qN(e)||up(e),Dw=e=>Rv(e)&&e.isConnected;function nee(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=lr(e)?n++:e[t[n++]];return e}function see(e){for(const t in e)if(e.hasOwnProperty(t)&&!lr(e[t]))return!1;return!0}function kr(e,t){const r=Array.isArray(t)?t:zx(t)?[t]:UN(t),n=r.length===1?e:nee(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Mr(n)&&Sn(n)||Array.isArray(n)&&see(n))&&kr(e,r.slice(0,-1)),e}var aee=e=>{for(const t in e)if(ua(e[t]))return!0;return!1};function j3(e){return Array.isArray(e)||Mr(e)&&!aee(e)}function u_(e,t={}){for(const r in e){const n=e[r];j3(n)?(t[r]=Array.isArray(n)?[]:{},u_(n,t[r])):lr(n)||(t[r]=!0)}return t}function au(e,t,r){r||(r=u_(t));for(const n in e){const s=e[n];if(j3(s))lr(t)||c_(r[n])?r[n]=u_(s,Array.isArray(s)?[]:{}):au(s,Fn(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!So(s,i)}}return r}const oP={value:!1,isValid:!1},lP={value:!0,isValid:!0};var _3=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!lr(e[0].attributes.value)?lr(e[0].value)||e[0].value===""?lP:{value:e[0].value,isValid:!0}:lP:oP}return oP},S3=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>lr(e)?e:t?e===""?NaN:e&&+e:r&&as(e)?new Date(e):n?n(e):e;const cP={isValid:!1,value:null};var N3=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,cP):cP;function uP(e){const t=e.ref;return BN(t)?t.files:qN(t)?N3(e.refs).value:w3(t)?[...t.selectedOptions].map(({value:r})=>r):up(t)?_3(e.refs).value:S3(lr(t.value)?e.ref.value:t.value,e)}var iee=(e,t,r,n)=>{const s={};for(const i of e){const o=Le(t,i);o&&Wt(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Mv=e=>e instanceof RegExp,Rf=e=>lr(e)?e:Mv(e)?e.source:Mr(e)?Mv(e.value)?e.value.source:e.value:e,dP=e=>({isOnSubmit:!e||e===da.onSubmit,isOnBlur:e===da.onBlur,isOnChange:e===da.onChange,isOnAll:e===da.all,isOnTouch:e===da.onTouched});const fP="AsyncFunction";var oee=e=>!!e&&!!e.validate&&!!(ua(e.validate)&&e.validate.constructor.name===fP||Mr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===fP)),lee=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),hP=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const jh=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=Le(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(jh(l,t))break}else if(Mr(l)&&jh(l,t))break}}};function mP(e,t,r){const n=Le(e,r);if(n||zx(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=Le(t,i),l=Le(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var cee=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return Sn(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||da.all))},uee=(e,t,r)=>!e||!t||e===t||wh(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),dee=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,fee=(e,t)=>!FN(Le(e,t)).length&&kr(e,t),hee=(e,t,r)=>{const n=wh(Le(e,r));return Wt(n,"root",t[r]),Wt(e,r,n),e};function pP(e,t,r="validate"){if(as(e)||Array.isArray(e)&&e.every(as)||Ma(e)&&!e)return{type:r,message:as(e)?e:"",ref:t}}var Qc=e=>Mr(e)&&!Mv(e)?e:{value:e,message:""},gP=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:h,pattern:m,validate:g,name:p,valueAsNumber:y,mount:b}=e._f,v=Le(r,p);if(!b||t.has(p))return{};const w=l?l[0]:o,_=O=>{s&&w.reportValidity&&(w.setCustomValidity(Ma(O)?"":O||""),w.reportValidity())},j={},S=qN(o),N=up(o),k=S||N,C=(y||BN(o))&&lr(o.value)&&lr(v)||Rv(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,E=x3.bind(null,p,n,j),I=(O,B,T,V=ui.maxLength,L=ui.minLength)=>{const K=O?B:T;j[p]={type:O?V:L,message:K,ref:o,...E(O?V:L,K)}};if(i?!Array.isArray(v)||!v.length:c&&(!k&&(C||Fn(v))||Ma(v)&&!v||N&&!_3(l).isValid||S&&!N3(l).isValid)){const{value:O,message:B}=as(c)?{value:!!c,message:c}:Qc(c);if(O&&(j[p]={type:ui.required,message:B,ref:w,...E(ui.required,B)},!n))return _(B),j}if(!C&&(!Fn(f)||!Fn(h))){let O,B;const T=Qc(h),V=Qc(f);if(!Fn(v)&&!isNaN(v)){const L=o.valueAsNumber||v&&+v;Fn(T.value)||(O=L>T.value),Fn(V.value)||(B=L<V.value)}else{const L=o.valueAsDate||new Date(v),K=$=>new Date(new Date().toDateString()+" "+$),R=o.type=="time",M=o.type=="week";as(T.value)&&v&&(O=R?K(v)>K(T.value):M?v>T.value:L>new Date(T.value)),as(V.value)&&v&&(B=R?K(v)<K(V.value):M?v<V.value:L<new Date(V.value))}if((O||B)&&(I(!!O,T.message,V.message,ui.max,ui.min),!n))return _(j[p].message),j}if((u||d)&&!C&&(as(v)||i&&Array.isArray(v))){const O=Qc(u),B=Qc(d),T=!Fn(O.value)&&v.length>+O.value,V=!Fn(B.value)&&v.length<+B.value;if((T||V)&&(I(T,O.message,B.message),!n))return _(j[p].message),j}if(m&&!C&&as(v)){const{value:O,message:B}=Qc(m);if(Mv(O)&&!v.match(O)&&(j[p]={type:ui.pattern,message:B,ref:o,...E(ui.pattern,B)},!n))return _(B),j}if(g){if(ua(g)){const O=await g(v,r),B=pP(O,w);if(B&&(j[p]={...B,...E(ui.validate,B.message)},!n))return _(B.message),j}else if(Mr(g)){let O={};for(const B in g){if(!Sn(O)&&!n)break;const T=pP(await g[B](v,r),w,B);T&&(O={...T,...E(B,T.message)},_(T.message),n&&(j[p]=O))}if(!Sn(O)&&(j[p]={ref:w,...O},!n))return j}}return _(!0),j};const mee={mode:da.onSubmit,reValidateMode:da.onChange,shouldFocusError:!0};function pee(e={}){let t={...mee,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ua(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Mr(t.defaultValues)||Mr(t.values)?Lr(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Lr(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={...d};let h={...f};const m={array:iP(),state:iP()},g=t.criteriaMode===da.all,p=F=>H=>{clearTimeout(u),u=setTimeout(F,H)},y=async F=>{if(!o.keepIsValid&&!t.disabled&&(f.isValid||h.isValid||F)){let H;t.resolver?(H=Sn((await k()).errors),b()):H=await E(n,!0),H!==r.isValid&&m.state.next({isValid:H})}},b=(F,H)=>{!t.disabled&&(f.isValidating||f.validatingFields||h.isValidating||h.validatingFields)&&((F||Array.from(l.mount)).forEach(U=>{U&&(H?Wt(r.validatingFields,U,H):kr(r.validatingFields,U))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Sn(r.validatingFields)}))},v=(F,H=[],U,le,he=!0,se=!0)=>{if(le&&U&&!t.disabled){if(o.action=!0,se&&Array.isArray(Le(n,F))){const Ne=U(Le(n,F),le.argA,le.argB);he&&Wt(n,F,Ne)}if(se&&Array.isArray(Le(r.errors,F))){const Ne=U(Le(r.errors,F),le.argA,le.argB);he&&Wt(r.errors,F,Ne),fee(r.errors,F)}if((f.touchedFields||h.touchedFields)&&se&&Array.isArray(Le(r.touchedFields,F))){const Ne=U(Le(r.touchedFields,F),le.argA,le.argB);he&&Wt(r.touchedFields,F,Ne)}(f.dirtyFields||h.dirtyFields)&&(r.dirtyFields=au(s,i)),m.state.next({name:F,isDirty:O(F,H),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Wt(i,F,H)},w=(F,H)=>{Wt(r.errors,F,H),m.state.next({errors:r.errors})},_=F=>{r.errors=F,m.state.next({errors:r.errors,isValid:!1})},j=(F,H,U,le)=>{const he=Le(n,F);if(he){const se=Le(i,F,lr(U)?Le(s,F):U);lr(se)||le&&le.defaultChecked||H?Wt(i,F,H?se:uP(he._f)):V(F,se),o.mount&&!o.action&&y()}},S=(F,H,U,le,he)=>{let se=!1,Ne=!1;const Ot={name:F};if(!t.disabled){if(!U||le){(f.isDirty||h.isDirty)&&(Ne=r.isDirty,r.isDirty=Ot.isDirty=O(),se=Ne!==Ot.isDirty);const At=So(Le(s,F),H);Ne=!!Le(r.dirtyFields,F),At?kr(r.dirtyFields,F):Wt(r.dirtyFields,F,!0),Ot.dirtyFields=r.dirtyFields,se=se||(f.dirtyFields||h.dirtyFields)&&Ne!==!At}if(U){const At=Le(r.touchedFields,F);At||(Wt(r.touchedFields,F,U),Ot.touchedFields=r.touchedFields,se=se||(f.touchedFields||h.touchedFields)&&At!==U)}se&&he&&m.state.next(Ot)}return se?Ot:{}},N=(F,H,U,le)=>{const he=Le(r.errors,F),se=(f.isValid||h.isValid)&&Ma(H)&&r.isValid!==H;if(t.delayError&&U?(c=p(()=>w(F,U)),c(t.delayError)):(clearTimeout(u),c=null,U?Wt(r.errors,F,U):kr(r.errors,F)),(U?!So(he,U):he)||!Sn(le)||se){const Ne={...le,...se&&Ma(H)?{isValid:H}:{},errors:r.errors,name:F};r={...r,...Ne},m.state.next(Ne)}},k=async F=>(b(F,!0),await t.resolver(i,t.context,iee(F||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),C=async F=>{const{errors:H}=await k(F);if(b(F),F)for(const U of F){const le=Le(H,U);le?Wt(r.errors,U,le):kr(r.errors,U)}else r.errors=H;return H},E=async(F,H,U={valid:!0})=>{for(const le in F){const he=F[le];if(he){const{_f:se,...Ne}=he;if(se){const Ot=l.array.has(se.name),At=he._f&&oee(he._f);At&&f.validatingFields&&b([se.name],!0);const Nr=await gP(he,l.disabled,i,g,t.shouldUseNativeValidation&&!H,Ot);if(At&&f.validatingFields&&b([se.name]),Nr[se.name]&&(U.valid=!1,H||e.shouldUseNativeValidation))break;!H&&(Le(Nr,se.name)?Ot?hee(r.errors,Nr,se.name):Wt(r.errors,se.name,Nr[se.name]):kr(r.errors,se.name))}!Sn(Ne)&&await E(Ne,H,U)}}return U.valid},I=()=>{for(const F of l.unMount){const H=Le(n,F);H&&(H._f.refs?H._f.refs.every(U=>!Dw(U)):!Dw(H._f.ref))&&qe(F)}l.unMount=new Set},O=(F,H)=>!t.disabled&&(F&&H&&Wt(i,F,H),!So(ee(),s)),B=(F,H,U)=>eee(F,l,{...o.mount?i:lr(H)?s:as(F)?{[F]:H}:H},U,H),T=F=>FN(Le(o.mount?i:s,F,t.shouldUnregister?Le(s,F,[]):[])),V=(F,H,U={})=>{const le=Le(n,F);let he=H;if(le){const se=le._f;se&&(!se.disabled&&Wt(i,F,S3(H,se)),he=Rv(se.ref)&&Fn(H)?"":H,w3(se.ref)?[...se.ref.options].forEach(Ne=>Ne.selected=he.includes(Ne.value)):se.refs?up(se.ref)?se.refs.forEach(Ne=>{(!Ne.defaultChecked||!Ne.disabled)&&(Array.isArray(he)?Ne.checked=!!he.find(Ot=>Ot===Ne.value):Ne.checked=he===Ne.value||!!he)}):se.refs.forEach(Ne=>Ne.checked=Ne.value===he):BN(se.ref)?se.ref.value="":(se.ref.value=he,se.ref.type||m.state.next({name:F,values:Lr(i)})))}(U.shouldDirty||U.shouldTouch)&&S(F,he,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&$(F)},L=(F,H,U)=>{for(const le in H){if(!H.hasOwnProperty(le))return;const he=H[le],se=F+"."+le,Ne=Le(n,se);(l.array.has(F)||Mr(he)||Ne&&!Ne._f)&&!Ll(he)?L(se,he,U):V(se,he,U)}},K=(F,H,U={})=>{const le=Le(n,F),he=l.array.has(F),se=Lr(H);Wt(i,F,se),he?(m.array.next({name:F,values:Lr(i)}),(f.isDirty||f.dirtyFields||h.isDirty||h.dirtyFields)&&U.shouldDirty&&m.state.next({name:F,dirtyFields:au(s,i),isDirty:O(F,se)})):le&&!le._f&&!Fn(se)?L(F,se,U):V(F,se,U),hP(F,l)?m.state.next({...r,name:F,values:Lr(i)}):m.state.next({name:o.mount?F:void 0,values:Lr(i)})},R=async F=>{o.mount=!0;const H=F.target;let U=H.name,le=!0;const he=Le(n,U),se=At=>{le=Number.isNaN(At)||Ll(At)&&isNaN(At.getTime())||So(At,Le(i,U,At))},Ne=dP(t.mode),Ot=dP(t.reValidateMode);if(he){let At,Nr;const li=H.type?uP(he._f):HZ(F),Ks=F.type===aP.BLUR||F.type===aP.FOCUS_OUT,bf=!lee(he._f)&&!t.resolver&&!Le(r.errors,U)&&!he._f.deps||dee(Ks,Le(r.touchedFields,U),r.isSubmitted,Ot,Ne),Aa=hP(U,l,Ks);Wt(i,U,li),Ks?(!H||!H.readOnly)&&(he._f.onBlur&&he._f.onBlur(F),c&&c(0)):he._f.onChange&&he._f.onChange(F);const Fc=S(U,li,Ks),ro=!Sn(Fc)||Aa;if(!Ks&&m.state.next({name:U,type:F.type,values:Lr(i)}),bf)return(f.isValid||h.isValid)&&(t.mode==="onBlur"?Ks&&y():Ks||y()),ro&&m.state.next({name:U,...Aa?{}:Fc});if(!Ks&&Aa&&m.state.next({...r}),t.resolver){const{errors:_p}=await k([U]);if(b([U]),se(li),le){const Bb=mP(r.errors,n,U),wf=mP(_p,n,Bb.name||U);At=wf.error,U=wf.name,Nr=Sn(_p)}}else b([U],!0),At=(await gP(he,l.disabled,i,g,t.shouldUseNativeValidation))[U],b([U]),se(li),le&&(At?Nr=!1:(f.isValid||h.isValid)&&(Nr=await E(n,!0)));le&&(he._f.deps&&(!Array.isArray(he._f.deps)||he._f.deps.length>0)&&$(he._f.deps),N(U,Nr,At,Fc))}},M=(F,H)=>{if(Le(r.errors,H)&&F.focus)return F.focus(),1},$=async(F,H={})=>{let U,le;const he=wh(F);if(t.resolver){const se=await C(lr(F)?F:he);U=Sn(se),le=F?!he.some(Ne=>Le(se,Ne)):U}else F?(le=(await Promise.all(he.map(async se=>{const Ne=Le(n,se);return await E(Ne&&Ne._f?{[se]:Ne}:Ne)}))).every(Boolean),!(!le&&!r.isValid)&&y()):le=U=await E(n);return m.state.next({...!as(F)||(f.isValid||h.isValid)&&U!==r.isValid?{}:{name:F},...t.resolver||!F?{isValid:U}:{},errors:r.errors}),H.shouldFocus&&!le&&jh(n,M,F?he:l.mount),le},ee=(F,H)=>{let U={...o.mount?i:s};return H&&(U=b3(H.dirtyFields?r.dirtyFields:r.touchedFields,U)),lr(F)?U:as(F)?Le(U,F):F.map(le=>Le(U,le))},D=(F,H)=>({invalid:!!Le((H||r).errors,F),isDirty:!!Le((H||r).dirtyFields,F),error:Le((H||r).errors,F),isValidating:!!Le(r.validatingFields,F),isTouched:!!Le((H||r).touchedFields,F)}),ie=F=>{F&&wh(F).forEach(H=>kr(r.errors,H)),m.state.next({errors:F?r.errors:{}})},ve=(F,H,U)=>{const le=(Le(n,F,{_f:{}})._f||{}).ref,he=Le(r.errors,F)||{},{ref:se,message:Ne,type:Ot,...At}=he;Wt(r.errors,F,{...At,...H,ref:le}),m.state.next({name:F,errors:r.errors,isValid:!1}),U&&U.shouldFocus&&le&&le.focus&&le.focus()},Ve=(F,H)=>ua(F)?m.state.subscribe({next:U=>"values"in U&&F(B(void 0,H),U)}):B(F,H,!0),Ke=F=>m.state.subscribe({next:H=>{uee(F.name,H.name,F.exact)&&cee(H,F.formState||f,Sr,F.reRenderRoot)&&F.callback({values:{...i},...r,...H,defaultValues:s})}}).unsubscribe,de=F=>(o.mount=!0,h={...h,...F.formState},Ke({...F,formState:{...d,...F.formState}})),qe=(F,H={})=>{for(const U of F?wh(F):l.mount)l.mount.delete(U),l.array.delete(U),H.keepValue||(kr(n,U),kr(i,U)),!H.keepError&&kr(r.errors,U),!H.keepDirty&&kr(r.dirtyFields,U),!H.keepTouched&&kr(r.touchedFields,U),!H.keepIsValidating&&kr(r.validatingFields,U),!t.shouldUnregister&&!H.keepDefaultValue&&kr(s,U);m.state.next({values:Lr(i)}),m.state.next({...r,...H.keepDirty?{isDirty:O()}:{}}),!H.keepIsValid&&y()},ae=({disabled:F,name:H})=>{if(Ma(F)&&o.mount||F||l.disabled.has(H)){const he=l.disabled.has(H)!==!!F;F?l.disabled.add(H):l.disabled.delete(H),he&&o.mount&&!o.action&&y()}},je=(F,H={})=>{let U=Le(n,F);const le=Ma(H.disabled)||Ma(t.disabled);return Wt(n,F,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:F}},name:F,mount:!0,...H}}),l.mount.add(F),U?ae({disabled:Ma(H.disabled)?H.disabled:t.disabled,name:F}):j(F,!0,H.value),{...le?{disabled:H.disabled||t.disabled}:{},...t.progressive?{required:!!H.required,min:Rf(H.min),max:Rf(H.max),minLength:Rf(H.minLength),maxLength:Rf(H.maxLength),pattern:Rf(H.pattern)}:{},name:F,onChange:R,onBlur:R,ref:he=>{if(he){je(F,H),U=Le(n,F);const se=lr(he.value)&&he.querySelectorAll&&he.querySelectorAll("input,select,textarea")[0]||he,Ne=ree(se),Ot=U._f.refs||[];if(Ne?Ot.find(At=>At===se):se===U._f.ref)return;Wt(n,F,{_f:{...U._f,...Ne?{refs:[...Ot.filter(Dw),se,...Array.isArray(Le(s,F))?[{}]:[]],ref:{type:se.type,name:F}}:{ref:se}}}),j(F,!1,void 0,se)}else U=Le(n,F,{}),U._f&&(U._f.mount=!1),(t.shouldUnregister||H.shouldUnregister)&&!(YZ(l.array,F)&&o.action)&&l.unMount.add(F)}}},Y=()=>t.shouldFocusError&&jh(n,M,l.mount),Q=F=>{Ma(F)&&(m.state.next({disabled:F}),jh(n,(H,U)=>{const le=Le(n,U);le&&(H.disabled=le._f.disabled||F,Array.isArray(le._f.refs)&&le._f.refs.forEach(he=>{he.disabled=le._f.disabled||F}))},0,!1))},Xe=(F,H)=>async U=>{let le;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let he=Lr(i);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:se,values:Ne}=await k();b(),r.errors=se,he=Lr(Ne)}else await E(n);if(l.disabled.size)for(const se of l.disabled)kr(he,se);if(kr(r.errors,"root"),Sn(r.errors)){m.state.next({errors:{}});try{await F(he,U)}catch(se){le=se}}else H&&await H({...r.errors},U),Y(),setTimeout(Y);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Sn(r.errors)&&!le,submitCount:r.submitCount+1,errors:r.errors}),le)throw le},He=(F,H={})=>{Le(n,F)&&(lr(H.defaultValue)?K(F,Lr(Le(s,F))):(K(F,H.defaultValue),Wt(s,F,Lr(H.defaultValue))),H.keepTouched||kr(r.touchedFields,F),H.keepDirty||(kr(r.dirtyFields,F),r.isDirty=H.defaultValue?O(F,Lr(Le(s,F))):O()),H.keepError||(kr(r.errors,F),f.isValid&&y()),m.state.next({...r}))},xt=(F,H={})=>{const U=F?Lr(F):s,le=Lr(U),he=Sn(F),se=he?s:le;if(H.keepDefaultValues||(s=U),!H.keepValues){if(H.keepDirtyValues){const Ne=new Set([...l.mount,...Object.keys(au(s,i))]);for(const Ot of Array.from(Ne)){const At=Le(r.dirtyFields,Ot),Nr=Le(i,Ot),li=Le(se,Ot);At&&!lr(Nr)?Wt(se,Ot,Nr):!At&&!lr(li)&&K(Ot,li)}}else{if(LN&&lr(F))for(const Ne of l.mount){const Ot=Le(n,Ne);if(Ot&&Ot._f){const At=Array.isArray(Ot._f.refs)?Ot._f.refs[0]:Ot._f.ref;if(Rv(At)){const Nr=At.closest("form");if(Nr){Nr.reset();break}}}}if(H.keepFieldsRef)for(const Ne of l.mount)K(Ne,Le(se,Ne));else n={}}i=t.shouldUnregister?H.keepDefaultValues?Lr(s):{}:Lr(se),m.array.next({values:{...se}}),m.state.next({values:{...se}})}l={mount:H.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!H.keepIsValid||!!H.keepDirtyValues||!t.shouldUnregister&&!Sn(se),o.watch=!!t.shouldUnregister,o.keepIsValid=!!H.keepIsValid,o.action=!1,H.keepErrors||(r.errors={}),m.state.next({submitCount:H.keepSubmitCount?r.submitCount:0,isDirty:he?!1:H.keepDirty?r.isDirty:!!(H.keepDefaultValues&&!So(F,s)),isSubmitted:H.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:he?{}:H.keepDirtyValues?H.keepDefaultValues&&i?au(s,i):r.dirtyFields:H.keepDefaultValues&&F?au(s,F):H.keepDirty?r.dirtyFields:{},touchedFields:H.keepTouched?r.touchedFields:{},errors:H.keepErrors?r.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},ct=(F,H)=>xt(ua(F)?F(i):F,{...t.resetOptions,...H}),zt=(F,H={})=>{const U=Le(n,F),le=U&&U._f;if(le){const he=le.refs?le.refs[0]:le.ref;he.focus&&setTimeout(()=>{he.focus(),H.shouldSelect&&ua(he.select)&&he.select()})}},Sr=F=>{r={...r,...F}},ys={control:{register:je,unregister:qe,getFieldState:D,handleSubmit:Xe,setError:ve,_subscribe:Ke,_runSchema:k,_updateIsValidating:b,_focusError:Y,_getWatch:B,_getDirty:O,_setValid:y,_setFieldArray:v,_setDisabledField:ae,_setErrors:_,_getFieldArray:T,_reset:xt,_resetDefaultValues:()=>ua(t.defaultValues)&&t.defaultValues().then(F=>{ct(F,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Q,_subjects:m,_proxyFormState:f,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(F){o=F},get _defaultValues(){return s},get _names(){return l},set _names(F){l=F},get _formState(){return r},get _options(){return t},set _options(F){t={...t,...F}}},subscribe:de,trigger:$,register:je,handleSubmit:Xe,watch:Ve,setValue:K,getValues:ee,reset:ct,resetField:He,clearErrors:ie,unregister:qe,setError:ve,setFocus:zt,getFieldState:D};return{...ys,formControl:ys}}function ut(e={}){const t=A.useRef(void 0),r=A.useRef(void 0),[n,s]=A.useState({isDirty:!1,isValidating:!1,isLoading:ua(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ua(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!ua(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=pee(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,ZZ(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),A.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),A.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),A.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),A.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),A.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),A.useEffect(()=>{var o;e.values&&!So(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),A.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=A.useMemo(()=>JZ(n,i),[i,n]),t.current}const vP=(e,t,r)=>{if(e&&"reportValidity"in e){const n=Le(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},k3=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?vP(n.ref,r,e):n.refs&&n.refs.forEach(s=>vP(s,r,e))}},gee=(e,t)=>{t.shouldUseNativeValidation&&k3(e,t);const r={};for(const n in e){const s=Le(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(vee(t.names||Object.keys(e),n)){const o=Object.assign({},Le(r,n));Wt(o,"root",i),Wt(r,n,o)}else Wt(r,n,i)}return r},vee=(e,t)=>e.some(r=>r.startsWith(t+"."));var yee=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return e.push(f)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=x3(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},dt=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&k3({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:gee(yee(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Et;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Et||(Et={}));var yP;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(yP||(yP={}));const Fe=Et.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yo=e=>{switch(typeof e){case"undefined":return Fe.undefined;case"string":return Fe.string;case"number":return Number.isNaN(e)?Fe.nan:Fe.number;case"boolean":return Fe.boolean;case"function":return Fe.function;case"bigint":return Fe.bigint;case"symbol":return Fe.symbol;case"object":return Array.isArray(e)?Fe.array:e===null?Fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Fe.promise:typeof Map<"u"&&e instanceof Map?Fe.map:typeof Set<"u"&&e instanceof Set?Fe.set:typeof Date<"u"&&e instanceof Date?Fe.date:Fe.object;default:return Fe.unknown}},xe=Et.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Fi extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Fi))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Et.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Fi.create=e=>new Fi(e);const d_=(e,t)=>{let r;switch(e.code){case xe.invalid_type:e.received===Fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case xe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Et.jsonStringifyReplacer)}`;break;case xe.unrecognized_keys:r=`Unrecognized key(s) in object: ${Et.joinValues(e.keys,", ")}`;break;case xe.invalid_union:r="Invalid input";break;case xe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Et.joinValues(e.options)}`;break;case xe.invalid_enum_value:r=`Invalid enum value. Expected ${Et.joinValues(e.options)}, received '${e.received}'`;break;case xe.invalid_arguments:r="Invalid function arguments";break;case xe.invalid_return_type:r="Invalid function return type";break;case xe.invalid_date:r="Invalid date";break;case xe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Et.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case xe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case xe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case xe.custom:r="Invalid input";break;case xe.invalid_intersection_types:r="Intersection results could not be merged";break;case xe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case xe.not_finite:r="Number must be finite";break;default:r=t.defaultError,Et.assertNever(e)}return{message:r}};let xee=d_;function bee(){return xee}const wee=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function Ee(e,t){const r=bee(),n=wee({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===d_?void 0:d_].filter(s=>!!s)});e.common.issues.push(n)}class ms{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Ze;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return ms.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ze;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Ze=Object.freeze({status:"aborted"}),ih=e=>({status:"dirty",value:e}),qs=e=>({status:"valid",value:e}),xP=e=>e.status==="aborted",bP=e=>e.status==="dirty",md=e=>e.status==="valid",$v=e=>typeof Promise<"u"&&e instanceof Promise;var Ue;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ue||(Ue={}));class al{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const wP=(e,t)=>{if(md(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Fi(e.common.issues);return this._error=r,this._error}}};function ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class kt{get description(){return this._def.description}_getType(t){return yo(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:yo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new ms,ctx:{common:t.parent.common,data:t.data,parsedType:yo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if($v(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yo(t)},s=this._parseSync({data:t,path:n.path,parent:n});return wP(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yo(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return md(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>md(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:yo(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await($v(s)?s:Promise.resolve(s));return wP(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:xe.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new vd({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Jo.create(this,this._def)}nullable(){return yd.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ya.create(this)}promise(){return Fv.create(this,this._def)}or(t){return Dv.create([this,t],this._def)}and(t){return Lv.create(this,t,this._def)}transform(t){return new vd({...ht(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new m_({...ht(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new Wee({typeName:et.ZodBranded,type:this,...ht(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new p_({...ht(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return zN.create(this,t)}readonly(){return g_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const jee=/^c[^\s-]{8,}$/i,_ee=/^[0-9a-z]+$/,See=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Nee=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kee=/^[a-z0-9_-]{21}$/i,Cee=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Eee=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Pee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Oee="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Lw;const Aee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Tee=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ree=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Mee=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$ee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Iee=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,C3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Dee=new RegExp(`^${C3}$`);function E3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function Lee(e){return new RegExp(`^${E3(e)}$`)}function Fee(e){let t=`${C3}T${E3(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function Uee(e,t){return!!((t==="v4"||!t)&&Aee.test(e)||(t==="v6"||!t)&&Ree.test(e))}function Bee(e,t){if(!Cee.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function qee(e,t){return!!((t==="v4"||!t)&&Tee.test(e)||(t==="v6"||!t)&&Mee.test(e))}class ji extends kt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Fe.string){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Fe.string,received:i.parsedType}),Ze}const n=new ms;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?Ee(s,{code:xe.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&Ee(s,{code:xe.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")Pee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"email",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")Lw||(Lw=new RegExp(Oee,"u")),Lw.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"emoji",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")Nee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"uuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")kee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"nanoid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")jee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")_ee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cuid2",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")See.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ulid",code:xe.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),Ee(s,{validation:"url",code:xe.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"regex",code:xe.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?Fee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?Dee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?Lee(i).test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?Eee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"duration",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?Uee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"ip",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?Bee(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"jwt",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?qee(t.data,i.version)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"cidr",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?$ee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64",code:xe.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?Iee.test(t.data)||(s=this._getOrReturnCtx(t,s),Ee(s,{validation:"base64url",code:xe.invalid_string,message:i.message}),n.dirty()):Et.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:xe.invalid_string,...Ue.errToObj(n)})}_addCheck(t){return new ji({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ue.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ue.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ue.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ue.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ue.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ue.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ue.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ue.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ue.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ue.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ue.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ue.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ue.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Ue.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ue.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ue.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ue.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ue.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ue.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ue.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ue.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ue.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ue.errToObj(r)})}nonempty(t){return this.min(1,Ue.errToObj(t))}trim(){return new ji({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ji({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}ji.create=e=>new ji({checks:[],typeName:et.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});function zee(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class mc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Fe.number){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Fe.number,received:i.parsedType}),Ze}let n;const s=new ms;for(const i of this._def.checks)i.kind==="int"?Et.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?zee(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_finite,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new mc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new mc({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ue.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ue.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ue.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ue.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Et.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}mc.create=e=>new mc({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class pc extends kt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Fe.bigint)return this._getInvalidInput(t);let n;const s=new ms;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),Ee(n,{code:xe.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Et.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:Fe.bigint,received:r.parsedType}),Ze}gte(t,r){return this.setLimit("min",t,!0,Ue.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ue.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ue.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ue.toString(r))}setLimit(t,r,n,s){return new pc({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ue.toString(s)}]})}_addCheck(t){return new pc({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ue.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ue.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ue.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}pc.create=e=>new pc({checks:[],typeName:et.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ht(e)});class Iv extends kt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Fe.boolean){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.boolean,received:n.parsedType}),Ze}return qs(t.data)}}Iv.create=e=>new Iv({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ht(e)});class pd extends kt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Fe.date){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_type,expected:Fe.date,received:i.parsedType}),Ze}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return Ee(i,{code:xe.invalid_date}),Ze}const n=new ms;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),Ee(s,{code:xe.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Et.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new pd({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ue.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ue.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}pd.create=e=>new pd({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...ht(e)});class jP extends kt{_parse(t){if(this._getType(t)!==Fe.symbol){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.symbol,received:n.parsedType}),Ze}return qs(t.data)}}jP.create=e=>new jP({typeName:et.ZodSymbol,...ht(e)});class _P extends kt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.undefined,received:n.parsedType}),Ze}return qs(t.data)}}_P.create=e=>new _P({typeName:et.ZodUndefined,...ht(e)});class SP extends kt{_parse(t){if(this._getType(t)!==Fe.null){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.null,received:n.parsedType}),Ze}return qs(t.data)}}SP.create=e=>new SP({typeName:et.ZodNull,...ht(e)});class NP extends kt{constructor(){super(...arguments),this._any=!0}_parse(t){return qs(t.data)}}NP.create=e=>new NP({typeName:et.ZodAny,...ht(e)});class kP extends kt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return qs(t.data)}}kP.create=e=>new kP({typeName:et.ZodUnknown,...ht(e)});class il extends kt{_parse(t){const r=this._getOrReturnCtx(t);return Ee(r,{code:xe.invalid_type,expected:Fe.never,received:r.parsedType}),Ze}}il.create=e=>new il({typeName:et.ZodNever,...ht(e)});class CP extends kt{_parse(t){if(this._getType(t)!==Fe.undefined){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.void,received:n.parsedType}),Ze}return qs(t.data)}}CP.create=e=>new CP({typeName:et.ZodVoid,...ht(e)});class Ya extends kt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==Fe.array)return Ee(r,{code:xe.invalid_type,expected:Fe.array,received:r.parsedType}),Ze;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(Ee(r,{code:o?xe.too_big:xe.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(Ee(r,{code:xe.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(Ee(r,{code:xe.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new al(r,o,r.path,l)))).then(o=>ms.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new al(r,o,r.path,l)));return ms.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new Ya({...this._def,minLength:{value:t,message:Ue.toString(r)}})}max(t,r){return new Ya({...this._def,maxLength:{value:t,message:Ue.toString(r)}})}length(t,r){return new Ya({...this._def,exactLength:{value:t,message:Ue.toString(r)}})}nonempty(t){return this.min(1,t)}}Ya.create=(e,t)=>new Ya({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...ht(t)});function iu(e){if(e instanceof Pr){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Jo.create(iu(n))}return new Pr({...e._def,shape:()=>t})}else return e instanceof Ya?new Ya({...e._def,type:iu(e.element)}):e instanceof Jo?Jo.create(iu(e.unwrap())):e instanceof yd?yd.create(iu(e.unwrap())):e instanceof gc?gc.create(e.items.map(t=>iu(t))):e}class Pr extends kt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Et.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==Fe.object){const u=this._getOrReturnCtx(t);return Ee(u,{code:xe.invalid_type,expected:Fe.object,received:u.parsedType}),Ze}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof il&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],f=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new al(s,f,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof il){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(Ee(s,{code:xe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new al(s,f,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,h=await d.value;u.push({key:f,value:h,alwaysSet:d.alwaysSet})}return u}).then(u=>ms.mergeObjectSync(n,u)):ms.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return Ue.errToObj,new Pr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:Ue.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Pr({...this._def,unknownKeys:"strip"})}passthrough(){return new Pr({...this._def,unknownKeys:"passthrough"})}extend(t){return new Pr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Pr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Pr({...this._def,catchall:t})}pick(t){const r={};for(const n of Et.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Et.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Pr({...this._def,shape:()=>r})}deepPartial(){return iu(this)}partial(t){const r={};for(const n of Et.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Pr({...this._def,shape:()=>r})}required(t){const r={};for(const n of Et.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Jo;)i=i._def.innerType;r[n]=i}return new Pr({...this._def,shape:()=>r})}keyof(){return P3(Et.objectKeys(this.shape))}}Pr.create=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strip",catchall:il.create(),typeName:et.ZodObject,...ht(t)});Pr.strictCreate=(e,t)=>new Pr({shape:()=>e,unknownKeys:"strict",catchall:il.create(),typeName:et.ZodObject,...ht(t)});Pr.lazycreate=(e,t)=>new Pr({shape:e,unknownKeys:"strip",catchall:il.create(),typeName:et.ZodObject,...ht(t)});class Dv extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Fi(l.ctx.common.issues));return Ee(r,{code:xe.invalid_union,unionErrors:o}),Ze}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Fi(c));return Ee(r,{code:xe.invalid_union,unionErrors:l}),Ze}}get options(){return this._def.options}}Dv.create=(e,t)=>new Dv({options:e,typeName:et.ZodUnion,...ht(t)});function f_(e,t){const r=yo(e),n=yo(t);if(e===t)return{valid:!0,data:e};if(r===Fe.object&&n===Fe.object){const s=Et.objectKeys(t),i=Et.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=f_(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Fe.array&&n===Fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=f_(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===Fe.date&&n===Fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Lv extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(xP(i)||xP(o))return Ze;const l=f_(i.value,o.value);return l.valid?((bP(i)||bP(o))&&r.dirty(),{status:r.value,value:l.data}):(Ee(n,{code:xe.invalid_intersection_types}),Ze)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Lv.create=(e,t,r)=>new Lv({left:e,right:t,typeName:et.ZodIntersection,...ht(r)});class gc extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.array)return Ee(n,{code:xe.invalid_type,expected:Fe.array,received:n.parsedType}),Ze;if(n.data.length<this._def.items.length)return Ee(n,{code:xe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ze;!this._def.rest&&n.data.length>this._def.items.length&&(Ee(n,{code:xe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new al(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>ms.mergeArray(r,o)):ms.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new gc({...this._def,rest:t})}}gc.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new gc({items:e,typeName:et.ZodTuple,rest:null,...ht(t)})};class EP extends kt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.map)return Ee(n,{code:xe.invalid_type,expected:Fe.map,received:n.parsedType}),Ze;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new al(n,l,n.path,[u,"key"])),value:i._parse(new al(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Ze;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}EP.create=(e,t,r)=>new EP({valueType:t,keyType:e,typeName:et.ZodMap,...ht(r)});class am extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Fe.set)return Ee(n,{code:xe.invalid_type,expected:Fe.set,received:n.parsedType}),Ze;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(Ee(n,{code:xe.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(Ee(n,{code:xe.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Ze;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new al(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new am({...this._def,minSize:{value:t,message:Ue.toString(r)}})}max(t,r){return new am({...this._def,maxSize:{value:t,message:Ue.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}am.create=(e,t)=>new am({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...ht(t)});class PP extends kt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}PP.create=(e,t)=>new PP({getter:e,typeName:et.ZodLazy,...ht(t)});class h_ extends kt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return Ee(r,{received:r.data,code:xe.invalid_literal,expected:this._def.value}),Ze}return{status:"valid",value:t.data}}get value(){return this._def.value}}h_.create=(e,t)=>new h_({value:e,typeName:et.ZodLiteral,...ht(t)});function P3(e,t){return new gd({values:e,typeName:et.ZodEnum,...ht(t)})}class gd extends kt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{expected:Et.joinValues(n),received:r.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return Ee(r,{received:r.data,code:xe.invalid_enum_value,options:n}),Ze}return qs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return gd.create(t,{...this._def,...r})}exclude(t,r=this._def){return gd.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}gd.create=P3;class OP extends kt{_parse(t){const r=Et.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Fe.string&&n.parsedType!==Fe.number){const s=Et.objectValues(r);return Ee(n,{expected:Et.joinValues(s),received:n.parsedType,code:xe.invalid_type}),Ze}if(this._cache||(this._cache=new Set(Et.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Et.objectValues(r);return Ee(n,{received:n.data,code:xe.invalid_enum_value,options:s}),Ze}return qs(t.data)}get enum(){return this._def.values}}OP.create=(e,t)=>new OP({values:e,typeName:et.ZodNativeEnum,...ht(t)});class Fv extends kt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==Fe.promise&&r.common.async===!1)return Ee(r,{code:xe.invalid_type,expected:Fe.promise,received:r.parsedType}),Ze;const n=r.parsedType===Fe.promise?r.data:Promise.resolve(r.data);return qs(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Fv.create=(e,t)=>new Fv({type:e,typeName:et.ZodPromise,...ht(t)});class vd extends kt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{Ee(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ze;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ze:c.status==="dirty"||r.value==="dirty"?ih(c.value):c});{if(r.value==="aborted")return Ze;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ze:l.status==="dirty"||r.value==="dirty"?ih(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ze:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!md(o))return Ze;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>md(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Ze);Et.assertNever(s)}}vd.create=(e,t,r)=>new vd({schema:e,typeName:et.ZodEffects,effect:t,...ht(r)});vd.createWithPreprocess=(e,t,r)=>new vd({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...ht(r)});class Jo extends kt{_parse(t){return this._getType(t)===Fe.undefined?qs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Jo.create=(e,t)=>new Jo({innerType:e,typeName:et.ZodOptional,...ht(t)});class yd extends kt{_parse(t){return this._getType(t)===Fe.null?qs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yd.create=(e,t)=>new yd({innerType:e,typeName:et.ZodNullable,...ht(t)});class m_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===Fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}m_.create=(e,t)=>new m_({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ht(t)});class p_ extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return $v(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fi(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Fi(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}p_.create=(e,t)=>new p_({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ht(t)});class AP extends kt{_parse(t){if(this._getType(t)!==Fe.nan){const n=this._getOrReturnCtx(t);return Ee(n,{code:xe.invalid_type,expected:Fe.nan,received:n.parsedType}),Ze}return{status:"valid",value:t.data}}}AP.create=e=>new AP({typeName:et.ZodNaN,...ht(e)});class Wee extends kt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class zN extends kt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ze:i.status==="dirty"?(r.dirty(),ih(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ze:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new zN({in:t,out:r,typeName:et.ZodPipeline})}}class g_ extends kt{_parse(t){const r=this._def.innerType._parse(t),n=s=>(md(s)&&(s.value=Object.freeze(s.value)),s);return $v(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}g_.create=(e,t)=>new g_({innerType:e,typeName:et.ZodReadonly,...ht(t)});var et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));const _e=ji.create,Vee=mc.create;pc.create;const ai=Iv.create;pd.create;il.create;Ya.create;const ft=Pr.create,Kee=Dv.create;Lv.create;gc.create;const WN=h_.create,nr=gd.create;Fv.create;Jo.create;yd.create;const cs={string:e=>ji.create({...e,coerce:!0}),number:e=>mc.create({...e,coerce:!0}),boolean:e=>Iv.create({...e,coerce:!0}),bigint:e=>pc.create({...e,coerce:!0}),date:e=>pd.create({...e,coerce:!0})};var Hee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gee=Hee.reduce((e,t)=>{const r=ap(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Yee="Label",O3=x.forwardRef((e,t)=>a.jsx(Gee.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));O3.displayName=Yee;var A3=O3;const Qee=mN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),G=x.forwardRef(({className:e,...t},r)=>a.jsx(A3,{ref:r,className:J(Qee(),e),...t}));G.displayName=A3.displayName;var Wx="Tabs",[Xee]=Us(Wx,[Fx]),T3=Fx(),[Jee,VN]=Xee(Wx),R3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=ef(l),[f,h]=Ja({prop:n,onChange:s,defaultProp:i??"",caller:Wx});return a.jsx(Jee,{scope:r,baseId:Ts(),value:f,onValueChange:h,orientation:o,dir:d,activationMode:c,children:a.jsx(Qe.div,{dir:d,"data-orientation":o,...u,ref:t})})});R3.displayName=Wx;var M3="TabsList",$3=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=VN(M3,r),o=T3(r);return a.jsx(jL,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Qe.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});$3.displayName=M3;var I3="TabsTrigger",D3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=VN(I3,r),l=T3(r),c=U3(o.baseId,n),u=B3(o.baseId,n),d=n===o.value;return a.jsx(_L,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Qe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:Pe(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Pe(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Pe(e.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(n)})})})});D3.displayName=I3;var L3="TabsContent",F3=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=VN(L3,r),c=U3(l.baseId,n),u=B3(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),a.jsx(Yn,{present:s||d,children:({present:h})=>a.jsx(Qe.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&i})})});F3.displayName=L3;function U3(e,t){return`${e}-trigger-${t}`}function B3(e,t){return`${e}-content-${t}`}var Zee=R3,q3=$3,z3=D3,W3=F3;const ii=Zee,ka=x.forwardRef(({className:e,...t},r)=>a.jsx(q3,{ref:r,className:J("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ka.displayName=q3.displayName;const St=x.forwardRef(({className:e,...t},r)=>a.jsx(z3,{ref:r,className:J("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));St.displayName=z3.displayName;const Nt=x.forwardRef(({className:e,...t},r)=>a.jsx(W3,{ref:r,className:J("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=W3.displayName;const ete=ft({email:_e().email("Invalid email"),password:_e().min(1,"Password required")});function tte(){const e=ul(),[t]=U4(),r=t.get("returnTo")??"/dashboard",{register:n,handleSubmit:s,formState:{errors:i,isSubmitting:o}}=ut({resolver:dt(ete)}),l=async u=>{const d=await IH(u.email,u.password);d.success?(W.success("Signed in",{description:"Welcome back."}),e(r,{replace:!0})):W.error("Sign in failed",{description:d.error})},c=async u=>{const d=await UH(u,{redirectTo:r});d.success||W.error("Sign in failed",{description:d.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Sign in"}),a.jsx(pe,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ii,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(ka,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:s(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"email",children:"Email"}),a.jsx(ye,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...n("email"),"aria-invalid":!!i.email}),i.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"password",children:"Password"}),a.jsx(ye,{id:"password",type:"password",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"current-password",...n("password"),"aria-invalid":!!i.password}),i.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(ue,{to:"/forgot-password",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Forgot password?"})}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Signing in"]}):"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("github"),children:[a.jsx(l7,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"GitHub"]}),a.jsxs(P,{type:"button",variant:"outline",className:"rounded-md transition-all hover:scale-[1.02]",onClick:()=>c("google"),children:[a.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24","aria-hidden":!0,children:[a.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(ue,{to:"/signup",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Sign up"})]})]})]})})]})})}const rte=ft({email:_e().email("Invalid email"),password:_e().min(8,"At least 8 characters"),confirmPassword:_e()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function nte(){const e=ul(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=ut({resolver:dt(rte)}),i=async o=>{const l=await BH(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(W.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(W.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):W.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Create account"}),a.jsx(pe,{children:"Choose local-only or sign up for cloud-linked mode."})]}),a.jsx(Z,{children:a.jsxs(ii,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(ka,{className:"grid w-full grid-cols-2 rounded-md border border-border bg-secondary/50 p-1",children:[a.jsx(St,{value:"local",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Local only"}),a.jsx(St,{value:"cloud",className:"rounded-md transition-all data-[state=active]:bg-card data-[state=active]:shadow-sm",children:"Cloud"})]}),a.jsxs(Nt,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. No signup required. Open the Control UI and connect devices via QR or pairing code."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 transition-all hover:scale-[1.02] hover:shadow-md",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(Nt,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"email",children:"Email"}),a.jsx(ye,{id:"email",type:"email",placeholder:"you@example.com",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"email",...t("email"),"aria-invalid":!!n.email}),n.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"password",children:"Password"}),a.jsx(ye,{id:"password",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("password"),"aria-invalid":!!n.password}),n.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(ye,{id:"confirmPassword",type:"password",placeholder:"",className:"rounded-md border-border py-3 focus-visible:ring-2 focus-visible:ring-primary",autoComplete:"new-password",...t("confirmPassword"),"aria-invalid":!!n.confirmPassword}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:n.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:scale-[1.02] hover:shadow-md disabled:opacity-50",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Creating account"]}):"Sign up"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(ue,{to:"/login",className:"font-medium text-primary underline-offset-4 hover:underline",children:"Log in"})]})]})]})})]})})}const TP={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function ste(e){if(!e||e.length===0)return{level:"empty",score:0,label:TP.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:TP[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function ate(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const ite=ft({email:_e().min(1,"Email is required").email("Enter a valid email address")}),ote=ft({password:_e().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:_e().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function lte(){const[e,t]=x.useState("email"),[r,n]=x.useState(!0),s=ut({resolver:dt(ite),defaultValues:{email:""}}),i=ut({resolver:dt(ote),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=ste(o);x.useEffect(()=>{if(!WH()){n(!1);return}z.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const f=await qH(d.email,"/forgot-password");f.success?(t("email_sent"),W.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):W.error("Could not send reset link",{description:f.error})},u=async d=>{const f=await zH(d.password);f.success?(t("success"),W.success("Password updated",{description:"You can now sign in with your new password."}),await z.auth.signOut()):W.error("Could not update password",{description:f.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(sd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(sd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(ue,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsx(ne,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(pe,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Z,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(od,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(P,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(rN,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:J(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:J("h-full rounded-full transition-all duration-300",ate(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(ye,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(wa,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(P,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(ue,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(ue,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xd,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const cte=ft({token:_e().min(1,"Enter the verification code from your email")});function ute(){const e=ul(),[t,r]=x.useState("checking"),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(null),u=ut({resolver:dt(cte),defaultValues:{token:""}});x.useEffect(()=>{let m=!1;async function g(){const p=KH();if(p){const v=await vE(p);m||(v.success?(r("verified"),W.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):W.error("Verification failed",{description:v.error}));return}const y=await HH();if(m)return;if(y){r("verified");return}const{data:{user:b}}=await z.auth.getUser();m||(b!=null&&b.email&&c(b.email),r("pending"))}return g(),()=>{m=!0}},[]);const d=async m=>{const g=await vE(m.token);g.success?(r("verified"),u.reset(),W.success("Email verified",{description:"Your email has been confirmed."})):W.error("Verification failed",{description:g.error})},f=async()=>{o(!0);const m=await VH();o(!1),s(!1),m.success?W.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):W.error("Could not resend email",{description:m.error})},h=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(sd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(wr,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(ue,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(sd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(ue,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(od,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(pe,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(yI,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(od,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(P,{onClick:h,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(P,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(ue,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(P,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(_o,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(ye,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(P,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(cd,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Xd,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(Me,{open:n,onOpenChange:s,children:a.jsxs(Oe,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Resend verification email"}),a.jsx(Re,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"button",onClick:f,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function ce({className:e,...t}){return a.jsx("div",{className:J("animate-pulse rounded-md bg-muted",e),...t})}function V3(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vx="Switch",[dte]=Us(Vx),[fte,hte]=dte(Vx),K3=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=e,[h,m]=x.useState(null),g=gt(t,w=>m(w)),p=x.useRef(!1),y=h?d||!!h.closest("form"):!0,[b,v]=Ja({prop:s,defaultProp:i??!1,onChange:u,caller:Vx});return a.jsxs(fte,{scope:r,checked:b,disabled:l,children:[a.jsx(Qe.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":Q3(b),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:g,onClick:Pe(e.onClick,w=>{v(_=>!_),y&&(p.current=w.isPropagationStopped(),p.current||w.stopPropagation())})}),y&&a.jsx(Y3,{control:h,bubbles:!p.current,name:n,value:c,checked:b,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});K3.displayName=Vx;var H3="SwitchThumb",G3=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=hte(H3,r);return a.jsx(Qe.span,{"data-state":Q3(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});G3.displayName=H3;var mte="SwitchBubbleInput",Y3=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=x.useRef(null),l=gt(o,i),c=V3(r),u=nL(t);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&m){const g=new Event("click",{bubbles:n});m.call(d,r),d.dispatchEvent(g)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Y3.displayName=mte;function Q3(e){return e?"checked":"unchecked"}var X3=K3,pte=G3;const xr=x.forwardRef(({className:e,...t},r)=>a.jsx(X3,{className:J("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(pte,{className:J("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));xr.displayName=X3.displayName;const gte="http://localhost:3000/api";async function Mf(e,t={}){const r=`${gte}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const be={get:e=>Mf(e),post:(e,t)=>Mf(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>Mf(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>Mf(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>Mf(e,{method:"DELETE"})},Js="/profile",Ca={getProfile:()=>be.get(`${Js}`),updateProfile:e=>be.patch(`${Js}`,e),getOAuthAccounts:()=>be.get(`${Js}/oauth-accounts`),unlinkOAuthAccount:e=>be.delete(`${Js}/oauth-accounts/${e}`),getDeviceSessions:()=>be.get(`${Js}/sessions`),revokeSession:e=>be.delete(`${Js}/sessions/${e}`),getApiKeys:()=>be.get(`${Js}/api-keys`),createApiKey:e=>be.post(`${Js}/api-keys`,e),revokeApiKey:e=>be.delete(`${Js}/api-keys/${e}`),getSecuritySettings:()=>be.get(`${Js}/security-settings`),updateSecuritySettings:e=>be.patch(`${Js}/security-settings`,e)},bn={all:["profile"],profile:()=>[...bn.all,"detail"],oauthAccounts:()=>[...bn.all,"oauth-accounts"],sessions:()=>[...bn.all,"sessions"],apiKeys:()=>[...bn.all,"api-keys"],securitySettings:()=>[...bn.all,"security-settings"]};function dp(e,t){return e().catch(()=>t)}function Kx(){return Ce({queryKey:bn.profile(),queryFn:()=>dp(Ca.getProfile,null)})}function vte(){const e=me();return fe({mutationFn:t=>Ca.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.profile()}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function yte(){return Ce({queryKey:bn.oauthAccounts(),queryFn:()=>dp(Ca.getOAuthAccounts,[])})}function xte(){const e=me();return fe({mutationFn:t=>Ca.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.oauthAccounts()}),W.success("Account unlinked")},onError:t=>{W.error(t.message||"Failed to unlink account")}})}function bte(){return Ce({queryKey:bn.sessions(),queryFn:()=>dp(Ca.getDeviceSessions,[])})}function wte(){const e=me();return fe({mutationFn:t=>Ca.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.sessions()}),W.success("Session revoked")},onError:t=>{W.error(t.message||"Failed to revoke session")}})}function jte(){return Ce({queryKey:bn.apiKeys(),queryFn:()=>dp(Ca.getApiKeys,[])})}function _te(){const e=me();return fe({mutationFn:t=>Ca.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.apiKeys()}),W.success("API key created")},onError:t=>{W.error(t.message||"Failed to create API key")}})}function Ste(){const e=me();return fe({mutationFn:t=>Ca.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.apiKeys()}),W.success("API key revoked")},onError:t=>{W.error(t.message||"Failed to revoke API key")}})}function J3(){return Ce({queryKey:bn.securitySettings(),queryFn:()=>dp(Ca.getSecuritySettings,null)})}function Z3(){const e=me();return fe({mutationFn:t=>Ca.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:bn.securitySettings()}),W.success("Security settings updated")},onError:t=>{W.error(t.message||"Failed to update security settings")}})}function Bt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Nte(e,t){const r=Bt(e);return isNaN(t)?Ui(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const eF=6048e5,kte=864e5,tF=6e4,rF=36e5,sg=43200,RP=1440;let Cte={};function fp(){return Cte}function im(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Bt(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Uv(e){return im(e,{weekStartsOn:1})}function nF(e){const t=Bt(e),r=t.getFullYear(),n=Ui(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Uv(n),i=Ui(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Uv(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function MP(e){const t=Bt(e);return t.setHours(0,0,0,0),t}function Bv(e){const t=Bt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Ete(e,t){const r=MP(e),n=MP(t),s=+r-Bv(r),i=+n-Bv(n);return Math.round((s-i)/kte)}function Pte(e){const t=nF(e),r=Ui(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Uv(r)}function qg(e,t){const r=Bt(e),n=Bt(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function Ote(e){return Ui(e,Date.now())}function Ate(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Tte(e){if(!Ate(e)&&typeof e!="number")return!1;const t=Bt(e);return!isNaN(Number(t))}function Rte(e,t){const r=Bt(e),n=Bt(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function Mte(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function $te(e,t){return+Bt(e)-+Bt(t)}function Ite(e){const t=Bt(e);return t.setHours(23,59,59,999),t}function Dte(e){const t=Bt(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Lte(e){const t=Bt(e);return+Ite(t)==+Dte(t)}function Fte(e,t){const r=Bt(e),n=Bt(t),s=qg(r,n),i=Math.abs(Rte(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=qg(r,n)===-s;Lte(Bt(e))&&i===1&&qg(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function Ute(e,t,r){const n=$te(e,t)/1e3;return Mte(r==null?void 0:r.roundingMethod)(n)}function Bte(e){const t=Bt(e),r=Ui(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zte=(e,t,r)=>{let n;const s=qte[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fw(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const Wte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hte={date:Fw({formats:Wte,defaultWidth:"full"}),time:Fw({formats:Vte,defaultWidth:"full"}),dateTime:Fw({formats:Kte,defaultWidth:"full"})},Gte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Yte=(e,t,r,n)=>Gte[e];function $f(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const Qte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Xte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Jte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Zte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ere={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rre=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},nre={ordinalNumber:rre,era:$f({values:Qte,defaultWidth:"wide"}),quarter:$f({values:Xte,defaultWidth:"wide",argumentCallback:e=>e-1}),month:$f({values:Jte,defaultWidth:"wide"}),day:$f({values:Zte,defaultWidth:"wide"}),dayPeriod:$f({values:ere,defaultWidth:"wide",formattingValues:tre,defaultFormattingWidth:"wide"})};function If(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?are(l,f=>f.test(o)):sre(l,f=>f.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function sre(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function are(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function ire(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const ore=/^(\d+)(th|st|nd|rd)?/i,lre=/\d+/i,cre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ure={any:[/^b/i,/^(a|c)/i]},dre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fre={any:[/1/i,/2/i,/3/i,/4/i]},hre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},yre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xre={ordinalNumber:ire({matchPattern:ore,parsePattern:lre,valueCallback:e=>parseInt(e,10)}),era:If({matchPatterns:cre,defaultMatchWidth:"wide",parsePatterns:ure,defaultParseWidth:"any"}),quarter:If({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:fre,defaultParseWidth:"any",valueCallback:e=>e+1}),month:If({matchPatterns:hre,defaultMatchWidth:"wide",parsePatterns:mre,defaultParseWidth:"any"}),day:If({matchPatterns:pre,defaultMatchWidth:"wide",parsePatterns:gre,defaultParseWidth:"any"}),dayPeriod:If({matchPatterns:vre,defaultMatchWidth:"any",parsePatterns:yre,defaultParseWidth:"any"})},sF={code:"en-US",formatDistance:zte,formatLong:Hte,formatRelative:Yte,localize:nre,match:xre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bre(e){const t=Bt(e);return Ete(t,Bte(t))+1}function wre(e){const t=Bt(e),r=+Uv(t)-+Pte(t);return Math.round(r/eF)+1}function aF(e,t){var d,f,h,m;const r=Bt(e),n=r.getFullYear(),s=fp(),i=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(h=s.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,o=Ui(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=im(o,t),c=Ui(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=im(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function jre(e,t){var l,c,u,d;const r=fp(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=aF(e,t),i=Ui(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),im(i,t)}function _re(e,t){const r=Bt(e),n=+im(r,t)-+jre(r,t);return Math.round(n/eF)+1}function $t(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const co={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return $t(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):$t(r+1,2)},d(e,t){return $t(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return $t(e.getHours()%12||12,t.length)},H(e,t){return $t(e.getHours(),t.length)},m(e,t){return $t(e.getMinutes(),t.length)},s(e,t){return $t(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return $t(s,t.length)}},Xc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$P={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return co.y(e,t)},Y:function(e,t,r,n){const s=aF(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return $t(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):$t(i,t.length)},R:function(e,t){const r=nF(e);return $t(r,t.length)},u:function(e,t){const r=e.getFullYear();return $t(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return $t(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return $t(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return co.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return $t(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=_re(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):$t(s,t.length)},I:function(e,t,r){const n=wre(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):$t(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):co.d(e,t)},D:function(e,t,r){const n=bre(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):$t(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return $t(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return $t(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return $t(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Xc.noon:n===0?s=Xc.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Xc.evening:n>=12?s=Xc.afternoon:n>=4?s=Xc.morning:s=Xc.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return co.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):co.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):$t(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):co.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):co.s(e,t)},S:function(e,t){return co.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return DP(n);case"XXXX":case"XX":return kl(n);case"XXXXX":case"XXX":default:return kl(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return DP(n);case"xxxx":case"xx":return kl(n);case"xxxxx":case"xxx":default:return kl(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+IP(n,":");case"OOOO":default:return"GMT"+kl(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+IP(n,":");case"zzzz":default:return"GMT"+kl(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return $t(n,t.length)},T:function(e,t,r){const n=e.getTime();return $t(n,t.length)}};function IP(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+$t(i,2)}function DP(e,t){return e%60===0?(e>0?"-":"+")+$t(Math.abs(e)/60,2):kl(e,t)}function kl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=$t(Math.trunc(n/60),2),i=$t(n%60,2);return r+s+t+i}const LP=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},iF=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Sre=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return LP(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",LP(n,t)).replace("{{time}}",iF(s,t))},Nre={p:iF,P:Sre},kre=/^D+$/,Cre=/^Y+$/,Ere=["D","DD","YY","YYYY"];function Pre(e){return kre.test(e)}function Ore(e){return Cre.test(e)}function Are(e,t,r){const n=Tre(e,t,r);if(console.warn(n),Ere.includes(e))throw new RangeError(n)}function Tre(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$re=/^'([^]*?)'?$/,Ire=/''/g,Dre=/[a-zA-Z]/;function Ba(e,t,r){var d,f,h,m;const n=fp(),s=n.locale??sF,i=n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,o=n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,l=Bt(e);if(!Tte(l))throw new RangeError("Invalid time value");let c=t.match(Mre).map(g=>{const p=g[0];if(p==="p"||p==="P"){const y=Nre[p];return y(g,s.formatLong)}return g}).join("").match(Rre).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const p=g[0];if(p==="'")return{isToken:!1,value:Lre(g)};if($P[p])return{isToken:!0,value:g};if(p.match(Dre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const p=g.value;(Ore(p)||Pre(p))&&Are(p,t,String(e));const y=$P[p[0]];return y(l,p,s.localize,u)}).join("")}function Lre(e){const t=e.match($re);return t?t[1].replace(Ire,"'"):e}function Fre(e,t,r){const n=fp(),s=(r==null?void 0:r.locale)??n.locale??sF,i=2520,o=qg(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=Bt(t),u=Bt(e)):(c=Bt(e),u=Bt(t));const d=Ute(u,c),f=(Bv(u)-Bv(c))/1e3,h=Math.round((d-f)/60);let m;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<RP){const g=Math.round(h/60);return s.formatDistance("aboutXHours",g,l)}else{if(h<i)return s.formatDistance("xDays",1,l);if(h<sg){const g=Math.round(h/RP);return s.formatDistance("xDays",g,l)}else if(h<sg*2)return m=Math.round(h/sg),s.formatDistance("aboutXMonths",m,l)}if(m=Fte(u,c),m<12){const g=Math.round(h/sg);return s.formatDistance("xMonths",g,l)}else{const g=m%12,p=Math.trunc(m/12);return g<3?s.formatDistance("aboutXYears",p,l):g<9?s.formatDistance("overXYears",p,l):s.formatDistance("almostXYears",p+1,l)}}function _r(e,t){return Fre(e,Ote(e),t)}function KN(e,t){return Nte(e,-t)}function Tl(e,t){const n=zre(e);let s;if(n.date){const c=Wre(n.date,2);s=Vre(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,l;if(n.time&&(o=Kre(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Hre(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(i+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(i+o+l)}const ag={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ure=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Bre=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,qre=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zre(e){const t={},r=e.split(ag.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ag.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ag.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const s=ag.timezone.exec(n);s?(t.time=n.replace(s[1],""),t.timezone=s[1]):t.time=n}return t}function Wre(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Vre(e,t){if(t===null)return new Date(NaN);const r=e.match(Ure);if(!r)return new Date(NaN);const n=!!r[4],s=Df(r[1]),i=Df(r[2])-1,o=Df(r[3]),l=Df(r[4]),c=Df(r[5])-1;if(n)return Jre(t,l,c)?Gre(t,l,c):new Date(NaN);{const u=new Date(0);return!Qre(t,i,o)||!Xre(t,s)?new Date(NaN):(u.setUTCFullYear(t,i,Math.max(s,o)),u)}}function Df(e){return e?parseInt(e):1}function Kre(e){const t=e.match(Bre);if(!t)return NaN;const r=Uw(t[1]),n=Uw(t[2]),s=Uw(t[3]);return Zre(r,n,s)?r*rF+n*tF+s*1e3:NaN}function Uw(e){return e&&parseFloat(e.replace(",","."))||0}function Hre(e){if(e==="Z")return 0;const t=e.match(qre);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return ene(n,s)?r*(n*rF+s*tF):NaN}function Gre(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const s=n.getUTCDay()||7,i=(t-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Yre=[31,null,31,30,31,30,31,31,30,31,30,31];function oF(e){return e%400===0||e%4===0&&e%100!==0}function Qre(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Yre[t]||(oF(e)?29:28))}function Xre(e,t){return t>=1&&t<=(oF(e)?366:365)}function Jre(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Zre(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ene(e,t){return t>=0&&t<=59}const tne=ft({name:_e().min(1,"Name is required").max(64),scope:_e().min(1,"Scope is required").max(128)}),rne={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function nne(){const{data:e,isLoading:t}=Kx(),r=vte(),[n,s]=x.useState(!1),[i,o]=x.useState((e==null?void 0:e.display_name)??"");if(x.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"flex items-center gap-4",children:[a.jsx(ce,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-5 w-40"}),a.jsx(ce,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),f=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(sp,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(pe,{children:"Account and avatar."})]}),a.jsxs(Z,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Ax,{className:"h-16 w-16 shrink-0",children:[a.jsx(jN,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Tx,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(ye,{value:i,onChange:h=>o(h.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(P,{size:"sm",onClick:f,disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(P,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(P,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function sne(){const{data:e,isLoading:t}=yte(),r=xte(),[n,s]=x.useState(null);if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-40"}),a.jsx(ce,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(ce,{className:"h-12 w-full"}),a.jsx(ce,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(y7,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(pe,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Z,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:rne[o.provider]??o.provider}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(Me,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(Oe,{showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Unlink account"}),a.jsx(Re,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function ane(){const{data:e,isLoading:t}=bte(),{data:r,isLoading:n}=J3(),s=Z3(),i=wte(),[o,l]=x.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-24"}),a.jsx(ce,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(ce,{className:"h-10 w-32"}),a.jsx(ce,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5"}),"Security"]}),a.jsx(pe,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(G,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(xr,{id:"2fa",checked:u,onCheckedChange:f=>s.mutate({two_factor_enabled:f}),disabled:s.isPending})]}),a.jsx(xN,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(f.last_active_at),{addSuffix:!0})})]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:i.isPending,"aria-label":`Revoke ${f.device_name}`,children:"Revoke"})]},f.id))})]})]})]}),a.jsx(Me,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Oe,{showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Revoke session"}),a.jsx(Re,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function ine(){const{data:e,isLoading:t}=jte(),r=_te(),n=Ste(),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(null),d=ut({resolver:dt(tne),defaultValues:{name:"",scope:"read"}}),f=m=>{r.mutate(m,{onSuccess:g=>{u(g.key),d.reset()}})};if(t)return a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-24"}),a.jsx(ce,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Z,{children:[a.jsx(ce,{className:"h-10 w-28"}),a.jsx(ce,{className:"h-12 w-full mt-4"})]})]});const h=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(id,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(pe,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),h.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(_o,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:h.map(m=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:m.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[m.key_prefix,""]})]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l(m.id),disabled:n.isPending,"aria-label":`Revoke key ${m.name}`,children:"Revoke"})]},m.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(Me,{open:s,onOpenChange:i,children:a.jsxs(Oe,{showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Create API key"}),a.jsx(Re,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Your new key (copy now)"}),a.jsx(ye,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(De,{children:a.jsx(P,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"key-name",children:"Name"}),a.jsx(ye,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"key-scope",children:"Scope"}),a.jsx(ye,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(Me,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(Oe,{showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Revoke API key"}),a.jsx(Re,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function one(){const{data:e,isLoading:t}=J3(),r=Z3(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-48"}),a.jsx(ce,{className:"h-4 w-64 mt-2"})]}),a.jsx(Z,{children:a.jsx(ce,{className:"h-6 w-full"})})]}):a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(_o,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(pe,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(G,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(xr,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function lne(){return a.jsxs("div",{className:J("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(nne,{}),a.jsx(sne,{}),a.jsx(ane,{}),a.jsx(ine,{}),a.jsx(one,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{asChild:!0,children:a.jsx(ue,{to:"/settings",children:"Settings"})})})]})}function cne(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(X,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(pe,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(P,{asChild:!0,className:"w-full",children:a.jsx(ue,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(P,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(ue,{to:"/",children:"Back to home"})})]})]})})}const une=mN("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function We({className:e,variant:t,...r}){return a.jsx("div",{className:J(une({variant:t}),e),...r})}const Jt="/dashboard",Rn={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Jt}/activities${t?`?${t}`:""}`)},getActivity:e=>be.get(`${Jt}/activities/${e}`),createActivity:e=>be.post(`${Jt}/activities`,e),deleteActivity:e=>be.delete(`${Jt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Jt}/runs${t?`?${t}`:""}`)},getRun:e=>be.get(`${Jt}/runs/${e}`),createRun:e=>be.post(`${Jt}/runs`,e),updateRun:(e,t)=>be.patch(`${Jt}/runs/${e}`,t),abortRun:e=>be.post(`${Jt}/runs/${e}/abort`,{}),getCronJobs:()=>be.get(`${Jt}/cron-jobs`),getCronJob:e=>be.get(`${Jt}/cron-jobs/${e}`),createCronJob:e=>be.post(`${Jt}/cron-jobs`,e),updateCronJob:(e,t)=>be.patch(`${Jt}/cron-jobs/${e}`,t),deleteCronJob:e=>be.delete(`${Jt}/cron-jobs/${e}`),runCronJobNow:e=>be.post(`${Jt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return be.get(`${Jt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>be.get(`${Jt}/nodes`),getNode:e=>be.get(`${Jt}/nodes/${e}`),createNode:e=>be.post(`${Jt}/nodes`,e),updateNode:(e,t)=>be.patch(`${Jt}/nodes/${e}`,t),deleteNode:e=>be.delete(`${Jt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Jt}/alerts${t?`?${t}`:""}`)},getAlert:e=>be.get(`${Jt}/alerts/${e}`),updateAlert:(e,t)=>be.patch(`${Jt}/alerts/${e}`,t),quickRun:e=>be.post(`${Jt}/quick-run`,e)};function nf(e,t){return e().catch(()=>t)}const Ct={all:["dashboard"],activities:e=>[...Ct.all,"activities",e],activity:e=>[...Ct.all,"activity",e],runs:e=>[...Ct.all,"runs",e],run:e=>[...Ct.all,"run",e],cronJobs:()=>[...Ct.all,"cron-jobs"],cronJob:e=>[...Ct.all,"cron-job",e],cronRunHistory:(e,t)=>[...Ct.all,"cron-run-history",e,t],nodes:()=>[...Ct.all,"nodes"],node:e=>[...Ct.all,"node",e],alerts:e=>[...Ct.all,"alerts",e],alert:e=>[...Ct.all,"alert",e]};function dne(e){return Ce({queryKey:Ct.activities(e),queryFn:()=>nf(()=>Rn.getActivities(e),[])})}function fne(){const e=me();return fe({mutationFn:t=>Rn.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),W.success("Activity removed")},onError:t=>{W.error(t.message||"Failed to remove activity")}})}function hne(e){return Ce({queryKey:Ct.runs(e),queryFn:()=>nf(()=>Rn.getRuns(e),[])})}function mne(){const e=me();return fe({mutationFn:t=>Rn.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.runs()}),W.success("Run aborted")},onError:t=>{W.error(t.message||"Failed to abort run")}})}function lF(){return Ce({queryKey:Ct.cronJobs(),queryFn:()=>nf(()=>Rn.getCronJobs(),[])})}function cF(){const e=me();return fe({mutationFn:t=>Rn.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),W.success("Cron job created")},onError:t=>{W.error(t.message||"Failed to create cron job")}})}function pne(){const e=me();return fe({mutationFn:({id:t,data:r})=>Rn.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronJob(r)}),W.success("Cron job updated")},onError:t=>{W.error(t.message||"Failed to update cron job")}})}function gne(){const e=me();return fe({mutationFn:t=>Rn.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),W.success("Cron job deleted")},onError:t=>{W.error(t.message||"Failed to delete cron job")}})}function vne(e,t){return Ce({queryKey:Ct.cronRunHistory(e??"",t),queryFn:()=>e?nf(()=>Rn.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function yne(){const e=me();return fe({mutationFn:t=>Rn.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Ct.cronJobs()}),e.invalidateQueries({queryKey:Ct.cronRunHistory(r)}),e.invalidateQueries({queryKey:Ct.runs()}),W.success("Job started")},onError:t=>{W.error(t.message||"Failed to run job")}})}function uF(){return Ce({queryKey:Ct.nodes(),queryFn:()=>nf(()=>Rn.getNodes(),[])})}function xne(){const e=me();return fe({mutationFn:({id:t,data:r})=>Rn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.nodes()}),e.invalidateQueries({queryKey:Ct.node(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function bne(e){return Ce({queryKey:Ct.alerts(e),queryFn:()=>nf(()=>Rn.getAlerts(e),[])})}function wne(){const e=me();return fe({mutationFn:({id:t,data:r})=>Rn.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ct.alerts()}),e.invalidateQueries({queryKey:Ct.alert(r)}),W.success("Alert updated")},onError:t=>{W.error(t.message||"Failed to update alert")}})}function jne(){const e=me();return fe({mutationFn:t=>Rn.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ct.activities()}),e.invalidateQueries({queryKey:Ct.runs()}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}const FP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function _ne({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Activity details"}),a.jsxs(Re,{id:"activity-detail-description",children:[FP[e.activity_type]??e.activity_type," "," ",_r(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:FP[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(De,{children:[n&&a.jsx(P,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function Sne({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{"aria-describedby":"run-abort-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Abort run?"}),a.jsxs(Re,{id:"run-abort-description",children:["This will stop the run that started"," ",_r(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function Nne(e){const t=kne(e),r=x.forwardRef((n,s)=>{const{children:i,...o}=n,l=x.Children.toArray(i),c=l.find(Ene);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return a.jsx(t,{...o,ref:s,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function kne(e){const t=x.forwardRef((r,n)=>{const{children:s,...i}=r;if(x.isValidElement(s)){const o=One(s),l=Pne(i,s.props);return s.type!==x.Fragment&&(l.ref=n?Qi(n,o):o),x.cloneElement(s,l)}return x.Children.count(s)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cne=Symbol("radix.slottable");function Ene(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cne}function Pne(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function One(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dF=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ane="VisuallyHidden",Tne=x.forwardRef((e,t)=>a.jsx(Qe.span,{...e,ref:t,style:{...dF,...e.style}}));Tne.displayName=Ane;var Rne=[" ","Enter","ArrowUp","ArrowDown"],Mne=[" ","Enter"],vc="Select",[Hx,Gx,$ne]=Rx(vc),[sf]=Us(vc,[$ne,Lx]),Yx=Lx(),[Ine,fl]=sf(vc),[Dne,Lne]=sf(vc),fF=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:g}=e,p=Yx(t),[y,b]=x.useState(null),[v,w]=x.useState(null),[_,j]=x.useState(!1),S=ef(u),[N,k]=Ja({prop:n,defaultProp:s??!1,onChange:i,caller:vc}),[C,E]=Ja({prop:o,defaultProp:l,onChange:c,caller:vc}),I=x.useRef(null),O=y?g||!!y.closest("form"):!0,[B,T]=x.useState(new Set),V=Array.from(B).map(L=>L.props.value).join(";");return a.jsx(hL,{...p,children:a.jsxs(Ine,{required:m,scope:t,trigger:y,onTriggerChange:b,valueNode:v,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:j,contentId:Ts(),value:C,onValueChange:E,open:N,onOpenChange:k,dir:S,triggerPointerDownPosRef:I,disabled:h,children:[a.jsx(Hx.Provider,{scope:t,children:a.jsx(Dne,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(L=>{T(K=>new Set(K).add(L))},[]),onNativeOptionRemove:x.useCallback(L=>{T(K=>{const R=new Set(K);return R.delete(L),R})},[]),children:r})}),O?a.jsxs(IF,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:L=>E(L.target.value),disabled:h,form:g,children:[C===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},V):null]})})};fF.displayName=vc;var hF="SelectTrigger",mF=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=Yx(r),o=fl(hF,r),l=o.disabled||n,c=gt(t,o.onTriggerChange),u=Gx(r),d=x.useRef("touch"),[f,h,m]=LF(p=>{const y=u().filter(w=>!w.disabled),b=y.find(w=>w.value===o.value),v=FF(y,p,b);v!==void 0&&o.onValueChange(v.value)}),g=p=>{l||(o.onOpenChange(!0),m()),p&&(o.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return a.jsx(mL,{asChild:!0,...i,children:a.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":DF(o.value)?"":void 0,...s,ref:c,onClick:Pe(s.onClick,p=>{p.currentTarget.focus(),d.current!=="mouse"&&g(p)}),onPointerDown:Pe(s.onPointerDown,p=>{d.current=p.pointerType;const y=p.target;y.hasPointerCapture(p.pointerId)&&y.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(g(p),p.preventDefault())}),onKeyDown:Pe(s.onKeyDown,p=>{const y=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(y&&p.key===" ")&&Rne.includes(p.key)&&(g(),p.preventDefault())})})})});mF.displayName=hF;var pF="SelectValue",gF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=fl(pF,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,f=gt(t,c.onValueNodeChange);return jr(()=>{u(d)},[u,d]),a.jsx(Qe.span,{...l,ref:f,style:{pointerEvents:"none"},children:DF(c.value)?a.jsx(a.Fragment,{children:o}):i})});gF.displayName=pF;var Fne="SelectIcon",vF=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Qe.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});vF.displayName=Fne;var Une="SelectPortal",yF=e=>a.jsx(Nx,{asChild:!0,...e});yF.displayName=Une;var yc="SelectContent",xF=x.forwardRef((e,t)=>{const r=fl(yc,e.__scopeSelect),[n,s]=x.useState();if(jr(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?Wd.createPortal(a.jsx(bF,{scope:e.__scopeSelect,children:a.jsx(Hx.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(wF,{...e,ref:t})});xF.displayName=yc;var ta=10,[bF,hl]=sf(yc),Bne="SelectContentImpl",qne=Nne("SelectContent.RemoveScroll"),wF=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y,...b}=e,v=fl(yc,r),[w,_]=x.useState(null),[j,S]=x.useState(null),N=gt(t,de=>_(de)),[k,C]=x.useState(null),[E,I]=x.useState(null),O=Gx(r),[B,T]=x.useState(!1),V=x.useRef(!1);x.useEffect(()=>{if(w)return uN(w)},[w]),cN();const L=x.useCallback(de=>{const[qe,...ae]=O().map(Q=>Q.ref.current),[je]=ae.slice(-1),Y=document.activeElement;for(const Q of de)if(Q===Y||(Q==null||Q.scrollIntoView({block:"nearest"}),Q===qe&&j&&(j.scrollTop=0),Q===je&&j&&(j.scrollTop=j.scrollHeight),Q==null||Q.focus(),document.activeElement!==Y))return},[O,j]),K=x.useCallback(()=>L([k,w]),[L,k,w]);x.useEffect(()=>{B&&K()},[B,K]);const{onOpenChange:R,triggerPointerDownPosRef:M}=v;x.useEffect(()=>{if(w){let de={x:0,y:0};const qe=je=>{var Y,Q;de={x:Math.abs(Math.round(je.pageX)-(((Y=M.current)==null?void 0:Y.x)??0)),y:Math.abs(Math.round(je.pageY)-(((Q=M.current)==null?void 0:Q.y)??0))}},ae=je=>{de.x<=10&&de.y<=10?je.preventDefault():w.contains(je.target)||R(!1),document.removeEventListener("pointermove",qe),M.current=null};return M.current!==null&&(document.addEventListener("pointermove",qe),document.addEventListener("pointerup",ae,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",qe),document.removeEventListener("pointerup",ae,{capture:!0})}}},[w,R,M]),x.useEffect(()=>{const de=()=>R(!1);return window.addEventListener("blur",de),window.addEventListener("resize",de),()=>{window.removeEventListener("blur",de),window.removeEventListener("resize",de)}},[R]);const[$,ee]=LF(de=>{const qe=O().filter(Y=>!Y.disabled),ae=qe.find(Y=>Y.ref.current===document.activeElement),je=FF(qe,de,ae);je&&setTimeout(()=>je.ref.current.focus())}),D=x.useCallback((de,qe,ae)=>{const je=!V.current&&!ae;(v.value!==void 0&&v.value===qe||je)&&(C(de),je&&(V.current=!0))},[v.value]),ie=x.useCallback(()=>w==null?void 0:w.focus(),[w]),ve=x.useCallback((de,qe,ae)=>{const je=!V.current&&!ae;(v.value!==void 0&&v.value===qe||je)&&I(de)},[v.value]),Ve=n==="popper"?v_:jF,Ke=Ve===v_?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:g,hideWhenDetached:p,avoidCollisions:y}:{};return a.jsx(bF,{scope:r,content:w,viewport:j,onViewportChange:S,itemRefCallback:D,selectedItem:k,onItemLeave:ie,itemTextRefCallback:ve,focusSelectedItem:K,selectedItemText:E,position:n,isPositioned:B,searchRef:$,children:a.jsx(Cx,{as:qne,allowPinchZoom:!0,children:a.jsx(Sx,{asChild:!0,trapped:v.open,onMountAutoFocus:de=>{de.preventDefault()},onUnmountAutoFocus:Pe(s,de=>{var qe;(qe=v.trigger)==null||qe.focus({preventScroll:!0}),de.preventDefault()}),children:a.jsx(_x,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:de=>de.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:a.jsx(Ve,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:de=>de.preventDefault(),...b,...Ke,onPlaced:()=>T(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:Pe(b.onKeyDown,de=>{const qe=de.ctrlKey||de.altKey||de.metaKey;if(de.key==="Tab"&&de.preventDefault(),!qe&&de.key.length===1&&ee(de.key),["ArrowUp","ArrowDown","Home","End"].includes(de.key)){let je=O().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);if(["ArrowUp","End"].includes(de.key)&&(je=je.slice().reverse()),["ArrowUp","ArrowDown"].includes(de.key)){const Y=de.target,Q=je.indexOf(Y);je=je.slice(Q+1)}setTimeout(()=>L(je)),de.preventDefault()}})})})})})})});wF.displayName=Bne;var zne="SelectItemAlignedPosition",jF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=fl(yc,r),o=hl(yc,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=gt(t,N=>d(N)),h=Gx(r),m=x.useRef(!1),g=x.useRef(!0),{viewport:p,selectedItem:y,selectedItemText:b,focusSelectedItem:v}=o,w=x.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&p&&y&&b){const N=i.trigger.getBoundingClientRect(),k=u.getBoundingClientRect(),C=i.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(i.dir!=="rtl"){const Y=E.left-k.left,Q=C.left-Y,Xe=N.left-Q,He=N.width+Xe,xt=Math.max(He,k.width),ct=window.innerWidth-ta,zt=r_(Q,[ta,Math.max(ta,ct-xt)]);l.style.minWidth=He+"px",l.style.left=zt+"px"}else{const Y=k.right-E.right,Q=window.innerWidth-C.right-Y,Xe=window.innerWidth-N.right-Q,He=N.width+Xe,xt=Math.max(He,k.width),ct=window.innerWidth-ta,zt=r_(Q,[ta,Math.max(ta,ct-xt)]);l.style.minWidth=He+"px",l.style.right=zt+"px"}const I=h(),O=window.innerHeight-ta*2,B=p.scrollHeight,T=window.getComputedStyle(u),V=parseInt(T.borderTopWidth,10),L=parseInt(T.paddingTop,10),K=parseInt(T.borderBottomWidth,10),R=parseInt(T.paddingBottom,10),M=V+L+B+R+K,$=Math.min(y.offsetHeight*5,M),ee=window.getComputedStyle(p),D=parseInt(ee.paddingTop,10),ie=parseInt(ee.paddingBottom,10),ve=N.top+N.height/2-ta,Ve=O-ve,Ke=y.offsetHeight/2,de=y.offsetTop+Ke,qe=V+L+de,ae=M-qe;if(qe<=ve){const Y=I.length>0&&y===I[I.length-1].ref.current;l.style.bottom="0px";const Q=u.clientHeight-p.offsetTop-p.offsetHeight,Xe=Math.max(Ve,Ke+(Y?ie:0)+Q+K),He=qe+Xe;l.style.height=He+"px"}else{const Y=I.length>0&&y===I[0].ref.current;l.style.top="0px";const Xe=Math.max(ve,V+p.offsetTop+(Y?D:0)+Ke)+ae;l.style.height=Xe+"px",p.scrollTop=qe-ve+p.offsetTop}l.style.margin=`${ta}px 0`,l.style.minHeight=$+"px",l.style.maxHeight=O+"px",n==null||n(),requestAnimationFrame(()=>m.current=!0)}},[h,i.trigger,i.valueNode,l,u,p,y,b,i.dir,n]);jr(()=>w(),[w]);const[_,j]=x.useState();jr(()=>{u&&j(window.getComputedStyle(u).zIndex)},[u]);const S=x.useCallback(N=>{N&&g.current===!0&&(w(),v==null||v(),g.current=!1)},[w,v]);return a.jsx(Vne,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Qe.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});jF.displayName=zne;var Wne="SelectPopperPosition",v_=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=ta,...i}=e,o=Yx(r);return a.jsx(pL,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=Wne;var[Vne,HN]=sf(yc,{}),y_="SelectViewport",_F=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=hl(y_,r),o=HN(y_,r),l=gt(t,i.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Hx.Slot,{scope:r,children:a.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Pe(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const g=window.innerHeight-ta*2,p=parseFloat(f.style.minHeight),y=parseFloat(f.style.height),b=Math.max(p,y);if(b<g){const v=b+m,w=Math.min(g,v),_=v-w;f.style.height=w+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});_F.displayName=y_;var SF="SelectGroup",[Kne,Hne]=sf(SF),Gne=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Ts();return a.jsx(Kne,{scope:r,id:s,children:a.jsx(Qe.div,{role:"group","aria-labelledby":s,...n,ref:t})})});Gne.displayName=SF;var NF="SelectLabel",kF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Hne(NF,r);return a.jsx(Qe.div,{id:s.id,...n,ref:t})});kF.displayName=NF;var qv="SelectItem",[Yne,CF]=sf(qv),EF=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=fl(qv,r),c=hl(qv,r),u=l.value===n,[d,f]=x.useState(i??""),[h,m]=x.useState(!1),g=gt(t,v=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,v,n,s)}),p=Ts(),y=x.useRef("touch"),b=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Yne,{scope:r,value:n,disabled:s,textId:p,isSelected:u,onItemTextChange:x.useCallback(v=>{f(w=>w||((v==null?void 0:v.textContent)??"").trim())},[]),children:a.jsx(Hx.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Qe.div,{role:"option","aria-labelledby":p,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:g,onFocus:Pe(o.onFocus,()=>m(!0)),onBlur:Pe(o.onBlur,()=>m(!1)),onClick:Pe(o.onClick,()=>{y.current!=="mouse"&&b()}),onPointerUp:Pe(o.onPointerUp,()=>{y.current==="mouse"&&b()}),onPointerDown:Pe(o.onPointerDown,v=>{y.current=v.pointerType}),onPointerMove:Pe(o.onPointerMove,v=>{var w;y.current=v.pointerType,s?(w=c.onItemLeave)==null||w.call(c):y.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(o.onPointerLeave,v=>{var w;v.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:Pe(o.onKeyDown,v=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(Mne.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});EF.displayName=qv;var oh="SelectItemText",PF=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=fl(oh,r),l=hl(oh,r),c=CF(oh,r),u=Lne(oh,r),[d,f]=x.useState(null),h=gt(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=l.itemTextRefCallback)==null?void 0:v.call(l,b,c.value,c.disabled)}),m=d==null?void 0:d.textContent,g=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:p,onNativeOptionRemove:y}=u;return jr(()=>(p(g),()=>y(g)),[p,y,g]),a.jsxs(a.Fragment,{children:[a.jsx(Qe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wd.createPortal(i.children,o.valueNode):null]})});PF.displayName=oh;var OF="SelectItemIndicator",AF=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return CF(OF,r).isSelected?a.jsx(Qe.span,{"aria-hidden":!0,...n,ref:t}):null});AF.displayName=OF;var x_="SelectScrollUpButton",TF=x.forwardRef((e,t)=>{const r=hl(x_,e.__scopeSelect),n=HN(x_,e.__scopeSelect),[s,i]=x.useState(!1),o=gt(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(MF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});TF.displayName=x_;var b_="SelectScrollDownButton",RF=x.forwardRef((e,t)=>{const r=hl(b_,e.__scopeSelect),n=HN(b_,e.__scopeSelect),[s,i]=x.useState(!1),o=gt(t,n.onScrollButtonChange);return jr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(MF,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});RF.displayName=b_;var MF=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=hl("SelectScrollButton",r),o=x.useRef(null),l=Gx(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),jr(()=>{var d;const u=l().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Qe.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Pe(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Pe(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Pe(s.onPointerLeave,()=>{c()})})}),Qne="SelectSeparator",$F=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Qe.div,{"aria-hidden":!0,...n,ref:t})});$F.displayName=Qne;var w_="SelectArrow",Xne=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=Yx(r),i=fl(w_,r),o=hl(w_,r);return i.open&&o.position==="popper"?a.jsx(gL,{...s,...n,ref:t}):null});Xne.displayName=w_;var Jne="SelectBubbleInput",IF=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=x.useRef(null),i=gt(n,s),o=V3(t);return x.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const f=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(f)}},[o,t]),a.jsx(Qe.select,{...r,style:{...dF,...r.style},ref:i,defaultValue:t})});IF.displayName=Jne;function DF(e){return e===""||e===void 0}function LF(e){const t=Jr(e),r=x.useRef(""),n=x.useRef(0),s=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function FF(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=Zne(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function Zne(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ese=fF,UF=mF,tse=gF,rse=vF,nse=yF,BF=xF,sse=_F,qF=kF,zF=EF,ase=PF,ise=AF,WF=TF,VF=RF,KF=$F;const ot=ese,lt=tse,st=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(UF,{ref:n,className:J("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(rse,{asChild:!0,children:a.jsx(Ec,{className:"h-4 w-4 opacity-50"})})]}));st.displayName=UF.displayName;const HF=x.forwardRef(({className:e,...t},r)=>a.jsx(WF,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(vI,{className:"h-4 w-4"})}));HF.displayName=WF.displayName;const GF=x.forwardRef(({className:e,...t},r)=>a.jsx(VF,{ref:r,className:J("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Ec,{className:"h-4 w-4"})}));GF.displayName=VF.displayName;const at=x.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(nse,{children:a.jsxs(BF,{ref:s,className:J("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(HF,{}),a.jsx(sse,{className:J("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(GF,{})]})}));at.displayName=BF.displayName;const ose=x.forwardRef(({className:e,...t},r)=>a.jsx(qF,{ref:r,className:J("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));ose.displayName=qF.displayName;const Se=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(zF,{ref:n,className:J("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(ise,{children:a.jsx(Qd,{className:"h-4 w-4"})})}),a.jsx(ase,{children:t})]}));Se.displayName=zF.displayName;const lse=x.forwardRef(({className:e,...t},r)=>a.jsx(KF,{ref:r,className:J("-mx-1 my-1 h-px bg-muted",e),...t}));lse.displayName=KF.displayName;const cse=ft({name:_e().min(1,"Name is required").max(200,"Name too long"),schedule:_e().min(1,"Schedule is required"),description:_e().optional(),payload_json:_e().optional(),session_target:_e().optional(),isolation_setting:ai().optional(),status:nr(["active","paused"]).optional()}),ig={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function use(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function YF({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(cse),defaultValues:ig}),m=d("status"),g=d("isolation_setting");x.useEffect(()=>{e&&i?f({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&f(ig)},[e,i,f]);const p=b=>{const v=use(b.payload_json??"{}");r(o&&i?{name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}:{user_id:s,name:b.name||null,schedule:b.schedule,description:b.description||null,payload:v,session_target:b.session_target||null,isolation_setting:b.isolation_setting??!1,status:b.status??"active"}),f(ig),t(!1)},y=b=>{b||f(ig),t(b)};return a.jsx(Me,{open:e,onOpenChange:y,children:a.jsxs(Oe,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:o?"Edit cron job":"Create cron job"}),a.jsx(Re,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"name",children:"Job name"}),a.jsx(ye,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:h.name?"border-destructive":""}),h.name&&a.jsx("p",{className:"text-xs text-destructive",children:h.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(ye,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:h.schedule?"border-destructive":""}),h.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:h.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"description",children:"Description (optional)"}),a.jsx(ye,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"session_target",children:"Session target"}),a.jsx(ye,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(xr,{id:"isolation_setting",checked:g??!1,onCheckedChange:b=>u("isolation_setting",b)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Status"}),a.jsxs(ot,{value:m??"active",onValueChange:b=>u("status",b),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>y(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const Bw={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},dse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},fse={paired:"success",offline:"destructive",error:"warning"};function QF({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=x.useState((e==null?void 0:e.connection_health)??"unknown");if(x.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Ka,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(Re,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(We,{variant:fse[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(We,{variant:dse[l],children:[l==="healthy"&&a.jsx(oN,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(AI,{className:"mr-1 h-3 w-3"}),Bw[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(We,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Update connection health"}),a.jsxs(ot,{value:i,onValueChange:d=>o(d),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsx(at,{children:Object.keys(Bw).map(d=>a.jsx(Se,{value:d,children:Bw[d]},d))})]})]})]}),n&&a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const hse={low:"Low",medium:"Medium",high:"High",critical:"Critical"},mse=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function pse({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:J("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(Re,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:J("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:hse[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Resolution status"}),a.jsxs(ot,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsx(at,{children:mse.map(o=>a.jsx(Se,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(P,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const UP={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},gse={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},vse={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function yse(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(null),{data:y}=Kx(),b=(y==null?void 0:y.user_id)??"",{data:v=[],isLoading:w}=dne({limit:20,type:r||void 0}),{data:_=[],isLoading:j}=hne({status:"running",limit:10}),{data:S=[],isLoading:N}=lF(),{data:k=[],isLoading:C}=uF(),{data:E=[],isLoading:I}=bne({resolution_status:"open"}),O=jne(),B=mne(),T=cF(),V=fne(),L=wne(),K=xne(),R=()=>{const $=e.trim();$&&O.mutate({message:$},{onSuccess:()=>t("")})},M=r?v.filter($=>$.activity_type===r):v;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Ha,href:"/chat"},{title:"Cron jobs",value:S.length,icon:dl,href:"/cron"},{title:"Nodes",value:k.length,icon:Ka,href:"/nodes"},{title:"Alerts",value:E.length,icon:Rr,href:"/security"}].map(({title:$,value:ee,icon:D,href:ie})=>a.jsx(ue,{to:ie,children:a.jsxs(X,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:$}),a.jsx(D,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:ee})})]})},$))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"flex flex-col",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(vx,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:$=>n($.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(UP).map(([$,ee])=>a.jsx("option",{value:$,children:ee},$))]})]}),a.jsx(Z,{className:"flex-1 overflow-hidden",children:a.jsx(pt,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map($=>a.jsx(ce,{className:"h-14 w-full rounded-lg"},$))}):M.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:M.map($=>a.jsx("li",{children:a.jsxs("div",{className:J("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===$.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===$.id?null:$.id),"aria-expanded":s===$.id,children:[s===$.id?a.jsx(Ec,{className:"h-4 w-4 shrink-0"}):a.jsx(Tr,{className:"h-4 w-4 shrink-0"}),a.jsx(We,{variant:"secondary",className:"text-xs",children:UP[$.activity_type]??$.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:_r(new Date($.created_at),{addSuffix:!0})})]}),s===$.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(P,{variant:"outline",size:"sm",onClick:()=>l($),children:"View details"})})]})},$.id))})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(tp,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(pe,{children:"Send a message to the default session or channel."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(ye,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:$=>t($.target.value),onKeyDown:$=>$.key==="Enter"&&R(),"aria-label":"Quick run message"}),a.jsx(P,{onClick:R,disabled:!e.trim()||O.isPending,children:O.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(cd,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Active runs"}),a.jsx(pe,{children:"Stream and abort running jobs."})]}),a.jsx(Z,{children:j?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:gse[$.status],children:$.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",_r(new Date($.start_time),{addSuffix:!0})]})]}),a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>u($),disabled:$.status!=="running",children:[a.jsx(JS,{className:"mr-1 h-4 w-4"}),"Abort"]})]},$.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Cron overview"}),a.jsxs(P,{size:"sm",onClick:()=>f(!0),children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Z,{children:N?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full rounded-lg"}),a.jsx(ce,{className:"h-10 w-full rounded-lg"})]}):S.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[S.slice(0,5).map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.description||$.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:$.schedule})]}),a.jsx(We,{variant:$.status==="active"?"default":"secondary",children:$.status})]},$.id)),S.length>5&&a.jsx("li",{children:a.jsx(P,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(ue,{to:"/cron",children:["View all (",S.length,")"]})})})]})})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Nodes status"}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Z,{children:C?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(ce,{className:"h-20 rounded-lg"}),a.jsx(ce,{className:"h-20 rounded-lg"})]}):k.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:k.map($=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>m($),children:[a.jsx(Ka,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:$.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(We,{variant:vse[$.connection_health],className:"text-xs",children:[$.connection_health==="healthy"&&a.jsx(oN,{className:"mr-0.5 h-3 w-3"}),$.connection_health==="offline"&&a.jsx(AI,{className:"mr-0.5 h-3 w-3"}),$.connection_health]})})]})]},$.id))})})]})]}),a.jsxs(X,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(P,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(ue,{to:"/security",children:"Run audit"})})]}),a.jsx(Z,{children:I?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):E.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(P,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(ue,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:E.map($=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:$.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:$.description})]}),a.jsx(We,{variant:$.severity==="critical"?"destructive":$.severity==="high"?"warning":"secondary",className:"shrink-0",children:$.severity}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>p($),children:"Fix"})]},$.id))})})]}),a.jsx(_ne,{activity:o,open:!!o,onOpenChange:$=>!$&&l(null),onDelete:$=>{V.mutate($),l(null)}}),a.jsx(Sne,{run:c,open:!!c,onOpenChange:$=>!$&&u(null),onConfirm:$=>{B.mutate($),u(null)},isAborting:B.isPending}),a.jsx(YF,{open:d,onOpenChange:f,onSubmit:$=>{"user_id"in $&&$.user_id!==void 0&&T.mutate($)},isSubmitting:T.isPending,userId:b}),a.jsx(QF,{node:h,open:!!h,onOpenChange:$=>!$&&m(null),onUpdateHealth:($,ee)=>K.mutate({id:$,data:{connection_health:ee}}),isUpdating:K.isPending}),a.jsx(pse,{alert:g,open:!!g,onOpenChange:$=>!$&&p(null),onResolve:($,ee)=>L.mutate({id:$,data:{resolution_status:ee}}),isUpdating:L.isPending})]})}const Sa={getSessions:async()=>{const{data:e,error:t}=await z.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await z.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await z.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await z.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=z.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await z.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=z.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await z.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await z.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>Sa.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>Sa.updateToolInvocation(e,{status:"denied"})};function xse(e,t){return e().catch(()=>t)}const qn={all:["chat"],sessions:()=>[...qn.all,"sessions"],session:e=>[...qn.all,"session",e],messages:(e,t)=>[...qn.all,"messages",e,t],toolInvocations:(e,t)=>[...qn.all,"toolInvocations",e,t]};function bse(){return Ce({queryKey:qn.sessions(),queryFn:()=>xse(()=>Sa.getSessions(),[])})}function wse(e){return Ce({queryKey:qn.session(e??""),queryFn:()=>e?Sa.getSession(e):Promise.resolve(null),enabled:!!e})}function jse(){const e=me();return fe({mutationFn:t=>Sa.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:qn.sessions()}),W.success("Session created")},onError:t=>{W.error(t.message||"Failed to create session")}})}function _se(){const e=me();return fe({mutationFn:({id:t,data:r})=>Sa.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:qn.sessions()}),e.invalidateQueries({queryKey:qn.session(r)}),W.success("Session updated")},onError:t=>{W.error(t.message||"Failed to update session")}})}function Sse(e,t){return Ce({queryKey:qn.messages(e??"",{limit:t}),queryFn:()=>e?Sa.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Nse(){const e=me();return fe({mutationFn:t=>Sa.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:qn.messages(r.session_id)}),W.success("Message sent")},onError:t=>{W.error(t.message||"Failed to send message")}})}function kse(e,t){return Ce({queryKey:qn.toolInvocations(e??"",t),queryFn:()=>e?Sa.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function Cse(){const e=me();return fe({mutationFn:({id:t,sessionId:r})=>Sa.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:qn.toolInvocations(r)}),W.success("Tool output approved")},onError:t=>{W.error(t.message||"Failed to approve")}})}function Ese(){const e=me();return fe({mutationFn:({id:t,sessionId:r})=>Sa.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:qn.toolInvocations(r)}),W.success("Tool output denied")},onError:t=>{W.error(t.message||"Failed to deny")}})}function Pse({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:J("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Ax,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Tx,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(gI,{className:"h-4 w-4"}):a.jsx(sp,{className:"h-4 w-4"})})}),a.jsxs("div",{className:J("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:_r(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function Ose({messages:e,isLoading:t,currentUserId:r,className:n}){const s=x.useRef(null);return x.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(pt,{className:J("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Pse,{message:i,currentUserId:r})},i.id))})})}function Ase({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(null),h=x.useCallback(g=>{g.preventDefault();const p=c.trim();!p||!e||(t(p,{toolName:d??void 0}),u(""),f(null))},[c,e,t,d]),m=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:h,className:J("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(f7,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(ye,{value:c,onChange:g=>u(g.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(ot,{value:d??"",onValueChange:g=>{f(g||null),g&&n&&n(g)},disabled:s||!e,children:[a.jsxs(st,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(jx,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(lt,{placeholder:"Tool"})]}),a.jsx(at,{children:o.map(g=>a.jsx(Se,{value:g.id,children:g.name},g.id))})]})]}),a.jsx(P,{type:"submit",size:"icon",disabled:!m,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(cd,{className:"h-4 w-4"})})]})})}function Tse(e,t=[]){let r=[];function n(i,o){const l=x.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=f=>{var b;const{scope:h,children:m,...g}=f,p=((b=h==null?void 0:h[e])==null?void 0:b[c])||l,y=x.useMemo(()=>g,Object.values(g));return a.jsx(p.Provider,{value:y,children:m})};u.displayName=i+"Provider";function d(f,h){var p;const m=((p=h==null?void 0:h[e])==null?void 0:p[c])||l,g=x.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>x.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Rse(s,...t)]}function Rse(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(i)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var Mse=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XF=Mse.reduce((e,t)=>{const r=ap(`Primitive.${t}`),n=x.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),GN="Progress",YN=100,[$se]=Tse(GN),[Ise,Dse]=$se(GN),JF=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Lse,...o}=e;(s||s===0)&&!BP(s)&&console.error(Fse(`${s}`,"Progress"));const l=BP(s)?s:YN;n!==null&&!qP(n,l)&&console.error(Use(`${n}`,"Progress"));const c=qP(n,l)?n:null,u=zv(c)?i(c,l):void 0;return a.jsx(Ise,{scope:r,value:c,max:l,children:a.jsx(XF.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":zv(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":t5(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});JF.displayName=GN;var ZF="ProgressIndicator",e5=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Dse(ZF,r);return a.jsx(XF.div,{"data-state":t5(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});e5.displayName=ZF;function Lse(e,t){return`${Math.round(e/t*100)}%`}function t5(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function zv(e){return typeof e=="number"}function BP(e){return zv(e)&&!isNaN(e)&&e>0}function qP(e,t){return zv(e)&&!isNaN(e)&&e<=t&&e>=0}function Fse(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${YN}\`.`}function Use(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${YN} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var r5=JF,Bse=e5;const QN=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(r5,{ref:n,className:J("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Bse,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));QN.displayName=r5.displayName;const qse={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function zse({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(jx,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(We,{variant:qse[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:_r(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Z,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(wr,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(QN,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(ud,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(P,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(Qd,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function Wse({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:J("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Z,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(We,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:J("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(tp,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(X,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Z,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(SI,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(We,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function Vse({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=x.useState(!1);return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Ec,{className:"h-4 w-4"}):a.jsx(vI,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Z,{className:"p-0",children:a.jsx(pt,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function Kse({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=x.useState(""),[d,f]=x.useState(""),h=()=>{const g=c.trim();!g||r.length>=o||(n(g,d.trim()||void 0),u(""),f(""))},m=()=>{i(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:J("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Manage attachments"}),a.jsxs(Re,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(G,{htmlFor:"attach-url",children:"URL"}),a.jsx(ye,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:g=>u(g.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(G,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(ye,{id:"attach-name",placeholder:"Label",value:d,onChange:g=>f(g.target.value),className:"rounded-md border-input"})]}),a.jsx(P,{type:"button",variant:"secondary",size:"icon",onClick:h,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(OI,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(pt,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((g,p)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:g.name??g.url}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(p),"aria-label":"Remove attachment",children:a.jsx(ud,{className:"h-4 w-4"})})]},p))})})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,children:"Done"})]})]})})}const Hse={new:"Start new session",reset:"Reset session",stop:"Stop session"},Gse={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function Yse({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:J("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:Hse[r]}),a.jsx(Re,{id:"session-dialog-description",children:Gse[r]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(It,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(NI,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(tm,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const Qse=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function Xse(){const{data:e}=Kx(),t=(e==null?void 0:e.user_id)??null,[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState([]),[h,m]=x.useState([]),{data:g=[],isLoading:p}=bse(),{data:y}=wse(r),{data:b=[],isLoading:v}=Sse(r,200),{data:w=[]}=kse(r,{limit:20}),_=jse(),j=_se(),S=Nse(),N=Cse(),k=Ese();x.useEffect(()=>{if(!p){if(g.length>0&&!r){n(g[0].id);return}g.length===0&&_.mutate({title:"New session"},{onSuccess:T=>n(T.id)})}},[p,g.length,g,r,_]);const C=x.useCallback((T,V)=>{r&&S.mutate({session_id:r,sender_id:t??void 0,role:"user",text:T,attachment_links:(V==null?void 0:V.attachmentUrls)??d},{onSuccess:()=>f([])})},[r,t,d,S]),E=x.useCallback(T=>{T==="new"?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:V=>{n(V.id),l(!1),i(null)}}):T==="reset"&&r?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:V=>{n(V.id),l(!1),i(null)}}):T==="stop"&&r&&j.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,_,j]),I=x.useCallback(T=>{r&&N.mutate({id:T,sessionId:r})},[r,N]),O=x.useCallback(T=>{r&&k.mutate({id:T,sessionId:r})},[r,k]),B=T=>{i(T),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>B("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(It,{className:"h-4 w-4"}),"/new"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>B("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(NI,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>B("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(tm,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(X,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(Ose,{messages:b,isLoading:v,currentUserId:t,className:"min-h-0"}),a.jsx(Ase,{sessionId:r,onSend:C,onAttachClick:()=>u(!0),disabled:!r,isSending:S.isPending,availableTools:Qse})]}),w.length>0&&a.jsx(pt,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(T=>a.jsx(zse,{invocation:T,onApprove:I,onDeny:O},T.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(Wse,{session:y??null,sessions:g,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(Vse,{traces:h,onExport:()=>m([])})]})]}),a.jsx(Kse,{open:c,onOpenChange:u,attachments:d,onAdd:(T,V)=>f(L=>[...L,{url:T,name:V}]),onRemove:T=>f(V=>V.filter((L,K)=>K!==T)),onConfirm:()=>{},maxAttachments:5}),a.jsx(Yse,{open:o,onOpenChange:l,action:s,onConfirm:E,isLoading:_.isPending||j.isPending})]})}const ya={getChannels:async()=>{const{data:e,error:t}=await z.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await z.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await z.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await z.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await z.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await ya.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await z.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await z.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await z.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=z.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await z.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t},getUserMappings:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("user_mappings").select("*").eq("channel_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createUserMapping:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("user_mappings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateUserMapping:async(e,t)=>{const{data:r,error:n}=await z.from("user_mappings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteUserMapping:async e=>{const{error:t}=await z.from("user_mappings").delete().eq("id",e);if(t)throw new Error(t.message)},getChannelAdapterMessages:async(e,t)=>{if(!e)return[];let r=z.from("channel_adapter_messages").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.direction&&(r=r.eq("direction",t.direction)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createChannelAdapterMessage:async e=>{const{data:{user:t}}=await z.auth.getUser(),r={...e,user_id:e.user_id??(t==null?void 0:t.id)??null},{data:n,error:s}=await z.from("channel_adapter_messages").insert(r).select().single();if(s)throw new Error(s.message);return n},sendTestMessage:async(e,t)=>{const r=await ya.createDeliveryLog({channel_id:e,event_type:"test_message_outbound",success:!0,metadata:{content:t.slice(0,200),test:!0}});try{const n=await ya.createChannelAdapterMessage({channel_id:e,content:t,direction:"outbound",metadata:{test:!0}});return{deliveryLog:r,message:n}}catch{return{deliveryLog:r}}}};function Jse(e,t){return e().catch(()=>t)}const vn={all:["channels"],list:()=>[...vn.all,"list"],detail:e=>[...vn.all,"detail",e],adapterConfig:e=>[...vn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...vn.all,"deliveryLogs",e,t],userMappings:e=>[...vn.all,"userMappings",e],channelAdapterMessages:(e,t)=>[...vn.all,"channelAdapterMessages",e,t]};function Zse(){return Ce({queryKey:vn.list(),queryFn:()=>Jse(()=>ya.getChannels(),[])})}function eae(e){return Ce({queryKey:vn.detail(e??""),queryFn:()=>e?ya.getChannel(e):Promise.resolve(null),enabled:!!e})}function tae(){const e=me();return fe({mutationFn:t=>ya.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:vn.list()}),W.success("Channel added")},onError:t=>{W.error(t.message||"Failed to add channel")}})}function rae(){const e=me();return fe({mutationFn:t=>ya.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:vn.list()}),W.success("Channel removed")},onError:t=>{W.error(t.message||"Failed to remove channel")}})}function nae(e){return Ce({queryKey:vn.adapterConfig(e??""),queryFn:()=>e?ya.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function sae(){const e=me();return fe({mutationFn:t=>ya.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:vn.adapterConfig(n)}),e.invalidateQueries({queryKey:vn.detail(n)}),W.success("Channel config saved")},onError:t=>{W.error(t.message||"Failed to save config")}})}function aae(e,t){return Ce({queryKey:vn.deliveryLogs(e,t),queryFn:()=>e?ya.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}function iae(){const e=me();return fe({mutationFn:({channelId:t,content:r})=>ya.sendTestMessage(t,r),onSuccess:(t,{channelId:r})=>{e.invalidateQueries({queryKey:vn.deliveryLogs(r)}),e.invalidateQueries({queryKey:vn.channelAdapterMessages(r)}),W.success("Test message sent")},onError:t=>{W.error(t.message||"Failed to send test message")}})}const qw={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},oae=ft({provider:nr(["whatsapp","telegram","slack","discord"]),display_name:_e().optional()}),lae=ft({retrieval_mode:nr(["webhook","polling"]),webhook_url:_e().url().optional().or(WN("")),polling_interval_seconds:cs.number().min(30).max(3600).optional()}),cae=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function uae({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s}){const[i,o]=x.useState(1),l=ut({resolver:dt(oae),defaultValues:{provider:s??"telegram",display_name:""}});x.useEffect(()=>{e&&s&&l.setValue("provider",s)},[e,s,l]);const c=ut({resolver:dt(lae),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),u=l.watch("provider"),d=c.watch("retrieval_mode"),f=async()=>{if(!(i===1&&!await l.trigger())&&!(i===2&&!await c.trigger())){if(i===4){const g=l.getValues(),p=c.getValues();r({provider:g.provider,display_name:g.display_name||null,webhook_url:d==="webhook"&&p.webhook_url?p.webhook_url:null,polling_interval_seconds:d==="polling"?p.polling_interval_seconds??60:null}),t(!1),o(1),l.reset(),c.reset();return}o(g=>g+1)}},h=()=>{i>1&&o(g=>g-1)},m=g=>{g||(o(1),l.reset(),c.reset()),t(g)};return a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Add channel"}),a.jsx(Re,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:cae.map(g=>a.jsx("div",{className:J("h-1 flex-1 rounded-full transition-colors",g.id<=i?"bg-primary":"bg-muted"),"aria-hidden":!0},g.id))}),i===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>o(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Provider"}),a.jsxs(ot,{value:u,onValueChange:g=>l.setValue("provider",g),children:[a.jsx(st,{children:a.jsx(lt,{placeholder:"Select provider"})}),a.jsx(at,{children:Object.keys(qw).map(g=>a.jsx(Se,{value:g,children:qw[g]},g))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(ye,{id:"display_name",placeholder:"e.g. Team Telegram",...l.register("display_name")})]})]}),i===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:c.handleSubmit(()=>o(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:d==="webhook",onChange:()=>c.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(SI,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:d==="polling",onChange:()=>c.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(bu,{className:"h-4 w-4"}),"Polling"]})]})]}),d==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(ye,{id:"webhook_url",placeholder:"https://...",...c.register("webhook_url")}),c.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:c.formState.errors.webhook_url.message})]}),d==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(ye,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...c.register("polling_interval_seconds")})]})]}),i===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(nN,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:u==="whatsapp"||u==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),i===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:qw[u]}),l.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:l.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",c.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[i>1?a.jsxs(P,{type:"button",variant:"outline",onClick:h,disabled:n,children:[a.jsx(bv,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(P,{type:"button",onClick:f,disabled:n,children:i===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(Tr,{className:"ml-2 h-4 w-4"})]})})]})]})})}const dae=ft({dm_policy:nr(["pairing","allowlist","open","disabled"]),group_policy:nr(["mention","open","disabled"]),mention_gating:ai()}),zP={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},WP={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function fae({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h,isDirty:m}}=ut({resolver:dt(dae),defaultValues:l}),g=d("mention_gating");x.useEffect(()=>{e&&s&&f({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,f]);const p=b=>{i(b),f(b),t(!1)},y=b=>{b||f(l),t(b)};return a.jsx(Me,{open:e,onOpenChange:y,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Channel policy"}),a.jsx(Re,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"DM policy"}),a.jsxs(ot,{value:d("dm_policy"),onValueChange:b=>u("dm_policy",b,{shouldDirty:!0}),children:[a.jsx(st,{className:J(h.dm_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select DM policy"})}),a.jsx(at,{children:Object.keys(zP).map(b=>a.jsx(Se,{value:b,children:zP[b]},b))})]}),h.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Group policy"}),a.jsxs(ot,{value:d("group_policy"),onValueChange:b=>u("group_policy",b,{shouldDirty:!0}),children:[a.jsx(st,{className:J(h.group_policy&&"border-destructive"),children:a.jsx(lt,{placeholder:"Select group policy"})}),a.jsx(at,{children:Object.keys(WP).map(b=>a.jsx(Se,{value:b,children:WP[b]},b))})]}),h.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:h.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(xr,{id:"mention_gating",checked:g,onCheckedChange:b=>u("mention_gating",b,{shouldDirty:!0})})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>y(!1),children:"Cancel"}),a.jsx(P,{type:"submit",form:"channel-policy-form",disabled:!m||o,children:o?"Saving":"Save"})]})]})})}function hae({open:e,onOpenChange:t,log:r}){return r?a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Gi,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(Re,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",Ba(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}function mae({open:e,onOpenChange:t,channelName:r,onConfirm:n,isDeleting:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"delete-channel-description",children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(Yi,{className:"h-5 w-5 text-destructive"})}),a.jsxs("div",{children:[a.jsx(Te,{children:"Remove channel"}),a.jsx(Re,{id:"delete-channel-description",children:"This will remove the channel integration and its configuration. Delivery logs and identity mappings for this channel will also be removed. This action cannot be undone."})]})]})}),r&&a.jsxs("p",{className:"rounded-lg border border-border bg-card/50 px-4 py-3 text-sm text-muted-foreground",children:["Channel: ",a.jsx("span",{className:"font-medium text-foreground",children:r})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"button",variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove channel"})]})]})})}const og={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},pae={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"},gae=["whatsapp","telegram","slack","discord"];function vae(){const[e,t]=x.useState(!1),[r,n]=x.useState(),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(""),[g,p]=x.useState(null),[y,b]=x.useState(!1),{data:v=[],isLoading:w}=Zse(),{data:_}=eae(s),{data:j}=nae(s),{data:S=[]}=aae(s,{limit:50}),N=tae(),k=rae(),C=sae(),E=iae(),I=R=>{n(R),t(!0)},O=async R=>{const M=await N.mutateAsync({provider:R.provider,display_name:R.display_name,status:"provisioning"});await C.mutateAsync({channel_id:M.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:R.webhook_url??null,polling_interval_seconds:R.polling_interval_seconds??null}),i(M.id),t(!1),n(void 0)},B=R=>{s&&C.mutate({channel_id:s,dm_policy:R.dm_policy,group_policy:R.group_policy,mention_gating:R.mention_gating})},T=R=>{u(R),f(!0)},V=R=>{p(R),b(!0)},L=()=>{g&&(k.mutate(g.id),s===g.id&&i(null),p(null))},K=()=>{!s||!h.trim()||E.mutate({channelId:s,content:h.trim()},{onSuccess:()=>m("")})};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Channels & Adapters"}),a.jsxs("nav",{className:"flex flex-wrap items-center gap-x-4 gap-y-1 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/chat",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Chat"}),a.jsx(ue,{to:"/logs",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Logs"}),a.jsx(ue,{to:"/settings",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Settings"})]})]}),a.jsxs(P,{onClick:()=>I(),className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_280px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Supported platforms"}),a.jsx(pe,{children:"Connect chat surfaces. Select a provider to start the authorization flow."})]}),a.jsx(Z,{children:a.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:gae.map(R=>{const M=v.some($=>$.provider===R);return a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-[10px] border p-4 transition-all duration-200","border-[rgb(var(--border))] bg-card hover:bg-card/80",s&&(_==null?void 0:_.provider)===R&&"ring-2 ring-primary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(bu,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium",children:og[R]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M?"Connected":"Not connected"})]})]}),a.jsxs(P,{variant:M?"outline":"default",size:"sm",onClick:()=>{var $;return M?i((($=v.find(ee=>ee.provider===R))==null?void 0:$.id)??null):I(R)},className:"shrink-0",children:[M?"Open":"Connect",a.jsx(Tr,{className:"ml-1 h-4 w-4"})]})]},R)})})})]}),a.jsxs(ii,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(ka,{className:"grid w-full max-w-md grid-cols-3 rounded-lg p-1 bg-secondary/50",children:[a.jsx(St,{value:"channels",children:"Channels"}),a.jsx(St,{value:"logs",children:"Delivery logs"}),a.jsx(St,{value:"test",children:"Test console"})]}),a.jsx(Nt,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channels list"}),a.jsx(pe,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},R))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(bu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Connect above or Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>I(),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:v.map(R=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors duration-200",s===R.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(R.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(bu,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.display_name||og[R.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[og[R.provider],R.last_event_at&&`  Last event ${_r(new Date(R.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(We,{variant:pae[R.status],className:"shrink-0",children:R.status}),a.jsxs("span",{className:"text-xs text-muted-foreground shrink-0",children:[R.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0","aria-label":"Actions",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{i(R.id),l(!0)},children:[a.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>V(R),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},R.id))})})})]}),a.jsxs(X,{className:"shadow-card rounded-[10px] transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channel config"}),a.jsx(pe,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Z,{children:s?a.jsx("div",{className:"space-y-4",children:j===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(j==null?void 0:j.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:j!=null&&j.mention_gating?"On":"Off"})]})]}),a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.01] active:scale-[0.99]",onClick:()=>l(!0),children:[a.jsx(Hn,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(Nt,{value:"logs",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Delivery logs"}),a.jsxs(pe,{children:["Recent inbound/outbound events",s&&" for selected channel"]})]}),a.jsx(Z,{children:s?S.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(wa,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."}),a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Send a test message to see an entry."})]}):a.jsx(pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:S.map(R=>a.jsx("div",{className:J("flex items-center justify-between rounded-lg border p-3 text-sm",R.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[R.success?a.jsx(wa,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(yx,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:R.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(R.created_at),{addSuffix:!0})})]}),!R.success&&R.error_details&&a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>T(R),className:"shrink-0",children:[a.jsx(Xo,{className:"mr-1 h-4 w-4"}),"Details"]})]})},R.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(bu,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(Nt,{value:"test",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card rounded-[10px]",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Test console"}),a.jsx(pe,{children:"Send test messages through the selected channel. Events appear in Delivery logs."})]}),a.jsx(Z,{children:s?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(ye,{id:"test-message",placeholder:"Type a message to send...",value:h,onChange:R=>m(R.target.value),className:"min-h-[80px] rounded-lg border-border focus-visible:ring-2 focus-visible:ring-primary",disabled:E.isPending})]}),a.jsxs(P,{disabled:!h.trim()||E.isPending,onClick:K,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(cd,{className:"mr-2 h-4 w-4"}),E.isPending?"Sending":"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are logged to delivery logs. Roundtrip and errors appear there."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(cd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]})]}),a.jsx("aside",{className:"space-y-4 lg:order-last",children:a.jsxs(X,{className:"shadow-card rounded-[10px] p-4",children:[a.jsx("h3",{className:"mb-3 text-sm font-semibold text-foreground",children:"Quick links"}),a.jsxs("nav",{className:"flex flex-col gap-2","aria-label":"Channels quick links",children:[a.jsxs(ue,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(ad,{className:"h-4 w-4 shrink-0"}),"Documentation"]}),a.jsxs(ue,{to:"/help",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(Xd,{className:"h-4 w-4 shrink-0"}),"Support"]}),a.jsxs(ue,{to:"/logs",className:"flex items-center gap-3 rounded-lg border border-transparent px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-card hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",children:[a.jsx(vx,{className:"h-4 w-4 shrink-0"}),"Diagnostic tools"]})]})]})})]}),a.jsx(uae,{open:e,onOpenChange:t,onSubmit:O,isSubmitting:N.isPending||C.isPending,initialProvider:r}),a.jsx(fae,{open:o,onOpenChange:l,channelId:s??"",channelName:(_==null?void 0:_.display_name)??(_==null?void 0:_.provider),config:j??null,onSubmit:B,isSubmitting:C.isPending}),a.jsx(mae,{open:y,onOpenChange:b,channelName:g?g.display_name||og[g.provider]:"",onConfirm:L,isDeleting:k.isPending}),a.jsx(hae,{open:d,onOpenChange:f,log:c})]})}const Xn="/skills",uo="/library-skills",Xi={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return be.get(`${Xn}${t?`?${t}`:""}`)},get:e=>be.get(`${Xn}/${e}`),create:e=>be.post(Xn,e),update:(e,t)=>be.patch(`${Xn}/${e}`,t),delete:e=>be.delete(`${Xn}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return be.get(`${Xn}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>be.get(`${Xn}/${e}/test-runs/${t}`),runTest:(e,t)=>be.post(`${Xn}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>be.post(`${Xn}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>be.get(`${Xn}/${e}/check-requirements`),getVersions:e=>be.get(`${Xn}/${e}/versions`),createVersion:(e,t)=>be.post(`${Xn}/${e}/versions`,t),commit:(e,t)=>be.post(`${Xn}/${e}/commit`,t)},hp={list:()=>be.get(uo),get:e=>be.get(`${uo}/${e}`),install:e=>be.post(uo,e),update:(e,t)=>be.patch(`${uo}/${e}`,t),delete:e=>be.delete(`${uo}/${e}`),setEnabled:(e,t)=>be.patch(`${uo}/${e}`,{enabled:t}),registry:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([r,n])=>n!=null)).toString():"";return be.get(`${uo}/registry${t?`?${t}`:""}`)},checkProvenance:(e,t)=>be.get(`${uo}/registry/provenance?slug=${encodeURIComponent(e)}&version=${encodeURIComponent(t)}`)};function mp(e,t){return e().catch(()=>t)}const on={all:["skills"],list:e=>[...on.all,"list",e],detail:e=>[...on.all,"detail",e],testRuns:(e,t)=>[...on.all,"test-runs",e,t],testRun:(e,t)=>[...on.all,"test-run",e,t],versions:e=>[...on.all,"versions",e],gating:e=>[...on.all,"gating",e]};function yae(e){return Ce({queryKey:on.list(e),queryFn:()=>mp(()=>Xi.list(e),[])})}function xae(e){return Ce({queryKey:on.detail(e??""),queryFn:()=>e?mp(()=>Xi.get(e),null):Promise.resolve(null),enabled:!!e})}function bae(){const e=me();return fe({mutationFn:t=>Xi.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:on.list()}),W.success("Skill created")},onError:t=>{W.error(t.message||"Failed to create skill")}})}function wae(){const e=me();return fe({mutationFn:({id:t,data:r})=>Xi.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:on.list()}),e.invalidateQueries({queryKey:on.detail(r)}),W.success("Skill saved")},onError:t=>{W.error(t.message||"Failed to save skill")}})}function jae(e,t){return Ce({queryKey:on.testRuns(e??"",t),queryFn:()=>e?mp(()=>Xi.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function _ae(){const e=me();return fe({mutationFn:({skillId:t,payload:r})=>Xi.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:on.testRuns(r)}),W.success("Test run started")},onError:t=>{W.error(t.message||"Failed to run skill test")}})}function Sae(e){return Ce({queryKey:on.versions(e??""),queryFn:()=>e?mp(()=>Xi.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function Nae(e){return Ce({queryKey:on.gating(e??""),queryFn:()=>e?Xi.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function kae(){const e=me();return fe({mutationFn:({skillId:t,message:r,sign:n})=>Xi.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:on.detail(r)}),e.invalidateQueries({queryKey:on.versions(r)}),W.success("Changes committed")},onError:t=>{W.error(t.message||"Failed to commit")}})}const Ei={all:["library-skills"],list:()=>[...Ei.all,"list"],detail:e=>[...Ei.all,"detail",e],registry:e=>[...Ei.all,"registry",e]};function Cae(){return Ce({queryKey:Ei.list(),queryFn:()=>mp(()=>hp.list(),[])})}function Eae(){const e=me();return fe({mutationFn:t=>hp.install(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ei.list()}),W.success("Skill installed")},onError:t=>{W.error(t.message||"Failed to install skill")}})}function Pae(){const e=me();return fe({mutationFn:({id:t,enabled:r})=>hp.setEnabled(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Ei.list()}),e.invalidateQueries({queryKey:Ei.detail(r)}),W.success("Skill status updated")},onError:t=>{W.error(t.message||"Failed to update skill status")}})}function Oae(){const e=me();return fe({mutationFn:t=>hp.delete(t),onSuccess:()=>{e.invalidateQueries({queryKey:Ei.list()}),W.success("Skill uninstalled")},onError:t=>{W.error(t.message||"Failed to uninstall skill")}})}const Aae=[{id:"gmail-watcher",name:"Gmail Watcher",version:"1.0.0",registry_slug:"gmail-watcher",description:"Watch Gmail via Pub/Sub and deliver events to chat.",readme_content:"# Gmail Watcher\n\nUses Gmail Pub/Sub. Requires env: `GMAIL_CREDENTIALS`, `GMAIL_TOPIC`.\n",frontmatter:{permissions:["network"],env:["GMAIL_CREDENTIALS","GMAIL_TOPIC"]},permissions:["network"],binary_requirements:[],environment_requirements:["GMAIL_CREDENTIALS","GMAIL_TOPIC"],popularity:95,updated_at:new Date().toISOString()},{id:"url-summarizer",name:"URL Summarizer",version:"1.0.0",registry_slug:"url-summarizer",description:"Fetch a URL and summarize content via browser tool.",readme_content:`# URL Summarizer

Uses browser automation. No extra env required.
`,frontmatter:{permissions:["browser"]},permissions:["browser"],binary_requirements:[],environment_requirements:[],popularity:88,updated_at:new Date().toISOString()},{id:"cron-reminder",name:"Cron Reminder",version:"1.0.0",registry_slug:"cron-reminder",description:"Schedule reminders and deliver to chat.",readme_content:`# Cron Reminder

Schedule cron jobs. No extra env.
`,frontmatter:{permissions:[]},permissions:[],binary_requirements:[],environment_requirements:[],popularity:72,updated_at:new Date().toISOString()}];function Tae(e){return Ce({queryKey:Ei.registry(e),queryFn:async()=>{var t;try{return await hp.registry(e)}catch{let r=[...Aae];const n=(t=e==null?void 0:e.search)==null?void 0:t.toLowerCase();n&&(r=r.filter(i=>i.name.toLowerCase().includes(n)||i.registry_slug.toLowerCase().includes(n)));const s=(e==null?void 0:e.sort)??"popularity";return s==="name"?r.sort((i,o)=>i.name.localeCompare(o.name)):s==="recent"?r.sort((i,o)=>o.updated_at>i.updated_at?1:-1):r.sort((i,o)=>(o.popularity??0)-(i.popularity??0)),r}}})}function Rae({source:e,onInstall:t,onUninstall:r,onToggleEnabled:n,isInstalling:s=!1,isUninstalling:i=!1,isUpdating:o=!1}){if(!e)return a.jsxs(X,{className:"animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ad,{className:"h-5 w-5 text-muted-foreground"}),"Skill detail"]}),a.jsx(pe,{children:"SKILL.md, frontmatter, permissions, provenance. Select a skill from the grid or registry to view details."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]});const l=e.type==="installed",c=e.type==="installed"?e.skill:null,u=e.type==="registry"?e.item:null,d=(c==null?void 0:c.name)??(u==null?void 0:u.name)??"",f=(c==null?void 0:c.version)??(u==null?void 0:u.version)??"",h=(c==null?void 0:c.readme_content)??(u==null?void 0:u.readme_content)??"",m=(c==null?void 0:c.frontmatter)??(u==null?void 0:u.frontmatter)??{},g=(c==null?void 0:c.permissions)??(u==null?void 0:u.permissions)??[],p=(c==null?void 0:c.environment_requirements)??(u==null?void 0:u.environment_requirements)??[],y=(c==null?void 0:c.signature_status)??null;return a.jsxs(X,{className:"animate-fade-in-up overflow-hidden",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(ad,{className:"h-5 w-5 text-muted-foreground"}),d]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(We,{variant:"secondary",className:"font-mono text-xs",children:["v",f]}),y&&a.jsxs(We,{variant:y==="verified"?"default":"secondary",className:J(y==="verified"&&"bg-success/20 text-success border-success/30"),children:[a.jsx(np,{className:"mr-1 h-3 w-3"}),y]})]})]}),a.jsx(pe,{children:"SKILL.md content, frontmatter, permissions, and provenance."})]}),a.jsxs(Z,{className:"space-y-4",children:[l&&c&&n&&a.jsxs("div",{className:"flex items-center gap-2 rounded-md border border-border bg-muted/30 px-3 py-2",children:[c.enabled?a.jsx(iN,{className:"h-5 w-5 text-primary","aria-hidden":!0}):a.jsx(aN,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium",children:c.enabled?"Enabled":"Disabled"}),a.jsx(P,{variant:"ghost",size:"sm",className:"ml-auto",disabled:o,onClick:()=>n(c,!c.enabled),children:o?a.jsx(wr,{className:"h-4 w-4 animate-spin"}):"Toggle"})]}),g.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Permissions"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:g.map(b=>a.jsx(We,{variant:"outline",className:"text-xs",children:b},b))})]}),p.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Environment"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:p.join(", ")})]}),Object.keys(m).length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-1",children:"Frontmatter"}),a.jsx("pre",{className:"rounded-md border border-border bg-muted/30 p-3 text-xs overflow-x-auto",children:JSON.stringify(m,null,2)})]}),h&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-foreground mb-2",children:"SKILL.md"}),a.jsx(pt,{className:"h-[240px] w-full rounded-md border border-border bg-muted/20 p-3",children:a.jsx("div",{className:"prose prose-invert prose-sm max-w-none text-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-sans text-sm text-muted-foreground",children:h})})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2 pt-2 border-t border-border",children:[!l&&u&&t&&a.jsx(P,{size:"sm",onClick:()=>t(u),disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Install"]})}),l&&c&&r&&a.jsxs(P,{variant:"destructive",size:"sm",onClick:()=>r(c),disabled:i,children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(en,{className:"mr-2 h-4 w-4"}),"Uninstall"]})]})]})]})}function Mae({open:e,onOpenChange:t,item:r,gatingChecks:n=[],onInstall:s,isInstalling:i=!1}){var S,N,k,C,E,I;const[o,l]=x.useState(0),[c,u]=x.useState({}),[d,f]=x.useState(!1),h=n.length===0||n.every(O=>O.met),m=r!=null&&r.environment_requirements&&Array.isArray(r.environment_requirements)?r.environment_requirements:[],g=m.length>0,p=[{id:"gating",label:"Gating checks"},...g?[{id:"env",label:"Environment"}]:[],{id:"provenance",label:"Provenance"}],y=o,b=h,v=!g||m.every(O=>(c[O]??"").trim().length>0),w=((S=p[p.length-1])==null?void 0:S.id)==="provenance"?d:b&&v,_=()=>{o<p.length-1?l(o+1):w&&s(c)},j=O=>{O||(l(0),u({}),f(!1)),t(O)};return r?a.jsx(Me,{open:e,onOpenChange:j,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"install-skill-description",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{children:["Install ",r.name]}),a.jsx(Re,{id:"install-skill-description",children:"Review gating checks, provide required env (if any), and confirm provenance before installing."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:p.map((O,B)=>a.jsxs("div",{className:J("flex items-center gap-1 rounded-md px-2 py-1 text-xs font-medium",B===y?"bg-primary/20 text-primary":B<y?"bg-muted text-muted-foreground":"text-muted-foreground"),children:[B<y?a.jsx(wa,{className:"h-3.5 w-3.5"}):a.jsx(Jj,{className:"h-3.5 w-3.5"}),O.label]},O.id))}),((N=p[y])==null?void 0:N.id)==="gating"&&a.jsx("div",{className:"space-y-2",children:n.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No gating checks required for this skill."}):n.map(O=>a.jsxs("div",{className:J("flex items-center gap-2 rounded-md border border-border px-3 py-2 text-sm",O.met?"bg-success/10 border-success/30":"bg-warning/10 border-warning/30"),children:[O.met?a.jsx(wa,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(Jj,{className:"h-4 w-4 shrink-0 text-warning"}),a.jsx("span",{children:O.label}),O.message&&a.jsxs("span",{className:"text-muted-foreground",children:[" ",O.message]})]},O.id))}),((k=p[y])==null?void 0:k.id)==="env"&&g&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Provide values for required environment variables (stored securely)."}),m.map(O=>a.jsxs("div",{className:"space-y-1.5",children:[a.jsx(G,{htmlFor:`env-${O}`,className:"text-sm",children:O}),a.jsx("input",{id:`env-${O}`,type:"password",placeholder:"",className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",value:c[O]??"",onChange:B=>u(T=>({...T,[O]:B.target.value}))})]},O))]}),((C=p[y])==null?void 0:C.id)==="provenance"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start gap-2 rounded-md border border-border bg-card p-3",children:[a.jsx(np,{className:"h-5 w-5 shrink-0 text-accent"}),a.jsxs("div",{className:"text-sm",children:[a.jsx("p",{className:"font-medium",children:"Provenance & signature"}),a.jsxs("p",{className:"text-muted-foreground",children:["This skill is from the registry (",r.registry_slug,"). By installing, you confirm that you have reviewed the permissions and accept the source."]})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(xr,{id:"provenance-accept",checked:d,onCheckedChange:O=>f(O===!0)}),a.jsx(G,{htmlFor:"provenance-accept",className:"text-sm font-normal cursor-pointer",children:"I have reviewed the skill and accept the provenance."})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>j(!1),disabled:i,children:"Cancel"}),y<p.length-1?a.jsx(P,{onClick:()=>l(y+1),disabled:((E=p[y])==null?void 0:E.id)==="gating"&&!b||((I=p[y])==null?void 0:I.id)==="env"&&!v,children:"Next"}):a.jsx(P,{onClick:_,disabled:!w||i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}),"Installing"]}):"Install"})]})]})}):null}function $ae({open:e,onOpenChange:t,skill:r,onConfirm:n,isUninstalling:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"uninstall-skill-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Uninstall skill"}),a.jsx(Re,{id:"uninstall-skill-description",children:"Uninstalling will remove this skill from your library. Any cron jobs or workflows that use it may stop working. You can reinstall from the registry later."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Skill: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name}),r.registry_slug&&a.jsxs("span",{className:"ml-2 text-muted-foreground",children:["(",r.registry_slug,")"]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Uninstalling":"Uninstall"})]})]})})}const Iae={eligible:"success",ineligible:"warning",unknown:"secondary"};function Dae(){const[e,t]=x.useState(""),[r,n]=x.useState("popularity"),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),{data:g=[],isLoading:p}=Cae(),{data:y=[],isLoading:b}=Tae({search:e||void 0,sort:r}),v=Eae(),w=Pae(),_=Oae(),j=E=>{u(E),l(!0)},S=E=>{c&&v.mutate({name:c.name,version:c.version,registry_slug:c.registry_slug,readme_content:c.readme_content,frontmatter:c.frontmatter??{},permissions:c.permissions??[],binary_requirements:c.binary_requirements??[],environment_requirements:c.environment_requirements??[],signature_status:"verified",enabled:!0,eligibility_status:"eligible"},{onSuccess:()=>{l(!1),u(null),i(null)}})},N=E=>{m(E),f(!0)},k=()=>{h&&_.mutate(h.id,{onSuccess:()=>{f(!1),m(null),(s==null?void 0:s.type)==="installed"&&s.skill.id===h.id&&i(null)}})},C=x.useMemo(()=>{if(!c)return[];const E=c.environment_requirements??[];return[{id:"permissions",label:"Permissions reviewed",met:!0},...E.map(I=>({id:`env-${I}`,label:`Environment: ${I}`,met:!0}))]},[c]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Skills Library"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(wx,{className:"mr-2 h-4 w-4"}),"Marketplace"]})}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/skill-editor",children:[a.jsx(ad,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(dc,{className:"h-5 w-5 text-muted-foreground"}),"Installed skills"]}),a.jsx(pe,{children:"Enable/disable and manage installed skills. Last run and eligibility status shown."})]}),a.jsx(Z,{children:p?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(E=>a.jsx(ce,{className:"h-28 rounded-lg"},E))}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border bg-muted/20 py-12 text-center",children:[a.jsx(dc,{className:"h-12 w-12 text-muted-foreground mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No skills installed"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Browse the registry below and install skills to get started."})]}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(E=>a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="installed"&&s.skill.id===E.id&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"installed",skill:E}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:E.name}),a.jsx("button",{type:"button",className:"shrink-0 rounded p-1 hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring",onClick:I=>{I.stopPropagation(),w.mutate({id:E.id,enabled:!E.enabled})},disabled:w.isPending,"aria-label":E.enabled?"Disable skill":"Enable skill",children:w.isPending?a.jsx(wr,{className:"h-4 w-4 animate-spin text-muted-foreground"}):E.enabled?a.jsx(iN,{className:"h-5 w-5 text-primary"}):a.jsx(aN,{className:"h-5 w-5 text-muted-foreground"})})]}),a.jsxs(pe,{className:"text-xs font-mono",children:["v",E.version,E.registry_slug&&`  ${E.registry_slug}`]})]}),a.jsx(Z,{className:"pt-0",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[E.last_run_at&&a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground",children:[a.jsx(dl,{className:"h-3.5 w-3.5"}),_r(new Date(E.last_run_at),{addSuffix:!0})]}),a.jsx(We,{variant:Iae[E.eligibility_status],className:"text-xs",children:E.eligibility_status}),E.signature_status==="verified"&&a.jsx(np,{className:"h-3.5 w-3.5 text-success"})]})})]},E.id))})})]}),a.jsxs(X,{className:"overflow-hidden",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"flex items-center gap-2",children:"Registry browser"}),a.jsx(pe,{children:"Search, filter, and install skills from the registry."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ye,{placeholder:"Search skills...",className:"pl-9",value:e,onChange:E=>t(E.target.value)})]}),a.jsxs(ot,{value:r??"popularity",onValueChange:E=>n(E),children:[a.jsx(st,{className:"w-full sm:w-[180px]",children:a.jsx(lt,{placeholder:"Sort by"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"popularity",children:"Popularity"}),a.jsx(Se,{value:"recent",children:"Recent"}),a.jsx(Se,{value:"name",children:"Name"})]})]})]}),b?a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3,4,5,6].map(E=>a.jsx(ce,{className:"h-32 rounded-lg"},E))}):y.length===0?a.jsx("p",{className:"text-sm text-muted-foreground py-6 text-center",children:"No registry skills found. Try a different search or sort."}):a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:y.map(E=>{const I=g.some(O=>O.registry_slug===E.registry_slug);return a.jsxs(X,{className:J("cursor-pointer transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",(s==null?void 0:s.type)==="registry"&&s.item.registry_slug===E.registry_slug&&"ring-2 ring-primary border-primary/50"),onClick:()=>i({type:"registry",item:E}),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base font-medium truncate",children:E.name}),a.jsxs(pe,{className:"text-xs font-mono",children:["v",E.version,"  ",E.registry_slug]})]}),a.jsxs(Z,{className:"pt-0",children:[E.description&&a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:E.description}),a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[E.popularity!=null&&a.jsxs(We,{variant:"secondary",className:"text-xs",children:[E.popularity,"% popular"]}),a.jsx(P,{size:"sm",variant:I?"secondary":"default",disabled:I,onClick:O=>{O.stopPropagation(),I||j(E)},children:I?"Installed":a.jsxs(a.Fragment,{children:[a.jsx(Ir,{className:"mr-1.5 h-3.5 w-3.5"}),"Install"]})})]})]})]},E.id)})})]})]}),a.jsx(Rae,{source:s,onInstall:j,onUninstall:N,onToggleEnabled:(E,I)=>w.mutate({id:E.id,enabled:I}),isInstalling:v.isPending,isUninstalling:_.isPending,isUpdating:w.isPending}),a.jsx(Mae,{open:o,onOpenChange:l,item:c,gatingChecks:C,onInstall:S,isInstalling:v.isPending}),a.jsx($ae,{open:d,onOpenChange:f,skill:h,onConfirm:k,isUninstalling:_.isPending})]})}const Lae=ft({name:_e().min(1,"Name is required"),version:_e().min(1,"Version is required"),description:_e().optional(),permissions:_e().optional(),env_keys:_e().optional()}),zw={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function Fae({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...zw,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=ut({resolver:dt(Lae),defaultValues:i()});x.useEffect(()=>{e&&c(i())},[e]);const d=h=>{const m={name:h.name,version:h.version,description:h.description||void 0,permissions:h.permissions?h.permissions.split(",").map(g=>g.trim()).filter(Boolean):void 0,env_keys:h.env_keys?h.env_keys.split(",").map(g=>g.trim()).filter(Boolean):void 0};n(m),c(zw),t(!1)},f=h=>{h||c(zw),t(h)};return a.jsx(Me,{open:e,onOpenChange:f,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Edit frontmatter"}),a.jsx(Re,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(ye,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:J(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(ye,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:J(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(ye,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(ye,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(ye,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const Uae=ft({message:_e().optional(),sign:ai().optional()}),Ww={message:"",sign:!1};function Bae({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=ut({resolver:dt(Uae),defaultValues:Ww}),f=l("sign"),h=g=>{n({message:g.message||void 0,sign:g.sign}),u(Ww),t(!1)},m=g=>{g||u(Ww),t(g)};return a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Commit changes"}),a.jsx(Re,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(ye,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:J(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(xr,{id:"commit-sign",checked:f,onCheckedChange:g=>c("sign",g)})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function qae({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:J("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(P,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(ud,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:J("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(yI,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(Gi,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(P,{onClick:t,children:"Close"})})]})}):null}const Jc=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function zae(){const{skillId:e}=xW(),t=ul(),[r,n]=x.useState("editor"),[s,i]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[h,m]=x.useState(!1),{data:g=[],isLoading:p}=yae(),{data:y,isLoading:b}=xae(e??null),{data:v=[]}=jae(e??null,{limit:5}),{data:w=[]}=Sae(e??null),{data:_}=Nae(e??null),j=wae(),S=_ae(),N=kae(),k=bae(),C=y??null,E=C&&(s!==C.content||o!==C.name),I=x.useCallback(()=>{C?(i(C.content||Jc),l(C.name||"")):(i(Jc),l(""))},[C]);x.useEffect(()=>{C?(i(C.content||Jc),l(C.name||"")):e||(i(Jc),l(""))},[e,C==null?void 0:C.id,C==null?void 0:C.content,C==null?void 0:C.name]);const O=$=>{t(`/skill-editor/${$}`)},B=()=>{!e||!C||j.mutate({id:e,data:{content:s,name:o||C.name}},{onSuccess:()=>I()})},T=()=>{e&&S.mutate({skillId:e})},V=$=>{e&&N.mutate({skillId:e,...$},{onSuccess:()=>f(!1)})},L=$=>{!e||!C||j.mutate({id:e,data:{frontmatter:{...C.frontmatter,...$}}},{onSuccess:()=>{u(!1)}})},K=v[0],R=_&&!_.passed,M=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(i7,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(m7,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:B,disabled:!e||!E||j.isPending,children:[a.jsx(sN,{className:"mr-1 h-4 w-4"}),j.isPending?"Saving":"Save"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>m(!0),className:R?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(Gi,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(!0),disabled:!e,children:[a.jsx(o7,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(P,{size:"sm",onClick:T,disabled:!e||S.isPending,children:[a.jsx(Ha,{className:"mr-1 h-4 w-4"}),S.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(X,{className:"lg:col-span-1",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-sm",children:"Skills"}),a.jsx(pe,{children:"Select a skill to edit."})]}),a.jsxs(Z,{className:"pt-0",children:[p?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-9 w-full"}),a.jsx(ce,{className:"h-9 w-full"}),a.jsx(ce,{className:"h-9 w-4/5"})]}):g.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(P,{size:"sm",variant:"outline",className:"w-full",onClick:()=>k.mutate({user_id:"",name:"Untitled Skill",content:Jc},{onSuccess:$=>{t(`/skill-editor/${$.id}`)}}),disabled:k.isPending,children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),k.isPending?"Creating":"New skill"]})]}):a.jsx(pt,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:g.map($=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>O($.id),className:J("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===$.id&&"bg-primary/15 text-primary"),children:[a.jsx(or,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:$.name}),a.jsx(Tr,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},$.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(pt,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map($=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:$.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:$.changes?"":""})]},$.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:b&&e?a.jsx(X,{children:a.jsx(Z,{className:"flex items-center justify-center py-12",children:a.jsx(ce,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(ii,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(ka,{className:"grid w-full grid-cols-3",children:[a.jsx(St,{value:"editor",children:"SKILL.md editor"}),a.jsx(St,{value:"preview",children:"Preview"}),a.jsx(St,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(Nt,{value:"editor",className:"mt-4",children:a.jsxs(X,{className:"relative overflow-hidden",children:[h&&a.jsx(qae,{open:h,onClose:()=>m(!1),requirements:M.map($=>({id:$.id,label:$.label,met:$.met,message:$.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(Z,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(G,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(ye,{id:"skill-name",value:o,onChange:$=>l($.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:Jc,value:s,onChange:$=>i($.target.value)})]})]})}),a.jsx(Nt,{value:"preview",className:"mt-4",children:a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(Nt,{value:"frontmatter",className:"mt-4",children:a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(C==null?void 0:C.frontmatter)&&Object.keys(C.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(C.frontmatter,null,2)})]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-sm",children:"Test runner"}),a.jsx(pe,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Z,{children:K?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",K.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(K.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:K.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(Fae,{open:c,onOpenChange:u,initialValues:C==null?void 0:C.frontmatter,onSubmit:L,isSubmitting:j.isPending}),a.jsx(Bae,{open:d,onOpenChange:f,skillName:C==null?void 0:C.name,onSubmit:V,isSubmitting:N.isPending})]})}const Wae=10,Vw=["voice_wake","talk_mode","remote_exec","browser_proxy","camera_capture"];function VP(e){return{voice_wake:"Wake word detection",talk_mode:"Voice conversation mode",remote_exec:"Remote command execution",browser_proxy:"Browser/CDP proxy",camera_capture:"Camera and screen capture"}[e]??e}const Gn={getNodes:async()=>{const{data:e,error:t}=await z.from("nodes").select("*").order("last_active_at",{ascending:!1,nullsFirst:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getNode:async e=>{const{data:t,error:r}=await z.from("nodes").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createNode:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("nodes").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNode:async(e,t)=>{const{data:r,error:n}=await z.from("nodes").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteNode:async e=>{const{error:t}=await z.from("nodes").delete().eq("id",e);if(t)throw new Error(t.message)},getNodeCapabilities:async e=>{const{data:t,error:r}=await z.from("node_capabilities").select("*").eq("node_id",e).order("capability_key");if(r)throw new Error(r.message);return t??[]},getNodeCapability:async(e,t)=>{const{data:r,error:n}=await z.from("node_capabilities").select("*").eq("node_id",e).eq("capability_key",t).single();if(n){if(n.code==="PGRST116")return null;throw new Error(n.message)}return r},upsertNodeCapability:async e=>{const{data:t,error:r}=await z.from("node_capabilities").upsert({node_id:e.node_id,capability_key:e.capability_key,status:e.status??"enabled",description:e.description??null,configurations:e.configurations??{}},{onConflict:"node_id,capability_key"}).select().single();if(r)throw new Error(r.message);return t},updateNodeCapability:async(e,t)=>{const{data:r,error:n}=await z.from("node_capabilities").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getNodeApprovals:async e=>{let t=z.from("node_approvals").select("*").order("created_at",{ascending:!1});e!=null&&e.nodeId&&(t=t.eq("node_id",e.nodeId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},createNodeApproval:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,requester_id:t.id},{data:n,error:s}=await z.from("node_approvals").insert(r).select().single();if(s)throw new Error(s.message);return n},updateNodeApproval:async(e,t)=>{const{data:r,error:n}=await z.from("node_approvals").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},startPairing:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const t=Vae(),r=new Date;r.setMinutes(r.getMinutes()+Wae);const n={user_id:e.id,pairing_code:t,expires_at:r.toISOString()},{data:s,error:i}=await z.from("pairing_requests").insert(n).select().single();if(i)throw new Error(i.message);return s},claimPairing:async(e,t)=>{const{data:{user:r}}=await z.auth.getUser();if(!r)throw new Error("Not authenticated");const{data:n,error:s}=await z.from("pairing_requests").select("*").eq("pairing_code",e.trim()).eq("user_id",r.id).is("node_id",null).gt("expires_at",new Date().toISOString()).single();if(s||!n)throw new Error("Invalid or expired pairing code");const i=await Gn.createNode({name:t??`Node ${e.slice(-6)}`,status:"paired",connection_health:"healthy",capabilities:Vw});await z.from("pairing_requests").update({node_id:i.id}).eq("id",n.id);for(const o of Vw)await Gn.upsertNodeCapability({node_id:i.id,capability_key:o,status:"enabled",description:VP(o)});return i},getDefaultCapabilityKeys:()=>Vw,getCapabilityDescription:VP};function Vae(){const e="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let r=0;r<8;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function n5(e,t){return e().catch(()=>t)}const Wr={all:["nodes"],list:()=>[...Wr.all,"list"],detail:e=>[...Wr.all,"detail",e],capabilities:e=>[...Wr.all,"capabilities",e],approvals:e=>[...Wr.all,"approvals",e],pairing:()=>[...Wr.all,"pairing"]};function Kae(){return Ce({queryKey:Wr.list(),queryFn:()=>n5(()=>Gn.getNodes(),[])})}function Hae(e){return Ce({queryKey:Wr.detail(e??""),queryFn:()=>e?Gn.getNode(e):Promise.resolve(null),enabled:!!e})}function Gae(){const e=me();return fe({mutationFn:({id:t,data:r})=>Gn.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.detail(r)}),W.success("Node updated")},onError:t=>{W.error(t.message||"Failed to update node")}})}function Yae(){const e=me();return fe({mutationFn:t=>Gn.deleteNode(t),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.approvals()}),W.success("Node removed")},onError:t=>{W.error(t.message||"Failed to remove node")}})}function Qae(e){return Ce({queryKey:Wr.capabilities(e??""),queryFn:()=>e?Gn.getNodeCapabilities(e):Promise.resolve([]),enabled:!!e})}function Xae(){const e=me();return fe({mutationFn:t=>Gn.upsertNodeCapability(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Wr.capabilities(r.node_id)}),e.invalidateQueries({queryKey:Wr.detail(r.node_id)}),W.success("Capability updated")},onError:t=>{W.error(t.message||"Failed to update capability")}})}function Jae(e){return Ce({queryKey:Wr.approvals(e),queryFn:()=>n5(()=>Gn.getNodeApprovals(e),[])})}function Zae(){const e=me();return fe({mutationFn:({id:t,data:r})=>Gn.updateNodeApproval(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.approvals()}),W.success("Approval updated")},onError:t=>{W.error(t.message||"Failed to update approval")}})}function eie(){const e=me();return fe({mutationFn:()=>Gn.startPairing(),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.pairing()})},onError:t=>{W.error(t.message||"Failed to start pairing")}})}function tie(){const e=me();return fe({mutationFn:({code:t,nodeName:r})=>Gn.claimPairing(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Wr.list()}),e.invalidateQueries({queryKey:Wr.pairing()}),W.success("Device paired")},onError:t=>{W.error(t.message||"Failed to pair device")}})}function rie(e){const t=new Date(e).getTime(),r=Date.now(),n=Math.max(0,Math.floor((t-r)/1e3)),s=Math.floor(n/60),i=n%60;return`${s}:${i.toString().padStart(2,"0")}`}function nie({open:e,onOpenChange:t,pairingRequest:r,onStartPairing:n,isStartingPairing:s,onPaired:i}){const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),h=tie();x.useEffect(()=>{if(!r||!e)return;const y=()=>l(rie(r.expires_at));y();const b=setInterval(y,1e3);return()=>clearInterval(b)},[r,e]);const m=()=>{r&&(navigator.clipboard.writeText(r.pairing_code),f(!0),setTimeout(()=>f(!1),2e3))},g=async()=>{if(c.trim())try{await h.mutateAsync({code:c.trim()}),i==null||i(),t(!1),u("")}catch{}},p=r&&new Date(r.expires_at).getTime()<=Date.now();return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsx(Oe,{className:"max-w-[640px]","aria-describedby":"pairing-description",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Pair device"}),a.jsx(Re,{id:"pairing-description",children:"Scan the QR code or enter the code on your device to pair. Code expires in 10 minutes."})]}),r?a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:J("flex h-40 w-40 flex-col items-center justify-center rounded-lg border-2 border-dashed border-border bg-muted/30",p&&"opacity-60"),children:[a.jsx(nN,{className:"h-16 w-16 text-muted-foreground"}),a.jsx("span",{className:"mt-2 text-xs text-muted-foreground",children:"QR code"}),a.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Scan with your device app"})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Lo,{className:"h-4 w-4"}),a.jsx("span",{children:p?"Expired":`Expires in ${o}`})]})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{className:"text-muted-foreground",children:"One-time code"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("code",{className:"flex-1 rounded border border-border bg-muted/50 px-3 py-2 text-lg font-mono tracking-widest",children:r.pairing_code}),a.jsx(P,{variant:"outline",size:"icon",onClick:m,"aria-label":"Copy code",children:d?a.jsx(Qd,{className:"h-4 w-4 text-success"}):a.jsx(xI,{className:"h-4 w-4"})})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter this code on your device if you cannot scan the QR code."}),a.jsxs("div",{className:"border-t border-border pt-4",children:[a.jsx(G,{htmlFor:"manual-code",className:"text-muted-foreground",children:"Or enter a code from another device"}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsx(ye,{id:"manual-code",placeholder:"e.g. ABCD1234",value:c,onChange:y=>u(y.target.value.toUpperCase().slice(0,12)),className:"font-mono uppercase tracking-wider"}),a.jsx(P,{onClick:g,disabled:!c.trim()||h.isPending,children:h.isPending?"Pairing":"Pair"})]})]})]})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center gap-4 py-8",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Start pairing to generate a QR code and one-time code."}),a.jsx(P,{onClick:n,disabled:s,className:"min-w-[160px]",children:s?"Generating":"Start pairing"})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),r&&!p&&a.jsx(P,{variant:"outline",onClick:n,disabled:s,children:"New code"})]})]})})})}const sie={pending:{label:"Pending",variant:"secondary",icon:Lo},approved:{label:"Approved",variant:"success",icon:wa},denied:{label:"Denied",variant:"destructive",icon:yx}};function aie({open:e,onOpenChange:t,approval:r,node:n,onApprove:s,onDeny:i,isUpdating:o=!1}){var f;if(!r)return null;const{label:l,variant:c,icon:u}=sie[r.status],d=r.status==="pending";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"approval-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Approval request"}),a.jsx(Re,{id:"approval-description",children:"Review and approve or deny this capability or execution request."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:c,className:"gap-1",children:[a.jsx(u,{className:"h-3 w-3"}),l]}),a.jsx("span",{className:"text-sm text-muted-foreground",children:_r(new Date(r.created_at),{addSuffix:!0})})]}),a.jsxs("dl",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Action"}),a.jsx("dd",{className:"font-medium capitalize",children:r.action_type.replace(/_/g," ")})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Node"}),a.jsx("dd",{className:"font-medium",children:(n==null?void 0:n.name)??((f=n==null?void 0:n.id)==null?void 0:f.slice(0,8))??""})]}),r.capability_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Capability"}),a.jsxs("dd",{className:"font-medium",children:[r.capability_id.slice(0,8),""]})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),d&&a.jsxs(a.Fragment,{children:[a.jsx(P,{variant:"outline",className:"text-destructive hover:bg-destructive/10 hover:text-destructive",onClick:()=>i(r.id),disabled:o,children:"Deny"}),a.jsx(P,{onClick:()=>s(r.id),disabled:o,children:o?"Updating":"Approve"})]})]})]})})}const iie=ft({status:nr(["enabled","disabled","pending_approval"]),description:_e().optional()});function oie({open:e,onOpenChange:t,node:r,capability:n,onSubmit:s,isSubmitting:i=!1}){const o=ut({resolver:dt(iie),defaultValues:{status:"enabled",description:""},values:n!=null?{status:n.status,description:n.description??""}:void 0});if(!r)return null;const l=n?Gn.getCapabilityDescription(n.capability_key):"";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"capability-config-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Capability configuration"}),a.jsxs(Re,{id:"capability-config-description",children:["Update status and description for this capability on"," ",a.jsx("span",{className:"font-medium",children:r.name??"node"}),"."]})]}),a.jsxs("form",{onSubmit:o.handleSubmit(s),className:"space-y-4",children:[n&&a.jsxs("div",{className:"rounded-lg border border-border bg-muted/30 px-3 py-2 text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Capability: "}),a.jsx("span",{className:"font-medium capitalize",children:n.capability_key.replace(/_/g," ")}),l&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:l})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cap-status",children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:c=>o.setValue("status",c),children:[a.jsx(st,{id:"cap-status",children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"enabled",children:"Enabled"}),a.jsx(Se,{value:"disabled",children:"Disabled"}),a.jsx(Se,{value:"pending_approval",children:"Pending approval"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"cap-description",children:"Description (optional)"}),a.jsx(ye,{id:"cap-description",placeholder:"e.g. Remote exec for backup scripts",...o.register("description"),className:J(o.formState.errors.description&&"border-destructive")}),o.formState.errors.description&&a.jsx("p",{className:"text-xs text-destructive",children:o.formState.errors.description.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,children:i?"Saving":"Save"})]})]})]})})}function lie({open:e,onOpenChange:t,node:r,onConfirm:n,isUnpairing:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"unpair-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Revoke / Unpair device"}),a.jsx(Re,{id:"unpair-description",children:"Unpairing will remove this device from your account. The device will need to be paired again to regain access. This cannot be undone."})]}),r&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Device: ",a.jsx("span",{className:"font-medium text-foreground",children:r.name??`Node ${r.id.slice(0,8)}`})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Unpairing":"Unpair"})]})]})})}function cie(e){const t=e.find(n=>n.capability_key==="remote_exec");if(!(t!=null&&t.configurations)||typeof t.configurations!="object")return[];const r=t.configurations.allowlist;return Array.isArray(r)?r:[]}function uie(e){const t=e.find(r=>r.capability_key==="voice_wake");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function die(e){const t=e.find(r=>r.capability_key==="talk_mode");return t!=null&&t.configurations&&typeof t.configurations=="object"?t.configurations:null}function fie({node:e,capabilities:t,className:r}){if(!e)return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(pe,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to view details and configuration."})]})})]});const n=cie(t),s=uie(t),i=die(t);return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",r),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-muted-foreground"}),"Node details"]}),a.jsx(pe,{children:"Exec allowlist, voice wake, TTS preferences, and stored tokens."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(PI,{className:"h-4 w-4 text-muted-foreground"}),"Remote exec allowlist"]}),n.length>0?a.jsx(pt,{className:"h-[72px] rounded-md border border-border px-3 py-2",children:a.jsx("ul",{className:"space-y-1 text-xs font-mono text-muted-foreground",children:n.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Tr,{className:"h-3 w-3 shrink-0"}),o]},l))})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"No allowlist configured. Edit remote_exec capability to set allowed commands."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(ld,{className:"h-4 w-4 text-muted-foreground"}),"Voice wake"]}),s&&Object.keys(s).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(s,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media or via capability."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(b7,{className:"h-4 w-4 text-muted-foreground"}),"TTS preferences"]}),i&&Object.keys(i).length>0?a.jsx("div",{className:"rounded-md border border-border bg-muted/30 px-3 py-2 text-xs text-muted-foreground",children:a.jsx("pre",{className:"whitespace-pre-wrap font-mono",children:JSON.stringify(i,null,2)})}):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Default. Configure in Voice & Media."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-foreground",children:[a.jsx(id,{className:"h-4 w-4 text-muted-foreground"}),"Stored tokens"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"CDP and auth tokens are stored securely. Rotate from Settings or when unpairing."})]})]})]})}const hie={paired:"success",offline:"destructive",error:"warning"},mie={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},pie={voice_wake:ld,talk_mode:ld,remote_exec:PI,browser_proxy:bx,camera_capture:r7},gie={voice_wake:"Voice",talk_mode:"Talk",remote_exec:"Exec",browser_proxy:"Browser",camera_capture:"Camera"};function vie(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,p]=x.useState(!1),[y,b]=x.useState(!1),[v,w]=x.useState(null),{data:_=[],isLoading:j}=Kae(),{data:S}=Hae(s),{data:N=[]}=Qae(s),{data:k=[]}=Jae({limit:20}),C=eie(),E=Gae(),I=Yae(),O=Xae(),B=Zae(),T=k.find(D=>D.id===c),V=async()=>{try{const D=await C.mutateAsync();n(D)}catch{}},L=D=>{!s||!h||(O.mutate({node_id:s,capability_key:h.capability_key,status:D.status,description:D.description??null}),f(!1),m(null))},K=D=>{B.mutate({id:D,data:{status:"approved"}}),l(!1),u(null)},R=D=>{B.mutate({id:D,data:{status:"denied"}}),l(!1),u(null)},M=(D,ie)=>{E.mutate({id:D,data:{connection_health:ie}})},$=D=>{w(D),b(!0)},ee=()=>{v&&(I.mutate(v.id),s===v.id&&i(null),w(null))};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Tr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Nodes (Paired Devices)"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Manage paired devices, capabilities, and approval policies."})]}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Nodes list"}),a.jsx(pe,{children:"Paired devices with capability badges. Select a node to manage capabilities and exec allowlist."})]}),a.jsx(Z,{children:j?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(D=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},D))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Ka,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair New Device to add a device via QR or code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Pair New Device"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(D=>a.jsxs("div",{className:J("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",s===D.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>i(D.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(Ka,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:D.name??`Node ${D.id.slice(0,8)}`}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:["ID: ",D.id.slice(0,8),D.id.length>8?"":""]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last seen:"," ",D.last_active_at?_r(new Date(D.last_active_at),{addSuffix:!0}):"Never"]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-1.5 shrink-0",children:[(D.capabilities??[]).slice(0,4).map(ie=>a.jsx(We,{variant:"secondary",className:"text-[10px] font-normal",children:gie[ie]??ie},ie)),a.jsx(We,{variant:hie[D.status],className:"shrink-0",children:D.status}),a.jsx(We,{variant:mie[D.connection_health],className:"shrink-0",children:D.connection_health})]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{i(D.id),p(!0)},children:[a.jsx(oN,{className:"mr-2 h-4 w-4"}),"Connection health"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>$(D),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Revoke / Unpair"]})]})]})]},D.id))})})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Pair node"}),a.jsx(pe,{children:"QR on left, code and instructions on right, expiry countdown."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(nN,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Start pairing"]})]})})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(fie,{node:S??null,capabilities:N}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Capabilities"}),a.jsx(pe,{children:"Enable or disable capabilities for the selected node."})]}),a.jsx(Z,{children:s?N.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-10 w-full"})]}):a.jsx("div",{className:"space-y-2",children:N.map(D=>{const ie=pie[D.capability_key]??Ka;return a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ie,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:D.capability_key.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Gn.getCapabilityDescription(D.capability_key)})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(We,{variant:D.status==="enabled"?"success":D.status==="pending_approval"?"warning":"secondary",children:D.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{m(D),f(!0)},"aria-label":"Edit capability",children:a.jsx(Hn,{className:"h-4 w-4"})})]})]},D.id)})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hn,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a node to manage capabilities."})]})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Approval history"}),a.jsx(pe,{children:"Exec approvals, denied runs, and pending capability or execution requests."})]}),a.jsx(Z,{children:k.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(np,{className:"mb-3 h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No approvals yet."})]}):a.jsx(pt,{className:"h-[240px] pr-2",children:a.jsx("div",{className:"space-y-2",children:k.map(D=>a.jsxs("button",{type:"button",onClick:()=>{u(D.id),l(!0)},className:"flex w-full items-center justify-between rounded-lg border border-border p-3 text-left transition-colors hover:bg-card",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium capitalize",children:D.action_type.replace(/_/g," ")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_r(new Date(D.created_at),{addSuffix:!0})})]}),a.jsx(We,{variant:"secondary",children:D.status})]},D.id))})})})]})]})]}),a.jsx(nie,{open:e,onOpenChange:t,pairingRequest:r,onStartPairing:V,isStartingPairing:C.isPending,onPaired:()=>{n(null),t(!1)}}),a.jsx(aie,{open:o,onOpenChange:l,approval:T??null,node:T?_.find(D=>D.id===T.node_id)??null:null,onApprove:K,onDeny:R,isUpdating:B.isPending}),a.jsx(oie,{open:d,onOpenChange:f,node:S??null,capability:h,onSubmit:L,isSubmitting:O.isPending}),a.jsx(QF,{node:S??null,open:g,onOpenChange:p,onUpdateHealth:M,isUpdating:E.isPending}),a.jsx(lie,{open:y,onOpenChange:b,node:v,onConfirm:ee,isUnpairing:I.isPending})]})}function yie({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{"aria-describedby":"cron-delete-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Delete cron job?"}),a.jsxs(Re,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const xie={running:{label:"Running",icon:wr,variant:"secondary"},completed:{label:"Completed",icon:wa,variant:"default"},failed:{label:"Failed",icon:yx,variant:"destructive"},aborted:{label:"Aborted",icon:ZH,variant:"outline"}};function bie({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48"})]}),a.jsx(Z,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(sh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(pe,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=xie[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(We,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:_r(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(sh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(pe,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(sh,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(sh,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(pe,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}const wie=[{to:"/cron",label:"Scheduling",icon:dl},{to:"/webhooks",label:"Webhooks & Hooks",icon:jv}];function s5(){return a.jsx("nav",{className:"mb-6 flex flex-wrap gap-2 border-b border-border pb-4","aria-label":"Scheduling and Webhooks sections",children:wie.map(({to:e,label:t,icon:r})=>a.jsxs(F4,{to:e,end:e!=="/webhooks",className:({isActive:n})=>J("inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-all","hover:bg-secondary/50 hover:scale-[1.02] active:scale-[0.98]",n?"bg-primary text-primary-foreground shadow-md":"text-muted-foreground"),children:[a.jsx(r,{className:"h-4 w-4","aria-hidden":!0}),t]},e))})}function jie(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[d,f]=x.useState(null),{data:h}=Kx(),m=(h==null?void 0:h.user_id)??"",{data:g=[],isLoading:p}=lF(),{data:y=[],isLoading:b}=vne(c??d,{limit:20}),v=cF(),w=pne(),_=gne(),j=yne(),S=()=>{i(null),t(!0)},N=T=>{i(T),t(!0)},k=T=>{s?w.mutate({id:s.id,data:T},{onSuccess:()=>{t(!1),i(null)}}):v.mutate(T,{onSuccess:()=>t(!1)})},C=T=>{l(T),n(!0)},E=T=>{_.mutate(T,{onSuccess:()=>{n(!1),l(null),c===T&&u(null)}})},I=T=>{f(T.id),j.mutate(T.id,{onSuccess:()=>{u(T.id),f(null)},onError:()=>f(null)})},O=T=>T.name||T.description||"Unnamed job",B=T=>T==="active"?"default":T==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsx(s5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(P,{onClick:S,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(X,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Cron list"}),a.jsx(pe,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Z,{className:"p-0",children:p?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(T=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},T))}):g.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:g.map(T=>a.jsxs("tr",{className:J("border-b border-border transition-colors hover:bg-secondary/30",c===T.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Rr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:T.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(We,{variant:B(T.status),children:T.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.next_run_time?_r(new Date(T.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:T.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>I(T),disabled:j.isPending&&d===T.id,className:"transition-transform hover:scale-[1.02]",children:[j.isPending&&d===T.id?a.jsx(Lo,{className:"h-4 w-4 animate-spin"}):a.jsx(Ha,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:j.isPending&&d===T.id?"Running":"Run now"})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>N(T),children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>{u(T.id)},children:[a.jsx(Lo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},T.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:g.map(T=>a.jsx(X,{className:J("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===T.id&&"ring-2 ring-primary"),children:a.jsxs(Z,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:O(T)}),T.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Rr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:T.schedule}),a.jsx(We,{variant:B(T.status),className:"mt-2",children:T.status}),T.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",_r(new Date(T.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>I(T),children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Rt,{onClick:()=>N(T),children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>u(T.id),children:[a.jsx(Lo,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>C(T),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>I(T),disabled:j.isPending&&d===T.id,children:[j.isPending&&d===T.id?a.jsx(Lo,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Ha,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(P,{variant:"outline",size:"sm",onClick:()=>N(T),children:"Edit"})]})]})},T.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(dl,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(P,{onClick:S,className:"mt-4",children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(bie,{jobId:c??d,runs:y,isLoading:b}),a.jsx(YF,{open:e,onOpenChange:t,onSubmit:k,isSubmitting:v.isPending||w.isPending,userId:m,job:s}),a.jsx(yie,{job:o,open:r,onOpenChange:n,onConfirm:E,isDeleting:_.isPending})]})}function _ie(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const Kr={getWebhooks:async()=>{const{data:e,error:t}=await z.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await z.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=_ie(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null,rate_limit:e.rate_limit??null},{data:o,error:l}=await z.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await z.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await z.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},testWebhook:async e=>{const t=await Kr.getWebhook(e);if(!t)throw new Error("Webhook not found");try{const r=await fetch(t.url,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({_test:!0,timestamp:new Date().toISOString(),source:"control-ui"})});return{ok:r.ok,message:r.ok?"Test request sent":await r.text().catch(()=>r.statusText)}}catch(r){return{ok:!1,message:r instanceof Error?r.message:"Request failed"}}},getHookScripts:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)return[];let r=z.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await z.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await z.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await z.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await z.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await Kr.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await z.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await z.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await z.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getGmailPubSubSettings:async()=>{const{data:e,error:t}=await z.from("gmail_pubsub_settings").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getGmailPubSubSetting:async e=>{const{data:t,error:r}=await z.from("gmail_pubsub_settings").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createGmailPubSubSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,name:e.name??"default",configuration_details:e.configuration_details??{},is_active:e.is_active??!1,last_tested_at:e.last_tested_at??null,metadata:e.metadata??{}},{data:n,error:s}=await z.from("gmail_pubsub_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},updateGmailPubSubSetting:async(e,t)=>{const{data:r,error:n}=await z.from("gmail_pubsub_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteGmailPubSubSetting:async e=>{const{error:t}=await z.from("gmail_pubsub_settings").delete().eq("id",e);if(t)throw new Error(t.message)},testGmailPubSubSetting:async e=>{const t=await Kr.getGmailPubSubSetting(e);if(!t)throw new Error("Gmail Pub/Sub setting not found");const r=t.configuration_details,n=r==null?void 0:r.push_endpoint;if(!n)return{ok:!1,message:"Push endpoint not configured"};try{const s=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:{data:btoa(unescape(encodeURIComponent(JSON.stringify({test:!0}))))}})}),i=s.ok||s.status===200;return await Kr.updateGmailPubSubSetting(e,{last_tested_at:new Date().toISOString()}),{ok:i,message:i?"Test sent":await s.text().catch(()=>s.statusText)}}catch(s){return{ok:!1,message:s instanceof Error?s.message:"Request failed"}}}};function a5(e,t){return e().catch(()=>t)}const ur={all:["webhooks"],list:()=>[...ur.all,"list"],detail:e=>[...ur.all,"detail",e],hookScripts:e=>[...ur.all,"hookScripts",e],payloadTemplate:e=>[...ur.all,"payloadTemplate",e],gmailPubSubSettings:()=>[...ur.all,"gmailPubSubSettings"],gmailPubSubSetting:e=>[...ur.all,"gmailPubSubSetting",e]};function Sie(){return Ce({queryKey:ur.list(),queryFn:()=>a5(()=>Kr.getWebhooks(),[])})}function Nie(){const e=me();return fe({mutationFn:t=>Kr.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.list()}),W.success("Webhook created")},onError:t=>{W.error(t.message||"Failed to create webhook")}})}function kie(){const e=me();return fe({mutationFn:t=>Kr.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.list()}),W.success("Webhook removed")},onError:t=>{W.error(t.message||"Failed to remove webhook")}})}function Cie(){const e=me();return fe({mutationFn:t=>Kr.testWebhook(t),onSuccess:t=>{e.invalidateQueries({queryKey:ur.list()}),t.ok?W.success(t.message??"Test request sent"):W.error(t.message??"Test failed")},onError:t=>{W.error(t.message||"Test failed")}})}function Eie(e){return Ce({queryKey:ur.hookScripts(e),queryFn:()=>Kr.getHookScripts(e)})}function Pie(){const e=me();return fe({mutationFn:t=>Kr.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:ur.hookScripts(r.webhook_id??null)}),W.success("Hook script added")},onError:t=>{W.error(t.message||"Failed to add hook script")}})}function Oie(){const e=me();return fe({mutationFn:({id:t,data:r})=>Kr.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:ur.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:ur.hookScripts(null)}),W.success("Hook script updated")},onError:t=>{W.error(t.message||"Failed to update hook script")}})}function Aie(){const e=me();return fe({mutationFn:t=>Kr.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.all}),W.success("Hook script removed")},onError:t=>{W.error(t.message||"Failed to remove hook script")}})}function Tie(e){return Ce({queryKey:ur.payloadTemplate(e??""),queryFn:()=>e?Kr.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function Rie(){const e=me();return fe({mutationFn:t=>Kr.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:ur.payloadTemplate(r.webhook_id)}),W.success("Payload template saved")},onError:t=>{W.error(t.message||"Failed to save payload template")}})}function Mie(){return Ce({queryKey:ur.gmailPubSubSettings(),queryFn:()=>a5(()=>Kr.getGmailPubSubSettings(),[])})}function $ie(){const e=me();return fe({mutationFn:t=>Kr.createGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),W.success("Gmail Pub/Sub setting created")},onError:t=>{W.error(t.message||"Failed to create Gmail Pub/Sub setting")}})}function Iie(){const e=me();return fe({mutationFn:({id:t,data:r})=>Kr.updateGmailPubSubSetting(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),e.invalidateQueries({queryKey:ur.gmailPubSubSetting(r)}),W.success("Gmail Pub/Sub setting updated")},onError:t=>{W.error(t.message||"Failed to update Gmail Pub/Sub setting")}})}function Die(){const e=me();return fe({mutationFn:t=>Kr.deleteGmailPubSubSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),W.success("Gmail Pub/Sub setting removed")},onError:t=>{W.error(t.message||"Failed to remove Gmail Pub/Sub setting")}})}function Lie(){const e=me();return fe({mutationFn:t=>Kr.testGmailPubSubSetting(t),onSuccess:t=>{e.invalidateQueries({queryKey:ur.gmailPubSubSettings()}),t.ok?W.success(t.message??"Test sent"):W.error(t.message??"Test failed")},onError:t=>{W.error(t.message||"Test failed")}})}const Fie=ft({route_name:_e().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:_e().optional(),delivery_route:_e().optional(),rate_limit:Kee([_e().transform(e=>e===""?null:Number(e)),Vee().int().positive().nullable()]).optional().nullable().refine(e=>e==null||typeof e=="number"&&Number.isInteger(e)&&e>0,"Rate limit must be a positive integer")}),Kw={route_name:"",mapping_template:"",delivery_route:"",rate_limit:null};function Uie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=ut({resolver:dt(Fie),defaultValues:Kw}),c=d=>{var f,h;r({route_name:d.route_name.trim(),mapping_template:((f=d.mapping_template)==null?void 0:f.trim())||null,delivery_route:((h=d.delivery_route)==null?void 0:h.trim())||null,rate_limit:d.rate_limit??null}),o(Kw)},u=d=>{d||o(Kw),t(d)};return a.jsx(Me,{open:e,onOpenChange:u,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Create webhook"}),a.jsx(Re,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"route_name",children:"Route name"}),a.jsx(ye,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(ye,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"rate_limit",children:"Rate limit (optional, requests/min)"}),a.jsx(ye,{id:"rate_limit",type:"number",min:1,placeholder:"e.g. 60",...s("rate_limit")}),l.rate_limit&&a.jsx("p",{className:"text-xs text-destructive",children:l.rate_limit.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const Bie=ft({event_trigger:_e().min(1,"Event trigger is required"),language:nr(["javascript","python"]),script_content:_e(),webhook_id:_e().nullable()}),qie=["/new","/reset","start","end","before_run","after_run"],lg={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function zie({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(Bie),defaultValues:lg}),h=u("language"),m=u("webhook_id");x.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:lg)},[s,e,d]);const g=y=>{r(y),s||d(lg),t(!1)},p=y=>{y||d(lg),t(y)};return a.jsx(Me,{open:e,onOpenChange:p,children:a.jsxs(Oe,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:s?"Edit hook script":"Add hook script"}),a.jsx(Re,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(ot,{value:u("event_trigger"),onValueChange:y=>c("event_trigger",y),children:[a.jsx(st,{id:"event_trigger",className:f.event_trigger?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select trigger"})}),a.jsx(at,{children:qie.map(y=>a.jsx(Se,{value:y,children:y},y))})]}),f.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:f.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"language",children:"Language"}),a.jsxs(ot,{value:h,onValueChange:y=>c("language",y),children:[a.jsx(st,{id:"language",children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"javascript",children:"JavaScript"}),a.jsx(Se,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(ot,{value:m??"none",onValueChange:y=>c("webhook_id",y==="none"?null:y),children:[a.jsx(st,{id:"webhook_id",children:a.jsx(lt,{placeholder:"Global (all webhooks)"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"none",children:"Global (all webhooks)"}),i.map(y=>a.jsx(Se,{value:y.id,children:y.route_name},y.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(G,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:h==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>p(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function Wie({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=x.useState(null),[s,i]=x.useState(null),{data:o,isLoading:l}=Tie(r),c=Rie(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},f=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(s7,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(pe,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(ce,{className:"h-10 w-full rounded-md"}):a.jsxs(ot,{value:r??"",onValueChange:h=>{n(h||null),i(null)},children:[a.jsx(st,{id:"payload-webhook",children:a.jsx(lt,{placeholder:"Select a webhook"})}),a.jsx(at,{children:e.length===0?a.jsx(Se,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(h=>a.jsx(Se,{value:h.id,children:h.route_name},h.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(ce,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:J("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:h=>i(h.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{onClick:d,disabled:c.isPending||!f&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(sN,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function Vie({webhook:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{"aria-describedby":"webhook-delete-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Remove webhook?"}),a.jsxs(Re,{id:"webhook-delete-description",children:['This will permanently remove the endpoint "',e.route_name,'". Inbound requests to this URL will no longer be accepted. This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove webhook"})]})]})})}function Kie({script:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{"aria-describedby":"hook-script-delete-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Remove hook script?"}),a.jsxs(Re,{id:"hook-script-delete-description",children:['This will permanently remove the lifecycle hook for "',e.event_trigger,'". This action cannot be undone.']})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:"destructive",onClick:i,disabled:s,children:s?"Removing":"Remove script"})]})]})})}const Hie=ft({name:_e().min(1,"Name is required").max(64),push_endpoint:_e().url("Enter a valid push endpoint URL")}),KP=[{id:"connect",title:"Connect",description:"Push endpoint URL"},{id:"configure",title:"Configure",description:"Optional topic and subscription"},{id:"test",title:"Test",description:"Verify delivery"}];function Gie({onComplete:e}){const[t,r]=x.useState(0),[n,s]=x.useState(null),[i,o]=x.useState(null),{data:l=[],isLoading:c}=Mie(),u=$ie(),d=Iie(),f=Die(),h=Lie(),{register:m,handleSubmit:g,formState:{errors:p},setValue:y,reset:b}=ut({resolver:dt(Hie),defaultValues:{name:"default",push_endpoint:""}}),v=N=>{const k={push_endpoint:N.push_endpoint};n?d.mutate({id:n,data:{name:N.name,configuration_details:k,is_active:!0}},{onSuccess:()=>{r(2),s(null),b({name:"default",push_endpoint:""})}}):u.mutate({name:N.name,configuration_details:k,is_active:!0},{onSuccess:()=>{r(2),b({name:"default",push_endpoint:""}),e==null||e()}})},w=N=>{o(N.id),h.mutate(N.id,{onSettled:()=>o(null)})},_=N=>{s(N.id);const k=N.configuration_details;y("name",N.name),y("push_endpoint",(k==null?void 0:k.push_endpoint)??""),r(0)},j=N=>{f.mutate(N)},S=()=>{r(0),s(null),b({name:"default",push_endpoint:""})};return c?a.jsxs("div",{className:"space-y-4",children:[a.jsx(ce,{className:"h-10 w-full rounded-lg"}),a.jsx(ce,{className:"h-24 w-full rounded-lg"})]}):a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-2",children:KP.map((N,k)=>a.jsxs("div",{className:"flex shrink-0 items-center gap-2",children:[a.jsxs("button",{type:"button",onClick:()=>r(k),className:J("flex items-center gap-2 rounded-lg px-3 py-2 text-sm font-medium transition-colors",t===k?"bg-primary text-primary-foreground":"bg-secondary/50 text-muted-foreground hover:bg-secondary"),children:[a.jsx("span",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white/20 text-xs",children:k+1}),N.title]}),k<KP.length-1&&a.jsx(Tr,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]},N.id))}),t===0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 1: Push endpoint"}),a.jsx(pe,{children:"Enter the URL where Gmail Pub/Sub will send push notifications. Create a webhook first and use its URL, or your own HTTPS endpoint."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:g(v),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"gmail-name",children:"Configuration name"}),a.jsx(ye,{id:"gmail-name",placeholder:"e.g. default",...m("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"push_endpoint",children:"Push endpoint URL"}),a.jsx(ye,{id:"push_endpoint",type:"url",placeholder:"https://your-gateway/api/webhooks/gmail-pubsub",...m("push_endpoint"),className:p.push_endpoint?"border-destructive":""}),p.push_endpoint&&a.jsx("p",{className:"text-xs text-destructive",children:p.push_endpoint.message})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"submit",disabled:u.isPending||d.isPending,children:u.isPending||d.isPending?"Saving":n?"Update & continue":a.jsxs(a.Fragment,{children:["Save & continue",a.jsx(Tr,{className:"ml-1 h-4 w-4"})]})}),n&&a.jsx(P,{type:"button",variant:"outline",onClick:S,children:"Cancel"})]})]})})]}),t===1&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 2: Configure (optional)"}),a.jsx(pe,{children:"In Google Cloud Console, create a Pub/Sub topic and subscription, and set the push endpoint to the URL you saved. Messages will be routed to your chat when configured."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{onClick:()=>r(2),children:["Continue to test",a.jsx(Tr,{className:"ml-1 h-4 w-4"})]}),a.jsxs(P,{variant:"outline",onClick:()=>r(0),children:[a.jsx(bv,{className:"mr-1 h-4 w-4"}),"Back"]})]})})]}),t===2&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Step 3: Test"}),a.jsx(pe,{children:"Send a test message to your push endpoint to verify the integration."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex gap-2",children:a.jsxs(P,{onClick:S,variant:"outline",children:[a.jsx(bv,{className:"mr-1 h-4 w-4"}),"Add another"]})})})]}),l.length>0&&a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(od,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub configurations"]}),a.jsx(pe,{children:"Manage push handler endpoints and test delivery."})]}),a.jsx(Z,{children:a.jsx("ul",{className:"space-y-3",children:l.map(N=>{const k=N.configuration_details;return a.jsxs("li",{className:"flex flex-wrap items-center justify-between gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:N.name}),a.jsx("p",{className:"truncate font-mono text-xs text-muted-foreground",children:(k==null?void 0:k.push_endpoint)??"No endpoint"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-muted-foreground",children:[N.is_active&&a.jsxs("span",{className:"inline-flex items-center gap-1 text-success",children:[a.jsx(Qd,{className:"h-3 w-3"}),"Active"]}),N.last_tested_at&&a.jsxs("span",{children:["Tested ",_r(new Date(N.last_tested_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>w(N),disabled:h.isPending&&i===N.id,className:"transition-transform hover:scale-[1.02]",children:h.isPending&&i===N.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):a.jsxs(a.Fragment,{children:[a.jsx(Ha,{className:"mr-1 h-4 w-4"}),"Test"]})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(fs,{align:"end",children:[a.jsx(Rt,{onClick:()=>_(N),children:"Edit"}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>j(N.id),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})]},N.id)})})})]}),l.length===0&&t!==0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No Gmail Pub/Sub configurations yet. Complete Step 1 to add one."})]})}function Yie(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(null),[y,b]=x.useState(null),{data:v=[],isLoading:w}=Sie(),{data:_=[],isLoading:j}=Eie(null),S=Nie(),N=kie(),k=Cie(),C=Pie(),E=Oie(),I=Aie(),O=async D=>{await S.mutateAsync({...D,rate_limit:D.rate_limit??null}),t(!1)},B=D=>{f(D),u(!0)},T=D=>{N.mutate(D,{onSuccess:()=>{u(!1),f(null)}})},V=D=>{b(D.id),k.mutate(D.id,{onSettled:()=>b(null)})},L=D=>{p(D),m(!0)},K=D=>{I.mutate(D,{onSuccess:()=>{m(!1),p(null)}})},R=D=>{navigator.clipboard.writeText(D),l(D),W.success("URL copied"),setTimeout(()=>l(null),2e3)},M=D=>{s?E.mutate({id:s.id,data:{event_trigger:D.event_trigger,language:D.language,script_content:D.script_content,webhook_id:D.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):C.mutate({event_trigger:D.event_trigger,language:D.language,script_content:D.script_content,webhook_id:D.webhook_id},{onSuccess:()=>n(!1)})},$=D=>{i(D),n(!0)},ee=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(s5,{}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(ii,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(ka,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(St,{value:"endpoints",children:"Endpoints"}),a.jsx(St,{value:"hooks",children:"Hook scripts"}),a.jsx(St,{value:"transform",children:"Payload transformer"}),a.jsx(St,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(Nt,{value:"endpoints",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(jv,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(pe,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Z,{children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(D=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},D))}):v.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(jv,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(pt,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:v.map(D=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:D.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:D.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",D.token_preview]}),D.rate_limit!=null&&a.jsxs("span",{children:["Rate limit: ",D.rate_limit,"/min"]}),D.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(dl,{className:"h-3 w-3"}),"Last received"," ",_r(new Date(D.last_received_at),{addSuffix:!0})]})]}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:D.mapping_template&&a.jsx(We,{variant:"secondary",children:"Mapping"})})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>V(D),disabled:k.isPending&&y===D.id,className:"transition-transform hover:scale-[1.02]","aria-label":"Test webhook",children:k.isPending&&y===D.id?a.jsx("span",{className:"animate-pulse",children:"Testing"}):"Test"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>R(D.url),"aria-label":"Copy URL",children:o===D.url?a.jsx(Qd,{className:"h-4 w-4 text-success"}):a.jsx(xI,{className:"h-4 w-4"})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(fs,{align:"end",children:a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>B(D),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},D.id))})})})]})}),a.jsx(Nt,{value:"hooks",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(yE,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(pe,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Z,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(P,{onClick:ee,children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),j?a.jsx("div",{className:"space-y-3",children:[1,2].map(D=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},D))}):_.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(yE,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(P,{className:"mt-4",variant:"outline",onClick:ee,children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:_.map(D=>{var ie;return a.jsxs("div",{className:J("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:D.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[D.language,D.webhook_id?`  Webhook: ${((ie=v.find(ve=>ve.id===D.webhook_id))==null?void 0:ie.route_name)??D.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>$(D),children:"Edit"}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>L(D),"aria-label":"Remove script",children:a.jsx(en,{className:"h-4 w-4"})})]})]},D.id)})})})]})]})}),a.jsx(Nt,{value:"transform",className:"space-y-4",children:a.jsx(Wie,{webhooks:v,isLoadingWebhooks:w})}),a.jsx(Nt,{value:"gmail",className:"space-y-4",children:a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(od,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(pe,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Z,{children:a.jsx(Gie,{})})]})})]}),a.jsx(Uie,{open:e,onOpenChange:t,onSubmit:O,isSubmitting:S.isPending}),a.jsx(zie,{open:r,onOpenChange:D=>{n(D),D||i(null)},onSubmit:M,isSubmitting:C.isPending||E.isPending,script:s,webhooks:v}),a.jsx(Vie,{webhook:d,open:c,onOpenChange:u,onConfirm:T,isDeleting:N.isPending}),a.jsx(Kie,{script:g,open:h,onOpenChange:m,onConfirm:K,isDeleting:I.isPending})]})}var Qie=Array.isArray,Qn=Qie,Xie=typeof Np=="object"&&Np&&Np.Object===Object&&Np,i5=Xie,Jie=i5,Zie=typeof self=="object"&&self&&self.Object===Object&&self,eoe=Jie||Zie||Function("return this")(),oi=eoe,toe=oi,roe=toe.Symbol,pp=roe,HP=pp,o5=Object.prototype,noe=o5.hasOwnProperty,soe=o5.toString,Lf=HP?HP.toStringTag:void 0;function aoe(e){var t=noe.call(e,Lf),r=e[Lf];try{e[Lf]=void 0;var n=!0}catch{}var s=soe.call(e);return n&&(t?e[Lf]=r:delete e[Lf]),s}var ioe=aoe,ooe=Object.prototype,loe=ooe.toString;function coe(e){return loe.call(e)}var uoe=coe,GP=pp,doe=ioe,foe=uoe,hoe="[object Null]",moe="[object Undefined]",YP=GP?GP.toStringTag:void 0;function poe(e){return e==null?e===void 0?moe:hoe:YP&&YP in Object(e)?doe(e):foe(e)}var Ji=poe;function goe(e){return e!=null&&typeof e=="object"}var Zi=goe,voe=Ji,yoe=Zi,xoe="[object Symbol]";function boe(e){return typeof e=="symbol"||yoe(e)&&voe(e)==xoe}var af=boe,woe=Qn,joe=af,_oe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Soe=/^\w*$/;function Noe(e,t){if(woe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||joe(e)?!0:Soe.test(e)||!_oe.test(e)||t!=null&&e in Object(t)}var XN=Noe;function koe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ml=koe;const of=qt(ml);var Coe=Ji,Eoe=ml,Poe="[object AsyncFunction]",Ooe="[object Function]",Aoe="[object GeneratorFunction]",Toe="[object Proxy]";function Roe(e){if(!Eoe(e))return!1;var t=Coe(e);return t==Ooe||t==Aoe||t==Poe||t==Toe}var JN=Roe;const nt=qt(JN);var Moe=oi,$oe=Moe["__core-js_shared__"],Ioe=$oe,Hw=Ioe,QP=function(){var e=/[^.]+$/.exec(Hw&&Hw.keys&&Hw.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Doe(e){return!!QP&&QP in e}var Loe=Doe,Foe=Function.prototype,Uoe=Foe.toString;function Boe(e){if(e!=null){try{return Uoe.call(e)}catch{}try{return e+""}catch{}}return""}var l5=Boe,qoe=JN,zoe=Loe,Woe=ml,Voe=l5,Koe=/[\\^$.*+?()[\]{}|]/g,Hoe=/^\[object .+?Constructor\]$/,Goe=Function.prototype,Yoe=Object.prototype,Qoe=Goe.toString,Xoe=Yoe.hasOwnProperty,Joe=RegExp("^"+Qoe.call(Xoe).replace(Koe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zoe(e){if(!Woe(e)||zoe(e))return!1;var t=qoe(e)?Joe:Hoe;return t.test(Voe(e))}var ele=Zoe;function tle(e,t){return e==null?void 0:e[t]}var rle=tle,nle=ele,sle=rle;function ale(e,t){var r=sle(e,t);return nle(r)?r:void 0}var Ac=ale,ile=Ac,ole=ile(Object,"create"),Qx=ole,XP=Qx;function lle(){this.__data__=XP?XP(null):{},this.size=0}var cle=lle;function ule(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dle=ule,fle=Qx,hle="__lodash_hash_undefined__",mle=Object.prototype,ple=mle.hasOwnProperty;function gle(e){var t=this.__data__;if(fle){var r=t[e];return r===hle?void 0:r}return ple.call(t,e)?t[e]:void 0}var vle=gle,yle=Qx,xle=Object.prototype,ble=xle.hasOwnProperty;function wle(e){var t=this.__data__;return yle?t[e]!==void 0:ble.call(t,e)}var jle=wle,_le=Qx,Sle="__lodash_hash_undefined__";function Nle(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_le&&t===void 0?Sle:t,this}var kle=Nle,Cle=cle,Ele=dle,Ple=vle,Ole=jle,Ale=kle;function lf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}lf.prototype.clear=Cle;lf.prototype.delete=Ele;lf.prototype.get=Ple;lf.prototype.has=Ole;lf.prototype.set=Ale;var Tle=lf;function Rle(){this.__data__=[],this.size=0}var Mle=Rle;function $le(e,t){return e===t||e!==e&&t!==t}var ZN=$le,Ile=ZN;function Dle(e,t){for(var r=e.length;r--;)if(Ile(e[r][0],t))return r;return-1}var Xx=Dle,Lle=Xx,Fle=Array.prototype,Ule=Fle.splice;function Ble(e){var t=this.__data__,r=Lle(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Ule.call(t,r,1),--this.size,!0}var qle=Ble,zle=Xx;function Wle(e){var t=this.__data__,r=zle(t,e);return r<0?void 0:t[r][1]}var Vle=Wle,Kle=Xx;function Hle(e){return Kle(this.__data__,e)>-1}var Gle=Hle,Yle=Xx;function Qle(e,t){var r=this.__data__,n=Yle(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Xle=Qle,Jle=Mle,Zle=qle,ece=Vle,tce=Gle,rce=Xle;function cf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}cf.prototype.clear=Jle;cf.prototype.delete=Zle;cf.prototype.get=ece;cf.prototype.has=tce;cf.prototype.set=rce;var Jx=cf,nce=Ac,sce=oi,ace=nce(sce,"Map"),ek=ace,JP=Tle,ice=Jx,oce=ek;function lce(){this.size=0,this.__data__={hash:new JP,map:new(oce||ice),string:new JP}}var cce=lce;function uce(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dce=uce,fce=dce;function hce(e,t){var r=e.__data__;return fce(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Zx=hce,mce=Zx;function pce(e){var t=mce(this,e).delete(e);return this.size-=t?1:0,t}var gce=pce,vce=Zx;function yce(e){return vce(this,e).get(e)}var xce=yce,bce=Zx;function wce(e){return bce(this,e).has(e)}var jce=wce,_ce=Zx;function Sce(e,t){var r=_ce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Nce=Sce,kce=cce,Cce=gce,Ece=xce,Pce=jce,Oce=Nce;function uf(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}uf.prototype.clear=kce;uf.prototype.delete=Cce;uf.prototype.get=Ece;uf.prototype.has=Pce;uf.prototype.set=Oce;var tk=uf,c5=tk,Ace="Expected a function";function rk(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ace);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(rk.Cache||c5),r}rk.Cache=c5;var u5=rk;const Tce=qt(u5);var Rce=u5,Mce=500;function $ce(e){var t=Rce(e,function(n){return r.size===Mce&&r.clear(),n}),r=t.cache;return t}var Ice=$ce,Dce=Ice,Lce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fce=/\\(\\)?/g,Uce=Dce(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Lce,function(r,n,s,i){t.push(s?i.replace(Fce,"$1"):n||r)}),t}),Bce=Uce;function qce(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var nk=qce,ZP=pp,zce=nk,Wce=Qn,Vce=af,eO=ZP?ZP.prototype:void 0,tO=eO?eO.toString:void 0;function d5(e){if(typeof e=="string")return e;if(Wce(e))return zce(e,d5)+"";if(Vce(e))return tO?tO.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var Kce=d5,Hce=Kce;function Gce(e){return e==null?"":Hce(e)}var f5=Gce,Yce=Qn,Qce=XN,Xce=Bce,Jce=f5;function Zce(e,t){return Yce(e)?e:Qce(e,t)?[e]:Xce(Jce(e))}var h5=Zce,eue=af;function tue(e){if(typeof e=="string"||eue(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var eb=tue,rue=h5,nue=eb;function sue(e,t){t=rue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[nue(t[r++])];return r&&r==n?e:void 0}var sk=sue,aue=sk;function iue(e,t,r){var n=e==null?void 0:aue(e,t);return n===void 0?r:n}var m5=iue;const Is=qt(m5);function oue(e){return e==null}var lue=oue;const yt=qt(lue);var cue=Ji,uue=Qn,due=Zi,fue="[object String]";function hue(e){return typeof e=="string"||!uue(e)&&due(e)&&cue(e)==fue}var mue=hue;const xc=qt(mue);var p5={exports:{}},Lt={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ak=Symbol.for("react.element"),ik=Symbol.for("react.portal"),tb=Symbol.for("react.fragment"),rb=Symbol.for("react.strict_mode"),nb=Symbol.for("react.profiler"),sb=Symbol.for("react.provider"),ab=Symbol.for("react.context"),pue=Symbol.for("react.server_context"),ib=Symbol.for("react.forward_ref"),ob=Symbol.for("react.suspense"),lb=Symbol.for("react.suspense_list"),cb=Symbol.for("react.memo"),ub=Symbol.for("react.lazy"),gue=Symbol.for("react.offscreen"),g5;g5=Symbol.for("react.module.reference");function zs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ak:switch(e=e.type,e){case tb:case nb:case rb:case ob:case lb:return e;default:switch(e=e&&e.$$typeof,e){case pue:case ab:case ib:case ub:case cb:case sb:return e;default:return t}}case ik:return t}}}Lt.ContextConsumer=ab;Lt.ContextProvider=sb;Lt.Element=ak;Lt.ForwardRef=ib;Lt.Fragment=tb;Lt.Lazy=ub;Lt.Memo=cb;Lt.Portal=ik;Lt.Profiler=nb;Lt.StrictMode=rb;Lt.Suspense=ob;Lt.SuspenseList=lb;Lt.isAsyncMode=function(){return!1};Lt.isConcurrentMode=function(){return!1};Lt.isContextConsumer=function(e){return zs(e)===ab};Lt.isContextProvider=function(e){return zs(e)===sb};Lt.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ak};Lt.isForwardRef=function(e){return zs(e)===ib};Lt.isFragment=function(e){return zs(e)===tb};Lt.isLazy=function(e){return zs(e)===ub};Lt.isMemo=function(e){return zs(e)===cb};Lt.isPortal=function(e){return zs(e)===ik};Lt.isProfiler=function(e){return zs(e)===nb};Lt.isStrictMode=function(e){return zs(e)===rb};Lt.isSuspense=function(e){return zs(e)===ob};Lt.isSuspenseList=function(e){return zs(e)===lb};Lt.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===tb||e===nb||e===rb||e===ob||e===lb||e===gue||typeof e=="object"&&e!==null&&(e.$$typeof===ub||e.$$typeof===cb||e.$$typeof===sb||e.$$typeof===ab||e.$$typeof===ib||e.$$typeof===g5||e.getModuleId!==void 0)};Lt.typeOf=zs;p5.exports=Lt;var vue=p5.exports,yue=Ji,xue=Zi,bue="[object Number]";function wue(e){return typeof e=="number"||xue(e)&&yue(e)==bue}var v5=wue;const jue=qt(v5);var _ue=v5;function Sue(e){return _ue(e)&&e!=+e}var Nue=Sue;const df=qt(Nue);var ha=function(t){return t===0?0:t>0?1:-1},Fl=function(t){return xc(t)&&t.indexOf("%")===t.length-1},we=function(t){return jue(t)&&!df(t)},kue=function(t){return yt(t)},Hr=function(t){return we(t)||xc(t)},Cue=0,gp=function(t){var r=++Cue;return"".concat(t||"").concat(r)},bc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!we(t)&&!xc(t))return n;var i;if(Fl(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return df(i)&&(i=n),s&&i>r&&(i=r),i},No=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Eue=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},Cs=function(t,r){return we(t)&&we(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wv(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Is(n,t))===r})}var Pue=function(t,r){return we(t)&&we(r)?t-r:xc(t)&&xc(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Mu(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function j_(e){"@babel/helpers - typeof";return j_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j_(e)}var Oue=["viewBox","children"],Aue=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rO=["points","pathLength"],Gw={svg:Oue,polygon:rO,polyline:rO},ok=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Vv=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!of(n))return null;var s={};return Object.keys(n).forEach(function(i){ok.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},Tue=function(t,r,n){return function(s){return t(r,n,s),null}},Kv=function(t,r,n){if(!of(t)||j_(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];ok.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=Tue(o,r,n))}),s},Rue=["children"],Mue=["children"];function nO(e,t){if(e==null)return{};var r=$ue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $ue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function __(e){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},__(e)}var sO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Pi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},aO=null,Yw=null,lk=function e(t){if(t===aO&&Array.isArray(Yw))return Yw;var r=[];return x.Children.forEach(t,function(n){yt(n)||(vue.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Yw=r,aO=t,r};function xa(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Pi(s)}):n=[Pi(t)],lk(e).forEach(function(s){var i=Is(s,"type.displayName")||Is(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function rs(e,t){var r=xa(e,t);return r&&r[0]}var iO=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!we(n)||n<=0||!we(s)||s<=0)},Iue=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Due=function(t){return t&&t.type&&xc(t.type)&&Iue.indexOf(t.type)>=0},Lue=function(t){return t&&__(t)==="object"&&"clipDot"in t},Fue=function(t,r,n,s){var i,o=(i=Gw==null?void 0:Gw[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!nt(t)&&(s&&o.includes(r)||Aue.includes(r))||n&&ok.includes(r)},mt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(x.isValidElement(t)&&(s=t.props),!of(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;Fue((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},S_=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oO(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!oO(i,o))return!1}return!0},oO=function(t,r){if(yt(t)&&yt(r))return!0;if(!yt(t)&&!yt(r)){var n=t.props||{},s=n.children,i=nO(n,Rue),o=r.props||{},l=o.children,c=nO(o,Mue);return s&&l?Mu(i,c)&&S_(s,l):!s&&!l?Mu(i,c):!1}return!1},lO=function(t,r){var n=[],s={};return lk(t).forEach(function(i,o){if(Due(i))n.push(i);else if(i){var l=Pi(i.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!s[l])){var f=u(i,l,o);n.push(f),s[l]=!0}}}),n},Uue=function(t){var r=t&&t.type;return r&&sO[r]?sO[r]:null},Bue=function(t,r){return lk(r).indexOf(t)},que=["children","width","height","viewBox","className","style","title","desc"];function N_(){return N_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N_.apply(this,arguments)}function zue(e,t){if(e==null)return{};var r=Wue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Wue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function k_(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=zue(e,que),d=s||{width:r,height:n,x:0,y:0},f=jt("recharts-surface",i);return A.createElement("svg",N_({},mt(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),A.createElement("title",null,l),A.createElement("desc",null,c),t)}var Vue=["children","className"];function C_(){return C_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C_.apply(this,arguments)}function Kue(e,t){if(e==null)return{};var r=Hue(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Hue(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var dr=A.forwardRef(function(e,t){var r=e.children,n=e.className,s=Kue(e,Vue),i=jt("recharts-layer",n);return A.createElement("g",C_({className:i},mt(s,!0),{ref:t}),r)}),Oi=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Gue(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var Yue=Gue,Que=Yue;function Xue(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Que(e,t,r)}var Jue=Xue,Zue="\\ud800-\\udfff",ede="\\u0300-\\u036f",tde="\\ufe20-\\ufe2f",rde="\\u20d0-\\u20ff",nde=ede+tde+rde,sde="\\ufe0e\\ufe0f",ade="\\u200d",ide=RegExp("["+ade+Zue+nde+sde+"]");function ode(e){return ide.test(e)}var y5=ode;function lde(e){return e.split("")}var cde=lde,x5="\\ud800-\\udfff",ude="\\u0300-\\u036f",dde="\\ufe20-\\ufe2f",fde="\\u20d0-\\u20ff",hde=ude+dde+fde,mde="\\ufe0e\\ufe0f",pde="["+x5+"]",E_="["+hde+"]",P_="\\ud83c[\\udffb-\\udfff]",gde="(?:"+E_+"|"+P_+")",b5="[^"+x5+"]",w5="(?:\\ud83c[\\udde6-\\uddff]){2}",j5="[\\ud800-\\udbff][\\udc00-\\udfff]",vde="\\u200d",_5=gde+"?",S5="["+mde+"]?",yde="(?:"+vde+"(?:"+[b5,w5,j5].join("|")+")"+S5+_5+")*",xde=S5+_5+yde,bde="(?:"+[b5+E_+"?",E_,w5,j5,pde].join("|")+")",wde=RegExp(P_+"(?="+P_+")|"+bde+xde,"g");function jde(e){return e.match(wde)||[]}var _de=jde,Sde=cde,Nde=y5,kde=_de;function Cde(e){return Nde(e)?kde(e):Sde(e)}var Ede=Cde,Pde=Jue,Ode=y5,Ade=Ede,Tde=f5;function Rde(e){return function(t){t=Tde(t);var r=Ode(t)?Ade(t):void 0,n=r?r[0]:t.charAt(0),s=r?Pde(r,1).join(""):t.slice(1);return n[e]()+s}}var Mde=Rde,$de=Mde,Ide=$de("toUpperCase"),Dde=Ide;const db=qt(Dde);function Gt(e){return function(){return e}}const N5=Math.cos,Hv=Math.sin,Ea=Math.sqrt,Gv=Math.PI,fb=2*Gv,O_=Math.PI,A_=2*O_,Cl=1e-6,Lde=A_-Cl;function k5(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Fde(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return k5;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class Ude{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?k5:Fde(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Cl)if(!(Math.abs(f*c-u*d)>Cl)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=s-l,p=c*c+u*u,y=m*m+g*g,b=Math.sqrt(p),v=Math.sqrt(h),w=i*Math.tan((O_-Math.acos((p+h-y)/(2*b*v)))/2),_=w/v,j=w/b;Math.abs(_-1)>Cl&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cl||Math.abs(this._y1-d)>Cl)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%A_+A_),h>Lde?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Cl&&this._append`A${n},${n},0,${+(h>=O_)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function ck(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Ude(t)}function uk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function C5(e){this._context=e}C5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hb(e){return new C5(e)}function E5(e){return e[0]}function P5(e){return e[1]}function O5(e,t){var r=Gt(!0),n=null,s=hb,i=null,o=ck(l);e=typeof e=="function"?e:e===void 0?E5:Gt(e),t=typeof t=="function"?t:t===void 0?P5:Gt(t);function l(c){var u,d=(c=uk(c)).length,f,h=!1,m;for(n==null&&(i=s(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Gt(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Gt(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Gt(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function cg(e,t,r){var n=null,s=Gt(!0),i=null,o=hb,l=null,c=ck(u);e=typeof e=="function"?e:e===void 0?E5:Gt(+e),t=typeof t=="function"?t:Gt(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?P5:Gt(+r);function u(f){var h,m,g,p=(f=uk(f)).length,y,b=!1,v,w=new Array(p),_=new Array(p);for(i==null&&(l=o(v=c())),h=0;h<=p;++h){if(!(h<p&&s(y=f[h],h,f))===b)if(b=!b)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}b&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return O5().defined(s).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Gt(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Gt(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Gt(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Gt(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Gt(!!f),u):s},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class A5{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Bde(e){return new A5(e,!0)}function qde(e){return new A5(e,!1)}const dk={draw(e,t){const r=Ea(t/Gv);e.moveTo(r,0),e.arc(0,0,r,0,fb)}},zde={draw(e,t){const r=Ea(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},T5=Ea(1/3),Wde=T5*2,Vde={draw(e,t){const r=Ea(t/Wde),n=r*T5;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Kde={draw(e,t){const r=Ea(t),n=-r/2;e.rect(n,n,r,r)}},Hde=.8908130915292852,R5=Hv(Gv/10)/Hv(7*Gv/10),Gde=Hv(fb/10)*R5,Yde=-N5(fb/10)*R5,Qde={draw(e,t){const r=Ea(t*Hde),n=Gde*r,s=Yde*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=fb*i/5,l=N5(o),c=Hv(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Qw=Ea(3),Xde={draw(e,t){const r=-Ea(t/(Qw*3));e.moveTo(0,r*2),e.lineTo(-Qw*r,-r),e.lineTo(Qw*r,-r),e.closePath()}},xs=-.5,bs=Ea(3)/2,T_=1/Ea(12),Jde=(T_/2+1)*3,Zde={draw(e,t){const r=Ea(t/Jde),n=r/2,s=r*T_,i=n,o=r*T_+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(xs*n-bs*s,bs*n+xs*s),e.lineTo(xs*i-bs*o,bs*i+xs*o),e.lineTo(xs*l-bs*c,bs*l+xs*c),e.lineTo(xs*n+bs*s,xs*s-bs*n),e.lineTo(xs*i+bs*o,xs*o-bs*i),e.lineTo(xs*l+bs*c,xs*c-bs*l),e.closePath()}};function efe(e,t){let r=null,n=ck(s);e=typeof e=="function"?e:Gt(e||dk),t=typeof t=="function"?t:Gt(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Gt(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Yv(){}function Qv(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function M5(e){this._context=e}M5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tfe(e){return new M5(e)}function $5(e){this._context=e}$5.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function rfe(e){return new $5(e)}function I5(e){this._context=e}I5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qv(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nfe(e){return new I5(e)}function D5(e){this._context=e}D5.prototype={areaStart:Yv,areaEnd:Yv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function sfe(e){return new D5(e)}function cO(e){return e<0?-1:1}function uO(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(cO(i)+cO(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function dO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Xw(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Xv(e){this._context=e}Xv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Xw(this,this._t0,dO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Xw(this,dO(this,r=uO(this,e,t)),r);break;default:Xw(this,this._t0,r=uO(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function L5(e){this._context=new F5(e)}(L5.prototype=Object.create(Xv.prototype)).point=function(e,t){Xv.prototype.point.call(this,t,e)};function F5(e){this._context=e}F5.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function afe(e){return new Xv(e)}function ife(e){return new L5(e)}function U5(e){this._context=e}U5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=fO(e),s=fO(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function fO(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function ofe(e){return new U5(e)}function mb(e,t){this._context=e,this._t=t}mb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function lfe(e){return new mb(e,.5)}function cfe(e){return new mb(e,0)}function ufe(e){return new mb(e,1)}function xd(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function R_(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function dfe(e,t){return e[t]}function ffe(e){const t=[];return t.key=e,t}function hfe(){var e=Gt([]),t=R_,r=xd,n=dfe;function s(i){var o=Array.from(e.apply(this,arguments),ffe),l,c=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=uk(t(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Gt(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Gt(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?R_:typeof i=="function"?i:Gt(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??xd,s):r},s}function mfe(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}xd(e,t)}}function pfe(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}xd(e,t)}}function gfe(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var p=e[t[g]],y=p[n][1]||0,b=p[n-1][1]||0;m+=y-b}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,xd(e,t)}}function om(e){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},om(e)}var vfe=["type","size","sizeType"];function M_(){return M_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M_.apply(this,arguments)}function hO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hO(Object(r),!0).forEach(function(n){yfe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yfe(e,t,r){return t=xfe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xfe(e){var t=bfe(e,"string");return om(t)=="symbol"?t:t+""}function bfe(e,t){if(om(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wfe(e,t){if(e==null)return{};var r=jfe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jfe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var B5={symbolCircle:dk,symbolCross:zde,symbolDiamond:Vde,symbolSquare:Kde,symbolStar:Qde,symbolTriangle:Xde,symbolWye:Zde},_fe=Math.PI/180,Sfe=function(t){var r="symbol".concat(db(t));return B5[r]||dk},Nfe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*_fe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},kfe=function(t,r){B5["symbol".concat(db(t))]=r},fk=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=wfe(t,vfe),u=mO(mO({},c),{},{type:n,size:i,sizeType:l}),d=function(){var y=Sfe(n),b=efe().type(y).size(Nfe(i,l,n));return b()},f=u.className,h=u.cx,m=u.cy,g=mt(u,!0);return h===+h&&m===+m&&i===+i?A.createElement("path",M_({},g,{className:jt("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:d()})):null};fk.registerSymbol=kfe;function bd(e){"@babel/helpers - typeof";return bd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bd(e)}function $_(){return $_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$_.apply(this,arguments)}function pO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cfe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pO(Object(r),!0).forEach(function(n){lm(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Efe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pfe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,z5(n.key),n)}}function Ofe(e,t,r){return t&&Pfe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Afe(e,t,r){return t=Jv(t),Tfe(e,q5()?Reflect.construct(t,r||[],Jv(e).constructor):t.apply(e,r))}function Tfe(e,t){if(t&&(bd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rfe(e)}function Rfe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q5(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(q5=function(){return!!e})()}function Jv(e){return Jv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jv(e)}function Mfe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I_(e,t)}function I_(e,t){return I_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I_(e,t)}function lm(e,t,r){return t=z5(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z5(e){var t=$fe(e,"string");return bd(t)=="symbol"?t:t+""}function $fe(e,t){if(bd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(bd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ws=32,hk=function(e){function t(){return Efe(this,t),Afe(this,t,arguments)}return Mfe(t,e),Ofe(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ws/2,o=ws/6,l=ws/3,c=n.inactive?s:n.color;if(n.type==="plainline")return A.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ws,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return A.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ws,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return A.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ws/8,"h").concat(ws,"v").concat(ws*3/4,"h").concat(-ws,"z"),className:"recharts-legend-icon"});if(A.isValidElement(n.legendIcon)){var u=Cfe({},n);return delete u.legendIcon,A.cloneElement(n.legendIcon,u)}return A.createElement(fk,{fill:c,cx:i,cy:i,size:ws,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,d={x:0,y:0,width:ws,height:ws},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(m,g){var p=m.formatter||c,y=jt(lm(lm({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var b=nt(m.value)?null:m.value;Oi(!nt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var v=m.inactive?u:m.color;return A.createElement("li",$_({className:y,style:f,key:"legend-item-".concat(g)},Kv(n.props,m,g)),A.createElement(k_,{width:o,height:o,viewBox:d,style:h},n.renderIcon(m)),A.createElement("span",{className:"recharts-legend-item-text",style:{color:v}},p?p(b,m,g):b))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return A.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);lm(hk,"displayName","Legend");lm(hk,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Ife=Jx;function Dfe(){this.__data__=new Ife,this.size=0}var Lfe=Dfe;function Ffe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Ufe=Ffe;function Bfe(e){return this.__data__.get(e)}var qfe=Bfe;function zfe(e){return this.__data__.has(e)}var Wfe=zfe,Vfe=Jx,Kfe=ek,Hfe=tk,Gfe=200;function Yfe(e,t){var r=this.__data__;if(r instanceof Vfe){var n=r.__data__;if(!Kfe||n.length<Gfe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hfe(n)}return r.set(e,t),this.size=r.size,this}var Qfe=Yfe,Xfe=Jx,Jfe=Lfe,Zfe=Ufe,ehe=qfe,the=Wfe,rhe=Qfe;function ff(e){var t=this.__data__=new Xfe(e);this.size=t.size}ff.prototype.clear=Jfe;ff.prototype.delete=Zfe;ff.prototype.get=ehe;ff.prototype.has=the;ff.prototype.set=rhe;var W5=ff,nhe="__lodash_hash_undefined__";function she(e){return this.__data__.set(e,nhe),this}var ahe=she;function ihe(e){return this.__data__.has(e)}var ohe=ihe,lhe=tk,che=ahe,uhe=ohe;function Zv(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new lhe;++t<r;)this.add(e[t])}Zv.prototype.add=Zv.prototype.push=che;Zv.prototype.has=uhe;var V5=Zv;function dhe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var K5=dhe;function fhe(e,t){return e.has(t)}var H5=fhe,hhe=V5,mhe=K5,phe=H5,ghe=1,vhe=2;function yhe(e,t,r,n,s,i){var o=r&ghe,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),d=i.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,m=r&vhe?new hhe:void 0;for(i.set(e,t),i.set(t,e);++f<l;){var g=e[f],p=t[f];if(n)var y=o?n(p,g,f,t,e,i):n(g,p,f,e,t,i);if(y!==void 0){if(y)continue;h=!1;break}if(m){if(!mhe(t,function(b,v){if(!phe(m,v)&&(g===b||s(g,b,r,n,i)))return m.push(v)})){h=!1;break}}else if(!(g===p||s(g,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var G5=yhe,xhe=oi,bhe=xhe.Uint8Array,whe=bhe;function jhe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var _he=jhe;function She(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var mk=She,gO=pp,vO=whe,Nhe=ZN,khe=G5,Che=_he,Ehe=mk,Phe=1,Ohe=2,Ahe="[object Boolean]",The="[object Date]",Rhe="[object Error]",Mhe="[object Map]",$he="[object Number]",Ihe="[object RegExp]",Dhe="[object Set]",Lhe="[object String]",Fhe="[object Symbol]",Uhe="[object ArrayBuffer]",Bhe="[object DataView]",yO=gO?gO.prototype:void 0,Jw=yO?yO.valueOf:void 0;function qhe(e,t,r,n,s,i,o){switch(r){case Bhe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Uhe:return!(e.byteLength!=t.byteLength||!i(new vO(e),new vO(t)));case Ahe:case The:case $he:return Nhe(+e,+t);case Rhe:return e.name==t.name&&e.message==t.message;case Ihe:case Lhe:return e==t+"";case Mhe:var l=Che;case Dhe:var c=n&Phe;if(l||(l=Ehe),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=Ohe,o.set(e,t);var d=khe(l(e),l(t),n,s,i,o);return o.delete(e),d;case Fhe:if(Jw)return Jw.call(e)==Jw.call(t)}return!1}var zhe=qhe;function Whe(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Y5=Whe,Vhe=Y5,Khe=Qn;function Hhe(e,t,r){var n=t(e);return Khe(e)?n:Vhe(n,r(e))}var Ghe=Hhe;function Yhe(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Qhe=Yhe;function Xhe(){return[]}var Jhe=Xhe,Zhe=Qhe,eme=Jhe,tme=Object.prototype,rme=tme.propertyIsEnumerable,xO=Object.getOwnPropertySymbols,nme=xO?function(e){return e==null?[]:(e=Object(e),Zhe(xO(e),function(t){return rme.call(e,t)}))}:eme,sme=nme;function ame(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var ime=ame,ome=Ji,lme=Zi,cme="[object Arguments]";function ume(e){return lme(e)&&ome(e)==cme}var dme=ume,bO=dme,fme=Zi,Q5=Object.prototype,hme=Q5.hasOwnProperty,mme=Q5.propertyIsEnumerable,pme=bO(function(){return arguments}())?bO:function(e){return fme(e)&&hme.call(e,"callee")&&!mme.call(e,"callee")},pk=pme,ey={exports:{}};function gme(){return!1}var vme=gme;ey.exports;(function(e,t){var r=oi,n=vme,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(ey,ey.exports);var X5=ey.exports,yme=9007199254740991,xme=/^(?:0|[1-9]\d*)$/;function bme(e,t){var r=typeof e;return t=t??yme,!!t&&(r=="number"||r!="symbol"&&xme.test(e))&&e>-1&&e%1==0&&e<t}var gk=bme,wme=9007199254740991;function jme(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wme}var vk=jme,_me=Ji,Sme=vk,Nme=Zi,kme="[object Arguments]",Cme="[object Array]",Eme="[object Boolean]",Pme="[object Date]",Ome="[object Error]",Ame="[object Function]",Tme="[object Map]",Rme="[object Number]",Mme="[object Object]",$me="[object RegExp]",Ime="[object Set]",Dme="[object String]",Lme="[object WeakMap]",Fme="[object ArrayBuffer]",Ume="[object DataView]",Bme="[object Float32Array]",qme="[object Float64Array]",zme="[object Int8Array]",Wme="[object Int16Array]",Vme="[object Int32Array]",Kme="[object Uint8Array]",Hme="[object Uint8ClampedArray]",Gme="[object Uint16Array]",Yme="[object Uint32Array]",er={};er[Bme]=er[qme]=er[zme]=er[Wme]=er[Vme]=er[Kme]=er[Hme]=er[Gme]=er[Yme]=!0;er[kme]=er[Cme]=er[Fme]=er[Eme]=er[Ume]=er[Pme]=er[Ome]=er[Ame]=er[Tme]=er[Rme]=er[Mme]=er[$me]=er[Ime]=er[Dme]=er[Lme]=!1;function Qme(e){return Nme(e)&&Sme(e.length)&&!!er[_me(e)]}var Xme=Qme;function Jme(e){return function(t){return e(t)}}var J5=Jme,ty={exports:{}};ty.exports;(function(e,t){var r=i5,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ty,ty.exports);var Zme=ty.exports,epe=Xme,tpe=J5,wO=Zme,jO=wO&&wO.isTypedArray,rpe=jO?tpe(jO):epe,Z5=rpe,npe=ime,spe=pk,ape=Qn,ipe=X5,ope=gk,lpe=Z5,cpe=Object.prototype,upe=cpe.hasOwnProperty;function dpe(e,t){var r=ape(e),n=!r&&spe(e),s=!r&&!n&&ipe(e),i=!r&&!n&&!s&&lpe(e),o=r||n||s||i,l=o?npe(e.length,String):[],c=l.length;for(var u in e)(t||upe.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||ope(u,c)))&&l.push(u);return l}var fpe=dpe,hpe=Object.prototype;function mpe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||hpe;return e===r}var ppe=mpe;function gpe(e,t){return function(r){return e(t(r))}}var eU=gpe,vpe=eU,ype=vpe(Object.keys,Object),xpe=ype,bpe=ppe,wpe=xpe,jpe=Object.prototype,_pe=jpe.hasOwnProperty;function Spe(e){if(!bpe(e))return wpe(e);var t=[];for(var r in Object(e))_pe.call(e,r)&&r!="constructor"&&t.push(r);return t}var Npe=Spe,kpe=JN,Cpe=vk;function Epe(e){return e!=null&&Cpe(e.length)&&!kpe(e)}var vp=Epe,Ppe=fpe,Ope=Npe,Ape=vp;function Tpe(e){return Ape(e)?Ppe(e):Ope(e)}var pb=Tpe,Rpe=Ghe,Mpe=sme,$pe=pb;function Ipe(e){return Rpe(e,$pe,Mpe)}var Dpe=Ipe,_O=Dpe,Lpe=1,Fpe=Object.prototype,Upe=Fpe.hasOwnProperty;function Bpe(e,t,r,n,s,i){var o=r&Lpe,l=_O(e),c=l.length,u=_O(t),d=u.length;if(c!=d&&!o)return!1;for(var f=c;f--;){var h=l[f];if(!(o?h in t:Upe.call(t,h)))return!1}var m=i.get(e),g=i.get(t);if(m&&g)return m==t&&g==e;var p=!0;i.set(e,t),i.set(t,e);for(var y=o;++f<c;){h=l[f];var b=e[h],v=t[h];if(n)var w=o?n(v,b,h,t,e,i):n(b,v,h,e,t,i);if(!(w===void 0?b===v||s(b,v,r,n,i):w)){p=!1;break}y||(y=h=="constructor")}if(p&&!y){var _=e.constructor,j=t.constructor;_!=j&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof j=="function"&&j instanceof j)&&(p=!1)}return i.delete(e),i.delete(t),p}var qpe=Bpe,zpe=Ac,Wpe=oi,Vpe=zpe(Wpe,"DataView"),Kpe=Vpe,Hpe=Ac,Gpe=oi,Ype=Hpe(Gpe,"Promise"),Qpe=Ype,Xpe=Ac,Jpe=oi,Zpe=Xpe(Jpe,"Set"),tU=Zpe,ege=Ac,tge=oi,rge=ege(tge,"WeakMap"),nge=rge,D_=Kpe,L_=ek,F_=Qpe,U_=tU,B_=nge,rU=Ji,hf=l5,SO="[object Map]",sge="[object Object]",NO="[object Promise]",kO="[object Set]",CO="[object WeakMap]",EO="[object DataView]",age=hf(D_),ige=hf(L_),oge=hf(F_),lge=hf(U_),cge=hf(B_),El=rU;(D_&&El(new D_(new ArrayBuffer(1)))!=EO||L_&&El(new L_)!=SO||F_&&El(F_.resolve())!=NO||U_&&El(new U_)!=kO||B_&&El(new B_)!=CO)&&(El=function(e){var t=rU(e),r=t==sge?e.constructor:void 0,n=r?hf(r):"";if(n)switch(n){case age:return EO;case ige:return SO;case oge:return NO;case lge:return kO;case cge:return CO}return t});var uge=El,Zw=W5,dge=G5,fge=zhe,hge=qpe,PO=uge,OO=Qn,AO=X5,mge=Z5,pge=1,TO="[object Arguments]",RO="[object Array]",ug="[object Object]",gge=Object.prototype,MO=gge.hasOwnProperty;function vge(e,t,r,n,s,i){var o=OO(e),l=OO(t),c=o?RO:PO(e),u=l?RO:PO(t);c=c==TO?ug:c,u=u==TO?ug:u;var d=c==ug,f=u==ug,h=c==u;if(h&&AO(e)){if(!AO(t))return!1;o=!0,d=!1}if(h&&!d)return i||(i=new Zw),o||mge(e)?dge(e,t,r,n,s,i):fge(e,t,c,r,n,s,i);if(!(r&pge)){var m=d&&MO.call(e,"__wrapped__"),g=f&&MO.call(t,"__wrapped__");if(m||g){var p=m?e.value():e,y=g?t.value():t;return i||(i=new Zw),s(p,y,r,n,i)}}return h?(i||(i=new Zw),hge(e,t,r,n,s,i)):!1}var yge=vge,xge=yge,$O=Zi;function nU(e,t,r,n,s){return e===t?!0:e==null||t==null||!$O(e)&&!$O(t)?e!==e&&t!==t:xge(e,t,r,n,nU,s)}var yk=nU,bge=W5,wge=yk,jge=1,_ge=2;function Sge(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],d=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new bge;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?wge(d,u,jge|_ge,n,f):h))return!1}}return!0}var Nge=Sge,kge=ml;function Cge(e){return e===e&&!kge(e)}var sU=Cge,Ege=sU,Pge=pb;function Oge(e){for(var t=Pge(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,Ege(s)]}return t}var Age=Oge;function Tge(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var aU=Tge,Rge=Nge,Mge=Age,$ge=aU;function Ige(e){var t=Mge(e);return t.length==1&&t[0][2]?$ge(t[0][0],t[0][1]):function(r){return r===e||Rge(r,e,t)}}var Dge=Ige;function Lge(e,t){return e!=null&&t in Object(e)}var Fge=Lge,Uge=h5,Bge=pk,qge=Qn,zge=gk,Wge=vk,Vge=eb;function Kge(e,t,r){t=Uge(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=Vge(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&Wge(s)&&zge(o,s)&&(qge(e)||Bge(e)))}var Hge=Kge,Gge=Fge,Yge=Hge;function Qge(e,t){return e!=null&&Yge(e,t,Gge)}var Xge=Qge,Jge=yk,Zge=m5,eve=Xge,tve=XN,rve=sU,nve=aU,sve=eb,ave=1,ive=2;function ove(e,t){return tve(e)&&rve(t)?nve(sve(e),t):function(r){var n=Zge(r,e);return n===void 0&&n===t?eve(r,e):Jge(t,n,ave|ive)}}var lve=ove;function cve(e){return e}var mf=cve;function uve(e){return function(t){return t==null?void 0:t[e]}}var dve=uve,fve=sk;function hve(e){return function(t){return fve(t,e)}}var mve=hve,pve=dve,gve=mve,vve=XN,yve=eb;function xve(e){return vve(e)?pve(yve(e)):gve(e)}var bve=xve,wve=Dge,jve=lve,_ve=mf,Sve=Qn,Nve=bve;function kve(e){return typeof e=="function"?e:e==null?_ve:typeof e=="object"?Sve(e)?jve(e[0],e[1]):wve(e):Nve(e)}var pl=kve;function Cve(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var iU=Cve;function Eve(e){return e!==e}var Pve=Eve;function Ove(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var Ave=Ove,Tve=iU,Rve=Pve,Mve=Ave;function $ve(e,t,r){return t===t?Mve(e,t,r):Tve(e,Rve,r)}var Ive=$ve,Dve=Ive;function Lve(e,t){var r=e==null?0:e.length;return!!r&&Dve(e,t,0)>-1}var Fve=Lve;function Uve(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var Bve=Uve;function qve(){}var zve=qve,e0=tU,Wve=zve,Vve=mk,Kve=1/0,Hve=e0&&1/Vve(new e0([,-0]))[1]==Kve?function(e){return new e0(e)}:Wve,Gve=Hve,Yve=V5,Qve=Fve,Xve=Bve,Jve=H5,Zve=Gve,eye=mk,tye=200;function rye(e,t,r){var n=-1,s=Qve,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=Xve;else if(i>=tye){var u=t?null:Zve(e);if(u)return eye(u);o=!1,s=Jve,c=new Yve}else c=t?[]:l;e:for(;++n<i;){var d=e[n],f=t?t(d):d;if(d=r||d!==0?d:0,o&&f===f){for(var h=c.length;h--;)if(c[h]===f)continue e;t&&c.push(f),l.push(d)}else s(c,f,r)||(c!==l&&c.push(f),l.push(d))}return l}var nye=rye,sye=pl,aye=nye;function iye(e,t){return e&&e.length?aye(e,sye(t)):[]}var oye=iye;const IO=qt(oye);function oU(e,t,r){return t===!0?IO(e,r):nt(t)?IO(e,t):e}function wd(e){"@babel/helpers - typeof";return wd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wd(e)}var lye=["ref"];function DO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function di(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DO(Object(r),!0).forEach(function(n){gb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cU(n.key),n)}}function uye(e,t,r){return t&&LO(e.prototype,t),r&&LO(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function dye(e,t,r){return t=ry(t),fye(e,lU()?Reflect.construct(t,r||[],ry(e).constructor):t.apply(e,r))}function fye(e,t){if(t&&(wd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hye(e)}function hye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lU=function(){return!!e})()}function ry(e){return ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ry(e)}function mye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q_(e,t)}function q_(e,t){return q_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q_(e,t)}function gb(e,t,r){return t=cU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cU(e){var t=pye(e,"string");return wd(t)=="symbol"?t:t+""}function pye(e,t){if(wd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function gye(e,t){if(e==null)return{};var r=vye(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function vye(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function yye(e){return e.value}function xye(e,t){if(A.isValidElement(e))return A.cloneElement(e,t);if(typeof e=="function")return A.createElement(e,t);t.ref;var r=gye(t,lye);return A.createElement(hk,r)}var FO=1,$u=function(e){function t(){var r;cye(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=dye(this,t,[].concat(s)),gb(r,"lastBoundingBox",{width:-1,height:-1}),r}return mye(t,e),uye(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>FO||Math.abs(s.height-this.lastBoundingBox.height)>FO)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?di({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,d=s.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var g=this.getBBoxSnapshot();h={top:((d||0)-g.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return di(di({},f),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,d=s.payload,f=di(di({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return A.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){n.wrapperNode=m}},xye(i,di(di({},this.props),{},{payload:oU(d,u,yye)})))}}],[{key:"getWithHeight",value:function(n,s){var i=di(di({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&we(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(x.PureComponent);gb($u,"displayName","Legend");gb($u,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var UO=pp,bye=pk,wye=Qn,BO=UO?UO.isConcatSpreadable:void 0;function jye(e){return wye(e)||bye(e)||!!(BO&&e&&e[BO])}var _ye=jye,Sye=Y5,Nye=_ye;function uU(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Nye),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?uU(l,t-1,r,n,s):Sye(s,l):n||(s[s.length]=l)}return s}var dU=uU;function kye(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Cye=kye,Eye=Cye,Pye=Eye(),Oye=Pye,Aye=Oye,Tye=pb;function Rye(e,t){return e&&Aye(e,t,Tye)}var fU=Rye,Mye=vp;function $ye(e,t){return function(r,n){if(r==null)return r;if(!Mye(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Iye=$ye,Dye=fU,Lye=Iye,Fye=Lye(Dye),xk=Fye,Uye=xk,Bye=vp;function qye(e,t){var r=-1,n=Bye(e)?Array(e.length):[];return Uye(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var hU=qye;function zye(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Wye=zye,qO=af;function Vye(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=qO(e),o=t!==void 0,l=t===null,c=t===t,u=qO(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Kye=Vye,Hye=Kye;function Gye(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Hye(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Yye=Gye,t0=nk,Qye=sk,Xye=pl,Jye=hU,Zye=Wye,exe=J5,txe=Yye,rxe=mf,nxe=Qn;function sxe(e,t,r){t.length?t=t0(t,function(i){return nxe(i)?function(o){return Qye(o,i.length===1?i[0]:i)}:i}):t=[rxe];var n=-1;t=t0(t,exe(Xye));var s=Jye(e,function(i,o,l){var c=t0(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Zye(s,function(i,o){return txe(i,o,r)})}var axe=sxe;function ixe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var oxe=ixe,lxe=oxe,zO=Math.max;function cxe(e,t,r){return t=zO(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=zO(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),lxe(e,this,l)}}var uxe=cxe;function dxe(e){return function(){return e}}var fxe=dxe,hxe=Ac,mxe=function(){try{var e=hxe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),mU=mxe,pxe=fxe,WO=mU,gxe=mf,vxe=WO?function(e,t){return WO(e,"toString",{configurable:!0,enumerable:!1,value:pxe(t),writable:!0})}:gxe,yxe=vxe,xxe=800,bxe=16,wxe=Date.now;function jxe(e){var t=0,r=0;return function(){var n=wxe(),s=bxe-(n-r);if(r=n,s>0){if(++t>=xxe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _xe=jxe,Sxe=yxe,Nxe=_xe,kxe=Nxe(Sxe),Cxe=kxe,Exe=mf,Pxe=uxe,Oxe=Cxe;function Axe(e,t){return Oxe(Pxe(e,t,Exe),e+"")}var Txe=Axe,Rxe=ZN,Mxe=vp,$xe=gk,Ixe=ml;function Dxe(e,t,r){if(!Ixe(r))return!1;var n=typeof t;return(n=="number"?Mxe(r)&&$xe(t,r.length):n=="string"&&t in r)?Rxe(r[t],e):!1}var vb=Dxe,Lxe=dU,Fxe=axe,Uxe=Txe,VO=vb,Bxe=Uxe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&VO(e,t[0],t[1])?t=[]:r>2&&VO(t[0],t[1],t[2])&&(t=[t[0]]),Fxe(e,Lxe(t,1),[])}),qxe=Bxe;const bk=qt(qxe);function cm(e){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cm(e)}function z_(){return z_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z_.apply(this,arguments)}function zxe(e,t){return Hxe(e)||Kxe(e,t)||Vxe(e,t)||Wxe()}function Wxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vxe(e,t){if(e){if(typeof e=="string")return KO(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(e,t)}}function KO(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Kxe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Hxe(e){if(Array.isArray(e))return e}function HO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function r0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HO(Object(r),!0).forEach(function(n){Gxe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gxe(e,t,r){return t=Yxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yxe(e){var t=Qxe(e,"string");return cm(t)=="symbol"?t:t+""}function Qxe(e,t){if(cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xxe(e){return Array.isArray(e)&&Hr(e[0])&&Hr(e[1])?e.join(" ~ "):e}var Jxe=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,d=t.payload,f=t.formatter,h=t.itemSorter,m=t.wrapperClassName,g=t.labelClassName,p=t.label,y=t.labelFormatter,b=t.accessibilityLayer,v=b===void 0?!1:b,w=function(){if(d&&d.length){var O={padding:0,margin:0},B=(h?bk(d,h):d).map(function(T,V){if(T.type==="none")return null;var L=r0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},l),K=T.formatter||f||Xxe,R=T.value,M=T.name,$=R,ee=M;if(K&&$!=null&&ee!=null){var D=K(R,M,T,V,d);if(Array.isArray(D)){var ie=zxe(D,2);$=ie[0],ee=ie[1]}else $=D}return A.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:L},Hr(ee)?A.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,Hr(ee)?A.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,A.createElement("span",{className:"recharts-tooltip-item-value"},$),A.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return A.createElement("ul",{className:"recharts-tooltip-item-list",style:O},B)}return null},_=r0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),j=r0({margin:0},u),S=!yt(p),N=S?p:"",k=jt("recharts-default-tooltip",m),C=jt("recharts-tooltip-label",g);S&&y&&d!==void 0&&d!==null&&(N=y(p,d));var E=v?{role:"status","aria-live":"assertive"}:{};return A.createElement("div",z_({className:k,style:_},E),A.createElement("p",{className:C,style:j},A.isValidElement(N)?N:"".concat(N)),w())};function um(e){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},um(e)}function dg(e,t,r){return t=Zxe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zxe(e){var t=ebe(e,"string");return um(t)=="symbol"?t:t+""}function ebe(e,t){if(um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ff="recharts-tooltip-wrapper",tbe={visibility:"hidden"};function rbe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return jt(Ff,dg(dg(dg(dg({},"".concat(Ff,"-right"),we(r)&&t&&we(t.x)&&r>=t.x),"".concat(Ff,"-left"),we(r)&&t&&we(t.x)&&r<t.x),"".concat(Ff,"-bottom"),we(n)&&t&&we(t.y)&&n>=t.y),"".concat(Ff,"-top"),we(n)&&t&&we(t.y)&&n<t.y))}function GO(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&we(i[n]))return i[n];var d=r[n]-l-s,f=r[n]+s;if(t[n])return o[n]?d:f;if(o[n]){var h=d,m=c[n];return h<m?Math.max(f,c[n]):Math.max(d,c[n])}var g=f+l,p=c[n]+u;return g>p?Math.max(d,c[n]):Math.max(f,c[n])}function nbe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function sbe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=GO({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=GO({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=nbe({translateX:d,translateY:f,useTranslate3d:l})):u=tbe,{cssProperties:u,cssClasses:rbe({translateX:d,translateY:f,coordinate:r})}}function jd(e){"@babel/helpers - typeof";return jd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jd(e)}function YO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function QO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YO(Object(r),!0).forEach(function(n){V_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function abe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ibe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gU(n.key),n)}}function obe(e,t,r){return t&&ibe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lbe(e,t,r){return t=ny(t),cbe(e,pU()?Reflect.construct(t,r||[],ny(e).constructor):t.apply(e,r))}function cbe(e,t){if(t&&(jd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ube(e)}function ube(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pU=function(){return!!e})()}function ny(e){return ny=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ny(e)}function dbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W_(e,t)}function W_(e,t){return W_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W_(e,t)}function V_(e,t,r){return t=gU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gU(e){var t=fbe(e,"string");return jd(t)=="symbol"?t:t+""}function fbe(e,t){if(jd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XO=1,hbe=function(e){function t(){var r;abe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=lbe(this,t,[].concat(s)),V_(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),V_(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return dbe(t,e),obe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>XO||Math.abs(n.height-this.state.lastBoundingBox.height)>XO)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,d=s.coordinate,f=s.hasPayload,h=s.isAnimationActive,m=s.offset,g=s.position,p=s.reverseDirection,y=s.useTranslate3d,b=s.viewBox,v=s.wrapperStyle,w=sbe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:m,position:g,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:b}),_=w.cssClasses,j=w.cssProperties,S=QO(QO({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},j),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},v);return A.createElement("div",{tabIndex:-1,className:_,style:S,ref:function(k){n.wrapperNode=k}},u)}}])}(x.PureComponent),mbe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},pf={isSsr:mbe()};function _d(e){"@babel/helpers - typeof";return _d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_d(e)}function JO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZO(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JO(Object(r),!0).forEach(function(n){wk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gbe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yU(n.key),n)}}function vbe(e,t,r){return t&&gbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function ybe(e,t,r){return t=sy(t),xbe(e,vU()?Reflect.construct(t,r||[],sy(e).constructor):t.apply(e,r))}function xbe(e,t){if(t&&(_d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bbe(e)}function bbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vU=function(){return!!e})()}function sy(e){return sy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sy(e)}function wbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K_(e,t)}function K_(e,t){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K_(e,t)}function wk(e,t,r){return t=yU(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yU(e){var t=jbe(e,"string");return _d(t)=="symbol"?t:t+""}function jbe(e,t){if(_d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function _be(e){return e.dataKey}function Sbe(e,t){return A.isValidElement(e)?A.cloneElement(e,t):typeof e=="function"?A.createElement(e,t):A.createElement(Jxe,t)}var Ss=function(e){function t(){return pbe(this,t),ybe(this,t,arguments)}return wbe(t,e),vbe(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,d=s.coordinate,f=s.filterNull,h=s.isAnimationActive,m=s.offset,g=s.payload,p=s.payloadUniqBy,y=s.position,b=s.reverseDirection,v=s.useTranslate3d,w=s.viewBox,_=s.wrapperStyle,j=g??[];f&&j.length&&(j=oU(g.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),p,_be));var S=j.length>0;return A.createElement(hbe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:d,hasPayload:S,offset:m,position:y,reverseDirection:b,useTranslate3d:v,viewBox:w,wrapperStyle:_},Sbe(u,ZO(ZO({},this.props),{},{payload:j})))}}])}(x.PureComponent);wk(Ss,"displayName","Tooltip");wk(Ss,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!pf.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Nbe=oi,kbe=function(){return Nbe.Date.now()},Cbe=kbe,Ebe=/\s/;function Pbe(e){for(var t=e.length;t--&&Ebe.test(e.charAt(t)););return t}var Obe=Pbe,Abe=Obe,Tbe=/^\s+/;function Rbe(e){return e&&e.slice(0,Abe(e)+1).replace(Tbe,"")}var Mbe=Rbe,$be=Mbe,eA=ml,Ibe=af,tA=NaN,Dbe=/^[-+]0x[0-9a-f]+$/i,Lbe=/^0b[01]+$/i,Fbe=/^0o[0-7]+$/i,Ube=parseInt;function Bbe(e){if(typeof e=="number")return e;if(Ibe(e))return tA;if(eA(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=eA(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=$be(e);var r=Lbe.test(e);return r||Fbe.test(e)?Ube(e.slice(2),r?2:8):Dbe.test(e)?tA:+e}var xU=Bbe,qbe=ml,n0=Cbe,rA=xU,zbe="Expected a function",Wbe=Math.max,Vbe=Math.min;function Kbe(e,t,r){var n,s,i,o,l,c,u=0,d=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(zbe);t=rA(t)||0,qbe(r)&&(d=!!r.leading,f="maxWait"in r,i=f?Wbe(rA(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function m(S){var N=n,k=s;return n=s=void 0,u=S,o=e.apply(k,N),o}function g(S){return u=S,l=setTimeout(b,t),d?m(S):o}function p(S){var N=S-c,k=S-u,C=t-N;return f?Vbe(C,i-k):C}function y(S){var N=S-c,k=S-u;return c===void 0||N>=t||N<0||f&&k>=i}function b(){var S=n0();if(y(S))return v(S);l=setTimeout(b,p(S))}function v(S){return l=void 0,h&&n?m(S):(n=s=void 0,o)}function w(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:v(n0())}function j(){var S=n0(),N=y(S);if(n=arguments,s=this,c=S,N){if(l===void 0)return g(c);if(f)return clearTimeout(l),l=setTimeout(b,t),m(c)}return l===void 0&&(l=setTimeout(b,t)),o}return j.cancel=w,j.flush=_,j}var Hbe=Kbe,Gbe=Hbe,Ybe=ml,Qbe="Expected a function";function Xbe(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(Qbe);return Ybe(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),Gbe(e,t,{leading:n,maxWait:t,trailing:s})}var Jbe=Xbe;const bU=qt(Jbe);function dm(e){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dm(e)}function nA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nA(Object(r),!0).forEach(function(n){Zbe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zbe(e,t,r){return t=ewe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ewe(e){var t=twe(e,"string");return dm(t)=="symbol"?t:t+""}function twe(e,t){if(dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rwe(e,t){return iwe(e)||awe(e,t)||swe(e,t)||nwe()}function nwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function swe(e,t){if(e){if(typeof e=="string")return sA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sA(e,t)}}function sA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function awe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function iwe(e){if(Array.isArray(e))return e}var H_=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,d=u===void 0?0:u,f=e.minHeight,h=e.maxHeight,m=e.children,g=e.debounce,p=g===void 0?0:g,y=e.id,b=e.className,v=e.onResize,w=e.style,_=w===void 0?{}:w,j=x.useRef(null),S=x.useRef();S.current=v,x.useImperativeHandle(t,function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})});var N=x.useState({containerWidth:s.width,containerHeight:s.height}),k=rwe(N,2),C=k[0],E=k[1],I=x.useCallback(function(B,T){E(function(V){var L=Math.round(B),K=Math.round(T);return V.containerWidth===L&&V.containerHeight===K?V:{containerWidth:L,containerHeight:K}})},[]);x.useEffect(function(){var B=function(M){var $,ee=M[0].contentRect,D=ee.width,ie=ee.height;I(D,ie),($=S.current)===null||$===void 0||$.call(S,D,ie)};p>0&&(B=bU(B,p,{trailing:!0,leading:!1}));var T=new ResizeObserver(B),V=j.current.getBoundingClientRect(),L=V.width,K=V.height;return I(L,K),T.observe(j.current),function(){T.disconnect()}},[I,p]);var O=x.useMemo(function(){var B=C.containerWidth,T=C.containerHeight;if(B<0||T<0)return null;Oi(Fl(o)||Fl(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Oi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Fl(o)?B:o,L=Fl(c)?T:c;r&&r>0&&(V?L=V/r:L&&(V=L*r),h&&L>h&&(L=h)),Oi(V>0||L>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,L,o,c,d,f,r);var K=!Array.isArray(m)&&Pi(m.type).endsWith("Chart");return A.Children.map(m,function(R){return A.isValidElement(R)?x.cloneElement(R,fg({width:V,height:L},K?{style:fg({height:"100%",width:"100%",maxHeight:L,maxWidth:V},R.props.style)}:{})):R})},[r,m,c,h,f,d,C,o]);return A.createElement("div",{id:y?"".concat(y):void 0,className:jt("recharts-responsive-container",b),style:fg(fg({},_),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:h}),ref:j},O)}),wU=function(t){return null};wU.displayName="Cell";function fm(e){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fm(e)}function aA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function G_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(r),!0).forEach(function(n){owe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aA(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function owe(e,t,r){return t=lwe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lwe(e){var t=cwe(e,"string");return fm(t)=="symbol"?t:t+""}function cwe(e,t){if(fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zc={widthCache:{},cacheCount:0},uwe=2e3,dwe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},iA="recharts_measurement_span";function fwe(e){var t=G_({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var _h=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||pf.isSsr)return{width:0,height:0};var n=fwe(r),s=JSON.stringify({text:t,copyStyle:n});if(Zc.widthCache[s])return Zc.widthCache[s];try{var i=document.getElementById(iA);i||(i=document.createElement("span"),i.setAttribute("id",iA),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=G_(G_({},dwe),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Zc.widthCache[s]=c,++Zc.cacheCount>uwe&&(Zc.cacheCount=0,Zc.widthCache={}),c}catch{return{width:0,height:0}}},hwe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function hm(e){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hm(e)}function ay(e,t){return vwe(e)||gwe(e,t)||pwe(e,t)||mwe()}function mwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pwe(e,t){if(e){if(typeof e=="string")return oA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(e,t)}}function oA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vwe(e){if(Array.isArray(e))return e}function ywe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bwe(n.key),n)}}function xwe(e,t,r){return t&&lA(e.prototype,t),r&&lA(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function bwe(e){var t=wwe(e,"string");return hm(t)=="symbol"?t:t+""}function wwe(e,t){if(hm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(hm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uA=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jwe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,_we=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,jU={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Swe=Object.keys(jU),wu="NaN";function Nwe(e,t){return e*jU[t]}var hg=function(){function e(t,r){ywe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!jwe.test(r)&&(this.num=NaN,this.unit=""),Swe.includes(r)&&(this.num=Nwe(t,r),this.unit="px")}return xwe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=_we.exec(r))!==null&&n!==void 0?n:[],i=ay(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function _U(e){if(e.includes(wu))return wu;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=cA.exec(t))!==null&&r!==void 0?r:[],s=ay(n,4),i=s[1],o=s[2],l=s[3],c=hg.parse(i??""),u=hg.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return wu;t=t.replace(cA,d.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=uA.exec(t))!==null&&f!==void 0?f:[],m=ay(h,4),g=m[1],p=m[2],y=m[3],b=hg.parse(g??""),v=hg.parse(y??""),w=p==="+"?b.add(v):b.subtract(v);if(w.isNaN())return wu;t=t.replace(uA,w.toString())}return t}var dA=/\(([^()]*)\)/;function kwe(e){for(var t=e;t.includes("(");){var r=dA.exec(t),n=ay(r,2),s=n[1];t=t.replace(dA,_U(s))}return t}function Cwe(e){var t=e.replace(/\s+/g,"");return t=kwe(t),t=_U(t),t}function Ewe(e){try{return Cwe(e)}catch{return wu}}function s0(e){var t=Ewe(e.slice(5,-1));return t===wu?"":t}var Pwe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Owe=["dx","dy","angle","className","breakAll"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y_.apply(this,arguments)}function fA(e,t){if(e==null)return{};var r=Awe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Awe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hA(e,t){return $we(e)||Mwe(e,t)||Rwe(e,t)||Twe()}function Twe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rwe(e,t){if(e){if(typeof e=="string")return mA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mA(e,t)}}function mA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mwe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function $we(e){if(Array.isArray(e))return e}var SU=/[ \f\n\r\t\v\u2028\u2029]+/,NU=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];yt(r)||(n?i=r.toString().split(""):i=r.toString().split(SU));var o=i.map(function(c){return{word:c,width:_h(c,s).width}}),l=n?0:_h("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},Iwe=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,d=we(o),f=l,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(L,K){var R=K.word,M=K.width,$=L[L.length-1];if($&&(s==null||i||$.width+M+n<Number(s)))$.words.push(R),$.width+=M+n;else{var ee={words:[R],width:M};L.push(ee)}return L},[])},m=h(r),g=function(V){return V.reduce(function(L,K){return L.width>K.width?L:K})};if(!d)return m;for(var p="",y=function(V){var L=f.slice(0,V),K=NU({breakAll:u,style:c,children:L+p}).wordsWithComputedWidth,R=h(K),M=R.length>o||g(R).width>Number(s);return[M,R]},b=0,v=f.length-1,w=0,_;b<=v&&w<=f.length-1;){var j=Math.floor((b+v)/2),S=j-1,N=y(S),k=hA(N,2),C=k[0],E=k[1],I=y(j),O=hA(I,1),B=O[0];if(!C&&!B&&(b=j+1),C&&B&&(v=j-1),!C&&B){_=E;break}w++}return _||m},pA=function(t){var r=yt(t)?[]:t.toString().split(SU);return[{words:r}]},Dwe=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!pf.isSsr){var c,u,d=NU({breakAll:o,children:s,style:i});if(d){var f=d.wordsWithComputedWidth,h=d.spaceWidth;c=f,u=h}else return pA(s);return Iwe({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return pA(s)},gA="#808080",iy=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,d=t.scaleToFit,f=d===void 0?!1:d,h=t.textAnchor,m=h===void 0?"start":h,g=t.verticalAnchor,p=g===void 0?"end":g,y=t.fill,b=y===void 0?gA:y,v=fA(t,Pwe),w=x.useMemo(function(){return Dwe({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:f,style:v.style,width:v.width})},[v.breakAll,v.children,v.maxLines,f,v.style,v.width]),_=v.dx,j=v.dy,S=v.angle,N=v.className,k=v.breakAll,C=fA(v,Owe);if(!Hr(n)||!Hr(i))return null;var E=n+(we(_)?_:0),I=i+(we(j)?j:0),O;switch(p){case"start":O=s0("calc(".concat(u,")"));break;case"middle":O=s0("calc(".concat((w.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:O=s0("calc(".concat(w.length-1," * -").concat(l,")"));break}var B=[];if(f){var T=w[0].width,V=v.width;B.push("scale(".concat((we(V)?V/T:1)/T,")"))}return S&&B.push("rotate(".concat(S,", ").concat(E,", ").concat(I,")")),B.length&&(C.transform=B.join(" ")),A.createElement("text",Y_({},mt(C,!0),{x:E,y:I,className:jt("recharts-text",N),textAnchor:m,fill:b.includes("url")?gA:b}),w.map(function(L,K){var R=L.words.join(k?"":" ");return A.createElement("tspan",{x:E,dy:K===0?O:l,key:"".concat(R,"-").concat(K)},R)}))};function Zo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lwe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function jk(e){let t,r,n;e.length!==2?(t=Zo,r=(l,c)=>Zo(e(l),c),n=(l,c)=>e(l)-c):(t=e===Zo||e===Lwe?e:Fwe,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:o,right:i}}function Fwe(){return 0}function kU(e){return e===null?NaN:+e}function*Uwe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Bwe=jk(Zo),yp=Bwe.right;jk(kU).center;class vA extends Map{constructor(t,r=Wwe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(yA(this,t))}has(t){return super.has(yA(this,t))}set(t,r){return super.set(qwe(this,t),r)}delete(t){return super.delete(zwe(this,t))}}function yA({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function qwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function zwe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Wwe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Vwe(e=Zo){if(e===Zo)return CU;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function CU(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Kwe=Math.sqrt(50),Hwe=Math.sqrt(10),Gwe=Math.sqrt(2);function oy(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=Kwe?10:i>=Hwe?5:i>=Gwe?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?oy(e,t,r*2):[l,c,u]}function Q_(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?oy(t,e,r):oy(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function X_(e,t,r){return t=+t,e=+e,r=+r,oy(e,t,r)[2]}function J_(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?X_(t,e,r):X_(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function xA(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function bA(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function EU(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?CU:Vwe(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));EU(e,t,m,g,s)}const i=e[t];let o=r,l=n;for(Uf(e,r,t),s(e[n],i)>0&&Uf(e,r,n);o<l;){for(Uf(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?Uf(e,r,l):(++l,Uf(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Uf(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Ywe(e,t,r){if(e=Float64Array.from(Uwe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return bA(e);if(t>=1)return xA(e);var n,s=(n-1)*t,i=Math.floor(s),o=xA(EU(e,i).subarray(0,i+1)),l=bA(e.subarray(i+1));return o+(l-o)*(s-i)}}function Qwe(e,t,r=kU){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function Xwe(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Ws(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function eo(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Z_=Symbol("implicit");function _k(){var e=new vA,t=[],r=[],n=Z_;function s(i){let o=e.get(i);if(o===void 0){if(n!==Z_)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new vA;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return _k(t,r).unknown(n)},Ws.apply(s,arguments),s}function mm(){var e=_k().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,g=m?s:n,p=m?n:s;i=(p-g)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),g+=(p-g-i*(h-c))*d,o=i*(1-c),l&&(g=Math.round(g),o=Math.round(o));var y=Xwe(h).map(function(b){return g+i*b});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return mm(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},Ws.apply(f(),arguments)}function PU(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PU(t())},e}function Sh(){return PU(mm.apply(null,arguments).paddingInner(1))}function Sk(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function OU(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xp(){}var pm=.7,ly=1/pm,Iu="\\s*([+-]?\\d+)\\s*",gm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jwe=/^#([0-9a-f]{3,8})$/,Zwe=new RegExp(`^rgb\\(${Iu},${Iu},${Iu}\\)$`),e0e=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),t0e=new RegExp(`^rgba\\(${Iu},${Iu},${Iu},${gm}\\)$`),r0e=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${gm}\\)$`),n0e=new RegExp(`^hsl\\(${gm},${Qa},${Qa}\\)$`),s0e=new RegExp(`^hsla\\(${gm},${Qa},${Qa},${gm}\\)$`),wA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sk(xp,vm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:jA,formatHex:jA,formatHex8:a0e,formatHsl:i0e,formatRgb:_A,toString:_A});function jA(){return this.rgb().formatHex()}function a0e(){return this.rgb().formatHex8()}function i0e(){return AU(this).formatHsl()}function _A(){return this.rgb().formatRgb()}function vm(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=Jwe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?SA(t):r===3?new zn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?mg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?mg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Zwe.exec(e))?new zn(t[1],t[2],t[3],1):(t=e0e.exec(e))?new zn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=t0e.exec(e))?mg(t[1],t[2],t[3],t[4]):(t=r0e.exec(e))?mg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=n0e.exec(e))?CA(t[1],t[2]/100,t[3]/100,1):(t=s0e.exec(e))?CA(t[1],t[2]/100,t[3]/100,t[4]):wA.hasOwnProperty(e)?SA(wA[e]):e==="transparent"?new zn(NaN,NaN,NaN,0):null}function SA(e){return new zn(e>>16&255,e>>8&255,e&255,1)}function mg(e,t,r,n){return n<=0&&(e=t=r=NaN),new zn(e,t,r,n)}function o0e(e){return e instanceof xp||(e=vm(e)),e?(e=e.rgb(),new zn(e.r,e.g,e.b,e.opacity)):new zn}function e1(e,t,r,n){return arguments.length===1?o0e(e):new zn(e,t,r,n??1)}function zn(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Sk(zn,e1,OU(xp,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pm:Math.pow(pm,e),new zn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new zn(tc(this.r),tc(this.g),tc(this.b),cy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NA,formatHex:NA,formatHex8:l0e,formatRgb:kA,toString:kA}));function NA(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}`}function l0e(){return`#${Ul(this.r)}${Ul(this.g)}${Ul(this.b)}${Ul((isNaN(this.opacity)?1:this.opacity)*255)}`}function kA(){const e=cy(this.opacity);return`${e===1?"rgb(":"rgba("}${tc(this.r)}, ${tc(this.g)}, ${tc(this.b)}${e===1?")":`, ${e})`}`}function cy(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function tc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ul(e){return e=tc(e),(e<16?"0":"")+e.toString(16)}function CA(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new fa(e,t,r,n)}function AU(e){if(e instanceof fa)return new fa(e.h,e.s,e.l,e.opacity);if(e instanceof xp||(e=vm(e)),!e)return new fa;if(e instanceof fa)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new fa(o,l,c,e.opacity)}function c0e(e,t,r,n){return arguments.length===1?AU(e):new fa(e,t,r,n??1)}function fa(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Sk(fa,c0e,OU(xp,{brighter(e){return e=e==null?ly:Math.pow(ly,e),new fa(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pm:Math.pow(pm,e),new fa(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new zn(a0(e>=240?e-240:e+120,s,n),a0(e,s,n),a0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new fa(EA(this.h),pg(this.s),pg(this.l),cy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=cy(this.opacity);return`${e===1?"hsl(":"hsla("}${EA(this.h)}, ${pg(this.s)*100}%, ${pg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function EA(e){return e=(e||0)%360,e<0?e+360:e}function pg(e){return Math.max(0,Math.min(1,e||0))}function a0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Nk=e=>()=>e;function u0e(e,t){return function(r){return e+r*t}}function d0e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function f0e(e){return(e=+e)==1?TU:function(t,r){return r-t?d0e(t,r,e):Nk(isNaN(t)?r:t)}}function TU(e,t){var r=t-e;return r?u0e(e,r):Nk(isNaN(e)?t:e)}const PA=function e(t){var r=f0e(t);function n(s,i){var o=r((s=e1(s)).r,(i=e1(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=TU(s.opacity,i.opacity);return function(d){return s.r=o(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function h0e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function m0e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function p0e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=gf(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function g0e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function uy(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function v0e(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=gf(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var t1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i0=new RegExp(t1.source,"g");function y0e(e){return function(){return e}}function x0e(e){return function(t){return e(t)+""}}function b0e(e,t){var r=t1.lastIndex=i0.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=t1.exec(e))&&(s=i0.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:uy(n,s)})),r=i0.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?x0e(c[0].x):y0e(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function gf(e,t){var r=typeof t,n;return t==null||r==="boolean"?Nk(t):(r==="number"?uy:r==="string"?(n=vm(t))?(t=n,PA):b0e:t instanceof vm?PA:t instanceof Date?g0e:m0e(t)?h0e:Array.isArray(t)?p0e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?v0e:uy)(e,t)}function kk(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function w0e(e,t){t===void 0&&(t=e,e=gf);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function j0e(e){return function(){return e}}function dy(e){return+e}var OA=[0,1];function Cn(e){return e}function r1(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:j0e(isNaN(t)?NaN:.5)}function _0e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function S0e(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=r1(s,n),i=r(o,i)):(n=r1(n,s),i=r(i,o)),function(l){return i(n(l))}}function N0e(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=r1(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=yp(e,l,1,n)-1;return i[c](s[c](l))}}function bp(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yb(){var e=OA,t=OA,r=gf,n,s,i,o=Cn,l,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Cn&&(o=_0e(e[0],e[h-1])),l=h>2?N0e:S0e,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(s((u||(u=l(t,e.map(n),uy)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,dy),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=kk,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Cn,d()):o!==Cn},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function Ck(){return yb()(Cn,Cn)}function k0e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fy(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Sd(e){return e=fy(Math.abs(e)),e?e[1]:NaN}function C0e(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function E0e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var P0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ym(e){if(!(t=P0e.exec(e)))throw new Error("invalid format: "+e);var t;return new Ek({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ym.prototype=Ek.prototype;function Ek(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ek.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function O0e(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var hy;function A0e(e,t){var r=fy(e,t);if(!r)return hy=void 0,e.toPrecision(t);var n=r[0],s=r[1],i=s-(hy=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+fy(e,Math.max(0,t+i-1))[0]}function AA(e,t){var r=fy(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const TA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:k0e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AA(e*100,t),r:AA,s:A0e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function RA(e){return e}var MA=Array.prototype.map,$A=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function T0e(e){var t=e.grouping===void 0||e.thousands===void 0?RA:C0e(MA.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?RA:E0e(MA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=ym(f);var m=f.fill,g=f.align,p=f.sign,y=f.symbol,b=f.zero,v=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):TA[S]||(_===void 0&&(_=12),j=!0,S="g"),(b||m==="0"&&g==="=")&&(b=!0,m="0",g="=");var N=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),k=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),C=TA[S],E=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(O){var B=N,T=k,V,L,K;if(S==="c")T=C(O)+T,O="";else{O=+O;var R=O<0||1/O<0;if(O=isNaN(O)?c:C(Math.abs(O),_),j&&(O=O0e(O)),R&&+O==0&&p!=="+"&&(R=!1),B=(R?p==="("?p:l:p==="-"||p==="("?"":p)+B,T=(S==="s"&&!isNaN(O)&&hy!==void 0?$A[8+hy/3]:"")+T+(R&&p==="("?")":""),E){for(V=-1,L=O.length;++V<L;)if(K=O.charCodeAt(V),48>K||K>57){T=(K===46?s+O.slice(V+1):O.slice(V))+T,O=O.slice(0,V);break}}}w&&!b&&(O=t(O,1/0));var M=B.length+O.length+T.length,$=M<v?new Array(v-M+1).join(m):"";switch(w&&b&&(O=t($+O,$.length?v-T.length:1/0),$=""),g){case"<":O=B+O+T+$;break;case"=":O=B+$+O+T;break;case"^":O=$.slice(0,M=$.length>>1)+B+O+T+$.slice(M);break;default:O=$+B+O+T;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Sd(h)/3)))*3,g=Math.pow(10,-m),p=u((f=ym(f),f.type="f",f),{suffix:$A[8+m/3]});return function(y){return p(g*y)}}return{format:u,formatPrefix:d}}var gg,Pk,RU;R0e({thousands:",",grouping:[3],currency:["$",""]});function R0e(e){return gg=T0e(e),Pk=gg.format,RU=gg.formatPrefix,gg}function M0e(e){return Math.max(0,-Sd(Math.abs(e)))}function $0e(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sd(t)/3)))*3-Sd(Math.abs(e)))}function I0e(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sd(t)-Sd(e))+1}function MU(e,t,r,n){var s=J_(e,t,r),i;switch(n=ym(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=$0e(s,o))&&(n.precision=i),RU(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=I0e(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=M0e(s))&&(n.precision=i-(n.type==="%")*2);break}}return Pk(n)}function gl(e){var t=e.domain;return e.ticks=function(r){var n=t();return Q_(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return MU(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=X_(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function my(){var e=Ck();return e.copy=function(){return bp(e,my())},Ws.apply(e,arguments),gl(e)}function $U(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,dy),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $U(e).unknown(t)},e=arguments.length?Array.from(e,dy):[0,1],gl(r)}function IU(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function IA(e){return Math.log(e)}function DA(e){return Math.exp(e)}function D0e(e){return-Math.log(-e)}function L0e(e){return-Math.exp(-e)}function F0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function U0e(e){return e===10?F0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function B0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LA(e){return(t,r)=>-e(-t,r)}function Ok(e){const t=e(IA,DA),r=t.domain;let n=10,s,i;function o(){return s=B0e(n),i=U0e(n),r()[0]<0?(s=LA(s),i=LA(i),e(D0e,L0e)):e(IA,DA),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),g,p;const y=l==null?10:+l;let b=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(p=h<0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(p=h>0?g/i(-h):g*i(h),!(p<u)){if(p>d)break;b.push(p)}b.length*2<y&&(b=Q_(u,d,y))}else b=Q_(h,m,Math.min(m-h,y)).map(i);return f?b.reverse():b},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=ym(c)).precision==null&&(c.trim=!0),c=Pk(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(IU(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function DU(){const e=Ok(yb()).domain([1,10]);return e.copy=()=>bp(e,DU()).base(e.base()),Ws.apply(e,arguments),e}function FA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function UA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ak(e){var t=1,r=e(FA(t),UA(t));return r.constant=function(n){return arguments.length?e(FA(t=+n),UA(t)):t},gl(r)}function LU(){var e=Ak(yb());return e.copy=function(){return bp(e,LU()).constant(e.constant())},Ws.apply(e,arguments)}function BA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function q0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function z0e(e){return e<0?-e*e:e*e}function Tk(e){var t=e(Cn,Cn),r=1;function n(){return r===1?e(Cn,Cn):r===.5?e(q0e,z0e):e(BA(r),BA(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},gl(t)}function Rk(){var e=Tk(yb());return e.copy=function(){return bp(e,Rk()).exponent(e.exponent())},Ws.apply(e,arguments),e}function W0e(){return Rk.apply(null,arguments).exponent(.5)}function qA(e){return Math.sign(e)*e*e}function V0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FU(){var e=Ck(),t=[0,1],r=!1,n;function s(i){var o=V0e(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(qA(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,dy)).map(qA)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return FU(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ws.apply(s,arguments),gl(s)}function UU(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=Qwe(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[yp(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Zo),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return UU().domain(e).range(t).unknown(n)},Ws.apply(i,arguments)}function BU(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[yp(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return BU().domain([e,t]).range(s).unknown(i)},Ws.apply(gl(o),arguments)}function qU(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[yp(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return qU().domain(e).range(t).unknown(r)},Ws.apply(s,arguments)}const o0=new Date,l0=new Date;function Gr(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>Gr(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(o0.setTime(+i),l0.setTime(+o),e(o0),e(l0),Math.floor(r(o0,l0))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const py=Gr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);py.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Gr(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):py);py.range;const _i=1e3,Os=_i*60,Si=Os*60,Bi=Si*24,Mk=Bi*7,zA=Bi*30,c0=Bi*365,Bl=Gr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_i)},(e,t)=>(t-e)/_i,e=>e.getUTCSeconds());Bl.range;const $k=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getMinutes());$k.range;const Ik=Gr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Os)},(e,t)=>(t-e)/Os,e=>e.getUTCMinutes());Ik.range;const Dk=Gr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_i-e.getMinutes()*Os)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());Dk.range;const Lk=Gr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());Lk.range;const wp=Gr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Os)/Bi,e=>e.getDate()-1);wp.range;const xb=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>e.getUTCDate()-1);xb.range;const zU=Gr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bi,e=>Math.floor(e/Bi));zU.range;function Tc(e){return Gr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Os)/Mk)}const bb=Tc(0),gy=Tc(1),K0e=Tc(2),H0e=Tc(3),Nd=Tc(4),G0e=Tc(5),Y0e=Tc(6);bb.range;gy.range;K0e.range;H0e.range;Nd.range;G0e.range;Y0e.range;function Rc(e){return Gr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Mk)}const wb=Rc(0),vy=Rc(1),Q0e=Rc(2),X0e=Rc(3),kd=Rc(4),J0e=Rc(5),Z0e=Rc(6);wb.range;vy.range;Q0e.range;X0e.range;kd.range;J0e.range;Z0e.range;const Fk=Gr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Fk.range;const Uk=Gr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Uk.range;const qi=Gr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});qi.range;const zi=Gr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Gr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zi.range;function WU(e,t,r,n,s,i){const o=[[Bl,1,_i],[Bl,5,5*_i],[Bl,15,15*_i],[Bl,30,30*_i],[i,1,Os],[i,5,5*Os],[i,15,15*Os],[i,30,30*Os],[s,1,Si],[s,3,3*Si],[s,6,6*Si],[s,12,12*Si],[n,1,Bi],[n,2,2*Bi],[r,1,Mk],[t,1,zA],[t,3,3*zA],[e,1,c0]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=jk(([,,y])=>y).right(o,h);if(m===o.length)return e.every(J_(u/c0,d/c0,f));if(m===0)return py.every(Math.max(J_(u,d,f),1));const[g,p]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(p)}return[l,c]}const[eje,tje]=WU(zi,Uk,wb,zU,Lk,Ik),[rje,nje]=WU(qi,Fk,bb,wp,Dk,$k);function u0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function d0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bf(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function sje(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=qf(s),d=zf(s),f=qf(i),h=zf(i),m=qf(o),g=zf(o),p=qf(l),y=zf(l),b=qf(c),v=zf(c),w={a:K,A:R,b:M,B:$,c:null,d:YA,e:YA,f:Cje,g:Dje,G:Fje,H:Sje,I:Nje,j:kje,L:VU,m:Eje,M:Pje,p:ee,q:D,Q:JA,s:ZA,S:Oje,u:Aje,U:Tje,V:Rje,w:Mje,W:$je,x:null,X:null,y:Ije,Y:Lje,Z:Uje,"%":XA},_={a:ie,A:ve,b:Ve,B:Ke,c:null,d:QA,e:QA,f:Wje,g:e_e,G:r_e,H:Bje,I:qje,j:zje,L:HU,m:Vje,M:Kje,p:de,q:qe,Q:JA,s:ZA,S:Hje,u:Gje,U:Yje,V:Qje,w:Xje,W:Jje,x:null,X:null,y:Zje,Y:t_e,Z:n_e,"%":XA},j={a:E,A:I,b:O,B,c:T,d:HA,e:HA,f:bje,g:KA,G:VA,H:GA,I:GA,j:gje,L:xje,m:pje,M:vje,p:C,q:mje,Q:jje,s:_je,S:yje,u:cje,U:uje,V:dje,w:lje,W:fje,x:V,X:L,y:KA,Y:VA,Z:hje,"%":wje};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(ae,je){return function(Y){var Q=[],Xe=-1,He=0,xt=ae.length,ct,zt,Sr;for(Y instanceof Date||(Y=new Date(+Y));++Xe<xt;)ae.charCodeAt(Xe)===37&&(Q.push(ae.slice(He,Xe)),(zt=WA[ct=ae.charAt(++Xe)])!=null?ct=ae.charAt(++Xe):zt=ct==="e"?" ":"0",(Sr=je[ct])&&(ct=Sr(Y,zt)),Q.push(ct),He=Xe+1);return Q.push(ae.slice(He,Xe)),Q.join("")}}function N(ae,je){return function(Y){var Q=Bf(1900,void 0,1),Xe=k(Q,ae,Y+="",0),He,xt;if(Xe!=Y.length)return null;if("Q"in Q)return new Date(Q.Q);if("s"in Q)return new Date(Q.s*1e3+("L"in Q?Q.L:0));if(je&&!("Z"in Q)&&(Q.Z=0),"p"in Q&&(Q.H=Q.H%12+Q.p*12),Q.m===void 0&&(Q.m="q"in Q?Q.q:0),"V"in Q){if(Q.V<1||Q.V>53)return null;"w"in Q||(Q.w=1),"Z"in Q?(He=d0(Bf(Q.y,0,1)),xt=He.getUTCDay(),He=xt>4||xt===0?vy.ceil(He):vy(He),He=xb.offset(He,(Q.V-1)*7),Q.y=He.getUTCFullYear(),Q.m=He.getUTCMonth(),Q.d=He.getUTCDate()+(Q.w+6)%7):(He=u0(Bf(Q.y,0,1)),xt=He.getDay(),He=xt>4||xt===0?gy.ceil(He):gy(He),He=wp.offset(He,(Q.V-1)*7),Q.y=He.getFullYear(),Q.m=He.getMonth(),Q.d=He.getDate()+(Q.w+6)%7)}else("W"in Q||"U"in Q)&&("w"in Q||(Q.w="u"in Q?Q.u%7:"W"in Q?1:0),xt="Z"in Q?d0(Bf(Q.y,0,1)).getUTCDay():u0(Bf(Q.y,0,1)).getDay(),Q.m=0,Q.d="W"in Q?(Q.w+6)%7+Q.W*7-(xt+5)%7:Q.w+Q.U*7-(xt+6)%7);return"Z"in Q?(Q.H+=Q.Z/100|0,Q.M+=Q.Z%100,d0(Q)):u0(Q)}}function k(ae,je,Y,Q){for(var Xe=0,He=je.length,xt=Y.length,ct,zt;Xe<He;){if(Q>=xt)return-1;if(ct=je.charCodeAt(Xe++),ct===37){if(ct=je.charAt(Xe++),zt=j[ct in WA?je.charAt(Xe++):ct],!zt||(Q=zt(ae,Y,Q))<0)return-1}else if(ct!=Y.charCodeAt(Q++))return-1}return Q}function C(ae,je,Y){var Q=u.exec(je.slice(Y));return Q?(ae.p=d.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function E(ae,je,Y){var Q=m.exec(je.slice(Y));return Q?(ae.w=g.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function I(ae,je,Y){var Q=f.exec(je.slice(Y));return Q?(ae.w=h.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function O(ae,je,Y){var Q=b.exec(je.slice(Y));return Q?(ae.m=v.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function B(ae,je,Y){var Q=p.exec(je.slice(Y));return Q?(ae.m=y.get(Q[0].toLowerCase()),Y+Q[0].length):-1}function T(ae,je,Y){return k(ae,t,je,Y)}function V(ae,je,Y){return k(ae,r,je,Y)}function L(ae,je,Y){return k(ae,n,je,Y)}function K(ae){return o[ae.getDay()]}function R(ae){return i[ae.getDay()]}function M(ae){return c[ae.getMonth()]}function $(ae){return l[ae.getMonth()]}function ee(ae){return s[+(ae.getHours()>=12)]}function D(ae){return 1+~~(ae.getMonth()/3)}function ie(ae){return o[ae.getUTCDay()]}function ve(ae){return i[ae.getUTCDay()]}function Ve(ae){return c[ae.getUTCMonth()]}function Ke(ae){return l[ae.getUTCMonth()]}function de(ae){return s[+(ae.getUTCHours()>=12)]}function qe(ae){return 1+~~(ae.getUTCMonth()/3)}return{format:function(ae){var je=S(ae+="",w);return je.toString=function(){return ae},je},parse:function(ae){var je=N(ae+="",!1);return je.toString=function(){return ae},je},utcFormat:function(ae){var je=S(ae+="",_);return je.toString=function(){return ae},je},utcParse:function(ae){var je=N(ae+="",!0);return je.toString=function(){return ae},je}}}var WA={"-":"",_:" ",0:"0"},tn=/^\s*\d+/,aje=/^%/,ije=/[\\^$*+?|[\]().{}]/g;function Pt(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function oje(e){return e.replace(ije,"\\$&")}function qf(e){return new RegExp("^(?:"+e.map(oje).join("|")+")","i")}function zf(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function lje(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function cje(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function uje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function dje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function fje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function VA(e,t,r){var n=tn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function KA(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function hje(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function mje(e,t,r){var n=tn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function pje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function HA(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function gje(e,t,r){var n=tn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function GA(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function vje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function yje(e,t,r){var n=tn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function xje(e,t,r){var n=tn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function bje(e,t,r){var n=tn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function wje(e,t,r){var n=aje.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function jje(e,t,r){var n=tn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function _je(e,t,r){var n=tn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function YA(e,t){return Pt(e.getDate(),t,2)}function Sje(e,t){return Pt(e.getHours(),t,2)}function Nje(e,t){return Pt(e.getHours()%12||12,t,2)}function kje(e,t){return Pt(1+wp.count(qi(e),e),t,3)}function VU(e,t){return Pt(e.getMilliseconds(),t,3)}function Cje(e,t){return VU(e,t)+"000"}function Eje(e,t){return Pt(e.getMonth()+1,t,2)}function Pje(e,t){return Pt(e.getMinutes(),t,2)}function Oje(e,t){return Pt(e.getSeconds(),t,2)}function Aje(e){var t=e.getDay();return t===0?7:t}function Tje(e,t){return Pt(bb.count(qi(e)-1,e),t,2)}function KU(e){var t=e.getDay();return t>=4||t===0?Nd(e):Nd.ceil(e)}function Rje(e,t){return e=KU(e),Pt(Nd.count(qi(e),e)+(qi(e).getDay()===4),t,2)}function Mje(e){return e.getDay()}function $je(e,t){return Pt(gy.count(qi(e)-1,e),t,2)}function Ije(e,t){return Pt(e.getFullYear()%100,t,2)}function Dje(e,t){return e=KU(e),Pt(e.getFullYear()%100,t,2)}function Lje(e,t){return Pt(e.getFullYear()%1e4,t,4)}function Fje(e,t){var r=e.getDay();return e=r>=4||r===0?Nd(e):Nd.ceil(e),Pt(e.getFullYear()%1e4,t,4)}function Uje(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Pt(t/60|0,"0",2)+Pt(t%60,"0",2)}function QA(e,t){return Pt(e.getUTCDate(),t,2)}function Bje(e,t){return Pt(e.getUTCHours(),t,2)}function qje(e,t){return Pt(e.getUTCHours()%12||12,t,2)}function zje(e,t){return Pt(1+xb.count(zi(e),e),t,3)}function HU(e,t){return Pt(e.getUTCMilliseconds(),t,3)}function Wje(e,t){return HU(e,t)+"000"}function Vje(e,t){return Pt(e.getUTCMonth()+1,t,2)}function Kje(e,t){return Pt(e.getUTCMinutes(),t,2)}function Hje(e,t){return Pt(e.getUTCSeconds(),t,2)}function Gje(e){var t=e.getUTCDay();return t===0?7:t}function Yje(e,t){return Pt(wb.count(zi(e)-1,e),t,2)}function GU(e){var t=e.getUTCDay();return t>=4||t===0?kd(e):kd.ceil(e)}function Qje(e,t){return e=GU(e),Pt(kd.count(zi(e),e)+(zi(e).getUTCDay()===4),t,2)}function Xje(e){return e.getUTCDay()}function Jje(e,t){return Pt(vy.count(zi(e)-1,e),t,2)}function Zje(e,t){return Pt(e.getUTCFullYear()%100,t,2)}function e_e(e,t){return e=GU(e),Pt(e.getUTCFullYear()%100,t,2)}function t_e(e,t){return Pt(e.getUTCFullYear()%1e4,t,4)}function r_e(e,t){var r=e.getUTCDay();return e=r>=4||r===0?kd(e):kd.ceil(e),Pt(e.getUTCFullYear()%1e4,t,4)}function n_e(){return"+0000"}function XA(){return"%"}function JA(e){return+e}function ZA(e){return Math.floor(+e/1e3)}var eu,YU,QU;s_e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function s_e(e){return eu=sje(e),YU=eu.format,eu.parse,QU=eu.utcFormat,eu.utcParse,eu}function a_e(e){return new Date(e)}function i_e(e){return e instanceof Date?+e:+new Date(+e)}function Bk(e,t,r,n,s,i,o,l,c,u){var d=Ck(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),p=u("%I:%M"),y=u("%I %p"),b=u("%a %d"),v=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?g:o(S)<S?p:i(S)<S?y:n(S)<S?s(S)<S?b:v:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,i_e)):h().map(a_e)},d.ticks=function(S){var N=h();return e(N[0],N[N.length-1],S??10)},d.tickFormat=function(S,N){return N==null?j:u(N)},d.nice=function(S){var N=h();return(!S||typeof S.range!="function")&&(S=t(N[0],N[N.length-1],S??10)),S?h(IU(N,S)):d},d.copy=function(){return bp(d,Bk(e,t,r,n,s,i,o,l,c,u))},d}function o_e(){return Ws.apply(Bk(rje,nje,qi,Fk,bb,wp,Dk,$k,Bl,YU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function l_e(){return Ws.apply(Bk(eje,tje,zi,Uk,wb,xb,Lk,Ik,Bl,QU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function jb(){var e=0,t=1,r,n,s,i,o=Cn,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(gf),u.rangeRound=d(kk),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function vl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function XU(){var e=gl(jb()(Cn));return e.copy=function(){return vl(e,XU())},eo.apply(e,arguments)}function JU(){var e=Ok(jb()).domain([1,10]);return e.copy=function(){return vl(e,JU()).base(e.base())},eo.apply(e,arguments)}function ZU(){var e=Ak(jb());return e.copy=function(){return vl(e,ZU()).constant(e.constant())},eo.apply(e,arguments)}function qk(){var e=Tk(jb());return e.copy=function(){return vl(e,qk()).exponent(e.exponent())},eo.apply(e,arguments)}function c_e(){return qk.apply(null,arguments).exponent(.5)}function eB(){var e=[],t=Cn;function r(n){if(n!=null&&!isNaN(n=+n))return t((yp(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Zo),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>Ywe(e,i/n))},r.copy=function(){return eB(t).domain(e)},eo.apply(r,arguments)}function _b(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=Cn,d,f=!1,h;function m(p){return isNaN(p=+p)?h:(p=.5+((p=+d(p))-i)*(n*p<n*i?l:c),u(f?Math.max(0,Math.min(1,p)):p))}m.domain=function(p){return arguments.length?([e,t,r]=p,s=d(e=+e),i=d(t=+t),o=d(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(p){return arguments.length?(f=!!p,m):f},m.interpolator=function(p){return arguments.length?(u=p,m):u};function g(p){return function(y){var b,v,w;return arguments.length?([b,v,w]=y,u=w0e(p,[b,v,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(gf),m.rangeRound=g(kk),m.unknown=function(p){return arguments.length?(h=p,m):h},function(p){return d=p,s=p(e),i=p(t),o=p(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,m}}function tB(){var e=gl(_b()(Cn));return e.copy=function(){return vl(e,tB())},eo.apply(e,arguments)}function rB(){var e=Ok(_b()).domain([.1,1,10]);return e.copy=function(){return vl(e,rB()).base(e.base())},eo.apply(e,arguments)}function nB(){var e=Ak(_b());return e.copy=function(){return vl(e,nB()).constant(e.constant())},eo.apply(e,arguments)}function zk(){var e=Tk(_b());return e.copy=function(){return vl(e,zk()).exponent(e.exponent())},eo.apply(e,arguments)}function u_e(){return zk.apply(null,arguments).exponent(.5)}const eT=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mm,scaleDiverging:tB,scaleDivergingLog:rB,scaleDivergingPow:zk,scaleDivergingSqrt:u_e,scaleDivergingSymlog:nB,scaleIdentity:$U,scaleImplicit:Z_,scaleLinear:my,scaleLog:DU,scaleOrdinal:_k,scalePoint:Sh,scalePow:Rk,scaleQuantile:UU,scaleQuantize:BU,scaleRadial:FU,scaleSequential:XU,scaleSequentialLog:JU,scaleSequentialPow:qk,scaleSequentialQuantile:eB,scaleSequentialSqrt:c_e,scaleSequentialSymlog:ZU,scaleSqrt:W0e,scaleSymlog:LU,scaleThreshold:qU,scaleTime:o_e,scaleUtc:l_e,tickFormat:MU},Symbol.toStringTag,{value:"Module"}));var d_e=af;function f_e(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!d_e(o):r(o,l)))var l=o,c=i}return c}var sB=f_e;function h_e(e,t){return e>t}var m_e=h_e,p_e=sB,g_e=m_e,v_e=mf;function y_e(e){return e&&e.length?p_e(e,v_e,g_e):void 0}var x_e=y_e;const Fo=qt(x_e);function b_e(e,t){return e<t}var w_e=b_e,j_e=sB,__e=w_e,S_e=mf;function N_e(e){return e&&e.length?j_e(e,S_e,__e):void 0}var k_e=N_e;const Sb=qt(k_e);var C_e=nk,E_e=pl,P_e=hU,O_e=Qn;function A_e(e,t){var r=O_e(e)?C_e:P_e;return r(e,E_e(t))}var T_e=A_e,R_e=dU,M_e=T_e;function $_e(e,t){return R_e(M_e(e,t),1)}var I_e=$_e;const D_e=qt(I_e);var L_e=yk;function F_e(e,t){return L_e(e,t)}var U_e=F_e;const xm=qt(U_e);var vf=1e9,B_e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Vk,ir=!0,Fs="[DecimalError] ",rc=Fs+"Invalid argument: ",Wk=Fs+"Exponent out of range: ",yf=Math.floor,Pl=Math.pow,q_e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,is,Qr=1e7,tr=7,aB=9007199254740991,yy=yf(aB/tr),Ie={};Ie.absoluteValue=Ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ie.comparedTo=Ie.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Ie.decimalPlaces=Ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ie.dividedBy=Ie.div=function(e){return Ai(this,new this.constructor(e))};Ie.dividedToIntegerBy=Ie.idiv=function(e){var t=this,r=t.constructor;return Kt(Ai(t,new r(e),0,1),r.precision)};Ie.equals=Ie.eq=function(e){return!this.cmp(e)};Ie.exponent=function(){return $r(this)};Ie.greaterThan=Ie.gt=function(e){return this.cmp(e)>0};Ie.greaterThanOrEqualTo=Ie.gte=function(e){return this.cmp(e)>=0};Ie.isInteger=Ie.isint=function(){return this.e>this.d.length-2};Ie.isNegative=Ie.isneg=function(){return this.s<0};Ie.isPositive=Ie.ispos=function(){return this.s>0};Ie.isZero=function(){return this.s===0};Ie.lessThan=Ie.lt=function(e){return this.cmp(e)<0};Ie.lessThanOrEqualTo=Ie.lte=function(e){return this.cmp(e)<1};Ie.logarithm=Ie.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(is))throw Error(Fs+"NaN");if(r.s<1)throw Error(Fs+(r.s?"NaN":"-Infinity"));return r.eq(is)?new n(0):(ir=!1,t=Ai(bm(r,i),bm(e,i),i),ir=!0,Kt(t,s))};Ie.minus=Ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lB(t,e):iB(t,(e.s=-e.s,e))};Ie.modulo=Ie.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Fs+"NaN");return r.s?(ir=!1,t=Ai(r,e,0,1).times(e),ir=!0,r.minus(t)):Kt(new n(r),s)};Ie.naturalExponential=Ie.exp=function(){return oB(this)};Ie.naturalLogarithm=Ie.ln=function(){return bm(this)};Ie.negated=Ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ie.plus=Ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iB(t,e):lB(t,(e.s=-e.s,e))};Ie.precision=Ie.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(rc+e);if(t=$r(s)+1,n=s.d.length-1,r=n*tr+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ie.squareRoot=Ie.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Fs+"NaN")}for(e=$r(l),ir=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=qa(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=yf((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Ai(l,i,o+2)).times(.5),qa(i.d).slice(0,o)===(t=qa(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Kt(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return ir=!0,Kt(n,r)};Ie.times=Ie.mul=function(e){var t,r,n,s,i,o,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%Qr|0,t=l/Qr|0;i[s]=(i[s]+t)%Qr|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,ir?Kt(e,f.precision):e};Ie.toDecimalPlaces=Ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(ei(e,0,vf),t===void 0?t=n.rounding:ei(t,0,8),Kt(r,e+$r(r)+1,t))};Ie.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=wc(n,!0):(ei(e,0,vf),t===void 0?t=s.rounding:ei(t,0,8),n=Kt(new s(n),e+1,t),r=wc(n,!0,e+1)),r};Ie.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?wc(s):(ei(e,0,vf),t===void 0?t=i.rounding:ei(t,0,8),n=Kt(new i(s),e+$r(s)+1,t),r=wc(n.abs(),!1,e+$r(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Ie.toInteger=Ie.toint=function(){var e=this,t=e.constructor;return Kt(new t(e),$r(e)+1,t.rounding)};Ie.toNumber=function(){return+this};Ie.toPower=Ie.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(is);if(l=new c(l),!l.s){if(e.s<1)throw Error(Fs+"Infinity");return l}if(l.eq(is))return l;if(n=c.precision,e.eq(is))return Kt(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=aB){for(s=new c(is),t=Math.ceil(n/tr+4),ir=!1;r%2&&(s=s.times(l),rT(s.d,t)),r=yf(r/2),r!==0;)l=l.times(l),rT(l.d,t);return ir=!0,e.s<0?new c(is).div(s):Kt(s,n)}}else if(i<0)throw Error(Fs+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,ir=!1,s=e.times(bm(l,n+u)),ir=!0,s=oB(s),s.s=i,s};Ie.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=$r(s),n=wc(s,r<=i.toExpNeg||r>=i.toExpPos)):(ei(e,1,vf),t===void 0?t=i.rounding:ei(t,0,8),s=Kt(new i(s),e,t),r=$r(s),n=wc(s,e<=r||r<=i.toExpNeg,e)),n};Ie.toSignificantDigits=Ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(ei(e,1,vf),t===void 0?t=n.rounding:ei(t,0,8)),Kt(new n(r),e,t)};Ie.toString=Ie.valueOf=Ie.val=Ie.toJSON=Ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=$r(e),r=e.constructor;return wc(e,t<=r.toExpNeg||t>=r.toExpPos)};function iB(e,t){var r,n,s,i,o,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),ir?Kt(t,f):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(f/tr),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Qr|0,c[i]%=Qr;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,ir?Kt(t,f):t}function ei(e,t,r){if(e!==~~e||e<t||e>r)throw Error(rc+e)}function qa(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=tr-n.length,r&&(i+=xo(r)),i+=n;o=e[t],n=o+"",r=tr-n.length,r&&(i+=xo(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ai=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Qr|0,o=i/Qr|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Qr+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,d,f,h,m,g,p,y,b,v,w,_,j,S,N,k,C=n.constructor,E=n.s==s.s?1:-1,I=n.d,O=s.d;if(!n.s)return new C(n);if(!s.s)throw Error(Fs+"Division by zero");for(c=n.e-s.e,N=O.length,j=I.length,m=new C(E),g=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--c,i==null?v=i=C.precision:o?v=i+($r(n)-$r(s))+1:v=i,v<0)return new C(0);if(v=v/tr+2|0,u=0,N==1)for(d=0,O=O[0],v++;(u<j||d)&&v--;u++)w=d*Qr+(I[u]||0),g[u]=w/O|0,d=w%O|0;else{for(d=Qr/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),N=O.length,j=I.length),_=N,p=I.slice(0,N),y=p.length;y<N;)p[y++]=0;k=O.slice(),k.unshift(0),S=O[0],O[1]>=Qr/2&&++S;do d=0,l=t(O,p,N,y),l<0?(b=p[0],N!=y&&(b=b*Qr+(p[1]||0)),d=b/S|0,d>1?(d>=Qr&&(d=Qr-1),f=e(O,d),h=f.length,y=p.length,l=t(f,p,h,y),l==1&&(d--,r(f,N<h?k:O,h))):(d==0&&(l=d=1),f=O.slice()),h=f.length,h<y&&f.unshift(0),r(p,f,y),l==-1&&(y=p.length,l=t(O,p,N,y),l<1&&(d++,r(p,N<y?k:O,y))),y=p.length):l===0&&(d++,p=[0]),g[u++]=d,l&&p[0]?p[y++]=I[_]||0:(p=[I[_]],y=1);while((_++<j||p[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Kt(m,o?i+$r(m)+1:i)}}();function oB(e,t){var r,n,s,i,o,l,c=0,u=0,d=e.constructor,f=d.precision;if($r(e)>16)throw Error(Wk+$r(e));if(!e.s)return new d(is);for(ir=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Pl(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(is),d.precision=l;;){if(s=Kt(s.times(e),l),r=r.times(++c),o=i.plus(Ai(s,r,l)),qa(o.d).slice(0,l)===qa(i.d).slice(0,l)){for(;u--;)i=Kt(i.times(i),l);return d.precision=f,t==null?(ir=!0,Kt(i,f)):i}i=o}}function $r(e){for(var t=e.e*tr,r=e.d[0];r>=10;r/=10)t++;return t}function f0(e,t,r){if(t>e.LN10.sd())throw ir=!0,r&&(e.precision=r),Error(Fs+"LN10 precision limit exceeded");return Kt(new e(e.LN10),t)}function xo(e){for(var t="";e--;)t+="0";return t}function bm(e,t){var r,n,s,i,o,l,c,u,d,f=1,h=10,m=e,g=m.d,p=m.constructor,y=p.precision;if(m.s<1)throw Error(Fs+(m.s?"NaN":"-Infinity"));if(m.eq(is))return new p(0);if(t==null?(ir=!1,u=y):u=t,m.eq(10))return t==null&&(ir=!0),f0(p,u);if(u+=h,p.precision=u,r=qa(g),n=r.charAt(0),i=$r(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=qa(m.d),n=r.charAt(0),f++;i=$r(m),n>1?(m=new p("0."+r),i++):m=new p(n+"."+r.slice(1))}else return c=f0(p,u+2,y).times(i+""),m=bm(new p(n+"."+r.slice(1)),u-h).plus(c),p.precision=y,t==null?(ir=!0,Kt(m,y)):m;for(l=o=m=Ai(m.minus(is),m.plus(is),u),d=Kt(m.times(m),u),s=3;;){if(o=Kt(o.times(d),u),c=l.plus(Ai(o,new p(s),u)),qa(c.d).slice(0,u)===qa(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(f0(p,u+2,y).times(i+""))),l=Ai(l,new p(f),u),p.precision=y,t==null?(ir=!0,Kt(l,y)):l;l=c,s+=2}}function tT(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=yf(r/tr),e.d=[],n=(r+1)%tr,r<0&&(n+=tr),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=tr;n<s;)e.d.push(+t.slice(n,n+=tr));t=t.slice(n),n=tr-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),ir&&(e.e>yy||e.e<-yy))throw Error(Wk+r)}else e.s=0,e.e=0,e.d=[0];return e}function Kt(e,t,r){var n,s,i,o,l,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=tr,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/tr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=tr,s=n-tr+o}if(r!==void 0&&(i=Pl(10,o-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/Pl(10,o-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=$r(e),f.length=1,t=t-i-1,f[0]=Pl(10,(tr-t%tr)%tr),e.e=yf(-t/tr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Pl(10,tr-n),f[d]=s>0?(u/Pl(10,o-s)%Pl(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==Qr&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=Qr)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(ir&&(e.e>yy||e.e<-yy))throw Error(Wk+$r(e));return e}function lB(e,t){var r,n,s,i,o,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),ir?Kt(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/tr),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>o;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=Qr-1;--c[i],c[s]+=Qr}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,ir?Kt(t,m):t):new h(0)}function wc(e,t,r){var n,s=$r(e),i=qa(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+xo(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+xo(-s-1)+i,r&&(n=r-o)>0&&(i+=xo(n))):s>=o?(i+=xo(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+xo(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=xo(n))),e.s<0?"-"+i:i}function rT(e,t){if(e.length>t)return e.length=t,!0}function cB(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(rc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return tT(o,i.toString())}else if(typeof i!="string")throw Error(rc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,q_e.test(i))tT(o,i);else throw Error(rc+i)}if(s.prototype=Ie,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=cB,s.config=s.set=z_e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function z_e(e){if(!e||typeof e!="object")throw Error(Fs+"Object expected");var t,r,n,s=["precision",1,vf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(yf(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(rc+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(rc+r+": "+n);return this}var Vk=cB(B_e);is=new Vk(1);const Ut=Vk;function W_e(e){return G_e(e)||H_e(e)||K_e(e)||V_e()}function V_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K_e(e,t){if(e){if(typeof e=="string")return n1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n1(e,t)}}function H_e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function G_e(e){if(Array.isArray(e))return n1(e)}function n1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Y_e=function(t){return t},uB={},dB=function(t){return t===uB},nT=function(t){return function r(){return arguments.length===0||arguments.length===1&&dB(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},Q_e=function e(t,r){return t===1?r:nT(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==uB}).length;return o>=t?r.apply(void 0,s):e(t-o,nT(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=s.map(function(f){return dB(f)?c.shift():f});return r.apply(void 0,W_e(d).concat(c))}))})},Nb=function(t){return Q_e(t.length,t)},s1=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},X_e=Nb(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),J_e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Y_e;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},a1=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},fB=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function Z_e(e){var t;return e===0?t=1:t=Math.floor(new Ut(e).abs().log(10).toNumber())+1,t}function e1e(e,t,r){for(var n=new Ut(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var t1e=Nb(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),r1e=Nb(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),n1e=Nb(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const kb={rangeStep:e1e,getDigitCount:Z_e,interpolateNumber:t1e,uninterpolateNumber:r1e,uninterpolateTruncation:n1e};function i1(e){return i1e(e)||a1e(e)||hB(e)||s1e()}function s1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a1e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function i1e(e){if(Array.isArray(e))return o1(e)}function wm(e,t){return c1e(e)||l1e(e,t)||hB(e,t)||o1e()}function o1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hB(e,t){if(e){if(typeof e=="string")return o1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o1(e,t)}}function o1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function l1e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function c1e(e){if(Array.isArray(e))return e}function mB(e){var t=wm(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function pB(e,t,r){if(e.lte(0))return new Ut(0);var n=kb.getDigitCount(e.toNumber()),s=new Ut(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Ut(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Ut(Math.ceil(c))}function u1e(e,t,r){var n=1,s=new Ut(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Ut(10).pow(kb.getDigitCount(e)-1),s=new Ut(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Ut(Math.floor(e)))}else e===0?s=new Ut(Math.floor((t-1)/2)):r||(s=new Ut(Math.floor(e)));var o=Math.floor((t-1)/2),l=J_e(X_e(function(c){return s.add(new Ut(c-o).mul(n)).toNumber()}),s1);return l(0,t)}function gB(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var i=pB(new Ut(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Ut(0):(o=new Ut(e).add(t).div(2),o=o.sub(new Ut(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Ut(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?gB(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Ut(l).mul(i)),tickMax:o.add(new Ut(c).mul(i))})}function d1e(e){var t=wm(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=mB([r,n]),c=wm(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(i1(s1(0,s-1).map(function(){return 1/0}))):[].concat(i1(s1(0,s-1).map(function(){return-1/0})),[d]);return r>n?a1(f):f}if(u===d)return u1e(u,s,i);var h=gB(u,d,o,i),m=h.step,g=h.tickMin,p=h.tickMax,y=kb.rangeStep(g,p.add(new Ut(.1).mul(m)),m);return r>n?a1(y):y}function f1e(e,t){var r=wm(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=mB([n,s]),l=wm(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var d=Math.max(t,2),f=pB(new Ut(u).sub(c).div(d-1),i,0),h=[].concat(i1(kb.rangeStep(new Ut(c),new Ut(u).sub(new Ut(.99).mul(f)),f)),[u]);return n>s?a1(h):h}var h1e=fB(d1e),m1e=fB(f1e),p1e="Invariant failed";function jc(e,t){throw new Error(p1e)}var g1e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Cd(e){"@babel/helpers - typeof";return Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cd(e)}function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(this,arguments)}function v1e(e,t){return w1e(e)||b1e(e,t)||x1e(e,t)||y1e()}function y1e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x1e(e,t){if(e){if(typeof e=="string")return sT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sT(e,t)}}function sT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b1e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function w1e(e){if(Array.isArray(e))return e}function j1e(e,t){if(e==null)return{};var r=_1e(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _1e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S1e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N1e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xB(n.key),n)}}function k1e(e,t,r){return t&&N1e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function C1e(e,t,r){return t=by(t),E1e(e,vB()?Reflect.construct(t,r||[],by(e).constructor):t.apply(e,r))}function E1e(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P1e(e)}function P1e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vB=function(){return!!e})()}function by(e){return by=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},by(e)}function O1e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l1(e,t)}function l1(e,t){return l1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},l1(e,t)}function yB(e,t,r){return t=xB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xB(e){var t=A1e(e,"string");return Cd(t)=="symbol"?t:t+""}function A1e(e,t){if(Cd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Cb=function(e){function t(){return S1e(this,t),C1e(this,t,arguments)}return O1e(t,e),k1e(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,h=j1e(n,g1e),m=mt(h,!1);this.props.direction==="x"&&d.type!=="number"&&jc();var g=c.map(function(p){var y=u(p,l),b=y.x,v=y.y,w=y.value,_=y.errorVal;if(!_)return null;var j=[],S,N;if(Array.isArray(_)){var k=v1e(_,2);S=k[0],N=k[1]}else S=N=_;if(i==="vertical"){var C=d.scale,E=v+s,I=E+o,O=E-o,B=C(w-S),T=C(w+N);j.push({x1:T,y1:I,x2:T,y2:O}),j.push({x1:B,y1:E,x2:T,y2:E}),j.push({x1:B,y1:I,x2:B,y2:O})}else if(i==="horizontal"){var V=f.scale,L=b+s,K=L-o,R=L+o,M=V(w-S),$=V(w+N);j.push({x1:K,y1:$,x2:R,y2:$}),j.push({x1:L,y1:M,x2:L,y2:$}),j.push({x1:K,y1:M,x2:R,y2:M})}return A.createElement(dr,xy({className:"recharts-errorBar",key:"bar-".concat(j.map(function(ee){return"".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))},m),j.map(function(ee){return A.createElement("line",xy({},ee,{key:"line-".concat(ee.x1,"-").concat(ee.x2,"-").concat(ee.y1,"-").concat(ee.y2)}))}))});return A.createElement(dr,{className:"recharts-errorBars"},g)}}])}(A.Component);yB(Cb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yB(Cb,"displayName","ErrorBar");function jm(e){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(e)}function aT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(r),!0).forEach(function(n){T1e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T1e(e,t,r){return t=R1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1e(e){var t=M1e(e,"string");return jm(t)=="symbol"?t:t+""}function M1e(e,t){if(jm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bB=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=rs(r,$u);if(!o)return null;var l=$u.defaultProps,c=l!==void 0?jl(jl({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(d,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return d.concat(g.map(function(p){return{type:o.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):u=(n||[]).map(function(d){var f=d.item,h=f.type.defaultProps,m=h!==void 0?jl(jl({},h),f.props):{},g=m.dataKey,p=m.name,y=m.legendType,b=m.hide;return{inactive:b,dataKey:g,type:c.iconType||y||"square",color:Kk(f),value:p||g,payload:m}}),jl(jl(jl({},c),$u.getWithHeight(o,s)),{},{payload:u,item:o})};function _m(e){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_m(e)}function iT(e){return L1e(e)||D1e(e)||I1e(e)||$1e()}function $1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(e,t){if(e){if(typeof e=="string")return c1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c1(e,t)}}function D1e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function L1e(e){if(Array.isArray(e))return c1(e)}function c1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(r),!0).forEach(function(n){Du(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Du(e,t,r){return t=F1e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F1e(e){var t=U1e(e,"string");return _m(t)=="symbol"?t:t+""}function U1e(e,t){if(_m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ps(e,t,r){return yt(e)||yt(t)?r:Hr(t)?Is(e,t,r):nt(t)?t(e):r}function Nh(e,t,r,n){var s=D_e(e,function(l){return ps(l,t)});if(r==="number"){var i=s.filter(function(l){return we(l)||parseFloat(l)});return i.length?[Sb(i),Fo(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!yt(l)}):s;return o.map(function(l){return Hr(l)||l instanceof Date?l:""})}var B1e=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var d=u>0?s[u-1].coordinate:s[l-1].coordinate,f=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,m=void 0;if(ha(f-d)!==ha(h-f)){var g=[];if(ha(h-f)===ha(c[1]-c[0])){m=h;var p=f+c[1]-c[0];g[0]=Math.min(p,(p+d)/2),g[1]=Math.max(p,(p+d)/2)}else{m=d;var y=h+c[1]-c[0];g[0]=Math.min(f,(y+f)/2),g[1]=Math.max(f,(y+f)/2)}var b=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(t>b[0]&&t<=b[1]||t>=g[0]&&t<=g[1]){o=s[u].index;break}}else{var v=Math.min(d,h),w=Math.max(d,h);if(t>(v+f)/2&&t<=(w+f)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},Kk=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},q1e=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var d=i[l[c]].stackGroups,f=Object.keys(d),h=0,m=f.length;h<m;h++){var g=d[f[h]],p=g.items,y=g.cateAxisId,b=p.filter(function(N){return Pi(N.type).indexOf("Bar")>=0});if(b&&b.length){var v=b[0].type.defaultProps,w=v!==void 0?yr(yr({},v),b[0].props):b[0].props,_=w.barSize,j=w[y];o[j]||(o[j]=[]);var S=yt(_)?r:_;o[j].push({item:b[0],stackList:b.slice(1),barSize:yt(S)?void 0:bc(S,n,0)})}}return o},z1e=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=bc(r,s,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=s/c,g=o.reduce(function(_,j){return _+j.barSize||0},0);g+=(c-1)*u,g>=s&&(g-=(c-1)*u,u=0),g>=s&&m>0&&(h=!0,m*=.9,g=c*m);var p=(s-g)/2>>0,y={offset:p-u,size:0};d=o.reduce(function(_,j){var S={item:j.item,position:{offset:y.offset+y.size+u,size:h?m:j.barSize}},N=[].concat(iT(_),[S]);return y=N[N.length-1].position,j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:y})}),N},f)}else{var b=bc(n,s,0,!0);s-2*b-(c-1)*u<=0&&(u=0);var v=(s-2*b-(c-1)*u)/c;v>1&&(v>>=0);var w=l===+l?Math.min(v,l):v;d=o.reduce(function(_,j,S){var N=[].concat(iT(_),[{item:j.item,position:{offset:b+(v+u)*S+(v-w)/2,size:w}}]);return j.stackList&&j.stackList.length&&j.stackList.forEach(function(k){N.push({item:k,position:N[N.length-1].position})}),N},f)}return d},W1e=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=bB({children:i,legendWidth:c});if(u){var d=s||{},f=d.width,h=d.height,m=u.align,g=u.verticalAlign,p=u.layout;if((p==="vertical"||p==="horizontal"&&g==="middle")&&m!=="center"&&we(t[m]))return yr(yr({},t),{},Du({},m,t[m]+(f||0)));if((p==="horizontal"||p==="vertical"&&m==="center")&&g!=="middle"&&we(t[g]))return yr(yr({},t),{},Du({},g,t[g]+(h||0)))}return t},V1e=function(t,r,n){return yt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},wB=function(t,r,n,s,i){var o=r.props.children,l=xa(o,Cb).filter(function(u){return V1e(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,d){var f=ps(d,n);if(yt(f))return u;var h=Array.isArray(f)?[Sb(f),Fo(f)]:[f,f],m=c.reduce(function(g,p){var y=ps(d,p,0),b=h[0]-Math.abs(Array.isArray(y)?y[0]:y),v=h[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(b,g[0]),Math.max(v,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},K1e=function(t,r,n,s,i){var o=r.map(function(l){return wB(t,l,n,i,s)}).filter(function(l){return!yt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},jB=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&wB(t,c,u,s)||Nh(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},_B=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},SB=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Ni=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ha(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var d=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:s(h)+u,value:f,offset:u}});return d.filter(function(f){return!df(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:s(f)+u,value:f,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(f){return{coordinate:s(f)+u,value:f,offset:u}}):s.domain().map(function(f,h){return{coordinate:s(f)+u,value:i?i[f]:f,index:h,offset:u}})},h0=new WeakMap,vg=function(t,r){if(typeof r!="function")return t;h0.has(t)||h0.set(t,new WeakMap);var n=h0.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},H1e=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:mm(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:my(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Sh(),realScaleType:"point"}:i==="category"?{scale:mm(),realScaleType:"band"}:{scale:my(),realScaleType:"linear"};if(xc(s)){var c="scale".concat(db(s));return{scale:(eT[c]||Sh)(),realScaleType:eT[c]?c:"point"}}return nt(s)?{scale:s}:{scale:Sh(),realScaleType:"point"}},lT=1e-4,G1e=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-lT,o=Math.max(s[0],s[1])+lT,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},Y1e=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},Q1e=function(t,r){if(!r||r.length!==2||!we(r[0])||!we(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!we(t[0])||t[0]<n)&&(i[0]=n),(!we(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},X1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=df(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},J1e=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=df(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Z1e={sign:X1e,expand:mfe,none:xd,silhouette:pfe,wiggle:gfe,positive:J1e},eSe=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=Z1e[n],o=hfe().keys(s).value(function(l,c){return+ps(l,c,0)}).order(R_).offset(i);return o(t)},tSe=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?yr(yr({},h.type.defaultProps),h.props):h.props,p=g.stackId,y=g.hide;if(y)return f;var b=g[n],v=f[b]||{hasStack:!1,stackGroups:{}};if(Hr(p)){var w=v.stackGroups[p]||{numericAxisId:n,cateAxisId:s,items:[]};w.items.push(h),v.hasStack=!0,v.stackGroups[p]=w}else v.stackGroups[gp("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return yr(yr({},f),{},Du({},b,v))},c),d={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(p,y){var b=m.stackGroups[y];return yr(yr({},p),{},Du({},y,{numericAxisId:n,cateAxisId:s,items:b.items,stackedData:eSe(t,b.items,i)}))},g)}return yr(yr({},f),{},Du({},h,m))},d)},rSe=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var d=h1e(u,i,l);return t.domain([Sb(d),Fo(d)]),{niceTicks:d}}if(i&&s==="number"){var f=t.domain(),h=m1e(f,i,l);return{niceTicks:h}}return null};function cT(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!yt(s[t.dataKey])){var l=Wv(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=ps(s,yt(o)?t.dataKey:o);return yt(c)?null:t.scale(c)}var uT=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=ps(o,r.dataKey,r.domain[l]);return yt(c)?null:r.scale(c)-i/2+s},nSe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},sSe=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(Hr(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},aSe=function(t){return t.reduce(function(r,n){return[Sb(n.concat([r[0]]).filter(we)),Fo(n.concat([r[1]]).filter(we))]},[1/0,-1/0])},NB=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,d){var f=aSe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},dT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,u1=function(t,r,n){if(nt(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(we(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(dT.test(t[0])){var i=+dT.exec(t[0])[1];s[0]=r[0]-i}else nt(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(we(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(fT.test(t[1])){var o=+fT.exec(t[1])[1];s[1]=r[1]+o}else nt(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},wy=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=bk(r,function(f){return f.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],d=i[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},hT=function(t,r,n){return!t||!t.length||xm(t,Is(n,"type.defaultProps.domain"))?r:t},kB=function(t,r){var n=t.type.defaultProps?yr(yr({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return yr(yr({},mt(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:Kk(t),value:ps(r,s),type:c,payload:r,chartType:u,hide:d})};function Sm(e){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sm(e)}function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(n){iSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iSe(e,t,r){return t=oSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oSe(e){var t=lSe(e,"string");return Sm(t)=="symbol"?t:t+""}function lSe(e,t){if(Sm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jy=Math.PI/180,cSe=function(t){return t*180/Math.PI},ln=function(t,r,n,s){return{x:t+Math.cos(-jy*s)*n,y:r+Math.sin(-jy*s)*n}},uSe=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},dSe=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=uSe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:cSe(u),angleInRadian:u}},fSe=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},hSe=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},gT=function(t,r){var n=t.x,s=t.y,i=dSe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=fSe(r),f=d.startAngle,h=d.endAngle,m=l,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?pT(pT({},r),{},{radius:o,angle:hSe(m,r)}):null};function Nm(e){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nm(e)}var mSe=["offset"];function pSe(e){return xSe(e)||ySe(e)||vSe(e)||gSe()}function gSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vSe(e,t){if(e){if(typeof e=="string")return d1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d1(e,t)}}function ySe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xSe(e){if(Array.isArray(e))return d1(e)}function d1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bSe(e,t){if(e==null)return{};var r=wSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function wSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function vT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(r),!0).forEach(function(n){jSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jSe(e,t,r){return t=_Se(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Se(e){var t=SSe(e,"string");return Nm(t)=="symbol"?t:t+""}function SSe(e,t){if(Nm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function km(){return km=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},km.apply(this,arguments)}var NSe=function(t){var r=t.value,n=t.formatter,s=yt(t.children)?r:t.children;return nt(n)?n(s):s},kSe=function(t,r){var n=ha(r-t),s=Math.min(Math.abs(r-t),360);return n*s},CSe=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,d=c.cy,f=c.innerRadius,h=c.outerRadius,m=c.startAngle,g=c.endAngle,p=c.clockWise,y=(f+h)/2,b=kSe(m,g),v=b>=0?1:-1,w,_;s==="insideStart"?(w=m+v*o,_=p):s==="insideEnd"?(w=g-v*o,_=!p):s==="end"&&(w=g+v*o,_=p),_=b<=0?_:!_;var j=ln(u,d,y,w),S=ln(u,d,y,w+(_?1:-1)*359),N="M".concat(j.x,",").concat(j.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(_?0:1,`,
    `).concat(S.x,",").concat(S.y),k=yt(t.id)?gp("recharts-radial-line-"):t.id;return A.createElement("text",km({},n,{dominantBaseline:"central",className:jt("recharts-radial-bar-label",l)}),A.createElement("defs",null,A.createElement("path",{id:k,d:N})),A.createElement("textPath",{xlinkHref:"#".concat(k)},r))},ESe=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,d=i.startAngle,f=i.endAngle,h=(d+f)/2;if(s==="outside"){var m=ln(o,l,u+n,h),g=m.x,p=m.y;return{x:g,y:p,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+u)/2,b=ln(o,l,y,h),v=b.x,w=b.y;return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},PSe=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,h=f*s,m=f>0?"end":"start",g=f>0?"start":"end",p=u>=0?1:-1,y=p*s,b=p>0?"end":"start",v=p>0?"start":"end";if(i==="top"){var w={x:l+u/2,y:c-f*s,textAnchor:"middle",verticalAnchor:m};return Fr(Fr({},w),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+d+h,textAnchor:"middle",verticalAnchor:g};return Fr(Fr({},_),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(i==="left"){var j={x:l-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"};return Fr(Fr({},j),n?{width:Math.max(j.x-n.x,0),height:d}:{})}if(i==="right"){var S={x:l+u+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"};return Fr(Fr({},S),n?{width:Math.max(n.x+n.width-S.x,0),height:d}:{})}var N=n?{width:u,height:d}:{};return i==="insideLeft"?Fr({x:l+y,y:c+d/2,textAnchor:v,verticalAnchor:"middle"},N):i==="insideRight"?Fr({x:l+u-y,y:c+d/2,textAnchor:b,verticalAnchor:"middle"},N):i==="insideTop"?Fr({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:g},N):i==="insideBottom"?Fr({x:l+u/2,y:c+d-h,textAnchor:"middle",verticalAnchor:m},N):i==="insideTopLeft"?Fr({x:l+y,y:c+h,textAnchor:v,verticalAnchor:g},N):i==="insideTopRight"?Fr({x:l+u-y,y:c+h,textAnchor:b,verticalAnchor:g},N):i==="insideBottomLeft"?Fr({x:l+y,y:c+d-h,textAnchor:v,verticalAnchor:m},N):i==="insideBottomRight"?Fr({x:l+u-y,y:c+d-h,textAnchor:b,verticalAnchor:m},N):of(i)&&(we(i.x)||Fl(i.x))&&(we(i.y)||Fl(i.y))?Fr({x:l+bc(i.x,u),y:c+bc(i.y,d),textAnchor:"end",verticalAnchor:"end"},N):Fr({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},N)},OSe=function(t){return"cx"in t&&we(t.cx)};function yn(e){var t=e.offset,r=t===void 0?5:t,n=bSe(e,mSe),s=Fr({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,d=s.className,f=d===void 0?"":d,h=s.textBreakAll;if(!i||yt(l)&&yt(c)&&!x.isValidElement(u)&&!nt(u))return null;if(x.isValidElement(u))return x.cloneElement(u,s);var m;if(nt(u)){if(m=x.createElement(u,s),x.isValidElement(m))return m}else m=NSe(s);var g=OSe(i),p=mt(s,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return CSe(s,m,p);var y=g?ESe(s):PSe(s);return A.createElement(iy,km({className:jt("recharts-label",f)},p,y,{breakAll:h}),m)}yn.displayName="Label";var CB=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,d=t.outerRadius,f=t.x,h=t.y,m=t.top,g=t.left,p=t.width,y=t.height,b=t.clockWise,v=t.labelViewBox;if(v)return v;if(we(p)&&we(y)){if(we(f)&&we(h))return{x:f,y:h,width:p,height:y};if(we(m)&&we(g))return{x:m,y:g,width:p,height:y}}return we(f)&&we(h)?{x:f,y:h,width:0,height:0}:we(r)&&we(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:b}:t.viewBox?t.viewBox:{}},ASe=function(t,r){return t?t===!0?A.createElement(yn,{key:"label-implicit",viewBox:r}):Hr(t)?A.createElement(yn,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===yn?x.cloneElement(t,{key:"label-implicit",viewBox:r}):A.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):nt(t)?A.createElement(yn,{key:"label-implicit",content:t,viewBox:r}):of(t)?A.createElement(yn,km({viewBox:r},t,{key:"label-implicit"})):null:null},TSe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=CB(t),o=xa(s,yn).map(function(c,u){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=ASe(t.label,r||i);return[l].concat(pSe(o))};yn.parseViewBox=CB;yn.renderCallByParent=TSe;function RSe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var MSe=RSe;const $Se=qt(MSe);function Cm(e){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cm(e)}var ISe=["valueAccessor"],DSe=["data","dataKey","clockWise","id","textBreakAll"];function LSe(e){return qSe(e)||BSe(e)||USe(e)||FSe()}function FSe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function USe(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function BSe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qSe(e){if(Array.isArray(e))return f1(e)}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _y(){return _y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_y.apply(this,arguments)}function yT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yT(Object(r),!0).forEach(function(n){zSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zSe(e,t,r){return t=WSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WSe(e){var t=VSe(e,"string");return Cm(t)=="symbol"?t:t+""}function VSe(e,t){if(Cm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bT(e,t){if(e==null)return{};var r=KSe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function KSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HSe=function(t){return Array.isArray(t.value)?$Se(t.value):t.value};function el(e){var t=e.valueAccessor,r=t===void 0?HSe:t,n=bT(e,ISe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=bT(n,DSe);return!s||!s.length?null:A.createElement(dr,{className:"recharts-label-list"},s.map(function(d,f){var h=yt(i)?r(d,f):ps(d&&d.payload,i),m=yt(l)?{}:{id:"".concat(l,"-").concat(f)};return A.createElement(yn,_y({},mt(d,!0),u,m,{parentViewBox:d.parentViewBox,value:h,textBreakAll:c,viewBox:yn.parseViewBox(yt(o)?d:xT(xT({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}el.displayName="LabelList";function GSe(e,t){return e?e===!0?A.createElement(el,{key:"labelList-implicit",data:t}):A.isValidElement(e)||nt(e)?A.createElement(el,{key:"labelList-implicit",data:t,content:e}):of(e)?A.createElement(el,_y({data:t},e,{key:"labelList-implicit"})):null:null}function YSe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=xa(n,el).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=GSe(e.label,t);return[i].concat(LSe(s))}el.renderCallByParent=YSe;function Em(e){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Em(e)}function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1.apply(this,arguments)}function wT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wT(Object(r),!0).forEach(function(n){QSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QSe(e,t,r){return t=XSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XSe(e){var t=JSe(e,"string");return Em(t)=="symbol"?t:t+""}function JSe(e,t){if(Em(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZSe=function(t,r){var n=ha(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},yg=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,d=c*(l?1:-1)+s,f=Math.asin(c/d)/jy,h=u?i:i+o*f,m=ln(r,n,d,h),g=ln(r,n,s,h),p=u?i-o*f:i,y=ln(r,n,d*Math.cos(f*jy),p);return{center:m,circleTangency:g,lineTangency:y,theta:f}},EB=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=ZSe(o,l),u=o+c,d=ln(r,n,i,o),f=ln(r,n,i,u),h="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(s>0){var m=ln(r,n,s,o),g=ln(r,n,s,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},eNe=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,f=ha(d-u),h=yg({cx:r,cy:n,radius:i,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),m=h.circleTangency,g=h.lineTangency,p=h.theta,y=yg({cx:r,cy:n,radius:i,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),b=y.circleTangency,v=y.lineTangency,w=y.theta,_=c?Math.abs(u-d):Math.abs(u-d)-p-w;if(_<0)return l?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):EB({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d});var j="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
  `);if(s>0){var S=yg({cx:r,cy:n,radius:s,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=S.circleTangency,k=S.lineTangency,C=S.theta,E=yg({cx:r,cy:n,radius:s,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),I=E.circleTangency,O=E.lineTangency,B=E.theta,T=c?Math.abs(u-d):Math.abs(u-d)-C-B;if(T<0&&o===0)return"".concat(j,"L").concat(r,",").concat(n,"Z");j+="L".concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(T>180),",").concat(+(f>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(k.x,",").concat(k.y,"Z")}else j+="L".concat(r,",").concat(n,"Z");return j},tNe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PB=function(t){var r=jT(jT({},tNe),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,h=r.className;if(o<i||d===f)return null;var m=jt("recharts-sector",h),g=o-i,p=bc(l,g,0,!0),y;return p>0&&Math.abs(d-f)<360?y=eNe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(p,g/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):y=EB({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:d,endAngle:f}),A.createElement("path",h1({},mt(r,!0),{className:m,d:y,role:"img"}))};function Pm(e){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pm(e)}function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},m1.apply(this,arguments)}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ST(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){rNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rNe(e,t,r){return t=nNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nNe(e){var t=sNe(e,"string");return Pm(t)=="symbol"?t:t+""}function sNe(e,t){if(Pm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NT={curveBasisClosed:rfe,curveBasisOpen:nfe,curveBasis:tfe,curveBumpX:Bde,curveBumpY:qde,curveLinearClosed:sfe,curveLinear:hb,curveMonotoneX:afe,curveMonotoneY:ife,curveNatural:ofe,curveStep:lfe,curveStepAfter:ufe,curveStepBefore:cfe},xg=function(t){return t.x===+t.x&&t.y===+t.y},Wf=function(t){return t.x},Vf=function(t){return t.y},aNe=function(t,r){if(nt(t))return t;var n="curve".concat(db(t));return(n==="curveMonotone"||n==="curveBump")&&r?NT["".concat(n).concat(r==="vertical"?"Y":"X")]:NT[n]||hb},iNe=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,d=aNe(n,l),f=u?i.filter(function(p){return xg(p)}):i,h;if(Array.isArray(o)){var m=u?o.filter(function(p){return xg(p)}):o,g=f.map(function(p,y){return ST(ST({},p),{},{base:m[y]})});return l==="vertical"?h=cg().y(Vf).x1(Wf).x0(function(p){return p.base.x}):h=cg().x(Wf).y1(Vf).y0(function(p){return p.base.y}),h.defined(xg).curve(d),h(g)}return l==="vertical"&&we(o)?h=cg().y(Vf).x1(Wf).x0(o):we(o)?h=cg().x(Wf).y1(Vf).y0(o):h=O5().x(Wf).y(Vf),h.defined(xg).curve(d),h(f)},kh=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?iNe(t):s;return x.createElement("path",m1({},mt(t,!1),Vv(t),{className:jt("recharts-curve",r),d:o,ref:i}))},OB={exports:{}},oNe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lNe=oNe,cNe=lNe;function AB(){}function TB(){}TB.resetWarningCache=AB;var uNe=function(){function e(n,s,i,o,l,c){if(c!==cNe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:TB,resetWarningCache:AB};return r.PropTypes=r,r};OB.exports=uNe();var dNe=OB.exports;const Tt=qt(dNe),{getOwnPropertyNames:fNe,getOwnPropertySymbols:hNe}=Object,{hasOwnProperty:mNe}=Object.prototype;function m0(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function bg(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);const{cache:i}=s,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);const c=e(r,n,s);return i.delete(r),i.delete(n),c}}function pNe(e){return e!=null?e[Symbol.toStringTag]:void 0}function kT(e){return fNe(e).concat(hNe(e))}const gNe=Object.hasOwn||((e,t)=>mNe.call(e,t));function Mc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const vNe="__v",yNe="__o",xNe="_owner",{getOwnPropertyDescriptor:CT,keys:ET}=Object;function bNe(e,t){return e.byteLength===t.byteLength&&Sy(new Uint8Array(e),new Uint8Array(t))}function wNe(e,t,r){let n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function jNe(e,t){return e.byteLength===t.byteLength&&Sy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function _Ne(e,t){return Mc(e.getTime(),t.getTime())}function SNe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NNe(e,t){return e===t}function PT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.entries();let o,l,c=0;for(;(o=i.next())&&!o.done;){const u=t.entries();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(s[f]){f++;continue}const h=o.value,m=l.value;if(r.equals(h[0],m[0],c,f,e,t,r)&&r.equals(h[1],m[1],h[0],m[0],e,t,r)){d=s[f]=!0;break}f++}if(!d)return!1;c++}return!0}const kNe=Mc;function CNe(e,t,r){const n=ET(e);let s=n.length;if(ET(t).length!==s)return!1;for(;s-- >0;)if(!RB(e,t,r,n[s]))return!1;return!0}function Kf(e,t,r){const n=kT(e);let s=n.length;if(kT(t).length!==s)return!1;let i,o,l;for(;s-- >0;)if(i=n[s],!RB(e,t,r,i)||(o=CT(e,i),l=CT(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function ENe(e,t){return Mc(e.valueOf(),t.valueOf())}function PNe(e,t){return e.source===t.source&&e.flags===t.flags}function OT(e,t,r){const n=e.size;if(n!==t.size)return!1;if(!n)return!0;const s=new Array(n),i=e.values();let o,l;for(;(o=i.next())&&!o.done;){const c=t.values();let u=!1,d=0;for(;(l=c.next())&&!l.done;){if(!s[d]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[d]=!0;break}d++}if(!u)return!1}return!0}function Sy(e,t){let r=e.byteLength;if(t.byteLength!==r||e.byteOffset!==t.byteOffset)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function ONe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function RB(e,t,r,n){return(n===xNe||n===yNe||n===vNe)&&(e.$$typeof||t.$$typeof)?!0:gNe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}const ANe="[object ArrayBuffer]",TNe="[object Arguments]",RNe="[object Boolean]",MNe="[object DataView]",$Ne="[object Date]",INe="[object Error]",DNe="[object Map]",LNe="[object Number]",FNe="[object Object]",UNe="[object RegExp]",BNe="[object Set]",qNe="[object String]",zNe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},WNe="[object URL]",VNe=Object.prototype.toString;function KNe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:r,areDatesEqual:n,areErrorsEqual:s,areFunctionsEqual:i,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:u,areRegExpsEqual:d,areSetsEqual:f,areTypedArraysEqual:h,areUrlsEqual:m,unknownTagComparators:g}){return function(y,b,v){if(y===b)return!0;if(y==null||b==null)return!1;const w=typeof y;if(w!==typeof b)return!1;if(w!=="object")return w==="number"?l(y,b,v):w==="function"?i(y,b,v):!1;const _=y.constructor;if(_!==b.constructor)return!1;if(_===Object)return c(y,b,v);if(Array.isArray(y))return t(y,b,v);if(_===Date)return n(y,b,v);if(_===RegExp)return d(y,b,v);if(_===Map)return o(y,b,v);if(_===Set)return f(y,b,v);const j=VNe.call(y);if(j===$Ne)return n(y,b,v);if(j===UNe)return d(y,b,v);if(j===DNe)return o(y,b,v);if(j===BNe)return f(y,b,v);if(j===FNe)return typeof y.then!="function"&&typeof b.then!="function"&&c(y,b,v);if(j===WNe)return m(y,b,v);if(j===INe)return s(y,b,v);if(j===TNe)return c(y,b,v);if(zNe[j])return h(y,b,v);if(j===ANe)return e(y,b,v);if(j===MNe)return r(y,b,v);if(j===RNe||j===LNe||j===qNe)return u(y,b,v);if(g){let S=g[j];if(!S){const N=pNe(y);N&&(S=g[N])}if(S)return S(y,b,v)}return!1}}function HNe({circular:e,createCustomConfig:t,strict:r}){let n={areArrayBuffersEqual:bNe,areArraysEqual:r?Kf:wNe,areDataViewsEqual:jNe,areDatesEqual:_Ne,areErrorsEqual:SNe,areFunctionsEqual:NNe,areMapsEqual:r?m0(PT,Kf):PT,areNumbersEqual:kNe,areObjectsEqual:r?Kf:CNe,arePrimitiveWrappersEqual:ENe,areRegExpsEqual:PNe,areSetsEqual:r?m0(OT,Kf):OT,areTypedArraysEqual:r?m0(Sy,Kf):Sy,areUrlsEqual:ONe,unknownTagComparators:void 0};if(t&&(n=Object.assign({},n,t(n))),e){const s=bg(n.areArraysEqual),i=bg(n.areMapsEqual),o=bg(n.areObjectsEqual),l=bg(n.areSetsEqual);n=Object.assign({},n,{areArraysEqual:s,areMapsEqual:i,areObjectsEqual:o,areSetsEqual:l})}return n}function GNe(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function YNe({circular:e,comparator:t,createState:r,equals:n,strict:s}){if(r)return function(l,c){const{cache:u=e?new WeakMap:void 0,meta:d}=r();return t(l,c,{cache:u,equals:n,meta:d,strict:s})};if(e)return function(l,c){return t(l,c,{cache:new WeakMap,equals:n,meta:void 0,strict:s})};const i={cache:void 0,equals:n,meta:void 0,strict:s};return function(l,c){return t(l,c,i)}}const QNe=yl();yl({strict:!0});yl({circular:!0});yl({circular:!0,strict:!0});yl({createInternalComparator:()=>Mc});yl({strict:!0,createInternalComparator:()=>Mc});yl({circular:!0,createInternalComparator:()=>Mc});yl({circular:!0,createInternalComparator:()=>Mc,strict:!0});function yl(e={}){const{circular:t=!1,createInternalComparator:r,createState:n,strict:s=!1}=e,i=HNe(e),o=KNe(i),l=r?r(o):GNe(o);return YNe({circular:t,comparator:o,createState:n,equals:l,strict:s})}function XNe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function AT(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):XNe(s)};requestAnimationFrame(n)}function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function JNe(e){return rke(e)||tke(e)||eke(e)||ZNe()}function ZNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eke(e,t){if(e){if(typeof e=="string")return TT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TT(e,t)}}function TT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rke(e){if(Array.isArray(e))return e}function nke(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=JNe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){AT(s.bind(null,u),c);return}s(c),AT(s.bind(null,u));return}p1(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Om(e){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Om(e)}function RT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function MT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RT(Object(r),!0).forEach(function(n){MB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MB(e,t,r){return t=ske(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ske(e){var t=ake(e,"string");return Om(t)==="symbol"?t:String(t)}function ake(e,t){if(Om(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Om(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ike=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},oke=function(t){return t},lke=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ch=function(t,r){return Object.keys(r).reduce(function(n,s){return MT(MT({},n),{},MB({},s,t(s,r[s])))},{})},$T=function(t,r,n){return t.map(function(s){return"".concat(lke(s)," ").concat(r,"ms ").concat(n)}).join(",")};function cke(e,t){return fke(e)||dke(e,t)||$B(e,t)||uke()}function uke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fke(e){if(Array.isArray(e))return e}function hke(e){return gke(e)||pke(e)||$B(e)||mke()}function mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $B(e,t){if(e){if(typeof e=="string")return g1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g1(e,t)}}function pke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gke(e){if(Array.isArray(e))return g1(e)}function g1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ny=1e-4,IB=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},DB=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},IT=function(t,r){return function(n){var s=IB(t,r);return DB(s,n)}},vke=function(t,r){return function(n){var s=IB(t,r),i=[].concat(hke(s.map(function(o,l){return o*l}).slice(1)),[0]);return DB(i,n)}},DT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),d=cke(u,4);s=d[0],i=d[1],o=d[2],l=d[3]}}}var f=IT(s,o),h=IT(i,l),m=vke(s,o),g=function(b){return b>1?1:b<0?0:b},p=function(b){for(var v=b>1?1:b,w=v,_=0;_<8;++_){var j=f(w)-v,S=m(w);if(Math.abs(j-v)<Ny||S<Ny)return h(w);w=g(w-j/S)}return h(w)};return p.isStepper=!1,p},yke=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(d,f,h){var m=-(d-f)*n,g=h*i,p=h+(m-g)*l/1e3,y=h*l/1e3+d;return Math.abs(y-f)<Ny&&Math.abs(p)<Ny?[f,0]:[y,p]};return c.isStepper=!0,c.dt=l,c},xke=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return DT(s);case"spring":return yke();default:if(s.split("(")[0]==="cubic-bezier")return DT(s)}return typeof s=="function"?s:null};function Am(e){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Am(e)}function LT(e){return jke(e)||wke(e)||LB(e)||bke()}function bke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wke(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function jke(e){if(Array.isArray(e))return y1(e)}function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){v1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v1(e,t,r){return t=_ke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ke(e){var t=Ske(e,"string");return Am(t)==="symbol"?t:String(t)}function Ske(e,t){if(Am(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Am(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nke(e,t){return Eke(e)||Cke(e,t)||LB(e,t)||kke()}function kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LB(e,t){if(e){if(typeof e=="string")return y1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y1(e,t)}}function y1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Cke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Eke(e){if(Array.isArray(e))return e}var ky=function(t,r,n){return t+(r-t)*n},x1=function(t){var r=t.from,n=t.to;return r!==n},Pke=function e(t,r,n){var s=Ch(function(i,o){if(x1(o)){var l=t(o.from,o.to,o.velocity),c=Nke(l,2),u=c[0],d=c[1];return sn(sn({},o),{},{from:u,velocity:d})}return o},r);return n<1?Ch(function(i,o){return x1(o)?sn(sn({},o),{},{velocity:ky(o.velocity,s[i].velocity,n),from:ky(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const Oke=function(e,t,r,n,s){var i=ike(e,t),o=i.reduce(function(y,b){return sn(sn({},y),{},v1({},b,[e[b],t[b]]))},{}),l=i.reduce(function(y,b){return sn(sn({},y),{},v1({},b,{from:e[b],velocity:0,to:t[b]}))},{}),c=-1,u,d,f=function(){return null},h=function(){return Ch(function(b,v){return v.from},l)},m=function(){return!Object.values(l).filter(x1).length},g=function(b){u||(u=b);var v=b-u,w=v/r.dt;l=Pke(r,l,w),s(sn(sn(sn({},e),t),h())),u=b,m()||(c=requestAnimationFrame(f))},p=function(b){d||(d=b);var v=(b-d)/n,w=Ch(function(j,S){return ky.apply(void 0,LT(S).concat([r(v)]))},o);if(s(sn(sn(sn({},e),t),w)),v<1)c=requestAnimationFrame(f);else{var _=Ch(function(j,S){return ky.apply(void 0,LT(S).concat([r(1)]))},o);s(sn(sn(sn({},e),t),_))}};return f=r.isStepper?g:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function Ed(e){"@babel/helpers - typeof";return Ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ed(e)}var Ake=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Tke(e,t){if(e==null)return{};var r=Rke(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Rke(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function p0(e){return Dke(e)||Ike(e)||$ke(e)||Mke()}function Mke(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ke(e,t){if(e){if(typeof e=="string")return b1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b1(e,t)}}function Ike(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dke(e){if(Array.isArray(e))return b1(e)}function b1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(r),!0).forEach(function(n){lh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lh(e,t,r){return t=FB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,FB(n.key),n)}}function Uke(e,t,r){return t&&Fke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FB(e){var t=Bke(e,"string");return Ed(t)==="symbol"?t:String(t)}function Bke(e,t){if(Ed(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ed(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w1(e,t)}function w1(e,t){return w1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},w1(e,t)}function zke(e){var t=Wke();return function(){var n=Cy(e),s;if(t){var i=Cy(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return j1(this,s)}}function j1(e,t){if(t&&(Ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _1(e)}function _1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wke(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cy(e)}var Wi=function(e){qke(r,e);var t=zke(r);function r(n,s){var i;Lke(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,h=o.children,m=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_1(i)),i.changeStyle=i.changeStyle.bind(_1(i)),!l||m<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:d}),j1(i);if(f&&f.length)i.state={style:f[0].style};else if(u){if(typeof h=="function")return i.state={style:u},j1(i);i.state={style:c?lh({},c,u):u}}else i.state={style:{}};return i}return Uke(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,d=i.to,f=i.from,h=this.state.style;if(l){if(!o){var m={style:c?lh({},c,d):d};this.state&&h&&(c&&h[c]!==d||!c&&h!==d)&&this.setState(m);return}if(!(QNe(s.to,d)&&s.canBegin&&s.isActive)){var g=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=g||u?f:s.to;if(this.state&&h){var y={style:c?lh({},c,p):p};(c&&h[c]!==p||!c&&h!==p)&&this.setState(y)}this.runAnimation(Zs(Zs({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,d=s.begin,f=s.onAnimationEnd,h=s.onAnimationStart,m=Oke(o,l,xke(u),c,this.changeStyle),g=function(){i.stopJSAnimation=m()};this.manager.start([h,d,g,c,f])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],d=u.style,f=u.duration,h=f===void 0?0:f,m=function(p,y,b){if(b===0)return p;var v=y.duration,w=y.easing,_=w===void 0?"ease":w,j=y.style,S=y.properties,N=y.onAnimationEnd,k=b>0?o[b-1]:y,C=S||Object.keys(j);if(typeof _=="function"||_==="spring")return[].concat(p0(p),[i.runJSAnimation.bind(i,{from:k.style,to:j,duration:v,easing:_}),v]);var E=$T(C,v,_),I=Zs(Zs(Zs({},k.style),j),{},{transition:E});return[].concat(p0(p),[I,v,N]).filter(oke)};return this.manager.start([c].concat(p0(o.reduce(m,[d,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=nke());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,d=s.onAnimationStart,f=s.onAnimationEnd,h=s.steps,m=s.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var p=l?lh({},l,c):c,y=$T(Object.keys(p),o,u);g.start([d,i,Zs(Zs({},p),{},{transition:y}),o,f])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=Tke(s,Ake),u=x.Children.count(i),d=this.state.style;if(typeof i=="function")return i(d);if(!l||u===0||o<=0)return i;var f=function(m){var g=m.props,p=g.style,y=p===void 0?{}:p,b=g.className,v=x.cloneElement(m,Zs(Zs({},c),{},{style:Zs(Zs({},y),d),className:b}));return v};return u===1?f(x.Children.only(i)):A.createElement("div",null,x.Children.map(i,function(h){return f(h)}))}}]),r}(x.PureComponent);Wi.displayName="Animate";Wi.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Wi.propTypes={from:Tt.oneOfType([Tt.object,Tt.string]),to:Tt.oneOfType([Tt.object,Tt.string]),attributeName:Tt.string,duration:Tt.number,begin:Tt.number,easing:Tt.oneOfType([Tt.string,Tt.func]),steps:Tt.arrayOf(Tt.shape({duration:Tt.number.isRequired,style:Tt.object.isRequired,easing:Tt.oneOfType([Tt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Tt.func]),properties:Tt.arrayOf("string"),onAnimationEnd:Tt.func})),children:Tt.oneOfType([Tt.node,Tt.func]),isActive:Tt.bool,canBegin:Tt.bool,onAnimationEnd:Tt.func,shouldReAnimate:Tt.bool,onAnimationStart:Tt.func,onAnimationReStart:Tt.func};function Tm(e){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tm(e)}function Ey(){return Ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ey.apply(this,arguments)}function Vke(e,t){return Yke(e)||Gke(e,t)||Hke(e,t)||Kke()}function Kke(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hke(e,t){if(e){if(typeof e=="string")return BT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BT(e,t)}}function BT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gke(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Yke(e){if(Array.isArray(e))return e}function qT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qT(Object(r),!0).forEach(function(n){Qke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qke(e,t,r){return t=Xke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xke(e){var t=Jke(e,"string");return Tm(t)=="symbol"?t:t+""}function Jke(e,t){if(Tm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WT=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=i[h]>o?o:i[h];d="M".concat(t,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(t+c*f[0],",").concat(r)),d+="L ".concat(t+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*f[1])),d+="L ".concat(t+n,",").concat(r+s-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(t+n-c*f[2],",").concat(r+s)),d+="L ".concat(t+c*f[3],",").concat(r+s),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*f[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var g=Math.min(o,i);d="M ".concat(t,",").concat(r+l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+c*g,",").concat(r,`
            L `).concat(t+n-c*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*g,`
            L `).concat(t+n,",").concat(r+s-l*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t+n-c*g,",").concat(r+s,`
            L `).concat(t+c*g,",").concat(r+s,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*g," Z")}else d="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return d},Zke=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),d=Math.max(i,i+l),f=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=d&&s>=f&&s<=h}return!1},eCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hk=function(t){var r=zT(zT({},eCe),t),n=x.useRef(),s=x.useState(-1),i=Vke(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,h=r.radius,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isAnimationActive,v=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var w=jt("recharts-rectangle",m);return v?A.createElement(Wi,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:p,animationEasing:g,isActive:v},function(_){var j=_.width,S=_.height,N=_.x,k=_.y;return A.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,isActive:b,easing:g},A.createElement("path",Ey({},mt(r,!0),{className:w,d:WT(N,k,j,S,h),ref:n})))}):A.createElement("path",Ey({},mt(r,!0),{className:w,d:WT(c,u,d,f,h)}))};function S1(){return S1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S1.apply(this,arguments)}var Gk=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=jt("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",S1({},mt(t,!1),Vv(t),{className:o,cx:r,cy:n,r:s})):null};function Rm(e){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rm(e)}var tCe=["x","y","top","left","width","height","className"];function N1(){return N1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},N1.apply(this,arguments)}function VT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rCe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VT(Object(r),!0).forEach(function(n){nCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nCe(e,t,r){return t=sCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sCe(e){var t=aCe(e,"string");return Rm(t)=="symbol"?t:t+""}function aCe(e,t){if(Rm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iCe(e,t){if(e==null)return{};var r=oCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var lCe=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},cCe=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,d=t.width,f=d===void 0?0:d,h=t.height,m=h===void 0?0:h,g=t.className,p=iCe(t,tCe),y=rCe({x:n,y:i,top:l,left:u,width:f,height:m},p);return!we(n)||!we(i)||!we(f)||!we(m)||!we(l)||!we(u)?null:A.createElement("path",N1({},mt(y,!0),{className:jt("recharts-cross",g),d:lCe(n,i,f,m,l,u)}))},uCe=eU,dCe=uCe(Object.getPrototypeOf,Object),fCe=dCe,hCe=Ji,mCe=fCe,pCe=Zi,gCe="[object Object]",vCe=Function.prototype,yCe=Object.prototype,UB=vCe.toString,xCe=yCe.hasOwnProperty,bCe=UB.call(Object);function wCe(e){if(!pCe(e)||hCe(e)!=gCe)return!1;var t=mCe(e);if(t===null)return!0;var r=xCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&UB.call(r)==bCe}var jCe=wCe;const _Ce=qt(jCe);var SCe=Ji,NCe=Zi,kCe="[object Boolean]";function CCe(e){return e===!0||e===!1||NCe(e)&&SCe(e)==kCe}var ECe=CCe;const PCe=qt(ECe);function Mm(e){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mm(e)}function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(this,arguments)}function OCe(e,t){return MCe(e)||RCe(e,t)||TCe(e,t)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(e,t){if(e){if(typeof e=="string")return KT(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KT(e,t)}}function KT(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function MCe(e){if(Array.isArray(e))return e}function HT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function GT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HT(Object(r),!0).forEach(function(n){$Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ce(e,t,r){return t=ICe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ICe(e){var t=DCe(e,"string");return Mm(t)=="symbol"?t:t+""}function DCe(e,t){if(Mm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YT=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},LCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FCe=function(t){var r=GT(GT({},LCe),t),n=x.useRef(),s=x.useState(-1),i=OCe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&l(w)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,h=r.height,m=r.className,g=r.animationEasing,p=r.animationDuration,y=r.animationBegin,b=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||h!==+h||d===0&&f===0||h===0)return null;var v=jt("recharts-trapezoid",m);return b?A.createElement(Wi,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:h,x:c,y:u},duration:p,animationEasing:g,isActive:b},function(w){var _=w.upperWidth,j=w.lowerWidth,S=w.height,N=w.x,k=w.y;return A.createElement(Wi,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:p,easing:g},A.createElement("path",Py({},mt(r,!0),{className:v,d:YT(N,k,_,j,S),ref:n})))}):A.createElement("g",null,A.createElement("path",Py({},mt(r,!0),{className:v,d:YT(c,u,d,f,h)})))},UCe=["option","shapeType","propTransformer","activeClassName","isActive"];function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}function BCe(e,t){if(e==null)return{};var r=qCe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qCe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function QT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Oy(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QT(Object(r),!0).forEach(function(n){zCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zCe(e,t,r){return t=WCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WCe(e){var t=VCe(e,"string");return $m(t)=="symbol"?t:t+""}function VCe(e,t){if($m(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KCe(e,t){return Oy(Oy({},t),e)}function HCe(e,t){return e==="symbols"}function XT(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return A.createElement(Hk,r);case"trapezoid":return A.createElement(FCe,r);case"sector":return A.createElement(PB,r);case"symbols":if(HCe(t))return A.createElement(fk,r);break;default:return null}}function GCe(e){return x.isValidElement(e)?e.props:e}function YCe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?KCe:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=BCe(e,UCe),u;if(x.isValidElement(t))u=x.cloneElement(t,Oy(Oy({},c),GCe(t)));else if(nt(t))u=t(c);else if(_Ce(t)&&!PCe(t)){var d=s(t,c);u=A.createElement(XT,{shapeType:r,elementProps:d})}else{var f=c;u=A.createElement(XT,{shapeType:r,elementProps:f})}return l?A.createElement(dr,{className:o},u):u}function Eb(e,t){return t!=null&&"trapezoids"in e.props}function Pb(e,t){return t!=null&&"sectors"in e.props}function Im(e,t){return t!=null&&"points"in e.props}function QCe(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function XCe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function JCe(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function ZCe(e,t){var r;return Eb(e,t)?r=QCe:Pb(e,t)?r=XCe:Im(e,t)&&(r=JCe),r}function e2e(e,t){var r;return Eb(e,t)?r="trapezoids":Pb(e,t)?r="sectors":Im(e,t)&&(r="points"),r}function t2e(e,t){if(Eb(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Pb(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Im(e,t)?t.payload:{}}function r2e(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=e2e(r,t),i=t2e(r,t),o=n.filter(function(c,u){var d=xm(i,c),f=r.props[s].filter(function(g){var p=ZCe(r,t);return p(g,t)}),h=r.props[s].indexOf(f[f.length-1]),m=u===h;return d&&m}),l=n.indexOf(o[o.length-1]);return l}var n2e=Math.ceil,s2e=Math.max;function a2e(e,t,r,n){for(var s=-1,i=s2e(n2e((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var i2e=a2e,o2e=xU,JT=1/0,l2e=17976931348623157e292;function c2e(e){if(!e)return e===0?e:0;if(e=o2e(e),e===JT||e===-JT){var t=e<0?-1:1;return t*l2e}return e===e?e:0}var BB=c2e,u2e=i2e,d2e=vb,g0=BB;function f2e(e){return function(t,r,n){return n&&typeof n!="number"&&d2e(t,r,n)&&(r=n=void 0),t=g0(t),r===void 0?(r=t,t=0):r=g0(r),n=n===void 0?t<r?1:-1:g0(n),u2e(t,r,n,e)}}var h2e=f2e,m2e=h2e,p2e=m2e(),g2e=p2e;const Ay=qt(g2e);function Dm(e){"@babel/helpers - typeof";return Dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dm(e)}function ZT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(r),!0).forEach(function(n){qB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qB(e,t,r){return t=v2e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v2e(e){var t=y2e(e,"string");return Dm(t)=="symbol"?t:t+""}function y2e(e,t){if(Dm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x2e=["Webkit","Moz","O","ms"],b2e=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=x2e.reduce(function(i,o){return eR(eR({},i),{},qB({},o+n,r))},{});return s[t]=r,s};function Pd(e){"@babel/helpers - typeof";return Pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pd(e)}function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(this,arguments)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){es(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w2e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WB(n.key),n)}}function j2e(e,t,r){return t&&rR(e.prototype,t),r&&rR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _2e(e,t,r){return t=Ry(t),S2e(e,zB()?Reflect.construct(t,r||[],Ry(e).constructor):t.apply(e,r))}function S2e(e,t){if(t&&(Pd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N2e(e)}function N2e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zB=function(){return!!e})()}function Ry(e){return Ry=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ry(e)}function k2e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k1(e,t)}function k1(e,t){return k1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},k1(e,t)}function es(e,t,r){return t=WB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WB(e){var t=C2e(e,"string");return Pd(t)=="symbol"?t:t+""}function C2e(e,t){if(Pd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E2e=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Sh().domain(Ay(0,c)).range([i,i+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:d}},nR=function(t){return t.changedTouches&&!!t.changedTouches.length},Od=function(e){function t(r){var n;return w2e(this,t),n=_2e(this,t,[r]),es(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),es(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),es(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),es(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),es(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),es(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),es(n,"handleSlideDragStart",function(s){var i=nR(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return k2e(t,e),j2e(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(s,i),h=Math.max(s,i),m=t.getIndexInRange(o,f),g=t.getIndexInRange(o,h);return{startIndex:m-m%c,endIndex:g===d?d:g-g%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=ps(i[n],l,n);return nt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,h=c.startIndex,m=c.endIndex,g=c.onChange,p=n.pageX-i;p>0?p=Math.min(p,u+d-f-l,u+d-f-o):p<0&&(p=Math.max(p,u-o,u-l));var y=this.getIndex({startX:o+p,endX:l+p});(y.startIndex!==h||y.endIndex!==m)&&g&&g(y),this.setState({startX:o+p,endX:l+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=nR(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],d=this.props,f=d.x,h=d.width,m=d.travellerWidth,g=d.onChange,p=d.gap,y=d.data,b={startX:this.state.startX,endX:this.state.endX},v=n.pageX-i;v>0?v=Math.min(v,f+h-m-u):v<0&&(v=Math.max(v,f-u)),b[o]=u+v;var w=this.getIndex(b),_=w.startIndex,j=w.endIndex,S=function(){var k=y.length-1;return o==="startX"&&(l>c?_%p===0:j%p===0)||l<c&&j===k||o==="endX"&&(l>c?j%p===0:_%p===0)||l>c&&j===k};this.setState(es(es({},o,u+v),"brushMoveStartX",n.pageX),function(){g&&S()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[s],f=l.indexOf(d);if(f!==-1){var h=f+n;if(!(h===-1||h>=l.length)){var m=l[h];s==="startX"&&m>=u||s==="endX"&&m<=c||this.setState(es({},s,m),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return A.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?A.cloneElement(f,{x:s,y:i,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,h=c.traveller,m=c.ariaLabel,g=c.data,p=c.startIndex,y=c.endIndex,b=Math.max(n,this.props.x),v=v0(v0({},mt(this.props,!1)),{},{x:b,y:u,width:d,height:f}),w=m||"Min value: ".concat((i=g[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=g[y])===null||o===void 0?void 0:o.name);return A.createElement(dr,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(j){["ArrowLeft","ArrowRight"].includes(j.key)&&(j.preventDefault(),j.stopPropagation(),l.handleTravellerMoveKeyboard(j.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,v))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,d=Math.min(n,s)+u,f=Math.max(Math.abs(s-n)-u,0);return A.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,h=d.endX,m=5,g={pointerEvents:"none",fill:u};return A.createElement(dr,{className:"recharts-brush-texts"},A.createElement(iy,Ty({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+l/2},g),this.getTextOfTick(s)),A.createElement(iy,Ty({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+c+m,y:o+l/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,h=this.state,m=h.startX,g=h.endX,p=h.isTextActive,y=h.isSlideMoving,b=h.isTravellerMoving,v=h.isTravellerFocused;if(!s||!s.length||!we(l)||!we(c)||!we(u)||!we(d)||u<=0||d<=0)return null;var w=jt("recharts-brush",i),_=A.Children.count(o)===1,j=b2e("userSelect","none");return A.createElement(dr,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:j},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(p||y||b||v||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return A.createElement(A.Fragment,null,A.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),A.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),A.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return A.isValidElement(n)?i=A.cloneElement(n,s):nt(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return v0({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?E2e({data:i,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(m){return s.scale(m)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(x.PureComponent);es(Od,"displayName","Brush");es(Od,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var P2e=xk;function O2e(e,t){var r;return P2e(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var A2e=O2e,T2e=K5,R2e=pl,M2e=A2e,$2e=Qn,I2e=vb;function D2e(e,t,r){var n=$2e(e)?T2e:M2e;return r&&I2e(e,t,r)&&(t=void 0),n(e,R2e(t))}var L2e=D2e;const F2e=qt(L2e);var Xa=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},sR=mU;function U2e(e,t,r){t=="__proto__"&&sR?sR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var B2e=U2e,q2e=B2e,z2e=fU,W2e=pl;function V2e(e,t){var r={};return t=W2e(t),z2e(e,function(n,s,i){q2e(r,s,t(n,s,i))}),r}var K2e=V2e;const H2e=qt(K2e);function G2e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Y2e=G2e,Q2e=xk;function X2e(e,t){var r=!0;return Q2e(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var J2e=X2e,Z2e=Y2e,eEe=J2e,tEe=pl,rEe=Qn,nEe=vb;function sEe(e,t,r){var n=rEe(e)?Z2e:eEe;return r&&nEe(e,t,r)&&(t=void 0),n(e,tEe(t))}var aEe=sEe;const VB=qt(aEe);var iEe=["x","y"];function Lm(e){"@babel/helpers - typeof";return Lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lm(e)}function C1(){return C1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C1.apply(this,arguments)}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){oEe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oEe(e,t,r){return t=lEe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lEe(e){var t=cEe(e,"string");return Lm(t)=="symbol"?t:t+""}function cEe(e,t){if(Lm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Lm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uEe(e,t){if(e==null)return{};var r=dEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fEe(e,t){var r=e.x,n=e.y,s=uEe(e,iEe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Hf(Hf(Hf(Hf(Hf({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function iR(e){return A.createElement(YCe,C1({shapeType:"rectangle",propTransformer:fEe,activeClassName:"recharts-active-bar"},e))}var hEe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=we(n)||kue(n);return i?t(n,s):(i||jc(),r)}},mEe=["value","background"],KB;function Ad(e){"@babel/helpers - typeof";return Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ad(e)}function pEe(e,t){if(e==null)return{};var r=gEe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gEe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(this,arguments)}function oR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oR(Object(r),!0).forEach(function(n){Uo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GB(n.key),n)}}function yEe(e,t,r){return t&&lR(e.prototype,t),r&&lR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xEe(e,t,r){return t=$y(t),bEe(e,HB()?Reflect.construct(t,r||[],$y(e).constructor):t.apply(e,r))}function bEe(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wEe(e)}function wEe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HB=function(){return!!e})()}function $y(e){return $y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$y(e)}function jEe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E1(e,t)}function E1(e,t){return E1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},E1(e,t)}function Uo(e,t,r){return t=GB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GB(e){var t=_Ee(e,"string");return Ad(t)=="symbol"?t:t+""}function _Ee(e,t){if(Ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $c=function(e){function t(){var r;vEe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=xEe(this,t,[].concat(s)),Uo(r,"state",{isAnimationFinished:!1}),Uo(r,"id",gp("recharts-bar-")),Uo(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Uo(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return jEe(t,e),yEe(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,d=mt(this.props,!1);return n&&n.map(function(f,h){var m=h===c,g=m?u:o,p=Cr(Cr(Cr({},d),f),{},{isActive:m,option:g,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return A.createElement(dr,My({className:"recharts-bar-rectangle"},Kv(s.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),A.createElement(iR,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,d=s.animationEasing,f=s.animationId,h=this.state.prevData;return A.createElement(Wi,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,p=i.map(function(y,b){var v=h&&h[b];if(v){var w=Cs(v.x,y.x),_=Cs(v.y,y.y),j=Cs(v.width,y.width),S=Cs(v.height,y.height);return Cr(Cr({},y),{},{x:w(g),y:_(g),width:j(g),height:S(g)})}if(o==="horizontal"){var N=Cs(0,y.height),k=N(g);return Cr(Cr({},y),{},{y:y.y+y.height-k,height:k})}var C=Cs(0,y.width),E=C(g);return Cr(Cr({},y),{},{width:E})});return A.createElement(dr,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!xm(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=mt(this.props.background,!1);return i.map(function(u,d){u.value;var f=u.background,h=pEe(u,mEe);if(!f)return null;var m=Cr(Cr(Cr(Cr(Cr({},h),{},{fill:"#eee"},f),c),Kv(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return A.createElement(iR,My({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},m))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,d=i.children,f=xa(d,Cb);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(y,b){var v=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:v,errorVal:ps(y,b)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return A.createElement(dr,g,f.map(function(p){return A.cloneElement(p,{key:"error-bar-".concat(s,"-").concat(p.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,h=n.height,m=n.isAnimationActive,g=n.background,p=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,b=jt("recharts-bar",o),v=l&&l.allowDataOverflow,w=c&&c.allowDataOverflow,_=v||w,j=yt(p)?this.id:p;return A.createElement(dr,{className:b},v||w?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(j)},A.createElement("rect",{x:v?u:u-f/2,y:w?d:d-h/2,width:v?f:f*2,height:w?h:h*2}))):null,A.createElement(dr,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(j,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,j),(!m||y)&&el.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(x.PureComponent);KB=$c;Uo($c,"displayName","Bar");Uo($c,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!pf.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Uo($c,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=Y1e(n,r);if(!m)return null;var g=t.layout,p=r.type.defaultProps,y=p!==void 0?Cr(Cr({},p),r.props):r.props,b=y.dataKey,v=y.children,w=y.minPointSize,_=g==="horizontal"?o:i,j=u?_.scale.domain():null,S=nSe({numericAxis:_}),N=xa(v,wU),k=f.map(function(C,E){var I,O,B,T,V,L;u?I=Q1e(u[d+E],j):(I=ps(C,b),Array.isArray(I)||(I=[S,I]));var K=hEe(w,KB.defaultProps.minPointSize)(I[1],E);if(g==="horizontal"){var R,M=[o.scale(I[0]),o.scale(I[1])],$=M[0],ee=M[1];O=uT({axis:i,ticks:l,bandSize:s,offset:m.offset,entry:C,index:E}),B=(R=ee??$)!==null&&R!==void 0?R:void 0,T=m.size;var D=$-ee;if(V=Number.isNaN(D)?0:D,L={x:O,y:o.y,width:T,height:o.height},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var ie=ha(V||K)*(Math.abs(K)-Math.abs(V));B-=ie,V+=ie}}else{var ve=[i.scale(I[0]),i.scale(I[1])],Ve=ve[0],Ke=ve[1];if(O=Ve,B=uT({axis:o,ticks:c,bandSize:s,offset:m.offset,entry:C,index:E}),T=Ke-Ve,V=m.size,L={x:i.x,y:B,width:i.width,height:V},Math.abs(K)>0&&Math.abs(T)<Math.abs(K)){var de=ha(T||K)*(Math.abs(K)-Math.abs(T));T+=de}}return Cr(Cr(Cr({},C),{},{x:O,y:B,width:T,height:V,value:u?I:I[1],payload:C,background:L},N&&N[E]&&N[E].props),{},{tooltipPayload:[kB(r,C)],tooltipPosition:{x:O+T/2,y:B+V/2}})});return Cr({data:k,layout:g},h)});function Fm(e){"@babel/helpers - typeof";return Fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fm(e)}function SEe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,YB(n.key),n)}}function NEe(e,t,r){return t&&cR(e.prototype,t),r&&cR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function la(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){Ob(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ob(e,t,r){return t=YB(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YB(e){var t=kEe(e,"string");return Fm(t)=="symbol"?t:t+""}function kEe(e,t){if(Fm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QB=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!rs(u,$c);return d.reduce(function(m,g){var p=r[g],y=p.orientation,b=p.domain,v=p.padding,w=v===void 0?{}:v,_=p.mirror,j=p.reversed,S="".concat(y).concat(_?"Mirror":""),N,k,C,E,I;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var O=b[1]-b[0],B=1/0,T=p.categoricalDomain.sort(Pue);if(T.forEach(function(ve,Ve){Ve>0&&(B=Math.min((ve||0)-(T[Ve-1]||0),B))}),Number.isFinite(B)){var V=B/O,L=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(N=V*L/2),p.padding==="no-gap"){var K=bc(t.barCategoryGap,V*L),R=V*L/2;N=R-K-(R-K)/L*K}}}s==="xAxis"?k=[n.left+(w.left||0)+(N||0),n.left+n.width-(w.right||0)-(N||0)]:s==="yAxis"?k=c==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(N||0),n.top+n.height-(w.bottom||0)-(N||0)]:k=p.range,j&&(k=[k[1],k[0]]);var M=H1e(p,i,h),$=M.scale,ee=M.realScaleType;$.domain(b).range(k),G1e($);var D=rSe($,la(la({},p),{},{realScaleType:ee}));s==="xAxis"?(I=y==="top"&&!_||y==="bottom"&&_,C=n.left,E=f[S]-I*p.height):s==="yAxis"&&(I=y==="left"&&!_||y==="right"&&_,C=f[S]-I*p.width,E=n.top);var ie=la(la(la({},p),D),{},{realScaleType:ee,x:C,y:E,scale:$,width:s==="xAxis"?n.width:p.width,height:s==="yAxis"?n.height:p.height});return ie.bandSize=wy(ie,D),!p.hide&&s==="xAxis"?f[S]+=(I?-1:1)*ie.height:p.hide||(f[S]+=(I?-1:1)*ie.width),la(la({},m),{},Ob({},g,ie))},{})},XB=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},CEe=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return XB({x:r,y:n},{x:s,y:i})},JB=function(){function e(t){SEe(this,e),this.scale=t}return NEe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();Ob(JB,"EPS",1e-4);var Yk=function(t){var r=Object.keys(t).reduce(function(n,s){return la(la({},n),{},Ob({},s,JB.create(t[s])))},{});return la(la({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return H2e(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return VB(s,function(i,o){return r[o].isInRange(i)})}})};function EEe(e){return(e%180+180)%180}var PEe=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=EEe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},OEe=pl,AEe=vp,TEe=pb;function REe(e){return function(t,r,n){var s=Object(t);if(!AEe(t)){var i=OEe(r);t=TEe(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var MEe=REe,$Ee=BB;function IEe(e){var t=$Ee(e),r=t%1;return t===t?r?t-r:t:0}var DEe=IEe,LEe=iU,FEe=pl,UEe=DEe,BEe=Math.max;function qEe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:UEe(r);return s<0&&(s=BEe(n+s,0)),LEe(e,FEe(t),s)}var zEe=qEe,WEe=MEe,VEe=zEe,KEe=WEe(VEe),HEe=KEe;const GEe=qt(HEe);var YEe=Tce(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),Qk=x.createContext(void 0),Xk=x.createContext(void 0),ZB=x.createContext(void 0),eq=x.createContext({}),tq=x.createContext(void 0),rq=x.createContext(0),nq=x.createContext(0),dR=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,d=YEe(i);return A.createElement(Qk.Provider,{value:n},A.createElement(Xk.Provider,{value:s},A.createElement(eq.Provider,{value:i},A.createElement(ZB.Provider,{value:d},A.createElement(tq.Provider,{value:o},A.createElement(rq.Provider,{value:u},A.createElement(nq.Provider,{value:c},l)))))))},QEe=function(){return x.useContext(tq)},sq=function(t){var r=x.useContext(Qk);r==null&&jc();var n=r[t];return n==null&&jc(),n},XEe=function(){var t=x.useContext(Qk);return No(t)},JEe=function(){var t=x.useContext(Xk),r=GEe(t,function(n){return VB(n.domain,Number.isFinite)});return r||No(t)},aq=function(t){var r=x.useContext(Xk);r==null&&jc();var n=r[t];return n==null&&jc(),n},ZEe=function(){var t=x.useContext(ZB);return t},ePe=function(){return x.useContext(eq)},Jk=function(){return x.useContext(nq)},Zk=function(){return x.useContext(rq)};function Td(e){"@babel/helpers - typeof";return Td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Td(e)}function tPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oq(n.key),n)}}function nPe(e,t,r){return t&&rPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sPe(e,t,r){return t=Iy(t),aPe(e,iq()?Reflect.construct(t,r||[],Iy(e).constructor):t.apply(e,r))}function aPe(e,t){if(t&&(Td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iPe(e)}function iPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iq=function(){return!!e})()}function Iy(e){return Iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iy(e)}function oPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P1(e,t)}function P1(e,t){return P1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},P1(e,t)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){eC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eC(e,t,r){return t=oq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oq(e){var t=lPe(e,"string");return Td(t)=="symbol"?t:t+""}function lPe(e,t){if(Td(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Td(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function cPe(e,t){return hPe(e)||fPe(e,t)||dPe(e,t)||uPe()}function uPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dPe(e,t){if(e){if(typeof e=="string")return mR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mR(e,t)}}function mR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function hPe(e){if(Array.isArray(e))return e}function O1(){return O1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O1.apply(this,arguments)}var mPe=function(t,r){var n;return A.isValidElement(t)?n=A.cloneElement(t,r):nt(t)?n=t(r):n=A.createElement("line",O1({},r,{className:"recharts-reference-line-line"})),n},pPe=function(t,r,n,s,i,o,l,c,u){var d=i.x,f=i.y,h=i.width,m=i.height;if(n){var g=u.y,p=t.y.apply(g,{position:o});if(Xa(u,"discard")&&!t.y.isInRange(p))return null;var y=[{x:d+h,y:p},{x:d,y:p}];return c==="left"?y.reverse():y}if(r){var b=u.x,v=t.x.apply(b,{position:o});if(Xa(u,"discard")&&!t.x.isInRange(v))return null;var w=[{x:v,y:f+m},{x:v,y:f}];return l==="top"?w.reverse():w}if(s){var _=u.segment,j=_.map(function(S){return t.apply(S,{position:o})});return Xa(u,"discard")&&F2e(j,function(S){return!t.isInRange(S)})?null:j}return null};function gPe(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=QEe(),d=sq(s),f=aq(i),h=ZEe();if(!u||!h)return null;Oi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=Yk({x:d.scale,y:f.scale}),g=Hr(t),p=Hr(r),y=n&&n.length===2,b=pPe(m,g,p,y,h,e.position,d.orientation,f.orientation,e);if(!b)return null;var v=cPe(b,2),w=v[0],_=w.x,j=w.y,S=v[1],N=S.x,k=S.y,C=Xa(e,"hidden")?"url(#".concat(u,")"):void 0,E=hR(hR({clipPath:C},mt(e,!0)),{},{x1:_,y1:j,x2:N,y2:k});return A.createElement(dr,{className:jt("recharts-reference-line",l)},mPe(o,E),yn.renderCallByParent(e,CEe({x1:_,y1:j,x2:N,y2:k})))}var tC=function(e){function t(){return tPe(this,t),sPe(this,t,arguments)}return oPe(t,e),nPe(t,[{key:"render",value:function(){return A.createElement(gPe,this.props)}}])}(A.Component);eC(tC,"displayName","ReferenceLine");eC(tC,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function A1(){return A1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A1.apply(this,arguments)}function Rd(e){"@babel/helpers - typeof";return Rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rd(e)}function pR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pR(Object(r),!0).forEach(function(n){Ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cq(n.key),n)}}function xPe(e,t,r){return t&&yPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bPe(e,t,r){return t=Dy(t),wPe(e,lq()?Reflect.construct(t,r||[],Dy(e).constructor):t.apply(e,r))}function wPe(e,t){if(t&&(Rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jPe(e)}function jPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lq=function(){return!!e})()}function Dy(e){return Dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Dy(e)}function _Pe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T1(e,t)}function T1(e,t){return T1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},T1(e,t)}function Ab(e,t,r){return t=cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=SPe(e,"string");return Rd(t)=="symbol"?t:t+""}function SPe(e,t){if(Rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NPe=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=Yk({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Xa(t,"discard")&&!o.isInRange(l)?null:l},Tb=function(e){function t(){return vPe(this,t),bPe(this,t,arguments)}return _Pe(t,e),xPe(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Hr(s),d=Hr(i);if(Oi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=NPe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,p=g.shape,y=g.className,b=Xa(this.props,"hidden")?"url(#".concat(c,")"):void 0,v=gR(gR({clipPath:b},mt(this.props,!0)),{},{cx:h,cy:m});return A.createElement(dr,{className:jt("recharts-reference-dot",y)},t.renderDot(p,v),yn.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(A.Component);Ab(Tb,"displayName","ReferenceDot");Ab(Tb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Ab(Tb,"renderDot",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):nt(e)?r=e(t):r=A.createElement(Gk,A1({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function R1(){return R1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R1.apply(this,arguments)}function Md(e){"@babel/helpers - typeof";return Md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Md(e)}function vR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vR(Object(r),!0).forEach(function(n){Rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CPe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dq(n.key),n)}}function EPe(e,t,r){return t&&CPe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PPe(e,t,r){return t=Ly(t),OPe(e,uq()?Reflect.construct(t,r||[],Ly(e).constructor):t.apply(e,r))}function OPe(e,t){if(t&&(Md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return APe(e)}function APe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uq=function(){return!!e})()}function Ly(e){return Ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ly(e)}function TPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M1(e,t)}function M1(e,t){return M1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},M1(e,t)}function Rb(e,t,r){return t=dq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=RPe(e,"string");return Md(t)=="symbol"?t:t+""}function RPe(e,t){if(Md(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Md(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var MPe=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,d=i.xAxis,f=i.yAxis;if(!d||!f)return null;var h=Yk({x:d.scale,y:f.scale}),m={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Xa(i,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:XB(m,g)},Mb=function(e){function t(){return kPe(this,t),PPe(this,t,arguments)}return TPe(t,e),EPe(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Oi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Hr(s),h=Hr(i),m=Hr(o),g=Hr(l),p=this.props.shape;if(!f&&!h&&!m&&!g&&!p)return null;var y=MPe(f,h,m,g,this.props);if(!y&&!p)return null;var b=Xa(this.props,"hidden")?"url(#".concat(d,")"):void 0;return A.createElement(dr,{className:jt("recharts-reference-area",c)},t.renderRect(p,yR(yR({clipPath:b},mt(this.props,!0)),y)),yn.renderCallByParent(this.props,y))}}])}(A.Component);Rb(Mb,"displayName","ReferenceArea");Rb(Mb,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Rb(Mb,"renderRect",function(e,t){var r;return A.isValidElement(e)?r=A.cloneElement(e,t):nt(e)?r=e(t):r=A.createElement(Hk,R1({},t,{className:"recharts-reference-area-rect"})),r});function fq(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function $Pe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return PEe(n,r)}function IPe(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Fy(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function DPe(e,t){return fq(e,t+1)}function LPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,d=o,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:fq(n,u)};var p=c,y,b=function(){return y===void 0&&(y=r(g,p)),y},v=g.coordinate,w=c===0||Fy(e,v,b,d,l);w||(c=0,d=o,u+=1),w&&(d=v+e*(b()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){FPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FPe(e,t,r){return t=UPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UPe(e){var t=BPe(e,"string");return Um(t)=="symbol"?t:t+""}function BPe(e,t){if(Um(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Um(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qPe(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var m=i[h],g,p=function(){return g===void 0&&(g=r(m,h)),g};if(h===o-1){var y=e*(m.coordinate+e*p()/2-c);i[h]=m=pn(pn({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=pn(pn({},m),{},{tickCoord:m.coordinate});var b=Fy(e,m.tickCoord,p,l,c);b&&(c=m.tickCoord-e*(p()/2+s),i[h]=pn(pn({},m),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return i}function zPe(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);o[l-1]=d=pn(pn({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=Fy(e,d.tickCoord,function(){return f},c,u);m&&(u=d.tickCoord-e*(f/2+s),o[l-1]=pn(pn({},d),{},{isShow:!0}))}for(var g=i?l-1:l,p=function(v){var w=o[v],_,j=function(){return _===void 0&&(_=r(w,v)),_};if(v===0){var S=e*(w.coordinate-e*j()/2-c);o[v]=w=pn(pn({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[v]=w=pn(pn({},w),{},{tickCoord:w.coordinate});var N=Fy(e,w.tickCoord,j,c,u);N&&(c=w.tickCoord+e*(j()/2+s),o[v]=pn(pn({},w),{},{isShow:!0}))},y=0;y<g;y++)p(y);return o}function rC(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,d=e.unit,f=e.angle;if(!s||!s.length||!n)return[];if(we(c)||pf.isSsr)return DPe(s,typeof c=="number"&&we(c)?c:0);var h=[],m=l==="top"||l==="bottom"?"width":"height",g=d&&m==="width"?_h(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(w,_){var j=nt(u)?u(w.value,_):w.value;return m==="width"?$Pe(_h(j,{fontSize:t,letterSpacing:r}),g,f):_h(j,{fontSize:t,letterSpacing:r})[m]},y=s.length>=2?ha(s[1].coordinate-s[0].coordinate):1,b=IPe(i,y,m);return c==="equidistantPreserveStart"?LPe(y,b,p,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=zPe(y,b,p,s,o,c==="preserveStartEnd"):h=qPe(y,b,p,s,o),h.filter(function(v){return v.isShow}))}var WPe=["viewBox"],VPe=["viewBox"],KPe=["ticks"];function $d(e){"@babel/helpers - typeof";return $d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$d(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ju.apply(this,arguments)}function bR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bR(Object(r),!0).forEach(function(n){nC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y0(e,t){if(e==null)return{};var r=HPe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HPe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mq(n.key),n)}}function YPe(e,t,r){return t&&wR(e.prototype,t),r&&wR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e,t,r){return t=Uy(t),XPe(e,hq()?Reflect.construct(t,r||[],Uy(e).constructor):t.apply(e,r))}function XPe(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JPe(e)}function JPe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hq=function(){return!!e})()}function Uy(e){return Uy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uy(e)}function ZPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$1(e,t)}function $1(e,t){return $1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},$1(e,t)}function nC(e,t,r){return t=mq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=eOe(e,"string");return $d(t)=="symbol"?t:t+""}function eOe(e,t){if($d(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($d(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var xf=function(e){function t(r){var n;return GPe(this,t),n=QPe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return ZPe(t,e),YPe(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=y0(n,WPe),l=this.props,c=l.viewBox,u=y0(l,VPe);return!Mu(i,c)||!Mu(o,u)||!Mu(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,d=s.tickSize,f=s.mirror,h=s.tickMargin,m,g,p,y,b,v,w=f?-1:1,_=n.tickSize||d,j=we(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":m=g=n.coordinate,y=o+ +!f*c,p=y-w*_,v=p-w*h,b=j;break;case"left":p=y=n.coordinate,g=i+ +!f*l,m=g-w*_,b=m-w*h,v=j;break;case"right":p=y=n.coordinate,g=i+ +f*l,m=g+w*_,b=m+w*h,v=j;break;default:m=g=n.coordinate,y=o+ +f*c,p=y+w*_,v=p+w*h,b=j;break}return{line:{x1:m,y1:p,x2:g,y2:y},tick:{x:b,y:v}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=Dr(Dr(Dr({},mt(this.props,!1)),mt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);f=Dr(Dr({},f),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var m=+(c==="left"&&!u||c==="right"&&u);f=Dr(Dr({},f),{},{x1:s+m*o,y1:i,x2:s+m*o,y2:i+l})}return A.createElement("line",ju({},f,{className:jt("recharts-cartesian-axis-line",Is(d,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,h=l.unit,m=rC(Dr(Dr({},this.props),{},{ticks:n}),s,i),g=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),y=mt(this.props,!1),b=mt(d,!1),v=Dr(Dr({},y),{},{fill:"none"},mt(c,!1)),w=m.map(function(_,j){var S=o.getTickLineCoord(_),N=S.line,k=S.tick,C=Dr(Dr(Dr(Dr({textAnchor:g,verticalAnchor:p},y),{},{stroke:"none",fill:u},b),k),{},{index:j,payload:_,visibleTicksCount:m.length,tickFormatter:f});return A.createElement(dr,ju({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Kv(o.props,_,j)),c&&A.createElement("line",ju({},v,N,{className:jt("recharts-cartesian-axis-tick-line",Is(c,"className"))})),d&&t.renderTickItem(d,C,"".concat(nt(f)?f(_.value,j):_.value).concat(h||"")))});return A.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,d=s.hide;if(d)return null;var f=this.props,h=f.ticks,m=y0(f,KPe),g=h;return nt(c)&&(g=h&&h.length>0?c(this.props):c(m)),o<=0||l<=0||!g||!g.length?null:A.createElement(dr,{className:jt("recharts-cartesian-axis",u),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),yn.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=jt(s.className,"recharts-cartesian-axis-tick-value");return A.isValidElement(n)?o=A.cloneElement(n,Dr(Dr({},s),{},{className:l})):nt(n)?o=n(Dr(Dr({},s),{},{className:l})):o=A.createElement(iy,ju({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(x.Component);nC(xf,"displayName","CartesianAxis");nC(xf,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var tOe=["x1","y1","x2","y2","key"],rOe=["offset"];function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function jR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jR(Object(r),!0).forEach(function(n){nOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nOe(e,t,r){return t=sOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sOe(e){var t=aOe(e,"string");return _c(t)=="symbol"?t:t+""}function aOe(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ql(){return ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ql.apply(this,arguments)}function _R(e,t){if(e==null)return{};var r=iOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var oOe=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return A.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pq(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=_R(t,tOe),u=mt(c,!1);u.offset;var d=_R(u,rOe);r=A.createElement("line",ql({},d,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function lOe(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=xn(xn({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return pq(s,u)});return A.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function cOe(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=xn(xn({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return pq(s,u)});return A.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function uOe(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var d=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,m){return h-m});s!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?s+o-h:d[m+1]-h;if(p<=0)return null;var y=m%t.length;return A.createElement("rect",{key:"react-".concat(m),y:h,x:n,height:p,width:i,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function dOe(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==d[0]&&d.unshift(0);var f=d.map(function(h,m){var g=!d[m+1],p=g?i+l-h:d[m+1]-h;if(p<=0)return null;var y=m%n.length;return A.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:p,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return A.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var fOe=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return SB(rC(xn(xn(xn({},xf.defaultProps),n),{},{ticks:Ni(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},hOe=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return SB(rC(xn(xn(xn({},xf.defaultProps),n),{},{ticks:Ni(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},tu={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function By(e){var t,r,n,s,i,o,l=Jk(),c=Zk(),u=ePe(),d=xn(xn({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:tu.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:tu.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:tu.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:tu.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:tu.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:tu.verticalFill,x:we(e.x)?e.x:u.left,y:we(e.y)?e.y:u.top,width:we(e.width)?e.width:u.width,height:we(e.height)?e.height:u.height}),f=d.x,h=d.y,m=d.width,g=d.height,p=d.syncWithTicks,y=d.horizontalValues,b=d.verticalValues,v=XEe(),w=JEe();if(!we(m)||m<=0||!we(g)||g<=0||!we(f)||f!==+f||!we(h)||h!==+h)return null;var _=d.verticalCoordinatesGenerator||fOe,j=d.horizontalCoordinatesGenerator||hOe,S=d.horizontalPoints,N=d.verticalPoints;if((!S||!S.length)&&nt(j)){var k=y&&y.length,C=j({yAxis:w?xn(xn({},w),{},{ticks:k?y:w.ticks}):void 0,width:l,height:c,offset:u},k?!0:p);Oi(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_c(C),"]")),Array.isArray(C)&&(S=C)}if((!N||!N.length)&&nt(_)){var E=b&&b.length,I=_({xAxis:v?xn(xn({},v),{},{ticks:E?b:v.ticks}):void 0,width:l,height:c,offset:u},E?!0:p);Oi(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_c(I),"]")),Array.isArray(I)&&(N=I)}return A.createElement("g",{className:"recharts-cartesian-grid"},A.createElement(oOe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),A.createElement(lOe,ql({},d,{offset:u,horizontalPoints:S,xAxis:v,yAxis:w})),A.createElement(cOe,ql({},d,{offset:u,verticalPoints:N,xAxis:v,yAxis:w})),A.createElement(uOe,ql({},d,{horizontalPoints:S})),A.createElement(dOe,ql({},d,{verticalPoints:N})))}By.displayName="CartesianGrid";var mOe=["layout","type","stroke","connectNulls","isRange","ref"],pOe=["key"],gq;function Id(e){"@babel/helpers - typeof";return Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Id(e)}function vq(e,t){if(e==null)return{};var r=gOe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zl(){return zl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zl.apply(this,arguments)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function mo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){za(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xq(n.key),n)}}function yOe(e,t,r){return t&&NR(e.prototype,t),r&&NR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function xOe(e,t,r){return t=qy(t),bOe(e,yq()?Reflect.construct(t,r||[],qy(e).constructor):t.apply(e,r))}function bOe(e,t){if(t&&(Id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wOe(e)}function wOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yq=function(){return!!e})()}function qy(e){return qy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qy(e)}function jOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I1(e,t)}function I1(e,t){return I1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I1(e,t)}function za(e,t,r){return t=xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xq(e){var t=_Oe(e,"string");return Id(t)=="symbol"?t:t+""}function _Oe(e,t){if(Id(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Id(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var to=function(e){function t(){var r;vOe(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=xOe(this,t,[].concat(s)),za(r,"state",{isAnimationFinished:!0}),za(r,"id",gp("recharts-area-")),za(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),nt(o)&&o()}),za(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),nt(o)&&o()}),r}return jOe(t,e),yOe(t,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,d=c.points,f=c.dataKey,h=mt(this.props,!1),m=mt(u,!0),g=d.map(function(y,b){var v=mo(mo(mo({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:y.x,cy:y.y,dataKey:f,value:y.value,payload:y.payload,points:d});return t.renderDotItem(u,v)}),p={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return A.createElement(dr,zl({className:"recharts-area-dots"},p),g)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,u=o[o.length-1].x,d=n*Math.abs(c-u),f=Fo(o.map(function(h){return h.y||0}));return we(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fo(i.map(function(h){return h.y||0})),f)),we(f)?A.createElement("rect",{x:c<u?c:c-d,y:0,width:d,height:Math.floor(f+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,u=o[o.length-1].y,d=n*Math.abs(c-u),f=Fo(o.map(function(h){return h.x||0}));return we(i)&&typeof i=="number"?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(Fo(i.map(function(h){return h.x||0})),f)),we(f)?A.createElement("rect",{x:0,y:c<u?c:c-d,width:f+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,u=l.type,d=l.stroke,f=l.connectNulls,h=l.isRange;l.ref;var m=vq(l,mOe);return A.createElement(dr,{clipPath:i?"url(#clipPath-".concat(o,")"):null},A.createElement(kh,zl({},mt(m,!0),{points:n,connectNulls:f,type:u,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),d!=="none"&&A.createElement(kh,zl({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:n})),d!=="none"&&h&&A.createElement(kh,zl({},mt(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:f,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=this.state,p=g.prevPoints,y=g.prevBaseLine;return A.createElement(Wi,{begin:d,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var v=b.t;if(p){var w=p.length/l.length,_=l.map(function(k,C){var E=Math.floor(C*w);if(p[E]){var I=p[E],O=Cs(I.x,k.x),B=Cs(I.y,k.y);return mo(mo({},k),{},{x:O(v),y:B(v)})}return k}),j;if(we(c)&&typeof c=="number"){var S=Cs(y,c);j=S(v)}else if(yt(c)||df(c)){var N=Cs(y,0);j=N(v)}else j=c.map(function(k,C){var E=Math.floor(C*w);if(y[E]){var I=y[E],O=Cs(I.x,k.x),B=Cs(I.y,k.y);return mo(mo({},k),{},{x:O(v),y:B(v)})}return k});return i.renderAreaStatically(_,j,n,s)}return A.createElement(dr,null,A.createElement("defs",null,A.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(v))),A.createElement(dr,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,u=this.state,d=u.prevPoints,f=u.prevBaseLine,h=u.totalLength;return c&&o&&o.length&&(!d&&h>0||!xm(d,o)||!xm(f,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.top,d=s.left,f=s.xAxis,h=s.yAxis,m=s.width,g=s.height,p=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var b=this.state.isAnimationFinished,v=l.length===1,w=jt("recharts-area",c),_=f&&f.allowDataOverflow,j=h&&h.allowDataOverflow,S=_||j,N=yt(y)?this.id:y,k=(n=mt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},C=k.r,E=C===void 0?3:C,I=k.strokeWidth,O=I===void 0?2:I,B=Lue(o)?o:{},T=B.clipDot,V=T===void 0?!0:T,L=E*2+O;return A.createElement(dr,{className:w},_||j?A.createElement("defs",null,A.createElement("clipPath",{id:"clipPath-".concat(N)},A.createElement("rect",{x:_?d:d-m/2,y:j?u:u-g/2,width:_?m:m*2,height:j?g:g*2})),!V&&A.createElement("clipPath",{id:"clipPath-dots-".concat(N)},A.createElement("rect",{x:d-L/2,y:u-L/2,width:m+L,height:g+L}))):null,v?null:this.renderArea(S,N),(o||v)&&this.renderDots(S,V,N),(!p||b)&&el.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])}(x.PureComponent);gq=to;za(to,"displayName","Area");za(to,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!pf.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});za(to,"getBaseValue",function(e,t,r,n){var s=e.layout,i=e.baseValue,o=t.props.baseValue,l=o??i;if(we(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var d=Math.max(u[0],u[1]),f=Math.min(u[0],u[1]);return l==="dataMin"?f:l==="dataMax"||d<0?d:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});za(to,"getComposedData",function(e){var t=e.props,r=e.item,n=e.xAxis,s=e.yAxis,i=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,f=e.displayedData,h=e.offset,m=t.layout,g=u&&u.length,p=gq.getBaseValue(t,r,n,s),y=m==="horizontal",b=!1,v=f.map(function(_,j){var S;g?S=u[d+j]:(S=ps(_,c),Array.isArray(S)?b=!0:S=[p,S]);var N=S[1]==null||g&&ps(_,c)==null;return y?{x:cT({axis:n,ticks:i,bandSize:l,entry:_,index:j}),y:N?null:s.scale(S[1]),value:S,payload:_}:{x:N?null:n.scale(S[1]),y:cT({axis:s,ticks:o,bandSize:l,entry:_,index:j}),value:S,payload:_}}),w;return g||b?w=v.map(function(_){var j=Array.isArray(_.value)?_.value[0]:null;return y?{x:_.x,y:j!=null&&_.y!=null?s.scale(j):null}:{x:j!=null?n.scale(j):null,y:_.y}}):w=y?s.scale(p):n.scale(p),mo({points:v,baseLine:w,layout:m,isRange:b},h)});za(to,"renderDotItem",function(e,t){var r;if(A.isValidElement(e))r=A.cloneElement(e,t);else if(nt(e))r=e(t);else{var n=jt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=vq(t,pOe);r=A.createElement(Gk,zl({},i,{key:s,className:n}))}return r});function Dd(e){"@babel/helpers - typeof";return Dd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dd(e)}function SOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jq(n.key),n)}}function kOe(e,t,r){return t&&NOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function COe(e,t,r){return t=zy(t),EOe(e,bq()?Reflect.construct(t,r||[],zy(e).constructor):t.apply(e,r))}function EOe(e,t){if(t&&(Dd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return POe(e)}function POe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bq=function(){return!!e})()}function zy(e){return zy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zy(e)}function OOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D1(e,t)}function D1(e,t){return D1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},D1(e,t)}function wq(e,t,r){return t=jq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=AOe(e,"string");return Dd(t)=="symbol"?t:t+""}function AOe(e,t){if(Dd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Dd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function L1(){return L1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L1.apply(this,arguments)}function TOe(e){var t=e.xAxisId,r=Jk(),n=Zk(),s=sq(t);return s==null?null:x.createElement(xf,L1({},s,{className:jt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Ni(o,!0)}}))}var Sc=function(e){function t(){return SOe(this,t),COe(this,t,arguments)}return OOe(t,e),kOe(t,[{key:"render",value:function(){return x.createElement(TOe,this.props)}}])}(x.Component);wq(Sc,"displayName","XAxis");wq(Sc,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Ld(e){"@babel/helpers - typeof";return Ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ld(e)}function ROe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nq(n.key),n)}}function $Oe(e,t,r){return t&&MOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function IOe(e,t,r){return t=Wy(t),DOe(e,_q()?Reflect.construct(t,r||[],Wy(e).constructor):t.apply(e,r))}function DOe(e,t){if(t&&(Ld(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LOe(e)}function LOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_q=function(){return!!e})()}function Wy(e){return Wy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wy(e)}function FOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F1(e,t)}function F1(e,t){return F1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},F1(e,t)}function Sq(e,t,r){return t=Nq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=UOe(e,"string");return Ld(t)=="symbol"?t:t+""}function UOe(e,t){if(Ld(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function U1(){return U1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U1.apply(this,arguments)}var BOe=function(t){var r=t.yAxisId,n=Jk(),s=Zk(),i=aq(r);return i==null?null:x.createElement(xf,U1({},i,{className:jt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Ni(l,!0)}}))},Nc=function(e){function t(){return ROe(this,t),IOe(this,t,arguments)}return FOe(t,e),$Oe(t,[{key:"render",value:function(){return x.createElement(BOe,this.props)}}])}(x.Component);Sq(Nc,"displayName","YAxis");Sq(Nc,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function kR(e){return VOe(e)||WOe(e)||zOe(e)||qOe()}function qOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zOe(e,t){if(e){if(typeof e=="string")return B1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B1(e,t)}}function WOe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VOe(e){if(Array.isArray(e))return B1(e)}function B1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var q1=function(t,r,n,s,i){var o=xa(t,tC),l=xa(t,Tb),c=[].concat(kR(o),kR(l)),u=xa(t,Mb),d="".concat(s,"Id"),f=s[0],h=r;if(c.length&&(h=c.reduce(function(p,y){if(y.props[d]===n&&Xa(y.props,"extendDomain")&&we(y.props[f])){var b=y.props[f];return[Math.min(p[0],b),Math.max(p[1],b)]}return p},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(p,y){if(y.props[d]===n&&Xa(y.props,"extendDomain")&&we(y.props[m])&&we(y.props[g])){var b=y.props[m],v=y.props[g];return[Math.min(p[0],b,v),Math.max(p[1],b,v)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,y){return we(y)?[Math.min(p[0],y),Math.max(p[1],y)]:p},h)),h},kq={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var p=r?r+u:u;if(!this._events[p])return!1;var y=this._events[p],b=arguments.length,v,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),b){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,v=new Array(b-1);w<b;w++)v[w-1]=arguments[w];y.fn.apply(y.context,v)}else{var _=y.length,j;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),b){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(b-1);j<b;j++)v[j-1]=arguments[j];y[w].fn.apply(y[w].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var p=0,y=[],b=g.length;p<b;p++)(g[p].fn!==d||h&&!g[p].once||f&&g[p].context!==f)&&y.push(g[p]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(kq);var KOe=kq.exports;const HOe=qt(KOe);var x0=new HOe,b0="recharts.syncMouseEvents";function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function GOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Cq(n.key),n)}}function QOe(e,t,r){return t&&YOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w0(e,t,r){return t=Cq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cq(e){var t=XOe(e,"string");return Bm(t)=="symbol"?t:t+""}function XOe(e,t){if(Bm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var JOe=function(){function e(){GOe(this,e),w0(this,"activeIndex",0),w0(this,"coordinateList",[]),w0(this,"layout","horizontal")}return QOe(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,h=r.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+c+u,h=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function ZOe(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&we(n)&&we(s))return!0}return!1}function eAe(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Eq(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=ln(t,r,n,s),l=ln(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function tAe(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,d=t.outerRadius,f=t.angle,h=ln(l,c,u,f),m=ln(l,c,d,f);n=h.x,s=h.y,i=m.x,o=m.y}else return Eq(t);return[{x:n,y:s},{x:i,y:o}]}function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){rAe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rAe(e,t,r){return t=nAe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nAe(e){var t=sAe(e,"string");return qm(t)=="symbol"?t:t+""}function sAe(e,t){if(qm(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aAe(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,d=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,m=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!m||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var g,p=kh;if(h==="ScatterChart")g=o,p=cCe;else if(h==="BarChart")g=eAe(f,o,c,d),p=Hk;else if(f==="radial"){var y=Eq(o),b=y.cx,v=y.cy,w=y.radius,_=y.startAngle,j=y.endAngle;g={cx:b,cy:v,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},p=PB}else g={points:tAe(f,o,c)},p=kh;var S=wg(wg(wg(wg({stroke:"#ccc",pointerEvents:"none"},c),g),mt(m,!1)),{},{payload:l,payloadIndex:u,className:jt("recharts-tooltip-cursor",m.className)});return x.isValidElement(m)?x.cloneElement(m,S):x.createElement(p,S)}var iAe=["item"],oAe=["children","className","width","height","style","compact","title","desc"];function Fd(e){"@babel/helpers - typeof";return Fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fd(e)}function _u(){return _u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_u.apply(this,arguments)}function ER(e,t){return uAe(e)||cAe(e,t)||Oq(e,t)||lAe()}function lAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cAe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uAe(e){if(Array.isArray(e))return e}function PR(e,t){if(e==null)return{};var r=dAe(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function fAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Aq(n.key),n)}}function mAe(e,t,r){return t&&hAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pAe(e,t,r){return t=Vy(t),gAe(e,Pq()?Reflect.construct(t,r||[],Vy(e).constructor):t.apply(e,r))}function gAe(e,t){if(t&&(Fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vAe(e)}function vAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pq(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pq=function(){return!!e})()}function Vy(e){return Vy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vy(e)}function yAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z1(e,t)}function z1(e,t){return z1=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z1(e,t)}function Ud(e){return wAe(e)||bAe(e)||Oq(e)||xAe()}function xAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function bAe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wAe(e){if(Array.isArray(e))return W1(e)}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){Ge(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ge(e,t,r){return t=Aq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=jAe(e,"string");return Fd(t)=="symbol"?t:t+""}function jAe(e,t){if(Fd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _Ae={xAxis:["bottom","top"],yAxis:["left","right"]},SAe={width:"100%",height:"100%"},Tq={x:0,y:0};function jg(e){return e}var NAe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},kAe=function(t,r,n,s){var i=r.find(function(d){return d&&d.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return re(re(re({},s),ln(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return re(re(re({},s),ln(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return Tq},$b=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Ud(l),Ud(u)):l},[]);return o.length>0?o:t&&t.length&&we(s)&&we(i)?t.slice(s,i+1):[]};function Rq(e){return e==="number"?[0,"auto"]:void 0}var V1=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=$b(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?l:f;h=Wv(m,o.dataKey,s)}else h=f&&f[n]||l[n];return h?[].concat(Ud(c),[kB(u,h)]):c},[])},AR=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=NAe(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,d=B1e(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,h=V1(t,r,d,f),m=kAe(n,l,d,i);return{activeTooltipIndex:d,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},CAe=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=t.stackOffset,m=_B(d,i);return n.reduce(function(g,p){var y,b=p.type.defaultProps!==void 0?re(re({},p.type.defaultProps),p.props):p.props,v=b.type,w=b.dataKey,_=b.allowDataOverflow,j=b.allowDuplicatedCategory,S=b.scale,N=b.ticks,k=b.includeHidden,C=b[o];if(g[C])return g;var E=$b(t.data,{graphicalItems:s.filter(function(D){var ie,ve=o in D.props?D.props[o]:(ie=D.type.defaultProps)===null||ie===void 0?void 0:ie[o];return ve===C}),dataStartIndex:c,dataEndIndex:u}),I=E.length,O,B,T;ZOe(b.domain,_,v)&&(O=u1(b.domain,null,_),m&&(v==="number"||S!=="auto")&&(T=Nh(E,w,"category")));var V=Rq(v);if(!O||O.length===0){var L,K=(L=b.domain)!==null&&L!==void 0?L:V;if(w){if(O=Nh(E,w,v),v==="category"&&m){var R=Eue(O);j&&R?(B=O,O=Ay(0,I)):j||(O=hT(K,O,p).reduce(function(D,ie){return D.indexOf(ie)>=0?D:[].concat(Ud(D),[ie])},[]))}else if(v==="category")j?O=O.filter(function(D){return D!==""&&!yt(D)}):O=hT(K,O,p).reduce(function(D,ie){return D.indexOf(ie)>=0||ie===""||yt(ie)?D:[].concat(Ud(D),[ie])},[]);else if(v==="number"){var M=K1e(E,s.filter(function(D){var ie,ve,Ve=o in D.props?D.props[o]:(ie=D.type.defaultProps)===null||ie===void 0?void 0:ie[o],Ke="hide"in D.props?D.props.hide:(ve=D.type.defaultProps)===null||ve===void 0?void 0:ve.hide;return Ve===C&&(k||!Ke)}),w,i,d);M&&(O=M)}m&&(v==="number"||S!=="auto")&&(T=Nh(E,w,"category"))}else m?O=Ay(0,I):l&&l[C]&&l[C].hasStack&&v==="number"?O=h==="expand"?[0,1]:NB(l[C].stackGroups,c,u):O=jB(E,s.filter(function(D){var ie=o in D.props?D.props[o]:D.type.defaultProps[o],ve="hide"in D.props?D.props.hide:D.type.defaultProps.hide;return ie===C&&(k||!ve)}),v,d,!0);if(v==="number")O=q1(f,O,C,i,N),K&&(O=u1(K,O,_));else if(v==="category"&&K){var $=K,ee=O.every(function(D){return $.indexOf(D)>=0});ee&&(O=$)}}return re(re({},g),{},Ge({},C,re(re({},b),{},{axisType:i,domain:O,categoricalDomain:T,duplicateDomain:B,originalDomain:(y=b.domain)!==null&&y!==void 0?y:V,isCategorical:m,layout:d})))},{})},EAe=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.layout,f=t.children,h=$b(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),m=h.length,g=_B(d,i),p=-1;return n.reduce(function(y,b){var v=b.type.defaultProps!==void 0?re(re({},b.type.defaultProps),b.props):b.props,w=v[o],_=Rq("number");if(!y[w]){p++;var j;return g?j=Ay(0,m):l&&l[w]&&l[w].hasStack?(j=NB(l[w].stackGroups,c,u),j=q1(f,j,w,i)):(j=u1(_,jB(h,n.filter(function(S){var N,k,C=o in S.props?S.props[o]:(N=S.type.defaultProps)===null||N===void 0?void 0:N[o],E="hide"in S.props?S.props.hide:(k=S.type.defaultProps)===null||k===void 0?void 0:k.hide;return C===w&&!E}),"number",d),s.defaultProps.allowDataOverflow),j=q1(f,j,w,i)),re(re({},y),{},Ge({},w,re(re({axisType:i},s.defaultProps),{},{hide:!0,orientation:Is(_Ae,"".concat(i,".").concat(p%2),null),domain:j,originalDomain:_,isCategorical:g,layout:d})))}return y},{})},PAe=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=t.children,f="".concat(s,"Id"),h=xa(d,i),m={};return h&&h.length?m=CAe(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(m=EAe(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),m},OAe=function(t){var r=No(t),n=Ni(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:bk(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:wy(r,n)}},TR=function(t){var r=t.children,n=t.defaultShowTooltip,s=rs(r,Od),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},AAe=function(t){return!t||!t.length?!1:t.some(function(r){var n=Pi(r&&r.type);return n&&n.indexOf("Bar")>=0})},RR=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},TAe=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,h=n.margin||{},m=rs(f,Od),g=rs(f,$u),p=Object.keys(c).reduce(function(j,S){var N=c[S],k=N.orientation;return!N.mirror&&!N.hide?re(re({},j),{},Ge({},k,j[k]+N.width)):j},{left:h.left||0,right:h.right||0}),y=Object.keys(o).reduce(function(j,S){var N=o[S],k=N.orientation;return!N.mirror&&!N.hide?re(re({},j),{},Ge({},k,Is(j,"".concat(k))+N.height)):j},{top:h.top||0,bottom:h.bottom||0}),b=re(re({},y),p),v=b.bottom;m&&(b.bottom+=m.props.height||Od.defaultProps.height),g&&r&&(b=W1e(b,s,n,r));var w=u-b.left-b.right,_=d-b.top-b.bottom;return re(re({brushBottom:v},b),{},{width:Math.max(w,0),height:Math.max(_,0)})},RAe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},Mq=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,d=t.formatAxisMap,f=t.defaultProps,h=function(b,v){var w=v.graphicalItems,_=v.stackGroups,j=v.offset,S=v.updateId,N=v.dataStartIndex,k=v.dataEndIndex,C=b.barSize,E=b.layout,I=b.barGap,O=b.barCategoryGap,B=b.maxBarSize,T=RR(E),V=T.numericAxisName,L=T.cateAxisName,K=AAe(w),R=[];return w.forEach(function(M,$){var ee=$b(b.data,{graphicalItems:[M],dataStartIndex:N,dataEndIndex:k}),D=M.type.defaultProps!==void 0?re(re({},M.type.defaultProps),M.props):M.props,ie=D.dataKey,ve=D.maxBarSize,Ve=D["".concat(V,"Id")],Ke=D["".concat(L,"Id")],de={},qe=c.reduce(function(F,H){var U=v["".concat(H.axisType,"Map")],le=D["".concat(H.axisType,"Id")];U&&U[le]||H.axisType==="zAxis"||jc();var he=U[le];return re(re({},F),{},Ge(Ge({},H.axisType,he),"".concat(H.axisType,"Ticks"),Ni(he)))},de),ae=qe[L],je=qe["".concat(L,"Ticks")],Y=_&&_[Ve]&&_[Ve].hasStack&&sSe(M,_[Ve].stackGroups),Q=Pi(M.type).indexOf("Bar")>=0,Xe=wy(ae,je),He=[],xt=K&&q1e({barSize:C,stackGroups:_,totalSize:RAe(qe,L)});if(Q){var ct,zt,Sr=yt(ve)?B:ve,dn=(ct=(zt=wy(ae,je,!0))!==null&&zt!==void 0?zt:Sr)!==null&&ct!==void 0?ct:0;He=z1e({barGap:I,barCategoryGap:O,bandSize:dn!==Xe?dn:Xe,sizeList:xt[Ke],maxBarSize:Sr}),dn!==Xe&&(He=He.map(function(F){return re(re({},F),{},{position:re(re({},F.position),{},{offset:F.position.offset-dn/2})})}))}var ys=M&&M.type&&M.type.getComposedData;ys&&R.push({props:re(re({},ys(re(re({},qe),{},{displayedData:ee,props:b,dataKey:ie,item:M,bandSize:Xe,barPosition:He,offset:j,stackedData:Y,layout:E,dataStartIndex:N,dataEndIndex:k}))),{},Ge(Ge(Ge({key:M.key||"item-".concat($)},V,qe[V]),L,qe[L]),"animationId",S)),childIndex:Bue(M,b.children),item:M})}),R},m=function(b,v){var w=b.props,_=b.dataStartIndex,j=b.dataEndIndex,S=b.updateId;if(!iO({props:w}))return null;var N=w.children,k=w.layout,C=w.stackOffset,E=w.data,I=w.reverseStackOrder,O=RR(k),B=O.numericAxisName,T=O.cateAxisName,V=xa(N,n),L=tSe(E,V,"".concat(B,"Id"),"".concat(T,"Id"),C,I),K=c.reduce(function(D,ie){var ve="".concat(ie.axisType,"Map");return re(re({},D),{},Ge({},ve,PAe(w,re(re({},ie),{},{graphicalItems:V,stackGroups:ie.axisType===B&&L,dataStartIndex:_,dataEndIndex:j}))))},{}),R=TAe(re(re({},K),{},{props:w,graphicalItems:V}),v==null?void 0:v.legendBBox);Object.keys(K).forEach(function(D){K[D]=d(w,K[D],R,D.replace("Map",""),r)});var M=K["".concat(T,"Map")],$=OAe(M),ee=h(w,re(re({},K),{},{dataStartIndex:_,dataEndIndex:j,updateId:S,graphicalItems:V,stackGroups:L,offset:R}));return re(re({formattedGraphicalItems:ee,graphicalItems:V,offset:R,stackGroups:L},$),K)},g=function(y){function b(v){var w,_,j;return fAe(this,b),j=pAe(this,b,[v]),Ge(j,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ge(j,"accessibilityManager",new JOe),Ge(j,"handleLegendBBoxUpdate",function(S){if(S){var N=j.state,k=N.dataStartIndex,C=N.dataEndIndex,E=N.updateId;j.setState(re({legendBBox:S},m({props:j.props,dataStartIndex:k,dataEndIndex:C,updateId:E},re(re({},j.state),{},{legendBBox:S}))))}}),Ge(j,"handleReceiveSyncEvent",function(S,N,k){if(j.props.syncId===S){if(k===j.eventEmitterSymbol&&typeof j.props.syncMethod!="function")return;j.applySyncEvent(N)}}),Ge(j,"handleBrushChange",function(S){var N=S.startIndex,k=S.endIndex;if(N!==j.state.dataStartIndex||k!==j.state.dataEndIndex){var C=j.state.updateId;j.setState(function(){return re({dataStartIndex:N,dataEndIndex:k},m({props:j.props,dataStartIndex:N,dataEndIndex:k,updateId:C},j.state))}),j.triggerSyncEvent({dataStartIndex:N,dataEndIndex:k})}}),Ge(j,"handleMouseEnter",function(S){var N=j.getMouseInfo(S);if(N){var k=re(re({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseEnter;nt(C)&&C(k,S)}}),Ge(j,"triggeredAfterMouseMove",function(S){var N=j.getMouseInfo(S),k=N?re(re({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};j.setState(k),j.triggerSyncEvent(k);var C=j.props.onMouseMove;nt(C)&&C(k,S)}),Ge(j,"handleItemMouseEnter",function(S){j.setState(function(){return{isTooltipActive:!0,activeItem:S,activePayload:S.tooltipPayload,activeCoordinate:S.tooltipPosition||{x:S.cx,y:S.cy}}})}),Ge(j,"handleItemMouseLeave",function(){j.setState(function(){return{isTooltipActive:!1}})}),Ge(j,"handleMouseMove",function(S){S.persist(),j.throttleTriggeredAfterMouseMove(S)}),Ge(j,"handleMouseLeave",function(S){j.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};j.setState(N),j.triggerSyncEvent(N);var k=j.props.onMouseLeave;nt(k)&&k(N,S)}),Ge(j,"handleOuterEvent",function(S){var N=Uue(S),k=Is(j.props,"".concat(N));if(N&&nt(k)){var C,E;/.*touch.*/i.test(N)?E=j.getMouseInfo(S.changedTouches[0]):E=j.getMouseInfo(S),k((C=E)!==null&&C!==void 0?C:{},S)}}),Ge(j,"handleClick",function(S){var N=j.getMouseInfo(S);if(N){var k=re(re({},N),{},{isTooltipActive:!0});j.setState(k),j.triggerSyncEvent(k);var C=j.props.onClick;nt(C)&&C(k,S)}}),Ge(j,"handleMouseDown",function(S){var N=j.props.onMouseDown;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleMouseUp",function(S){var N=j.props.onMouseUp;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleTouchMove",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.throttleTriggeredAfterMouseMove(S.changedTouches[0])}),Ge(j,"handleTouchStart",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseDown(S.changedTouches[0])}),Ge(j,"handleTouchEnd",function(S){S.changedTouches!=null&&S.changedTouches.length>0&&j.handleMouseUp(S.changedTouches[0])}),Ge(j,"handleDoubleClick",function(S){var N=j.props.onDoubleClick;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"handleContextMenu",function(S){var N=j.props.onContextMenu;if(nt(N)){var k=j.getMouseInfo(S);N(k,S)}}),Ge(j,"triggerSyncEvent",function(S){j.props.syncId!==void 0&&x0.emit(b0,j.props.syncId,S,j.eventEmitterSymbol)}),Ge(j,"applySyncEvent",function(S){var N=j.props,k=N.layout,C=N.syncMethod,E=j.state.updateId,I=S.dataStartIndex,O=S.dataEndIndex;if(S.dataStartIndex!==void 0||S.dataEndIndex!==void 0)j.setState(re({dataStartIndex:I,dataEndIndex:O},m({props:j.props,dataStartIndex:I,dataEndIndex:O,updateId:E},j.state)));else if(S.activeTooltipIndex!==void 0){var B=S.chartX,T=S.chartY,V=S.activeTooltipIndex,L=j.state,K=L.offset,R=L.tooltipTicks;if(!K)return;if(typeof C=="function")V=C(R,S);else if(C==="value"){V=-1;for(var M=0;M<R.length;M++)if(R[M].value===S.activeLabel){V=M;break}}var $=re(re({},K),{},{x:K.left,y:K.top}),ee=Math.min(B,$.x+$.width),D=Math.min(T,$.y+$.height),ie=R[V]&&R[V].value,ve=V1(j.state,j.props.data,V),Ve=R[V]?{x:k==="horizontal"?R[V].coordinate:ee,y:k==="horizontal"?D:R[V].coordinate}:Tq;j.setState(re(re({},S),{},{activeLabel:ie,activeCoordinate:Ve,activePayload:ve,activeTooltipIndex:V}))}else j.setState(S)}),Ge(j,"renderCursor",function(S){var N,k=j.state,C=k.isTooltipActive,E=k.activeCoordinate,I=k.activePayload,O=k.offset,B=k.activeTooltipIndex,T=k.tooltipAxisBandSize,V=j.getTooltipEventType(),L=(N=S.props.active)!==null&&N!==void 0?N:C,K=j.props.layout,R=S.key||"_recharts-cursor";return A.createElement(aAe,{key:R,activeCoordinate:E,activePayload:I,activeTooltipIndex:B,chartName:r,element:S,isActive:L,layout:K,offset:O,tooltipAxisBandSize:T,tooltipEventType:V})}),Ge(j,"renderPolarAxis",function(S,N,k){var C=Is(S,"type.axisType"),E=Is(j.state,"".concat(C,"Map")),I=S.type.defaultProps,O=I!==void 0?re(re({},I),S.props):S.props,B=E&&E[O["".concat(C,"Id")]];return x.cloneElement(S,re(re({},B),{},{className:jt(C,B.className),key:S.key||"".concat(N,"-").concat(k),ticks:Ni(B,!0)}))}),Ge(j,"renderPolarGrid",function(S){var N=S.props,k=N.radialLines,C=N.polarAngles,E=N.polarRadius,I=j.state,O=I.radiusAxisMap,B=I.angleAxisMap,T=No(O),V=No(B),L=V.cx,K=V.cy,R=V.innerRadius,M=V.outerRadius;return x.cloneElement(S,{polarAngles:Array.isArray(C)?C:Ni(V,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(E)?E:Ni(T,!0).map(function($){return $.coordinate}),cx:L,cy:K,innerRadius:R,outerRadius:M,key:S.key||"polar-grid",radialLines:k})}),Ge(j,"renderLegend",function(){var S=j.state.formattedGraphicalItems,N=j.props,k=N.children,C=N.width,E=N.height,I=j.props.margin||{},O=C-(I.left||0)-(I.right||0),B=bB({children:k,formattedGraphicalItems:S,legendWidth:O,legendContent:u});if(!B)return null;var T=B.item,V=PR(B,iAe);return x.cloneElement(T,re(re({},V),{},{chartWidth:C,chartHeight:E,margin:I,onBBoxUpdate:j.handleLegendBBoxUpdate}))}),Ge(j,"renderTooltip",function(){var S,N=j.props,k=N.children,C=N.accessibilityLayer,E=rs(k,Ss);if(!E)return null;var I=j.state,O=I.isTooltipActive,B=I.activeCoordinate,T=I.activePayload,V=I.activeLabel,L=I.offset,K=(S=E.props.active)!==null&&S!==void 0?S:O;return x.cloneElement(E,{viewBox:re(re({},L),{},{x:L.left,y:L.top}),active:K,label:V,payload:K?T:[],coordinate:B,accessibilityLayer:C})}),Ge(j,"renderBrush",function(S){var N=j.props,k=N.margin,C=N.data,E=j.state,I=E.offset,O=E.dataStartIndex,B=E.dataEndIndex,T=E.updateId;return x.cloneElement(S,{key:S.key||"_recharts-brush",onChange:vg(j.handleBrushChange,S.props.onChange),data:C,x:we(S.props.x)?S.props.x:I.left,y:we(S.props.y)?S.props.y:I.top+I.height+I.brushBottom-(k.bottom||0),width:we(S.props.width)?S.props.width:I.width,startIndex:O,endIndex:B,updateId:"brush-".concat(T)})}),Ge(j,"renderReferenceElement",function(S,N,k){if(!S)return null;var C=j,E=C.clipPathId,I=j.state,O=I.xAxisMap,B=I.yAxisMap,T=I.offset,V=S.type.defaultProps||{},L=S.props,K=L.xAxisId,R=K===void 0?V.xAxisId:K,M=L.yAxisId,$=M===void 0?V.yAxisId:M;return x.cloneElement(S,{key:S.key||"".concat(N,"-").concat(k),xAxis:O[R],yAxis:B[$],viewBox:{x:T.left,y:T.top,width:T.width,height:T.height},clipPathId:E})}),Ge(j,"renderActivePoints",function(S){var N=S.item,k=S.activePoint,C=S.basePoint,E=S.childIndex,I=S.isRange,O=[],B=N.props.key,T=N.item.type.defaultProps!==void 0?re(re({},N.item.type.defaultProps),N.item.props):N.item.props,V=T.activeDot,L=T.dataKey,K=re(re({index:E,dataKey:L,cx:k.x,cy:k.y,r:4,fill:Kk(N.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value},mt(V,!1)),Vv(V));return O.push(b.renderActiveDot(V,K,"".concat(B,"-activePoint-").concat(E))),C?O.push(b.renderActiveDot(V,re(re({},K),{},{cx:C.x,cy:C.y}),"".concat(B,"-basePoint-").concat(E))):I&&O.push(null),O}),Ge(j,"renderGraphicChild",function(S,N,k){var C=j.filterFormatItem(S,N,k);if(!C)return null;var E=j.getTooltipEventType(),I=j.state,O=I.isTooltipActive,B=I.tooltipAxis,T=I.activeTooltipIndex,V=I.activeLabel,L=j.props.children,K=rs(L,Ss),R=C.props,M=R.points,$=R.isRange,ee=R.baseLine,D=C.item.type.defaultProps!==void 0?re(re({},C.item.type.defaultProps),C.item.props):C.item.props,ie=D.activeDot,ve=D.hide,Ve=D.activeBar,Ke=D.activeShape,de=!!(!ve&&O&&K&&(ie||Ve||Ke)),qe={};E!=="axis"&&K&&K.props.trigger==="click"?qe={onClick:vg(j.handleItemMouseEnter,S.props.onClick)}:E!=="axis"&&(qe={onMouseLeave:vg(j.handleItemMouseLeave,S.props.onMouseLeave),onMouseEnter:vg(j.handleItemMouseEnter,S.props.onMouseEnter)});var ae=x.cloneElement(S,re(re({},C.props),qe));function je(H){return typeof B.dataKey=="function"?B.dataKey(H.payload):null}if(de)if(T>=0){var Y,Q;if(B.dataKey&&!B.allowDuplicatedCategory){var Xe=typeof B.dataKey=="function"?je:"payload.".concat(B.dataKey.toString());Y=Wv(M,Xe,V),Q=$&&ee&&Wv(ee,Xe,V)}else Y=M==null?void 0:M[T],Q=$&&ee&&ee[T];if(Ke||Ve){var He=S.props.activeIndex!==void 0?S.props.activeIndex:T;return[x.cloneElement(S,re(re(re({},C.props),qe),{},{activeIndex:He})),null,null]}if(!yt(Y))return[ae].concat(Ud(j.renderActivePoints({item:C,activePoint:Y,basePoint:Q,childIndex:T,isRange:$})))}else{var xt,ct=(xt=j.getItemByXY(j.state.activeCoordinate))!==null&&xt!==void 0?xt:{graphicalItem:ae},zt=ct.graphicalItem,Sr=zt.item,dn=Sr===void 0?S:Sr,ys=zt.childIndex,F=re(re(re({},C.props),qe),{},{activeIndex:ys});return[x.cloneElement(dn,F),null,null]}return $?[ae,null,null]:[ae,null]}),Ge(j,"renderCustomized",function(S,N,k){return x.cloneElement(S,re(re({key:"recharts-customized-".concat(k)},j.props),j.state))}),Ge(j,"renderMap",{CartesianGrid:{handler:jg,once:!0},ReferenceArea:{handler:j.renderReferenceElement},ReferenceLine:{handler:jg},ReferenceDot:{handler:j.renderReferenceElement},XAxis:{handler:jg},YAxis:{handler:jg},Brush:{handler:j.renderBrush,once:!0},Bar:{handler:j.renderGraphicChild},Line:{handler:j.renderGraphicChild},Area:{handler:j.renderGraphicChild},Radar:{handler:j.renderGraphicChild},RadialBar:{handler:j.renderGraphicChild},Scatter:{handler:j.renderGraphicChild},Pie:{handler:j.renderGraphicChild},Funnel:{handler:j.renderGraphicChild},Tooltip:{handler:j.renderCursor,once:!0},PolarGrid:{handler:j.renderPolarGrid,once:!0},PolarAngleAxis:{handler:j.renderPolarAxis},PolarRadiusAxis:{handler:j.renderPolarAxis},Customized:{handler:j.renderCustomized}}),j.clipPathId="".concat((w=v.id)!==null&&w!==void 0?w:gp("recharts"),"-clip"),j.throttleTriggeredAfterMouseMove=bU(j.triggeredAfterMouseMove,(_=v.throttleDelay)!==null&&_!==void 0?_:1e3/60),j.state={},j}return yAe(b,y),mAe(b,[{key:"componentDidMount",value:function(){var w,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,_=w.children,j=w.data,S=w.height,N=w.layout,k=rs(_,Ss);if(k){var C=k.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var E=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,I=V1(this.state,j,C,E),O=this.state.tooltipTicks[C].coordinate,B=(this.state.offset.top+S)/2,T=N==="horizontal",V=T?{x:O,y:B}:{y:O,x:B},L=this.state.formattedGraphicalItems.find(function(R){var M=R.item;return M.type.name==="Scatter"});L&&(V=re(re({},V),L.props.points[C].tooltipPosition),I=L.props.points[C].tooltipPayload);var K={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:E,activePayload:I,activeCoordinate:V};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var j,S;this.accessibilityManager.setDetails({offset:{left:(j=this.props.margin.left)!==null&&j!==void 0?j:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0}})}return null}},{key:"componentDidUpdate",value:function(w){S_([rs(w.children,Ss)],[rs(this.props.children,Ss)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=rs(this.props.children,Ss);if(w&&typeof w.props.shared=="boolean"){var _=w.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var _=this.container,j=_.getBoundingClientRect(),S=hwe(j),N={chartX:Math.round(w.pageX-S.left),chartY:Math.round(w.pageY-S.top)},k=j.width/_.offsetWidth||1,C=this.inRange(N.chartX,N.chartY,k);if(!C)return null;var E=this.state,I=E.xAxisMap,O=E.yAxisMap,B=this.getTooltipEventType(),T=AR(this.state,this.props.data,this.props.layout,C);if(B!=="axis"&&I&&O){var V=No(I).scale,L=No(O).scale,K=V&&V.invert?V.invert(N.chartX):null,R=L&&L.invert?L.invert(N.chartY):null;return re(re({},N),{},{xValue:K,yValue:R},T)}return T?re(re({},N),T):null}},{key:"inRange",value:function(w,_){var j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,S=this.props.layout,N=w/j,k=_/j;if(S==="horizontal"||S==="vertical"){var C=this.state.offset,E=N>=C.left&&N<=C.left+C.width&&k>=C.top&&k<=C.top+C.height;return E?{x:N,y:k}:null}var I=this.state,O=I.angleAxisMap,B=I.radiusAxisMap;if(O&&B){var T=No(O);return gT({x:N,y:k},T)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,_=this.getTooltipEventType(),j=rs(w,Ss),S={};j&&_==="axis"&&(j.props.trigger==="click"?S={onClick:this.handleClick}:S={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Vv(this.props,this.handleOuterEvent);return re(re({},N),S)}},{key:"addListener",value:function(){x0.on(b0,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){x0.removeListener(b0,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,_,j){for(var S=this.state.formattedGraphicalItems,N=0,k=S.length;N<k;N++){var C=S[N];if(C.item===w||C.props.key===w.key||_===Pi(C.item.type)&&j===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,_=this.state.offset,j=_.left,S=_.top,N=_.height,k=_.width;return A.createElement("defs",null,A.createElement("clipPath",{id:w},A.createElement("rect",{x:j,y:S,height:N,width:k})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=ER(j,2),N=S[0],k=S[1];return re(re({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(_,j){var S=ER(j,2),N=S[0],k=S[1];return re(re({},_),{},Ge({},N,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(w){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[w])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(w){var _=this.state,j=_.formattedGraphicalItems,S=_.activeItem;if(j&&j.length)for(var N=0,k=j.length;N<k;N++){var C=j[N],E=C.props,I=C.item,O=I.type.defaultProps!==void 0?re(re({},I.type.defaultProps),I.props):I.props,B=Pi(I.type);if(B==="Bar"){var T=(E.data||[]).find(function(R){return Zke(w,R)});if(T)return{graphicalItem:C,payload:T}}else if(B==="RadialBar"){var V=(E.data||[]).find(function(R){return gT(w,R)});if(V)return{graphicalItem:C,payload:V}}else if(Eb(C,S)||Pb(C,S)||Im(C,S)){var L=r2e({graphicalItem:C,activeTooltipItem:S,itemData:O.data}),K=O.activeIndex===void 0?L:O.activeIndex;return{graphicalItem:re(re({},C),{},{childIndex:K}),payload:Im(C,S)?O.data[L]:C.props.data[L]}}}return null}},{key:"render",value:function(){var w=this;if(!iO(this))return null;var _=this.props,j=_.children,S=_.className,N=_.width,k=_.height,C=_.style,E=_.compact,I=_.title,O=_.desc,B=PR(_,oAe),T=mt(B,!1);if(E)return A.createElement(dR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement(k_,_u({},T,{width:N,height:k,title:I,desc:O}),this.renderClipPath(),lO(j,this.renderMap)));if(this.props.accessibilityLayer){var V,L;T.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,T.role=(L=this.props.role)!==null&&L!==void 0?L:"application",T.onKeyDown=function(R){w.accessibilityManager.keyboardEvent(R)},T.onFocus=function(){w.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return A.createElement(dR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},A.createElement("div",_u({className:jt("recharts-wrapper",S),style:re({position:"relative",cursor:"default",width:N,height:k},C)},K,{ref:function(M){w.container=M}}),A.createElement(k_,_u({},T,{width:N,height:k,title:I,desc:O,style:SAe}),this.renderClipPath(),lO(j,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);Ge(g,"displayName",r),Ge(g,"defaultProps",re({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ge(g,"getDerivedStateFromProps",function(y,b){var v=y.dataKey,w=y.data,_=y.children,j=y.width,S=y.height,N=y.layout,k=y.stackOffset,C=y.margin,E=b.dataStartIndex,I=b.dataEndIndex;if(b.updateId===void 0){var O=TR(y);return re(re(re({},O),{},{updateId:0},m(re(re({props:y},O),{},{updateId:0}),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(v!==b.prevDataKey||w!==b.prevData||j!==b.prevWidth||S!==b.prevHeight||N!==b.prevLayout||k!==b.prevStackOffset||!Mu(C,b.prevMargin)){var B=TR(y),T={chartX:b.chartX,chartY:b.chartY,isTooltipActive:b.isTooltipActive},V=re(re({},AR(b,w,N)),{},{updateId:b.updateId+1}),L=re(re(re({},B),T),V);return re(re(re({},L),m(re({props:y},L),b)),{},{prevDataKey:v,prevData:w,prevWidth:j,prevHeight:S,prevLayout:N,prevStackOffset:k,prevMargin:C,prevChildren:_})}if(!S_(_,b.prevChildren)){var K,R,M,$,ee=rs(_,Od),D=ee&&(K=(R=ee.props)===null||R===void 0?void 0:R.startIndex)!==null&&K!==void 0?K:E,ie=ee&&(M=($=ee.props)===null||$===void 0?void 0:$.endIndex)!==null&&M!==void 0?M:I,ve=D!==E||ie!==I,Ve=!yt(w),Ke=Ve&&!ve?b.updateId:b.updateId+1;return re(re({updateId:Ke},m(re(re({props:y},b),{},{updateId:Ke,dataStartIndex:D,dataEndIndex:ie}),b)),{},{prevChildren:_,dataStartIndex:D,dataEndIndex:ie})}return null}),Ge(g,"renderActiveDot",function(y,b,v){var w;return x.isValidElement(y)?w=x.cloneElement(y,b):nt(y)?w=y(b):w=A.createElement(Gk,b),A.createElement(dr,{className:"recharts-active-dot",key:v},w)});var p=x.forwardRef(function(b,v){return A.createElement(g,_u({},b,{ref:v}))});return p.displayName=g.displayName,p},MAe=Mq({chartName:"BarChart",GraphicalChild:$c,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sc},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:QB}),$q=Mq({chartName:"AreaChart",GraphicalChild:to,axisComponents:[{axisType:"xAxis",AxisComp:Sc},{axisType:"yAxis",AxisComp:Nc}],formatAxisMap:QB});const Pa={getProviders:async()=>{const{data:e,error:t}=await z.from("model_providers").select("*").order("priority",{ascending:!1}).order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProvider:async e=>{const{data:t,error:r}=await z.from("model_providers").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProvider:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("model_providers").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProvider:async(e,t)=>{const{data:r,error:n}=await z.from("model_providers").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProvider:async e=>{const{error:t}=await z.from("model_providers").delete().eq("id",e);if(t)throw new Error(t.message)},getRequests:async e=>{let t=z.from("model_requests").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.status&&(t=t.eq("status",e.status)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getRequest:async e=>{const{data:t,error:r}=await z.from("model_requests").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createRequest:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("model_requests").insert(r).select().single();if(s)throw new Error(s.message);return n},updateRequest:async(e,t)=>{const{data:r,error:n}=await z.from("model_requests").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getUsageMetrics:async e=>{let t=z.from("usage_metrics").select("*").order("created_at",{ascending:!1});e!=null&&e.providerId&&(t=t.eq("provider_id",e.providerId)),e!=null&&e.since&&(t=t.gte("created_at",e.since)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getUsageSummary:async e=>{const t=await Pa.getUsageMetrics({limit:1e4,providerId:e==null?void 0:e.providerId,since:e==null?void 0:e.since}),r=t.reduce((i,o)=>i+o.token_count_input,0),n=t.reduce((i,o)=>i+o.token_count_output,0),s=new Set(t.map(i=>i.request_id));return{totalInputTokens:r,totalOutputTokens:n,requestCount:s.size}},createUsageMetric:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("usage_metrics").insert(r).select().single();if(s)throw new Error(s.message);return n},getConfigurationOverrides:async e=>{if(!e)return null;const{data:t,error:r}=await z.from("configuration_overrides").select("*").eq("request_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},getConfigurationOverridesByRequestIds:async e=>{if(e.length===0)return[];const{data:t,error:r}=await z.from("configuration_overrides").select("*").in("request_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},upsertConfigurationOverride:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("configuration_overrides").upsert({request_id:r.request_id,user_id:r.user_id,model_name:r.model_name??null,temperature:r.temperature??null,max_tokens:r.max_tokens??null,parameters:r.parameters??{}},{onConflict:"request_id"}).select().single();if(s)throw new Error(s.message);return n},updateConfigurationOverride:async(e,t)=>{const{data:r,error:n}=await z.from("configuration_overrides").update(t).eq("request_id",e).select().single();if(n)throw new Error(n.message);return r}};function sC(e,t){return e().catch(()=>t)}const Or={all:["model-providers"],providers:()=>[...Or.all,"providers"],provider:e=>[...Or.all,"provider",e],requests:e=>[...Or.all,"requests",e],request:e=>[...Or.all,"request",e],usageMetrics:e=>[...Or.all,"usage-metrics",e],usageSummary:e=>[...Or.all,"usage-summary",e],configOverride:e=>[...Or.all,"config-override",e]};function $Ae(){return Ce({queryKey:Or.providers(),queryFn:()=>sC(()=>Pa.getProviders(),[])})}function IAe(){const e=me();return fe({mutationFn:t=>Pa.createProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Or.providers()}),W.success("Provider added")},onError:t=>{W.error(t.message||"Failed to add provider")}})}function DAe(){const e=me();return fe({mutationFn:({id:t,data:r})=>Pa.updateProvider(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Or.providers()}),e.invalidateQueries({queryKey:Or.provider(r)}),W.success("Provider updated")},onError:t=>{W.error(t.message||"Failed to update provider")}})}function LAe(){const e=me();return fe({mutationFn:t=>Pa.deleteProvider(t),onSuccess:()=>{e.invalidateQueries({queryKey:Or.providers()}),e.invalidateQueries({queryKey:Or.requests()}),W.success("Provider removed")},onError:t=>{W.error(t.message||"Failed to remove provider")}})}function FAe(e){return Ce({queryKey:Or.requests(e),queryFn:()=>sC(()=>Pa.getRequests(e),[])})}function UAe(){const e=me();return fe({mutationFn:t=>Pa.createRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:Or.requests()}),W.success("Request logged")},onError:t=>{W.error(t.message||"Failed to log request")}})}function BAe(e){return Ce({queryKey:Or.usageMetrics(e),queryFn:()=>sC(()=>Pa.getUsageMetrics(e),[])})}function qAe(e){return Ce({queryKey:Or.usageSummary(e),queryFn:()=>Pa.getUsageSummary(e)})}function zAe(){const e=me();return fe({mutationFn:t=>Pa.createUsageMetric(t),onSuccess:()=>{e.invalidateQueries({queryKey:Or.usageMetrics()}),e.invalidateQueries({queryKey:Or.usageSummary()})},onError:t=>{W.error(t.message||"Failed to record usage")}})}function WAe(){const e=me();return fe({mutationFn:t=>Pa.upsertConfigurationOverride(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Or.configOverride(r.request_id)}),W.success("Configuration saved")},onError:t=>{W.error(t.message||"Failed to save configuration")}})}const MR={openai:"OpenAI",anthropic:"Anthropic",local:"Local",ollama:"Ollama",vllm:"vLLM",custom:"Custom"},VAe=ft({name:_e().min(1,"Name is required").max(128),slug:nr(["openai","anthropic","local","ollama","vllm","custom"]),api_endpoint_base:_e().url().optional().or(WN("")),priority:cs.number().int().min(0).max(999),is_default:ai(),status:nr(["active","inactive","error"])});function KAe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,provider:s}){const i=!!s,o=ut({resolver:dt(VAe),defaultValues:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"}});x.useEffect(()=>{e&&o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:{name:"",slug:"openai",api_endpoint_base:"",priority:0,is_default:!1,status:"active"})},[e,s,o]);const l=o.handleSubmit(u=>{r({name:u.name,slug:u.slug,api_endpoint_base:u.api_endpoint_base||null,priority:u.priority,is_default:u.is_default,status:u.status}),o.reset()}),c=u=>{u||o.reset(s?{name:s.name,slug:s.slug,api_endpoint_base:s.api_endpoint_base??"",priority:s.priority,is_default:s.is_default,status:s.status}:void 0),t(u)};return a.jsx(Me,{open:e,onOpenChange:c,children:a.jsxs(Oe,{className:"max-w-md",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:i?"Edit provider":"Add provider"}),a.jsx(Re,{children:i?"Update model provider settings and priority.":"Register a new AI model provider (OpenAI, Anthropic, local, etc.)."})]}),a.jsxs("form",{onSubmit:l,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"name",children:"Name"}),a.jsx(ye,{id:"name",placeholder:"e.g. OpenAI GPT-4",...o.register("name"),className:J(o.formState.errors.name&&"border-destructive")}),o.formState.errors.name&&a.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Provider type"}),a.jsxs(ot,{value:o.watch("slug"),onValueChange:u=>o.setValue("slug",u),disabled:i,children:[a.jsx(st,{children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(at,{children:Object.keys(MR).map(u=>a.jsx(Se,{value:u,children:MR[u]},u))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"api_endpoint_base",children:"API endpoint (optional)"}),a.jsx(ye,{id:"api_endpoint_base",placeholder:"https://api.openai.com/v1",...o.register("api_endpoint_base")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"priority",children:"Priority (higher = preferred)"}),a.jsx(ye,{id:"priority",type:"number",min:0,max:999,...o.register("priority")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-3",children:[a.jsx(G,{htmlFor:"is_default",className:"cursor-pointer",children:"Default provider"}),a.jsx(xr,{id:"is_default",checked:o.watch("is_default"),onCheckedChange:u=>o.setValue("is_default",u)})]}),i&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Status"}),a.jsxs(ot,{value:o.watch("status"),onValueChange:u=>o.setValue("status",u),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"inactive",children:"Inactive"}),a.jsx(Se,{value:"error",children:"Error"})]})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>c(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Update":"Add"})]})]})]})})}const HAe=ft({provider_id:_e().uuid().optional().nullable(),model_name:_e().max(128).optional(),temperature:cs.number().min(0).max(2).optional(),max_tokens:cs.number().int().min(1).max(128e3).optional()}),GAe={pending:"secondary",running:"default",completed:"secondary",failed:"destructive"},YAe={active:"success",inactive:"secondary",error:"destructive"};function QAe(){const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s]=x.useState(()=>KN(new Date,7).toISOString()),{data:i=[],isLoading:o}=$Ae(),{data:l=[],isLoading:c}=FAe({limit:50}),{data:u,isLoading:d}=qAe({since:s}),{data:f=[]}=BAe({limit:100,since:s}),h=IAe(),m=DAe(),g=LAe(),p=UAe(),y=zAe(),b=WAe(),v=ut({resolver:dt(HAe),defaultValues:{provider_id:null,model_name:"",temperature:.7,max_tokens:4096}}),w=S=>{r?m.mutate({id:r.id,data:{name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??void 0,priority:S.priority,is_default:S.is_default,status:S.status}},{onSettled:()=>{n(null),t(!1)}}):h.mutate({name:S.name,slug:S.slug,api_endpoint_base:S.api_endpoint_base??null,priority:S.priority,is_default:S.is_default,status:S.status},{onSuccess:()=>t(!1)})},_=v.handleSubmit(async S=>{var C,E;const N=S.provider_id??((C=i.find(I=>I.is_default))==null?void 0:C.id)??((E=i[0])==null?void 0:E.id)??null,k=await p.mutateAsync({provider_id:N,status:"pending"});await b.mutateAsync({request_id:k.id,model_name:S.model_name??null,temperature:S.temperature??null,max_tokens:S.max_tokens??null}),await y.mutateAsync({request_id:k.id,provider_id:N,token_count_input:0,token_count_output:0}),v.reset()}),j=f.slice().reverse().reduce((S,N)=>{const k=Ba(N.created_at,"yyyy-MM-dd");S.find(E=>E.date===k)||S.push({date:k,tokens:0,requests:0});const C=S.find(E=>E.date===k);return C&&(C.tokens+=N.token_count_input+N.token_count_output,C.requests+=1),S},[]);return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Model Providers"})}),a.jsxs(ii,{defaultValue:"request",className:"space-y-4",children:[a.jsxs(ka,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsxs(St,{value:"request",className:"gap-2",children:[a.jsx(cd,{className:"h-4 w-4"}),"Request"]}),a.jsxs(St,{value:"usage",className:"gap-2",children:[a.jsx(nh,{className:"h-4 w-4"}),"Usage"]}),a.jsxs(St,{value:"providers",className:"gap-2",children:[a.jsx(Ka,{className:"h-4 w-4"}),"Providers"]})]}),a.jsxs(Nt,{value:"request",className:"space-y-4",children:[a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"New request"}),a.jsx(pe,{children:"Select provider and optional overrides. Request will be logged for usage and history."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:_,className:"flex flex-col gap-4 sm:max-w-lg",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Provider"}),a.jsxs(ot,{value:v.watch("provider_id")??"",onValueChange:S=>v.setValue("provider_id",S||null),children:[a.jsx(st,{children:a.jsx(lt,{placeholder:"Default provider"})}),a.jsxs(at,{children:[i.map(S=>a.jsxs(Se,{value:S.id,children:[S.name," ",S.is_default&&"(default)"]},S.id)),i.length===0&&a.jsx(Se,{value:"_none",disabled:!0,children:"Add a provider first"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"model_name",children:"Model (optional)"}),a.jsx(ye,{id:"model_name",placeholder:"e.g. gpt-4o",...v.register("model_name")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"temperature",children:"Temperature"}),a.jsx(ye,{id:"temperature",type:"number",step:.1,min:0,max:2,...v.register("temperature")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"max_tokens",children:"Max tokens"}),a.jsx(ye,{id:"max_tokens",type:"number",...v.register("max_tokens")})]})]}),a.jsx(P,{type:"submit",disabled:p.isPending||i.length===0,children:p.isPending?"Submitting":"Log request"})]})})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Recent requests"}),a.jsx(pe,{children:"Last 50 model requests"})]}),a.jsx(Z,{children:c?a.jsx(ce,{className:"h-32 w-full rounded-lg"}):l.length===0?a.jsx("p",{className:"text-muted-foreground text-sm",children:"No requests yet. Submit a request above or run from chat/skills."}):a.jsx(pt,{className:"h-64",children:a.jsx("ul",{className:"space-y-2",children:l.map(S=>{var N;return a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border p-3 transition-colors hover:bg-secondary/50",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(vx,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:S.provider_id?((N=i.find(k=>k.id===S.provider_id))==null?void 0:N.name)??"Unknown":"No provider"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:_r(S.created_at,{addSuffix:!0})})]})]}),a.jsx(We,{variant:GAe[S.status],children:S.status})]},S.id)})})})})]})]}),a.jsxs(Nt,{value:"usage",className:"space-y-4",children:[d?a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsx(ce,{className:"h-24 rounded-lg"}),a.jsx(ce,{className:"h-24 rounded-lg"}),a.jsx(ce,{className:"h-24 rounded-lg"})]}):a.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total input tokens"}),a.jsx(xE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalInputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Total output tokens"}),a.jsx(xE,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.totalOutputTokens)??0})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-sm font-medium",children:"Requests (period)"}),a.jsx(v7,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("p",{className:"text-2xl font-bold",children:(u==null?void 0:u.requestCount)??0})})]})]}),a.jsxs(X,{className:"shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Usage over time"}),a.jsx(pe,{children:"Tokens and request count (last 7 days by default)"})]}),a.jsx(Z,{children:j.length===0?a.jsx("p",{className:"text-muted-foreground text-sm py-8 text-center",children:"No usage data in this period."}):a.jsx(H_,{width:"100%",height:280,children:a.jsxs($q,{data:j,children:[a.jsx(By,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Sc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Nc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ss,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"}}),a.jsx(to,{type:"monotone",dataKey:"tokens",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Tokens"})]})})})]})]}),a.jsxs(Nt,{value:"providers",className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Configure AI model providers (OpenAI, Anthropic, local). Priority and default control routing and failover."}),a.jsxs(P,{onClick:()=>{n(null),t(!0)},children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add provider"]})]}),o?a.jsx(ce,{className:"h-48 w-full rounded-lg"}):i.length===0?a.jsx(X,{className:"shadow-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Ka,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-center mb-4",children:"No providers yet. Add one to start logging requests and usage."}),a.jsxs(P,{onClick:()=>t(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add provider"]})]})}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:i.map(S=>a.jsxs(X,{className:"shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30",children:[a.jsxs(te,{className:"flex flex-row items-start justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[S.name,S.is_default&&a.jsx(We,{variant:"secondary",className:"text-xs",children:"Default"})]}),a.jsxs(pe,{className:"text-xs mt-1",children:[S.api_endpoint_base??S.slug," Priority ",S.priority]})]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{n(S),t(!0)},children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>g.mutate(S.id),children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]}),a.jsx(Z,{children:a.jsx(We,{variant:YAe[S.status],children:S.status})})]},S.id))})]})]}),a.jsx(KAe,{open:e,onOpenChange:t,onSubmit:w,isSubmitting:h.isPending||m.isPending,provider:r})]})}const Mn={getProfiles:async()=>{const{data:e,error:t}=await z.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await z.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await z.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await z.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await z.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await z.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await z.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await z.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await z.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await z.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await z.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await z.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=z.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await z.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},getCommands:async e=>{if(!e)return[];const{data:t,error:r}=await z.from("browser_commands").select("*").eq("browser_profile_id",e).order("sequence_order",{ascending:!0}).order("created_at",{ascending:!0});if(r)throw new Error(r.message);return t??[]},getCommand:async e=>{const{data:t,error:r}=await z.from("browser_commands").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCommand:async e=>{const{data:t,error:r}=await z.from("browser_commands").insert(e).select().single();if(r)throw new Error(r.message);return t},updateCommand:async(e,t)=>{const{data:r,error:n}=await z.from("browser_commands").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCommand:async e=>{const{error:t}=await z.from("browser_commands").delete().eq("id",e);if(t)throw new Error(t.message)},deleteCaptureRecord:async e=>{const{error:t}=await z.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await z.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await z.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await z.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await z.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function aC(e,t){return e().catch(()=>t)}const Vt={all:["browser"],profiles:()=>[...Vt.all,"profiles"],profile:e=>[...Vt.all,"profile",e??""],tabs:e=>[...Vt.all,"tabs",e??""],tab:e=>[...Vt.all,"tab",e??""],scripts:()=>[...Vt.all,"scripts"],script:e=>[...Vt.all,"script",e??""],captures:(e,t)=>[...Vt.all,"captures",e??"",t],commands:e=>[...Vt.all,"commands",e??""],command:e=>[...Vt.all,"command",e??""],cdpTokens:()=>[...Vt.all,"cdpTokens"],cdpToken:e=>[...Vt.all,"cdpToken",e??""]};function XAe(){return Ce({queryKey:Vt.profiles(),queryFn:()=>aC(()=>Mn.getProfiles(),[])})}function JAe(e){return Ce({queryKey:Vt.profile(e),queryFn:()=>e?Mn.getProfile(e):Promise.resolve(null),enabled:!!e})}function ZAe(){const e=me();return fe({mutationFn:t=>Mn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.profiles()}),W.success("Profile created")},onError:t=>{W.error(t.message||"Failed to create profile")}})}function eTe(){const e=me();return fe({mutationFn:({id:t,data:r})=>Mn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Vt.profiles()}),e.invalidateQueries({queryKey:Vt.profile(r)}),W.success("Profile updated")},onError:t=>{W.error(t.message||"Failed to update profile")}})}function tTe(e){return Ce({queryKey:Vt.tabs(e),queryFn:()=>Mn.getTabs(e),enabled:!!e})}function rTe(){return Ce({queryKey:Vt.scripts(),queryFn:()=>aC(()=>Mn.getScripts(),[])})}function nTe(){const e=me();return fe({mutationFn:t=>Mn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.scripts()}),W.success("Script added")},onError:t=>{W.error(t.message||"Failed to add script")}})}function sTe(e,t){return Ce({queryKey:Vt.captures(e,t),queryFn:()=>Mn.getCaptureRecords(e,t),enabled:!!e})}function aTe(){const e=me();return fe({mutationFn:t=>Mn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.captures(r.browser_profile_id)}),W.success("Capture saved")},onError:t=>{W.error(t.message||"Failed to save capture")}})}function iTe(){const e=me();return fe({mutationFn:t=>Mn.deleteCaptureRecord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),W.success("Capture removed")},onError:t=>{W.error(t.message||"Failed to remove capture")}})}function oTe(e){return Ce({queryKey:Vt.commands(e),queryFn:()=>Mn.getCommands(e),enabled:!!e})}function lTe(){const e=me();return fe({mutationFn:t=>Mn.createCommand(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Vt.commands(r.browser_profile_id)}),W.success("Command added to queue")},onError:t=>{W.error(t.message||"Failed to add command")}})}function cTe(){const e=me();return fe({mutationFn:t=>Mn.deleteCommand(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.all}),W.success("Command removed")},onError:t=>{W.error(t.message||"Failed to remove command")}})}function uTe(){return Ce({queryKey:Vt.cdpTokens(),queryFn:()=>aC(()=>Mn.getCdpTokens(),[])})}function dTe(){const e=me();return fe({mutationFn:t=>Mn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Vt.cdpTokens()}),W.success("CDP token added")},onError:t=>{W.error(t.message||"Failed to add CDP token")}})}function fTe({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(Re,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(tm,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function hTe({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(Re,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:J("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Xo,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const mTe=ft({name:_e().min(1,"Name is required").max(200,"Name too long"),script_content:_e().optional()}),$R={name:"",script_content:""};function pTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=ut({resolver:dt(mTe),defaultValues:$R}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o($R),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Add automation script"}),a.jsx(Re,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"script-name",children:"Script name"}),a.jsx(ye,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const gTe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},vTe={screenshot:em,pdf:or,dom:wv};function yTe({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=vTe[r],c=gTe[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(Re,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(P,{onClick:()=>{if(i==null||i(),n){const f=document.createElement("a");f.href=n,f.download=`capture-${r}-${Date.now()}`,f.click()}d()},children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const xTe=ft({connection_type:nr(["local","node_proxy"]),token_preview:_e().max(20).optional(),config_json:_e().optional()}),j0={connection_type:"local",token_preview:"",config_json:"{}"};function bTe({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(xTe),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:j0}),f=c("connection_type");x.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:j0)},[e,r,u]);const h=m=>{let g={};try{g=m.config_json?JSON.parse(m.config_json):{}}catch{g={}}n(r?{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}:{connection_type:m.connection_type,token_preview:m.token_preview||null,config_json:g}),u(j0),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(Re,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Connection type"}),a.jsxs(ot,{value:f,onValueChange:m=>l("connection_type",m),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"local",children:"Local"}),a.jsx(Se,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(bI,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(ye,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const wTe=[{value:"click",label:"Click"},{value:"type",label:"Type"},{value:"select",label:"Select"},{value:"navigate",label:"Navigate"},{value:"scroll",label:"Scroll"},{value:"wait",label:"Wait"},{value:"screenshot",label:"Screenshot"}],jTe=ft({command_type:nr(["click","type","select","navigate","scroll","wait","screenshot"]),selector:_e().optional(),text:_e().optional(),url:_e().url().optional().or(WN("")),value:_e().optional(),x:cs.number().optional(),y:cs.number().optional(),ms:cs.number().min(0).optional(),sequence_order:cs.number().min(0).optional()}),_0={command_type:"click",selector:"",text:"",url:"",value:"",sequence_order:0};function _Te({open:e,onOpenChange:t,browserProfileId:r,nextSequenceOrder:n,onSubmit:s,isSubmitting:i=!1}){const{register:o,handleSubmit:l,watch:c,setValue:u,reset:d,formState:{errors:f}}=ut({resolver:dt(jTe),defaultValues:{..._0,sequence_order:n}}),h=c("command_type");x.useEffect(()=>{e&&r&&d({..._0,sequence_order:n})},[e,r,n,d]);const m=p=>{var b,v;const y={};return(b=p.selector)!=null&&b.trim()&&(y.selector=p.selector.trim()),p.text!==void 0&&p.text!==""&&(y.text=p.text),(v=p.url)!=null&&v.trim()&&(y.url=p.url.trim()),p.value!==void 0&&p.value!==""&&(y.value=p.value),p.x!==void 0&&(y.x=p.x),p.y!==void 0&&(y.y=p.y),p.ms!==void 0&&(y.ms=p.ms),y},g=p=>{if(!r)return;const y=m(p);s({browser_profile_id:r,command_type:p.command_type,parameters:y,sequence_order:p.sequence_order??n,status:"pending"}),d({..._0,sequence_order:n+1}),t(!1)};return r?a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[480px]",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Add command to queue"}),a.jsx(Re,{children:"Add an automation command. Commands run in sequence within the deterministic tab control environment."})]}),a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Command type"}),a.jsxs(ot,{value:h,onValueChange:p=>u("command_type",p),children:[a.jsx(st,{className:"w-full",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsx(at,{children:wTe.map(({value:p,label:y})=>a.jsx(Se,{value:p,children:y},p))})]})]}),(h==="click"||h==="type"||h==="select"||h==="wait")&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"selector",children:"Selector (CSS or XPath)"}),a.jsx(ye,{id:"selector",placeholder:"e.g. #submit-btn or //button[text()='OK']",...o("selector"),className:f.selector?"border-destructive":""}),f.selector&&a.jsx("p",{className:"text-sm text-destructive",children:f.selector.message})]}),h==="type"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"text",children:"Text to type"}),a.jsx(ye,{id:"text",placeholder:"Text to enter",...o("text"),className:f.text?"border-destructive":""})]}),h==="select"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"value",children:"Option value"}),a.jsx(ye,{id:"value",placeholder:"Value to select",...o("value")})]}),h==="navigate"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"url",children:"URL"}),a.jsx(ye,{id:"url",type:"url",placeholder:"https://example.com",...o("url"),className:f.url?"border-destructive":""}),f.url&&a.jsx("p",{className:"text-sm text-destructive",children:f.url.message})]}),h==="scroll"&&a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"scroll-x",children:"X (px)"}),a.jsx(ye,{id:"scroll-x",type:"number",placeholder:"0",...o("x")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"scroll-y",children:"Y (px)"}),a.jsx(ye,{id:"scroll-y",type:"number",placeholder:"0",...o("y")})]})]}),h==="wait"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"ms",children:"Delay (ms)"}),a.jsx(ye,{id:"ms",type:"number",min:0,placeholder:"1000",...o("ms"),className:f.ms?"border-destructive":""}),f.ms&&a.jsx("p",{className:"text-sm text-destructive",children:f.ms.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"sequence_order",children:"Order in queue"}),a.jsx(ye,{id:"sequence_order",type:"number",min:0,...o("sequence_order"),className:f.sequence_order?"border-destructive":""}),f.sequence_order&&a.jsx("p",{className:"text-sm text-destructive",children:f.sequence_order.message})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:i,className:"transition-transform hover:scale-[1.02]",children:i?"Adding":"Add command"})]})]})]})}):null}const STe={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},NTe={screenshot:em,pdf:or,dom:wv};function kTe({open:e,onOpenChange:t,captures:r,onDownload:n,onDelete:s,isDeleting:i=!1}){const o=l=>{l.file_url&&window.open(l.file_url,"_blank","noopener,noreferrer")};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px] max-h-[85vh] flex flex-col",showClose:!0,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Captured outputs"}),a.jsx(Re,{children:"View, download, or delete captured screenshots, PDFs, and DOM snapshots from this session."})]}),a.jsx(pt,{className:"flex-1 min-h-[200px] rounded-lg border border-border",children:r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center text-muted-foreground",children:[a.jsx(em,{className:"h-12 w-12 mb-3 opacity-50"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No captures yet"}),a.jsx("p",{className:"text-sm mt-1",children:"Capture a screenshot, PDF, or DOM snapshot from the session to see them here."})]}):a.jsx("ul",{className:"p-2 space-y-2",children:r.map(l=>{const c=NTe[l.capture_type],u=STe[l.capture_type],d=new Date(l.created_at).toLocaleString(),f=!!l.file_url;return a.jsxs("li",{className:J("flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3","transition-shadow hover:shadow-md"),children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-md bg-primary/10 text-primary",children:a.jsx(c,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground truncate",title:l.file_path??l.file_url??"",children:l.file_path??l.file_url??d}),a.jsx("p",{className:"text-xs text-muted-foreground",children:d})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[f&&a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>o(l),"aria-label":"View in new tab",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Xo,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>n(l),"aria-label":"Download",className:"h-8 w-8 transition-transform hover:scale-105",children:a.jsx(Ir,{className:"h-4 w-4"})}),a.jsx(P,{variant:"ghost",size:"icon",onClick:()=>s(l.id),disabled:i,"aria-label":"Delete",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",children:a.jsx(en,{className:"h-4 w-4"})})]})]},l.id)})})})]})})}const CTe={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"},IR={click:"Click",type:"Type",select:"Select",navigate:"Navigate",scroll:"Scroll",wait:"Wait",screenshot:"Screenshot"};function ETe(){const[e,t]=x.useState(null),[r,n]=x.useState(null),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(!1),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(!1),[y,b]=x.useState(!1),{data:v=[],isLoading:w}=XAe(),_=x.useMemo(()=>v.find(Y=>Y.status==="running")??v[0]??null,[v]),j=r??(_==null?void 0:_.id)??null,{data:S}=JAe(j),{data:N=[],isLoading:k,refetch:C}=tTe(j),{data:E=[],isLoading:I}=rTe(),{data:O=[]}=sTe(j,{limit:20}),{data:B=[]}=uTe(),{data:T=[],isLoading:V}=oTe(j),L=eTe(),K=ZAe(),R=nTe(),M=aTe(),$=iTe(),ee=dTe(),D=lTe(),ie=cTe(),ve=(S==null?void 0:S.status)==="running",Ve=x.useMemo(()=>T.length===0?0:Math.max(...T.map(Y=>Y.sequence_order),0)+1,[T]),Ke=Y=>{j&&t({open:!0,action:Y})},de=()=>{if(!e||!j)return;const Y=e.action==="start"?"running":"stopped";L.mutate({id:j,data:{status:Y}},{onSettled:()=>t(null)})},qe=Y=>{j&&M.mutate({browser_profile_id:j,capture_type:Y,file_path:null,file_url:`/api/browser/captures/${Y}-${Date.now()}`,tab_id:null},{onSuccess:Q=>{f({open:!0,type:Y,fileUrl:Q.file_url,filePath:Q.file_path})}})},ae=Y=>{if(Y.file_url){const Q=document.createElement("a");Q.href=Y.file_url,Q.download=`capture-${Y.capture_type}-${Date.now()}`,Q.click()}},je=x.useMemo(()=>{const Y=[];return T.slice(0,5).forEach(Q=>{Y.push({id:Q.id,label:`${IR[Q.command_type]}  ${Q.status}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),O.slice(0,3).forEach(Q=>{Y.push({id:Q.id,label:`Capture: ${Q.capture_type}`,time:new Date(Q.created_at).toLocaleTimeString(),createdAt:Q.created_at})}),Y.sort((Q,Xe)=>Xe.createdAt.localeCompare(Q.createdAt)).slice(0,8).map(({id:Q,label:Xe,time:He})=>({id:Q,label:Xe,time:He}))},[T,O]);return a.jsxs("div",{className:"flex flex-col h-full animate-fade-in-up",children:[a.jsxs("header",{className:"shrink-0 mb-4",children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Managed Chromium profile, command queue, and capture tools. Control your session from the footer."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-4 flex-1 min-h-0",children:[a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(wI,{className:"h-5 w-5 text-primary"}),"Command Queue"]}),a.jsxs(P,{size:"sm",onClick:()=>p(!0),disabled:!j||D.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(pe,{children:"Add and manage automation commands. They run in sequence."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?V?a.jsx("ul",{className:"space-y-2",children:[1,2,3].map(Y=>a.jsx(ce,{className:"h-10 rounded-md"},Y))}):T.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(d7,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No commands in queue"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a command to run automations."}),a.jsxs(P,{className:"mt-3 transition-transform hover:scale-[1.02]",variant:"outline",size:"sm",onClick:()=>p(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add command"]})]}):a.jsx(pt,{className:"flex-1 -mx-1 px-1",children:a.jsx("ul",{className:"space-y-1",children:T.map(Y=>a.jsxs("li",{className:"flex items-center gap-2 rounded-md border border-border bg-secondary/30 px-2 py-1.5 group",children:[a.jsx("span",{className:"text-xs text-muted-foreground w-6 shrink-0",children:Y.sequence_order+1}),a.jsx("span",{className:"truncate text-sm flex-1",children:IR[Y.command_type]}),a.jsx(We,{variant:"secondary",className:"text-xs shrink-0",children:Y.status}),a.jsx(P,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>ie.mutate(Y.id),disabled:ie.isPending,"aria-label":"Remove command",children:a.jsx(en,{className:"h-3 w-3"})})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or create a profile to add commands."})})]}),a.jsxs(X,{className:"lg:col-span-6 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(bx,{className:"h-5 w-5 text-primary"}),"Browser Viewport"]}),j&&a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("select",{className:"rounded-md border border-input bg-background px-2 py-1.5 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:j,onChange:Y=>n(Y.target.value||null),children:v.map(Y=>a.jsxs("option",{value:Y.id,children:["Profile  ",CTe[Y.status]??Y.status]},Y.id))}),a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ve||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ve||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(tm,{className:"h-4 w-4 mr-1"}),"Stop"]}),a.jsx(P,{variant:"ghost",size:"sm",onClick:()=>C(),disabled:k||!ve,children:a.jsx(Jd,{className:J("h-4 w-4",k&&"animate-spin")})})]})]}),a.jsx(pe,{children:"Tab inspector and active session. Start the profile to see tabs."})]}),a.jsx(Z,{className:"flex-1 flex flex-col min-h-0",children:j?k?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:[1,2,3,4].map(Y=>a.jsx(ce,{className:"h-24 rounded-lg"},Y))}):N.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center flex-1 rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(bE,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:ve?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(pt,{className:"flex-1",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:N.map(Y=>a.jsxs("button",{type:"button",onClick:()=>{i(Y),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[Y.snapshot_url?a.jsx("img",{src:Y.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(bE,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:Y.title??Y.url,children:Y.title||Y.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:Y.url,children:Y.url||""})]})]},Y.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a profile to start."})})]}),a.jsxs(X,{className:"lg:col-span-3 shadow-card transition-shadow hover:shadow-card-hover flex flex-col min-h-[280px]",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(em,{className:"h-5 w-5 text-primary"}),"Output Capture"]}),a.jsx(pe,{children:"Screenshot, PDF, or DOM snapshot. View and manage captures below."})]}),a.jsxs(Z,{className:"flex-1 flex flex-col gap-3 min-h-0",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>qe("screenshot"),disabled:!j||!ve||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(em,{className:"h-4 w-4 mr-1"}),"Screenshot"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>qe("pdf"),disabled:!j||!ve||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(or,{className:"h-4 w-4 mr-1"}),"PDF"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>qe("dom"),disabled:!j||!ve||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(wv,{className:"h-4 w-4 mr-1"}),"DOM"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Recent"}),a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>b(!0),className:"text-primary hover:text-primary",children:["Manage",a.jsx(Tr,{className:"h-4 w-4 ml-0.5"})]})]}),O.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No captures yet."}):a.jsx(pt,{className:"flex-1",children:a.jsx("ul",{className:"space-y-1",children:O.slice(0,5).map(Y=>a.jsxs("li",{className:"flex items-center justify-between rounded-md border border-border bg-secondary/30 px-2 py-1.5 text-sm",children:[a.jsx("span",{children:Y.capture_type}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(Y.created_at).toLocaleDateString()})]},Y.id))})})]})]})]})]}),a.jsx("footer",{className:"shrink-0 mt-4 pt-4 border-t border-border",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Session"}),v.length>0&&j&&a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>Ke("start"),disabled:ve||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ha,{className:"h-4 w-4 mr-1"}),"Start"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>Ke("stop"),disabled:!ve||L.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(tm,{className:"h-4 w-4 mr-1"}),"Stop"]})]}),v.length===0&&a.jsx(P,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,children:K.isPending?"Creating":"Create profile"})]}),a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(vx,{className:"h-4 w-4 text-muted-foreground shrink-0"}),a.jsx(pt,{className:"max-w-full",children:a.jsx("div",{className:"flex gap-2 text-xs text-muted-foreground",children:je.length===0?a.jsx("span",{children:"No activity yet"}):je.map(Y=>a.jsx("span",{className:"shrink-0 whitespace-nowrap",title:Y.time,children:Y.label},Y.id))})})]})]})}),!w&&v.length===0&&a.jsx(X,{className:"mt-4 shadow-card",children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(P,{size:"sm",variant:"outline",onClick:()=>K.mutate({status:"stopped",is_isolated:!0}),disabled:K.isPending,className:"transition-transform hover:scale-[1.02]",children:K.isPending?"Creating":"Create profile"})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(wv,{className:"h-4 w-4 text-primary"}),"Automation Runner"]}),a.jsxs(P,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(OI,{className:"h-4 w-4 mr-1"}),"Add script"]})]}),a.jsx(pe,{children:"Upload and run automation scripts."})]}),a.jsx(Z,{children:I?a.jsx(ce,{className:"h-10 rounded-md"}):E.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No scripts. Add one to run automations."}):a.jsx("ul",{className:"space-y-1",children:E.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"truncate",children:Y.name}),a.jsx(We,{variant:"secondary",children:Y.execution_status})]},Y.id))})})]}),a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(Hn,{className:"h-4 w-4 text-primary"}),"CDP Connector"]}),a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>m(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-1"}),"Add"]})]}),a.jsx(pe,{children:"Local or node proxy CDP settings."})]}),a.jsx(Z,{children:B.length===0?a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(bI,{className:"h-4 w-4"}),"No CDP connectors. Add one for remote CDP."]}):a.jsx("ul",{className:"space-y-1",children:B.slice(0,3).map(Y=>a.jsxs("li",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-mono truncate",children:Y.token_preview||Y.connection_type}),a.jsx(We,{variant:"secondary",children:Y.connection_type})]},Y.id))})})]})]}),e&&a.jsx(fTe,{open:e.open,onOpenChange:Y=>!Y&&t(null),action:e.action,onConfirm:de,isPending:L.isPending,profilePath:S==null?void 0:S.footprint_path,isIsolated:S==null?void 0:S.is_isolated}),a.jsx(hTe,{open:o,onOpenChange:l,tab:s}),a.jsx(pTe,{open:c,onOpenChange:u,onSubmit:Y=>R.mutate(Y),isSubmitting:R.isPending}),d&&a.jsx(yTe,{open:d.open,onOpenChange:Y=>!Y&&f(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(bTe,{open:h,onOpenChange:m,existing:null,onSubmit:Y=>ee.mutate(Y),isSubmitting:ee.isPending}),a.jsx(_Te,{open:g,onOpenChange:p,browserProfileId:j,nextSequenceOrder:Ve,onSubmit:Y=>D.mutate(Y),isSubmitting:D.isPending}),a.jsx(kTe,{open:y,onOpenChange:b,captures:O,onDownload:ae,onDelete:Y=>$.mutate(Y),isDeleting:$.isPending})]})}const Vs={getWakeWords:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await z.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await z.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");let r=z.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await z.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await z.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await z.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await z.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await z.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function Iq(e,t){return e().catch(()=>t)}const zr={all:["voice"],wakeWords:()=>[...zr.all,"wakeWords"],talkModeSettings:()=>[...zr.all,"talkModeSettings"],talkModeSetting:e=>[...zr.all,"talkModeSetting",e],transcriptionBackends:()=>[...zr.all,"transcriptionBackends"],ttsProviderSetting:()=>[...zr.all,"ttsProviderSetting"],mediaSetting:()=>[...zr.all,"mediaSetting"]};function PTe(){return Ce({queryKey:zr.wakeWords(),queryFn:()=>Iq(()=>Vs.getWakeWords(),[])})}function OTe(){const e=me();return fe({mutationFn:t=>Vs.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),W.success("Wake word added")},onError:t=>{W.error(t.message||"Failed to add wake word")}})}function ATe(){const e=me();return fe({mutationFn:({id:t,data:r})=>Vs.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),W.success("Wake word updated")},onError:t=>{W.error(t.message||"Failed to update wake word")}})}function TTe(){const e=me();return fe({mutationFn:t=>Vs.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.wakeWords()}),W.success("Wake word removed")},onError:t=>{W.error(t.message||"Failed to remove wake word")}})}function RTe(){return Ce({queryKey:zr.talkModeSettings(),queryFn:()=>Iq(()=>Vs.getTalkModeSettings(),[])})}function MTe(){const e=me();return fe({mutationFn:t=>Vs.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.talkModeSettings()}),e.invalidateQueries({queryKey:zr.all}),W.success("Talk mode saved")},onError:t=>{W.error(t.message||"Failed to save talk mode")}})}function $Te(){return Ce({queryKey:zr.transcriptionBackends(),queryFn:()=>Vs.getTranscriptionBackends()})}function ITe(){const e=me();return fe({mutationFn:t=>Vs.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.transcriptionBackends()}),W.success("Transcription backends saved")},onError:t=>{W.error(t.message||"Failed to save transcription backends")}})}function DTe(){return Ce({queryKey:zr.ttsProviderSetting(),queryFn:()=>Vs.getTtsProviderSetting()})}function LTe(){const e=me();return fe({mutationFn:t=>Vs.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.ttsProviderSetting()}),W.success("TTS provider saved")},onError:t=>{W.error(t.message||"Failed to save TTS provider")}})}function FTe(){return Ce({queryKey:zr.mediaSetting(),queryFn:()=>Vs.getMediaSetting()})}function UTe(){const e=me();return fe({mutationFn:t=>Vs.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:zr.mediaSetting()}),W.success("Media settings saved")},onError:t=>{W.error(t.message||"Failed to save media settings")}})}const BTe=ft({word:_e().min(1,"Wake word is required").max(64),status:nr(["active","inactive"]),propagate_to_nodes:ai()}),S0={word:"",status:"active",propagate_to_nodes:!0};function qTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(BTe),defaultValues:S0}),f=c("propagate_to_nodes"),h=c("status"),m=p=>{r(p),u(S0),t(!1)},g=p=>{p&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):p||u(S0),t(p)};return a.jsx(Me,{open:e,onOpenChange:g,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:s?"Edit wake word":"Add wake word"}),a.jsx(Re,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(ye,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:p=>l("status",p),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(xr,{id:"propagate-nodes",checked:f,onCheckedChange:p=>l("propagate_to_nodes",p)})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const zTe=ft({node_id:_e().nullable(),enabled:ai(),interrupt_sensitivity:nr(["low","medium","high"])});function WTe({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=ut({resolver:dt(zTe),defaultValues:o});x.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const f=u("node_id"),h=u("enabled"),m=u("interrupt_sensitivity"),g=p=>{const y=p.node_id===""||!p.node_id?null:p.node_id;n({node_id:y,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity}),d({node_id:p.node_id,enabled:p.enabled,interrupt_sensitivity:p.interrupt_sensitivity})};return a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Talk mode"}),a.jsx(pe,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Z,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(g),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Node"}),a.jsxs(ot,{value:f||i,onValueChange:p=>{const y=p===i?null:p,b=y===null?r:t.find(v=>v.node_id===y);c("node_id",p||i),c("enabled",(b==null?void 0:b.enabled)??!1),c("interrupt_sensitivity",(b==null?void 0:b.interrupt_sensitivity)??"medium")},children:[a.jsx(st,{children:a.jsx(lt,{placeholder:"Default (all nodes)"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"",children:"Default (all nodes)"}),e.map(p=>a.jsx(Se,{value:p.id,children:p.name||p.id.slice(0,8)},p.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:f?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(xr,{id:"talk-enabled",checked:h,onCheckedChange:p=>c("enabled",p)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Interrupt sensitivity"}),a.jsxs(ot,{value:m,onValueChange:p=>c("interrupt_sensitivity",p),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"low",children:"Low"}),a.jsx(Se,{value:"medium",children:"Medium"}),a.jsx(Se,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const DR=["whisper","google","assemblyai","deepgram","local-cli"];function VTe({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=x.useState(r.length>0?[...r]:[...DR]),[c,u]=x.useState(n??"");x.useEffect(()=>{e&&(l(r.length>0?[...r]:[...DR]),u(n??""))},[e,r,n]);const d=g=>{if(g<=0)return;const p=[...o];[p[g-1],p[g]]=[p[g],p[g-1]],l(p)},f=g=>{if(g>=o.length-1)return;const p=[...o];[p[g],p[g+1]]=[p[g+1],p[g]],l(p)},h=g=>{l(p=>p.filter((y,b)=>b!==g))},m=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Transcription backends"}),a.jsx(Re,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((g,p)=>a.jsxs("li",{className:J("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(wI,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:g}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(p),disabled:p===0,"aria-label":"Move up",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>f(p),disabled:p===o.length-1,"aria-label":"Move down",children:""}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h(p),"aria-label":"Remove",children:a.jsx(en,{className:"h-4 w-4"})})]})]},`${g}-${p}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(ye,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:g=>u(g.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{onClick:m,disabled:i,children:i?"Saving":"Save order"})]})]})})}const KTe=ft({provider:_e().min(1,"Provider is required"),model:_e().optional()}),HTe=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],LR={provider:"default",model:""};function GTe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(KTe),defaultValues:{provider:s,model:i??""}}),h=u("provider"),m=p=>{var y;r({provider:p.provider,model:((y=p.model)==null?void 0:y.trim())||null}),d(LR),t(!1)},g=p=>{d(p?{provider:s,model:i??""}:LR),t(p)};return a.jsx(Me,{open:e,onOpenChange:g,children:a.jsxs(Oe,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"TTS provider"}),a.jsx(Re,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Provider"}),a.jsxs(ot,{value:h,onValueChange:p=>c("provider",p),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsx(at,{children:HTe.map(p=>a.jsx(Se,{value:p.id,children:p.label},p.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(ye,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),f.model&&a.jsx("p",{className:"text-sm text-destructive",children:f.model.message})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const YTe=ft({retention_days:cs.number().min(1).max(3650),size_cap_mb:cs.number().min(1).max(1048576),fallback_strategy:nr(["local","cloud","none"]),audio_note_handling:nr(["store","transcribe_and_store","transcribe_only","discard"])}),FR={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function QTe({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=ut({resolver:dt(YTe),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:FR}),u=o("fallback_strategy"),d=o("audio_note_handling");return x.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:FR)},[e,l]),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Media storage"}),a.jsx(pe,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(ye,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(ye,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Fallback strategy"}),a.jsxs(ot,{value:u,onValueChange:f=>i("fallback_strategy",f),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"local",children:"Local only"}),a.jsx(Se,{value:"cloud",children:"Cloud when local full"}),a.jsx(Se,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Audio note handling"}),a.jsxs(ot,{value:d,onValueChange:f=>i("audio_note_handling",f),children:[a.jsx(st,{children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"store",children:"Store only"}),a.jsx(Se,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(Se,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(Se,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(P,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function XTe(){var R;const[e,t]=x.useState(!1),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o,l]=x.useState(!1),{data:c=[],isLoading:u}=PTe(),d=OTe(),f=ATe(),h=TTe(),{data:m=[],isLoading:g}=RTe(),p=MTe(),y=m.find(M=>M.node_id===null)??null,{data:b=[]}=uF(),{data:v,isLoading:w}=$Te(),_=ITe(),{data:j,isLoading:S}=DTe(),N=LTe(),{data:k,isLoading:C}=FTe(),E=UTe(),I=()=>{n(null),t(!0)},O=M=>{n(M),t(!0)},B=M=>{r?f.mutate({id:r.id,data:{word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:M.word,status:M.status,propagate_to_nodes:M.propagate_to_nodes},{onSuccess:()=>t(!1)})},T=M=>{p.mutate({node_id:M.node_id,enabled:M.enabled,interrupt_sensitivity:M.interrupt_sensitivity})},V=(M,$)=>{_.mutate({provider_list:M,cli_fallback:$})},L=M=>{N.mutate({provider:M.provider,model:M.model})},K=M=>{E.mutate(M)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Tr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(ld,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ne,{children:"Wake words"}),a.jsx(pe,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(P,{type:"button",size:"sm",onClick:I,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Z,{children:u?a.jsx(ce,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(ld,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:I,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(M=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:M.word}),a.jsx(We,{variant:M.status==="active"?"success":"secondary",children:M.status}),M.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>O(M),"aria-label":"Edit wake word",children:a.jsx(Ci,{className:"h-4 w-4"})}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>h.mutate(M.id),"aria-label":"Delete wake word",children:a.jsx(en,{className:"h-4 w-4"})})]})]},M.id))})})]}),g?a.jsx(ce,{className:"h-64 w-full rounded-lg"}):a.jsx(WTe,{nodes:b,settings:m,defaultSetting:y,onSave:T,isSubmitting:p.isPending}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(u7,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(pe,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Z,{children:w?a.jsx(ce,{className:"h-16 w-full rounded-lg"}):v?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(R=v.provider_list)!=null&&R.length?v.provider_list.join("  "):"default"]}),v.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:v.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(g7,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(pe,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(P,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Z,{children:S?a.jsx(ce,{className:"h-12 w-full rounded-lg"}):j?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:j.provider}),j.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",j.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),C?a.jsx(ce,{className:"h-80 w-full rounded-lg"}):a.jsx(QTe,{initial:k??null,onSave:K,isSubmitting:E.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-base",children:"Related"})}),a.jsxs(Z,{className:"space-y-2",children:[a.jsxs(ue,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(Hn,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(ue,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(X,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(Xd,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Z,{children:a.jsx(ue,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(qTe,{open:e,onOpenChange:t,onSubmit:B,isSubmitting:d.isPending||f.isPending,initial:r}),a.jsx(VTe,{open:s,onOpenChange:i,providerList:(v==null?void 0:v.provider_list)??[],cliFallback:(v==null?void 0:v.cli_fallback)??null,onSave:V,isSubmitting:_.isPending}),a.jsx(GTe,{open:o,onOpenChange:l,onSubmit:L,isSubmitting:N.isPending,initialProvider:(j==null?void 0:j.provider)??"default",initialModel:(j==null?void 0:j.model)??null})]})}function JTe(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(ii,{defaultValue:"network",children:[a.jsxs(ka,{children:[a.jsx(St,{value:"network",children:"Network"}),a.jsx(St,{value:"remote",children:"Remote access"}),a.jsx(St,{value:"secrets",children:"Secrets"}),a.jsx(St,{value:"tools",children:"Tool policies"}),a.jsx(St,{value:"model",children:"Model defaults"})]}),a.jsx(Nt,{value:"network",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Network binding / TLS"}),a.jsx(pe,{children:"Bind address and TLS certificate."})]}),a.jsx(Z,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Bind address"}),a.jsx(ye,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(Nt,{value:"remote",className:"space-y-4",children:a.jsxs(X,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Remote access (tailnet / proxy)"})}),a.jsx(Z,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Secrets management"}),a.jsx(pe,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext. Manage secrets and keychain configuration in the dedicated Secrets & Keychain page."}),a.jsx(P,{asChild:!0,variant:"secondary",children:a.jsx(ue,{to:"/secrets",children:"Open Secrets & Keychain"})})]})]})}),a.jsx(Nt,{value:"tools",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Tool policies"}),a.jsx(pe,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(G,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(xr,{id:"sandbox"})]})})]})}),a.jsx(Nt,{value:"model",className:"space-y-4",children:a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Model defaults"}),a.jsx(pe,{children:"Default provider and model for runs."})]}),a.jsx(Z,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Default model"}),a.jsx(ye,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx(P,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}const UR="[ENCRYPTED]";async function Dq(){const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");return e.id}async function _g(e,t,r={}){const s={user_id:await Dq(),secret_id:t,action:e,details:r};await z.from("secret_audit_logs").insert(s)}const Ic={getSecrets:async()=>{const{data:e,error:t}=await z.from("secrets").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSecret:async e=>{const{data:t,error:r}=await z.from("secrets").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSecret:async e=>{const t=await Dq(),r=e.storage_method==="encrypted_fallback"&&e.value!=null?UR:null,n={user_id:t,name:e.name.trim(),storage_method:e.storage_method,encrypted_value:r,key_reference:e.key_reference??null},{data:s,error:i}=await z.from("secrets").insert(n).select().single();if(i)throw new Error(i.message);const o=s;return await _g("secret_created",o.id,{name:o.name}),o},updateSecret:async(e,t)=>{const{data:r,error:n}=await z.from("secrets").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);const s=r;return await _g("secret_updated",e,{name:s.name}),s},rotateSecret:async(e,t)=>{const r=t.value!=null?UR:void 0,{data:n,error:s}=await z.from("secrets").update({encrypted_value:r}).eq("id",e).select().single();if(s)throw new Error(s.message);return await _g("secret_rotated",e),n},deleteSecret:async e=>{const t=await Ic.getSecret(e),{error:r}=await z.from("secrets").delete().eq("id",e);if(r)throw new Error(r.message);t&&await _g("secret_deleted",null,{name:t.name})},getAuditLogs:async(e=50)=>{const{data:t,error:r}=await z.from("secret_audit_logs").select("*").order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}};function ZTe(e,t){return e().catch(()=>t)}const Pn={all:["secrets"],list:()=>[...Pn.all,"list"],detail:e=>[...Pn.all,"detail",e],auditLogs:e=>[...Pn.all,"auditLogs",e]};function eRe(){return Ce({queryKey:Pn.list(),queryFn:()=>ZTe(()=>Ic.getSecrets(),[])})}function tRe(){const e=me();return fe({mutationFn:t=>Ic.createSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Pn.list()}),e.invalidateQueries({queryKey:Pn.auditLogs()}),W.success("Secret created")},onError:t=>{W.error(t.message||"Failed to create secret")}})}function rRe(){const e=me();return fe({mutationFn:({id:t,data:r})=>Ic.updateSecret(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Pn.list()}),e.invalidateQueries({queryKey:Pn.detail(r)}),e.invalidateQueries({queryKey:Pn.auditLogs()}),W.success("Secret updated")},onError:t=>{W.error(t.message||"Failed to update secret")}})}function nRe(){const e=me();return fe({mutationFn:({id:t,value:r})=>Ic.rotateSecret(t,{value:r}),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Pn.list()}),e.invalidateQueries({queryKey:Pn.detail(r)}),e.invalidateQueries({queryKey:Pn.auditLogs()}),W.success("Secret rotated")},onError:t=>{W.error(t.message||"Failed to rotate secret")}})}function sRe(){const e=me();return fe({mutationFn:t=>Ic.deleteSecret(t),onSuccess:()=>{e.invalidateQueries({queryKey:Pn.list()}),e.invalidateQueries({queryKey:Pn.auditLogs()}),W.success("Secret removed")},onError:t=>{W.error(t.message||"Failed to remove secret")}})}function aRe(e=50){return Ce({queryKey:Pn.auditLogs(e),queryFn:()=>Ic.getAuditLogs(e)})}const iRe=ft({name:_e().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),value:_e().optional(),key_reference:_e().optional()}),N0={name:"",storage_method:"encrypted_fallback",value:"",key_reference:""};function oRe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,watch:l,setValue:c,formState:{errors:u}}=ut({resolver:dt(iRe),defaultValues:N0}),d=l("storage_method"),f=m=>{var g,p;r({name:m.name.trim(),storage_method:m.storage_method,value:((g=m.value)==null?void 0:g.trim())||void 0,key_reference:((p=m.key_reference)==null?void 0:p.trim())||null}),o(N0)},h=m=>{m||o(N0),t(m)};return a.jsx(Me,{open:e,onOpenChange:h,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"add-secret-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Add secret"}),a.jsx(Re,{id:"add-secret-form-description",children:"Store a secret securely. Choose where it will be stored; value is never stored in plaintext."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"name",children:"Name"}),a.jsx(ye,{id:"name",placeholder:"e.g. API_KEY_GITHUB",...s("name"),className:u.name?"border-destructive":"",autoComplete:"off"}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Storage method"}),a.jsxs(ot,{value:d,onValueChange:m=>c("storage_method",m),children:[a.jsx(st,{className:u.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Se,{value:"onepassword",children:"1Password"}),a.jsx(Se,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OS Keychain (macOS/Windows/Linux), 1Password CLI, or encrypted fallback when keychain is unavailable."})]}),d==="encrypted_fallback"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"value",children:"Value"}),a.jsx(ye,{id:"value",type:"password",placeholder:"Enter secret value",autoComplete:"new-password",...s("value")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Value is encrypted before storage; never stored in plaintext."})]}),(d==="os_keychain"||d==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"key_reference",children:"Key reference (optional)"}),a.jsx(ye,{id:"key_reference",placeholder:"e.g. service/account/key",...s("key_reference"),autoComplete:"off"})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>h(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Adding":"Add secret"})]})]})]})})}const lRe=ft({name:_e().min(1,"Name is required").max(128,"Name too long"),storage_method:nr(["os_keychain","onepassword","encrypted_fallback"]),key_reference:_e().optional()});function cRe({open:e,onOpenChange:t,secret:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,reset:l,watch:c,setValue:u,formState:{errors:d}}=ut({resolver:dt(lRe),defaultValues:{name:(r==null?void 0:r.name)??"",storage_method:(r==null?void 0:r.storage_method)??"encrypted_fallback",key_reference:(r==null?void 0:r.key_reference)??""}}),f=c("storage_method");x.useEffect(()=>{e&&r&&l({name:r.name,storage_method:r.storage_method,key_reference:r.key_reference??""})},[e,r,l]);const h=g=>{var p;n({name:g.name.trim(),storage_method:g.storage_method,key_reference:((p=g.key_reference)==null?void 0:p.trim())||null}),t(!1)},m=g=>{g||t(!1)};return r?a.jsx(Me,{open:e,onOpenChange:m,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"edit-secret-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Edit secret"}),a.jsx(Re,{id:"edit-secret-form-description",children:"Update name or storage method. The secret value is never displayed; use Rotate to set a new value."})]}),a.jsxs("form",{onSubmit:o(h),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"edit-name",children:"Name"}),a.jsx(ye,{id:"edit-name",placeholder:"e.g. API_KEY_GITHUB",...i("name"),className:d.name?"border-destructive":"",autoComplete:"off"}),d.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{children:"Storage method"}),a.jsxs(ot,{value:f,onValueChange:g=>u("storage_method",g),children:[a.jsx(st,{className:d.storage_method?"border-destructive":"",children:a.jsx(lt,{placeholder:"Select storage"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"os_keychain",children:"OS Keychain"}),a.jsx(Se,{value:"onepassword",children:"1Password"}),a.jsx(Se,{value:"encrypted_fallback",children:"Encrypted fallback"})]})]})]}),(f==="os_keychain"||f==="onepassword")&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"edit-key_reference",children:"Key reference (optional)"}),a.jsx(ye,{id:"edit-key_reference",placeholder:"e.g. service/account/key",...i("key_reference"),autoComplete:"off"})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"secondary",onClick:()=>m(!1),disabled:s,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:s,children:s?"Saving":"Save changes"})]})]})]})}):null}function uRe({values:e,onChange:t,disabled:r=!1,className:n}){return a.jsxs(X,{className:J("shadow-card transition-shadow hover:shadow-card-hover",n),children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(id,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{children:"Setup & configuration"})]}),a.jsx(pe,{children:"Choose where secrets are stored. OS keychain and 1Password keep credentials out of the database; encrypted fallback is used when keychain is unavailable."})]}),a.jsxs(Z,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"keychain",className:"text-base font-medium",children:"OS Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"macOS Keychain, Windows Credential Manager, or Linux secret store"})]}),a.jsx(xr,{id:"keychain",checked:e.keychainEnabled,onCheckedChange:s=>t({...e,keychainEnabled:s}),disabled:r,"aria-label":"Toggle OS keychain"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"onepassword",className:"text-base font-medium",children:"1Password integration"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Store and retrieve secrets via 1Password CLI"})]}),a.jsx(xr,{id:"onepassword",checked:e.onepasswordEnabled,onCheckedChange:s=>t({...e,onepasswordEnabled:s}),disabled:r,"aria-label":"Toggle 1Password"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"fallback",className:"text-base font-medium",children:"Encrypted fallback"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Encrypt and store in database when keychain is unavailable"})]}),a.jsx(xr,{id:"fallback",checked:e.encryptedFallbackEnabled,onCheckedChange:s=>t({...e,encryptedFallbackEnabled:s}),disabled:r,"aria-label":"Toggle encrypted fallback"})]}),a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(Rr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Long-lived tokens are never written to plaintext. Runtime retrieval uses least-privilege scoping."]})]})]})}const BR={os_keychain:"OS Keychain",onepassword:"1Password",encrypted_fallback:"Encrypted fallback"};function dRe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState({keychainEnabled:!0,onepasswordEnabled:!1,encryptedFallbackEnabled:!0}),{data:c=[],isLoading:u}=eRe(),{data:d=[],isLoading:f}=aRe(50),h=tRe(),m=rRe(),g=sRe(),p=nRe(),y=async j=>{await h.mutateAsync(j),t(!1)},b=async j=>{s&&(await m.mutateAsync({id:s.id,data:j}),n(!1),i(null))},v=j=>{i(j),n(!0)},w=j=>{p.mutate({id:j.id},{onSuccess:()=>n(!1)})},_=j=>{window.confirm(`Remove secret "${j.name}"? This cannot be undone.`)&&g.mutate(j.id)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Secrets & Keychain"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Store and manage secrets securely. No plaintext on disk."})]}),a.jsxs(P,{onClick:()=>t(!0),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}),a.jsxs(X,{className:"border-border shadow-card",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-base",children:"Keychain status"})]}),a.jsx(pe,{children:o.keychainEnabled||o.onepasswordEnabled?"Keychain or 1Password is configured. Secrets can be stored in the vault.":"Using encrypted fallback only. Enable OS keychain or 1Password for stronger isolation."})]}),a.jsxs(Z,{className:"flex flex-wrap gap-2",children:[o.keychainEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(wa,{className:"h-3 w-3 mr-1"}),"OS Keychain"]}),o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-success/15 text-success border-0",children:[a.jsx(wa,{className:"h-3 w-3 mr-1"}),"1Password"]}),!o.keychainEnabled&&!o.onepasswordEnabled&&a.jsxs(We,{variant:"secondary",className:"bg-warning/15 text-warning border-0",children:[a.jsx(Gi,{className:"h-3 w-3 mr-1"}),"Fallback only"]})]})]}),a.jsxs(ii,{defaultValue:"secrets",className:"space-y-4",children:[a.jsxs(ka,{children:[a.jsx(St,{value:"secrets",children:"Secrets management"}),a.jsx(St,{value:"setup",children:"Setup & configuration"}),a.jsx(St,{value:"audit",children:"Audit logs"})]}),a.jsx(Nt,{value:"secrets",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Stored secrets"}),a.jsx(pe,{children:"Add, edit, or rotate secrets. Values are never shown after save."})]}),a.jsx(Z,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(ce,{className:"h-14 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(id,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No secrets yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Add a secret to store API keys, tokens, or other credentials securely."}),a.jsxs(P,{variant:"default",className:"mt-4 transition-transform hover:scale-[1.02]",onClick:()=>t(!0),children:[a.jsx(It,{className:"h-4 w-4 mr-2"}),"Add secret"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:c.map(j=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border p-4","transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:a.jsx(id,{className:"h-5 w-5 text-primary","aria-hidden":!0})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"font-medium truncate",children:j.name}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5",children:[BR[j.storage_method]??j.storage_method,"  Updated"," ",_r(new Date(j.updated_at),{addSuffix:!0})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(We,{variant:"secondary",className:"text-xs",children:BR[j.storage_method]??j.storage_method}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon","aria-label":"Actions",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>v(j),children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),"Edit"]}),a.jsxs(Rt,{onClick:()=>w(j),children:[a.jsx(Jd,{className:"h-4 w-4 mr-2"}),"Rotate secret"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>_(j),children:[a.jsx(en,{className:"h-4 w-4 mr-2"}),"Remove"]})]})]})]})]},j.id))})})})]})}),a.jsx(Nt,{value:"setup",className:"space-y-4",children:a.jsx(uRe,{values:o,onChange:l})}),a.jsx(Nt,{value:"audit",className:"space-y-4",children:a.jsxs(X,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-accent","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Audit logs"})]}),a.jsx(pe,{children:"Recent secret access, rotation, and configuration changes."})]}),a.jsx(Z,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(j=>a.jsx(ce,{className:"h-12 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4","aria-hidden":!0}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No audit entries yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Actions on secrets will appear here."})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("ul",{className:"space-y-2",role:"list",children:d.map(j=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3 text-sm",children:[a.jsx("span",{className:"font-medium capitalize",children:j.action.replace(/_/g," ")}),a.jsx("span",{className:"text-muted-foreground",children:_r(new Date(j.created_at),{addSuffix:!0})})]},j.id))})})})]})})]}),a.jsx(oRe,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:h.isPending}),a.jsx(cRe,{open:r,onOpenChange:n,secret:s,onSubmit:b,isSubmitting:m.isPending})]})}const Jn="/security",Dc={runAudit:()=>be.post(`${Jn}/audit/run`,{}),getAudits:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Jn}/audits${t?`?${t}`:""}`)},getAudit:e=>be.get(`${Jn}/audits/${e}`),createAudit:e=>be.post(`${Jn}/audits`,e),getIssuesByAuditId:e=>be.get(`${Jn}/audits/${e}/issues`),createIssue:e=>be.post(`${Jn}/issues`,e),applyAutoFix:e=>be.post(`${Jn}/issues/${e}/auto-fix`,{}),updateIssue:(e,t)=>be.patch(`${Jn}/issues/${e}`,t),getIncidentActions:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Jn}/incident-actions${t?`?${t}`:""}`)},createIncidentAction:e=>be.post(`${Jn}/incident-actions`,e),exportAuditLogs:e=>be.post(`${Jn}/export`,e),getAuditLogs:e=>{const t=e&&Object.keys(e).length>0?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&(typeof r!="string"||r!=="")&&(typeof r!="number"||r!==0)).map(([r,n])=>[r,String(n)])).toString():"";return be.get(`${Jn}/audit-logs${t?`?${t}`:""}`)},createAuditLog:e=>be.post(`${Jn}/audit-logs`,e)};function Lq(e,t){return e().catch(()=>t)}const os={all:["security"],audits:e=>[...os.all,"audits",e],audit:e=>[...os.all,"audit",e??""],issues:e=>[...os.all,"issues",e??""],incidentActions:e=>[...os.all,"incident-actions",e],auditLogs:e=>[...os.all,"audit-logs",e]};function fRe(e){return Ce({queryKey:os.audits(e),queryFn:()=>Lq(()=>Dc.getAudits(e),[])})}function hRe(e){return Ce({queryKey:os.issues(e),queryFn:()=>e?Lq(()=>Dc.getIssuesByAuditId(e),[]):Promise.resolve([]),enabled:!!e})}function mRe(){const e=me();return fe({mutationFn:()=>Dc.runAudit(),onSuccess:t=>{var r;e.invalidateQueries({queryKey:os.all}),(r=t==null?void 0:t.audit)!=null&&r.id&&(e.invalidateQueries({queryKey:os.audit(t.audit.id)}),e.invalidateQueries({queryKey:os.issues(t.audit.id)})),W.success("Security audit completed")},onError:t=>{W.error(t.message||"Audit failed")}})}function pRe(){const e=me();return fe({mutationFn:t=>Dc.applyAutoFix(t),onSuccess:()=>{e.invalidateQueries({queryKey:os.all}),W.success("Auto-fix applied")},onError:t=>{W.error(t.message||"Auto-fix failed")}})}function gRe(){const e=me();return fe({mutationFn:({issueId:t,data:r})=>Dc.updateIssue(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:os.all}),W.success("Issue updated")},onError:t=>{W.error(t.message||"Update failed")}})}function vRe(){const e=me();return fe({mutationFn:t=>Dc.createIncidentAction(t),onSuccess:()=>{e.invalidateQueries({queryKey:os.all}),W.success("Action submitted")},onError:t=>{W.error(t.message||"Action failed")}})}function yRe(){return fe({mutationFn:e=>Dc.exportAuditLogs(e),onSuccess:e=>{e!=null&&e.download_url&&window.open(e.download_url,"_blank"),W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}const iC=x.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:J("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));iC.displayName="Textarea";function xRe({open:e,onOpenChange:t,onConfirm:r,isSubmitting:n=!1,mode:s="auto_fix",issueDescription:i}){const o=s==="auto_fix",l=o?"Apply auto-fix?":"Record manual remediation?",c=o?"This will apply the recommended automated fix for this issue. The change will be logged for compliance.":"This will record your manual fix for this issue. The change will be logged for compliance.",u=()=>{r(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[480px]","aria-describedby":"remediation-confirm-desc",children:[a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(np,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Te,{children:l})]}),a.jsxs(Re,{id:"remediation-confirm-desc",children:[c,i&&a.jsxs("span",{className:"mt-2 block text-muted-foreground truncate max-w-full",title:i,children:["Issue: ",i.slice(0,80),i.length>80?"":""]})]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{onClick:u,disabled:n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:n?"Applying":o?"Apply auto-fix":"Record fix"})]})]})})}const qR={critical:{label:"Critical",icon:Gi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:Yi,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:ZS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:eN,className:"text-accent bg-accent/15 border-accent/30"}};function bRe(e){return e?e.replace(/_/g," ").replace(/\b\w/g,t=>t.toUpperCase()):""}function wRe({issue:e,open:t,onOpenChange:r,autoFixEnabled:n=!1,onAutoFixChange:s,onApplyAutoFix:i,isApplyingAutoFix:o=!1,onApplyManualFix:l,isApplyingManualFix:c=!1}){const[u,d]=x.useState(!1),[f,h]=x.useState("");if(!e)return null;const m=qR[e.severity]??qR.medium,g=m.icon,p=o||c,y=()=>{d(!0)},b=()=>{i==null||i(e.id)},v=()=>{const w=f.trim();w&&l&&(l(e.id,w),h(""))};return a.jsxs(a.Fragment,{children:[a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{className:"max-w-[640px] max-h-[85vh] flex flex-col","aria-describedby":"audit-issue-description",children:[a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(g,{className:J("h-5 w-5 shrink-0",m.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("border text-xs font-medium",m.className),children:m.label})]}),a.jsx(Te,{className:"text-left pt-1",children:"Security finding"}),a.jsx(Re,{id:"audit-issue-description",className:"text-left",children:"Details, affected files, and remediation for this issue."})]}),a.jsx(pt,{className:"flex-1 max-h-[50vh] rounded-md border border-border px-3 py-2",children:a.jsxs("div",{className:"space-y-4 pr-2",children:[e.category&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Category"}),a.jsx(We,{variant:"outline",className:"text-xs font-medium",children:bRe(e.category)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Description"}),a.jsx("p",{className:"text-sm text-foreground",children:e.description})]}),e.remediation&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recommended fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap",children:e.remediation})]}),e.affected_files&&e.affected_files.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Affected files / configs"}),a.jsx("ul",{className:"text-sm font-mono text-foreground list-disc list-inside space-y-0.5",children:e.affected_files.map((w,_)=>a.jsx("li",{children:w},_))})]}),e.applied_fix&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Applied fix"}),a.jsx("p",{className:"text-sm text-foreground font-mono whitespace-pre-wrap bg-success/10 border border-success/30 rounded-lg px-3 py-2",children:e.applied_fix})]}),e.auto_fix_available&&!e.applied_fix&&a.jsxs("div",{className:"flex items-center justify-between gap-4 rounded-lg border border-border p-3 bg-card/50",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(G,{htmlFor:"audit-autofix-toggle",className:"text-sm font-medium",children:"Auto-fix available"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Apply safe automated remediation for this issue."})]}),a.jsx(xr,{id:"audit-autofix-toggle",checked:n,onCheckedChange:s,disabled:p,"aria-label":"Enable auto-fix for this issue"})]})]})}),a.jsxs("div",{className:"flex flex-col gap-3 pt-2 border-t border-border",children:[e.auto_fix_available&&!e.applied_fix&&a.jsx("div",{className:"flex justify-end",children:a.jsx(P,{variant:"default",size:"sm",onClick:y,disabled:p||!n,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:o?"Applying":"Apply auto-fix now"})}),l&&!e.applied_fix&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(G,{htmlFor:"audit-manual-fix",className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(jx,{className:"h-4 w-4","aria-hidden":!0}),"Manual remediation"]}),a.jsx(iC,{id:"audit-manual-fix",placeholder:"Describe the fix you applied (e.g. moved secret to keychain, updated config)...",value:f,onChange:w=>h(w.target.value),disabled:p,rows:3,className:"resize-none text-sm font-mono","aria-describedby":"audit-manual-fix-hint"}),a.jsx("p",{id:"audit-manual-fix-hint",className:"text-xs text-muted-foreground",children:"Record your custom fix for compliance. This will be logged."}),a.jsx(P,{variant:"outline",size:"sm",onClick:v,disabled:p||!f.trim(),className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:c?"Saving":"Record manual fix"})]})]})]})}),a.jsx(xRe,{open:u,onOpenChange:d,onConfirm:b,isSubmitting:o,mode:"auto_fix",issueDescription:e.description})]})}const jRe={revoke_sessions:{label:"Revoke sessions",description:"This will revoke all active sessions except the current one. Users will need to sign in again on other devices.",icon:rN,variant:"destructive"},rotate_secrets:{label:"Rotate secrets",description:"This will rotate API keys and tokens. Any integrations using old credentials will need to be updated.",icon:Jd,variant:"destructive"},export_logs:{label:"Export security logs",description:"Export audit and security logs for external analysis or compliance. Redaction will be applied by default.",icon:Ir,variant:"default"},stop_blast_radius:{label:"Stop blast radius",description:"Contain the impact of a potential incident by stopping affected runs and isolating resources.",icon:JS,variant:"destructive"},quarantine_skill:{label:"Quarantine skill",description:"Disable and isolate a skill that may be risky until you review and approve it.",icon:kI,variant:"destructive"}};function _Re({actionType:e,open:t,onOpenChange:r,onConfirm:n,isSubmitting:s=!1}){if(!e)return null;const i=jRe[e]??{label:e.replace(/_/g," "),description:"This action will be logged and may have side effects.",icon:kI,variant:"default"},o=i.icon,l=()=>{n(e),r(!1)};return a.jsx(Me,{open:t,onOpenChange:r,children:a.jsxs(Oe,{"aria-describedby":"incident-action-description",children:[a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(o,{className:"h-5 w-5 text-primary shrink-0","aria-hidden":!0}),a.jsx(Te,{children:i.label})]}),a.jsx(Re,{id:"incident-action-description",children:i.description})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(P,{variant:i.variant==="destructive"?"destructive":"default",onClick:l,disabled:s,children:s?"Processing":"Confirm"})]})]})})}const SRe=ft({format:nr(["json","csv"]),applyRedaction:ai(),from:_e().optional(),to:_e().optional()});function NRe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1}){const{register:s,handleSubmit:i,setValue:o,watch:l}=ut({resolver:dt(SRe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:""}}),c=l("applyRedaction"),u=l("format"),d=f=>{const h={format:f.format,apply_redaction:f.applyRedaction,from:f.from||void 0,to:f.to||void 0};r(h),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[480px]","aria-describedby":"security-export-desc",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Export security logs"}),a.jsx(Re,{id:"security-export-desc",children:"Configure format, date range, and redaction. Export will download audit and security logs for compliance or analysis."})]}),a.jsxs("form",{onSubmit:i(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"security-export-format",children:"Format"}),a.jsxs(ot,{value:u,onValueChange:f=>o("format",f),children:[a.jsx(st,{id:"security-export-format",children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"json",children:"JSON"}),a.jsx(Se,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"security-export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Redact sensitive data in exported logs (recommended)."})]}),a.jsx(xr,{id:"security-export-redaction",checked:c,onCheckedChange:f=>o("applyRedaction",f)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"security-export-from",children:"From (optional)"}),a.jsx(ye,{id:"security-export-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"security-export-to",children:"To (optional)"}),a.jsx(ye,{id:"security-export-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const zR={critical:{label:"Critical",icon:Gi,className:"text-destructive bg-destructive/15 border-destructive/30"},high:{label:"High",icon:Yi,className:"text-warning bg-warning/15 border-warning/30"},medium:{label:"Medium",icon:ZS,className:"text-muted-foreground bg-muted/30 border-border"},low:{label:"Low",icon:eN,className:"text-accent bg-accent/15 border-accent/30"}};function WR(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function kRe(e){return e>=70?"High risk":e>=40?"Medium risk":e>=10?"Low risk":"No critical issues"}function VR(e){return e>=70?"text-destructive":e>=40?"text-warning":e>=10?"text-accent":"text-success"}function CRe({issue:e,isSelected:t,onSelect:r}){const n=zR[e.severity]??zR.medium,s=n.icon,i=e.description.length>120?e.description.slice(0,120)+"":e.description;return a.jsxs("button",{type:"button",onClick:r,className:J("w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),"aria-pressed":t,"aria-label":`View details for issue: ${e.description.slice(0,50)}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(s,{className:J("h-4 w-4 shrink-0",n.className.split(" ")[0]),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-medium border shrink-0",n.className),children:n.label}),e.auto_fix_available&&a.jsx(We,{variant:"outline",className:"text-xs shrink-0",children:"Auto-fix"})]}),a.jsx("p",{className:"mt-1.5 text-sm text-foreground line-clamp-2",children:i})]})}const ERe=[{type:"revoke_sessions",label:"Revoke sessions",icon:rN},{type:"rotate_secrets",label:"Rotate secrets",icon:Jd},{type:"export_logs",label:"Export logs",icon:Ir},{type:"stop_blast_radius",label:"Stop blast radius",icon:JS}];function PRe(){const{user:e}=gx(),[t,r]=x.useState(null),[n,s]=x.useState(!1),[i,o]=x.useState(!1),[l,c]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(!1),{data:m=[],isLoading:g}=fRe({limit:10}),p=m[0]??null,y=(p==null?void 0:p.id)??null,{data:b=[],isLoading:v}=hRe(y),w=mRe(),_=vRe(),j=yRe(),S=pRe(),N=gRe(),k={critical:b.filter(L=>L.severity==="critical").length,high:b.filter(L=>L.severity==="high").length,medium:b.filter(L=>L.severity==="medium").length,low:b.filter(L=>L.severity==="low").length},C=(p==null?void 0:p.risk_score)??0,E=L=>{r(L),s(!1),o(!0)},I=L=>{if(L==="export_logs"){h(!0);return}d(L),c(!0)},O=L=>{_.mutate({user_id:(e==null?void 0:e.id)??"",audit_id:y??void 0,action_type:L},{onSuccess:()=>{d(null)}})},B=L=>{j.mutate(L,{onSuccess:K=>{K!=null&&K.download_url&&window.open(K.download_url,"_blank")}})},T=L=>{S.mutate(L,{onSuccess:()=>{o(!1),r(null)}})},V=(L,K)=>{N.mutate({issueId:L,data:{applied_fix:K}},{onSuccess:()=>{o(!1),r(null)}})};return a.jsxs("div",{className:"animate-fade-in-up flex flex-col lg:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1 min-w-0 space-y-6",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Tr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Security Audit"})]}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Rr,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Security Audit"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Run automated security checks and manage remediation. Review issues and use incident response actions when needed."})]}),a.jsxs("nav",{className:"flex items-center gap-3 text-sm","aria-label":"Quick links",children:[a.jsx(ue,{to:"/dashboard",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Home"}),a.jsx(ue,{to:"/settings",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Settings"}),a.jsx(ue,{to:"/help",className:"text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Help"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Run audit"}),a.jsx(pe,{children:"Start automated checks for plaintext secrets, open binds, risky permissions, and misconfigurations."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs(P,{onClick:()=>w.mutate(),disabled:w.isPending,size:"lg",className:"shrink-0 transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),w.isPending?"Running":"Start Audit"]}),w.isPending&&a.jsxs("div",{className:"space-y-2",role:"status","aria-live":"polite",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Running security checks"}),a.jsx(QN,{value:50,className:"h-2 animate-pulse","aria-label":"Audit in progress"})]})]})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Audit summary"}),a.jsx(pe,{children:"Overall risk score and issue counts from the latest audit."})]}),a.jsx(Z,{children:g?a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ce,{className:"h-14 w-14 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-6 w-32"}),a.jsx(ce,{className:"h-4 w-48"})]})]}):p?a.jsxs("div",{className:"flex flex-wrap items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:J("flex h-14 w-14 items-center justify-center rounded-full border-2 font-semibold text-xl",VR(C),C>=70&&"border-destructive bg-destructive/10",C>=40&&C<70&&"border-warning bg-warning/10",C<40&&"border-success bg-success/10"),children:C}),a.jsxs("div",{children:[a.jsx("p",{className:J("font-semibold text-lg",VR(C)),children:kRe(C)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last run: ",WR(p.created_at)]})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[k.critical>0&&a.jsxs(We,{variant:"secondary",className:"border-destructive/50 text-destructive",children:[k.critical," critical"]}),k.high>0&&a.jsxs(We,{variant:"secondary",className:"border-warning/50 text-warning",children:[k.high," high"]}),k.medium>0&&a.jsxs(We,{variant:"secondary",className:"text-muted-foreground",children:[k.medium," medium"]}),k.low>0&&a.jsxs(We,{variant:"secondary",className:"border-accent/50 text-accent",children:[k.low," low"]}),b.length===0&&a.jsx(We,{variant:"secondary",className:"text-success",children:"No issues"})]})]}):a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Rr,{className:"h-10 w-10 text-muted-foreground","aria-hidden":!0}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-foreground",children:"No audit yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:'Click "Start Audit" to get your current risk score and issues.'})]})]})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Issue list"}),a.jsx(pe,{children:"Findings from the audit. Click an issue for details and remediation. Auto-fix is available where marked."})]}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[360px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:v?[1,2,3,4].map(L=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},L)):b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(ZS,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No issues"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Checks include plaintext secrets, open binds, and risky skill permissions. Run an audit to see results."})]}):b.map(L=>a.jsx(CRe,{issue:L,isSelected:(t==null?void 0:t.id)===L.id,onSelect:()=>E(L)},L.id))})})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Incident response"}),a.jsx(pe,{children:"Quick actions to contain threats: revoke sessions, rotate secrets, export logs, or stop blast radius."})]}),a.jsx(Z,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:ERe.map(({type:L,label:K,icon:R})=>a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>I(L),disabled:_.isPending,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(R,{className:"mr-2 h-4 w-4"}),K]},L))})})]})]}),a.jsxs("aside",{className:"w-full lg:w-72 shrink-0 space-y-4","aria-label":"Security audit sidebar",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(sh,{className:"h-4 w-4","aria-hidden":!0}),"Previous audits"]}),a.jsx(pe,{children:"Quick links to recent audit runs."})]}),a.jsx(Z,{children:g?a.jsx("div",{className:"space-y-2",children:[1,2,3].map(L=>a.jsx(ce,{className:"h-12 w-full rounded-lg"},L))}):m.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No audits yet."}):a.jsx("ul",{className:"space-y-2",role:"list",children:m.slice(0,5).map(L=>a.jsx("li",{children:a.jsx("div",{className:J("rounded-lg border px-3 py-2 transition-colors",(p==null?void 0:p.id)===L.id?"border-primary bg-primary/10":"border-border bg-card/50 hover:bg-secondary/50"),children:a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("span",{className:"text-sm font-medium",children:["Risk ",L.risk_score]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:WR(L.created_at)})]})})},L.id))})})]}),a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export"}),a.jsx(pe,{children:"Export audit logs for compliance or incident response."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",className:"w-full transition-transform hover:scale-[1.02] active:scale-[0.98]",onClick:()=>h(!0),children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Export logs"]})})]})]}),a.jsx(wRe,{issue:t,open:i,onOpenChange:o,autoFixEnabled:n,onAutoFixChange:s,onApplyAutoFix:T,isApplyingAutoFix:S.isPending,onApplyManualFix:V,isApplyingManualFix:N.isPending}),a.jsx(_Re,{actionType:u,open:l,onOpenChange:c,onConfirm:O,isSubmitting:_.isPending}),a.jsx(NRe,{open:f,onOpenChange:h,onExport:B,isExporting:j.isPending})]})}const jn="/logs",Lc={getLogs:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null&&r!=="").map(([r,n])=>[r,Array.isArray(n)?n.join(","):String(n)])).toString():"";return be.get(`${jn}${t?`?${t}`:""}`)},getLog:e=>be.get(`${jn}/${e}`),createLog:e=>be.post(`${jn}`,e),getTraceByLogId:e=>be.get(`${jn}/${e}/trace`),getTrace:e=>be.get(`${jn}/traces/${e}`),createTrace:e=>be.post(`${jn}/traces`,e),updateTrace:(e,t)=>be.patch(`${jn}/traces/${e}`,t),exportLogs:e=>be.post(`${jn}/export`,e),getRetentionSettings:()=>be.get(`${jn}/retention`),updateRetentionSettings:e=>be.patch(`${jn}/retention`,e),createRetentionSettings:e=>be.post(`${jn}/retention`,e),getRedactionRules:()=>be.get(`${jn}/redaction-rules`),createRedactionRule:e=>be.post(`${jn}/redaction-rules`,e),updateRedactionRule:(e,t)=>be.patch(`${jn}/redaction-rules/${e}`,t),deleteRedactionRule:e=>be.delete(`${jn}/redaction-rules/${e}`)};function oC(e,t){return e().catch(()=>t)}const Es={all:["logs"],list:e=>[...Es.all,"list",e],detail:e=>[...Es.all,"detail",e],traceByLogId:e=>[...Es.all,"trace",e],trace:e=>[...Es.all,"trace-id",e],retention:()=>[...Es.all,"retention"],redactionRules:()=>[...Es.all,"redaction-rules"]};function ORe(e){return Ce({queryKey:Es.list(e),queryFn:()=>oC(()=>Lc.getLogs(e),[])})}function ARe(e){return Ce({queryKey:Es.traceByLogId(e??""),queryFn:()=>e?oC(()=>Lc.getTraceByLogId(e),null):Promise.resolve(null),enabled:!!e})}function TRe(){return fe({mutationFn:e=>Lc.exportLogs(e),onSuccess:()=>{W.success("Export started")},onError:e=>{W.error(e.message||"Export failed")}})}function RRe(){return Ce({queryKey:Es.redactionRules(),queryFn:()=>oC(()=>Lc.getRedactionRules(),[])})}function MRe(){const e=me();return fe({mutationFn:t=>Lc.createRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Es.redactionRules()}),W.success("Redaction rule added")},onError:t=>{W.error(t.message||"Failed to add redaction rule")}})}function $Re(){const e=me();return fe({mutationFn:({id:t,data:r})=>Lc.updateRedactionRule(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Es.redactionRules()}),W.success("Redaction rule updated")},onError:t=>{W.error(t.message||"Failed to update redaction rule")}})}function IRe(){const e=me();return fe({mutationFn:t=>Lc.deleteRedactionRule(t),onSuccess:()=>{e.invalidateQueries({queryKey:Es.redactionRules()}),W.success("Redaction rule removed")},onError:t=>{W.error(t.message||"Failed to remove redaction rule")}})}const Fq=["debug","info","warning","error","critical"],DRe=ft({severity:nr(Fq).optional(),from:_e().optional(),to:_e().optional(),search:_e().optional(),limit:cs.number().min(10).max(500).optional()});function LRe({open:e,onOpenChange:t,currentFilters:r,onApply:n}){const{register:s,handleSubmit:i,setValue:o,watch:l,reset:c,formState:{isDirty:u}}=ut({resolver:dt(DRe),defaultValues:{severity:void 0,from:(r==null?void 0:r.from)??"",to:(r==null?void 0:r.to)??"",search:(r==null?void 0:r.search)??"",limit:(r==null?void 0:r.limit)??100}}),d=l("severity"),f=m=>{const g={limit:m.limit,search:m.search||void 0,from:m.from||void 0,to:m.to||void 0};m.severity&&(g.severity=m.severity),n(g),t(!1)},h=()=>{c({severity:void 0,from:"",to:"",search:"",limit:100}),n({limit:100}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[480px]","aria-describedby":"filter-desc",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Filter logs"}),a.jsx(Re,{id:"filter-desc",children:"Refine the log stream by severity, date range, and keywords."})]}),a.jsxs("form",{onSubmit:i(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-severity",children:"Severity"}),a.jsxs(ot,{value:d??"",onValueChange:m=>o("severity",m||void 0,{shouldDirty:!0}),children:[a.jsx(st,{id:"filter-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(at,{children:Fq.map(m=>a.jsx(Se,{value:m,children:m},m))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-from",children:"From (ISO date)"}),a.jsx(ye,{id:"filter-from",type:"datetime-local",...s("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-to",children:"To (ISO date)"}),a.jsx(ye,{id:"filter-to",type:"datetime-local",...s("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-search",children:"Keyword search"}),a.jsx(ye,{id:"filter-search",placeholder:"Search in message",...s("search"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-limit",children:"Max results"}),a.jsx(ye,{id:"filter-limit",type:"number",min:10,max:500,...s("limit"),className:"font-mono"})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{type:"button",variant:"outline",onClick:h,children:"Clear"}),a.jsx(P,{type:"submit",disabled:!u,children:"Apply"})]})]})]})})}const Uq=["debug","info","warning","error","critical"],FRe=ft({format:nr(["json","csv"]),applyRedaction:ai(),from:_e().optional(),to:_e().optional(),severity:nr(Uq).optional()});function URe({open:e,onOpenChange:t,onExport:r,isExporting:n=!1,selectedLogIds:s}){const[i,o]=x.useState("json"),{register:l,handleSubmit:c,setValue:u,watch:d}=ut({resolver:dt(FRe),defaultValues:{format:"json",applyRedaction:!0,from:"",to:"",severity:void 0}}),f=d("applyRedaction"),h=d("severity"),m=p=>{const y={format:p.format,applyRedaction:p.applyRedaction,from:p.from||void 0,to:p.to||void 0,severity:p.severity,...s!=null&&s.length?{logIds:s}:{}};r(y),t(!1)},g=s!=null&&s.length?`Export ${s.length} selected log${s.length===1?"":"s"}`:"Export logs with your chosen format and redaction options.";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[480px]","aria-describedby":"export-desc",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Export logs"}),a.jsx(Re,{id:"export-desc",children:g})]}),a.jsxs("form",{onSubmit:c(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"export-format",children:"Format"}),a.jsxs(ot,{value:i,onValueChange:p=>{o(p),u("format",p)},children:[a.jsx(st,{id:"export-format",children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"json",children:"JSON"}),a.jsx(Se,{value:"csv",children:"CSV"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx(G,{htmlFor:"export-redaction",children:"Apply redaction"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use redacted message content in export"})]}),a.jsx(xr,{id:"export-redaction",checked:f,onCheckedChange:p=>u("applyRedaction",p)})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"export-from",children:"From (optional)"}),a.jsx(ye,{id:"export-from",type:"datetime-local",...l("from"),className:"font-mono text-sm"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"export-to",children:"To (optional)"}),a.jsx(ye,{id:"export-to",type:"datetime-local",...l("to"),className:"font-mono text-sm"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"export-severity",children:"Severity filter (optional)"}),a.jsxs(ot,{value:h??"",onValueChange:p=>u("severity",p||void 0),children:[a.jsx(st,{id:"export-severity",children:a.jsx(lt,{placeholder:"All severities"})}),a.jsx(at,{children:Uq.map(p=>a.jsx(Se,{value:p,children:p},p))})]})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Exporting":"Export"})]})]})]})})}const BRe=ft({field_name:_e().min(1,"Field name is required").max(120),is_redacted:ai()});function qRe({open:e,onOpenChange:t}){const[r,n]=x.useState(!1),{data:s=[],isLoading:i}=RRe(),o=MRe(),l=$Re(),c=IRe(),{register:u,handleSubmit:d,setValue:f,watch:h,reset:m,formState:{errors:g,isDirty:p}}=ut({resolver:dt(BRe),defaultValues:{field_name:"",is_redacted:!0}}),y=h("field_name"),b=h("is_redacted"),v=j=>{o.mutate({field_name:j.field_name.trim(),is_redacted:j.is_redacted},{onSuccess:()=>{m({field_name:"",is_redacted:!0}),n(!1)}})},w=j=>{l.mutate({id:j.id,data:{is_redacted:!j.is_redacted}})},_=j=>{c.mutate(j)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[520px] max-h-[90vh] flex flex-col","aria-describedby":"redaction-desc",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Redaction rules"]}),a.jsx(Re,{id:"redaction-desc",children:"Configure which log and trace fields are redacted before storage and export. Rules apply by default to exports."})]}),a.jsx(pt,{className:"flex-1 min-h-0 rounded-md border border-border",children:a.jsx("div",{className:"p-2 space-y-3",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):s.length===0&&!r?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[a.jsx(Rr,{className:"h-10 w-10 text-muted-foreground/50 mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No redaction rules"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1 max-w-xs",children:"Add field names (e.g. message, metadata) to redact in logs and exports."}),a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"mt-3",onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add rule"]})]}):a.jsxs(a.Fragment,{children:[s.map(j=>a.jsxs("div",{className:J("flex items-center justify-between gap-3 rounded-lg border px-3 py-2","border-border bg-card/50 transition-colors hover:bg-secondary/30"),children:[a.jsx("span",{className:"font-mono text-sm truncate flex-1",children:j.field_name}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx(xr,{checked:j.is_redacted,onCheckedChange:()=>w(j),"aria-label":`Redact ${j.field_name}`}),a.jsx(P,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>_(j.id),"aria-label":`Delete rule ${j.field_name}`,children:a.jsx(en,{className:"h-4 w-4"})})]})]},j.id)),r&&a.jsxs("form",{onSubmit:d(v),className:"rounded-lg border border-primary/30 bg-primary/5 p-3 space-y-3",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"redaction-field-name",children:"Field name"}),a.jsx(ye,{id:"redaction-field-name",placeholder:"e.g. message, metadata",className:"font-mono text-sm",...u("field_name"),autoFocus:!0}),g.field_name&&a.jsx("p",{className:"text-xs text-destructive",children:g.field_name.message})]}),a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx(G,{htmlFor:"redaction-enabled",children:"Redact by default"}),a.jsx(xr,{id:"redaction-enabled",checked:b,onCheckedChange:j=>f("is_redacted",j)})]}),a.jsxs(De,{className:"gap-2 sm:gap-0 pt-2",children:[a.jsx(P,{type:"button",variant:"outline",size:"sm",onClick:()=>{n(!1),m({field_name:"",is_redacted:!0})},children:"Cancel"}),a.jsx(P,{type:"submit",size:"sm",disabled:!(y!=null&&y.trim())||o.isPending||!p,children:o.isPending?"Adding":"Add rule"})]})]}),!r&&a.jsxs(P,{type:"button",variant:"outline",size:"sm",className:"w-full",onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add rule"]})]})})})]})})}function zRe(e){return e==null?"":e<1e3?`${e} ms`:`${(e/1e3).toFixed(2)} s`}function KR({label:e,icon:t,children:r,defaultOpen:n=!0}){const[s,i]=x.useState(n);return a.jsxs("div",{className:"rounded border border-border bg-secondary/30 overflow-hidden",children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 px-3 py-2 text-left text-sm font-medium hover:bg-secondary/50 transition-colors",onClick:()=>i(o=>!o),"aria-expanded":s,children:[s?a.jsx(Ec,{className:"h-4 w-4 shrink-0"}):a.jsx(Tr,{className:"h-4 w-4 shrink-0"}),a.jsx(t,{className:"h-4 w-4 text-muted-foreground"}),e]}),s&&a.jsx("div",{className:"border-t border-border px-3 py-2 font-mono text-xs text-muted-foreground",children:r})]})}function HR({trace:e,isLoading:t,onClose:r,onExport:n,className:s}){if(t)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]})}),a.jsx(Z,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx(ce,{className:"h-10 w-full"}),a.jsx(ce,{className:"h-24 w-full"}),a.jsx(ce,{className:"h-24 w-full"})]})})]});if(!e)return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(ud,{className:"h-4 w-4"})})]}),a.jsx(Z,{className:"p-6",children:a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"Select a log entry to view its trace."})})]});const i=Array.isArray(e.tool_invocation)?e.tool_invocation:[],o=Array.isArray(e.model_calls)?e.model_calls:[];return a.jsxs(X,{className:J("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",s),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(or,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[n&&a.jsx(P,{variant:"ghost",size:"icon",onClick:n,"aria-label":"Export trace",children:a.jsx(Ir,{className:"h-4 w-4"})}),r&&a.jsx(P,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Close",children:a.jsx(ud,{className:"h-4 w-4"})})]})]}),a.jsxs(Z,{className:"p-0",children:[a.jsxs("div",{className:"flex items-center gap-2 border-b border-border px-4 py-2 text-xs text-muted-foreground",children:[a.jsx(Lo,{className:"h-3.5 w-3.5"}),"Duration: ",zRe(e.duration_ms)]}),a.jsx(pt,{className:"h-[320px]",children:a.jsxs("div",{className:"space-y-2 p-3",children:[a.jsx(KR,{label:"Tool invocations",icon:jx,defaultOpen:!0,children:i.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(i,null,2)})}),a.jsx(KR,{label:"Model calls",icon:Ka,defaultOpen:!0,children:o.length===0?a.jsx("p",{className:"text-muted-foreground",children:"None"}):a.jsx("pre",{className:"whitespace-pre-wrap break-words",children:JSON.stringify(o,null,2)})})]})})]})]})}const GR={debug:{label:"debug",icon:t7,className:"text-muted-foreground"},info:{label:"info",icon:eN,className:"text-primary"},warning:{label:"warning",icon:Yi,className:"text-warning"},error:{label:"error",icon:Gi,className:"text-destructive"},critical:{label:"critical",icon:yx,className:"text-destructive font-semibold"}};function WRe(e){try{return new Date(e).toLocaleString(void 0,{dateStyle:"short",timeStyle:"medium"})}catch{return e}}function k0({log:e,isSelected:t,onSelect:r,isExportSelected:n,onExportSelect:s}){const i=GR[e.severity]??GR.info,o=i.icon,l=e.redacted_message??e.message,c=l.length>200?l.slice(0,200)+"":l;return a.jsxs("div",{className:J("flex items-start gap-2 w-full text-left rounded-lg border px-3 py-2.5 transition-colors hover:bg-secondary/50 focus-within:ring-2 focus-within:ring-ring",t?"border-primary bg-primary/10":"border-border bg-card/50"),children:[s&&a.jsx("button",{type:"button",role:"checkbox","aria-checked":n,onClick:u=>{u.stopPropagation(),s()},className:"shrink-0 mt-0.5 rounded border border-border p-1 hover:bg-secondary focus:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":n?"Deselect for export":"Select for export",children:a.jsx("span",{className:J("inline-block h-4 w-4 rounded border-2 border-current",n?"bg-primary border-primary":"bg-transparent"),"aria-hidden":!0})}),a.jsxs("button",{type:"button",onClick:r,className:"flex-1 min-w-0 text-left","aria-pressed":t,"aria-label":`View trace for log ${e.id}`,children:[a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsx(o,{className:J("h-4 w-4 shrink-0",i.className),"aria-hidden":!0}),a.jsx(We,{variant:"secondary",className:J("text-xs font-mono shrink-0",i.className),children:i.label}),a.jsx("span",{className:"text-xs font-mono text-muted-foreground shrink-0",children:WRe(e.timestamp)})]}),a.jsx("p",{className:"mt-1.5 font-mono text-xs text-foreground break-words line-clamp-2",children:c})]})]})}function VRe(){const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(!1),[o,l]=x.useState("logs"),[c,u]=x.useState({limit:100}),[d,f]=x.useState(null),[h,m]=x.useState(new Set),{data:g=[],isLoading:p}=ORe(c),{data:y,isLoading:b}=ARe(d),v=TRe(),w=C=>{u(C)},_=C=>{v.mutate(C,{onSuccess:E=>{E!=null&&E.download_url&&window.open(E.download_url,"_blank")}})},j=C=>{m(E=>{const I=new Set(E);return I.has(C)?I.delete(C):I.add(C),I})},S=()=>{h.size===g.length?m(new Set):m(new Set(g.map(C=>C.id)))},N=x.useMemo(()=>h.size>0?Array.from(h):void 0,[h]),k=C=>{C&&h.size>0||m(new Set),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Tr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Logs & Tracing"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(or,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Logs & Tracing"]}),a.jsx("p",{className:"text-muted-foreground",children:"Structured logs and per-run traces. Filter, view traces, and export with redaction."})]}),a.jsxs(ii,{value:o,onValueChange:l,className:"space-y-4",children:[a.jsxs(ka,{className:"grid w-full max-w-md grid-cols-3 rounded-lg bg-muted p-1",children:[a.jsxs(St,{value:"logs",className:"gap-2",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs"]}),a.jsxs(St,{value:"traces",className:"gap-2",children:[a.jsx(wE,{className:"h-4 w-4"}),"Traces"]}),a.jsxs(St,{value:"export",className:"gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"Export"]})]}),a.jsx(Nt,{value:"logs",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Log stream"}),a.jsx(pe,{children:"Real-time logs with severity. Select a row to view its run trace."})]})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs yet"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Connect the gateway to stream logs, or logs will appear here once available."})]}):g.map(C=>a.jsx(k0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id)},C.id))})})})]}),a.jsx(HR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Filters & actions"}),a.jsx(pe,{children:"Refine the log view, export, and redaction rules."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>{m(new Set),n(!0)},children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Export logs"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"traces",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsxs("div",{className:"space-y-6 min-w-0",children:[a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Run traces"}),a.jsx(pe,{children:"Select a log entry to view its run trace (tool invocations and model calls)."})]})}),a.jsx(Z,{children:a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(wE,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No log entries"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Logs appear here when available. Select one to view its run trace."})]}):g.map(C=>a.jsx(k0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id)},C.id))})})})]}),a.jsx(HR,{trace:y??null,isLoading:b,onClose:()=>f(null),onExport:void 0})]}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Trace actions"}),a.jsx(pe,{children:"View run trace details and configure redaction for exports."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Filters"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]})]})]})})]})}),a.jsx(Nt,{value:"export",className:"space-y-6 mt-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_320px]",children:[a.jsx("div",{className:"space-y-6 min-w-0",children:a.jsxs(X,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsx(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:a.jsxs("div",{children:[a.jsx(ne,{children:"Export logs"}),a.jsx(pe,{children:"Select logs to export, or export all filtered results. Choose format and redaction in the confirmation dialog."})]})}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(P,{variant:"outline",size:"sm",onClick:()=>S(),"aria-pressed":g.length>0&&h.size===g.length,children:h.size===g.length&&g.length>0?"Deselect all":"Select all"}),a.jsxs(P,{size:"sm",onClick:()=>k(h.size>0),disabled:p||g.length===0,children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),h.size>0?`Export ${h.size} selected`:"Export all (filtered)"]})]}),a.jsx(pt,{className:"h-[400px] rounded-md border border-border",children:a.jsx("div",{className:"p-3 space-y-2",children:p?[1,2,3,4,5].map(C=>a.jsx(ce,{className:"h-20 w-full rounded-lg"},C)):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(dc,{className:"h-12 w-12 text-muted-foreground/50 mb-3"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No logs to export"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1 max-w-sm",children:"Apply filters or wait for logs to appear, then select and export."})]}):g.map(C=>a.jsx(k0,{log:C,isSelected:d===C.id,onSelect:()=>f(E=>E===C.id?null:C.id),isExportSelected:h.has(C.id),onExportSelect:()=>j(C.id)},C.id))})})]})]})}),a.jsx("aside",{className:"space-y-4 lg:max-w-[320px]",children:a.jsxs(X,{className:"transition-shadow duration-200",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-base",children:"Export options"}),a.jsx(pe,{children:"Configure redaction rules and retention. Export uses your selected format and redaction settings."})]}),a.jsxs(Z,{className:"space-y-3",children:[a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>i(!0),children:[a.jsx(Rr,{className:"mr-2 h-4 w-4"}),"Redaction rules"]}),a.jsxs(P,{variant:"outline",className:"w-full justify-start",onClick:()=>t(!0),children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Filters"]})]})]})})]})})]}),a.jsx("footer",{className:"pt-4 border-t border-border",children:a.jsxs(ue,{to:"/settings",className:"inline-flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:[a.jsx(Hn,{className:"h-4 w-4"}),"Manage retention settings"]})}),a.jsx(LRe,{open:e,onOpenChange:t,currentFilters:c,onApply:w}),a.jsx(URe,{open:r,onOpenChange:n,onExport:_,isExporting:v.isPending,selectedLogIds:N}),a.jsx(qRe,{open:s,onOpenChange:i})]})}const Gf="admin_workspaces",Yf="admin_workspace_members",Qf="admin_licenses",YR="admin_analytics_metrics",$n={getWorkspaces:async()=>{const{data:e,error:t}=await z.from(Gf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWorkspace:async e=>{const{data:t,error:r}=await z.from(Gf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWorkspace:async e=>{const{data:t,error:r}=await z.from(Gf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspace:async(e,t)=>{const{data:r,error:n}=await z.from(Gf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWorkspace:async e=>{const{error:t}=await z.from(Gf).delete().eq("id",e);if(t)throw new Error(t.message)},getWorkspaceMembers:async e=>{const{data:t,error:r}=await z.from(Yf).select("*").eq("workspace_id",e).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getAllMembers:async()=>{const{data:e,error:t}=await z.from(Yf).select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},addWorkspaceMember:async e=>{const{data:t,error:r}=await z.from(Yf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateWorkspaceMember:async(e,t)=>{const{data:r,error:n}=await z.from(Yf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},removeWorkspaceMember:async e=>{const{error:t}=await z.from(Yf).delete().eq("id",e);if(t)throw new Error(t.message)},getLicenses:async e=>{let t=z.from(Qf).select("*").order("created_at",{ascending:!1});e!=null&&e.workspace_id&&(t=t.eq("workspace_id",e.workspace_id)),(e==null?void 0:e.user_id)!=null&&(t=t.eq("user_id",e.user_id));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},getLicense:async e=>{const{data:t,error:r}=await z.from(Qf).select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createLicense:async e=>{const{data:t,error:r}=await z.from(Qf).insert(e).select().single();if(r)throw new Error(r.message);return t},updateLicense:async(e,t)=>{const{data:r,error:n}=await z.from(Qf).update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteLicense:async e=>{const{error:t}=await z.from(Qf).delete().eq("id",e);if(t)throw new Error(t.message)},getAnalyticsMetrics:async e=>{let t=z.from(YR).select("*").order("bucket_time",{ascending:!1});(e==null?void 0:e.workspace_id)!=null&&(t=e.workspace_id?t.eq("workspace_id",e.workspace_id):t.is("workspace_id",null)),e!=null&&e.metric_type&&(t=t.eq("metric_type",e.metric_type)),e!=null&&e.from&&(t=t.gte("bucket_time",e.from)),e!=null&&e.to&&(t=t.lte("bucket_time",e.to)),e!=null&&e.limit&&(t=t.limit(e.limit));const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]},insertAnalyticsMetric:async e=>{const{data:t,error:r}=await z.from(YR).insert(e).select().single();if(r)throw new Error(r.message);return t},getProfileByUserId:async e=>{const{data:t,error:r}=await z.from("profiles").select("*").eq("user_id",e).maybeSingle();return r?null:t}};function jp(e,t){return e().catch(()=>t)}const Yt={all:["admin"],workspaces:()=>[...Yt.all,"workspaces"],workspace:e=>[...Yt.all,"workspace",e],workspaceMembers:e=>[...Yt.all,"workspace-members",e],allMembers:()=>[...Yt.all,"members"],licenses:e=>[...Yt.all,"licenses",e],license:e=>[...Yt.all,"license",e],analytics:e=>[...Yt.all,"analytics",e]};function KRe(){return Ce({queryKey:Yt.workspaces(),queryFn:()=>jp(()=>$n.getWorkspaces(),[])})}function HRe(){const e=me();return fe({mutationFn:t=>$n.createWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),W.success("Workspace created")},onError:t=>{W.error(t.message??"Failed to create workspace")}})}function GRe(){const e=me();return fe({mutationFn:({id:t,data:r})=>$n.updateWorkspace(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.workspaces()}),e.invalidateQueries({queryKey:Yt.workspace(r)}),W.success("Workspace updated")},onError:t=>{W.error(t.message??"Failed to update workspace")}})}function YRe(){const e=me();return fe({mutationFn:t=>$n.deleteWorkspace(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.workspaces()}),W.success("Workspace deleted")},onError:t=>{W.error(t.message??"Failed to delete workspace")}})}function QRe(){return Ce({queryKey:Yt.allMembers(),queryFn:()=>jp(()=>$n.getAllMembers(),[])})}function XRe(){const e=me();return fe({mutationFn:t=>$n.addWorkspaceMember(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r.workspace_id)}),W.success("User added to workspace")},onError:t=>{W.error(t.message??"Failed to add user")}})}function JRe(){const e=me();return fe({mutationFn:({id:t,data:r,workspaceId:n})=>$n.updateWorkspaceMember(t,r),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),W.success("Member updated")},onError:t=>{W.error(t.message??"Failed to update member")}})}function ZRe(){const e=me();return fe({mutationFn:({id:t})=>$n.removeWorkspaceMember(t),onSuccess:(t,{workspaceId:r})=>{e.invalidateQueries({queryKey:Yt.allMembers()}),e.invalidateQueries({queryKey:Yt.workspaceMembers(r)}),W.success("Member removed")},onError:t=>{W.error(t.message??"Failed to remove member")}})}function eMe(e){return Ce({queryKey:Yt.licenses(e),queryFn:()=>jp(()=>$n.getLicenses(e),[])})}function tMe(){const e=me();return fe({mutationFn:t=>$n.createLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),W.success("License created")},onError:t=>{W.error(t.message??"Failed to create license")}})}function rMe(){const e=me();return fe({mutationFn:({id:t,data:r})=>$n.updateLicense(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Yt.licenses()}),e.invalidateQueries({queryKey:Yt.license(r)}),W.success("License updated")},onError:t=>{W.error(t.message??"Failed to update license")}})}function nMe(){const e=me();return fe({mutationFn:t=>$n.deleteLicense(t),onSuccess:()=>{e.invalidateQueries({queryKey:Yt.licenses()}),W.success("License deleted")},onError:t=>{W.error(t.message??"Failed to delete license")}})}function sMe(e){return Ce({queryKey:Yt.analytics(e),queryFn:()=>jp(()=>$n.getAnalyticsMetrics(e),[])})}const aMe=e=>[...Yt.all,"profile",e];function iMe(e){return Ce({queryKey:aMe(e??""),queryFn:()=>e?jp(()=>$n.getProfileByUserId(e),null):Promise.resolve(null),enabled:!!e})}const oMe=ft({name:_e().min(1,"Name is required").max(200,"Name too long"),active_users_count:cs.number().min(0,"Must be 0 or more"),status:nr(["active","archived","suspended"])}),QR={name:"",active_users_count:0,status:"active"};function lMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s=null}){const i=!!s,{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:f}}=ut({resolver:dt(oMe),defaultValues:QR}),h=u("status");x.useEffect(()=>{e&&s?d({name:s.name,active_users_count:s.active_users_count,status:s.status}):e&&!s&&d(QR)},[e,s,d]);const m=g=>{r(i&&s?{name:g.name,active_users_count:g.active_users_count,status:g.status}:{name:g.name,active_users_count:g.active_users_count,status:g.status}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:i?"Edit workspace":"Create workspace"}),a.jsx(Re,{children:i?"Update workspace name, user count, and status.":"Add a new workspace for multi-tenant management."})]}),a.jsxs("form",{onSubmit:l(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"workspace-name",children:"Name"}),a.jsx(ye,{id:"workspace-name",placeholder:"Workspace name",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("name")}),f.name&&a.jsx("p",{className:"text-sm text-destructive",children:f.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"workspace-active-users",children:"Active users count"}),a.jsx(ye,{id:"workspace-active-users",type:"number",min:0,className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...o("active_users_count")}),f.active_users_count&&a.jsx("p",{className:"text-sm text-destructive",children:f.active_users_count.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Status"}),a.jsxs(ot,{value:h,onValueChange:g=>c("status",g),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace status",children:a.jsx(lt,{placeholder:"Select status"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"active",children:"Active"}),a.jsx(Se,{value:"archived",children:"Archived"}),a.jsx(Se,{value:"suspended",children:"Suspended"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":i?"Save":"Create"})]})]})]})})}const cMe=ft({user_id:_e().uuid("Invalid user ID"),role:nr(["admin","member","viewer"])}),XR={user_id:"",role:"member"};function uMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspace:s,member:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(cMe),defaultValues:XR}),m=d("role");x.useEffect(()=>{e&&i?f({user_id:i.user_id,role:i.role}):e&&!i&&f(XR)},[e,i,f]);const g=p=>{if(o&&i)r({role:p.role});else{if(!s)return;r({workspace_id:s.id,user_id:p.user_id,role:p.role})}t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:o?"Edit workspace member":"Add user to workspace"}),a.jsx(Re,{children:o?"Update the member role for this workspace.":"Assign a user to this workspace with a role. Enter the user ID from your auth system."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"member-user-id",children:"User ID"}),a.jsx(ye,{id:"member-user-id",placeholder:"UUID from auth.users",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id"),disabled:o}),h.user_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.user_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Role"}),a.jsxs(ot,{value:m,onValueChange:p=>u("role",p),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Member role",children:a.jsx(lt,{placeholder:"Select role"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"admin",children:"Admin"}),a.jsx(Se,{value:"member",children:"Member"}),a.jsx(Se,{value:"viewer",children:"Viewer"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n||!o&&!s,children:n?"Saving":o?"Save":"Add user"})]})]})]})})}const dMe=ft({workspace_id:_e().uuid("Select a workspace"),user_id:_e().optional(),license_type:nr(["seat","pro","enterprise","trial"]),expiry_date:_e().optional()}),JR={workspace_id:"",user_id:"",license_type:"seat",expiry_date:""};function fMe({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,workspaces:s,license:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:f,formState:{errors:h}}=ut({resolver:dt(dMe),defaultValues:JR}),m=d("workspace_id"),g=d("license_type");x.useEffect(()=>{var y;e&&i?f({workspace_id:i.workspace_id,user_id:i.user_id??"",license_type:i.license_type,expiry_date:i.expiry_date?i.expiry_date.slice(0,10):""}):e&&!i&&f({...JR,workspace_id:((y=s[0])==null?void 0:y.id)??""})},[e,i,s,f]);const p=y=>{const b=y.expiry_date?new Date(y.expiry_date).toISOString():null;r(o&&i?{user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}:{workspace_id:y.workspace_id,user_id:y.user_id||null,license_type:y.license_type,expiry_date:b}),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:o?"Edit license":"Allocate license"}),a.jsx(Re,{children:o?"Update license type and expiry. Reassign to a workspace/user if needed.":"Assign a license to a workspace or user. Leave user empty for workspace-level license."})]}),a.jsxs("form",{onSubmit:c(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Workspace"}),a.jsxs(ot,{value:m,onValueChange:y=>u("workspace_id",y),disabled:o,children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace",children:a.jsx(lt,{placeholder:"Select workspace"})}),a.jsx(at,{children:s.map(y=>a.jsx(Se,{value:y.id,children:y.name},y.id))})]}),h.workspace_id&&a.jsx("p",{className:"text-sm text-destructive",children:h.workspace_id.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"license-user-id",children:"User ID (optional)"}),a.jsx(ye,{id:"license-user-id",placeholder:"UUID or leave empty for workspace license",className:"font-mono text-sm transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("user_id")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"License type"}),a.jsxs(ot,{value:g,onValueChange:y=>u("license_type",y),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"License type",children:a.jsx(lt,{placeholder:"Select type"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"seat",children:"Seat"}),a.jsx(Se,{value:"pro",children:"Pro"}),a.jsx(Se,{value:"enterprise",children:"Enterprise"}),a.jsx(Se,{value:"trial",children:"Trial"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"license-expiry",children:"Expiry date (optional)"}),a.jsx(ye,{id:"license-expiry",type:"date",className:"transition-colors focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",...l("expiry_date")})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:n,children:n?"Saving":o?"Save":"Allocate"})]})]})]})})}const hMe=ft({workspace_id:_e().optional(),metric_type:_e().optional(),from:_e().optional(),to:_e().optional(),limit:cs.number().min(10).max(500).optional()}),Sg={workspace_id:"",metric_type:"",from:"",to:"",limit:100},mMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"];function pMe({open:e,onOpenChange:t,onApply:r,workspaces:n,currentValues:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=ut({resolver:dt(hMe),defaultValues:s??Sg});x.useEffect(()=>{e&&u(s??Sg)},[e,s,u]);const f=c("workspace_id"),h=c("metric_type"),m=p=>{r(p),t(!1)},g=()=>{u(Sg),r(Sg),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Filter analytics"}),a.jsx(Re,{children:"Refine data by workspace, metric type, date range, and limit."})]}),a.jsxs("form",{onSubmit:o(m),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Workspace"}),a.jsxs(ot,{value:f||"all",onValueChange:p=>l("workspace_id",p==="all"?"":p),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"all",children:"All workspaces"}),n.map(p=>a.jsx(Se,{value:p.id,children:p.name},p.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Metric type"}),a.jsxs(ot,{value:h||"all",onValueChange:p=>l("metric_type",p==="all"?"":p),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"all",children:"All types"}),mMe.map(p=>a.jsx(Se,{value:p,children:p.replace(/_/g," ")},p))]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-from",children:"From date"}),a.jsx("input",{id:"filter-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("from")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-to",children:"To date"}),a.jsx("input",{id:"filter-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("to")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"filter-limit",children:"Max results"}),a.jsx("input",{id:"filter-limit",type:"number",min:10,max:500,className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("limit",{valueAsNumber:!0})}),d.limit&&a.jsx("p",{className:"text-sm text-destructive",children:d.limit.message})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:g,children:"Reset"}),a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(P,{type:"submit",children:"Apply"})]})]})]})})}const gMe={admin:"default",member:"secondary",viewer:"outline"};function vMe({open:e,onOpenChange:t,member:r,workspace:n,onEdit:s,onRevoke:i,isRevoking:o=!1}){const l=(r==null?void 0:r.user_id)??null,{data:c,isLoading:u}=iMe(l);if(!r)return null;const d=(c==null?void 0:c.display_name)??null,f=r.created_at?Ba(Tl(r.created_at),"MMM d, yyyy"):"";return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(sp,{className:"h-5 w-5 text-muted-foreground"}),"User details"]}),a.jsx(Re,{children:"View and manage this user's workspace access and role."})]}),a.jsx("div",{className:"space-y-4 py-2",children:a.jsxs("div",{className:"grid gap-3 rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),u?a.jsx(ce,{className:"h-5 w-24"}):a.jsx("span",{className:"font-medium",children:d||""})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(od,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"User ID"}),a.jsx("code",{className:"rounded bg-muted/50 px-2 py-0.5 text-xs font-mono",children:r.user_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Lg,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{children:(n==null?void 0:n.name)??r.workspace_id})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Rr,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Role"}),a.jsx(We,{variant:gMe[r.role],className:J("capitalize"),children:r.role})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(dl,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Member since"}),a.jsx("span",{children:f})]})]})}),a.jsxs(De,{className:"gap-2 border-t border-border pt-4",children:[a.jsxs(P,{type:"button",variant:"outline",onClick:()=>{s(),t(!1)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(P,{type:"button",variant:"destructive",onClick:()=>{i(),t(!1)},disabled:o,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(x7,{className:"mr-2 h-4 w-4"}),o?"Revoking":"Revoke access"]})]})]})})}function yMe({open:e,onOpenChange:t,title:r="Confirm changes",description:n="Are you sure you want to save these settings? This may affect workspace behavior.",confirmLabel:s="Save changes",cancelLabel:i="Cancel",onConfirm:o,isSubmitting:l=!1}){const c=()=>{o(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[440px]",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"h-5 w-5 text-warning","aria-hidden":!0}),r]}),a.jsx(Re,{children:n})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:l,children:i}),a.jsx(P,{type:"button",onClick:c,disabled:l,className:"transition-transform hover:scale-[1.02]",children:l?"Saving":s})]})]})})}const xMe={allow_user_registration:!1,data_retention_days:90,registry_enabled:!0};function bMe({workspace:e,onUpdate:t,isSubmitting:r=!1}){var y,b,v;const[n,s]=x.useState(((y=e==null?void 0:e.configuration_details)==null?void 0:y.allow_user_registration)===!0),[i,o]=x.useState(Number((b=e==null?void 0:e.configuration_details)==null?void 0:b.data_retention_days)||90),[l,c]=x.useState(((v=e==null?void 0:e.configuration_details)==null?void 0:v.registry_enabled)!==!1),[u,d]=x.useState(!1),[f,h]=x.useState(!1);x.useEffect(()=>{const w=e==null?void 0:e.configuration_details;s((w==null?void 0:w.allow_user_registration)===!0),o(Number(w==null?void 0:w.data_retention_days)||90),c((w==null?void 0:w.registry_enabled)!==!1),h(!1)},[e==null?void 0:e.id,e==null?void 0:e.configuration_details]);const m=(w,_)=>{w==="allow_user_registration"&&s(!!_),w==="data_retention_days"&&o(Number(_)||90),w==="registry_enabled"&&c(!!_),h(!0)},g=()=>{!f||!e||d(!0)},p=()=>{e&&(t(e.id,{configuration_details:{...xMe,...e.configuration_details||{},allow_user_registration:n,data_retention_days:i,registry_enabled:l}}),h(!1))};return e?a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] transition-all duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsxs(pe,{children:["Default policies and registry controls for ",e.name,". Changes require confirmation."]})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(G,{htmlFor:"ws-allow-registration",className:"cursor-pointer flex-1",children:"Allow user registration"}),a.jsx(xr,{id:"ws-allow-registration",checked:n,onCheckedChange:w=>m("allow_user_registration",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/20 p-3",children:[a.jsx(G,{htmlFor:"ws-registry",className:"cursor-pointer flex-1",children:"Registry enabled"}),a.jsx(xr,{id:"ws-registry",checked:l,onCheckedChange:w=>m("registry_enabled",w),className:"data-[state=checked]:bg-primary"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"ws-retention",children:"Data retention (days)"}),a.jsxs(ot,{value:String(i),onValueChange:w=>m("data_retention_days",Number(w)),children:[a.jsx(st,{id:"ws-retention",className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]",children:a.jsx(lt,{})}),a.jsx(at,{children:[30,60,90,180,365].map(w=>a.jsxs(Se,{value:String(w),children:[w," days"]},w))})]})]}),a.jsxs(P,{onClick:g,disabled:!f||r,className:"w-full transition-transform hover:scale-[1.02]",children:[a.jsx(sN,{className:"mr-2 h-4 w-4"}),f?"Save changes":"No changes"]})]})]}),a.jsx(yMe,{open:u,onOpenChange:d,title:"Confirm workspace settings",description:"Saving will update default policies and registry controls for this workspace. Continue?",confirmLabel:"Save changes",onConfirm:p,isSubmitting:r})]}):a.jsx(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)]",children:a.jsxs(te,{children:[a.jsxs(ne,{className:"text-lg flex items-center gap-2",children:[a.jsx(Hn,{className:"h-5 w-5 text-muted-foreground"}),"Workspace settings"]}),a.jsx(pe,{children:"Select a workspace above or create one to configure policies and registry controls."})]})})}const wMe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function jMe({open:e,onOpenChange:t,license:r=null,workspaceName:n=""}){const s=r!=null&&r.expiry_date?Ba(Tl(r.expiry_date),"MMM d, yyyy"):"No expiry",i=(r==null?void 0:r.expiry_date)&&new Date(r.expiry_date)<new Date;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Billing & invoice details"]}),a.jsx(Re,{children:"Current license and billing information. Use Upgrade plan to change tier or manage payment."})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Workspace"}),a.jsx("span",{className:"font-medium",children:n})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"License type"}),a.jsx(We,{variant:i?"destructive":"default",children:wMe[r.license_type]??r.license_type})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Expires"}),a.jsx("span",{className:i?"text-destructive":"",children:s})]})]}),!r&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"No license linked. Allocate a license from License Management to see details here."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/20 p-4",children:[a.jsx("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Payment options"}),a.jsx("p",{className:"text-sm text-foreground/90 mb-3",children:"Billing is processed securely. Invoices are available after each billing cycle."}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),"Download invoice"]}),a.jsxs(P,{variant:"outline",size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(xx,{className:"mr-2 h-4 w-4"}),"Payment method"]}),a.jsxs(P,{size:"sm",className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Xo,{className:"mr-2 h-4 w-4"}),"Upgrade plan"]})]})]})]}),a.jsx(De,{className:"border-t border-border pt-4",children:a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"})})]})})}const _Me=ft({workspace_id:_e().optional(),from:_e().min(1,"From date is required"),to:_e().min(1,"To date is required"),format:nr(["csv","json"]),metric_type:_e().optional()}),SMe=["active_sessions","run_success_rate","run_failure_count","skill_installs","messages_sent","tool_invocations"],NMe={workspace_id:"",from:Ba(KN(new Date,30),"yyyy-MM-dd"),to:Ba(new Date,"yyyy-MM-dd"),format:"csv",metric_type:""};function kMe(e){const t=`bucket_time,workspace_id,metric_type,value,dimensions
`,r=e.map(n=>`${n.bucket_time},${n.workspace_id??""},${n.metric_type},${n.value},"${JSON.stringify(n.dimensions??{}).replace(/"/g,'""')}"`);return t+r.join(`
`)}function CMe({open:e,onOpenChange:t,workspaces:r}){const{register:n,handleSubmit:s,setValue:i,watch:o,formState:{errors:l,isSubmitting:c}}=ut({resolver:dt(_Me),defaultValues:NMe}),u=o("format"),d=o("workspace_id"),f=o("metric_type"),h=async m=>{try{const g=await $n.getAnalyticsMetrics({workspace_id:m.workspace_id||void 0,metric_type:m.metric_type||void 0,from:m.from,to:m.to,limit:5e3});if(g.length===0){W.info("No data in the selected range. Try a different date or filter.");return}const p=`analytics-report-${m.from}-${m.to}.${m.format}`;if(m.format==="csv"){const y=new Blob([kMe(g)],{type:"text/csv;charset=utf-8;"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}else{const y=new Blob([JSON.stringify(g,null,2)],{type:"application/json;charset=utf-8;"}),b=URL.createObjectURL(y),v=document.createElement("a");v.href=b,v.download=p,v.click(),URL.revokeObjectURL(b)}W.success("Report downloaded"),t(!1)}catch(g){W.error(g instanceof Error?g.message:"Failed to download report")}};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"max-w-[640px]",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2",children:[a.jsx(Ir,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),"Export analytics report"]}),a.jsx(Re,{children:"Select date range, format, and optional filters. Data will be downloaded for offline analysis."})]}),a.jsxs("form",{onSubmit:s(h),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"report-from",children:"From date"}),a.jsx("input",{id:"report-from",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("from")}),l.from&&a.jsx("p",{className:"text-sm text-destructive",children:l.from.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"report-to",children:"To date"}),a.jsx("input",{id:"report-to",type:"date",className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))] focus-visible:ring-offset-2",...n("to")}),l.to&&a.jsx("p",{className:"text-sm text-destructive",children:l.to.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Workspace"}),a.jsxs(ot,{value:d||"all",onValueChange:m=>i("workspace_id",m==="all"?"":m),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Workspace filter",children:a.jsx(lt,{placeholder:"All workspaces"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"all",children:"All workspaces"}),r.map(m=>a.jsx(Se,{value:m.id,children:m.name},m.id))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Metric type"}),a.jsxs(ot,{value:f||"all",onValueChange:m=>i("metric_type",m==="all"?"":m),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Metric type",children:a.jsx(lt,{placeholder:"All types"})}),a.jsxs(at,{children:[a.jsx(Se,{value:"all",children:"All types"}),SMe.map(m=>a.jsx(Se,{value:m,children:m.replace(/_/g," ")},m))]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{children:"Format"}),a.jsxs(ot,{value:u,onValueChange:m=>i("format",m),children:[a.jsx(st,{className:"focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Export format",children:a.jsx(lt,{})}),a.jsxs(at,{children:[a.jsx(Se,{value:"csv",children:"CSV"}),a.jsx(Se,{value:"json",children:"JSON"})]})]})]}),a.jsxs(De,{className:"gap-2 pt-4",children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:c,children:"Cancel"}),a.jsxs(P,{type:"submit",disabled:c,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-2 h-4 w-4"}),c?"Preparing":"Download report"]})]})]})]})})}const EMe={active:"default",archived:"secondary",suspended:"destructive"},PMe={admin:"default",member:"secondary",viewer:"outline"},OMe={seat:"Seat",pro:"Pro",enterprise:"Enterprise",trial:"Trial"};function AMe(){var H;const[e,t]=x.useState("workspaces"),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,p]=x.useState(null),[y,b]=x.useState(!1),[v,w]=x.useState(null),[_,j]=x.useState(null),[S,N]=x.useState(!1),[k,C]=x.useState(null),[E,I]=x.useState(!1),[O,B]=x.useState(null),[T,V]=x.useState(!1),[L,K]=x.useState(""),{data:R=[],isLoading:M}=KRe(),{data:$=[],isLoading:ee}=QRe();x.useEffect(()=>{R.length>0&&!k&&C(R[0])},[R,k]);const{data:D=[],isLoading:ie}=eMe(),{data:ve=[],isLoading:Ve}=sMe({workspace_id:(v==null?void 0:v.workspace_id)||void 0,metric_type:(v==null?void 0:v.metric_type)||void 0,from:(v==null?void 0:v.from)||void 0,to:(v==null?void 0:v.to)||void 0,limit:(v==null?void 0:v.limit)??100}),Ke=HRe(),de=GRe(),qe=YRe(),ae=XRe(),je=JRe(),Y=ZRe(),Q=tMe(),Xe=rMe(),He=nMe(),xt=x.useMemo(()=>{const U={},le=v!=null&&v.from?Tl(v.from):KN(new Date,30),he=v!=null&&v.to?Tl(v.to):new Date;for(let se=new Date(le);se<=he;se.setDate(se.getDate()+1)){const Ne=Ba(se,"yyyy-MM-dd");U[Ne]={date:Ne,value:0,sessions:0,runs:0}}return ve.forEach(se=>{const Ne=se.bucket_time.slice(0,10);U[Ne]||(U[Ne]={date:Ne,value:0,sessions:0,runs:0}),U[Ne].value+=Number(se.value),se.metric_type==="active_sessions"&&(U[Ne].sessions=Number(se.value)),(se.metric_type==="run_success_rate"||se.metric_type==="run_failure_count")&&(U[Ne].runs=Number(se.value))}),Object.values(U).sort((se,Ne)=>new Date(se.date).getTime()-new Date(Ne.date).getTime())},[ve,v]),ct=x.useMemo(()=>{const U={};return R.forEach(le=>{U[le.id]=le}),U},[R]),zt=x.useMemo(()=>{if(!L.trim())return $;const U=L.trim().toLowerCase();return $.filter(le=>{var he;return le.user_id.toLowerCase().includes(U)||(((he=ct[le.workspace_id])==null?void 0:he.name)??"").toLowerCase().includes(U)||le.role.toLowerCase().includes(U)})},[$,L,ct]),Sr=x.useMemo(()=>{const U=new Date,le=new Date(U.getTime()+30*24*60*60*1e3);let he=0,se=0;return D.forEach(Ne=>{(!Ne.expiry_date||new Date(Ne.expiry_date)>=U)&&he++,Ne.expiry_date&&new Date(Ne.expiry_date)<=le&&new Date(Ne.expiry_date)>=U&&se++}),{total:D.length,active:he,expiringSoon:se}},[D]),dn=U=>{s?(de.mutate({id:s.id,data:U}),i(null)):Ke.mutate(U),n(!1)},ys=U=>{c?(je.mutate({id:c.id,data:U,workspaceId:c.workspace_id}),u(null)):d&&"workspace_id"in U&&(ae.mutate(U),f(null)),l(!1)},F=U=>{g?(Xe.mutate({id:g.id,data:U}),p(null)):Q.mutate(U),m(!1)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin & Analytics"}),a.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Workspace management, user provisioning, license controls, and analytics. Cloud-only."})]})}),a.jsxs(ii,{value:e,onValueChange:t,className:"space-y-4",children:[a.jsxs(ka,{className:"inline-flex h-10 items-center justify-center rounded-lg bg-card border border-border p-1 gap-1",children:[a.jsxs(St,{value:"workspaces",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Lg,{className:"mr-2 h-4 w-4"}),"Workspace Management"]}),a.jsxs(St,{value:"users",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(Sw,{className:"mr-2 h-4 w-4"}),"User Management"]}),a.jsxs(St,{value:"licenses",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(_o,{className:"mr-2 h-4 w-4"}),"License Management"]}),a.jsxs(St,{value:"analytics",className:"rounded-md px-3 py-1.5 text-sm font-medium data-[state=active]:bg-primary data-[state=active]:text-primary-foreground",children:[a.jsx(nh,{className:"mr-2 h-4 w-4"}),"Analytics"]})]}),a.jsx(Nt,{value:"workspaces",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-[1fr_340px]",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"Workspaces"}),a.jsxs(P,{size:"sm",onClick:()=>{i(null),n(!0)},children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Add workspace"]})]}),a.jsx(Z,{children:M?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):R.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Lg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No workspaces yet. Add one to manage users and licenses."}),a.jsxs(P,{onClick:()=>n(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Add workspace"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:R.map(U=>a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md",(k==null?void 0:k.id)===U.id&&"ring-2 ring-primary/50"),children:[a.jsxs("button",{type:"button",className:"min-w-0 flex-1 text-left",onClick:()=>C(U),children:[a.jsx("p",{className:"font-medium truncate",children:U.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[U.active_users_count," active users"]})]}),a.jsx(We,{variant:EMe[U.status],className:"shrink-0 ml-2",children:U.status}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0 ml-2",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{i(U),n(!0)},children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this workspace? This will remove members and licenses.")&&qe.mutate(U.id)},children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]},U.id))})})})]}),a.jsx(bMe,{workspace:k??R[0]??null,onUpdate:(U,le)=>de.mutate({id:U,data:le}),isSubmitting:de.isPending})]})}),a.jsx(Nt,{value:"users",className:"space-y-4 mt-4",children:a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"User Management"}),a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsxs("div",{className:"relative",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground","aria-hidden":!0}),a.jsx(ye,{placeholder:"Search by user ID, workspace, role",value:L,onChange:U=>K(U.target.value),className:"pl-9 w-full sm:w-[240px] h-9 rounded-md border border-input bg-background text-sm focus-visible:ring-2 focus-visible:ring-[rgb(var(--ring))]","aria-label":"Search users"})]}),a.jsxs(P,{size:"sm",onClick:()=>{u(null),f(R[0]??null),l(!0)},disabled:R.length===0,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(jE,{className:"mr-1 h-4 w-4"}),"Add user"]})]})]}),a.jsx(Z,{children:ee?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):$.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Sw,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No users assigned to workspaces. Add a workspace first, then add users."}),a.jsxs(P,{onClick:()=>{f(R[0]??null),l(!0)},disabled:R.length===0,children:[a.jsx(jE,{className:"mr-2 h-4 w-4"}),"Add user"]})]}):a.jsx(pt,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"rounded-lg border border-border overflow-hidden",children:a.jsxs("table",{className:"w-full text-sm",role:"grid","aria-label":"User management table",children:[a.jsx("thead",{className:"sticky top-0 z-10 bg-card border-b border-border",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"User ID"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden sm:table-cell",children:"Workspace"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12",children:"Role"}),a.jsx("th",{className:"text-left font-medium text-muted-foreground px-3 py-3 h-12 hidden md:table-cell",children:"Last login"}),a.jsx("th",{className:"text-right font-medium text-muted-foreground px-3 py-3 h-12 w-[100px]",children:"Actions"})]})}),a.jsx("tbody",{children:zt.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-3 py-8 text-center text-muted-foreground",children:"No users match your search."})}):zt.map(U=>{var le;return a.jsxs("tr",{className:"border-b border-border last:border-0 bg-secondary/20 hover:bg-secondary/40 transition-colors",children:[a.jsxs("td",{className:"px-3 py-3 font-mono text-xs truncate max-w-[140px]",children:[U.user_id.slice(0,8),""]}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden sm:table-cell truncate max-w-[120px]",children:((le=ct[U.workspace_id])==null?void 0:le.name)??U.workspace_id.slice(0,8)}),a.jsx("td",{className:"px-3 py-3",children:a.jsx(We,{variant:PMe[U.role],className:"capitalize",children:U.role})}),a.jsx("td",{className:"px-3 py-3 text-muted-foreground hidden md:table-cell",children:""}),a.jsx("td",{className:"px-3 py-3 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{j(U),N(!0)},"aria-label":"View user details",children:a.jsx(n7,{className:"h-4 w-4"})}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsx(P,{variant:"ghost",size:"icon",className:"h-8 w-8","aria-label":"Actions",children:a.jsx(va,{className:"h-4 w-4"})})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{u(U),f(null),l(!0)},children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit role"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this user from the workspace?")&&Y.mutate({id:U.id,workspaceId:U.workspace_id})},children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]})})]},U.id)})})]})})})})]})}),a.jsxs(Nt,{value:"licenses",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Total licenses"}),a.jsx(_o,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Sr.total})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Active"}),a.jsx(_o,{className:"h-4 w-4 text-success"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Sr.active})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Expiring soon"}),a.jsx(_o,{className:"h-4 w-4 text-warning"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:Sr.expiringSoon})})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:"Billing"}),a.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",size:"sm",className:"w-full transition-transform hover:scale-[1.02]",onClick:()=>{B(null),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing & invoices"]})})]})]}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ne,{className:"text-lg",children:"License Management"}),a.jsxs(P,{size:"sm",onClick:()=>{p(null),m(!0)},className:"transition-transform hover:scale-[1.02]",children:[a.jsx(It,{className:"mr-1 h-4 w-4"}),"Allocate license"]})]}),a.jsx(Z,{children:ie?a.jsxs("div",{className:"space-y-2",children:[a.jsx(ce,{className:"h-12 w-full rounded-lg"}),a.jsx(ce,{className:"h-12 w-full rounded-lg"})]}):D.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(_o,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No licenses allocated. Allocate a license to a workspace or user."}),a.jsxs(P,{onClick:()=>m(!0),children:[a.jsx(It,{className:"mr-2 h-4 w-4"}),"Allocate license"]})]}):a.jsx(pt,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-2",children:D.map(U=>{var le;return a.jsxs("li",{className:J("flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3 transition-all duration-200 hover:bg-secondary/50 hover:shadow-md"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:OMe[U.license_type]??U.license_type}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[((le=ct[U.workspace_id])==null?void 0:le.name)??U.workspace_id,U.user_id?`  ${U.user_id.slice(0,8)}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[U.expiry_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",Ba(Tl(U.expiry_date),"MMM d, yyyy")]}),a.jsxs(Ms,{children:[a.jsx($s,{asChild:!0,children:a.jsxs(P,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(va,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(fs,{align:"end",children:[a.jsxs(Rt,{onClick:()=>{B(U),I(!0)},children:[a.jsx(or,{className:"mr-2 h-4 w-4"}),"View billing"]}),a.jsxs(Rt,{onClick:()=>{p(U),m(!0)},children:[a.jsx(Ci,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rt,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Delete this license allocation?")&&He.mutate(U.id)},children:[a.jsx(en,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})]},U.id)})})})})]})]}),a.jsxs(Nt,{value:"analytics",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-muted-foreground text-sm",children:"Sessions, run success rates, skill installs. Filter by workspace and date range."}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>b(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(bh,{className:"mr-1 h-4 w-4"}),"Filter"]}),a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>V(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"mr-1 h-4 w-4"}),"Download report"]})]})]}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active sessions",value:ve.filter(U=>U.metric_type==="active_sessions").reduce((U,le)=>U+Number(le.value),0),icon:Sw},{title:"Run success rate",value:ve.filter(U=>U.metric_type==="run_success_rate").reduce((U,le)=>U+Number(le.value),0)||"",icon:nh},{title:"Skill installs",value:ve.filter(U=>U.metric_type==="skill_installs").reduce((U,le)=>U+Number(le.value),0),icon:Lg},{title:"Data points",value:ve.length,icon:nh}].map(({title:U,value:le,icon:he})=>a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 transition-all duration-200 hover:shadow-lg hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:U}),a.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Z,{children:a.jsx("div",{className:"text-2xl font-bold",children:le})})]},U))}),a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Metrics over time"}),a.jsx(pe,{children:"Aggregated metrics by date. Use Filter to change workspace or date range."})]}),a.jsx(Z,{children:Ve?a.jsx(ce,{className:"h-[280px] w-full rounded-lg"}):xt.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(nh,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"No metrics in this period. Data is populated when runs and sessions are recorded."}),a.jsxs(P,{variant:"outline",onClick:()=>b(!0),children:[a.jsx(bh,{className:"mr-2 h-4 w-4"}),"Change filter"]})]}):a.jsx(H_,{width:"100%",height:280,children:a.jsxs($q,{data:xt,children:[a.jsx(By,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Sc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Nc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ss,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelStyle:{color:"rgb(var(--foreground))"},formatter:U=>[U,"Value"],labelFormatter:U=>Ba(Tl(U),"MMM d, yyyy")}),a.jsx(to,{type:"monotone",dataKey:"value",stroke:"rgb(var(--primary))",fill:"rgb(var(--primary))",fillOpacity:.2,name:"Value"})]})})})]}),xt.length>0&&a.jsxs(X,{className:"rounded-[10px] border-border shadow-[0_8px_16px_rgba(0,0,0,0.2)] p-3 sm:p-4",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Metric breakdown (bar)"}),a.jsx(pe,{children:"Daily values for the selected period."})]}),a.jsx(Z,{children:a.jsx(H_,{width:"100%",height:240,children:a.jsxs(MAe,{data:xt,children:[a.jsx(By,{strokeDasharray:"3 3",className:"stroke-border"}),a.jsx(Sc,{dataKey:"date",className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Nc,{className:"text-xs",tick:{fill:"rgb(var(--muted-foreground))"}}),a.jsx(Ss,{contentStyle:{backgroundColor:"rgb(var(--card))",border:"1px solid rgb(var(--border))",borderRadius:"var(--radius)"},labelFormatter:U=>Ba(Tl(U),"MMM d, yyyy")}),a.jsx($c,{dataKey:"value",fill:"rgb(var(--accent))",radius:[4,4,0,0],name:"Value"})]})})})]})]})]}),a.jsx(lMe,{open:r,onOpenChange:n,onSubmit:dn,isSubmitting:Ke.isPending||de.isPending,workspace:s}),a.jsx(uMe,{open:o,onOpenChange:l,onSubmit:ys,isSubmitting:ae.isPending||je.isPending,workspace:c?ct[c.workspace_id]??null:d,member:c}),a.jsx(fMe,{open:h,onOpenChange:m,onSubmit:F,isSubmitting:Q.isPending||Xe.isPending,workspaces:R,license:g}),a.jsx(pMe,{open:y,onOpenChange:b,onApply:w,workspaces:R,currentValues:v}),a.jsx(vMe,{open:S,onOpenChange:N,member:_,workspace:_?ct[_.workspace_id]??null:null,onEdit:()=>{_&&(N(!1),u(_),f(null),l(!0))},onRevoke:()=>{_&&(Y.mutate({id:_.id,workspaceId:_.workspace_id}),j(null),N(!1))},isRevoking:Y.isPending}),a.jsx(jMe,{open:E,onOpenChange:I,license:O,workspaceName:O?((H=ct[O.workspace_id])==null?void 0:H.name)??"":void 0}),a.jsx(CMe,{open:T,onOpenChange:V,workspaces:R})]})}var Ib="Collapsible",[TMe,Bq]=Us(Ib),[RMe,lC]=TMe(Ib),qq=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:i,onOpenChange:o,...l}=e,[c,u]=Ja({prop:n,defaultProp:s??!1,onChange:o,caller:Ib});return a.jsx(RMe,{scope:r,disabled:i,contentId:Ts(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:a.jsx(Qe.div,{"data-state":uC(c),"data-disabled":i?"":void 0,...l,ref:t})})});qq.displayName=Ib;var zq="CollapsibleTrigger",Wq=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=lC(zq,r);return a.jsx(Qe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":uC(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:Pe(e.onClick,s.onOpenToggle)})});Wq.displayName=zq;var cC="CollapsibleContent",Vq=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=lC(cC,e.__scopeCollapsible);return a.jsx(Yn,{present:r||s.open,children:({present:i})=>a.jsx(MMe,{...n,ref:t,present:i})})});Vq.displayName=cC;var MMe=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...i}=e,o=lC(cC,r),[l,c]=x.useState(n),u=x.useRef(null),d=gt(t,u),f=x.useRef(0),h=f.current,m=x.useRef(0),g=m.current,p=o.open||l,y=x.useRef(p),b=x.useRef(void 0);return x.useEffect(()=>{const v=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(v)},[]),jr(()=>{const v=u.current;if(v){b.current=b.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const w=v.getBoundingClientRect();f.current=w.height,m.current=w.width,y.current||(v.style.transitionDuration=b.current.transitionDuration,v.style.animationName=b.current.animationName),c(n)}},[o.open,n]),a.jsx(Qe.div,{"data-state":uC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!p,...i,ref:d,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:p&&s})});function uC(e){return e?"open":"closed"}var $Me=qq,IMe=Wq,DMe=Vq,Oa="Accordion",LMe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dC,FMe,UMe]=Rx(Oa),[Db]=Us(Oa,[UMe,Bq]),fC=Bq(),Kq=A.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,i=n;return a.jsx(dC.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(WMe,{...i,ref:t}):a.jsx(zMe,{...s,ref:t})})});Kq.displayName=Oa;var[Hq,BMe]=Db(Oa),[Gq,qMe]=Db(Oa,{collapsible:!1}),zMe=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:i=!1,...o}=e,[l,c]=Ja({prop:r,defaultProp:n??"",onChange:s,caller:Oa});return a.jsx(Hq,{scope:e.__scopeAccordion,value:A.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:A.useCallback(()=>i&&c(""),[i,c]),children:a.jsx(Gq,{scope:e.__scopeAccordion,collapsible:i,children:a.jsx(Yq,{...o,ref:t})})})}),WMe=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...i}=e,[o,l]=Ja({prop:r,defaultProp:n??[],onChange:s,caller:Oa}),c=A.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=A.useCallback(d=>l((f=[])=>f.filter(h=>h!==d)),[l]);return a.jsx(Hq,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(Gq,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(Yq,{...i,ref:t})})})}),[VMe,Lb]=Db(Oa),Yq=A.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:i="vertical",...o}=e,l=A.useRef(null),c=gt(l,t),u=FMe(r),f=ef(s)==="ltr",h=Pe(e.onKeyDown,m=>{var k;if(!LMe.includes(m.key))return;const g=m.target,p=u().filter(C=>{var E;return!((E=C.ref.current)!=null&&E.disabled)}),y=p.findIndex(C=>C.ref.current===g),b=p.length;if(y===-1)return;m.preventDefault();let v=y;const w=0,_=b-1,j=()=>{v=y+1,v>_&&(v=w)},S=()=>{v=y-1,v<w&&(v=_)};switch(m.key){case"Home":v=w;break;case"End":v=_;break;case"ArrowRight":i==="horizontal"&&(f?j():S());break;case"ArrowDown":i==="vertical"&&j();break;case"ArrowLeft":i==="horizontal"&&(f?S():j());break;case"ArrowUp":i==="vertical"&&S();break}const N=v%b;(k=p[N].ref.current)==null||k.focus()});return a.jsx(VMe,{scope:r,disabled:n,direction:s,orientation:i,children:a.jsx(dC.Slot,{scope:r,children:a.jsx(Qe.div,{...o,"data-orientation":i,ref:c,onKeyDown:n?void 0:h})})})}),Ky="AccordionItem",[KMe,hC]=Db(Ky),Qq=A.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,i=Lb(Ky,r),o=BMe(Ky,r),l=fC(r),c=Ts(),u=n&&o.value.includes(n)||!1,d=i.disabled||e.disabled;return a.jsx(KMe,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx($Me,{"data-orientation":i.orientation,"data-state":r6(u),...l,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});Qq.displayName=Ky;var Xq="AccordionHeader",Jq=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Lb(Oa,r),i=hC(Xq,r);return a.jsx(Qe.h3,{"data-orientation":s.orientation,"data-state":r6(i.open),"data-disabled":i.disabled?"":void 0,...n,ref:t})});Jq.displayName=Xq;var K1="AccordionTrigger",Zq=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Lb(Oa,r),i=hC(K1,r),o=qMe(K1,r),l=fC(r);return a.jsx(dC.ItemSlot,{scope:r,children:a.jsx(IMe,{"aria-disabled":i.open&&!o.collapsible||void 0,"data-orientation":s.orientation,id:i.triggerId,...l,...n,ref:t})})});Zq.displayName=K1;var e6="AccordionContent",t6=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=Lb(Oa,r),i=hC(e6,r),o=fC(r);return a.jsx(DMe,{role:"region","aria-labelledby":i.triggerId,"data-orientation":s.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});t6.displayName=e6;function r6(e){return e?"open":"closed"}var HMe=Kq,n6=Qq,GMe=Jq,s6=Zq,a6=t6;const YMe=HMe,i6=x.forwardRef(({className:e,...t},r)=>a.jsx(n6,{ref:r,className:J("border-b border-border",e),...t}));i6.displayName=n6.displayName;const o6=x.forwardRef(({className:e,children:t,...r},n)=>a.jsx(GMe,{className:"flex",children:a.jsxs(s6,{ref:n,className:J("flex flex-1 items-center justify-between py-4 text-left font-medium transition-all duration-200 hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Ec,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));o6.displayName=s6.displayName;const l6=x.forwardRef(({className:e,children:t,...r},n)=>a.jsx(a6,{ref:n,className:J("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:a.jsx("div",{className:"pb-4 pt-0 text-muted-foreground",children:t})}));l6.displayName=a6.displayName;const QMe="help_faqs",XMe="help_doc_links",JMe="support_requests",ZMe="help_changelog",Fb={getFaqs:async()=>{const{data:e,error:t}=await z.from(QMe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},getDocLinks:async()=>{const{data:e,error:t}=await z.from(XMe).select("*").order("sort_order",{ascending:!0}).order("created_at",{ascending:!0});if(t)throw new Error(t.message);return e??[]},submitSupportRequest:async e=>{const t={...e,user_id:e.user_id??null,context_info:e.context_info??{},status:e.status??"open"},{data:r,error:n}=await z.from(JMe).insert(t).select().single();if(n)throw new Error(n.message);return r},getChangelog:async(e=50)=>{const{data:t,error:r}=await z.from(ZMe).select("*").order("date",{ascending:!1}).order("created_at",{ascending:!1}).limit(e);if(r)throw new Error(r.message);return t??[]}},nc={all:["help"],faqs:()=>[...nc.all,"faqs"],docLinks:()=>[...nc.all,"doc-links"],changelog:()=>[...nc.all,"changelog"]};function mC(e,t){return e().catch(()=>t)}function e$e(){return Ce({queryKey:nc.faqs(),queryFn:()=>mC(Fb.getFaqs,[])})}function t$e(){return Ce({queryKey:nc.docLinks(),queryFn:()=>mC(Fb.getDocLinks,[])})}function r$e(){const e=me();return fe({mutationFn:t=>Fb.submitSupportRequest(t),onSuccess:()=>{e.invalidateQueries({queryKey:nc.all}),W.success("Support request submitted. Well get back to you soon.")},onError:t=>{W.error(t.message||"Failed to submit support request")}})}function n$e(e){return Ce({queryKey:[...nc.changelog(),50],queryFn:()=>mC(()=>Fb.getChangelog(50),[])})}function s$e({open:e,onOpenChange:t}){return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{showClose:!0,className:"max-w-md",children:[a.jsx(Ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-success/15 text-success",children:a.jsx(wa,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(Te,{children:"Request received"}),a.jsx(Re,{children:"Thanks for reaching out. Well review your message and get back to you soon."})]})]})}),a.jsx(De,{className:"sm:justify-end",children:a.jsx(P,{onClick:()=>t(!1),children:"Done"})})]})})}const a$e=ft({name:_e().min(1,"Name is required").max(255,"Name is too long"),email:_e().min(1,"Email is required").email("Enter a valid email"),issue_description:_e().min(10,"Please describe your issue in at least 10 characters").max(4e3,"Description must be 4000 characters or less")}),C0={name:"",email:"",issue_description:""};function i$e(){var f;const{user:e}=gx(),t=r$e(),[r,n]=x.useState(!1),s=x.useMemo(()=>{const h={page:"help",pathname:typeof window<"u"?window.location.pathname:""};return e!=null&&e.id&&(h.user_id=e.id),e!=null&&e.email&&(h.user_email=e.email),h},[e==null?void 0:e.id,e==null?void 0:e.email]),{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=ut({resolver:dt(a$e),defaultValues:e!=null&&e.email?{...C0,name:((f=e.user_metadata)==null?void 0:f.full_name)??"",email:e.email??""}:C0}),d=async h=>{const m={name:h.name.trim(),email:h.email.trim(),issue_description:h.issue_description.trim(),context_info:s,user_id:(e==null?void 0:e.id)??null};await t.mutateAsync(m),l(C0),n(!0)};return a.jsxs(a.Fragment,{children:[a.jsxs(X,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg font-semibold",children:"Send a request"}),a.jsx(pe,{children:"Describe your issue and well get back to you. Context (current page, account) is included to help us respond faster."})]}),a.jsx(Z,{children:a.jsxs("form",{onSubmit:o(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"support_name",children:"Name"}),a.jsx(ye,{id:"support_name",placeholder:"Your name",className:"rounded-md border border-input px-3 py-2",...i("name")}),c.name&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"support_email",children:"Email"}),a.jsx(ye,{id:"support_email",type:"email",placeholder:"you@example.com",className:"rounded-md border border-input px-3 py-2",...i("email")}),c.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"support_issue",children:"Issue description"}),a.jsx(iC,{id:"support_issue",placeholder:"Describe what you need help with...",rows:4,className:"rounded-md border border-input px-3 py-2",...i("issue_description")}),c.issue_description&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:c.issue_description.message})]}),a.jsx(P,{type:"submit",className:"rounded-md px-4 py-3 font-medium",disabled:u,children:u?"Sending":"Send request"})]})})]}),a.jsx(s$e,{open:r,onOpenChange:n})]})}const o$e=[{title:"Install Gateway",description:"Download and run the Clawgate gateway on your machine to get started.",href:"/download",icon:Ir,cta:"Download"},{title:"Connect first channel",description:"Add Telegram, Slack, Discord, or WhatsApp so you can talk to your agent from chat.",href:"/channels",icon:bu,cta:"Channels"},{title:"Open Control UI",description:"Use the dashboard to monitor sessions, runs, skills, and nodes.",href:"/dashboard",icon:EI,cta:"Dashboard"}];function l$e(){const[e,t]=x.useState(""),{data:r=[],isLoading:n}=e$e(),{data:s=[],isLoading:i}=t$e(),{data:o=[],isLoading:l}=n$e(),c=x.useMemo(()=>{if(!e.trim())return r;const u=e.trim().toLowerCase();return r.filter(d=>d.question_text.toLowerCase().includes(u)||d.answer_text.toLowerCase().includes(u)||d.category&&d.category.toLowerCase().includes(u))},[r,e]);return a.jsxs("div",{className:"space-y-8 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{"aria-label":"Breadcrumb",className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Dashboard"}),a.jsx(Tr,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"About / Help"})]}),a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"About / Help"}),a.jsx("p",{className:"text-muted-foreground max-w-xl",children:"Quick start guides, FAQs, documentation links, and support. Find what you need in a few clicks."})]}),a.jsxs("section",{"aria-labelledby":"quick-start-heading",children:[a.jsx("h2",{id:"quick-start-heading",className:"mb-4 text-lg font-semibold",children:"Quick start"}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:o$e.map((u,d)=>a.jsxs(X,{className:J("rounded-[10px] border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover hover:border-primary/30","animate-fade-in-up"),style:{animationDelay:`${d*100}ms`},children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary/15 text-primary",children:a.jsx(u.icon,{className:"h-5 w-5"})}),a.jsx(ne,{className:"text-base",children:u.title})]}),a.jsx(pe,{className:"text-sm",children:u.description})]}),a.jsx(Z,{className:"pt-0",children:a.jsx(P,{variant:"outline",size:"sm",className:"rounded-md",asChild:!0,children:a.jsx(ue,{to:u.href,children:u.cta})})})]},u.href))})]}),a.jsxs("section",{"aria-labelledby":"faq-heading",children:[a.jsxs("div",{className:"mb-4 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h2",{id:"faq-heading",className:"text-lg font-semibold",children:"Frequently asked questions"}),a.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ye,{type:"search",placeholder:"Search FAQs",value:e,onChange:u=>t(u.target.value),className:"rounded-md border border-input pl-9 pr-3 py-2","aria-label":"Search FAQs"})]})]}),n?a.jsx(X,{className:"rounded-[10px] border border-border",children:a.jsx(Z,{className:"p-6",children:a.jsx("div",{className:"space-y-4",children:[1,2,3].map(u=>a.jsx(ce,{className:"h-12 w-full rounded-md"},u))})})}):c.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(Xd,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:e.trim()?"No FAQs match your search. Try different keywords.":"No FAQs yet. Check back later or contact support."})]})}):a.jsx(YMe,{type:"single",collapsible:!0,className:"w-full",children:c.map(u=>a.jsxs(i6,{value:u.id,children:[a.jsx(o6,{className:"text-left font-medium hover:no-underline",children:u.question_text}),a.jsx(l6,{children:a.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none text-muted-foreground",children:u.answer_text})})]},u.id))})]}),a.jsxs("section",{"aria-labelledby":"docs-heading",children:[a.jsx("h2",{id:"docs-heading",className:"mb-4 text-lg font-semibold",children:"Documentation"}),i?a.jsx("ul",{className:"space-y-2",children:[1,2,3,4].map(u=>a.jsx(ce,{className:"h-10 w-full rounded-md"},u))}):s.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(or,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Documentation links will appear here."}),a.jsx(P,{variant:"link",className:"mt-2",asChild:!0,children:a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1",children:["Open docs ",a.jsx(Xo,{className:"h-4 w-4"})]})})]})}):a.jsx("ul",{className:"grid gap-2 sm:grid-cols-2",children:s.map(u=>a.jsx("li",{children:a.jsxs("a",{href:u.url,target:"_blank",rel:"noopener noreferrer",className:J("flex items-center gap-2 rounded-md border border-border bg-card px-4 py-3","text-foreground transition-all duration-200 hover:border-primary/50 hover:shadow-card","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"),children:[a.jsx(ad,{className:"h-4 w-4 shrink-0 text-muted-foreground"}),a.jsx("span",{className:"flex-1 font-medium",children:u.title}),a.jsx(Xo,{className:"h-4 w-4 shrink-0 text-muted-foreground"})]})},u.id))})]}),a.jsxs("section",{"aria-labelledby":"support-heading",children:[a.jsx("h2",{id:"support-heading",className:"mb-4 text-lg font-semibold",children:"Contact support"}),a.jsx(i$e,{})]}),a.jsxs("section",{"aria-labelledby":"changelog-heading",children:[a.jsx("h2",{id:"changelog-heading",className:"mb-4 text-lg font-semibold",children:"Changelog"}),l?a.jsx("div",{className:"space-y-3",children:[1,2,3,4,5].map(u=>a.jsx(ce,{className:"h-16 w-full rounded-md"},u))}):o.length===0?a.jsx(X,{className:"rounded-[10px] border border-border bg-card",children:a.jsxs(Z,{className:"flex flex-col items-center justify-center py-12 text-center",children:[a.jsx(dl,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Changelog entries will appear here."})]})}):a.jsx("ul",{className:"space-y-0 border-l-2 border-border pl-6",children:o.map(u=>a.jsxs("li",{className:"relative pb-6 last:pb-0",children:[a.jsx("span",{className:"absolute -left-[29px] top-1.5 h-3 w-3 rounded-full bg-primary","aria-hidden":!0}),a.jsxs("div",{className:"flex flex-wrap items-baseline gap-2",children:[u.version_number&&a.jsx("span",{className:"font-medium text-foreground",children:u.version_number}),a.jsx("time",{dateTime:u.date,className:"text-sm text-muted-foreground",children:new Date(u.date).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})})]}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:u.description})]},u.id))})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[a.jsx(ue,{to:"/terms",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Terms of Service"}),a.jsx(ue,{to:"/privacy",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Privacy Policy"}),a.jsxs("a",{href:"https://docs.clawgate.example",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:["Docs ",a.jsx(Xo,{className:"h-3.5 w-3.5"})]})]})})]})}const Ub={getPrivacySettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)return null;const{data:t,error:r}=await z.from("privacy_policy_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t??null},updatePrivacySettings:async e=>{const{data:{user:t}}=await z.auth.getUser();if(!t)throw new Error("Not authenticated");const r={user_id:t.id,...e},{data:n,error:s}=await z.from("privacy_policy_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},ensurePrivacySettings:async()=>{const{data:{user:e}}=await z.auth.getUser();if(!e)throw new Error("Not authenticated");const t=await Ub.getPrivacySettings();if(t)return t;const r={user_id:e.id},{data:n,error:s}=await z.from("privacy_policy_settings").insert(r).select().single();if(s)throw new Error(s.message);return n},getCurrentPolicyDocument:async(e="privacy")=>{const{data:t,error:r}=await z.from("policy_documents").select("*").eq("document_type",e).order("effective_date",{ascending:!1}).limit(1).maybeSingle();if(r)throw new Error(r.message);return t??null}},zm={all:["privacy"],settings:()=>[...zm.all,"settings"],policyDocument:e=>[...zm.all,"policy",e]};function c6(e,t){return e().catch(()=>t)}function c$e(){return Ce({queryKey:zm.settings(),queryFn:()=>c6(Ub.getPrivacySettings,null)})}function u$e(){const e=me();return fe({mutationFn:t=>Ub.updatePrivacySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:zm.settings()}),W.success("Privacy preferences updated")},onError:t=>{W.error(t.message||"Failed to update privacy preferences")}})}function d$e(e="privacy"){return Ce({queryKey:zm.policyDocument(e),queryFn:()=>c6(()=>Ub.getCurrentPolicyDocument(e),null)})}function f$e({open:e,onOpenChange:t,telemetryOptOut:r,onConfirm:n,isUpdating:s=!1}){const i=()=>{n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{"aria-describedby":"preferences-modal-description",children:[a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Te,{children:"Confirm privacy preference"})]}),a.jsx(Re,{id:"preferences-modal-description",children:r?a.jsx(a.Fragment,{children:"You are opting out of telemetry and optional usage data collection. We will not send diagnostic or usage data from this account. This preference will be saved and can be changed anytime in Settings or on this page."}):a.jsx(a.Fragment,{children:"You are opting in to optional telemetry. We may collect anonymous usage and diagnostic data to improve the product. No personal data is shared. You can opt out anytime in Settings or on this page."})})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(P,{onClick:i,disabled:s,className:"transition-transform hover:scale-[1.02]",children:s?"Saving":"Save preference"})]})]})})}function h$e({open:e,onOpenChange:t,onDownload:r,onOpenInNewTab:n,title:s="Download Privacy Policy",description:i="Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."}){const o=()=>{r(),t(!1)},l=()=>{n==null||n(),t(!1)};return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{"aria-describedby":"download-confirmation-description",children:[a.jsxs(Ae,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(or,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(Te,{children:s})]}),a.jsx(Re,{id:"download-confirmation-description",children:i})]}),a.jsxs(De,{className:"gap-2 sm:gap-0",children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),n&&a.jsx(P,{variant:"outline",onClick:l,className:"transition-transform hover:scale-[1.02]",children:"Open in new tab"}),a.jsxs(P,{onClick:o,className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"h-4 w-4","aria-hidden":!0}),"Download"]})]})]})})}const ZR=[{id:"intro",title:"Introduction",content:"Clawgate is a local-first, chat-native personal agent platform. This policy explains how we handle your data when you use the Control UI and optional cloud-linked features. We are committed to transparency and putting you in control."},{id:"data-collection",title:"Data collection",content:"When you use local-only mode, data stays on your devices. We do not collect or transmit personal data from your gateway. If you link a cloud account, we store only what is necessary to provide that service (e.g. profile, session tokens). Optional telemetryanonymous usage and diagnostic datamay be collected only if you have not opted out. We do not sell your data."},{id:"storage",title:"Storage and local-first",content:"Session transcripts, skill definitions, cron jobs, and node pairings are stored locally by default. Cloud-backed features (e.g. sync, backup) store only what you explicitly enable. Credentials and long-lived tokens are stored in your system keychain or an encrypted fallback when available."},{id:"retention",title:"Retention",content:"Local data is retained according to your settings (e.g. log retention, media caps). Cloud-stored data is retained only as long as your account is active and in line with our terms. You can request deletion of cloud data at any time."},{id:"third-party",title:"Third-party services and APIs",content:"Channel adapters (e.g. Telegram, Slack) and model providers (e.g. OpenAI, Anthropic) process data according to their policies when you use those integrations. We pass only the minimum data required. We recommend reviewing each providers privacy policy."}];function m$e({id:e,title:t,content:r,defaultOpen:n=!1}){const[s,i]=x.useState(n);return a.jsxs("details",{id:e,open:s,onToggle:o=>i(o.target.open),className:"group border-b border-border last:border-b-0",children:[a.jsxs("summary",{className:"flex cursor-pointer list-none items-center gap-2 py-4 text-left font-medium text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded-md px-1 -mx-1",children:[s?a.jsx(Ec,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}):a.jsx(Tr,{className:"h-4 w-4 shrink-0 text-muted-foreground","aria-hidden":!0}),a.jsx("span",{children:t})]}),a.jsx("div",{className:"prose prose-invert prose-sm max-w-none pb-4 pl-6 text-muted-foreground",children:a.jsx("p",{className:"m-0 leading-relaxed",children:r})})]})}function p$e(){const{data:e,isLoading:t}=c$e(),r=u$e(),{data:n}=d$e("privacy"),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,u]=x.useState(!1),d=(e==null?void 0:e.telemetry_opt_out)??!1,f=x.useCallback(b=>{l(b),i(!0)},[]),h=x.useCallback(()=>{o!==null&&r.mutate({telemetry_opt_out:o},{onSuccess:()=>l(null)})},[o,r]),m=(n==null?void 0:n.content)??ZR.map(b=>`${b.title}

${b.content}`).join(`

`),g=n!=null&&n.content?[{id:"policy",title:"Full policy",content:n.content}]:ZR,p=x.useCallback(()=>{const b=new Blob([m],{type:"text/plain;charset=utf-8"}),v=URL.createObjectURL(b),w=document.createElement("a");w.href=v,w.download="privacy-policy.txt",w.click(),URL.revokeObjectURL(v)},[m]),y=x.useCallback(()=>{const b=new Blob([`<!DOCTYPE html><html><head><meta charset="utf-8"><title>Privacy Policy - Clawgate</title><style>body{font-family:Inter,sans-serif;max-width:720px;margin:2rem auto;padding:0 1rem;line-height:1.6;color:#e2e8f0;} h1{font-size:1.75rem;} h2{font-size:1.25rem;margin-top:1.5rem;} p{white-space:pre-wrap;}</style></head><body><h1>Privacy Policy</h1><p>${m.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")}</p></body></html>`],{type:"text/html;charset=utf-8"}),v=URL.createObjectURL(b);window.open(v,"_blank","noopener,noreferrer"),setTimeout(()=>URL.revokeObjectURL(v),5e3)},[m]);return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsxs("div",{className:"mx-auto max-w-3xl px-4 py-8 sm:px-6 animate-fade-in-up",children:[a.jsxs("header",{className:"mb-8",children:[a.jsx("h1",{className:"text-[28px] font-semibold leading-tight text-foreground",children:"Privacy Policy"}),a.jsx("p",{className:"mt-2 text-base text-muted-foreground",children:"How we collect, store, and use your data. Clawgate is local-first; your data stays on your devices unless you use cloud-linked features."})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Policy sections"}),a.jsx(pe,{children:"Expand each section for details on data collection, storage, retention, and third-party services."})]}),a.jsx(Z,{className:"px-0 sm:px-6",children:a.jsx("div",{className:"divide-y-0",children:g.map((b,v)=>a.jsx(m$e,{id:b.id,title:b.title,content:b.content,defaultOpen:v===0},b.id))})})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Rr,{className:"h-5 w-5 text-primary","aria-hidden":!0}),a.jsx(ne,{className:"text-lg",children:"Opt-out controls"})]}),a.jsx(pe,{children:"Manage your data collection preferences. Changes are saved to your account and reflected in Settings."})]}),a.jsxs(Z,{children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsx(G,{htmlFor:"telemetry-opt-out",className:"text-sm font-medium text-foreground",children:"Opt out of telemetry"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When on, we do not send anonymous usage or diagnostic data from your account."})]}),a.jsx(xr,{id:"telemetry-opt-out",checked:d,onCheckedChange:f,disabled:t,"aria-describedby":"telemetry-opt-out-description"})]}),t&&a.jsx("p",{id:"telemetry-opt-out-description",className:"mt-2 text-xs text-muted-foreground",children:"Loading preferences"})]})]}),a.jsxs(X,{className:"mb-8",children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-lg",children:"Download policy"}),a.jsx(pe,{children:"Save a copy for your records or open in a new tab to print or save as PDF."})]}),a.jsx(Z,{children:a.jsxs(P,{variant:"outline",onClick:()=>u(!0),className:"inline-flex items-center gap-2 transition-transform hover:scale-[1.02]",children:[a.jsx(Ir,{className:"h-4 w-4","aria-hidden":!0}),"Download Privacy Policy"]})})]}),a.jsx("footer",{className:"border-t border-border pt-8",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(ue,{to:"/",children:"Back to home"})}),a.jsxs("nav",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms of Service"}),a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Help & support"})]})]})})]}),a.jsx(f$e,{open:s,onOpenChange:i,telemetryOptOut:o??d,onConfirm:h,isUpdating:r.isPending}),a.jsx(h$e,{open:c,onOpenChange:u,onDownload:p,onOpenInNewTab:y,title:"Download Privacy Policy",description:"Save a copy for your records. You can open it in a new tab to print or save as PDF using your browser."})]})}function g$e(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(X,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Terms of Service"})}),a.jsx(Z,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsx(ue,{to:"/",children:"Back"})})]})}async function v$e(e){var s;let t=z.from("marketplace_skills").select("*").order("created_at",{ascending:!1});if((e==null?void 0:e.status)!==void 0?t=t.eq("status",e.status):t=t.eq("status","active"),e!=null&&e.category&&(t=t.eq("category",e.category)),(s=e==null?void 0:e.search)!=null&&s.trim()){const i=e.search.trim();t=t.or(`name.ilike.%${i}%,description.ilike.%${i}%`)}const{data:r,error:n}=await t;if(n)throw new Error(n.message);return r??[]}async function y$e(e){const{data:t,error:r}=await z.from("marketplace_skills").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t}async function x$e(){const{data:{user:e}}=await z.auth.getUser();if(!e)return[];const{data:t,error:r}=await z.from("marketplace_transactions").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function b$e(){const{data:{user:e}}=await z.auth.getUser();if(!e)return[];const{data:t,error:r}=await z.from("marketplace_licenses").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]}async function w$e(e){return be.post("/marketplace/checkout-session",e)}async function j$e(e){await be.post("/marketplace/subscription/cancel",{subscription_id:e})}async function _$e(e,t){const{data:r,error:n}=await z.from("marketplace_licenses").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}function pC(e,t){return e().catch(()=>t)}const ma={all:["marketplace"],skills:e=>[...ma.all,"skills",e],skill:e=>[...ma.all,"skill",e],transactions:()=>[...ma.all,"transactions"],licenses:()=>[...ma.all,"licenses"]};function u6(e){return Ce({queryKey:ma.skills(e),queryFn:()=>pC(()=>v$e(e),[])})}function S$e(e){return Ce({queryKey:ma.skill(e??""),queryFn:()=>e?y$e(e):Promise.resolve(null),enabled:!!e})}function N$e(){return Ce({queryKey:ma.transactions(),queryFn:()=>pC(()=>x$e(),[])})}function d6(){return Ce({queryKey:ma.licenses(),queryFn:()=>pC(()=>b$e(),[])})}function f6(){return fe({mutationFn:w$e,onSuccess:e=>{e!=null&&e.url?window.location.href=e.url:W.success("Checkout session created")},onError:e=>{W.error(e.message||"Failed to start checkout")}})}function k$e(){const e=me();return fe({mutationFn:j$e,onSuccess:()=>{e.invalidateQueries({queryKey:ma.transactions()}),e.invalidateQueries({queryKey:ma.licenses()}),W.success("Subscription cancelled")},onError:t=>{W.error(t.message||"Failed to cancel subscription")}})}function C$e(){const e=me();return fe({mutationFn:({id:t,data:r})=>_$e(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:ma.licenses()}),W.success("License updated")},onError:t=>{W.error(t.message||"Failed to update license")}})}function eM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function E$e({open:e,onOpenChange:t,skill:r,mode:n,onConfirm:s,isSubmitting:i=!1}){if(!r)return null;const o=n==="subscription"?`${eM(r.price,r.currency)} / month`:eM(r.price,r.currency);return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Confirm purchase"}),a.jsx(Re,{children:"You are about to purchase this skill. You will be redirected to secure checkout."})]}),a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsx("p",{className:"font-medium text-foreground",children:r.name}),r.description&&a.jsx("p",{className:"mt-1 text-sm text-muted-foreground line-clamp-2",children:r.description}),a.jsx("p",{className:"mt-2 text-sm font-medium text-primary",children:o}),n==="subscription"&&a.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:"Subscription; you can cancel anytime from your account."})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Cancel"}),a.jsxs(P,{onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(CI,{className:"mr-2 h-4 w-4"}),i?"Redirecting":"Continue to checkout"]})]})]})})}function h6({open:e,onOpenChange:t,title:r="Payment failed",message:n="Something went wrong while processing your payment. Please try again or use a different payment method.",onRetry:s}){return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"sm:max-w-[440px]",children:[a.jsxs(Ae,{children:[a.jsxs(Te,{className:"flex items-center gap-2 text-destructive",children:[a.jsx(Gi,{className:"h-5 w-5"}),r]}),a.jsx(Re,{children:n})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),children:"Close"}),s&&a.jsx(P,{onClick:s,className:"transition-transform hover:scale-[1.02]",children:"Try again"})]})]})})}function tM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function P$e({skill:e,hasLicense:t,onPurchase:r}){const n=e.is_subscription?`${tM(e.price,e.currency)} / mo`:tM(e.price,e.currency);return a.jsx(X,{className:J("overflow-hidden transition-all duration-200 hover:shadow-card-hover hover:scale-[1.01]","border-border bg-card"),children:a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[e.image_url?a.jsx("div",{className:"h-32 w-full shrink-0 bg-secondary sm:h-auto sm:w-40",children:a.jsx("img",{src:e.image_url,alt:"",className:"h-full w-full object-cover"})}):a.jsx("div",{className:"flex h-32 w-full shrink-0 items-center justify-center bg-secondary/80 sm:h-auto sm:w-40",children:a.jsx(EI,{className:"h-10 w-10 text-muted-foreground"})}),a.jsxs("div",{className:"flex flex-1 flex-col p-4",children:[a.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsx(ne,{className:"text-lg",children:e.name}),e.category&&a.jsx(We,{variant:"secondary",className:"mt-1",children:e.category})]}),a.jsx("span",{className:"font-medium text-primary",children:n})]}),e.description&&a.jsx(pe,{className:"mt-2 line-clamp-2",children:e.description}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:t?a.jsx(We,{variant:"success",children:"Owned"}):a.jsxs(a.Fragment,{children:[a.jsxs(P,{size:"sm",onClick:()=>r(e,"one_time"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(wx,{className:"mr-1.5 h-4 w-4"}),"Purchase"]}),e.is_subscription&&a.jsxs(P,{size:"sm",variant:"outline",onClick:()=>r(e,"subscription"),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(xx,{className:"mr-1.5 h-4 w-4"}),"Subscribe"]})]})})]})]})})}function O$e(){const[e,t]=x.useState(""),[r,n]=x.useState(),[s,i]=x.useState(null),[o,l]=x.useState("one_time"),[c,u]=x.useState(!1),{data:d=[],isLoading:f}=u6({search:e.trim()||void 0,category:r}),{data:h=[]}=d6(),m=f6(),g=new Set(h.filter(v=>v.activation_status==="active").map(v=>v.skill_id)),p=(v,w)=>{i(v),l(w)},y=()=>{s&&m.mutate({skill_id:s.id,mode:o,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace`},{onError:()=>u(!0)})},b=Array.from(new Set(d.map(v=>v.category).filter(Boolean)));return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Marketplace"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse and purchase premium skills. One-time or subscription."})]}),a.jsx("div",{className:"flex gap-2",children:a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace/licenses",children:[a.jsx(dc,{className:"mr-2 h-4 w-4"}),"My licenses"]})})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Browse skills"}),a.jsx(pe,{children:"Search and filter by category. Click Purchase or Subscribe to checkout."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(rp,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(ye,{placeholder:"Search skills...",value:e,onChange:v=>t(v.target.value),className:"pl-9"})]}),a.jsxs("select",{className:"h-10 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:r??"",onChange:v=>n(v.target.value?v.target.value:void 0),children:[a.jsx("option",{value:"",children:"All categories"}),b.map(v=>a.jsx("option",{value:v,children:v},v))]})]}),f?a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:[1,2,3].map(v=>a.jsx(ce,{className:"h-32 rounded-lg"},v))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(wx,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No skills found"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Try a different search or category, or check back later for new listings."})]}):a.jsx("div",{className:"grid gap-4 sm:grid-cols-1 lg:grid-cols-2",children:d.map(v=>a.jsx(P$e,{skill:v,hasLicense:g.has(v.id),onPurchase:p},v.id))})]})]}),a.jsx(E$e,{open:!!s,onOpenChange:v=>!v&&i(null),skill:s,mode:o,onConfirm:y,isSubmitting:m.isPending}),a.jsx(h6,{open:c,onOpenChange:u,onRetry:()=>{u(!1),s&&y()}})]})}const A$e=ft({email:_e().email("Invalid email"),accept_terms:ai().refine(e=>e===!0,{message:"You must accept the terms to continue"})});function rM(e,t){return new Intl.NumberFormat("en-US",{style:"currency",currency:t.toUpperCase()}).format(e)}function T$e({skill:e,mode:t,onSubmit:r,isSubmitting:n=!1,defaultEmail:s=""}){const{register:i,handleSubmit:o,formState:{errors:l}}=ut({resolver:dt(A$e),defaultValues:{email:s,accept_terms:!1}});if(!e)return a.jsx(X,{children:a.jsx(Z,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to checkout."})})});const c=t==="subscription"?`${rM(e.price,e.currency)} / month`:rM(e.price,e.currency);return a.jsxs("form",{onSubmit:o(r),className:"space-y-6",children:[a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Order summary"}),a.jsx(pe,{children:"Review your selection before payment."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:e.name}),a.jsx("span",{className:"font-medium",children:c})]}),t==="subscription"&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be charged each billing period until you cancel."})]})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Contact"}),a.jsx(pe,{children:"Receipt and updates will be sent to this email."})]}),a.jsxs(Z,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(G,{htmlFor:"checkout-email",children:"Email"}),a.jsx(ye,{id:"checkout-email",type:"email",placeholder:"you@example.com",className:"transition-colors focus-visible:ring-[rgb(var(--primary))]",...i("email")}),l.email&&a.jsx("p",{className:"text-sm text-destructive",children:l.email.message})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",id:"checkout-terms",className:"h-4 w-4 rounded border-input focus:ring-[rgb(var(--primary))]",...i("accept_terms")}),a.jsxs(G,{htmlFor:"checkout-terms",className:"text-sm font-normal",children:["I accept the"," ",a.jsx("a",{href:"/terms",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Terms of Service"})," ","and"," ",a.jsx("a",{href:"/privacy",className:"text-primary underline hover:no-underline",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),"."]})]}),l.accept_terms&&a.jsx("p",{className:"text-sm text-destructive",children:l.accept_terms.message})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"You will be redirected to our secure payment provider to complete the transaction. Your payment details are never stored on our servers."}),a.jsxs(P,{type:"submit",className:"w-full transition-transform hover:scale-[1.02]",disabled:n,children:[n?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(CI,{className:"mr-2 h-4 w-4"}),n?"Redirecting to checkout":"Proceed to payment"]})]})}function R$e(){const[e]=U4(),t=e.get("skillId")??"",r=e.get("mode")||"one_time",[n,s]=x.useState(!1),{data:i,isLoading:o}=S$e(t),l=f6(),c=u=>{t&&l.mutate({skill_id:t,mode:r,success_url:`${window.location.origin}/marketplace?success=1`,cancel_url:`${window.location.origin}/marketplace/checkout?skillId=${t}&mode=${r}`},{onError:()=>s(!0)})};return t?o?a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(ce,{className:"h-8 w-48"}),a.jsx(ce,{className:"h-64 w-full"})]}):a.jsxs("div",{className:"mx-auto max-w-2xl space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(sd,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Checkout"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Complete your purchase. You will be redirected to secure payment."})]}),a.jsx(T$e,{skill:i??null,mode:r,onSubmit:c,isSubmitting:l.isPending}),a.jsx(h6,{open:n,onOpenChange:s,onRetry:()=>s(!1)})]}):a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx(P,{variant:"ghost",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(sd,{className:"mr-2 h-4 w-4"}),"Back to Marketplace"]})}),a.jsx(X,{children:a.jsxs(Z,{className:"pt-6",children:[a.jsx("p",{className:"text-muted-foreground",children:"Select a skill from the marketplace to checkout."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(ue,{to:"/marketplace",children:"Browse Marketplace"})})]})})]})}function M$e({open:e,onOpenChange:t,subscription:r,skillName:n="Skill",onCancelSubscription:s,isSubmitting:i=!1}){if(!r)return null;const o=r.status==="completed"&&r.stripe_subscription_id;return a.jsx(Me,{open:e,onOpenChange:t,children:a.jsxs(Oe,{className:"sm:max-w-[480px]",showClose:!i,children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Manage subscription"}),a.jsxs(Re,{children:["View and manage your subscription for ",n,"."]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 p-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),a.jsx(We,{variant:r.status==="completed"?"success":"secondary",children:r.status})]}),a.jsxs("div",{className:"mt-2 flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Amount"}),a.jsx("span",{children:new Intl.NumberFormat("en-US",{style:"currency",currency:r.currency.toUpperCase()}).format(r.amount)})]}),r.created_at&&a.jsxs("div",{className:"mt-1 flex items-center justify-between text-xs text-muted-foreground",children:[a.jsx("span",{children:"Started"}),a.jsx("span",{children:new Date(r.created_at).toLocaleDateString()})]})]}),o&&a.jsxs("p",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(xx,{className:"h-4 w-4"}),"Renewal and payment methods are managed in the checkout provider."]})]}),a.jsxs(De,{children:[a.jsx(P,{variant:"outline",onClick:()=>t(!1),disabled:i,children:"Close"}),o&&a.jsxs(P,{variant:"destructive",onClick:s,disabled:i,className:"transition-transform hover:scale-[1.02]",children:[i?a.jsx(wr,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Gi,{className:"mr-2 h-4 w-4"}),i?"Cancelling":"Cancel subscription"]})]})]})})}function $$e(){var m;const[e,t]=x.useState(null),{data:r=[],isLoading:n}=d6(),{data:s=[]}=u6(),{data:i=[]}=N$e(),o=C$e(),l=k$e(),c=new Map(s.map(g=>[g.id,g])),u=new Map(i.map(g=>[g.id,g])),d=g=>{const p=g.activation_status==="active"?"inactive":"active";o.mutate({id:g.id,data:{activation_status:p}})},f=g=>{t(g)},h=g=>g.transaction_id?u.get(g.transaction_id):i.find(p=>p.skill_id===g.skill_id&&p.stripe_subscription_id&&p.status==="completed");return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"My licenses"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your purchased skill licenses and subscriptions."})]}),a.jsx(P,{variant:"outline",asChild:!0,children:a.jsxs(ue,{to:"/marketplace",children:[a.jsx(dc,{className:"mr-2 h-4 w-4"}),"Browse Marketplace"]})})]}),a.jsxs(X,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Licenses"}),a.jsx(pe,{children:"Activate or deactivate licenses. Manage subscriptions from the action below."})]}),a.jsx(Z,{children:n?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(g=>a.jsx(ce,{className:"h-16 w-full rounded-lg"},g))}):r.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(dc,{className:"h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm font-medium",children:"No licenses yet"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Purchase a skill from the marketplace to see your licenses here."}),a.jsx(P,{asChild:!0,className:"mt-4",children:a.jsx(ue,{to:"/marketplace",children:"Go to Marketplace"})})]}):a.jsx("ul",{className:"space-y-3",children:r.map(g=>{const p=c.get(g.skill_id),y=h(g),b=g.activation_status==="active";return a.jsxs("li",{className:J("flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4 transition-colors hover:bg-secondary/30",!b&&"opacity-75"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium text-foreground",children:(p==null?void 0:p.name)??"Unknown skill"}),a.jsxs("div",{className:"mt-1 flex flex-wrap gap-2",children:[a.jsx(We,{variant:g.activation_status==="active"?"success":g.activation_status==="expired"?"destructive":"secondary",children:g.activation_status}),g.expiration_date&&a.jsxs("span",{className:"text-xs text-muted-foreground",children:["Expires ",new Date(g.expiration_date).toLocaleDateString()]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[(y==null?void 0:y.stripe_subscription_id)&&a.jsxs(P,{variant:"outline",size:"sm",onClick:()=>f(y),children:[a.jsx(xx,{className:"mr-1.5 h-4 w-4"}),"Manage subscription"]}),g.activation_status!=="expired"&&a.jsx(P,{variant:"outline",size:"sm",onClick:()=>d(g),disabled:o.isPending,children:b?a.jsxs(a.Fragment,{children:[a.jsx(iN,{className:"mr-1.5 h-4 w-4"}),"Deactivate"]}):a.jsxs(a.Fragment,{children:[a.jsx(aN,{className:"mr-1.5 h-4 w-4"}),"Activate"]})})]})]},g.id)})})})]}),a.jsx(M$e,{open:!!e,onOpenChange:g=>!g&&t(null),subscription:e,skillName:e?(m=c.get(e.skill_id))==null?void 0:m.name:void 0,onCancelSubscription:()=>{e!=null&&e.stripe_subscription_id&&l.mutate(e.stripe_subscription_id,{onSettled:()=>t(null)})},isSubmitting:l.isPending})]})}async function I$e(e,t,r){try{const{data:{user:n}}=await z.auth.getUser(),s={error_code:"404",url_attempted:e,user_id:(n==null?void 0:n.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null)};await z.from("error_logs").insert(s)}catch{}}async function D$e(e,t,r,n){try{const{data:{user:s}}=await z.auth.getUser(),i={error_code:"500",url_attempted:e,user_id:(s==null?void 0:s.id)??null,referrer_url:t??null,user_agent:r??(typeof navigator<"u"?navigator.userAgent:null),metadata:n??{}};await z.from("error_logs").insert(i)}catch{}}function nM(){const e=ri(),t=e.pathname+e.search;x.useEffect(()=>{I$e(t,typeof document<"u"&&document.referrer||null,typeof navigator<"u"?navigator.userAgent:null)},[t]);const r=()=>{window.location.reload()};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-4",children:[a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-muted/50",children:a.jsx(a7,{className:"h-12 w-12 text-muted-foreground","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"Oops! Page Not Found"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"The page you're looking for doesn't exist or may have been moved."}),t!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Attempted: ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:t})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:r,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Jd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/",children:[a.jsx(jI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",children:[a.jsx(tN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsxs(ue,{to:"/help",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Docs & support"]}),a.jsx("span",{className:"mx-2 text-muted-foreground/60",children:""}),a.jsx(ue,{to:"/logs",className:"inline-flex items-center text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Logs & tracing"})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]})}async function L$e(e){var i;const{data:{user:t}}=await z.auth.getUser(),r={user_id:(t==null?void 0:t.id)??null,error_type:e.error_type.trim(),description:e.description.trim(),contact_email:((i=e.contact_email)==null?void 0:i.trim())||null,context:e.context??{}},{data:n,error:s}=await z.from("user_reports").insert(r).select("id").single();if(s)throw new Error(s.message);return{id:n.id}}const F$e=ft({description:_e().min(10,"Please provide at least 10 characters describing what happened").max(2e3,"Description must be 2000 characters or less"),contact_email:_e().max(255).optional().refine(e=>!e||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),"Enter a valid email address"),comments:_e().max(1e3).optional()}),E0={description:"",contact_email:"",comments:""};function U$e({open:e,onOpenChange:t,onSubmit:r,errorType:n="500",errorContext:s}){const{register:i,handleSubmit:o,reset:l,formState:{errors:c,isSubmitting:u}}=ut({resolver:dt(F$e),defaultValues:E0}),d=async h=>{var m,g;await r({error_type:n,description:h.description.trim(),contact_email:((m=h.contact_email)==null?void 0:m.trim())||null,context:{...s,comments:((g=h.comments)==null?void 0:g.trim())||void 0}}),l(E0),t(!1)},f=h=>{h||l(E0),t(h)};return a.jsx(Me,{open:e,onOpenChange:f,children:a.jsxs(Oe,{className:"max-w-lg","aria-describedby":"report-issue-form-description",children:[a.jsxs(Ae,{children:[a.jsx(Te,{children:"Report an issue"}),a.jsx(Re,{id:"report-issue-form-description",children:"Describe what happened so we can investigate. Your report helps us improve reliability."})]}),a.jsxs("form",{onSubmit:o(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"report-description",children:"What happened?"}),a.jsx("textarea",{id:"report-description",rows:4,placeholder:"e.g. I was on the dashboard and clicked Save; the page showed an error.",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("description"),"aria-invalid":!!c.description}),c.description&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.description.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"report-contact",children:"Contact email (optional)"}),a.jsx(ye,{id:"report-contact",type:"email",placeholder:"you@example.com",...i("contact_email"),className:c.contact_email?"border-destructive":"",autoComplete:"email","aria-invalid":!!c.contact_email}),c.contact_email&&a.jsx("p",{className:"text-xs text-destructive",role:"alert",children:c.contact_email.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(G,{htmlFor:"report-comments",children:"Additional details (optional)"}),a.jsx("textarea",{id:"report-comments",rows:2,placeholder:"Any other context that might help",className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",...i("comments")})]}),a.jsxs(De,{children:[a.jsx(P,{type:"button",variant:"outline",onClick:()=>f(!1),disabled:u,children:"Cancel"}),a.jsx(P,{type:"submit",disabled:u,children:u?"Sending":"Send report"})]})]})]})})}function B$e(){const e=ri(),[t,r]=x.useState(!1),n=e.pathname+e.search,s=typeof document<"u"&&document.referrer||null,i=typeof navigator<"u"?navigator.userAgent:null;x.useEffect(()=>{D$e(n,s,i,{path:n,referrer:s??void 0})},[n,s,i]);const o=()=>{window.location.reload()},l=async c=>{await L$e(c),W.success("Report sent",{description:"Thank you. Well use this to improve reliability."})};return a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(ue,{to:"/",className:"text-xl font-semibold text-foreground transition-colors hover:text-primary",children:"Clawgate"}),a.jsxs("nav",{className:"flex gap-4",children:[a.jsx(ue,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(P,{asChild:!0,size:"sm",children:a.jsx(ue,{to:"/signup",children:"Sign up"})})]})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center px-4 py-16 sm:py-24",children:a.jsxs("div",{className:J("flex w-full max-w-lg flex-col items-center gap-8 text-center","animate-fade-in-up"),children:[a.jsxs("div",{className:"rounded-2xl bg-card p-6 shadow-card transition-all duration-200 hover:shadow-card-hover sm:p-8",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-destructive/10",children:a.jsx(Yi,{className:"h-12 w-12 text-destructive","aria-hidden":!0})})}),a.jsx("h1",{className:"mt-6 text-2xl font-semibold text-foreground sm:text-3xl",children:"500 Server Error"}),a.jsx("p",{className:"mt-3 text-muted-foreground",children:"Something went wrong on our side. Weve been notified and are looking into it. You can retry, go back home, or report more details below."}),n!=="/"&&a.jsxs("p",{className:"mt-2 text-sm text-muted-foreground/80","aria-live":"polite",children:["Page:"," ",a.jsx("code",{className:"rounded bg-muted px-1.5 py-0.5 font-mono text-xs",children:n})]})]}),a.jsx(X,{className:"w-full max-w-md border-border bg-card/50 shadow-card",children:a.jsxs(Z,{className:"flex flex-col gap-4 p-6",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"What would you like to do?"}),a.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:justify-center",children:[a.jsxs(P,{onClick:o,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Retry loading the page",children:[a.jsx(Jd,{className:"mr-2 h-4 w-4"}),"Retry"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/",children:[a.jsx(jI,{className:"mr-2 h-4 w-4"}),"Home"]})}),a.jsxs(P,{variant:"default",onClick:()=>r(!0),className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]","aria-label":"Report this issue to support",children:[a.jsx(tp,{className:"mr-2 h-4 w-4"}),"Report issue"]}),a.jsx(P,{variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform duration-200 hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(ue,{to:"/dashboard",children:[a.jsx(tN,{className:"mr-2 h-4 w-4"}),"Dashboard"]})})]}),a.jsxs("div",{className:"mt-2 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Logs & security"}),a.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-x-4 gap-y-1 text-sm",children:[a.jsxs(ue,{to:"/logs",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(or,{className:"h-4 w-4"}),"Logs & tracing"]}),a.jsxs(ue,{to:"/security",className:"inline-flex items-center gap-2 text-muted-foreground transition-colors hover:text-foreground",children:[a.jsx(Rr,{className:"h-4 w-4"}),"Security audit"]})]})]})]})})]})}),a.jsx("footer",{className:"border-t border-border py-8",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(ue,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx(ue,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(ue,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})}),a.jsx(U$e,{open:t,onOpenChange:r,onSubmit:l,errorType:"500",errorContext:{url:n,referrer:s??void 0}})]})}const q$e=new bV({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function z$e(){return a.jsxs(wV,{client:q$e,children:[a.jsx(VW,{children:a.jsx(GH,{children:a.jsx(XY,{children:a.jsxs(IW,{children:[a.jsx(bt,{path:"/",element:a.jsx(VZ,{})}),a.jsx(bt,{path:"/login",element:a.jsx(tte,{})}),a.jsx(bt,{path:"/signup",element:a.jsx(nte,{})}),a.jsx(bt,{path:"/forgot-password",element:a.jsx(lte,{})}),a.jsx(bt,{path:"/verify-email",element:a.jsx(ute,{})}),a.jsx(bt,{path:"/download",element:a.jsx(cne,{})}),a.jsx(bt,{path:"/privacy",element:a.jsx(p$e,{})}),a.jsx(bt,{path:"/terms",element:a.jsx(g$e,{})}),a.jsx(bt,{path:"/500",element:a.jsx(B$e,{})}),a.jsxs(bt,{element:a.jsx(LZ,{}),children:[a.jsx(bt,{path:"/dashboard",element:a.jsx(yse,{})}),a.jsx(bt,{path:"/profile",element:a.jsx(YH,{}),children:a.jsx(bt,{index:!0,element:a.jsx(lne,{})})}),a.jsx(bt,{path:"/chat",element:a.jsx(Xse,{})}),a.jsx(bt,{path:"/channels",element:a.jsx(vae,{})}),a.jsx(bt,{path:"/skills",element:a.jsx(Dae,{})}),a.jsx(bt,{path:"/skill-editor/:skillId?",element:a.jsx(zae,{})}),a.jsx(bt,{path:"/marketplace",element:a.jsx(O$e,{})}),a.jsx(bt,{path:"/marketplace/checkout",element:a.jsx(R$e,{})}),a.jsx(bt,{path:"/marketplace/licenses",element:a.jsx($$e,{})}),a.jsx(bt,{path:"/nodes",element:a.jsx(vie,{})}),a.jsx(bt,{path:"/cron",element:a.jsx(jie,{})}),a.jsx(bt,{path:"/webhooks",element:a.jsx(Yie,{})}),a.jsx(bt,{path:"/model-providers",element:a.jsx(QAe,{})}),a.jsx(bt,{path:"/browser",element:a.jsx(ETe,{})}),a.jsx(bt,{path:"/voice",element:a.jsx(XTe,{})}),a.jsx(bt,{path:"/secrets",element:a.jsx(dRe,{})}),a.jsx(bt,{path:"/settings",element:a.jsx(JTe,{})}),a.jsx(bt,{path:"/security",element:a.jsx(PRe,{})}),a.jsx(bt,{path:"/logs",element:a.jsx(VRe,{})}),a.jsx(bt,{path:"/admin",element:a.jsx(AMe,{})}),a.jsx(bt,{path:"/help",element:a.jsx(l$e,{})})]}),a.jsx(bt,{path:"/404",element:a.jsx(nM,{})}),a.jsx(bt,{path:"*",element:a.jsx(nM,{})})]})})})}),a.jsx(a9,{position:"top-right",richColors:!0,closeButton:!0})]})}const m6=document.getElementById("root");if(!m6)throw new Error("Root element not found");P0.createRoot(m6).render(a.jsx(A.StrictMode,{children:a.jsx(z$e,{})}));

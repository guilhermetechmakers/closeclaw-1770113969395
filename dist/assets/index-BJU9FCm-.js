var Ny=e=>{throw TypeError(e)};var Cf=(e,t,r)=>t.has(e)||Ny("Cannot "+r);var C=(e,t,r)=>(Cf(e,t,"read from private field"),r?r.call(e):t.get(e)),ye=(e,t,r)=>t.has(e)?Ny("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ie=(e,t,r,n)=>(Cf(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Ie=(e,t,r)=>(Cf(e,t,"access private method"),r);var gu=(e,t,r,n)=>({set _(s){ie(e,t,s,r)},get _(){return C(e,t,n)}});function JC(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function d0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h0={exports:{}},xh={},f0={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=Symbol.for("react.element"),ZC=Symbol.for("react.portal"),XC=Symbol.for("react.fragment"),eE=Symbol.for("react.strict_mode"),tE=Symbol.for("react.profiler"),rE=Symbol.for("react.provider"),nE=Symbol.for("react.context"),sE=Symbol.for("react.forward_ref"),iE=Symbol.for("react.suspense"),aE=Symbol.for("react.memo"),oE=Symbol.for("react.lazy"),Cy=Symbol.iterator;function lE(e){return e===null||typeof e!="object"?null:(e=Cy&&e[Cy]||e["@@iterator"],typeof e=="function"?e:null)}var m0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p0=Object.assign,g0={};function cl(e,t,r){this.props=e,this.context=t,this.refs=g0,this.updater=r||m0}cl.prototype.isReactComponent={};cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v0(){}v0.prototype=cl.prototype;function Rg(e,t,r){this.props=e,this.context=t,this.refs=g0,this.updater=r||m0}var Pg=Rg.prototype=new v0;Pg.constructor=Rg;p0(Pg,cl.prototype);Pg.isPureReactComponent=!0;var Ey=Array.isArray,y0=Object.prototype.hasOwnProperty,Tg={current:null},x0={key:!0,ref:!0,__self:!0,__source:!0};function w0(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)y0.call(t,n)&&!x0.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Qc,type:e,key:i,ref:o,props:s,_owner:Tg.current}}function cE(e,t){return{$$typeof:Qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ag(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qc}function uE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Ry=/\/+/g;function Ef(e,t){return typeof e=="object"&&e!==null&&e.key!=null?uE(""+e.key):t.toString(36)}function Xu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qc:case ZC:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+Ef(o,0):n,Ey(s)?(r="",e!=null&&(r=e.replace(Ry,"$&/")+"/"),Xu(s,t,r,"",function(u){return u})):s!=null&&(Ag(s)&&(s=cE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ry,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ey(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+Ef(i,l);o+=Xu(i,t,r,c,s)}else if(c=lE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+Ef(i,l++),o+=Xu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function vu(e,t,r){if(e==null)return e;var n=[],s=0;return Xu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function dE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kr={current:null},ed={transition:null},hE={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:ed,ReactCurrentOwner:Tg};function b0(){throw Error("act(...) is not supported in production builds of React.")}Ue.Children={map:vu,forEach:function(e,t,r){vu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return vu(e,function(){t++}),t},toArray:function(e){return vu(e,function(t){return t})||[]},only:function(e){if(!Ag(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ue.Component=cl;Ue.Fragment=XC;Ue.Profiler=tE;Ue.PureComponent=Rg;Ue.StrictMode=eE;Ue.Suspense=iE;Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hE;Ue.act=b0;Ue.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p0({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Tg.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)y0.call(t,c)&&!x0.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Qc,type:e.type,key:s,ref:i,props:n,_owner:o}};Ue.createContext=function(e){return e={$$typeof:nE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:rE,_context:e},e.Consumer=e};Ue.createElement=w0;Ue.createFactory=function(e){var t=w0.bind(null,e);return t.type=e,t};Ue.createRef=function(){return{current:null}};Ue.forwardRef=function(e){return{$$typeof:sE,render:e}};Ue.isValidElement=Ag;Ue.lazy=function(e){return{$$typeof:oE,_payload:{_status:-1,_result:e},_init:dE}};Ue.memo=function(e,t){return{$$typeof:aE,type:e,compare:t===void 0?null:t}};Ue.startTransition=function(e){var t=ed.transition;ed.transition={};try{e()}finally{ed.transition=t}};Ue.unstable_act=b0;Ue.useCallback=function(e,t){return kr.current.useCallback(e,t)};Ue.useContext=function(e){return kr.current.useContext(e)};Ue.useDebugValue=function(){};Ue.useDeferredValue=function(e){return kr.current.useDeferredValue(e)};Ue.useEffect=function(e,t){return kr.current.useEffect(e,t)};Ue.useId=function(){return kr.current.useId()};Ue.useImperativeHandle=function(e,t,r){return kr.current.useImperativeHandle(e,t,r)};Ue.useInsertionEffect=function(e,t){return kr.current.useInsertionEffect(e,t)};Ue.useLayoutEffect=function(e,t){return kr.current.useLayoutEffect(e,t)};Ue.useMemo=function(e,t){return kr.current.useMemo(e,t)};Ue.useReducer=function(e,t,r){return kr.current.useReducer(e,t,r)};Ue.useRef=function(e){return kr.current.useRef(e)};Ue.useState=function(e){return kr.current.useState(e)};Ue.useSyncExternalStore=function(e,t,r){return kr.current.useSyncExternalStore(e,t,r)};Ue.useTransition=function(){return kr.current.useTransition()};Ue.version="18.3.1";f0.exports=Ue;var m=f0.exports;const V=d0(m),wh=JC({__proto__:null,default:V},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE=m,mE=Symbol.for("react.element"),pE=Symbol.for("react.fragment"),gE=Object.prototype.hasOwnProperty,vE=fE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yE={key:!0,ref:!0,__self:!0,__source:!0};function _0(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)gE.call(t,n)&&!yE.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:mE,type:e,key:i,ref:o,props:s,_owner:vE.current}}xh.Fragment=pE;xh.jsx=_0;xh.jsxs=_0;h0.exports=xh;var a=h0.exports,Pm={},j0={exports:{}},en={},S0={exports:{}},k0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,N){var R=D.length;D.push(N);e:for(;0<R;){var le=R-1>>>1,ue=D[le];if(0<s(ue,N))D[le]=N,D[R]=ue,R=le;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var N=D[0],R=D.pop();if(R!==N){D[0]=R;e:for(var le=0,ue=D.length,Re=ue>>>1;le<Re;){var Se=2*(le+1)-1,et=D[Se],Je=Se+1,ee=D[Je];if(0>s(et,R))Je<ue&&0>s(ee,et)?(D[le]=ee,D[Je]=R,le=Je):(D[le]=et,D[Se]=R,le=Se);else if(Je<ue&&0>s(ee,R))D[le]=ee,D[Je]=R,le=Je;else break e}}return N}function s(D,N){var R=D.sortIndex-N.sortIndex;return R!==0?R:D.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(D){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=D)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function _(D){if(g=!1,w(D),!v)if(r(c)!==null)v=!0,Y(S);else{var N=r(u);N!==null&&re(_,N.startTime-D)}}function S(D,N){v=!1,g&&(g=!1,y(P),P=-1),f=!0;var R=p;try{for(w(N),h=r(c);h!==null&&(!(h.expirationTime>N)||D&&!W());){var le=h.callback;if(typeof le=="function"){h.callback=null,p=h.priorityLevel;var ue=le(h.expirationTime<=N);N=e.unstable_now(),typeof ue=="function"?h.callback=ue:h===r(c)&&n(c),w(N)}else n(c);h=r(c)}if(h!==null)var Re=!0;else{var Se=r(u);Se!==null&&re(_,Se.startTime-N),Re=!1}return Re}finally{h=null,p=R,f=!1}}var j=!1,k=null,P=-1,A=5,M=-1;function W(){return!(e.unstable_now()-M<A)}function L(){if(k!==null){var D=e.unstable_now();M=D;var N=!0;try{N=k(!0,D)}finally{N?z():(j=!1,k=null)}}else j=!1}var z;if(typeof x=="function")z=function(){x(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,J=O.port2;O.port1.onmessage=L,z=function(){J.postMessage(null)}}else z=function(){b(L,0)};function Y(D){k=D,j||(j=!0,z())}function re(D,N){P=b(function(){D(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,Y(S))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(p){case 1:case 2:case 3:var N=3;break;default:N=p}var R=p;p=N;try{return D()}finally{p=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,N){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var R=p;p=D;try{return N()}finally{p=R}},e.unstable_scheduleCallback=function(D,N,R){var le=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?le+R:le):R=le,D){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=R+ue,D={id:d++,callback:N,priorityLevel:D,startTime:R,expirationTime:ue,sortIndex:-1},R>le?(D.sortIndex=R,t(u,D),r(c)===null&&D===r(u)&&(g?(y(P),P=-1):g=!0,re(_,R-le))):(D.sortIndex=ue,t(c,D),v||f||(v=!0,Y(S))),D},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(D){var N=p;return function(){var R=p;p=N;try{return D.apply(this,arguments)}finally{p=R}}}})(k0);S0.exports=k0;var xE=S0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wE=m,Jr=xE;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var N0=new Set,uc={};function Fa(e,t){qo(e,t),qo(e+"Capture",t)}function qo(e,t){for(uc[e]=t,e=0;e<t.length;e++)N0.add(t[e])}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tm=Object.prototype.hasOwnProperty,bE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Py={},Ty={};function _E(e){return Tm.call(Ty,e)?!0:Tm.call(Py,e)?!1:bE.test(e)?Ty[e]=!0:(Py[e]=!0,!1)}function jE(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function SE(e,t,r,n){if(t===null||typeof t>"u"||jE(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Nr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var hr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){hr[e]=new Nr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];hr[t]=new Nr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){hr[e]=new Nr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){hr[e]=new Nr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){hr[e]=new Nr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){hr[e]=new Nr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){hr[e]=new Nr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){hr[e]=new Nr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){hr[e]=new Nr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Og=/[\-:]([a-z])/g;function Ig(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Og,Ig);hr[t]=new Nr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Og,Ig);hr[t]=new Nr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Og,Ig);hr[t]=new Nr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){hr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!1,!1)});hr.xlinkHref=new Nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){hr[e]=new Nr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Mg(e,t,r,n){var s=hr.hasOwnProperty(t)?hr[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(SE(t,r,s,n)&&(r=null),n||s===null?_E(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var $s=wE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),lo=Symbol.for("react.portal"),co=Symbol.for("react.fragment"),Dg=Symbol.for("react.strict_mode"),Am=Symbol.for("react.profiler"),C0=Symbol.for("react.provider"),E0=Symbol.for("react.context"),Lg=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Im=Symbol.for("react.suspense_list"),$g=Symbol.for("react.memo"),ei=Symbol.for("react.lazy"),R0=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Nl(e){return e===null||typeof e!="object"?null:(e=Ay&&e[Ay]||e["@@iterator"],typeof e=="function"?e:null)}var kt=Object.assign,Rf;function zl(e){if(Rf===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Rf=t&&t[1]||""}return`
`+Rf+e}var Pf=!1;function Tf(e,t){if(!e||Pf)return"";Pf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pf=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?zl(e):""}function kE(e){switch(e.tag){case 5:return zl(e.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return e=Tf(e.type,!1),e;case 11:return e=Tf(e.type.render,!1),e;case 1:return e=Tf(e.type,!0),e;default:return""}}function Mm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case co:return"Fragment";case lo:return"Portal";case Am:return"Profiler";case Dg:return"StrictMode";case Om:return"Suspense";case Im:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case E0:return(e.displayName||"Context")+".Consumer";case C0:return(e._context.displayName||"Context")+".Provider";case Lg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $g:return t=e.displayName||null,t!==null?t:Mm(e.type)||"Memo";case ei:t=e._payload,e=e._init;try{return Mm(e(t))}catch{}}return null}function NE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mm(t);case 8:return t===Dg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P0(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function CE(e){var t=P0(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xu(e){e._valueTracker||(e._valueTracker=CE(e))}function T0(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=P0(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function vd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dm(e,t){var r=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Oy(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ai(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function A0(e,t){t=t.checked,t!=null&&Mg(e,"checked",t,!1)}function Lm(e,t){A0(e,t);var r=Ai(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$m(e,t.type,r):t.hasOwnProperty("defaultValue")&&$m(e,t.type,Ai(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Iy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $m(e,t,r){(t!=="number"||vd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Vl=Array.isArray;function _o(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ai(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function My(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(Vl(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ai(r)}}function O0(e,t){var r=Ai(t.value),n=Ai(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function I0(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?I0(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var wu,M0=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=wu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function dc(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EE=["Webkit","ms","Moz","O"];Object.keys(Jl).forEach(function(e){EE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jl[t]=Jl[e]})});function D0(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Jl.hasOwnProperty(e)&&Jl[e]?(""+t).trim():t+"px"}function L0(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=D0(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var RE=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zm(e,t){if(t){if(RE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Vm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bm=null;function Fg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Wm=null,jo=null,So=null;function Ly(e){if(e=Zc(e)){if(typeof Wm!="function")throw Error(q(280));var t=e.stateNode;t&&(t=kh(t),Wm(e.stateNode,e.type,t))}}function $0(e){jo?So?So.push(e):So=[e]:jo=e}function F0(){if(jo){var e=jo,t=So;if(So=jo=null,Ly(e),t)for(e=0;e<t.length;e++)Ly(t[e])}}function U0(e,t){return e(t)}function z0(){}var Af=!1;function V0(e,t,r){if(Af)return e(t,r);Af=!0;try{return U0(e,t,r)}finally{Af=!1,(jo!==null||So!==null)&&(z0(),F0())}}function hc(e,t){var r=e.stateNode;if(r===null)return null;var n=kh(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var qm=!1;if(Ts)try{var Cl={};Object.defineProperty(Cl,"passive",{get:function(){qm=!0}}),window.addEventListener("test",Cl,Cl),window.removeEventListener("test",Cl,Cl)}catch{qm=!1}function PE(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Zl=!1,yd=null,xd=!1,Hm=null,TE={onError:function(e){Zl=!0,yd=e}};function AE(e,t,r,n,s,i,o,l,c){Zl=!1,yd=null,PE.apply(TE,arguments)}function OE(e,t,r,n,s,i,o,l,c){if(AE.apply(this,arguments),Zl){if(Zl){var u=yd;Zl=!1,yd=null}else throw Error(q(198));xd||(xd=!0,Hm=u)}}function Ua(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function B0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function $y(e){if(Ua(e)!==e)throw Error(q(188))}function IE(e){var t=e.alternate;if(!t){if(t=Ua(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return $y(s),e;if(i===n)return $y(s),t;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function W0(e){return e=IE(e),e!==null?q0(e):null}function q0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=q0(e);if(t!==null)return t;e=e.sibling}return null}var H0=Jr.unstable_scheduleCallback,Fy=Jr.unstable_cancelCallback,ME=Jr.unstable_shouldYield,DE=Jr.unstable_requestPaint,Tt=Jr.unstable_now,LE=Jr.unstable_getCurrentPriorityLevel,Ug=Jr.unstable_ImmediatePriority,K0=Jr.unstable_UserBlockingPriority,wd=Jr.unstable_NormalPriority,$E=Jr.unstable_LowPriority,G0=Jr.unstable_IdlePriority,bh=null,ns=null;function FE(e){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(bh,e,void 0,(e.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:VE,UE=Math.log,zE=Math.LN2;function VE(e){return e>>>=0,e===0?32:31-(UE(e)/zE|0)|0}var bu=64,_u=4194304;function Bl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function bd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Bl(l):(i&=o,i!==0&&(n=Bl(i)))}else o=r&~s,o!==0?n=Bl(o):i!==0&&(n=Bl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Dn(t),s=1<<r,n|=e[r],t&=~s;return n}function BE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function WE(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Dn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=BE(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Q0(){var e=bu;return bu<<=1,!(bu&4194240)&&(bu=64),e}function Of(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Yc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dn(t),e[t]=r}function qE(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Dn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function zg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Dn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var lt=0;function Y0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var J0,Vg,Z0,X0,e_,Gm=!1,ju=[],wi=null,bi=null,_i=null,fc=new Map,mc=new Map,si=[],HE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Uy(e,t){switch(e){case"focusin":case"focusout":wi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":fc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(t.pointerId)}}function El(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Zc(t),t!==null&&Vg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function KE(e,t,r,n,s){switch(t){case"focusin":return wi=El(wi,e,t,r,n,s),!0;case"dragenter":return bi=El(bi,e,t,r,n,s),!0;case"mouseover":return _i=El(_i,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return fc.set(i,El(fc.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,mc.set(i,El(mc.get(i)||null,e,t,r,n,s)),!0}return!1}function t_(e){var t=ia(e.target);if(t!==null){var r=Ua(t);if(r!==null){if(t=r.tag,t===13){if(t=B0(r),t!==null){e.blockedOn=t,e_(e.priority,function(){Z0(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function td(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Qm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bm=n,r.target.dispatchEvent(n),Bm=null}else return t=Zc(r),t!==null&&Vg(t),e.blockedOn=r,!1;t.shift()}return!0}function zy(e,t,r){td(e)&&r.delete(t)}function GE(){Gm=!1,wi!==null&&td(wi)&&(wi=null),bi!==null&&td(bi)&&(bi=null),_i!==null&&td(_i)&&(_i=null),fc.forEach(zy),mc.forEach(zy)}function Rl(e,t){e.blockedOn===t&&(e.blockedOn=null,Gm||(Gm=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,GE)))}function pc(e){function t(s){return Rl(s,e)}if(0<ju.length){Rl(ju[0],e);for(var r=1;r<ju.length;r++){var n=ju[r];n.blockedOn===e&&(n.blockedOn=null)}}for(wi!==null&&Rl(wi,e),bi!==null&&Rl(bi,e),_i!==null&&Rl(_i,e),fc.forEach(t),mc.forEach(t),r=0;r<si.length;r++)n=si[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<si.length&&(r=si[0],r.blockedOn===null);)t_(r),r.blockedOn===null&&si.shift()}var ko=$s.ReactCurrentBatchConfig,_d=!0;function QE(e,t,r,n){var s=lt,i=ko.transition;ko.transition=null;try{lt=1,Bg(e,t,r,n)}finally{lt=s,ko.transition=i}}function YE(e,t,r,n){var s=lt,i=ko.transition;ko.transition=null;try{lt=4,Bg(e,t,r,n)}finally{lt=s,ko.transition=i}}function Bg(e,t,r,n){if(_d){var s=Qm(e,t,r,n);if(s===null)Bf(e,t,n,jd,r),Uy(e,n);else if(KE(s,e,t,r,n))n.stopPropagation();else if(Uy(e,n),t&4&&-1<HE.indexOf(e)){for(;s!==null;){var i=Zc(s);if(i!==null&&J0(i),i=Qm(e,t,r,n),i===null&&Bf(e,t,n,jd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bf(e,t,n,null,r)}}var jd=null;function Qm(e,t,r,n){if(jd=null,e=Fg(n),e=ia(e),e!==null)if(t=Ua(e),t===null)e=null;else if(r=t.tag,r===13){if(e=B0(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return jd=e,null}function r_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LE()){case Ug:return 1;case K0:return 4;case wd:case $E:return 16;case G0:return 536870912;default:return 16}default:return 16}}var vi=null,Wg=null,rd=null;function n_(){if(rd)return rd;var e,t=Wg,r=t.length,n,s="value"in vi?vi.value:vi.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return rd=s.slice(e,1<n?1-n:void 0)}function nd(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Su(){return!0}function Vy(){return!1}function tn(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:Vy,this.isPropagationStopped=Vy,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),t}var ul={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qg=tn(ul),Jc=kt({},ul,{view:0,detail:0}),JE=tn(Jc),If,Mf,Pl,_h=kt({},Jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pl&&(Pl&&e.type==="mousemove"?(If=e.screenX-Pl.screenX,Mf=e.screenY-Pl.screenY):Mf=If=0,Pl=e),If)},movementY:function(e){return"movementY"in e?e.movementY:Mf}}),By=tn(_h),ZE=kt({},_h,{dataTransfer:0}),XE=tn(ZE),e2=kt({},Jc,{relatedTarget:0}),Df=tn(e2),t2=kt({},ul,{animationName:0,elapsedTime:0,pseudoElement:0}),r2=tn(t2),n2=kt({},ul,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),s2=tn(n2),i2=kt({},ul,{data:0}),Wy=tn(i2),a2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c2(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=l2[e])?!!t[e]:!1}function Hg(){return c2}var u2=kt({},Jc,{key:function(e){if(e.key){var t=a2[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o2[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hg,charCode:function(e){return e.type==="keypress"?nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),d2=tn(u2),h2=kt({},_h,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=tn(h2),f2=kt({},Jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hg}),m2=tn(f2),p2=kt({},ul,{propertyName:0,elapsedTime:0,pseudoElement:0}),g2=tn(p2),v2=kt({},_h,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),y2=tn(v2),x2=[9,13,27,32],Kg=Ts&&"CompositionEvent"in window,Xl=null;Ts&&"documentMode"in document&&(Xl=document.documentMode);var w2=Ts&&"TextEvent"in window&&!Xl,s_=Ts&&(!Kg||Xl&&8<Xl&&11>=Xl),Hy=" ",Ky=!1;function i_(e,t){switch(e){case"keyup":return x2.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var uo=!1;function b2(e,t){switch(e){case"compositionend":return a_(t);case"keypress":return t.which!==32?null:(Ky=!0,Hy);case"textInput":return e=t.data,e===Hy&&Ky?null:e;default:return null}}function _2(e,t){if(uo)return e==="compositionend"||!Kg&&i_(e,t)?(e=n_(),rd=Wg=vi=null,uo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s_&&t.locale!=="ko"?null:t.data;default:return null}}var j2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!j2[e.type]:t==="textarea"}function o_(e,t,r,n){$0(n),t=Sd(t,"onChange"),0<t.length&&(r=new qg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ec=null,gc=null;function S2(e){y_(e,0)}function jh(e){var t=mo(e);if(T0(t))return e}function k2(e,t){if(e==="change")return t}var l_=!1;if(Ts){var Lf;if(Ts){var $f="oninput"in document;if(!$f){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),$f=typeof Qy.oninput=="function"}Lf=$f}else Lf=!1;l_=Lf&&(!document.documentMode||9<document.documentMode)}function Yy(){ec&&(ec.detachEvent("onpropertychange",c_),gc=ec=null)}function c_(e){if(e.propertyName==="value"&&jh(gc)){var t=[];o_(t,gc,e,Fg(e)),V0(S2,t)}}function N2(e,t,r){e==="focusin"?(Yy(),ec=t,gc=r,ec.attachEvent("onpropertychange",c_)):e==="focusout"&&Yy()}function C2(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jh(gc)}function E2(e,t){if(e==="click")return jh(t)}function R2(e,t){if(e==="input"||e==="change")return jh(t)}function P2(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $n=typeof Object.is=="function"?Object.is:P2;function vc(e,t){if($n(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Tm.call(t,s)||!$n(e[s],t[s]))return!1}return!0}function Jy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zy(e,t){var r=Jy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jy(r)}}function u_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d_(){for(var e=window,t=vd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=vd(e.document)}return t}function Gg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function T2(e){var t=d_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&u_(r.ownerDocument.documentElement,r)){if(n!==null&&Gg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Zy(r,i);var o=Zy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var A2=Ts&&"documentMode"in document&&11>=document.documentMode,ho=null,Ym=null,tc=null,Jm=!1;function Xy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jm||ho==null||ho!==vd(n)||(n=ho,"selectionStart"in n&&Gg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),tc&&vc(tc,n)||(tc=n,n=Sd(Ym,"onSelect"),0<n.length&&(t=new qg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ho)))}function ku(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var fo={animationend:ku("Animation","AnimationEnd"),animationiteration:ku("Animation","AnimationIteration"),animationstart:ku("Animation","AnimationStart"),transitionend:ku("Transition","TransitionEnd")},Ff={},h_={};Ts&&(h_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function Sh(e){if(Ff[e])return Ff[e];if(!fo[e])return e;var t=fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in h_)return Ff[e]=t[r];return e}var f_=Sh("animationend"),m_=Sh("animationiteration"),p_=Sh("animationstart"),g_=Sh("transitionend"),v_=new Map,ex="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zi(e,t){v_.set(e,t),Fa(t,[e])}for(var Uf=0;Uf<ex.length;Uf++){var zf=ex[Uf],O2=zf.toLowerCase(),I2=zf[0].toUpperCase()+zf.slice(1);zi(O2,"on"+I2)}zi(f_,"onAnimationEnd");zi(m_,"onAnimationIteration");zi(p_,"onAnimationStart");zi("dblclick","onDoubleClick");zi("focusin","onFocus");zi("focusout","onBlur");zi(g_,"onTransitionEnd");qo("onMouseEnter",["mouseout","mouseover"]);qo("onMouseLeave",["mouseout","mouseover"]);qo("onPointerEnter",["pointerout","pointerover"]);qo("onPointerLeave",["pointerout","pointerover"]);Fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M2=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wl));function tx(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,OE(n,t,void 0,e),e.currentTarget=null}function y_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;tx(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;tx(s,l,u),i=c}}}if(xd)throw e=Hm,xd=!1,Hm=null,e}function yt(e,t){var r=t[rp];r===void 0&&(r=t[rp]=new Set);var n=e+"__bubble";r.has(n)||(x_(t,e,2,!1),r.add(n))}function Vf(e,t,r){var n=0;t&&(n|=4),x_(r,e,n,t)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function yc(e){if(!e[Nu]){e[Nu]=!0,N0.forEach(function(r){r!=="selectionchange"&&(M2.has(r)||Vf(r,!1,e),Vf(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Nu]||(t[Nu]=!0,Vf("selectionchange",!1,t))}}function x_(e,t,r,n){switch(r_(t)){case 1:var s=QE;break;case 4:s=YE;break;default:s=Bg}r=s.bind(null,t,r,e),s=void 0,!qm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bf(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ia(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}V0(function(){var u=i,d=Fg(r),h=[];e:{var p=v_.get(e);if(p!==void 0){var f=qg,v=e;switch(e){case"keypress":if(nd(r)===0)break e;case"keydown":case"keyup":f=d2;break;case"focusin":v="focus",f=Df;break;case"focusout":v="blur",f=Df;break;case"beforeblur":case"afterblur":f=Df;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=By;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=XE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=m2;break;case f_:case m_:case p_:f=r2;break;case g_:f=g2;break;case"scroll":f=JE;break;case"wheel":f=y2;break;case"copy":case"cut":case"paste":f=s2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=qy}var g=(t&4)!==0,b=!g&&e==="scroll",y=g?p!==null?p+"Capture":null:p;g=[];for(var x=u,w;x!==null;){w=x;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,y!==null&&(_=hc(x,y),_!=null&&g.push(xc(x,_,w)))),b)break;x=x.return}0<g.length&&(p=new f(p,v,null,r,d),h.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&r!==Bm&&(v=r.relatedTarget||r.fromElement)&&(ia(v)||v[As]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=r.relatedTarget||r.toElement,f=u,v=v?ia(v):null,v!==null&&(b=Ua(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(g=By,_="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(g=qy,_="onPointerLeave",y="onPointerEnter",x="pointer"),b=f==null?p:mo(f),w=v==null?p:mo(v),p=new g(_,x+"leave",f,r,d),p.target=b,p.relatedTarget=w,_=null,ia(d)===u&&(g=new g(y,x+"enter",v,r,d),g.target=w,g.relatedTarget=b,_=g),b=_,f&&v)t:{for(g=f,y=v,x=0,w=g;w;w=Wa(w))x++;for(w=0,_=y;_;_=Wa(_))w++;for(;0<x-w;)g=Wa(g),x--;for(;0<w-x;)y=Wa(y),w--;for(;x--;){if(g===y||y!==null&&g===y.alternate)break t;g=Wa(g),y=Wa(y)}g=null}else g=null;f!==null&&rx(h,p,f,g,!1),v!==null&&b!==null&&rx(h,b,v,g,!0)}}e:{if(p=u?mo(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=k2;else if(Gy(p))if(l_)S=R2;else{S=C2;var j=N2}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=E2);if(S&&(S=S(e,u))){o_(h,S,r,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&$m(p,"number",p.value)}switch(j=u?mo(u):window,e){case"focusin":(Gy(j)||j.contentEditable==="true")&&(ho=j,Ym=u,tc=null);break;case"focusout":tc=Ym=ho=null;break;case"mousedown":Jm=!0;break;case"contextmenu":case"mouseup":case"dragend":Jm=!1,Xy(h,r,d);break;case"selectionchange":if(A2)break;case"keydown":case"keyup":Xy(h,r,d)}var k;if(Kg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else uo?i_(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(s_&&r.locale!=="ko"&&(uo||P!=="onCompositionStart"?P==="onCompositionEnd"&&uo&&(k=n_()):(vi=d,Wg="value"in vi?vi.value:vi.textContent,uo=!0)),j=Sd(u,P),0<j.length&&(P=new Wy(P,e,null,r,d),h.push({event:P,listeners:j}),k?P.data=k:(k=a_(r),k!==null&&(P.data=k)))),(k=w2?b2(e,r):_2(e,r))&&(u=Sd(u,"onBeforeInput"),0<u.length&&(d=new Wy("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=k))}y_(h,t)})}function xc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Sd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=hc(e,r),i!=null&&n.unshift(xc(e,i,s)),i=hc(e,t),i!=null&&n.push(xc(e,i,s))),e=e.return}return n}function Wa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function rx(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=hc(r,i),c!=null&&o.unshift(xc(r,c,l))):s||(c=hc(r,i),c!=null&&o.push(xc(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var D2=/\r\n?/g,L2=/\u0000|\uFFFD/g;function nx(e){return(typeof e=="string"?e:""+e).replace(D2,`
`).replace(L2,"")}function Cu(e,t,r){if(t=nx(t),nx(e)!==t&&r)throw Error(q(425))}function kd(){}var Zm=null,Xm=null;function ep(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tp=typeof setTimeout=="function"?setTimeout:void 0,$2=typeof clearTimeout=="function"?clearTimeout:void 0,sx=typeof Promise=="function"?Promise:void 0,F2=typeof queueMicrotask=="function"?queueMicrotask:typeof sx<"u"?function(e){return sx.resolve(null).then(e).catch(U2)}:tp;function U2(e){setTimeout(function(){throw e})}function Wf(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),pc(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);pc(t)}function ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ix(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var dl=Math.random().toString(36).slice(2),es="__reactFiber$"+dl,wc="__reactProps$"+dl,As="__reactContainer$"+dl,rp="__reactEvents$"+dl,z2="__reactListeners$"+dl,V2="__reactHandles$"+dl;function ia(e){var t=e[es];if(t)return t;for(var r=e.parentNode;r;){if(t=r[As]||r[es]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ix(e);e!==null;){if(r=e[es])return r;e=ix(e)}return t}e=r,r=e.parentNode}return null}function Zc(e){return e=e[es]||e[As],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function kh(e){return e[wc]||null}var np=[],po=-1;function Vi(e){return{current:e}}function xt(e){0>po||(e.current=np[po],np[po]=null,po--)}function pt(e,t){po++,np[po]=e.current,e.current=t}var Oi={},xr=Vi(Oi),Fr=Vi(!1),_a=Oi;function Ho(e,t){var r=e.type.contextTypes;if(!r)return Oi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ur(e){return e=e.childContextTypes,e!=null}function Nd(){xt(Fr),xt(xr)}function ax(e,t,r){if(xr.current!==Oi)throw Error(q(168));pt(xr,t),pt(Fr,r)}function w_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(q(108,NE(e)||"Unknown",s));return kt({},r,n)}function Cd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oi,_a=xr.current,pt(xr,e),pt(Fr,Fr.current),!0}function ox(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=w_(e,t,_a),n.__reactInternalMemoizedMergedChildContext=e,xt(Fr),xt(xr),pt(xr,e)):xt(Fr),pt(Fr,r)}var bs=null,Nh=!1,qf=!1;function b_(e){bs===null?bs=[e]:bs.push(e)}function B2(e){Nh=!0,b_(e)}function Bi(){if(!qf&&bs!==null){qf=!0;var e=0,t=lt;try{var r=bs;for(lt=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bs=null,Nh=!1}catch(s){throw bs!==null&&(bs=bs.slice(e+1)),H0(Ug,Bi),s}finally{lt=t,qf=!1}}return null}var go=[],vo=0,Ed=null,Rd=0,an=[],on=0,ja=null,Ns=1,Cs="";function Xi(e,t){go[vo++]=Rd,go[vo++]=Ed,Ed=e,Rd=t}function __(e,t,r){an[on++]=Ns,an[on++]=Cs,an[on++]=ja,ja=e;var n=Ns;e=Cs;var s=32-Dn(n)-1;n&=~(1<<s),r+=1;var i=32-Dn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Ns=1<<32-Dn(t)+s|r<<s|n,Cs=i+e}else Ns=1<<i|r<<s|n,Cs=e}function Qg(e){e.return!==null&&(Xi(e,1),__(e,1,0))}function Yg(e){for(;e===Ed;)Ed=go[--vo],go[vo]=null,Rd=go[--vo],go[vo]=null;for(;e===ja;)ja=an[--on],an[on]=null,Cs=an[--on],an[on]=null,Ns=an[--on],an[on]=null}var Qr=null,Gr=null,bt=!1,On=null;function j_(e,t){var r=ln(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function lx(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qr=e,Gr=ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qr=e,Gr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ja!==null?{id:Ns,overflow:Cs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ln(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qr=e,Gr=null,!0):!1;default:return!1}}function sp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ip(e){if(bt){var t=Gr;if(t){var r=t;if(!lx(e,t)){if(sp(e))throw Error(q(418));t=ji(r.nextSibling);var n=Qr;t&&lx(e,t)?j_(n,r):(e.flags=e.flags&-4097|2,bt=!1,Qr=e)}}else{if(sp(e))throw Error(q(418));e.flags=e.flags&-4097|2,bt=!1,Qr=e}}}function cx(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qr=e}function Eu(e){if(e!==Qr)return!1;if(!bt)return cx(e),bt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ep(e.type,e.memoizedProps)),t&&(t=Gr)){if(sp(e))throw S_(),Error(q(418));for(;t;)j_(e,t),t=ji(t.nextSibling)}if(cx(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Gr=ji(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Gr=null}}else Gr=Qr?ji(e.stateNode.nextSibling):null;return!0}function S_(){for(var e=Gr;e;)e=ji(e.nextSibling)}function Ko(){Gr=Qr=null,bt=!1}function Jg(e){On===null?On=[e]:On.push(e)}var W2=$s.ReactCurrentBatchConfig;function Tl(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function Ru(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ux(e){var t=e._init;return t(e._payload)}function k_(e){function t(y,x){if(e){var w=y.deletions;w===null?(y.deletions=[x],y.flags|=16):w.push(x)}}function r(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function n(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function s(y,x){return y=Ci(y,x),y.index=0,y.sibling=null,y}function i(y,x,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<x?(y.flags|=2,x):w):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,x,w,_){return x===null||x.tag!==6?(x=Zf(w,y.mode,_),x.return=y,x):(x=s(x,w),x.return=y,x)}function c(y,x,w,_){var S=w.type;return S===co?d(y,x,w.props.children,_,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&ux(S)===x.type)?(_=s(x,w.props),_.ref=Tl(y,x,w),_.return=y,_):(_=ud(w.type,w.key,w.props,null,y.mode,_),_.ref=Tl(y,x,w),_.return=y,_)}function u(y,x,w,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Xf(w,y.mode,_),x.return=y,x):(x=s(x,w.children||[]),x.return=y,x)}function d(y,x,w,_,S){return x===null||x.tag!==7?(x=ba(w,y.mode,_,S),x.return=y,x):(x=s(x,w),x.return=y,x)}function h(y,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Zf(""+x,y.mode,w),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yu:return w=ud(x.type,x.key,x.props,null,y.mode,w),w.ref=Tl(y,null,x),w.return=y,w;case lo:return x=Xf(x,y.mode,w),x.return=y,x;case ei:var _=x._init;return h(y,_(x._payload),w)}if(Vl(x)||Nl(x))return x=ba(x,y.mode,w,null),x.return=y,x;Ru(y,x)}return null}function p(y,x,w,_){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(y,x,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:return w.key===S?c(y,x,w,_):null;case lo:return w.key===S?u(y,x,w,_):null;case ei:return S=w._init,p(y,x,S(w._payload),_)}if(Vl(w)||Nl(w))return S!==null?null:d(y,x,w,_,null);Ru(y,w)}return null}function f(y,x,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return y=y.get(w)||null,l(x,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yu:return y=y.get(_.key===null?w:_.key)||null,c(x,y,_,S);case lo:return y=y.get(_.key===null?w:_.key)||null,u(x,y,_,S);case ei:var j=_._init;return f(y,x,w,j(_._payload),S)}if(Vl(_)||Nl(_))return y=y.get(w)||null,d(x,y,_,S,null);Ru(x,_)}return null}function v(y,x,w,_){for(var S=null,j=null,k=x,P=x=0,A=null;k!==null&&P<w.length;P++){k.index>P?(A=k,k=null):A=k.sibling;var M=p(y,k,w[P],_);if(M===null){k===null&&(k=A);break}e&&k&&M.alternate===null&&t(y,k),x=i(M,x,P),j===null?S=M:j.sibling=M,j=M,k=A}if(P===w.length)return r(y,k),bt&&Xi(y,P),S;if(k===null){for(;P<w.length;P++)k=h(y,w[P],_),k!==null&&(x=i(k,x,P),j===null?S=k:j.sibling=k,j=k);return bt&&Xi(y,P),S}for(k=n(y,k);P<w.length;P++)A=f(k,y,P,w[P],_),A!==null&&(e&&A.alternate!==null&&k.delete(A.key===null?P:A.key),x=i(A,x,P),j===null?S=A:j.sibling=A,j=A);return e&&k.forEach(function(W){return t(y,W)}),bt&&Xi(y,P),S}function g(y,x,w,_){var S=Nl(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var j=S=null,k=x,P=x=0,A=null,M=w.next();k!==null&&!M.done;P++,M=w.next()){k.index>P?(A=k,k=null):A=k.sibling;var W=p(y,k,M.value,_);if(W===null){k===null&&(k=A);break}e&&k&&W.alternate===null&&t(y,k),x=i(W,x,P),j===null?S=W:j.sibling=W,j=W,k=A}if(M.done)return r(y,k),bt&&Xi(y,P),S;if(k===null){for(;!M.done;P++,M=w.next())M=h(y,M.value,_),M!==null&&(x=i(M,x,P),j===null?S=M:j.sibling=M,j=M);return bt&&Xi(y,P),S}for(k=n(y,k);!M.done;P++,M=w.next())M=f(k,y,P,M.value,_),M!==null&&(e&&M.alternate!==null&&k.delete(M.key===null?P:M.key),x=i(M,x,P),j===null?S=M:j.sibling=M,j=M);return e&&k.forEach(function(L){return t(y,L)}),bt&&Xi(y,P),S}function b(y,x,w,_){if(typeof w=="object"&&w!==null&&w.type===co&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:e:{for(var S=w.key,j=x;j!==null;){if(j.key===S){if(S=w.type,S===co){if(j.tag===7){r(y,j.sibling),x=s(j,w.props.children),x.return=y,y=x;break e}}else if(j.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ei&&ux(S)===j.type){r(y,j.sibling),x=s(j,w.props),x.ref=Tl(y,j,w),x.return=y,y=x;break e}r(y,j);break}else t(y,j);j=j.sibling}w.type===co?(x=ba(w.props.children,y.mode,_,w.key),x.return=y,y=x):(_=ud(w.type,w.key,w.props,null,y.mode,_),_.ref=Tl(y,x,w),_.return=y,y=_)}return o(y);case lo:e:{for(j=w.key;x!==null;){if(x.key===j)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(y,x.sibling),x=s(x,w.children||[]),x.return=y,y=x;break e}else{r(y,x);break}else t(y,x);x=x.sibling}x=Xf(w,y.mode,_),x.return=y,y=x}return o(y);case ei:return j=w._init,b(y,x,j(w._payload),_)}if(Vl(w))return v(y,x,w,_);if(Nl(w))return g(y,x,w,_);Ru(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(y,x.sibling),x=s(x,w),x.return=y,y=x):(r(y,x),x=Zf(w,y.mode,_),x.return=y,y=x),o(y)):r(y,x)}return b}var Go=k_(!0),N_=k_(!1),Pd=Vi(null),Td=null,yo=null,Zg=null;function Xg(){Zg=yo=Td=null}function ev(e){var t=Pd.current;xt(Pd),e._currentValue=t}function ap(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function No(e,t){Td=e,Zg=yo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Dr=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(Zg!==e)if(e={context:e,memoizedValue:t,next:null},yo===null){if(Td===null)throw Error(q(308));yo=e,Td.dependencies={lanes:0,firstContext:e}}else yo=yo.next=e;return t}var aa=null;function tv(e){aa===null?aa=[e]:aa.push(e)}function C_(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,tv(t)):(r.next=s.next,s.next=r),t.interleaved=r,Os(e,n)}function Os(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ti=!1;function rv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Si(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ke&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Os(e,r)}return s=n.interleaved,s===null?(t.next=t,tv(n)):(t.next=s.next,s.next=t),n.interleaved=t,Os(e,r)}function sd(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zg(e,r)}}function dx(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ad(e,t,r,n){var s=e.updateQueue;ti=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var p=l.lane,f=l.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(p=t,f=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=kt({},h,p);break e;case 2:ti=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else f={eventTime:f,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,c=h):d=d.next=f,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ka|=o,e.lanes=o,e.memoizedState=h}}function hx(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(q(191,s));s.call(n)}}}var Xc={},ss=Vi(Xc),bc=Vi(Xc),_c=Vi(Xc);function oa(e){if(e===Xc)throw Error(q(174));return e}function nv(e,t){switch(pt(_c,t),pt(bc,e),pt(ss,Xc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Um(t,e)}xt(ss),pt(ss,t)}function Qo(){xt(ss),xt(bc),xt(_c)}function R_(e){oa(_c.current);var t=oa(ss.current),r=Um(t,e.type);t!==r&&(pt(bc,e),pt(ss,r))}function sv(e){bc.current===e&&(xt(ss),xt(bc))}var jt=Vi(0);function Od(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Hf=[];function iv(){for(var e=0;e<Hf.length;e++)Hf[e]._workInProgressVersionPrimary=null;Hf.length=0}var id=$s.ReactCurrentDispatcher,Kf=$s.ReactCurrentBatchConfig,Sa=0,St=null,Ht=null,Xt=null,Id=!1,rc=!1,jc=0,q2=0;function mr(){throw Error(q(321))}function av(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!$n(e[r],t[r]))return!1;return!0}function ov(e,t,r,n,s,i){if(Sa=i,St=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,id.current=e===null||e.memoizedState===null?Q2:Y2,e=r(n,s),rc){i=0;do{if(rc=!1,jc=0,25<=i)throw Error(q(301));i+=1,Xt=Ht=null,t.updateQueue=null,id.current=J2,e=r(n,s)}while(rc)}if(id.current=Md,t=Ht!==null&&Ht.next!==null,Sa=0,Xt=Ht=St=null,Id=!1,t)throw Error(q(300));return e}function lv(){var e=jc!==0;return jc=0,e}function Qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?St.memoizedState=Xt=e:Xt=Xt.next=e,Xt}function fn(){if(Ht===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Xt===null?St.memoizedState:Xt.next;if(t!==null)Xt=t,Ht=e;else{if(e===null)throw Error(q(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Xt===null?St.memoizedState=Xt=e:Xt=Xt.next=e}return Xt}function Sc(e,t){return typeof t=="function"?t(e):t}function Gf(e){var t=fn(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=Ht,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((Sa&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,St.lanes|=d,ka|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,$n(n,t.memoizedState)||(Dr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,St.lanes|=i,ka|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Qf(e){var t=fn(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);$n(i,t.memoizedState)||(Dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function P_(){}function T_(e,t){var r=St,n=fn(),s=t(),i=!$n(n.memoizedState,s);if(i&&(n.memoizedState=s,Dr=!0),n=n.queue,cv(I_.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,kc(9,O_.bind(null,r,n,s,t),void 0,null),nr===null)throw Error(q(349));Sa&30||A_(r,t,s)}return s}function A_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function O_(e,t,r,n){t.value=r,t.getSnapshot=n,M_(t)&&D_(e)}function I_(e,t,r){return r(function(){M_(t)&&D_(e)})}function M_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!$n(e,r)}catch{return!0}}function D_(e){var t=Os(e,1);t!==null&&Ln(t,e,1,-1)}function fx(e){var t=Qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:e},t.queue=e,e=e.dispatch=G2.bind(null,St,e),[t.memoizedState,e]}function kc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=St.updateQueue,t===null?(t={lastEffect:null,stores:null},St.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function L_(){return fn().memoizedState}function ad(e,t,r,n){var s=Qn();St.flags|=e,s.memoizedState=kc(1|t,r,void 0,n===void 0?null:n)}function Ch(e,t,r,n){var s=fn();n=n===void 0?null:n;var i=void 0;if(Ht!==null){var o=Ht.memoizedState;if(i=o.destroy,n!==null&&av(n,o.deps)){s.memoizedState=kc(t,r,i,n);return}}St.flags|=e,s.memoizedState=kc(1|t,r,i,n)}function mx(e,t){return ad(8390656,8,e,t)}function cv(e,t){return Ch(2048,8,e,t)}function $_(e,t){return Ch(4,2,e,t)}function F_(e,t){return Ch(4,4,e,t)}function U_(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z_(e,t,r){return r=r!=null?r.concat([e]):null,Ch(4,4,U_.bind(null,t,e),r)}function uv(){}function V_(e,t){var r=fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&av(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function B_(e,t){var r=fn();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&av(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function W_(e,t,r){return Sa&21?($n(r,t)||(r=Q0(),St.lanes|=r,ka|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Dr=!0),e.memoizedState=r)}function H2(e,t){var r=lt;lt=r!==0&&4>r?r:4,e(!0);var n=Kf.transition;Kf.transition={};try{e(!1),t()}finally{lt=r,Kf.transition=n}}function q_(){return fn().memoizedState}function K2(e,t,r){var n=Ni(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},H_(e))K_(t,r);else if(r=C_(e,t,r,n),r!==null){var s=Sr();Ln(r,e,n,s),G_(r,t,n)}}function G2(e,t,r){var n=Ni(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(H_(e))K_(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,$n(l,o)){var c=t.interleaved;c===null?(s.next=s,tv(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=C_(e,t,s,n),r!==null&&(s=Sr(),Ln(r,e,n,s),G_(r,t,n))}}function H_(e){var t=e.alternate;return e===St||t!==null&&t===St}function K_(e,t){rc=Id=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function G_(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zg(e,r)}}var Md={readContext:hn,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},Q2={readContext:hn,useCallback:function(e,t){return Qn().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:mx,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ad(4194308,4,U_.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ad(4194308,4,e,t)},useInsertionEffect:function(e,t){return ad(4,2,e,t)},useMemo:function(e,t){var r=Qn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K2.bind(null,St,e),[n.memoizedState,e]},useRef:function(e){var t=Qn();return e={current:e},t.memoizedState=e},useState:fx,useDebugValue:uv,useDeferredValue:function(e){return Qn().memoizedState=e},useTransition:function(){var e=fx(!1),t=e[0];return e=H2.bind(null,e[1]),Qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=St,s=Qn();if(bt){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),nr===null)throw Error(q(349));Sa&30||A_(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,mx(I_.bind(null,n,i,e),[e]),n.flags|=2048,kc(9,O_.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Qn(),t=nr.identifierPrefix;if(bt){var r=Cs,n=Ns;r=(n&~(1<<32-Dn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=jc++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=q2++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Y2={readContext:hn,useCallback:V_,useContext:hn,useEffect:cv,useImperativeHandle:z_,useInsertionEffect:$_,useLayoutEffect:F_,useMemo:B_,useReducer:Gf,useRef:L_,useState:function(){return Gf(Sc)},useDebugValue:uv,useDeferredValue:function(e){var t=fn();return W_(t,Ht.memoizedState,e)},useTransition:function(){var e=Gf(Sc)[0],t=fn().memoizedState;return[e,t]},useMutableSource:P_,useSyncExternalStore:T_,useId:q_,unstable_isNewReconciler:!1},J2={readContext:hn,useCallback:V_,useContext:hn,useEffect:cv,useImperativeHandle:z_,useInsertionEffect:$_,useLayoutEffect:F_,useMemo:B_,useReducer:Qf,useRef:L_,useState:function(){return Qf(Sc)},useDebugValue:uv,useDeferredValue:function(e){var t=fn();return Ht===null?t.memoizedState=e:W_(t,Ht.memoizedState,e)},useTransition:function(){var e=Qf(Sc)[0],t=fn().memoizedState;return[e,t]},useMutableSource:P_,useSyncExternalStore:T_,useId:q_,unstable_isNewReconciler:!1};function Cn(e,t){if(e&&e.defaultProps){t=kt({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function op(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:kt({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Eh={isMounted:function(e){return(e=e._reactInternals)?Ua(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sr(),s=Ni(e),i=Rs(n,s);i.payload=t,r!=null&&(i.callback=r),t=Si(e,i,s),t!==null&&(Ln(t,e,s,n),sd(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sr(),s=Ni(e),i=Rs(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Si(e,i,s),t!==null&&(Ln(t,e,s,n),sd(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sr(),n=Ni(e),s=Rs(r,n);s.tag=2,t!=null&&(s.callback=t),t=Si(e,s,n),t!==null&&(Ln(t,e,n,r),sd(t,e,n))}};function px(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!vc(r,n)||!vc(s,i):!0}function Q_(e,t,r){var n=!1,s=Oi,i=t.contextType;return typeof i=="object"&&i!==null?i=hn(i):(s=Ur(t)?_a:xr.current,n=t.contextTypes,i=(n=n!=null)?Ho(e,s):Oi),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function gx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Eh.enqueueReplaceState(t,t.state,null)}function lp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},rv(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=hn(i):(i=Ur(t)?_a:xr.current,s.context=Ho(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(op(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Eh.enqueueReplaceState(s,s.state,null),Ad(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yo(e,t){try{var r="",n=t;do r+=kE(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Yf(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function cp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function Y_(e,t,r){r=Rs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ld||(Ld=!0,xp=n),cp(e,t)},r}function J_(e,t,r){r=Rs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){cp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){cp(e,t),typeof n!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function vx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Z2;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=hR.bind(null,e,t,r),t.then(e,e))}function yx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xx(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Rs(-1,1),t.tag=2,Si(r,t,1))),r.lanes|=1),e)}var X2=$s.ReactCurrentOwner,Dr=!1;function _r(e,t,r,n){t.child=e===null?N_(t,null,r,n):Go(t,e.child,r,n)}function wx(e,t,r,n,s){r=r.render;var i=t.ref;return No(t,s),n=ov(e,t,r,n,i,s),r=lv(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Is(e,t,s)):(bt&&r&&Qg(t),t.flags|=1,_r(e,t,n,s),t.child)}function bx(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!yv(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Z_(e,t,i,n,s)):(e=ud(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:vc,r(o,n)&&e.ref===t.ref)return Is(e,t,s)}return t.flags|=1,e=Ci(i,n),e.ref=t.ref,e.return=t,t.child=e}function Z_(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(vc(i,n)&&e.ref===t.ref)if(Dr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Dr=!0);else return t.lanes=e.lanes,Is(e,t,s)}return up(e,t,r,n,s)}function X_(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(wo,Wr),Wr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pt(wo,Wr),Wr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pt(wo,Wr),Wr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pt(wo,Wr),Wr|=n;return _r(e,t,s,r),t.child}function ej(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function up(e,t,r,n,s){var i=Ur(r)?_a:xr.current;return i=Ho(t,i),No(t,s),r=ov(e,t,r,n,i,s),n=lv(),e!==null&&!Dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Is(e,t,s)):(bt&&n&&Qg(t),t.flags|=1,_r(e,t,r,s),t.child)}function _x(e,t,r,n,s){if(Ur(r)){var i=!0;Cd(t)}else i=!1;if(No(t,s),t.stateNode===null)od(e,t),Q_(t,r,n),lp(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Ur(r)?_a:xr.current,u=Ho(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&gx(t,o,n,u),ti=!1;var p=t.memoizedState;o.state=p,Ad(t,n,o,s),c=t.memoizedState,l!==n||p!==c||Fr.current||ti?(typeof d=="function"&&(op(t,r,d,n),c=t.memoizedState),(l=ti||px(t,r,l,n,p,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,E_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cn(t.type,l),o.props=u,h=t.pendingProps,p=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=hn(c):(c=Ur(r)?_a:xr.current,c=Ho(t,c));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==c)&&gx(t,o,n,c),ti=!1,p=t.memoizedState,o.state=p,Ad(t,n,o,s);var v=t.memoizedState;l!==h||p!==v||Fr.current||ti?(typeof f=="function"&&(op(t,r,f,n),v=t.memoizedState),(u=ti||px(t,r,u,n,p,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return dp(e,t,r,n,i,s)}function dp(e,t,r,n,s,i){ej(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&ox(t,r,!1),Is(e,t,i);n=t.stateNode,X2.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Go(t,e.child,null,i),t.child=Go(t,null,l,i)):_r(e,t,l,i),t.memoizedState=n.state,s&&ox(t,r,!0),t.child}function tj(e){var t=e.stateNode;t.pendingContext?ax(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ax(e,t.context,!1),nv(e,t.containerInfo)}function jx(e,t,r,n,s){return Ko(),Jg(s),t.flags|=256,_r(e,t,r,n),t.child}var hp={dehydrated:null,treeContext:null,retryLane:0};function fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function rj(e,t,r){var n=t.pendingProps,s=jt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pt(jt,s&1),e===null)return ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Th(o,n,0,null),e=ba(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fp(r),t.memoizedState=hp,e):dv(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return eR(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ci(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ci(l,i):(i=ba(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fp(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=hp,n}return i=e.child,e=i.sibling,n=Ci(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function dv(e,t){return t=Th({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pu(e,t,r,n){return n!==null&&Jg(n),Go(t,e.child,null,r),e=dv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function eR(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Yf(Error(q(422))),Pu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=Th({mode:"visible",children:n.children},s,0,null),i=ba(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Go(t,e.child,null,o),t.child.memoizedState=fp(o),t.memoizedState=hp,i);if(!(t.mode&1))return Pu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(q(419)),n=Yf(i,n,void 0),Pu(e,t,o,n)}if(l=(o&e.childLanes)!==0,Dr||l){if(n=nr,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Os(e,s),Ln(n,e,s,-1))}return vv(),n=Yf(Error(q(421))),Pu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=fR.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Gr=ji(s.nextSibling),Qr=t,bt=!0,On=null,e!==null&&(an[on++]=Ns,an[on++]=Cs,an[on++]=ja,Ns=e.id,Cs=e.overflow,ja=t),t=dv(t,n.children),t.flags|=4096,t)}function Sx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ap(e.return,t,r)}function Jf(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nj(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_r(e,t,n.children,r),n=jt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sx(e,r,t);else if(e.tag===19)Sx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pt(jt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Od(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Jf(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Od(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Jf(t,!0,r,null,i);break;case"together":Jf(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function od(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Is(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Ci(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ci(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function tR(e,t,r){switch(t.tag){case 3:tj(t),Ko();break;case 5:R_(t);break;case 1:Ur(t.type)&&Cd(t);break;case 4:nv(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pt(Pd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pt(jt,jt.current&1),t.flags|=128,null):r&t.child.childLanes?rj(e,t,r):(pt(jt,jt.current&1),e=Is(e,t,r),e!==null?e.sibling:null);pt(jt,jt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nj(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pt(jt,jt.current),n)break;return null;case 22:case 23:return t.lanes=0,X_(e,t,r)}return Is(e,t,r)}var sj,mp,ij,aj;sj=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mp=function(){};ij=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,oa(ss.current);var i=null;switch(r){case"input":s=Dm(e,s),n=Dm(e,n),i=[];break;case"select":s=kt({},s,{value:void 0}),n=kt({},n,{value:void 0}),i=[];break;case"textarea":s=Fm(e,s),n=Fm(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=kd)}zm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(uc.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(uc.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&yt("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};aj=function(e,t,r,n){r!==n&&(t.flags|=4)};function Al(e,t){if(!bt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function pr(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rR(e,t,r){var n=t.pendingProps;switch(Yg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pr(t),null;case 1:return Ur(t.type)&&Nd(),pr(t),null;case 3:return n=t.stateNode,Qo(),xt(Fr),xt(xr),iv(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Eu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,On!==null&&(_p(On),On=null))),mp(e,t),pr(t),null;case 5:sv(t);var s=oa(_c.current);if(r=t.type,e!==null&&t.stateNode!=null)ij(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return pr(t),null}if(e=oa(ss.current),Eu(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[es]=t,n[wc]=i,e=(t.mode&1)!==0,r){case"dialog":yt("cancel",n),yt("close",n);break;case"iframe":case"object":case"embed":yt("load",n);break;case"video":case"audio":for(s=0;s<Wl.length;s++)yt(Wl[s],n);break;case"source":yt("error",n);break;case"img":case"image":case"link":yt("error",n),yt("load",n);break;case"details":yt("toggle",n);break;case"input":Oy(n,i),yt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},yt("invalid",n);break;case"textarea":My(n,i),yt("invalid",n)}zm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Cu(n.textContent,l,e),s=["children",""+l]):uc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&yt("scroll",n)}switch(r){case"input":xu(n),Iy(n,i,!0);break;case"textarea":xu(n),Dy(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=kd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=I0(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[es]=t,e[wc]=n,sj(e,t,!1,!1),t.stateNode=e;e:{switch(o=Vm(r,n),r){case"dialog":yt("cancel",e),yt("close",e),s=n;break;case"iframe":case"object":case"embed":yt("load",e),s=n;break;case"video":case"audio":for(s=0;s<Wl.length;s++)yt(Wl[s],e);s=n;break;case"source":yt("error",e),s=n;break;case"img":case"image":case"link":yt("error",e),yt("load",e),s=n;break;case"details":yt("toggle",e),s=n;break;case"input":Oy(e,n),s=Dm(e,n),yt("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=kt({},n,{value:void 0}),yt("invalid",e);break;case"textarea":My(e,n),s=Fm(e,n),yt("invalid",e);break;default:s=n}zm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?L0(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&M0(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&dc(e,c):typeof c=="number"&&dc(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(uc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&yt("scroll",e):c!=null&&Mg(e,i,c,o))}switch(r){case"input":xu(e),Iy(e,n,!1);break;case"textarea":xu(e),Dy(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ai(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?_o(e,!!n.multiple,i,!1):n.defaultValue!=null&&_o(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=kd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pr(t),null;case 6:if(e&&t.stateNode!=null)aj(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=oa(_c.current),oa(ss.current),Eu(t)){if(n=t.stateNode,r=t.memoizedProps,n[es]=t,(i=n.nodeValue!==r)&&(e=Qr,e!==null))switch(e.tag){case 3:Cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Cu(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[es]=t,t.stateNode=n}return pr(t),null;case 13:if(xt(jt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bt&&Gr!==null&&t.mode&1&&!(t.flags&128))S_(),Ko(),t.flags|=98560,i=!1;else if(i=Eu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(q(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[es]=t}else Ko(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pr(t),i=!1}else On!==null&&(_p(On),On=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||jt.current&1?Qt===0&&(Qt=3):vv())),t.updateQueue!==null&&(t.flags|=4),pr(t),null);case 4:return Qo(),mp(e,t),e===null&&yc(t.stateNode.containerInfo),pr(t),null;case 10:return ev(t.type._context),pr(t),null;case 17:return Ur(t.type)&&Nd(),pr(t),null;case 19:if(xt(jt),i=t.memoizedState,i===null)return pr(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Al(i,!1);else{if(Qt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Od(e),o!==null){for(t.flags|=128,Al(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pt(jt,jt.current&1|2),t.child}e=e.sibling}i.tail!==null&&Tt()>Jo&&(t.flags|=128,n=!0,Al(i,!1),t.lanes=4194304)}else{if(!n)if(e=Od(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Al(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!bt)return pr(t),null}else 2*Tt()-i.renderingStartTime>Jo&&r!==1073741824&&(t.flags|=128,n=!0,Al(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Tt(),t.sibling=null,r=jt.current,pt(jt,n?r&1|2:r&1),t):(pr(t),null);case 22:case 23:return gv(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Wr&1073741824&&(pr(t),t.subtreeFlags&6&&(t.flags|=8192)):pr(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function nR(e,t){switch(Yg(t),t.tag){case 1:return Ur(t.type)&&Nd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qo(),xt(Fr),xt(xr),iv(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return sv(t),null;case 13:if(xt(jt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Ko()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xt(jt),null;case 4:return Qo(),null;case 10:return ev(t.type._context),null;case 22:case 23:return gv(),null;case 24:return null;default:return null}}var Tu=!1,vr=!1,sR=typeof WeakSet=="function"?WeakSet:Set,de=null;function xo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Et(e,t,n)}else r.current=null}function pp(e,t,r){try{r()}catch(n){Et(e,t,n)}}var kx=!1;function iR(e,t){if(Zm=_d,e=d_(),Gg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===s&&(l=o),p===i&&++d===n&&(c=o),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xm={focusedElem:e,selectionRange:r},_d=!1,de=t;de!==null;)if(t=de,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,de=e;else for(;de!==null;){t=de;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,y=t.stateNode,x=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:Cn(t.type,g),b);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(_){Et(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,de=e;break}de=t.return}return v=kx,kx=!1,v}function nc(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pp(t,r,i)}s=s.next}while(s!==n)}}function Rh(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function gp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oj(e){var t=e.alternate;t!==null&&(e.alternate=null,oj(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[es],delete t[wc],delete t[rp],delete t[z2],delete t[V2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lj(e){return e.tag===5||e.tag===3||e.tag===4}function Nx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=kd));else if(n!==4&&(e=e.child,e!==null))for(vp(e,t,r),e=e.sibling;e!==null;)vp(e,t,r),e=e.sibling}function yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(yp(e,t,r),e=e.sibling;e!==null;)yp(e,t,r),e=e.sibling}var lr=null,Tn=!1;function Gs(e,t,r){for(r=r.child;r!==null;)cj(e,t,r),r=r.sibling}function cj(e,t,r){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(bh,r)}catch{}switch(r.tag){case 5:vr||xo(r,t);case 6:var n=lr,s=Tn;lr=null,Gs(e,t,r),lr=n,Tn=s,lr!==null&&(Tn?(e=lr,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):lr.removeChild(r.stateNode));break;case 18:lr!==null&&(Tn?(e=lr,r=r.stateNode,e.nodeType===8?Wf(e.parentNode,r):e.nodeType===1&&Wf(e,r),pc(e)):Wf(lr,r.stateNode));break;case 4:n=lr,s=Tn,lr=r.stateNode.containerInfo,Tn=!0,Gs(e,t,r),lr=n,Tn=s;break;case 0:case 11:case 14:case 15:if(!vr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pp(r,t,o),s=s.next}while(s!==n)}Gs(e,t,r);break;case 1:if(!vr&&(xo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Et(r,t,l)}Gs(e,t,r);break;case 21:Gs(e,t,r);break;case 22:r.mode&1?(vr=(n=vr)||r.memoizedState!==null,Gs(e,t,r),vr=n):Gs(e,t,r);break;default:Gs(e,t,r)}}function Cx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new sR),t.forEach(function(n){var s=mR.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _n(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:lr=l.stateNode,Tn=!1;break e;case 3:lr=l.stateNode.containerInfo,Tn=!0;break e;case 4:lr=l.stateNode.containerInfo,Tn=!0;break e}l=l.return}if(lr===null)throw Error(q(160));cj(i,o,s),lr=null,Tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Et(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uj(t,e),t=t.sibling}function uj(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_n(t,e),Gn(e),n&4){try{nc(3,e,e.return),Rh(3,e)}catch(g){Et(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Et(e,e.return,g)}}break;case 1:_n(t,e),Gn(e),n&512&&r!==null&&xo(r,r.return);break;case 5:if(_n(t,e),Gn(e),n&512&&r!==null&&xo(r,r.return),e.flags&32){var s=e.stateNode;try{dc(s,"")}catch(g){Et(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&A0(s,i),Vm(l,o);var u=Vm(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?L0(s,h):d==="dangerouslySetInnerHTML"?M0(s,h):d==="children"?dc(s,h):Mg(s,d,h,u)}switch(l){case"input":Lm(s,i);break;case"textarea":O0(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?_o(s,!!i.multiple,f,!1):p!==!!i.multiple&&(i.defaultValue!=null?_o(s,!!i.multiple,i.defaultValue,!0):_o(s,!!i.multiple,i.multiple?[]:"",!1))}s[wc]=i}catch(g){Et(e,e.return,g)}}break;case 6:if(_n(t,e),Gn(e),n&4){if(e.stateNode===null)throw Error(q(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(g){Et(e,e.return,g)}}break;case 3:if(_n(t,e),Gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{pc(t.containerInfo)}catch(g){Et(e,e.return,g)}break;case 4:_n(t,e),Gn(e);break;case 13:_n(t,e),Gn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mv=Tt())),n&4&&Cx(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(vr=(u=vr)||d,_n(t,e),vr=u):_n(t,e),Gn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(de=e,d=e.child;d!==null;){for(h=de=d;de!==null;){switch(p=de,f=p.child,p.tag){case 0:case 11:case 14:case 15:nc(4,p,p.return);break;case 1:xo(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Et(n,r,g)}}break;case 5:xo(p,p.return);break;case 22:if(p.memoizedState!==null){Rx(h);continue}}f!==null?(f.return=p,de=f):Rx(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=D0("display",o))}catch(g){Et(e,e.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Et(e,e.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_n(t,e),Gn(e),n&4&&Cx(e);break;case 21:break;default:_n(t,e),Gn(e)}}function Gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(lj(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(dc(s,""),n.flags&=-33);var i=Nx(e);yp(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Nx(e);vp(e,l,o);break;default:throw Error(q(161))}}catch(c){Et(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function aR(e,t,r){de=e,dj(e)}function dj(e,t,r){for(var n=(e.mode&1)!==0;de!==null;){var s=de,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Tu;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||vr;l=Tu;var u=vr;if(Tu=o,(vr=c)&&!u)for(de=s;de!==null;)o=de,c=o.child,o.tag===22&&o.memoizedState!==null?Px(s):c!==null?(c.return=o,de=c):Px(s);for(;i!==null;)de=i,dj(i),i=i.sibling;de=s,Tu=l,vr=u}Ex(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,de=i):Ex(e)}}function Ex(e){for(;de!==null;){var t=de;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:vr||Rh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!vr)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Cn(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&hx(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}hx(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&pc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}vr||t.flags&512&&gp(t)}catch(p){Et(t,t.return,p)}}if(t===e){de=null;break}if(r=t.sibling,r!==null){r.return=t.return,de=r;break}de=t.return}}function Rx(e){for(;de!==null;){var t=de;if(t===e){de=null;break}var r=t.sibling;if(r!==null){r.return=t.return,de=r;break}de=t.return}}function Px(e){for(;de!==null;){var t=de;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rh(4,t)}catch(c){Et(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Et(t,s,c)}}var i=t.return;try{gp(t)}catch(c){Et(t,i,c)}break;case 5:var o=t.return;try{gp(t)}catch(c){Et(t,o,c)}}}catch(c){Et(t,t.return,c)}if(t===e){de=null;break}var l=t.sibling;if(l!==null){l.return=t.return,de=l;break}de=t.return}}var oR=Math.ceil,Dd=$s.ReactCurrentDispatcher,hv=$s.ReactCurrentOwner,un=$s.ReactCurrentBatchConfig,Ke=0,nr=null,Lt=null,dr=0,Wr=0,wo=Vi(0),Qt=0,Nc=null,ka=0,Ph=0,fv=0,sc=null,Mr=null,mv=0,Jo=1/0,xs=null,Ld=!1,xp=null,ki=null,Au=!1,yi=null,$d=0,ic=0,wp=null,ld=-1,cd=0;function Sr(){return Ke&6?Tt():ld!==-1?ld:ld=Tt()}function Ni(e){return e.mode&1?Ke&2&&dr!==0?dr&-dr:W2.transition!==null?(cd===0&&(cd=Q0()),cd):(e=lt,e!==0||(e=window.event,e=e===void 0?16:r_(e.type)),e):1}function Ln(e,t,r,n){if(50<ic)throw ic=0,wp=null,Error(q(185));Yc(e,r,n),(!(Ke&2)||e!==nr)&&(e===nr&&(!(Ke&2)&&(Ph|=r),Qt===4&&ii(e,dr)),zr(e,n),r===1&&Ke===0&&!(t.mode&1)&&(Jo=Tt()+500,Nh&&Bi()))}function zr(e,t){var r=e.callbackNode;WE(e,t);var n=bd(e,e===nr?dr:0);if(n===0)r!==null&&Fy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Fy(r),t===1)e.tag===0?B2(Tx.bind(null,e)):b_(Tx.bind(null,e)),F2(function(){!(Ke&6)&&Bi()}),r=null;else{switch(Y0(n)){case 1:r=Ug;break;case 4:r=K0;break;case 16:r=wd;break;case 536870912:r=G0;break;default:r=wd}r=xj(r,hj.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function hj(e,t){if(ld=-1,cd=0,Ke&6)throw Error(q(327));var r=e.callbackNode;if(Co()&&e.callbackNode!==r)return null;var n=bd(e,e===nr?dr:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Fd(e,n);else{t=n;var s=Ke;Ke|=2;var i=mj();(nr!==e||dr!==t)&&(xs=null,Jo=Tt()+500,wa(e,t));do try{uR();break}catch(l){fj(e,l)}while(!0);Xg(),Dd.current=i,Ke=s,Lt!==null?t=0:(nr=null,dr=0,t=Qt)}if(t!==0){if(t===2&&(s=Km(e),s!==0&&(n=s,t=bp(e,s))),t===1)throw r=Nc,wa(e,0),ii(e,n),zr(e,Tt()),r;if(t===6)ii(e,n);else{if(s=e.current.alternate,!(n&30)&&!lR(s)&&(t=Fd(e,n),t===2&&(i=Km(e),i!==0&&(n=i,t=bp(e,i))),t===1))throw r=Nc,wa(e,0),ii(e,n),zr(e,Tt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:ea(e,Mr,xs);break;case 3:if(ii(e,n),(n&130023424)===n&&(t=mv+500-Tt(),10<t)){if(bd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Sr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=tp(ea.bind(null,e,Mr,xs),t);break}ea(e,Mr,xs);break;case 4:if(ii(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Dn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=Tt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oR(n/1960))-n,10<n){e.timeoutHandle=tp(ea.bind(null,e,Mr,xs),n);break}ea(e,Mr,xs);break;case 5:ea(e,Mr,xs);break;default:throw Error(q(329))}}}return zr(e,Tt()),e.callbackNode===r?hj.bind(null,e):null}function bp(e,t){var r=sc;return e.current.memoizedState.isDehydrated&&(wa(e,t).flags|=256),e=Fd(e,t),e!==2&&(t=Mr,Mr=r,t!==null&&_p(t)),e}function _p(e){Mr===null?Mr=e:Mr.push.apply(Mr,e)}function lR(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!$n(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ii(e,t){for(t&=~fv,t&=~Ph,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Dn(t),n=1<<r;e[r]=-1,t&=~n}}function Tx(e){if(Ke&6)throw Error(q(327));Co();var t=bd(e,0);if(!(t&1))return zr(e,Tt()),null;var r=Fd(e,t);if(e.tag!==0&&r===2){var n=Km(e);n!==0&&(t=n,r=bp(e,n))}if(r===1)throw r=Nc,wa(e,0),ii(e,t),zr(e,Tt()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ea(e,Mr,xs),zr(e,Tt()),null}function pv(e,t){var r=Ke;Ke|=1;try{return e(t)}finally{Ke=r,Ke===0&&(Jo=Tt()+500,Nh&&Bi())}}function Na(e){yi!==null&&yi.tag===0&&!(Ke&6)&&Co();var t=Ke;Ke|=1;var r=un.transition,n=lt;try{if(un.transition=null,lt=1,e)return e()}finally{lt=n,un.transition=r,Ke=t,!(Ke&6)&&Bi()}}function gv(){Wr=wo.current,xt(wo)}function wa(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,$2(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(Yg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Nd();break;case 3:Qo(),xt(Fr),xt(xr),iv();break;case 5:sv(n);break;case 4:Qo();break;case 13:xt(jt);break;case 19:xt(jt);break;case 10:ev(n.type._context);break;case 22:case 23:gv()}r=r.return}if(nr=e,Lt=e=Ci(e.current,null),dr=Wr=t,Qt=0,Nc=null,fv=Ph=ka=0,Mr=sc=null,aa!==null){for(t=0;t<aa.length;t++)if(r=aa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}aa=null}return e}function fj(e,t){do{var r=Lt;try{if(Xg(),id.current=Md,Id){for(var n=St.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Id=!1}if(Sa=0,Xt=Ht=St=null,rc=!1,jc=0,hv.current=null,r===null||r.return===null){Qt=1,Nc=t,Lt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=dr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=yx(o);if(f!==null){f.flags&=-257,xx(f,o,l,i,t),f.mode&1&&vx(i,u,t),t=f,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){vx(i,u,t),vv();break e}c=Error(q(426))}}else if(bt&&l.mode&1){var b=yx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),xx(b,o,l,i,t),Jg(Yo(c,l));break e}}i=c=Yo(c,l),Qt!==4&&(Qt=2),sc===null?sc=[i]:sc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=Y_(i,c,t);dx(i,y);break e;case 1:l=c;var x=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ki===null||!ki.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=J_(i,l,t);dx(i,_);break e}}i=i.return}while(i!==null)}gj(r)}catch(S){t=S,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(!0)}function mj(){var e=Dd.current;return Dd.current=Md,e===null?Md:e}function vv(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),nr===null||!(ka&268435455)&&!(Ph&268435455)||ii(nr,dr)}function Fd(e,t){var r=Ke;Ke|=2;var n=mj();(nr!==e||dr!==t)&&(xs=null,wa(e,t));do try{cR();break}catch(s){fj(e,s)}while(!0);if(Xg(),Ke=r,Dd.current=n,Lt!==null)throw Error(q(261));return nr=null,dr=0,Qt}function cR(){for(;Lt!==null;)pj(Lt)}function uR(){for(;Lt!==null&&!ME();)pj(Lt)}function pj(e){var t=yj(e.alternate,e,Wr);e.memoizedProps=e.pendingProps,t===null?gj(e):Lt=t,hv.current=null}function gj(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=nR(r,t),r!==null){r.flags&=32767,Lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,Lt=null;return}}else if(r=rR(r,t,Wr),r!==null){Lt=r;return}if(t=t.sibling,t!==null){Lt=t;return}Lt=t=e}while(t!==null);Qt===0&&(Qt=5)}function ea(e,t,r){var n=lt,s=un.transition;try{un.transition=null,lt=1,dR(e,t,r,n)}finally{un.transition=s,lt=n}return null}function dR(e,t,r,n){do Co();while(yi!==null);if(Ke&6)throw Error(q(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(qE(e,i),e===nr&&(Lt=nr=null,dr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Au||(Au=!0,xj(wd,function(){return Co(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=un.transition,un.transition=null;var o=lt;lt=1;var l=Ke;Ke|=4,hv.current=null,iR(e,r),uj(r,e),T2(Xm),_d=!!Zm,Xm=Zm=null,e.current=r,aR(r),DE(),Ke=l,lt=o,un.transition=i}else e.current=r;if(Au&&(Au=!1,yi=e,$d=s),i=e.pendingLanes,i===0&&(ki=null),FE(r.stateNode),zr(e,Tt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ld)throw Ld=!1,e=xp,xp=null,e;return $d&1&&e.tag!==0&&Co(),i=e.pendingLanes,i&1?e===wp?ic++:(ic=0,wp=e):ic=0,Bi(),null}function Co(){if(yi!==null){var e=Y0($d),t=un.transition,r=lt;try{if(un.transition=null,lt=16>e?16:e,yi===null)var n=!1;else{if(e=yi,yi=null,$d=0,Ke&6)throw Error(q(331));var s=Ke;for(Ke|=4,de=e.current;de!==null;){var i=de,o=i.child;if(de.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(de=u;de!==null;){var d=de;switch(d.tag){case 0:case 11:case 15:nc(8,d,i)}var h=d.child;if(h!==null)h.return=d,de=h;else for(;de!==null;){d=de;var p=d.sibling,f=d.return;if(oj(d),d===u){de=null;break}if(p!==null){p.return=f,de=p;break}de=f}}}var v=i.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}de=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,de=o;else e:for(;de!==null;){if(i=de,i.flags&2048)switch(i.tag){case 0:case 11:case 15:nc(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,de=y;break e}de=i.return}}var x=e.current;for(de=x;de!==null;){o=de;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,de=w;else e:for(o=x;de!==null;){if(l=de,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rh(9,l)}}catch(S){Et(l,l.return,S)}if(l===o){de=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,de=_;break e}de=l.return}}if(Ke=s,Bi(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(bh,e)}catch{}n=!0}return n}finally{lt=r,un.transition=t}}return!1}function Ax(e,t,r){t=Yo(r,t),t=Y_(e,t,1),e=Si(e,t,1),t=Sr(),e!==null&&(Yc(e,1,t),zr(e,t))}function Et(e,t,r){if(e.tag===3)Ax(e,e,r);else for(;t!==null;){if(t.tag===3){Ax(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ki===null||!ki.has(n))){e=Yo(r,e),e=J_(t,e,1),t=Si(t,e,1),e=Sr(),t!==null&&(Yc(t,1,e),zr(t,e));break}}t=t.return}}function hR(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Sr(),e.pingedLanes|=e.suspendedLanes&r,nr===e&&(dr&r)===r&&(Qt===4||Qt===3&&(dr&130023424)===dr&&500>Tt()-mv?wa(e,0):fv|=r),zr(e,t)}function vj(e,t){t===0&&(e.mode&1?(t=_u,_u<<=1,!(_u&130023424)&&(_u=4194304)):t=1);var r=Sr();e=Os(e,t),e!==null&&(Yc(e,t,r),zr(e,r))}function fR(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vj(e,r)}function mR(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),vj(e,r)}var yj;yj=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fr.current)Dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Dr=!1,tR(e,t,r);Dr=!!(e.flags&131072)}else Dr=!1,bt&&t.flags&1048576&&__(t,Rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;od(e,t),e=t.pendingProps;var s=Ho(t,xr.current);No(t,r),s=ov(null,t,n,e,s,r);var i=lv();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ur(n)?(i=!0,Cd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,rv(t),s.updater=Eh,t.stateNode=s,s._reactInternals=t,lp(t,n,e,r),t=dp(null,t,n,!0,i,r)):(t.tag=0,bt&&i&&Qg(t),_r(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(od(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=gR(n),e=Cn(n,e),s){case 0:t=up(null,t,n,e,r);break e;case 1:t=_x(null,t,n,e,r);break e;case 11:t=wx(null,t,n,e,r);break e;case 14:t=bx(null,t,n,Cn(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Cn(n,s),up(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Cn(n,s),_x(e,t,n,s,r);case 3:e:{if(tj(t),e===null)throw Error(q(387));n=t.pendingProps,i=t.memoizedState,s=i.element,E_(e,t),Ad(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Yo(Error(q(423)),t),t=jx(e,t,n,r,s);break e}else if(n!==s){s=Yo(Error(q(424)),t),t=jx(e,t,n,r,s);break e}else for(Gr=ji(t.stateNode.containerInfo.firstChild),Qr=t,bt=!0,On=null,r=N_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ko(),n===s){t=Is(e,t,r);break e}_r(e,t,n,r)}t=t.child}return t;case 5:return R_(t),e===null&&ip(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,ep(n,s)?o=null:i!==null&&ep(n,i)&&(t.flags|=32),ej(e,t),_r(e,t,o,r),t.child;case 6:return e===null&&ip(t),null;case 13:return rj(e,t,r);case 4:return nv(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Go(t,null,n,r):_r(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Cn(n,s),wx(e,t,n,s,r);case 7:return _r(e,t,t.pendingProps,r),t.child;case 8:return _r(e,t,t.pendingProps.children,r),t.child;case 12:return _r(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,pt(Pd,n._currentValue),n._currentValue=o,i!==null)if($n(i.value,o)){if(i.children===s.children&&!Fr.current){t=Is(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Rs(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ap(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ap(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_r(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,No(t,r),s=hn(s),n=n(s),t.flags|=1,_r(e,t,n,r),t.child;case 14:return n=t.type,s=Cn(n,t.pendingProps),s=Cn(n.type,s),bx(e,t,n,s,r);case 15:return Z_(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Cn(n,s),od(e,t),t.tag=1,Ur(n)?(e=!0,Cd(t)):e=!1,No(t,r),Q_(t,n,s),lp(t,n,s,r),dp(null,t,n,!0,e,r);case 19:return nj(e,t,r);case 22:return X_(e,t,r)}throw Error(q(156,t.tag))};function xj(e,t){return H0(e,t)}function pR(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,t,r,n){return new pR(e,t,r,n)}function yv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gR(e){if(typeof e=="function")return yv(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Lg)return 11;if(e===$g)return 14}return 2}function Ci(e,t){var r=e.alternate;return r===null?(r=ln(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ud(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")yv(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case co:return ba(r.children,s,i,t);case Dg:o=8,s|=8;break;case Am:return e=ln(12,r,t,s|2),e.elementType=Am,e.lanes=i,e;case Om:return e=ln(13,r,t,s),e.elementType=Om,e.lanes=i,e;case Im:return e=ln(19,r,t,s),e.elementType=Im,e.lanes=i,e;case R0:return Th(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C0:o=10;break e;case E0:o=9;break e;case Lg:o=11;break e;case $g:o=14;break e;case ei:o=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=ln(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function ba(e,t,r,n){return e=ln(7,e,n,t),e.lanes=r,e}function Th(e,t,r,n){return e=ln(22,e,n,t),e.elementType=R0,e.lanes=r,e.stateNode={isHidden:!1},e}function Zf(e,t,r){return e=ln(6,e,null,t),e.lanes=r,e}function Xf(e,t,r){return t=ln(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vR(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Of(0),this.expirationTimes=Of(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Of(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xv(e,t,r,n,s,i,o,l,c){return e=new vR(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ln(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},rv(i),e}function yR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function wj(e){if(!e)return Oi;e=e._reactInternals;e:{if(Ua(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ur(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(Ur(r))return w_(e,r,t)}return t}function bj(e,t,r,n,s,i,o,l,c){return e=xv(r,n,!0,e,s,i,o,l,c),e.context=wj(null),r=e.current,n=Sr(),s=Ni(r),i=Rs(n,s),i.callback=t??null,Si(r,i,s),e.current.lanes=s,Yc(e,s,n),zr(e,n),e}function Ah(e,t,r,n){var s=t.current,i=Sr(),o=Ni(s);return r=wj(r),t.context===null?t.context=r:t.pendingContext=r,t=Rs(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Si(s,t,o),e!==null&&(Ln(e,s,o,i),sd(e,s,o)),o}function Ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ox(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function wv(e,t){Ox(e,t),(e=e.alternate)&&Ox(e,t)}function xR(){return null}var _j=typeof reportError=="function"?reportError:function(e){console.error(e)};function bv(e){this._internalRoot=e}Oh.prototype.render=bv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Ah(e,t,null,null)};Oh.prototype.unmount=bv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Na(function(){Ah(null,e,null,null)}),t[As]=null}};function Oh(e){this._internalRoot=e}Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=X0();e={blockedOn:null,target:e,priority:t};for(var r=0;r<si.length&&t!==0&&t<si[r].priority;r++);si.splice(r,0,e),r===0&&t_(e)}};function _v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ix(){}function wR(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Ud(o);i.call(u)}}var o=bj(t,n,e,0,null,!1,!1,"",Ix);return e._reactRootContainer=o,e[As]=o.current,yc(e.nodeType===8?e.parentNode:e),Na(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Ud(c);l.call(u)}}var c=xv(e,0,!1,null,null,!1,!1,"",Ix);return e._reactRootContainer=c,e[As]=c.current,yc(e.nodeType===8?e.parentNode:e),Na(function(){Ah(t,c,r,n)}),c}function Mh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Ud(o);l.call(c)}}Ah(t,o,e,s)}else o=wR(r,t,e,s,n);return Ud(o)}J0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Bl(t.pendingLanes);r!==0&&(zg(t,r|1),zr(t,Tt()),!(Ke&6)&&(Jo=Tt()+500,Bi()))}break;case 13:Na(function(){var n=Os(e,1);if(n!==null){var s=Sr();Ln(n,e,1,s)}}),wv(e,1)}};Vg=function(e){if(e.tag===13){var t=Os(e,134217728);if(t!==null){var r=Sr();Ln(t,e,134217728,r)}wv(e,134217728)}};Z0=function(e){if(e.tag===13){var t=Ni(e),r=Os(e,t);if(r!==null){var n=Sr();Ln(r,e,t,n)}wv(e,t)}};X0=function(){return lt};e_=function(e,t){var r=lt;try{return lt=e,t()}finally{lt=r}};Wm=function(e,t,r){switch(t){case"input":if(Lm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=kh(n);if(!s)throw Error(q(90));T0(n),Lm(n,s)}}}break;case"textarea":O0(e,r);break;case"select":t=r.value,t!=null&&_o(e,!!r.multiple,t,!1)}};U0=pv;z0=Na;var bR={usingClientEntryPoint:!1,Events:[Zc,mo,kh,$0,F0,pv]},Ol={findFiberByHostInstance:ia,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_R={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=W0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||xR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{bh=Ou.inject(_R),ns=Ou}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bR;en.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_v(t))throw Error(q(200));return yR(e,t,null,r)};en.createRoot=function(e,t){if(!_v(e))throw Error(q(299));var r=!1,n="",s=_j;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=xv(e,1,!1,null,null,r,!1,n,s),e[As]=t.current,yc(e.nodeType===8?e.parentNode:e),new bv(t)};en.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=W0(t),e=e===null?null:e.stateNode,e};en.flushSync=function(e){return Na(e)};en.hydrate=function(e,t,r){if(!Ih(t))throw Error(q(200));return Mh(null,e,t,!0,r)};en.hydrateRoot=function(e,t,r){if(!_v(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=_j;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=bj(t,null,e,1,r??null,s,!1,i,o),e[As]=t.current,yc(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Oh(t)};en.render=function(e,t,r){if(!Ih(t))throw Error(q(200));return Mh(null,e,t,!1,r)};en.unmountComponentAtNode=function(e){if(!Ih(e))throw Error(q(40));return e._reactRootContainer?(Na(function(){Mh(null,null,e,!1,function(){e._reactRootContainer=null,e[As]=null})}),!0):!1};en.unstable_batchedUpdates=pv;en.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ih(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Mh(e,t,r,!1,n)};en.version="18.3.1-next-f1338f8080-20240426";function jj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jj)}catch(e){console.error(e)}}jj(),j0.exports=en;var hl=j0.exports;const Sj=d0(hl);var Mx=hl;Pm.createRoot=Mx.createRoot,Pm.hydrateRoot=Mx.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cc(){return Cc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cc.apply(this,arguments)}var xi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(xi||(xi={}));const Dx="popstate";function jR(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return jp("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:zd(s)}return kR(t,r,null,e)}function Rt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function SR(){return Math.random().toString(36).substr(2,8)}function Lx(e,t){return{usr:e.state,key:e.key,idx:t}}function jp(e,t,r,n){return r===void 0&&(r=null),Cc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?fl(t):t,{state:r,key:t&&t.key||n||SR()})}function zd(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function fl(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function kR(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=xi.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Cc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=xi.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:g.location,delta:y})}function p(b,y){l=xi.Push;let x=jp(g.location,b,y);u=d()+1;let w=Lx(x,u),_=g.createHref(x);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}i&&c&&c({action:l,location:g.location,delta:1})}function f(b,y){l=xi.Replace;let x=jp(g.location,b,y);u=d();let w=Lx(x,u),_=g.createHref(x);o.replaceState(w,"",_),i&&c&&c({action:l,location:g.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof b=="string"?b:zd(b);return x=x.replace(/ $/,"%20"),Rt(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let g={get action(){return l},get location(){return e(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Dx,h),c=b,()=>{s.removeEventListener(Dx,h),c=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:f,go(b){return o.go(b)}};return g}var $x;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($x||($x={}));function NR(e,t,r){return r===void 0&&(r="/"),CR(e,t,r)}function CR(e,t,r,n){let s=typeof t=="string"?fl(t):t,i=Zo(s.pathname||"/",r);if(i==null)return null;let o=kj(e);ER(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=FR(i);l=LR(o[c],u)}return l}function kj(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Rt(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ei([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Rt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),kj(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:MR(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Nj(i.path))s(i,o,c)}),t}function Nj(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Nj(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function ER(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:DR(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const RR=/^:[\w-]+$/,PR=3,TR=2,AR=1,OR=10,IR=-2,Fx=e=>e==="*";function MR(e,t){let r=e.split("/"),n=r.length;return r.some(Fx)&&(n+=IR),t&&(n+=TR),r.filter(s=>!Fx(s)).reduce((s,i)=>s+(RR.test(i)?PR:i===""?AR:OR),n)}function DR(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function LR(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Sp({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ei([i,h.pathname]),pathnameBase:WR(Ei([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=Ei([i,h.pathnameBase]))}return o}function Sp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=$R(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let g=l[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[h];return f&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function $R(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function FR(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Zo(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const UR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zR=e=>UR.test(e);function VR(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?fl(e):e,i;if(r)if(zR(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),jv(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Ux(r.substring(1),"/"):i=Ux(r,t)}else i=t;return{pathname:i,search:qR(n),hash:HR(s)}}function Ux(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function em(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function BR(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Cj(e,t){let r=BR(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ej(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=fl(e):(s=Cc({},e),Rt(!s.pathname||!s.pathname.includes("?"),em("?","pathname","search",s)),Rt(!s.pathname||!s.pathname.includes("#"),em("#","pathname","hash",s)),Rt(!s.search||!s.search.includes("#"),em("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),h-=1;s.pathname=p.join("/")}l=h>=0?t[h]:"/"}let c=VR(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ei=e=>e.join("/").replace(/\/\/+/g,"/"),WR=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qR=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,HR=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function KR(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rj=["post","put","patch","delete"];new Set(Rj);const GR=["get",...Rj];new Set(GR);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ec(){return Ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ec.apply(this,arguments)}const Dh=m.createContext(null),Pj=m.createContext(null),Wi=m.createContext(null),Lh=m.createContext(null),Fs=m.createContext({outlet:null,matches:[],isDataRoute:!1}),Tj=m.createContext(null);function QR(e,t){let{relative:r}=t===void 0?{}:t;eu()||Rt(!1);let{basename:n,navigator:s}=m.useContext(Wi),{hash:i,pathname:o,search:l}=Fh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ei([n,o])),s.createHref({pathname:c,search:l,hash:i})}function eu(){return m.useContext(Lh)!=null}function tu(){return eu()||Rt(!1),m.useContext(Lh).location}function Aj(e){m.useContext(Wi).static||m.useLayoutEffect(e)}function $h(){let{isDataRoute:e}=m.useContext(Fs);return e?dP():YR()}function YR(){eu()||Rt(!1);let e=m.useContext(Dh),{basename:t,future:r,navigator:n}=m.useContext(Wi),{matches:s}=m.useContext(Fs),{pathname:i}=tu(),o=JSON.stringify(Cj(s,r.v7_relativeSplatPath)),l=m.useRef(!1);return Aj(()=>{l.current=!0}),m.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Ej(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Ei([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,i,e])}const JR=m.createContext(null);function ZR(e){let t=m.useContext(Fs).outlet;return t&&m.createElement(JR.Provider,{value:e},t)}function XR(){let{matches:e}=m.useContext(Fs),t=e[e.length-1];return t?t.params:{}}function Fh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=m.useContext(Wi),{matches:s}=m.useContext(Fs),{pathname:i}=tu(),o=JSON.stringify(Cj(s,n.v7_relativeSplatPath));return m.useMemo(()=>Ej(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function eP(e,t){return tP(e,t)}function tP(e,t,r,n){eu()||Rt(!1);let{navigator:s}=m.useContext(Wi),{matches:i}=m.useContext(Fs),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=tu(),d;if(t){var h;let b=typeof t=="string"?fl(t):t;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||Rt(!1),d=b}else d=u;let p=d.pathname||"/",f=p;if(c!=="/"){let b=c.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=NR(e,{pathname:f}),g=aP(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Ei([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Ei([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&g?m.createElement(Lh.Provider,{value:{location:Ec({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:xi.Pop}},g):g}function rP(){let e=uP(),t=KR(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),r?m.createElement("pre",{style:s},r):null,null)}const nP=m.createElement(rP,null);class sP extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?m.createElement(Fs.Provider,{value:this.props.routeContext},m.createElement(Tj.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iP(e){let{routeContext:t,match:r,children:n}=e,s=m.useContext(Dh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Fs.Provider,{value:t},n)}function aP(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Rt(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=r,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,p)=>{let f,v=!1,g=null,b=null;r&&(f=l&&h.route.id?l[h.route.id]:void 0,g=h.route.errorElement||nP,c&&(u<0&&p===0?(hP("route-fallback"),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,p+1)),x=()=>{let w;return f?w=g:v?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(iP,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(sP,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Oj=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Oj||{}),Ij=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ij||{});function oP(e){let t=m.useContext(Dh);return t||Rt(!1),t}function lP(e){let t=m.useContext(Pj);return t||Rt(!1),t}function cP(e){let t=m.useContext(Fs);return t||Rt(!1),t}function Mj(e){let t=cP(),r=t.matches[t.matches.length-1];return r.route.id||Rt(!1),r.route.id}function uP(){var e;let t=m.useContext(Tj),r=lP(),n=Mj();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function dP(){let{router:e}=oP(Oj.UseNavigateStable),t=Mj(Ij.UseNavigateStable),r=m.useRef(!1);return Aj(()=>{r.current=!0}),m.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ec({fromRouteId:t},i)))},[e,t])}const zx={};function hP(e,t,r){zx[e]||(zx[e]=!0)}function fP(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mP(e){return ZR(e.context)}function at(e){Rt(!1)}function pP(e){let{basename:t="/",children:r=null,location:n,navigationType:s=xi.Pop,navigator:i,static:o=!1,future:l}=e;eu()&&Rt(!1);let c=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:c,navigator:i,static:o,future:Ec({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=fl(n));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=n,g=m.useMemo(()=>{let b=Zo(d,c);return b==null?null:{location:{pathname:b,search:h,hash:p,state:f,key:v},navigationType:s}},[c,d,h,p,f,v,s]);return g==null?null:m.createElement(Wi.Provider,{value:u},m.createElement(Lh.Provider,{children:r,value:g}))}function gP(e){let{children:t,location:r}=e;return eP(kp(t),r)}new Promise(()=>{});function kp(e,t){t===void 0&&(t=[]);let r=[];return m.Children.forEach(e,(n,s)=>{if(!m.isValidElement(n))return;let i=[...t,s];if(n.type===m.Fragment){r.push.apply(r,kp(n.props.children,i));return}n.type!==at&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=kp(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vd(){return Vd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vd.apply(this,arguments)}function Dj(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function vP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yP(e,t){return e.button===0&&(!t||t==="_self")&&!vP(e)}const xP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],wP=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bP="6";try{window.__reactRouterVersion=bP}catch{}const _P=m.createContext({isTransitioning:!1}),jP="startTransition",Vx=wh[jP];function SP(e){let{basename:t,children:r,future:n,window:s}=e,i=m.useRef();i.current==null&&(i.current=jR({window:s,v5Compat:!0}));let o=i.current,[l,c]=m.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=m.useCallback(h=>{u&&Vx?Vx(()=>c(h)):c(h)},[c,u]);return m.useLayoutEffect(()=>o.listen(d),[o,d]),m.useEffect(()=>fP(n),[n]),m.createElement(pP,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const kP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,we=m.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,p=Dj(t,xP),{basename:f}=m.useContext(Wi),v,g=!1;if(typeof u=="string"&&NP.test(u)&&(v=u,kP))try{let w=new URL(window.location.href),_=u.startsWith("//")?new URL(w.protocol+u):new URL(u),S=Zo(_.pathname,f);_.origin===w.origin&&S!=null?u=S+_.search+_.hash:g=!0}catch{}let b=QR(u,{relative:s}),y=RP(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function x(w){n&&n(w),w.defaultPrevented||y(w)}return m.createElement("a",Vd({},p,{href:v||b,onClick:g||i?n:x,ref:r,target:c}))}),CP=m.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,h=Dj(t,wP),p=Fh(c,{relative:h.relative}),f=tu(),v=m.useContext(Pj),{navigator:g,basename:b}=m.useContext(Wi),y=v!=null&&PP(p)&&u===!0,x=g.encodeLocation?g.encodeLocation(p).pathname:p.pathname,w=f.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(w=w.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&b&&(_=Zo(_,b)||_);const S=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let j=w===x||!o&&w.startsWith(x)&&w.charAt(S)==="/",k=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),P={isActive:j,isPending:k,isTransitioning:y},A=j?n:void 0,M;typeof i=="function"?M=i(P):M=[i,j?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(P):l;return m.createElement(we,Vd({},h,{"aria-current":A,className:M,ref:r,style:W,to:c,viewTransition:u}),typeof d=="function"?d(P):d)});var Np;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Np||(Np={}));var Bx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Bx||(Bx={}));function EP(e){let t=m.useContext(Dh);return t||Rt(!1),t}function RP(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=$h(),u=tu(),d=Fh(e,{relative:o});return m.useCallback(h=>{if(yP(h,r)){h.preventDefault();let p=n!==void 0?n:zd(u)===zd(d);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,i,o,l])}function PP(e,t){t===void 0&&(t={});let r=m.useContext(_P);r==null&&Rt(!1);let{basename:n}=EP(Np.useViewTransitionState),s=Fh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Zo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Sp(s.pathname,o)!=null||Sp(s.pathname,i)!=null}var ml=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},TP={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},li,Eg,e0,AP=(e0=class{constructor(){ye(this,li,TP);ye(this,Eg,!1)}setTimeoutProvider(e){ie(this,li,e)}setTimeout(e,t){return C(this,li).setTimeout(e,t)}clearTimeout(e){C(this,li).clearTimeout(e)}setInterval(e,t){return C(this,li).setInterval(e,t)}clearInterval(e){C(this,li).clearInterval(e)}},li=new WeakMap,Eg=new WeakMap,e0),la=new AP;function OP(e){setTimeout(e,0)}var Ca=typeof window>"u"||"Deno"in globalThis;function jr(){}function IP(e,t){return typeof e=="function"?e(t):e}function Cp(e){return typeof e=="number"&&e>=0&&e!==1/0}function Lj(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ri(e,t){return typeof e=="function"?e(t):e}function sn(e,t){return typeof e=="function"?e(t):e}function Wx(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:i,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==Sv(o,t.options))return!1}else if(!Rc(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||s&&s!==t.state.fetchStatus||i&&!i(t))}function qx(e,t){const{exact:r,status:n,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(r){if(Ea(t.options.mutationKey)!==Ea(i))return!1}else if(!Rc(t.options.mutationKey,i))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function Sv(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ea)(e)}function Ea(e){return JSON.stringify(e,(t,r)=>Ep(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Rc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Rc(e[r],t[r])):!1}var MP=Object.prototype.hasOwnProperty;function $j(e,t,r=0){if(e===t)return e;if(r>500)return t;const n=Hx(e)&&Hx(t);if(!n&&!(Ep(e)&&Ep(t)))return t;const i=(n?e:Object.keys(e)).length,o=n?t:Object.keys(t),l=o.length,c=n?new Array(l):{};let u=0;for(let d=0;d<l;d++){const h=n?d:o[d],p=e[h],f=t[h];if(p===f){c[h]=p,(n?d<i:MP.call(e,h))&&u++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){c[h]=f;continue}const v=$j(p,f,r+1);c[h]=v,v===p&&u++}return i===l&&u===i?e:c}function Bd(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Hx(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ep(e){if(!Kx(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Kx(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Kx(e){return Object.prototype.toString.call(e)==="[object Object]"}function DP(e){return new Promise(t=>{la.setTimeout(t,e)})}function Rp(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?$j(e,t):t}function LP(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function $P(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var kv=Symbol();function Fj(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===kv?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Nv(e,t){return typeof e=="function"?e(...t):!!e}function FP(e,t,r){let n=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),n||(n=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var da,ci,Oo,t0,UP=(t0=class extends ml{constructor(){super();ye(this,da);ye(this,ci);ye(this,Oo);ie(this,Oo,t=>{if(!Ca&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,ci)||this.setEventListener(C(this,Oo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ci))==null||t.call(this),ie(this,ci,void 0))}setEventListener(t){var r;ie(this,Oo,t),(r=C(this,ci))==null||r.call(this),ie(this,ci,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,da)!==t&&(ie(this,da,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,da)=="boolean"?C(this,da):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},da=new WeakMap,ci=new WeakMap,Oo=new WeakMap,t0),Cv=new UP;function Pp(){let e,t;const r=new Promise((s,i)=>{e=s,t=i});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}var zP=OP;function VP(){let e=[],t=0,r=l=>{l()},n=l=>{l()},s=zP;const i=l=>{t?e.push(l):s(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&s(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{s=l}}}var Kt=VP(),Io,ui,Mo,r0,BP=(r0=class extends ml{constructor(){super();ye(this,Io,!0);ye(this,ui);ye(this,Mo);ie(this,Mo,t=>{if(!Ca&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,ui)||this.setEventListener(C(this,Mo))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,ui))==null||t.call(this),ie(this,ui,void 0))}setEventListener(t){var r;ie(this,Mo,t),(r=C(this,ui))==null||r.call(this),ie(this,ui,t(this.setOnline.bind(this)))}setOnline(t){C(this,Io)!==t&&(ie(this,Io,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,Io)}},Io=new WeakMap,ui=new WeakMap,Mo=new WeakMap,r0),Wd=new BP;function WP(e){return Math.min(1e3*2**e,3e4)}function Uj(e){return(e??"online")==="online"?Wd.isOnline():!0}var Tp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function zj(e){let t=!1,r=0,n;const s=Pp(),i=()=>s.status!=="pending",o=g=>{var b;if(!i()){const y=new Tp(g);p(y),(b=e.onCancel)==null||b.call(e,y)}},l=()=>{t=!0},c=()=>{t=!1},u=()=>Cv.isFocused()&&(e.networkMode==="always"||Wd.isOnline())&&e.canRun(),d=()=>Uj(e.networkMode)&&e.canRun(),h=g=>{i()||(n==null||n(),s.resolve(g))},p=g=>{i()||(n==null||n(),s.reject(g))},f=()=>new Promise(g=>{var b;n=y=>{(i()||u())&&g(y)},(b=e.onPause)==null||b.call(e)}).then(()=>{var g;n=void 0,i()||(g=e.onContinue)==null||g.call(e)}),v=()=>{if(i())return;let g;const b=r===0?e.initialPromise:void 0;try{g=b??e.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(h).catch(y=>{var j;if(i())return;const x=e.retry??(Ca?0:3),w=e.retryDelay??WP,_=typeof w=="function"?w(r,y):w,S=x===!0||typeof x=="number"&&r<x||typeof x=="function"&&x(r,y);if(t||!S){p(y);return}r++,(j=e.onFail)==null||j.call(e,r,y),DP(_).then(()=>u()?void 0:f()).then(()=>{t?p(y):v()})})};return{promise:s,status:()=>s.status,cancel:o,continue:()=>(n==null||n(),s),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?v():f().then(v),s)}}var ha,n0,Vj=(n0=class{constructor(){ye(this,ha)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cp(this.gcTime)&&ie(this,ha,la.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ca?1/0:5*60*1e3))}clearGcTimeout(){C(this,ha)&&(la.clearTimeout(C(this,ha)),ie(this,ha,void 0))}},ha=new WeakMap,n0),fa,Do,nn,ma,Zt,Wc,pa,Rn,ys,s0,qP=(s0=class extends Vj{constructor(t){super();ye(this,Rn);ye(this,fa);ye(this,Do);ye(this,nn);ye(this,ma);ye(this,Zt);ye(this,Wc);ye(this,pa);ie(this,pa,!1),ie(this,Wc,t.defaultOptions),this.setOptions(t.options),this.observers=[],ie(this,ma,t.client),ie(this,nn,C(this,ma).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ie(this,fa,Qx(this.options)),this.state=t.state??C(this,fa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Zt))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Wc),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Qx(this.options);r.data!==void 0&&(this.setState(Gx(r.data,r.dataUpdatedAt)),ie(this,fa,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,nn).remove(this)}setData(t,r){const n=Rp(this.state.data,t,this.options);return Ie(this,Rn,ys).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){Ie(this,Rn,ys).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=C(this,Zt))==null?void 0:n.promise;return(s=C(this,Zt))==null||s.cancel(t),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,fa))}isActive(){return this.observers.some(t=>sn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===kv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Ri(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Lj(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Zt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Zt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,nn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Zt)&&(C(this,pa)?C(this,Zt).cancel({revert:!0}):C(this,Zt).cancelRetry()),this.scheduleGc()),C(this,nn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ie(this,Rn,ys).call(this,{type:"invalidate"})}async fetch(t,r){var c,u,d,h,p,f,v,g,b,y,x,w;if(this.state.fetchStatus!=="idle"&&((c=C(this,Zt))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Zt))return C(this,Zt).continueRetry(),C(this,Zt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(ie(this,pa,!0),n.signal)})},i=()=>{const _=Fj(this.options,r),j=(()=>{const k={client:C(this,ma),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return ie(this,pa,!1),this.options.persister?this.options.persister(_,j,this):_(j)},l=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,ma),state:this.state,fetchFn:i};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(l,this),ie(this,Do,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=l.fetchOptions)==null?void 0:d.meta))&&Ie(this,Rn,ys).call(this,{type:"fetch",meta:(h=l.fetchOptions)==null?void 0:h.meta}),ie(this,Zt,zj({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,onCancel:_=>{_ instanceof Tp&&_.revert&&this.setState({...C(this,Do),fetchStatus:"idle"}),n.abort()},onFail:(_,S)=>{Ie(this,Rn,ys).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{Ie(this,Rn,ys).call(this,{type:"pause"})},onContinue:()=>{Ie(this,Rn,ys).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0}));try{const _=await C(this,Zt).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(f=(p=C(this,nn).config).onSuccess)==null||f.call(p,_,this),(g=(v=C(this,nn).config).onSettled)==null||g.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof Tp){if(_.silent)return C(this,Zt).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw Ie(this,Rn,ys).call(this,{type:"error",error:_}),(y=(b=C(this,nn).config).onError)==null||y.call(b,_,this),(w=(x=C(this,nn).config).onSettled)==null||w.call(x,this.state.data,_,this),_}finally{this.scheduleGc()}}},fa=new WeakMap,Do=new WeakMap,nn=new WeakMap,ma=new WeakMap,Zt=new WeakMap,Wc=new WeakMap,pa=new WeakMap,Rn=new WeakSet,ys=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Bj(n.data,this.options),fetchMeta:t.meta??null};case"success":const s={...n,...Gx(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Do,t.manual?s:void 0),s;case"error":const i=t.error;return{...n,error:i,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,nn).notify({query:this,type:"updated",action:t})})},s0);function Bj(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Uj(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Gx(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Qx(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Pr,Be,qc,wr,ga,Lo,_s,di,Hc,$o,Fo,va,ya,hi,Uo,tt,ql,Ap,Op,Ip,Mp,Dp,Lp,$p,Wj,i0,HP=(i0=class extends ml{constructor(t,r){super();ye(this,tt);ye(this,Pr);ye(this,Be);ye(this,qc);ye(this,wr);ye(this,ga);ye(this,Lo);ye(this,_s);ye(this,di);ye(this,Hc);ye(this,$o);ye(this,Fo);ye(this,va);ye(this,ya);ye(this,hi);ye(this,Uo,new Set);this.options=r,ie(this,Pr,t),ie(this,di,null),ie(this,_s,Pp()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,Be).addObserver(this),Yx(C(this,Be),this.options)?Ie(this,tt,ql).call(this):this.updateResult(),Ie(this,tt,Mp).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Fp(C(this,Be),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Fp(C(this,Be),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ie(this,tt,Dp).call(this),Ie(this,tt,Lp).call(this),C(this,Be).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,Be);if(this.options=C(this,Pr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof sn(this.options.enabled,C(this,Be))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ie(this,tt,$p).call(this),C(this,Be).setOptions(this.options),r._defaulted&&!Bd(this.options,r)&&C(this,Pr).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,Be),observer:this});const s=this.hasListeners();s&&Jx(C(this,Be),n,this.options,r)&&Ie(this,tt,ql).call(this),this.updateResult(),s&&(C(this,Be)!==n||sn(this.options.enabled,C(this,Be))!==sn(r.enabled,C(this,Be))||Ri(this.options.staleTime,C(this,Be))!==Ri(r.staleTime,C(this,Be)))&&Ie(this,tt,Ap).call(this);const i=Ie(this,tt,Op).call(this);s&&(C(this,Be)!==n||sn(this.options.enabled,C(this,Be))!==sn(r.enabled,C(this,Be))||i!==C(this,hi))&&Ie(this,tt,Ip).call(this,i)}getOptimisticResult(t){const r=C(this,Pr).getQueryCache().build(C(this,Pr),t),n=this.createResult(r,t);return GP(this,n)&&(ie(this,wr,n),ie(this,Lo,this.options),ie(this,ga,C(this,Be).state)),n}getCurrentResult(){return C(this,wr)}trackResult(t,r){return new Proxy(t,{get:(n,s)=>(this.trackProp(s),r==null||r(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,_s).status==="pending"&&C(this,_s).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,s))})}trackProp(t){C(this,Uo).add(t)}getCurrentQuery(){return C(this,Be)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,Pr).defaultQueryOptions(t),n=C(this,Pr).getQueryCache().build(C(this,Pr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return Ie(this,tt,ql).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,wr)))}createResult(t,r){var A;const n=C(this,Be),s=this.options,i=C(this,wr),o=C(this,ga),l=C(this,Lo),u=t!==n?t.state:C(this,qc),{state:d}=t;let h={...d},p=!1,f;if(r._optimisticResults){const M=this.hasListeners(),W=!M&&Yx(t,r),L=M&&Jx(t,n,r,s);(W||L)&&(h={...h,...Bj(d.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:g,status:b}=h;f=h.data;let y=!1;if(r.placeholderData!==void 0&&f===void 0&&b==="pending"){let M;i!=null&&i.isPlaceholderData&&r.placeholderData===(l==null?void 0:l.placeholderData)?(M=i.data,y=!0):M=typeof r.placeholderData=="function"?r.placeholderData((A=C(this,Fo))==null?void 0:A.state.data,C(this,Fo)):r.placeholderData,M!==void 0&&(b="success",f=Rp(i==null?void 0:i.data,M,r),p=!0)}if(r.select&&f!==void 0&&!y)if(i&&f===(o==null?void 0:o.data)&&r.select===C(this,Hc))f=C(this,$o);else try{ie(this,Hc,r.select),f=r.select(f),f=Rp(i==null?void 0:i.data,f,r),ie(this,$o,f),ie(this,di,null)}catch(M){ie(this,di,M)}C(this,di)&&(v=C(this,di),f=C(this,$o),g=Date.now(),b="error");const x=h.fetchStatus==="fetching",w=b==="pending",_=b==="error",S=w&&x,j=f!==void 0,P={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:g,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:x,isRefetching:x&&!w,isLoadingError:_&&!j,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&j,isStale:Ev(t,r),refetch:this.refetch,promise:C(this,_s),isEnabled:sn(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const M=P.data!==void 0,W=P.status==="error"&&!M,L=J=>{W?J.reject(P.error):M&&J.resolve(P.data)},z=()=>{const J=ie(this,_s,P.promise=Pp());L(J)},O=C(this,_s);switch(O.status){case"pending":t.queryHash===n.queryHash&&L(O);break;case"fulfilled":(W||P.data!==O.value)&&z();break;case"rejected":(!W||P.error!==O.reason)&&z();break}}return P}updateResult(){const t=C(this,wr),r=this.createResult(C(this,Be),this.options);if(ie(this,ga,C(this,Be).state),ie(this,Lo,this.options),C(this,ga).data!==void 0&&ie(this,Fo,C(this,Be)),Bd(r,t))return;ie(this,wr,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!C(this,Uo).size)return!0;const o=new Set(i??C(this,Uo));return this.options.throwOnError&&o.add("error"),Object.keys(C(this,wr)).some(l=>{const c=l;return C(this,wr)[c]!==t[c]&&o.has(c)})};Ie(this,tt,Wj).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ie(this,tt,Mp).call(this)}},Pr=new WeakMap,Be=new WeakMap,qc=new WeakMap,wr=new WeakMap,ga=new WeakMap,Lo=new WeakMap,_s=new WeakMap,di=new WeakMap,Hc=new WeakMap,$o=new WeakMap,Fo=new WeakMap,va=new WeakMap,ya=new WeakMap,hi=new WeakMap,Uo=new WeakMap,tt=new WeakSet,ql=function(t){Ie(this,tt,$p).call(this);let r=C(this,Be).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(jr)),r},Ap=function(){Ie(this,tt,Dp).call(this);const t=Ri(this.options.staleTime,C(this,Be));if(Ca||C(this,wr).isStale||!Cp(t))return;const n=Lj(C(this,wr).dataUpdatedAt,t)+1;ie(this,va,la.setTimeout(()=>{C(this,wr).isStale||this.updateResult()},n))},Op=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,Be)):this.options.refetchInterval)??!1},Ip=function(t){Ie(this,tt,Lp).call(this),ie(this,hi,t),!(Ca||sn(this.options.enabled,C(this,Be))===!1||!Cp(C(this,hi))||C(this,hi)===0)&&ie(this,ya,la.setInterval(()=>{(this.options.refetchIntervalInBackground||Cv.isFocused())&&Ie(this,tt,ql).call(this)},C(this,hi)))},Mp=function(){Ie(this,tt,Ap).call(this),Ie(this,tt,Ip).call(this,Ie(this,tt,Op).call(this))},Dp=function(){C(this,va)&&(la.clearTimeout(C(this,va)),ie(this,va,void 0))},Lp=function(){C(this,ya)&&(la.clearInterval(C(this,ya)),ie(this,ya,void 0))},$p=function(){const t=C(this,Pr).getQueryCache().build(C(this,Pr),this.options);if(t===C(this,Be))return;const r=C(this,Be);ie(this,Be,t),ie(this,qc,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Wj=function(t){Kt.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,wr))}),C(this,Pr).getQueryCache().notify({query:C(this,Be),type:"observerResultsUpdated"})})},i0);function KP(e,t){return sn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yx(e,t){return KP(e,t)||e.state.data!==void 0&&Fp(e,t,t.refetchOnMount)}function Fp(e,t,r){if(sn(t.enabled,e)!==!1&&Ri(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&Ev(e,t)}return!1}function Jx(e,t,r,n){return(e!==t||sn(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Ev(e,r)}function Ev(e,t){return sn(t.enabled,e)!==!1&&e.isStaleByTime(Ri(t.staleTime,e))}function GP(e,t){return!Bd(e.getCurrentResult(),t)}function Zx(e){return{onFetch:(t,r)=>{var d,h,p,f,v;const n=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,i=((f=t.state.data)==null?void 0:f.pages)||[],o=((v=t.state.data)==null?void 0:v.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const b=w=>{FP(w,()=>t.signal,()=>g=!0)},y=Fj(t.options,t.fetchOptions),x=async(w,_,S)=>{if(g)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const W={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return b(W),W})(),P=await y(k),{maxPages:A}=t.options,M=S?$P:LP;return{pages:M(w.pages,P,A),pageParams:M(w.pageParams,_,A)}};if(s&&i.length){const w=s==="backward",_=w?QP:Xx,S={pages:i,pageParams:o},j=_(n,S);l=await x(S,j,w)}else{const w=e??i.length;do{const _=c===0?o[0]??n.initialPageParam:Xx(n,l);if(c>0&&_==null)break;l=await x(l,_),c++}while(c<w)}return l};t.options.persister?t.fetchFn=()=>{var g,b;return(b=(g=t.options).persister)==null?void 0:b.call(g,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Xx(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function QP(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Kc,Jn,gr,xa,Zn,Zs,a0,YP=(a0=class extends Vj{constructor(t){super();ye(this,Zn);ye(this,Kc);ye(this,Jn);ye(this,gr);ye(this,xa);ie(this,Kc,t.client),this.mutationId=t.mutationId,ie(this,gr,t.mutationCache),ie(this,Jn,[]),this.state=t.state||qj(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Jn).includes(t)||(C(this,Jn).push(t),this.clearGcTimeout(),C(this,gr).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ie(this,Jn,C(this,Jn).filter(r=>r!==t)),this.scheduleGc(),C(this,gr).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Jn).length||(this.state.status==="pending"?this.scheduleGc():C(this,gr).remove(this))}continue(){var t;return((t=C(this,xa))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,l,c,u,d,h,p,f,v,g,b,y,x,w,_,S,j,k;const r=()=>{Ie(this,Zn,Zs).call(this,{type:"continue"})},n={client:C(this,Kc),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,xa,zj({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,A)=>{Ie(this,Zn,Zs).call(this,{type:"failed",failureCount:P,error:A})},onPause:()=>{Ie(this,Zn,Zs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,gr).canRun(this)}));const s=this.state.status==="pending",i=!C(this,xa).canStart();try{if(s)r();else{Ie(this,Zn,Zs).call(this,{type:"pending",variables:t,isPaused:i}),C(this,gr).config.onMutate&&await C(this,gr).config.onMutate(t,this,n);const A=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,t,n));A!==this.state.context&&Ie(this,Zn,Zs).call(this,{type:"pending",context:A,variables:t,isPaused:i})}const P=await C(this,xa).start();return await((u=(c=C(this,gr).config).onSuccess)==null?void 0:u.call(c,P,t,this.state.context,this,n)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,P,t,this.state.context,n)),await((f=(p=C(this,gr).config).onSettled)==null?void 0:f.call(p,P,null,this.state.variables,this.state.context,this,n)),await((g=(v=this.options).onSettled)==null?void 0:g.call(v,P,null,t,this.state.context,n)),Ie(this,Zn,Zs).call(this,{type:"success",data:P}),P}catch(P){try{await((y=(b=C(this,gr).config).onError)==null?void 0:y.call(b,P,t,this.state.context,this,n))}catch(A){Promise.reject(A)}try{await((w=(x=this.options).onError)==null?void 0:w.call(x,P,t,this.state.context,n))}catch(A){Promise.reject(A)}try{await((S=(_=C(this,gr).config).onSettled)==null?void 0:S.call(_,void 0,P,this.state.variables,this.state.context,this,n))}catch(A){Promise.reject(A)}try{await((k=(j=this.options).onSettled)==null?void 0:k.call(j,void 0,P,t,this.state.context,n))}catch(A){Promise.reject(A)}throw Ie(this,Zn,Zs).call(this,{type:"error",error:P}),P}finally{C(this,gr).runNext(this)}}},Kc=new WeakMap,Jn=new WeakMap,gr=new WeakMap,xa=new WeakMap,Zn=new WeakSet,Zs=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Kt.batch(()=>{C(this,Jn).forEach(n=>{n.onMutationUpdate(t)}),C(this,gr).notify({mutation:this,type:"updated",action:t})})},a0);function qj(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var js,Pn,Gc,o0,JP=(o0=class extends ml{constructor(t={}){super();ye(this,js);ye(this,Pn);ye(this,Gc);this.config=t,ie(this,js,new Set),ie(this,Pn,new Map),ie(this,Gc,0)}build(t,r,n){const s=new YP({client:t,mutationCache:this,mutationId:++gu(this,Gc)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){C(this,js).add(t);const r=Iu(t);if(typeof r=="string"){const n=C(this,Pn).get(r);n?n.push(t):C(this,Pn).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,js).delete(t)){const r=Iu(t);if(typeof r=="string"){const n=C(this,Pn).get(r);if(n)if(n.length>1){const s=n.indexOf(t);s!==-1&&n.splice(s,1)}else n[0]===t&&C(this,Pn).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=Iu(t);if(typeof r=="string"){const n=C(this,Pn).get(r),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===t}else return!0}runNext(t){var n;const r=Iu(t);if(typeof r=="string"){const s=(n=C(this,Pn).get(r))==null?void 0:n.find(i=>i!==t&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Kt.batch(()=>{C(this,js).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,js).clear(),C(this,Pn).clear()})}getAll(){return Array.from(C(this,js))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>qx(r,n))}findAll(t={}){return this.getAll().filter(r=>qx(t,r))}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Kt.batch(()=>Promise.all(t.map(r=>r.continue().catch(jr))))}},js=new WeakMap,Pn=new WeakMap,Gc=new WeakMap,o0);function Iu(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Ss,fi,Tr,ks,Ps,dd,Up,l0,ZP=(l0=class extends ml{constructor(r,n){super();ye(this,Ps);ye(this,Ss);ye(this,fi);ye(this,Tr);ye(this,ks);ie(this,Ss,r),this.setOptions(n),this.bindMethods(),Ie(this,Ps,dd).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var s;const n=this.options;this.options=C(this,Ss).defaultMutationOptions(r),Bd(this.options,n)||C(this,Ss).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,Tr),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ea(n.mutationKey)!==Ea(this.options.mutationKey)?this.reset():((s=C(this,Tr))==null?void 0:s.state.status)==="pending"&&C(this,Tr).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,Tr))==null||r.removeObserver(this)}onMutationUpdate(r){Ie(this,Ps,dd).call(this),Ie(this,Ps,Up).call(this,r)}getCurrentResult(){return C(this,fi)}reset(){var r;(r=C(this,Tr))==null||r.removeObserver(this),ie(this,Tr,void 0),Ie(this,Ps,dd).call(this),Ie(this,Ps,Up).call(this)}mutate(r,n){var s;return ie(this,ks,n),(s=C(this,Tr))==null||s.removeObserver(this),ie(this,Tr,C(this,Ss).getMutationCache().build(C(this,Ss),this.options)),C(this,Tr).addObserver(this),C(this,Tr).execute(r)}},Ss=new WeakMap,fi=new WeakMap,Tr=new WeakMap,ks=new WeakMap,Ps=new WeakSet,dd=function(){var n;const r=((n=C(this,Tr))==null?void 0:n.state)??qj();ie(this,fi,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Up=function(r){Kt.batch(()=>{var n,s,i,o,l,c,u,d;if(C(this,ks)&&this.hasListeners()){const h=C(this,fi).variables,p=C(this,fi).context,f={client:C(this,Ss),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(s=(n=C(this,ks)).onSuccess)==null||s.call(n,r.data,h,p,f)}catch(v){Promise.reject(v)}try{(o=(i=C(this,ks)).onSettled)==null||o.call(i,r.data,null,h,p,f)}catch(v){Promise.reject(v)}}else if((r==null?void 0:r.type)==="error"){try{(c=(l=C(this,ks)).onError)==null||c.call(l,r.error,h,p,f)}catch(v){Promise.reject(v)}try{(d=(u=C(this,ks)).onSettled)==null||d.call(u,void 0,r.error,h,p,f)}catch(v){Promise.reject(v)}}}this.listeners.forEach(h=>{h(C(this,fi))})})},l0),Xn,c0,XP=(c0=class extends ml{constructor(t={}){super();ye(this,Xn);this.config=t,ie(this,Xn,new Map)}build(t,r,n){const s=r.queryKey,i=r.queryHash??Sv(s,r);let o=this.get(i);return o||(o=new qP({client:t,queryKey:s,queryHash:i,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(o)),o}add(t){C(this,Xn).has(t.queryHash)||(C(this,Xn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,Xn).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,Xn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Kt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,Xn).get(t)}getAll(){return[...C(this,Xn).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Wx(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Wx(t,n)):r}notify(t){Kt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Kt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Xn=new WeakMap,c0),Nt,mi,pi,zo,Vo,gi,Bo,Wo,u0,eT=(u0=class{constructor(e={}){ye(this,Nt);ye(this,mi);ye(this,pi);ye(this,zo);ye(this,Vo);ye(this,gi);ye(this,Bo);ye(this,Wo);ie(this,Nt,e.queryCache||new XP),ie(this,mi,e.mutationCache||new JP),ie(this,pi,e.defaultOptions||{}),ie(this,zo,new Map),ie(this,Vo,new Map),ie(this,gi,0)}mount(){gu(this,gi)._++,C(this,gi)===1&&(ie(this,Bo,Cv.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Nt).onFocus())})),ie(this,Wo,Wd.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,Nt).onOnline())})))}unmount(){var e,t;gu(this,gi)._--,C(this,gi)===0&&((e=C(this,Bo))==null||e.call(this),ie(this,Bo,void 0),(t=C(this,Wo))==null||t.call(this),ie(this,Wo,void 0))}isFetching(e){return C(this,Nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,mi).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Nt).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,Nt).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ri(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,Nt).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=C(this,Nt).get(n.queryHash),i=s==null?void 0:s.state.data,o=IP(t,i);if(o!==void 0)return C(this,Nt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Kt.batch(()=>C(this,Nt).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,Nt).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,Nt);Kt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,Nt);return Kt.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Kt.batch(()=>C(this,Nt).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(jr).catch(jr)}invalidateQueries(e,t={}){return Kt.batch(()=>(C(this,Nt).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Kt.batch(()=>C(this,Nt).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,r);return r.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,Nt).build(this,t);return r.isStaleByTime(Ri(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(jr).catch(jr)}fetchInfiniteQuery(e){return e.behavior=Zx(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(jr).catch(jr)}ensureInfiniteQueryData(e){return e.behavior=Zx(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Wd.isOnline()?C(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,Nt)}getMutationCache(){return C(this,mi)}getDefaultOptions(){return C(this,pi)}setDefaultOptions(e){ie(this,pi,e)}setQueryDefaults(e,t){C(this,zo).set(Ea(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,zo).values()],r={};return t.forEach(n=>{Rc(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Vo).set(Ea(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Vo).values()],r={};return t.forEach(n=>{Rc(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,pi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Sv(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===kv&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,pi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,Nt).clear(),C(this,mi).clear()}},Nt=new WeakMap,mi=new WeakMap,pi=new WeakMap,zo=new WeakMap,Vo=new WeakMap,gi=new WeakMap,Bo=new WeakMap,Wo=new WeakMap,u0),Hj=m.createContext(void 0),ke=e=>{const t=m.useContext(Hj);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},tT=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(Hj.Provider,{value:e,children:t})),Kj=m.createContext(!1),rT=()=>m.useContext(Kj);Kj.Provider;function nT(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sT=m.createContext(nT()),iT=()=>m.useContext(sT),aT=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Nv(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},oT=e=>{m.useEffect(()=>{e.clearReset()},[e])},lT=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(s&&e.data===void 0||Nv(r,[e.error,n])),cT=e=>{if(e.suspense){const r=s=>s==="static"?s:Math.max(s??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...s)=>r(n(...s)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uT=(e,t)=>e.isLoading&&e.isFetching&&!t,dT=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ew=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function hT(e,t,r){var p,f,v,g;const n=rT(),s=iT(),i=ke(),o=i.defaultQueryOptions(e);(f=(p=i.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,o);const l=i.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",cT(o),aT(o,s,l),oT(s);const c=!i.getQueryCache().get(o.queryHash),[u]=m.useState(()=>new t(i,o)),d=u.getOptimisticResult(o),h=!n&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const y=h?u.subscribe(Kt.batchCalls(b)):jr;return u.updateResult(),y},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(o)},[o,u]),dT(o,d))throw ew(o,u,s);if(lT({result:d,errorResetBoundary:s,throwOnError:o.throwOnError,query:l,suspense:o.suspense}))throw d.error;if((g=(v=i.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||g.call(v,o,d),o.experimental_prefetchInRender&&!Ca&&uT(d,n)){const b=c?ew(o,u,s):l==null?void 0:l.promise;b==null||b.catch(jr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?d:u.trackResult(d)}function Fe(e,t){return hT(e,HP)}function Ce(e,t){const r=ke(),[n]=m.useState(()=>new ZP(r,e));m.useEffect(()=>{n.setOptions(e)},[n,e]);const s=m.useSyncExternalStore(m.useCallback(o=>n.subscribe(Kt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=m.useCallback((o,l)=>{n.mutate(o,l).catch(jr)},[n]);if(s.error&&Nv(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}var fT=e=>{switch(e){case"success":return gT;case"info":return yT;case"warning":return vT;case"error":return xT;default:return null}},mT=Array(12).fill(0),pT=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},mT.map((r,n)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),gT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),vT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),yT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),xT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),wT=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),bT=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},zp=1,_T=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:zp++,i=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:r}),{...l,...e,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0,i,o=n.then(async c=>{if(i=["resolve",c],V.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(ST(c)&&!c.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(c):t.success,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(i=["reject",c],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(c):t.error,d=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>i[0]==="reject"?u(i[1]):c(i[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||zp++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ar=new _T,jT=(e,t)=>{let r=(t==null?void 0:t.id)||zp++;return Ar.addToast({title:e,...t,id:r}),r},ST=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",kT=jT,NT=()=>Ar.toasts,CT=()=>Ar.getActiveToasts(),U=Object.assign(kT,{success:Ar.success,info:Ar.info,warning:Ar.warning,error:Ar.error,custom:Ar.custom,message:Ar.message,promise:Ar.promise,dismiss:Ar.dismiss,loading:Ar.loading},{getHistory:NT,getToasts:CT});function ET(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}ET(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mu(e){return e.label!==void 0}var RT=3,PT="32px",TT="16px",tw=4e3,AT=356,OT=14,IT=20,MT=200;function jn(...e){return e.filter(Boolean).join(" ")}function DT(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var LT=e=>{var t,r,n,s,i,o,l,c,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:g,setHeights:b,visibleToasts:y,heights:x,index:w,toasts:_,expanded:S,removeToast:j,defaultRichColors:k,closeButton:P,style:A,cancelButtonStyle:M,actionButtonStyle:W,className:L="",descriptionClassName:z="",duration:O,position:J,gap:Y,loadingIcon:re,expandByDefault:D,classNames:N,icons:R,closeButtonAriaLabel:le="Close toast",pauseWhenPageIsHidden:ue}=e,[Re,Se]=V.useState(null),[et,Je]=V.useState(null),[ee,ze]=V.useState(!1),[Ve,Me]=V.useState(!1),[De,qe]=V.useState(!1),[Bt,Rr]=V.useState(!1),[Hn,vn]=V.useState(!1),[ms,Gi]=V.useState(0),[Qi,jl]=V.useState(0),E=V.useRef(f.duration||O||tw),I=V.useRef(null),$=V.useRef(null),ae=w===0,X=w+1<=y,B=f.type,me=f.dismissible!==!1,Ze=f.className||"",Xe=f.descriptionClassName||"",Ot=V.useMemo(()=>x.findIndex(Ae=>Ae.toastId===f.id)||0,[x,f.id]),ps=V.useMemo(()=>{var Ae;return(Ae=f.closeButton)!=null?Ae:P},[f.closeButton,P]),yn=V.useMemo(()=>f.duration||O||tw,[f.duration,O]),Sl=V.useRef(0),Kn=V.useRef(0),Ba=V.useRef(0),Ws=V.useRef(null),[pu,kf]=J.split("-"),kl=V.useMemo(()=>x.reduce((Ae,ut,wt)=>wt>=Ot?Ae:Ae+ut.height,0),[x,Ot]),ky=bT(),QC=f.invert||p,Nf=B==="loading";Kn.current=V.useMemo(()=>Ot*Y+kl,[Ot,kl]),V.useEffect(()=>{E.current=yn},[yn]),V.useEffect(()=>{ze(!0)},[]),V.useEffect(()=>{let Ae=$.current;if(Ae){let ut=Ae.getBoundingClientRect().height;return jl(ut),b(wt=>[{toastId:f.id,height:ut,position:f.position},...wt]),()=>b(wt=>wt.filter(xn=>xn.toastId!==f.id))}},[b,f.id]),V.useLayoutEffect(()=>{if(!ee)return;let Ae=$.current,ut=Ae.style.height;Ae.style.height="auto";let wt=Ae.getBoundingClientRect().height;Ae.style.height=ut,jl(wt),b(xn=>xn.find(wn=>wn.toastId===f.id)?xn.map(wn=>wn.toastId===f.id?{...wn,height:wt}:wn):[{toastId:f.id,height:wt,position:f.position},...xn])},[ee,f.title,f.description,b,f.id]);let qs=V.useCallback(()=>{Me(!0),Gi(Kn.current),b(Ae=>Ae.filter(ut=>ut.toastId!==f.id)),setTimeout(()=>{j(f)},MT)},[f,j,b,Kn]);V.useEffect(()=>{if(f.promise&&B==="loading"||f.duration===1/0||f.type==="loading")return;let Ae;return S||g||ue&&ky?(()=>{if(Ba.current<Sl.current){let ut=new Date().getTime()-Sl.current;E.current=E.current-ut}Ba.current=new Date().getTime()})():E.current!==1/0&&(Sl.current=new Date().getTime(),Ae=setTimeout(()=>{var ut;(ut=f.onAutoClose)==null||ut.call(f,f),qs()},E.current)),()=>clearTimeout(Ae)},[S,g,f,B,ue,ky,qs]),V.useEffect(()=>{f.delete&&qs()},[qs,f.delete]);function YC(){var Ae,ut,wt;return R!=null&&R.loading?V.createElement("div",{className:jn(N==null?void 0:N.loader,(Ae=f==null?void 0:f.classNames)==null?void 0:Ae.loader,"sonner-loader"),"data-visible":B==="loading"},R.loading):re?V.createElement("div",{className:jn(N==null?void 0:N.loader,(ut=f==null?void 0:f.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":B==="loading"},re):V.createElement(pT,{className:jn(N==null?void 0:N.loader,(wt=f==null?void 0:f.classNames)==null?void 0:wt.loader),visible:B==="loading"})}return V.createElement("li",{tabIndex:0,ref:$,className:jn(L,Ze,N==null?void 0:N.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,N==null?void 0:N.default,N==null?void 0:N[B],(r=f==null?void 0:f.classNames)==null?void 0:r[B]),"data-sonner-toast":"","data-rich-colors":(n=f.richColors)!=null?n:k,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":ee,"data-promise":!!f.promise,"data-swiped":Hn,"data-removed":Ve,"data-visible":X,"data-y-position":pu,"data-x-position":kf,"data-index":w,"data-front":ae,"data-swiping":De,"data-dismissible":me,"data-type":B,"data-invert":QC,"data-swipe-out":Bt,"data-swipe-direction":et,"data-expanded":!!(S||D&&ee),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${Ve?ms:Kn.current}px`,"--initial-height":D?"auto":`${Qi}px`,...A,...f.style},onDragEnd:()=>{qe(!1),Se(null),Ws.current=null},onPointerDown:Ae=>{Nf||!me||(I.current=new Date,Gi(Kn.current),Ae.target.setPointerCapture(Ae.pointerId),Ae.target.tagName!=="BUTTON"&&(qe(!0),Ws.current={x:Ae.clientX,y:Ae.clientY}))},onPointerUp:()=>{var Ae,ut,wt,xn;if(Bt||!me)return;Ws.current=null;let wn=Number(((Ae=$.current)==null?void 0:Ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Hs=Number(((ut=$.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Yi=new Date().getTime()-((wt=I.current)==null?void 0:wt.getTime()),bn=Re==="x"?wn:Hs,Ks=Math.abs(bn)/Yi;if(Math.abs(bn)>=IT||Ks>.11){Gi(Kn.current),(xn=f.onDismiss)==null||xn.call(f,f),Je(Re==="x"?wn>0?"right":"left":Hs>0?"down":"up"),qs(),Rr(!0),vn(!1);return}qe(!1),Se(null)},onPointerMove:Ae=>{var ut,wt,xn,wn;if(!Ws.current||!me||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;let Hs=Ae.clientY-Ws.current.y,Yi=Ae.clientX-Ws.current.x,bn=(wt=e.swipeDirections)!=null?wt:DT(J);!Re&&(Math.abs(Yi)>1||Math.abs(Hs)>1)&&Se(Math.abs(Yi)>Math.abs(Hs)?"x":"y");let Ks={x:0,y:0};Re==="y"?(bn.includes("top")||bn.includes("bottom"))&&(bn.includes("top")&&Hs<0||bn.includes("bottom")&&Hs>0)&&(Ks.y=Hs):Re==="x"&&(bn.includes("left")||bn.includes("right"))&&(bn.includes("left")&&Yi<0||bn.includes("right")&&Yi>0)&&(Ks.x=Yi),(Math.abs(Ks.x)>0||Math.abs(Ks.y)>0)&&vn(!0),(xn=$.current)==null||xn.style.setProperty("--swipe-amount-x",`${Ks.x}px`),(wn=$.current)==null||wn.style.setProperty("--swipe-amount-y",`${Ks.y}px`)}},ps&&!f.jsx?V.createElement("button",{"aria-label":le,"data-disabled":Nf,"data-close-button":!0,onClick:Nf||!me?()=>{}:()=>{var Ae;qs(),(Ae=f.onDismiss)==null||Ae.call(f,f)},className:jn(N==null?void 0:N.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(i=R==null?void 0:R.close)!=null?i:wT):null,f.jsx||m.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:V.createElement(V.Fragment,null,B||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:jn(N==null?void 0:N.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||YC():null,f.type!=="loading"?f.icon||(R==null?void 0:R[B])||fT(B):null):null,V.createElement("div",{"data-content":"",className:jn(N==null?void 0:N.content,(l=f==null?void 0:f.classNames)==null?void 0:l.content)},V.createElement("div",{"data-title":"",className:jn(N==null?void 0:N.title,(c=f==null?void 0:f.classNames)==null?void 0:c.title)},typeof f.title=="function"?f.title():f.title),f.description?V.createElement("div",{"data-description":"",className:jn(z,Xe,N==null?void 0:N.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),m.isValidElement(f.cancel)?f.cancel:f.cancel&&Mu(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||M,onClick:Ae=>{var ut,wt;Mu(f.cancel)&&me&&((wt=(ut=f.cancel).onClick)==null||wt.call(ut,Ae),qs())},className:jn(N==null?void 0:N.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,m.isValidElement(f.action)?f.action:f.action&&Mu(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||W,onClick:Ae=>{var ut,wt;Mu(f.action)&&((wt=(ut=f.action).onClick)==null||wt.call(ut,Ae),!Ae.defaultPrevented&&qs())},className:jn(N==null?void 0:N.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function rw(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function $T(e,t){let r={};return[e,t].forEach((n,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",l=i?TT:PT;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}var FT=m.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=RT,toastOptions:g,dir:b=rw(),gap:y=OT,loadingIcon:x,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[j,k]=V.useState([]),P=V.useMemo(()=>Array.from(new Set([n].concat(j.filter(ue=>ue.position).map(ue=>ue.position)))),[j,n]),[A,M]=V.useState([]),[W,L]=V.useState(!1),[z,O]=V.useState(!1),[J,Y]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),re=V.useRef(null),D=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=V.useRef(null),R=V.useRef(!1),le=V.useCallback(ue=>{k(Re=>{var Se;return(Se=Re.find(et=>et.id===ue.id))!=null&&Se.delete||Ar.dismiss(ue.id),Re.filter(({id:et})=>et!==ue.id)})},[]);return V.useEffect(()=>Ar.subscribe(ue=>{if(ue.dismiss){k(Re=>Re.map(Se=>Se.id===ue.id?{...Se,delete:!0}:Se));return}setTimeout(()=>{Sj.flushSync(()=>{k(Re=>{let Se=Re.findIndex(et=>et.id===ue.id);return Se!==-1?[...Re.slice(0,Se),{...Re[Se],...ue},...Re.slice(Se+1)]:[ue,...Re]})})})}),[]),V.useEffect(()=>{if(d!=="system"){Y(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let ue=window.matchMedia("(prefers-color-scheme: dark)");try{ue.addEventListener("change",({matches:Re})=>{Y(Re?"dark":"light")})}catch{ue.addListener(({matches:Se})=>{try{Y(Se?"dark":"light")}catch(et){console.error(et)}})}},[d]),V.useEffect(()=>{j.length<=1&&L(!1)},[j]),V.useEffect(()=>{let ue=Re=>{var Se,et;s.every(Je=>Re[Je]||Re.code===Je)&&(L(!0),(Se=re.current)==null||Se.focus()),Re.code==="Escape"&&(document.activeElement===re.current||(et=re.current)!=null&&et.contains(document.activeElement))&&L(!1)};return document.addEventListener("keydown",ue),()=>document.removeEventListener("keydown",ue)},[s]),V.useEffect(()=>{if(re.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,R.current=!1)}},[re.current]),V.createElement("section",{ref:t,"aria-label":`${_} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((ue,Re)=>{var Se;let[et,Je]=ue.split("-");return j.length?V.createElement("ol",{key:ue,dir:b==="auto"?rw():b,tabIndex:-1,ref:re,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":et,"data-lifted":W&&j.length>1&&!i,"data-x-position":Je,style:{"--front-toast-height":`${((Se=A[0])==null?void 0:Se.height)||0}px`,"--width":`${AT}px`,"--gap":`${y}px`,...f,...$T(c,u)},onBlur:ee=>{R.current&&!ee.currentTarget.contains(ee.relatedTarget)&&(R.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||R.current||(R.current=!0,N.current=ee.relatedTarget)},onMouseEnter:()=>L(!0),onMouseMove:()=>L(!0),onMouseLeave:()=>{z||L(!1)},onDragEnd:()=>L(!1),onPointerDown:ee=>{ee.target instanceof HTMLElement&&ee.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},j.filter(ee=>!ee.position&&Re===0||ee.position===ue).map((ee,ze)=>{var Ve,Me;return V.createElement(LT,{key:ee.id,icons:w,index:ze,toast:ee,defaultRichColors:h,duration:(Ve=g==null?void 0:g.duration)!=null?Ve:p,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:r,visibleToasts:v,closeButton:(Me=g==null?void 0:g.closeButton)!=null?Me:o,interacting:z,position:ue,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:le,toasts:j.filter(De=>De.position==ee.position),heights:A.filter(De=>De.position==ee.position),setHeights:M,expandByDefault:i,gap:y,loadingIcon:x,expanded:W,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gj=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>m.createElement("svg",{ref:c,...zT,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Gj("lucide",s),...l},[...o.map(([u,d])=>m.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=(e,t)=>{const r=m.forwardRef(({className:n,...s},i)=>m.createElement(VT,{ref:i,iconNode:t,className:Gj(`lucide-${UT(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=Z("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qd=Z("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Z("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=Z("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Z("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Z("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Z("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=Z("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Z("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Z("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=Z("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=Z("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=Z("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yj=Z("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=Z("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=Z("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Z("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=Z("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=Z("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zj=Z("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Z("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=Z("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=Z("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=Z("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Z("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=Z("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Z("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tv=Z("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xj=Z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=Z("FileJson",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=Z("FileQuestion",[["path",{d:"M12 17h.01",key:"p32p05"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=Z("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=Z("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eA=Z("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tA=Z("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rA=Z("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nA=Z("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sA=Z("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=Z("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Z("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=Z("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iA=Z("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aA=Z("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=Z("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oA=Z("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lA=Z("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Z("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cA=Z("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=Z("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=Z("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Z("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wp=Z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=Z("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uA=Z("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Z("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Z("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=Z("Plug",[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=Z("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tS=Z("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=Z("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=Z("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=Z("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sS=Z("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iS=Z("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Z("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=Z("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Z("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Z("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=Z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pA=Z("Speaker",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["circle",{cx:"12",cy:"14",r:"4",key:"1jruaj"}],["path",{d:"M12 14h.01",key:"1etili"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Z("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Z("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Z("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=Z("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hp=Z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=Z("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=Z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=Z("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=Z("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oS=Z("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=Z("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=Z("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function uS(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=uS(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function dS(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=uS(e))&&(n&&(n+=" "),n+=t);return n}const Mv="-",yA=e=>{const t=wA(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(Mv);return l[0]===""&&l.length!==1&&l.shift(),hS(l,t)||xA(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},hS=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?hS(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(Mv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},iw=/^\[(.+)\]$/,xA=e=>{if(iw.test(e)){const t=iw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},wA=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return _A(Object.entries(e.classGroups),r).forEach(([i,o])=>{Gp(o,n,i,t)}),n},Gp=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:aw(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(bA(s)){Gp(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Gp(o,aw(t,i),r,n)})})},aw=(e,t)=>{let r=e;return t.split(Mv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},bA=e=>e.isThemeGetter,_A=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,jA=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},fS="!",SA=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,d=0,h;for(let b=0;b<l.length;b++){let y=l[b];if(u===0){if(y===s&&(n||l.slice(b,b+i)===t)){c.push(l.slice(d,b)),d=b+i;continue}if(y==="/"){h=b;continue}}y==="["?u++:y==="]"&&u--}const p=c.length===0?l:l.substring(d),f=p.startsWith(fS),v=f?p.substring(1):p,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:g}};return r?l=>r({className:l,parseClassName:o}):o},kA=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},NA=e=>({cache:jA(e.cacheSize),parseClassName:SA(e),...yA(e)}),CA=/\s+/,EA=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(CA);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=r(u);let v=!!f,g=n(v?p.substring(0,f):p);if(!g){if(!v){l=u+(l.length>0?" "+l:l);continue}if(g=n(p),!g){l=u+(l.length>0?" "+l:l);continue}v=!1}const b=kA(d).join(":"),y=h?b+fS:b,x=y+g;if(i.includes(x))continue;i.push(x);const w=s(g,v);for(let _=0;_<w.length;++_){const S=w[_];i.push(y+S)}l=u+(l.length>0?" "+l:l)}return l};function RA(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=mS(t))&&(n&&(n+=" "),n+=r);return n}const mS=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=mS(e[n]))&&(r&&(r+=" "),r+=t);return r};function PA(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((d,h)=>h(d),e());return r=NA(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=EA(c,r);return s(c,d),d}return function(){return i(RA.apply(null,arguments))}}const gt=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},pS=/^\[(?:([a-z-]+):)?(.+)\]$/i,TA=/^\d+\/\d+$/,AA=new Set(["px","full","screen"]),OA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,IA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,DA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,LA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gs=e=>Ro(e)||AA.has(e)||TA.test(e),Qs=e=>pl(e,"length",qA),Ro=e=>!!e&&!Number.isNaN(Number(e)),tm=e=>pl(e,"number",Ro),Il=e=>!!e&&Number.isInteger(Number(e)),$A=e=>e.endsWith("%")&&Ro(e.slice(0,-1)),Oe=e=>pS.test(e),Ys=e=>OA.test(e),FA=new Set(["length","size","percentage"]),UA=e=>pl(e,FA,gS),zA=e=>pl(e,"position",gS),VA=new Set(["image","url"]),BA=e=>pl(e,VA,KA),WA=e=>pl(e,"",HA),Ml=()=>!0,pl=(e,t,r)=>{const n=pS.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},qA=e=>IA.test(e)&&!MA.test(e),gS=()=>!1,HA=e=>DA.test(e),KA=e=>LA.test(e),GA=()=>{const e=gt("colors"),t=gt("spacing"),r=gt("blur"),n=gt("brightness"),s=gt("borderColor"),i=gt("borderRadius"),o=gt("borderSpacing"),l=gt("borderWidth"),c=gt("contrast"),u=gt("grayscale"),d=gt("hueRotate"),h=gt("invert"),p=gt("gap"),f=gt("gradientColorStops"),v=gt("gradientColorStopPositions"),g=gt("inset"),b=gt("margin"),y=gt("opacity"),x=gt("padding"),w=gt("saturate"),_=gt("scale"),S=gt("sepia"),j=gt("skew"),k=gt("space"),P=gt("translate"),A=()=>["auto","contain","none"],M=()=>["auto","hidden","clip","visible","scroll"],W=()=>["auto",Oe,t],L=()=>[Oe,t],z=()=>["",gs,Qs],O=()=>["auto",Ro,Oe],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",Oe],R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[Ro,Oe];return{cacheSize:500,separator:":",theme:{colors:[Ml],spacing:[gs,Qs],blur:["none","",Ys,Oe],brightness:le(),borderColor:[e],borderRadius:["none","","full",Ys,Oe],borderSpacing:L(),borderWidth:z(),contrast:le(),grayscale:N(),hueRotate:le(),invert:N(),gap:L(),gradientColorStops:[e],gradientColorStopPositions:[$A,Qs],inset:W(),margin:W(),opacity:le(),padding:L(),saturate:le(),scale:le(),sepia:N(),skew:le(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Oe]}],container:["container"],columns:[{columns:[Ys]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Oe]}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Oe]}],basis:[{basis:W()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Oe]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",Il,Oe]}],"grid-cols":[{"grid-cols":[Ml]}],"col-start-end":[{col:["auto",{span:["full",Il,Oe]},Oe]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[Ml]}],"row-start-end":[{row:["auto",{span:[Il,Oe]},Oe]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Oe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Oe,t]}],"min-w":[{"min-w":[Oe,t,"min","max","fit"]}],"max-w":[{"max-w":[Oe,t,"none","full","min","max","fit","prose",{screen:[Ys]},Ys]}],h:[{h:[Oe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Oe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Oe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ys,Qs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tm]}],"font-family":[{font:[Ml]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Oe]}],"line-clamp":[{"line-clamp":["none",Ro,tm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",gs,Oe]}],"list-image":[{"list-image":["none",Oe]}],"list-style-type":[{list:["none","disc","decimal",Oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",gs,Qs]}],"underline-offset":[{"underline-offset":["auto",gs,Oe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),zA]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",UA]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BA]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[gs,Oe]}],"outline-w":[{outline:[gs,Qs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[gs,Qs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ys,WA]}],"shadow-color":[{shadow:[Ml]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ys,Oe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Oe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Oe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[Il,Oe]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Oe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Oe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Oe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[gs,Qs,tm]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},QA=PA(GA);function H(...e){return QA(dS(e))}function ow(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Us(...e){return t=>{let r=!1;const n=e.map(s=>{const i=ow(s,t);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():ow(e[s],null)}}}}function We(...e){return m.useCallback(Us(...e),e)}var YA=Symbol.for("react.lazy"),Qd=wh[" use ".trim().toString()];function JA(e){return typeof e=="object"&&e!==null&&"then"in e}function vS(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===YA&&"_payload"in e&&JA(e._payload)}function nu(e){const t=XA(e),r=m.forwardRef((n,s)=>{let{children:i,...o}=n;vS(i)&&typeof Qd=="function"&&(i=Qd(i._payload));const l=m.Children.toArray(i),c=l.find(tO);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}var ZA=nu("Slot");function XA(e){const t=m.forwardRef((r,n)=>{let{children:s,...i}=r;if(vS(s)&&typeof Qd=="function"&&(s=Qd(s._payload)),m.isValidElement(s)){const o=nO(s),l=rO(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eO=Symbol("radix.slottable");function tO(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eO}function rO(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function nO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const lw=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cw=dS,Dv=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return cw(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],h=i==null?void 0:i[u];if(d===null)return null;const p=lw(d)||lw(h);return s[u][p]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[g,b]=v;return Array.isArray(b)?b.includes({...i,...l}[g]):{...i,...l}[g]===b})?[...u,h,p]:u},[]);return cw(e,o,c,r==null?void 0:r.class,r==null?void 0:r.className)},sO=Dv("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:opacity-90 hover:shadow-lg",destructive:"bg-destructive text-destructive-foreground shadow hover:opacity-90",outline:"border border-border bg-transparent hover:bg-secondary hover:text-secondary-foreground",secondary:"bg-secondary text-secondary-foreground hover:opacity-90",ghost:"hover:bg-secondary hover:text-secondary-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),T=m.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},i)=>{const o=n?ZA:"button";return a.jsx(o,{className:H(sO({variant:t,size:r,className:e})),ref:i,...s})});T.displayName="Button";function iO(e){const t=aO(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(lO);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function aO(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=uO(s),l=cO(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oO=Symbol("radix.slottable");function lO(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oO}function cO(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function uO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var dO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ee=dO.reduce((e,t)=>{const r=iO(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function yS(e,t){e&&hl.flushSync(()=>e.dispatchEvent(t))}var Ft=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{};function hO(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var rn=e=>{const{present:t,children:r}=e,n=fO(t),s=typeof r=="function"?r({present:n.isPresent}):m.Children.only(r),i=We(n.ref,mO(s));return typeof r=="function"||n.isPresent?m.cloneElement(s,{ref:i}):null};rn.displayName="Presence";function fO(e){const[t,r]=m.useState(),n=m.useRef(null),s=m.useRef(e),i=m.useRef("none"),o=e?"mounted":"unmounted",[l,c]=hO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Lu(n.current);i.current=l==="mounted"?u:"none"},[l]),Ft(()=>{const u=n.current,d=s.current;if(d!==e){const p=i.current,f=Lu(u);e?c("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ft(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const g=Lu(n.current).includes(CSS.escape(f.animationName));if(f.target===t&&g&&(c("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=f=>{f.target===t&&(i.current=Lu(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:m.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Lu(e){return(e==null?void 0:e.animationName)||"none"}function mO(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function pO(e,t){const r=m.createContext(t),n=i=>{const{children:o,...l}=i,c=m.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function s(i){const o=m.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[n,s]}function us(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o),c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:b,children:f})};u.displayName=i+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,gO(s,...t)]}function gO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function er(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var vO=m.createContext(void 0);function su(e){const t=m.useContext(vO);return e||t||"ltr"}function Qp(e,[t,r]){return Math.min(r,Math.max(t,e))}function ce(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function yO(e,t){return m.useReducer((r,n)=>t[r][n]??r,e)}var Lv="ScrollArea",[xS]=us(Lv),[xO,mn]=xS(Lv),wS=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[l,c]=m.useState(null),[u,d]=m.useState(null),[h,p]=m.useState(null),[f,v]=m.useState(null),[g,b]=m.useState(null),[y,x]=m.useState(0),[w,_]=m.useState(0),[S,j]=m.useState(!1),[k,P]=m.useState(!1),A=We(t,W=>c(W)),M=su(s);return a.jsx(xO,{scope:r,type:n,dir:M,scrollHideDelay:i,scrollArea:l,viewport:u,onViewportChange:d,content:h,onContentChange:p,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:j,scrollbarY:g,onScrollbarYChange:b,scrollbarYEnabled:k,onScrollbarYEnabledChange:P,onCornerWidthChange:x,onCornerHeightChange:_,children:a.jsx(Ee.div,{dir:M,...o,ref:A,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});wS.displayName=Lv;var bS="ScrollAreaViewport",_S=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=mn(bS,r),l=m.useRef(null),c=We(t,l,o.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Ee.div,{"data-radix-scroll-area-viewport":"",...i,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});_S.displayName=bS;var ds="ScrollAreaScrollbar",$v=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mn(ds,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,l=e.orientation==="horizontal";return m.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),s.type==="hover"?a.jsx(wO,{...n,ref:t,forceMount:r}):s.type==="scroll"?a.jsx(bO,{...n,ref:t,forceMount:r}):s.type==="auto"?a.jsx(jS,{...n,ref:t,forceMount:r}):s.type==="always"?a.jsx(Fv,{...n,ref:t}):null});$v.displayName=ds;var wO=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mn(ds,e.__scopeScrollArea),[i,o]=m.useState(!1);return m.useEffect(()=>{const l=s.scrollArea;let c=0;if(l){const u=()=>{window.clearTimeout(c),o(!0)},d=()=>{c=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return l.addEventListener("pointerenter",u),l.addEventListener("pointerleave",d),()=>{window.clearTimeout(c),l.removeEventListener("pointerenter",u),l.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(rn,{present:r||i,children:a.jsx(jS,{"data-state":i?"visible":"hidden",...n,ref:t})})}),bO=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=mn(ds,e.__scopeScrollArea),i=e.orientation==="horizontal",o=Qh(()=>c("SCROLL_END"),100),[l,c]=yO("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return m.useEffect(()=>{if(l==="idle"){const u=window.setTimeout(()=>c("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(u)}},[l,s.scrollHideDelay,c]),m.useEffect(()=>{const u=s.viewport,d=i?"scrollLeft":"scrollTop";if(u){let h=u[d];const p=()=>{const f=u[d];h!==f&&(c("SCROLL"),o()),h=f};return u.addEventListener("scroll",p),()=>u.removeEventListener("scroll",p)}},[s.viewport,i,c,o]),a.jsx(rn,{present:r||l!=="hidden",children:a.jsx(Fv,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ce(e.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:ce(e.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),jS=m.forwardRef((e,t)=>{const r=mn(ds,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=m.useState(!1),l=e.orientation==="horizontal",c=Qh(()=>{if(r.viewport){const u=r.viewport.offsetWidth<r.viewport.scrollWidth,d=r.viewport.offsetHeight<r.viewport.scrollHeight;o(l?u:d)}},10);return el(r.viewport,c),el(r.content,c),a.jsx(rn,{present:n||i,children:a.jsx(Fv,{"data-state":i?"visible":"hidden",...s,ref:t})})}),Fv=m.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,s=mn(ds,e.__scopeScrollArea),i=m.useRef(null),o=m.useRef(0),[l,c]=m.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=ES(l.viewport,l.content),d={...n,sizes:l,onSizesChange:c,hasThumb:u>0&&u<1,onThumbChange:p=>i.current=p,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:p=>o.current=p};function h(p,f){return CO(p,o.current,l,f)}return r==="horizontal"?a.jsx(_O,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollLeft,f=uw(p,l,s.dir);i.current.style.transform=`translate3d(${f}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):r==="vertical"?a.jsx(jO,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const p=s.viewport.scrollTop,f=uw(p,l);i.current.style.transform=`translate3d(0, ${f}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),_O=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=mn(ds,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=We(t,c,i.onScrollbarXChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(kS,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Gh(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),PS(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:Jd(o.paddingLeft),paddingEnd:Jd(o.paddingRight)}})}})}),jO=m.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...s}=e,i=mn(ds,e.__scopeScrollArea),[o,l]=m.useState(),c=m.useRef(null),u=We(t,c,i.onScrollbarYChange);return m.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),a.jsx(kS,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Gh(r)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(i.viewport){const p=i.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),PS(p,h)&&d.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:Jd(o.paddingTop),paddingEnd:Jd(o.paddingBottom)}})}})}),[SO,SS]=xS(ds),kS=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:c,onDragScroll:u,onWheelScroll:d,onResize:h,...p}=e,f=mn(ds,r),[v,g]=m.useState(null),b=We(t,A=>g(A)),y=m.useRef(null),x=m.useRef(""),w=f.viewport,_=n.content-n.viewport,S=er(d),j=er(c),k=Qh(h,10);function P(A){if(y.current){const M=A.clientX-y.current.left,W=A.clientY-y.current.top;u({x:M,y:W})}}return m.useEffect(()=>{const A=M=>{const W=M.target;(v==null?void 0:v.contains(W))&&S(M,_)};return document.addEventListener("wheel",A,{passive:!1}),()=>document.removeEventListener("wheel",A,{passive:!1})},[w,v,_,S]),m.useEffect(j,[n,j]),el(v,k),el(f.content,k),a.jsx(SO,{scope:r,scrollbar:v,hasThumb:s,onThumbChange:er(i),onThumbPointerUp:er(o),onThumbPositionChange:j,onThumbPointerDown:er(l),children:a.jsx(Ee.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:ce(e.onPointerDown,A=>{A.button===0&&(A.target.setPointerCapture(A.pointerId),y.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),P(A))}),onPointerMove:ce(e.onPointerMove,P),onPointerUp:ce(e.onPointerUp,A=>{const M=A.target;M.hasPointerCapture(A.pointerId)&&M.releasePointerCapture(A.pointerId),document.body.style.webkitUserSelect=x.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),Yd="ScrollAreaThumb",NS=m.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=SS(Yd,e.__scopeScrollArea);return a.jsx(rn,{present:r||s.hasThumb,children:a.jsx(kO,{ref:t,...n})})}),kO=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...s}=e,i=mn(Yd,r),o=SS(Yd,r),{onThumbPositionChange:l}=o,c=We(t,h=>o.onThumbChange(h)),u=m.useRef(void 0),d=Qh(()=>{u.current&&(u.current(),u.current=void 0)},100);return m.useEffect(()=>{const h=i.viewport;if(h){const p=()=>{if(d(),!u.current){const f=EO(h,l);u.current=f,l()}};return l(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[i.viewport,d,l]),a.jsx(Ee.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ce(e.onPointerDownCapture,h=>{const f=h.target.getBoundingClientRect(),v=h.clientX-f.left,g=h.clientY-f.top;o.onThumbPointerDown({x:v,y:g})}),onPointerUp:ce(e.onPointerUp,o.onThumbPointerUp)})});NS.displayName=Yd;var Uv="ScrollAreaCorner",CS=m.forwardRef((e,t)=>{const r=mn(Uv,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?a.jsx(NO,{...e,ref:t}):null});CS.displayName=Uv;var NO=m.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,s=mn(Uv,r),[i,o]=m.useState(0),[l,c]=m.useState(0),u=!!(i&&l);return el(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),c(d)}),el(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),o(d)}),u?a.jsx(Ee.div,{...n,ref:t,style:{width:i,height:l,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Jd(e){return e?parseInt(e,10):0}function ES(e,t){const r=e/t;return isNaN(r)?0:r}function Gh(e){const t=ES(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function CO(e,t,r,n="ltr"){const s=Gh(r),i=s/2,o=t||i,l=s-o,c=r.scrollbar.paddingStart+o,u=r.scrollbar.size-r.scrollbar.paddingEnd-l,d=r.content-r.viewport,h=n==="ltr"?[0,d]:[d*-1,0];return RS([c,u],h)(e)}function uw(e,t,r="ltr"){const n=Gh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,l=i-n,c=r==="ltr"?[0,o]:[o*-1,0],u=Qp(e,c);return RS([0,o],[0,l])(u)}function RS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function PS(e,t){return e>0&&e<t}var EO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return function s(){const i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,l=r.top!==i.top;(o||l)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function Qh(e,t){const r=er(e),n=m.useRef(0);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),m.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function el(e,t){const r=er(t);Ft(()=>{let n=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(n),s.unobserve(e)}}},[e,r])}var TS=wS,RO=_S,PO=CS;const fr=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(TS,{ref:n,className:H("relative overflow-hidden",e),...r,children:[a.jsx(RO,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(AS,{}),a.jsx(PO,{})]}));fr.displayName=TS.displayName;const AS=m.forwardRef(({className:e,orientation:t="vertical",...r},n)=>a.jsx($v,{ref:n,orientation:t,className:H("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:a.jsx(NS,{className:"relative flex-1 rounded-full bg-border"})}));AS.displayName=$v.displayName;var TO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],AO=TO.reduce((e,t)=>{const r=nu(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),OO="Separator",dw="horizontal",IO=["horizontal","vertical"],OS=m.forwardRef((e,t)=>{const{decorative:r,orientation:n=dw,...s}=e,i=MO(n)?n:dw,l=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(AO.div,{"data-orientation":i,...l,...s,ref:t})});OS.displayName=OO;function MO(e){return IO.includes(e)}var IS=OS;const zv=m.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>a.jsx(IS,{ref:s,decorative:r,orientation:t,className:H("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));zv.displayName=IS.displayName;const DO=[{to:"/dashboard",label:"Dashboard",icon:aA},{to:"/profile",label:"Profile",icon:Hh},{to:"/chat",label:"Chat Session",icon:Wh},{to:"/channels",label:"Channels & Adapters",icon:dA},{to:"/skills",label:"Skills Library",icon:Rv},{to:"/skill-editor",label:"Skill Editor",icon:Ra},{to:"/nodes",label:"Nodes",icon:Kd},{to:"/cron",label:"Cron Jobs",icon:Uh},{to:"/webhooks",label:"Webhooks & Hooks",icon:Kp},{to:"/browser",label:"Browser Automation",icon:Ov},{to:"/voice",label:"Voice & Media",icon:Wp},{to:"/settings",label:"Settings",icon:Eo},{to:"/security",label:"Security Audit",icon:Mi},{to:"/logs",label:"Logs & Tracing",icon:Ra},{to:"/admin",label:"Admin",icon:Mi}];function LO(){const[e,t]=m.useState(!1);return a.jsxs("aside",{className:H("flex flex-col border-r border-border bg-card transition-[width] duration-200",e?"w-[72px]":"w-56"),children:[a.jsxs("div",{className:"flex h-14 items-center justify-between border-b border-border px-3",children:[!e&&a.jsx("span",{className:"truncate text-sm font-semibold",children:"Clawgate"}),a.jsx(T,{variant:"ghost",size:"icon",onClick:()=>t(r=>!r),"aria-label":e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Ii,{className:"h-4 w-4"}):a.jsx(Qj,{className:"h-4 w-4"})})]}),a.jsx(fr,{className:"flex-1 py-2",children:a.jsx("nav",{className:"flex flex-col gap-0.5 px-2",children:DO.map(({to:r,label:n,icon:s})=>a.jsxs(CP,{to:r,className:({isActive:i})=>H("flex items-center gap-3 rounded-md px-3 py-2 text-sm font-medium transition-colors",i?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground",e&&"justify-center px-2"),children:[a.jsx(s,{className:"h-5 w-5 shrink-0"}),!e&&a.jsx("span",{className:"truncate",children:n})]},r))})}),a.jsx(zv,{})]})}const Ne=m.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));Ne.displayName="Input";function $O(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:b,children:f})};u.displayName=i+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,FO(s,...t)]}function FO(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var UO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vv=UO.reduce((e,t)=>{const r=nu(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),MS={exports:{}},DS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tl=m;function zO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VO=typeof Object.is=="function"?Object.is:zO,BO=tl.useState,WO=tl.useEffect,qO=tl.useLayoutEffect,HO=tl.useDebugValue;function KO(e,t){var r=t(),n=BO({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return qO(function(){s.value=r,s.getSnapshot=t,rm(s)&&i({inst:s})},[e,r,t]),WO(function(){return rm(s)&&i({inst:s}),e(function(){rm(s)&&i({inst:s})})},[e]),HO(r),r}function rm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!VO(e,r)}catch{return!0}}function GO(e,t){return t()}var QO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?GO:KO;DS.useSyncExternalStore=tl.useSyncExternalStore!==void 0?tl.useSyncExternalStore:QO;MS.exports=DS;var YO=MS.exports;function JO(){return YO.useSyncExternalStore(ZO,()=>!0,()=>!1)}function ZO(){return()=>{}}var Bv="Avatar",[XO]=$O(Bv),[e4,LS]=XO(Bv),$S=m.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,i]=m.useState("idle");return a.jsx(e4,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(Vv.span,{...n,ref:t})})});$S.displayName=Bv;var FS="AvatarImage",US=m.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=LS(FS,r),l=t4(n,i),c=er(u=>{s(u),o.onImageLoadingStatusChange(u)});return Ft(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(Vv.img,{...i,ref:t,src:n}):null});US.displayName=FS;var zS="AvatarFallback",VS=m.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,i=LS(zS,r),[o,l]=m.useState(n===void 0);return m.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&i.imageLoadingStatus!=="loaded"?a.jsx(Vv.span,{...s,ref:t}):null});VS.displayName=zS;function hw(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function t4(e,{referrerPolicy:t,crossOrigin:r}){const n=JO(),s=m.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,l]=m.useState(()=>hw(i,e));return Ft(()=>{l(hw(i,e))},[i,e]),Ft(()=>{const c=h=>()=>{l(h)};if(!i)return;const u=c("loaded"),d=c("error");return i.addEventListener("load",u),i.addEventListener("error",d),t&&(i.referrerPolicy=t),typeof r=="string"&&(i.crossOrigin=r),()=>{i.removeEventListener("load",u),i.removeEventListener("error",d)}},[i,r,t]),o}var BS=$S,WS=US,qS=VS;const Yh=m.forwardRef(({className:e,...t},r)=>a.jsx(BS,{ref:r,className:H("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Yh.displayName=BS.displayName;const Wv=m.forwardRef(({className:e,...t},r)=>a.jsx(WS,{ref:r,className:H("aspect-square h-full w-full",e),...t}));Wv.displayName=WS.displayName;const Jh=m.forwardRef(({className:e,...t},r)=>a.jsx(qS,{ref:r,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted text-sm font-medium",e),...t}));Jh.displayName=qS.displayName;var r4=wh[" useInsertionEffect ".trim().toString()]||Ft;function Ta({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,i,o]=n4({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=m.useCallback(d=>{var h;if(l){const p=s4(d)?d(e):d;p!==e&&((h=o.current)==null||h.call(o,p))}else i(d)},[l,e,i,o]);return[c,u]}function n4({defaultProp:e,onChange:t}){const[r,n]=m.useState(e),s=m.useRef(r),i=m.useRef(t);return r4(()=>{i.current=t},[t]),m.useEffect(()=>{var o;s.current!==r&&((o=i.current)==null||o.call(i,r),s.current=r)},[r,s]),[r,n,i]}function s4(e){return typeof e=="function"}function fw(e){const t=i4(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(o4);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function i4(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=c4(s),l=l4(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a4=Symbol("radix.slottable");function o4(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a4}function l4(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function c4(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qv(e){const t=e+"CollectionProvider",[r,n]=us(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:b,children:y}=g,x=V.useRef(null),w=V.useRef(new Map).current;return a.jsx(s,{scope:b,itemMap:w,collectionRef:x,children:y})};o.displayName=t;const l=e+"CollectionSlot",c=fw(l),u=V.forwardRef((g,b)=>{const{scope:y,children:x}=g,w=i(l,y),_=We(b,w.collectionRef);return a.jsx(c,{ref:_,children:x})});u.displayName=l;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=fw(d),f=V.forwardRef((g,b)=>{const{scope:y,children:x,...w}=g,_=V.useRef(null),S=We(b,_),j=i(d,y);return V.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),a.jsx(p,{[h]:"",ref:S,children:x})});f.displayName=d;function v(g){const b=i(e+"CollectionConsumer",g);return V.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((j,k)=>w.indexOf(j.ref.current)-w.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:u,ItemSlot:f},v,n]}function u4(e,t=globalThis==null?void 0:globalThis.document){const r=er(e);m.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var d4="DismissableLayer",Yp="dismissableLayer.update",h4="dismissableLayer.pointerDownOutside",f4="dismissableLayer.focusOutside",mw,HS=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zh=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=e,u=m.useContext(HS),[d,h]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=We(t,k=>h(k)),g=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(b),x=d?g.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=x>=y,S=g4(k=>{const P=k.target,A=[...u.branches].some(M=>M.contains(P));!_||A||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},p),j=v4(k=>{const P=k.target;[...u.branches].some(M=>M.contains(P))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},p);return u4(k=>{x===u.layers.size-1&&(n==null||n(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},p),m.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(mw=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),pw(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=mw)}},[d,p,r,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),pw())},[d,u]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(Yp,k),()=>document.removeEventListener(Yp,k)},[]),a.jsx(Ee.div,{...c,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:ce(e.onFocusCapture,j.onFocusCapture),onBlurCapture:ce(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:ce(e.onPointerDownCapture,S.onPointerDownCapture)})});Zh.displayName=d4;var m4="DismissableLayerBranch",p4=m.forwardRef((e,t)=>{const r=m.useContext(HS),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),a.jsx(Ee.div,{...e,ref:s})});p4.displayName=m4;function g4(e,t=globalThis==null?void 0:globalThis.document){const r=er(e),n=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const i=l=>{if(l.target&&!n.current){let c=function(){KS(h4,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function v4(e,t=globalThis==null?void 0:globalThis.document){const r=er(e),n=m.useRef(!1);return m.useEffect(()=>{const s=i=>{i.target&&!n.current&&KS(f4,r,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function pw(){const e=new CustomEvent(Yp);document.dispatchEvent(e)}function KS(e,t,r,{discrete:n}){const s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?yS(s,i):s.dispatchEvent(i)}var nm=0;function Hv(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??gw()),document.body.insertAdjacentElement("beforeend",e[1]??gw()),nm++,()=>{nm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),nm--}},[])}function gw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var sm="focusScope.autoFocusOnMount",im="focusScope.autoFocusOnUnmount",vw={bubbles:!1,cancelable:!0},y4="FocusScope",Xh=m.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[l,c]=m.useState(null),u=er(s),d=er(i),h=m.useRef(null),p=We(t,g=>c(g)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(n){let g=function(w){if(f.paused||!l)return;const _=w.target;l.contains(_)?h.current=_:Xs(h.current,{select:!0})},b=function(w){if(f.paused||!l)return;const _=w.relatedTarget;_!==null&&(l.contains(_)||Xs(h.current,{select:!0}))},y=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Xs(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",b);const x=new MutationObserver(y);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),x.disconnect()}}},[n,l,f.paused]),m.useEffect(()=>{if(l){xw.add(f);const g=document.activeElement;if(!l.contains(g)){const y=new CustomEvent(sm,vw);l.addEventListener(sm,u),l.dispatchEvent(y),y.defaultPrevented||(x4(S4(GS(l)),{select:!0}),document.activeElement===g&&Xs(l))}return()=>{l.removeEventListener(sm,u),setTimeout(()=>{const y=new CustomEvent(im,vw);l.addEventListener(im,d),l.dispatchEvent(y),y.defaultPrevented||Xs(g??document.body,{select:!0}),l.removeEventListener(im,d),xw.remove(f)},0)}}},[l,u,d,f]);const v=m.useCallback(g=>{if(!r&&!n||f.paused)return;const b=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(b&&y){const x=g.currentTarget,[w,_]=w4(x);w&&_?!g.shiftKey&&y===_?(g.preventDefault(),r&&Xs(w,{select:!0})):g.shiftKey&&y===w&&(g.preventDefault(),r&&Xs(_,{select:!0})):y===x&&g.preventDefault()}},[r,n,f.paused]);return a.jsx(Ee.div,{tabIndex:-1,...o,ref:p,onKeyDown:v})});Xh.displayName=y4;function x4(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Xs(n,{select:t}),document.activeElement!==r)return}function w4(e){const t=GS(e),r=yw(t,e),n=yw(t.reverse(),e);return[r,n]}function GS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function yw(e,t){for(const r of e)if(!b4(r,{upTo:t}))return r}function b4(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function _4(e){return e instanceof HTMLInputElement&&"select"in e}function Xs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&_4(e)&&t&&e.select()}}var xw=j4();function j4(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ww(e,t),e.unshift(t)},remove(t){var r;e=ww(e,t),(r=e[0])==null||r.resume()}}}function ww(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function S4(e){return e.filter(t=>t.tagName!=="A")}var k4=wh[" useId ".trim().toString()]||(()=>{}),N4=0;function as(e){const[t,r]=m.useState(k4());return Ft(()=>{r(n=>n??String(N4++))},[e]),t?`radix-${t}`:""}const C4=["top","right","bottom","left"],Di=Math.min,qr=Math.max,Zd=Math.round,$u=Math.floor,os=e=>({x:e,y:e}),E4={left:"right",right:"left",bottom:"top",top:"bottom"},R4={start:"end",end:"start"};function Jp(e,t,r){return qr(e,Di(t,r))}function Ms(e,t){return typeof e=="function"?e(t):e}function Ds(e){return e.split("-")[0]}function gl(e){return e.split("-")[1]}function Kv(e){return e==="x"?"y":"x"}function Gv(e){return e==="y"?"height":"width"}const P4=new Set(["top","bottom"]);function rs(e){return P4.has(Ds(e))?"y":"x"}function Qv(e){return Kv(rs(e))}function T4(e,t,r){r===void 0&&(r=!1);const n=gl(e),s=Qv(e),i=Gv(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(o=Xd(o)),[o,Xd(o)]}function A4(e){const t=Xd(e);return[Zp(e),t,Zp(t)]}function Zp(e){return e.replace(/start|end/g,t=>R4[t])}const bw=["left","right"],_w=["right","left"],O4=["top","bottom"],I4=["bottom","top"];function M4(e,t,r){switch(e){case"top":case"bottom":return r?t?_w:bw:t?bw:_w;case"left":case"right":return t?O4:I4;default:return[]}}function D4(e,t,r,n){const s=gl(e);let i=M4(Ds(e),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),t&&(i=i.concat(i.map(Zp)))),i}function Xd(e){return e.replace(/left|right|bottom|top/g,t=>E4[t])}function L4(e){return{top:0,right:0,bottom:0,left:0,...e}}function QS(e){return typeof e!="number"?L4(e):{top:e,right:e,bottom:e,left:e}}function eh(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function jw(e,t,r){let{reference:n,floating:s}=e;const i=rs(t),o=Qv(t),l=Gv(o),c=Ds(t),u=i==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let f;switch(c){case"top":f={x:d,y:n.y-s.height};break;case"bottom":f={x:d,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:h};break;case"left":f={x:n.x-s.width,y:h};break;default:f={x:n.x,y:n.y}}switch(gl(t)){case"start":f[o]-=p*(r&&u?-1:1);break;case"end":f[o]+=p*(r&&u?-1:1);break}return f}async function $4(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Ms(t,e),v=QS(f),b=l[p?h==="floating"?"reference":"floating":h],y=eh(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(b)))==null||r?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),x=h==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,w=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),_=await(i.isElement==null?void 0:i.isElement(w))?await(i.getScale==null?void 0:i.getScale(w))||{x:1,y:1}:{x:1,y:1},S=eh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:w,strategy:c}):x);return{top:(y.top-S.top+v.top)/_.y,bottom:(S.bottom-y.bottom+v.bottom)/_.y,left:(y.left-S.left+v.left)/_.x,right:(S.right-y.right+v.right)/_.x}}const F4=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=jw(u,n,c),p=n,f={},v=0;for(let b=0;b<l.length;b++){var g;const{name:y,fn:x}=l[b],{x:w,y:_,data:S,reset:j}=await x({x:d,y:h,initialPlacement:n,placement:p,strategy:s,middlewareData:f,rects:u,platform:{...o,detectOverflow:(g=o.detectOverflow)!=null?g:$4},elements:{reference:e,floating:t}});d=w??d,h=_??h,f={...f,[y]:{...f[y],...S}},j&&v<=50&&(v++,typeof j=="object"&&(j.placement&&(p=j.placement),j.rects&&(u=j.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:s}):j.rects),{x:d,y:h}=jw(u,p,c)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}},U4=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:d=0}=Ms(e,t)||{};if(u==null)return{};const h=QS(d),p={x:r,y:n},f=Qv(s),v=Gv(f),g=await o.getDimensions(u),b=f==="y",y=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=i.reference[v]+i.reference[f]-p[f]-i.floating[v],S=p[f]-i.reference[f],j=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let k=j?j[w]:0;(!k||!await(o.isElement==null?void 0:o.isElement(j)))&&(k=l.floating[w]||i.floating[v]);const P=_/2-S/2,A=k/2-g[v]/2-1,M=Di(h[y],A),W=Di(h[x],A),L=M,z=k-g[v]-W,O=k/2-g[v]/2+P,J=Jp(L,O,z),Y=!c.arrow&&gl(s)!=null&&O!==J&&i.reference[v]/2-(O<L?M:W)-g[v]/2<0,re=Y?O<L?O-L:O-z:0;return{[f]:p[f]+re,data:{[f]:J,centerOffset:O-J-re,...Y&&{alignmentOffset:re}},reset:Y}}}),z4=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=Ms(e,t);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const y=Ds(s),x=rs(l),w=Ds(l)===l,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),S=p||(w||!g?[Xd(l)]:A4(l)),j=v!=="none";!p&&j&&S.push(...D4(l,g,v,_));const k=[l,...S],P=await c.detectOverflow(t,b),A=[];let M=((n=i.flip)==null?void 0:n.overflows)||[];if(d&&A.push(P[y]),h){const O=T4(s,o,_);A.push(P[O[0]],P[O[1]])}if(M=[...M,{placement:s,overflows:A}],!A.every(O=>O<=0)){var W,L;const O=(((W=i.flip)==null?void 0:W.index)||0)+1,J=k[O];if(J&&(!(h==="alignment"?x!==rs(J):!1)||M.every(D=>rs(D.placement)===x?D.overflows[0]>0:!0)))return{data:{index:O,overflows:M},reset:{placement:J}};let Y=(L=M.filter(re=>re.overflows[0]<=0).sort((re,D)=>re.overflows[1]-D.overflows[1])[0])==null?void 0:L.placement;if(!Y)switch(f){case"bestFit":{var z;const re=(z=M.filter(D=>{if(j){const N=rs(D.placement);return N===x||N==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(N=>N>0).reduce((N,R)=>N+R,0)]).sort((D,N)=>D[1]-N[1])[0])==null?void 0:z[0];re&&(Y=re);break}case"initialPlacement":Y=l;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function Sw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kw(e){return C4.some(t=>e[t]>=0)}const V4=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r,platform:n}=t,{strategy:s="referenceHidden",...i}=Ms(e,t);switch(s){case"referenceHidden":{const o=await n.detectOverflow(t,{...i,elementContext:"reference"}),l=Sw(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:kw(l)}}}case"escaped":{const o=await n.detectOverflow(t,{...i,altBoundary:!0}),l=Sw(o,r.floating);return{data:{escapedOffsets:l,escaped:kw(l)}}}default:return{}}}}},YS=new Set(["left","top"]);async function B4(e,t){const{placement:r,platform:n,elements:s}=e,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Ds(r),l=gl(r),c=rs(r)==="y",u=YS.has(o)?-1:1,d=i&&c?-1:1,h=Ms(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof v=="number"&&(f=l==="end"?v*-1:v),c?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const W4=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=t,c=await B4(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},q4=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s,platform:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x,y:w}=y;return{x,y:w}}},...u}=Ms(e,t),d={x:r,y:n},h=await i.detectOverflow(t,u),p=rs(Ds(s)),f=Kv(p);let v=d[f],g=d[p];if(o){const y=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=v+h[y],_=v-h[x];v=Jp(w,v,_)}if(l){const y=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=g+h[y],_=g-h[x];g=Jp(w,g,_)}const b=c.fn({...t,[f]:v,[p]:g});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[f]:o,[p]:l}}}}}},H4=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:i,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ms(e,t),d={x:r,y:n},h=rs(s),p=Kv(h);let f=d[p],v=d[h];const g=Ms(l,t),b=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const w=p==="y"?"height":"width",_=i.reference[p]-i.floating[w]+b.mainAxis,S=i.reference[p]+i.reference[w]-b.mainAxis;f<_?f=_:f>S&&(f=S)}if(u){var y,x;const w=p==="y"?"width":"height",_=YS.has(Ds(s)),S=i.reference[h]-i.floating[w]+(_&&((y=o.offset)==null?void 0:y[h])||0)+(_?0:b.crossAxis),j=i.reference[h]+i.reference[w]+(_?0:((x=o.offset)==null?void 0:x[h])||0)-(_?b.crossAxis:0);v<S?v=S:v>j&&(v=j)}return{[p]:f,[h]:v}}}},K4=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:i,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ms(e,t),d=await o.detectOverflow(t,u),h=Ds(s),p=gl(s),f=rs(s)==="y",{width:v,height:g}=i.floating;let b,y;h==="top"||h==="bottom"?(b=h,y=p===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(y=h,b=p==="end"?"top":"bottom");const x=g-d.top-d.bottom,w=v-d.left-d.right,_=Di(g-d[b],x),S=Di(v-d[y],w),j=!t.middlewareData.shift;let k=_,P=S;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(P=w),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(k=x),j&&!p){const M=qr(d.left,0),W=qr(d.right,0),L=qr(d.top,0),z=qr(d.bottom,0);f?P=v-2*(M!==0||W!==0?M+W:qr(d.left,d.right)):k=g-2*(L!==0||z!==0?L+z:qr(d.top,d.bottom))}await c({...t,availableWidth:P,availableHeight:k});const A=await o.getDimensions(l.floating);return v!==A.width||g!==A.height?{reset:{rects:!0}}:{}}}};function ef(){return typeof window<"u"}function vl(e){return JS(e)?(e.nodeName||"").toLowerCase():"#document"}function Yr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function hs(e){var t;return(t=(JS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function JS(e){return ef()?e instanceof Node||e instanceof Yr(e).Node:!1}function Fn(e){return ef()?e instanceof Element||e instanceof Yr(e).Element:!1}function cs(e){return ef()?e instanceof HTMLElement||e instanceof Yr(e).HTMLElement:!1}function Nw(e){return!ef()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yr(e).ShadowRoot}const G4=new Set(["inline","contents"]);function iu(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=Un(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!G4.has(s)}const Q4=new Set(["table","td","th"]);function Y4(e){return Q4.has(vl(e))}const J4=[":popover-open",":modal"];function tf(e){return J4.some(t=>{try{return e.matches(t)}catch{return!1}})}const Z4=["transform","translate","scale","rotate","perspective"],X4=["transform","translate","scale","rotate","perspective","filter"],eI=["paint","layout","strict","content"];function Yv(e){const t=Jv(),r=Fn(e)?Un(e):e;return Z4.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||X4.some(n=>(r.willChange||"").includes(n))||eI.some(n=>(r.contain||"").includes(n))}function tI(e){let t=Li(e);for(;cs(t)&&!rl(t);){if(Yv(t))return t;if(tf(t))return null;t=Li(t)}return null}function Jv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const rI=new Set(["html","body","#document"]);function rl(e){return rI.has(vl(e))}function Un(e){return Yr(e).getComputedStyle(e)}function rf(e){return Fn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Li(e){if(vl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Nw(e)&&e.host||hs(e);return Nw(t)?t.host:t}function ZS(e){const t=Li(e);return rl(t)?e.ownerDocument?e.ownerDocument.body:e.body:cs(t)&&iu(t)?t:ZS(t)}function Tc(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=ZS(e),i=s===((n=e.ownerDocument)==null?void 0:n.body),o=Yr(s);if(i){const l=Xp(o);return t.concat(o,o.visualViewport||[],iu(s)?s:[],l&&r?Tc(l):[])}return t.concat(s,Tc(s,[],r))}function Xp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function XS(e){const t=Un(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=cs(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,l=Zd(r)!==i||Zd(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function Zv(e){return Fn(e)?e:e.contextElement}function Po(e){const t=Zv(e);if(!cs(t))return os(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:i}=XS(t);let o=(i?Zd(r.width):r.width)/n,l=(i?Zd(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const nI=os(0);function ek(e){const t=Yr(e);return!Jv()||!t.visualViewport?nI:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function sI(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Yr(e)?!1:t}function Aa(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),i=Zv(e);let o=os(1);t&&(n?Fn(n)&&(o=Po(n)):o=Po(e));const l=sI(i,r,n)?ek(i):os(0);let c=(s.left+l.x)/o.x,u=(s.top+l.y)/o.y,d=s.width/o.x,h=s.height/o.y;if(i){const p=Yr(i),f=n&&Fn(n)?Yr(n):n;let v=p,g=Xp(v);for(;g&&n&&f!==v;){const b=Po(g),y=g.getBoundingClientRect(),x=Un(g),w=y.left+(g.clientLeft+parseFloat(x.paddingLeft))*b.x,_=y.top+(g.clientTop+parseFloat(x.paddingTop))*b.y;c*=b.x,u*=b.y,d*=b.x,h*=b.y,c+=w,u+=_,v=Yr(g),g=Xp(v)}}return eh({width:d,height:h,x:c,y:u})}function nf(e,t){const r=rf(e).scrollLeft;return t?t.left+r:Aa(hs(e)).left+r}function tk(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-nf(e,r),s=r.top+t.scrollTop;return{x:n,y:s}}function iI(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const i=s==="fixed",o=hs(n),l=t?tf(t.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},u=os(1);const d=os(0),h=cs(n);if((h||!h&&!i)&&((vl(n)!=="body"||iu(o))&&(c=rf(n)),cs(n))){const f=Aa(n);u=Po(n),d.x=f.x+n.clientLeft,d.y=f.y+n.clientTop}const p=o&&!h&&!i?tk(o,c):os(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+p.x,y:r.y*u.y-c.scrollTop*u.y+d.y+p.y}}function aI(e){return Array.from(e.getClientRects())}function oI(e){const t=hs(e),r=rf(e),n=e.ownerDocument.body,s=qr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),i=qr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+nf(e);const l=-r.scrollTop;return Un(n).direction==="rtl"&&(o+=qr(t.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const Cw=25;function lI(e,t){const r=Yr(e),n=hs(e),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=Jv();(!d||d&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const u=nf(n);if(u<=0){const d=n.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(n.clientWidth-h.clientWidth-f);v<=Cw&&(i-=v)}else u<=Cw&&(i+=u);return{width:i,height:o,x:l,y:c}}const cI=new Set(["absolute","fixed"]);function uI(e,t){const r=Aa(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,i=cs(e)?Po(e):os(1),o=e.clientWidth*i.x,l=e.clientHeight*i.y,c=s*i.x,u=n*i.y;return{width:o,height:l,x:c,y:u}}function Ew(e,t,r){let n;if(t==="viewport")n=lI(e,r);else if(t==="document")n=oI(hs(e));else if(Fn(t))n=uI(t,r);else{const s=ek(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return eh(n)}function rk(e,t){const r=Li(e);return r===t||!Fn(r)||rl(r)?!1:Un(r).position==="fixed"||rk(r,t)}function dI(e,t){const r=t.get(e);if(r)return r;let n=Tc(e,[],!1).filter(l=>Fn(l)&&vl(l)!=="body"),s=null;const i=Un(e).position==="fixed";let o=i?Li(e):e;for(;Fn(o)&&!rl(o);){const l=Un(o),c=Yv(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&cI.has(s.position)||iu(o)&&!c&&rk(e,o))?n=n.filter(d=>d!==o):s=l,o=Li(o)}return t.set(e,n),n}function hI(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const o=[...r==="clippingAncestors"?tf(t)?[]:dI(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=Ew(t,d,s);return u.top=qr(h.top,u.top),u.right=Di(h.right,u.right),u.bottom=Di(h.bottom,u.bottom),u.left=qr(h.left,u.left),u},Ew(t,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function fI(e){const{width:t,height:r}=XS(e);return{width:t,height:r}}function mI(e,t,r){const n=cs(t),s=hs(t),i=r==="fixed",o=Aa(e,!0,i,t);let l={scrollLeft:0,scrollTop:0};const c=os(0);function u(){c.x=nf(s)}if(n||!n&&!i)if((vl(t)!=="body"||iu(s))&&(l=rf(t)),n){const f=Aa(t,!0,i,t);c.x=f.x+t.clientLeft,c.y=f.y+t.clientTop}else s&&u();i&&!n&&s&&u();const d=s&&!n&&!i?tk(s,l):os(0),h=o.left+l.scrollLeft-c.x-d.x,p=o.top+l.scrollTop-c.y-d.y;return{x:h,y:p,width:o.width,height:o.height}}function am(e){return Un(e).position==="static"}function Rw(e,t){if(!cs(e)||Un(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return hs(e)===r&&(r=r.ownerDocument.body),r}function nk(e,t){const r=Yr(e);if(tf(e))return r;if(!cs(e)){let s=Li(e);for(;s&&!rl(s);){if(Fn(s)&&!am(s))return s;s=Li(s)}return r}let n=Rw(e,t);for(;n&&Y4(n)&&am(n);)n=Rw(n,t);return n&&rl(n)&&am(n)&&!Yv(n)?r:n||tI(e)||r}const pI=async function(e){const t=this.getOffsetParent||nk,r=this.getDimensions,n=await r(e.floating);return{reference:mI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gI(e){return Un(e).direction==="rtl"}const vI={convertOffsetParentRelativeRectToViewportRelativeRect:iI,getDocumentElement:hs,getClippingRect:hI,getOffsetParent:nk,getElementRects:pI,getClientRects:aI,getDimensions:fI,getScale:Po,isElement:Fn,isRTL:gI};function sk(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function yI(e,t){let r=null,n;const s=hs(e);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(l||t(),!p||!f)return;const v=$u(h),g=$u(s.clientWidth-(d+p)),b=$u(s.clientHeight-(h+f)),y=$u(d),w={rootMargin:-v+"px "+-g+"px "+-b+"px "+-y+"px",threshold:qr(0,Di(1,c))||1};let _=!0;function S(j){const k=j[0].intersectionRatio;if(k!==c){if(!_)return o();k?o(!1,k):n=setTimeout(()=>{o(!1,1e-7)},1e3)}k===1&&!sk(u,e.getBoundingClientRect())&&o(),_=!1}try{r=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{r=new IntersectionObserver(S,w)}r.observe(e)}return o(!0),i}function xI(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Zv(e),d=s||i?[...u?Tc(u):[],...Tc(t)]:[];d.forEach(y=>{s&&y.addEventListener("scroll",r,{passive:!0}),i&&y.addEventListener("resize",r)});const h=u&&l?yI(u,r):null;let p=-1,f=null;o&&(f=new ResizeObserver(y=>{let[x]=y;x&&x.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),r()}),u&&!c&&f.observe(u),f.observe(t));let v,g=c?Aa(e):null;c&&b();function b(){const y=Aa(e);g&&!sk(g,y)&&r(),g=y,v=requestAnimationFrame(b)}return r(),()=>{var y;d.forEach(x=>{s&&x.removeEventListener("scroll",r),i&&x.removeEventListener("resize",r)}),h==null||h(),(y=f)==null||y.disconnect(),f=null,c&&cancelAnimationFrame(v)}}const wI=W4,bI=q4,_I=z4,jI=K4,SI=V4,Pw=U4,kI=H4,NI=(e,t,r)=>{const n=new Map,s={platform:vI,...r},i={...s.platform,_c:n};return F4(e,t,{...s,platform:i})};var CI=typeof document<"u",EI=function(){},fd=CI?m.useLayoutEffect:EI;function th(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!th(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&e.$$typeof)&&!th(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function ik(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Tw(e,t){const r=ik(e);return Math.round(t*r)/r}function om(e){const t=m.useRef(e);return fd(()=>{t.current=e}),t}function RI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=m.useState(n);th(p,n)||f(n);const[v,g]=m.useState(null),[b,y]=m.useState(null),x=m.useCallback(D=>{D!==j.current&&(j.current=D,g(D))},[]),w=m.useCallback(D=>{D!==k.current&&(k.current=D,y(D))},[]),_=i||v,S=o||b,j=m.useRef(null),k=m.useRef(null),P=m.useRef(d),A=c!=null,M=om(c),W=om(s),L=om(u),z=m.useCallback(()=>{if(!j.current||!k.current)return;const D={placement:t,strategy:r,middleware:p};W.current&&(D.platform=W.current),NI(j.current,k.current,D).then(N=>{const R={...N,isPositioned:L.current!==!1};O.current&&!th(P.current,R)&&(P.current=R,hl.flushSync(()=>{h(R)}))})},[p,t,r,W,L]);fd(()=>{u===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(D=>({...D,isPositioned:!1})))},[u]);const O=m.useRef(!1);fd(()=>(O.current=!0,()=>{O.current=!1}),[]),fd(()=>{if(_&&(j.current=_),S&&(k.current=S),_&&S){if(M.current)return M.current(_,S,z);z()}},[_,S,z,M,A]);const J=m.useMemo(()=>({reference:j,floating:k,setReference:x,setFloating:w}),[x,w]),Y=m.useMemo(()=>({reference:_,floating:S}),[_,S]),re=m.useMemo(()=>{const D={position:r,left:0,top:0};if(!Y.floating)return D;const N=Tw(Y.floating,d.x),R=Tw(Y.floating,d.y);return l?{...D,transform:"translate("+N+"px, "+R+"px)",...ik(Y.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:N,top:R}},[r,l,Y.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:z,refs:J,elements:Y,floatingStyles:re}),[d,z,J,Y,re])}const PI=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Pw({element:n.current,padding:s}).fn(r):{}:n?Pw({element:n,padding:s}).fn(r):{}}}},TI=(e,t)=>({...wI(e),options:[e,t]}),AI=(e,t)=>({...bI(e),options:[e,t]}),OI=(e,t)=>({...kI(e),options:[e,t]}),II=(e,t)=>({..._I(e),options:[e,t]}),MI=(e,t)=>({...jI(e),options:[e,t]}),DI=(e,t)=>({...SI(e),options:[e,t]}),LI=(e,t)=>({...PI(e),options:[e,t]});var $I="Arrow",ak=m.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...i}=e;return a.jsx(Ee.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});ak.displayName=$I;var FI=ak;function ok(e){const[t,r]=m.useState(void 0);return Ft(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Xv="Popper",[lk,sf]=us(Xv),[UI,ck]=lk(Xv),uk=e=>{const{__scopePopper:t,children:r}=e,[n,s]=m.useState(null);return a.jsx(UI,{scope:t,anchor:n,onAnchorChange:s,children:r})};uk.displayName=Xv;var dk="PopperAnchor",hk=m.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,i=ck(dk,r),o=m.useRef(null),l=We(t,o),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(n==null?void 0:n.current)||o.current,u!==c.current&&i.onAnchorChange(c.current)}),n?null:a.jsx(Ee.div,{...s,ref:l})});hk.displayName=dk;var ey="PopperContent",[zI,VI]=lk(ey),fk=m.forwardRef((e,t)=>{var ee,ze,Ve,Me,De,qe;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...g}=e,b=ck(ey,r),[y,x]=m.useState(null),w=We(t,Bt=>x(Bt)),[_,S]=m.useState(null),j=ok(_),k=(j==null?void 0:j.width)??0,P=(j==null?void 0:j.height)??0,A=n+(i!=="center"?"-"+i:""),M=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},W=Array.isArray(u)?u:[u],L=W.length>0,z={padding:M,boundary:W.filter(WI),altBoundary:L},{refs:O,floatingStyles:J,placement:Y,isPositioned:re,middlewareData:D}=RI({strategy:"fixed",placement:A,whileElementsMounted:(...Bt)=>xI(...Bt,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[TI({mainAxis:s+P,alignmentAxis:o}),c&&AI({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?OI():void 0,...z}),c&&II({...z}),MI({...z,apply:({elements:Bt,rects:Rr,availableWidth:Hn,availableHeight:vn})=>{const{width:ms,height:Gi}=Rr.reference,Qi=Bt.floating.style;Qi.setProperty("--radix-popper-available-width",`${Hn}px`),Qi.setProperty("--radix-popper-available-height",`${vn}px`),Qi.setProperty("--radix-popper-anchor-width",`${ms}px`),Qi.setProperty("--radix-popper-anchor-height",`${Gi}px`)}}),_&&LI({element:_,padding:l}),qI({arrowWidth:k,arrowHeight:P}),p&&DI({strategy:"referenceHidden",...z})]}),[N,R]=gk(Y),le=er(v);Ft(()=>{re&&(le==null||le())},[re,le]);const ue=(ee=D.arrow)==null?void 0:ee.x,Re=(ze=D.arrow)==null?void 0:ze.y,Se=((Ve=D.arrow)==null?void 0:Ve.centerOffset)!==0,[et,Je]=m.useState();return Ft(()=>{y&&Je(window.getComputedStyle(y).zIndex)},[y]),a.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:re?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:et,"--radix-popper-transform-origin":[(Me=D.transformOrigin)==null?void 0:Me.x,(De=D.transformOrigin)==null?void 0:De.y].join(" "),...((qe=D.hide)==null?void 0:qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(zI,{scope:r,placedSide:N,onArrowChange:S,arrowX:ue,arrowY:Re,shouldHideArrow:Se,children:a.jsx(Ee.div,{"data-side":N,"data-align":R,...g,ref:w,style:{...g.style,animation:re?void 0:"none"}})})})});fk.displayName=ey;var mk="PopperArrow",BI={top:"bottom",right:"left",bottom:"top",left:"right"},pk=m.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,i=VI(mk,n),o=BI[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(FI,{...s,ref:r,style:{...s.style,display:"block"}})})});pk.displayName=mk;function WI(e){return e!==null}var qI=e=>({name:"transformOrigin",options:e,fn(t){var b,y,x;const{placement:r,rects:n,middlewareData:s}=t,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,d]=gk(r),h={start:"0%",center:"50%",end:"100%"}[d],p=(((y=s.arrow)==null?void 0:y.x)??0)+l/2,f=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let v="",g="";return u==="bottom"?(v=o?h:`${p}px`,g=`${-c}px`):u==="top"?(v=o?h:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(v=`${-c}px`,g=o?h:`${f}px`):u==="left"&&(v=`${n.floating.width+c}px`,g=o?h:`${f}px`),{data:{x:v,y:g}}}});function gk(e){const[t,r="center"]=e.split("-");return[t,r]}var vk=uk,yk=hk,xk=fk,wk=pk,HI="Portal",af=m.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[s,i]=m.useState(!1);Ft(()=>i(!0),[]);const o=r||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?Sj.createPortal(a.jsx(Ee.div,{...n,ref:t}),o):null});af.displayName=HI;var lm="rovingFocusGroup.onEntryFocus",KI={bubbles:!1,cancelable:!0},au="RovingFocusGroup",[eg,bk,GI]=qv(au),[QI,of]=us(au,[GI]),[YI,JI]=QI(au),_k=m.forwardRef((e,t)=>a.jsx(eg.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(eg.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(ZI,{...e,ref:t})})}));_k.displayName=au;var ZI=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=m.useRef(null),f=We(t,p),v=su(i),[g,b]=Ta({prop:o,defaultProp:l??null,onChange:c,caller:au}),[y,x]=m.useState(!1),w=er(u),_=bk(r),S=m.useRef(!1),[j,k]=m.useState(0);return m.useEffect(()=>{const P=p.current;if(P)return P.addEventListener(lm,w),()=>P.removeEventListener(lm,w)},[w]),a.jsx(YI,{scope:r,orientation:n,dir:v,loop:s,currentTabStopId:g,onItemFocus:m.useCallback(P=>b(P),[b]),onItemShiftTab:m.useCallback(()=>x(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(P=>P+1),[]),onFocusableItemRemove:m.useCallback(()=>k(P=>P-1),[]),children:a.jsx(Ee.div,{tabIndex:y||j===0?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:ce(e.onMouseDown,()=>{S.current=!0}),onFocus:ce(e.onFocus,P=>{const A=!S.current;if(P.target===P.currentTarget&&A&&!y){const M=new CustomEvent(lm,KI);if(P.currentTarget.dispatchEvent(M),!M.defaultPrevented){const W=_().filter(Y=>Y.focusable),L=W.find(Y=>Y.active),z=W.find(Y=>Y.id===g),J=[L,z,...W].filter(Boolean).map(Y=>Y.ref.current);kk(J,d)}}S.current=!1}),onBlur:ce(e.onBlur,()=>x(!1))})})}),jk="RovingFocusGroupItem",Sk=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...l}=e,c=as(),u=i||c,d=JI(jk,r),h=d.currentTabStopId===u,p=bk(r),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:g}=d;return m.useEffect(()=>{if(n)return f(),()=>v()},[n,f,v]),a.jsx(eg.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:a.jsx(Ee.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:t,onMouseDown:ce(e.onMouseDown,b=>{n?d.onItemFocus(u):b.preventDefault()}),onFocus:ce(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:ce(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const y=tM(b,d.orientation,d.dir);if(y!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(y==="last")w.reverse();else if(y==="prev"||y==="next"){y==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?rM(w,_+1):w.slice(_+1)}setTimeout(()=>kk(w))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:g!=null}):o})})});Sk.displayName=jk;var XI={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tM(e,t,r){const n=eM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return XI[n]}function kk(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function rM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Nk=_k,Ck=Sk;function nM(e){const t=sM(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(aM);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function sM(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=lM(s),l=oM(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var iM=Symbol("radix.slottable");function aM(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===iM}function oM(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function lM(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var cM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},qa=new WeakMap,Fu=new WeakMap,Uu={},cm=0,Ek=function(e){return e&&(e.host||Ek(e.parentNode))},uM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=Ek(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},dM=function(e,t,r,n){var s=uM(t,Array.isArray(e)?e:[e]);Uu[r]||(Uu[r]=new WeakMap);var i=Uu[r],o=[],l=new Set,c=new Set(s),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(p){if(l.has(p))d(p);else try{var f=p.getAttribute(n),v=f!==null&&f!=="false",g=(qa.get(p)||0)+1,b=(i.get(p)||0)+1;qa.set(p,g),i.set(p,b),o.push(p),g===1&&v&&Fu.set(p,!0),b===1&&p.setAttribute(r,"true"),v||p.setAttribute(n,"true")}catch(y){console.error("aria-hidden: cannot operate on ",p,y)}})};return d(t),l.clear(),cm++,function(){o.forEach(function(h){var p=qa.get(h)-1,f=i.get(h)-1;qa.set(h,p),i.set(h,f),p||(Fu.has(h)||h.removeAttribute(n),Fu.delete(h)),f||h.removeAttribute(r)}),cm--,cm||(qa=new WeakMap,qa=new WeakMap,Fu=new WeakMap,Uu={})}},ty=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=cM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),dM(n,s,r,"aria-hidden")):function(){return null}},ts=function(){return ts=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},ts.apply(this,arguments)};function yl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function hM(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}function fM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,i;n<s;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var md="right-scroll-bar-position",pd="width-before-scroll-bar",mM="with-scroll-bars-hidden",pM="--removed-body-scroll-bar-size";function um(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function gM(e,t){var r=m.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var vM=typeof window<"u"?m.useLayoutEffect:m.useEffect,Aw=new WeakMap;function yM(e,t){var r=gM(null,function(n){return e.forEach(function(s){return um(s,n)})});return vM(function(){var n=Aw.get(r);if(n){var s=new Set(n),i=new Set(e),o=r.current;s.forEach(function(l){i.has(l)||um(l,null)}),i.forEach(function(l){s.has(l)||um(l,o)})}Aw.set(r,e)},[e]),r}function xM(e){return e}function wM(e,t){t===void 0&&(t=xM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(i){var o=t(i,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(l){return i(l)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(i),o=r}var c=function(){var d=o;o=[],d.forEach(i)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return s}function bM(e){e===void 0&&(e={});var t=wM(null);return t.options=ts({async:!0,ssr:!1},e),t}var Rk=function(e){var t=e.sideCar,r=yl(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return m.createElement(n,ts({},r))};Rk.isSideCarExport=!0;function _M(e,t){return e.useMedium(t),Rk}var Pk=bM(),dm=function(){},lf=m.forwardRef(function(e,t){var r=m.useRef(null),n=m.useState({onScrollCapture:dm,onWheelCapture:dm,onTouchMoveCapture:dm}),s=n[0],i=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,g=e.inert,b=e.allowPinchZoom,y=e.as,x=y===void 0?"div":y,w=e.gapMode,_=yl(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,j=yM([r,t]),k=ts(ts({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:Pk,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:g,setCallbacks:i,allowPinchZoom:!!b,lockRef:r,gapMode:w}),o?m.cloneElement(m.Children.only(l),ts(ts({},k),{ref:j})):m.createElement(x,ts({},k,{className:c,ref:j}),l))});lf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};lf.classNames={fullWidth:pd,zeroRight:md};var jM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=jM();return t&&e.setAttribute("nonce",t),e}function kM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var CM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=SM())&&(kM(t,r),NM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},EM=function(){var e=CM();return function(t,r){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Tk=function(){var e=EM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},RM={left:0,top:0,right:0,gap:0},hm=function(e){return parseInt(e||"",10)||0},PM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[hm(r),hm(n),hm(s)]},TM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RM;var t=PM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},AM=Tk(),To="data-scroll-locked",OM=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(mM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(To,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(md,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(pd,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(md," .").concat(md,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(pd," .").concat(pd,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(To,`] {
    `).concat(pM,": ").concat(l,`px;
  }
`)},Ow=function(){var e=parseInt(document.body.getAttribute(To)||"0",10);return isFinite(e)?e:0},IM=function(){m.useEffect(function(){return document.body.setAttribute(To,(Ow()+1).toString()),function(){var e=Ow()-1;e<=0?document.body.removeAttribute(To):document.body.setAttribute(To,e.toString())}},[])},MM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;IM();var i=m.useMemo(function(){return TM(s)},[s]);return m.createElement(AM,{styles:OM(i,!t,s,r?"":"!important")})},tg=!1;if(typeof window<"u")try{var zu=Object.defineProperty({},"passive",{get:function(){return tg=!0,!0}});window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{tg=!1}var Ha=tg?{passive:!1}:!1,DM=function(e){return e.tagName==="TEXTAREA"},Ak=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!DM(e)&&r[t]==="visible")},LM=function(e){return Ak(e,"overflowY")},$M=function(e){return Ak(e,"overflowX")},Iw=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=Ok(e,n);if(s){var i=Ik(e,n),o=i[1],l=i[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},FM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},UM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},Ok=function(e,t){return e==="v"?LM(t):$M(t)},Ik=function(e,t){return e==="v"?FM(t):UM(t)},zM=function(e,t){return e==="h"&&t==="rtl"?-1:1},VM=function(e,t,r,n,s){var i=zM(e,window.getComputedStyle(t).direction),o=i*n,l=r.target,c=t.contains(l),u=!1,d=o>0,h=0,p=0;do{if(!l)break;var f=Ik(e,l),v=f[0],g=f[1],b=f[2],y=g-b-i*v;(v||y)&&Ok(e,l)&&(h+=y,p+=v);var x=l.parentNode;l=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},Vu=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Mw=function(e){return[e.deltaX,e.deltaY]},Dw=function(e){return e&&"current"in e?e.current:e},BM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},qM=0,Ka=[];function HM(e){var t=m.useRef([]),r=m.useRef([0,0]),n=m.useRef(),s=m.useState(qM++)[0],i=m.useState(Tk)[0],o=m.useRef(e);m.useEffect(function(){o.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=fM([e.lockRef.current],(e.shards||[]).map(Dw),!0).filter(Boolean);return g.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var l=m.useCallback(function(g,b){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var y=Vu(g),x=r.current,w="deltaX"in g?g.deltaX:x[0]-y[0],_="deltaY"in g?g.deltaY:x[1]-y[1],S,j=g.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in g&&k==="h"&&j.type==="range")return!1;var P=window.getSelection(),A=P&&P.anchorNode,M=A?A===j||A.contains(j):!1;if(M)return!1;var W=Iw(k,j);if(!W)return!0;if(W?S=k:(S=k==="v"?"h":"v",W=Iw(k,j)),!W)return!1;if(!n.current&&"changedTouches"in g&&(w||_)&&(n.current=S),!S)return!0;var L=n.current||S;return VM(L,b,g,L==="h"?w:_)},[]),c=m.useCallback(function(g){var b=g;if(!(!Ka.length||Ka[Ka.length-1]!==i)){var y="deltaY"in b?Mw(b):Vu(b),x=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&BM(S.delta,y)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(o.current.shards||[]).map(Dw).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?l(b,w[0]):!o.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(g,b,y,x){var w={name:g,delta:b,target:y,should:x,shadowParent:KM(y)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(g){r.current=Vu(g),n.current=void 0},[]),h=m.useCallback(function(g){u(g.type,Mw(g),g.target,l(g,e.lockRef.current))},[]),p=m.useCallback(function(g){u(g.type,Vu(g),g.target,l(g,e.lockRef.current))},[]);m.useEffect(function(){return Ka.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ha),document.addEventListener("touchmove",c,Ha),document.addEventListener("touchstart",d,Ha),function(){Ka=Ka.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,Ha),document.removeEventListener("touchmove",c,Ha),document.removeEventListener("touchstart",d,Ha)}},[]);var f=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(i,{styles:WM(s)}):null,f?m.createElement(MM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function KM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const GM=_M(Pk,HM);var cf=m.forwardRef(function(e,t){return m.createElement(lf,ts({},e,{ref:t,sideCar:GM}))});cf.classNames=lf.classNames;var rg=["Enter"," "],QM=["ArrowDown","PageUp","Home"],Mk=["ArrowUp","PageDown","End"],YM=[...QM,...Mk],JM={ltr:[...rg,"ArrowRight"],rtl:[...rg,"ArrowLeft"]},ZM={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ou="Menu",[Ac,XM,eD]=qv(ou),[za,Dk]=us(ou,[eD,sf,of]),uf=sf(),Lk=of(),[tD,Va]=za(ou),[rD,lu]=za(ou),$k=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,l=uf(t),[c,u]=m.useState(null),d=m.useRef(!1),h=er(i),p=su(s);return m.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),a.jsx(vk,{...l,children:a.jsx(tD,{scope:t,open:r,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(rD,{scope:t,onClose:m.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:p,modal:o,children:n})})})};$k.displayName=ou;var nD="MenuAnchor",ry=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=uf(r);return a.jsx(yk,{...s,...n,ref:t})});ry.displayName=nD;var ny="MenuPortal",[sD,Fk]=za(ny,{forceMount:void 0}),Uk=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=Va(ny,t);return a.jsx(sD,{scope:t,forceMount:r,children:a.jsx(rn,{present:r||i.open,children:a.jsx(af,{asChild:!0,container:s,children:n})})})};Uk.displayName=ny;var dn="MenuContent",[iD,sy]=za(dn),zk=m.forwardRef((e,t)=>{const r=Fk(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Va(dn,e.__scopeMenu),o=lu(dn,e.__scopeMenu);return a.jsx(Ac.Provider,{scope:e.__scopeMenu,children:a.jsx(rn,{present:n||i.open,children:a.jsx(Ac.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(aD,{...s,ref:t}):a.jsx(oD,{...s,ref:t})})})})}),aD=m.forwardRef((e,t)=>{const r=Va(dn,e.__scopeMenu),n=m.useRef(null),s=We(t,n);return m.useEffect(()=>{const i=n.current;if(i)return ty(i)},[]),a.jsx(iy,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),oD=m.forwardRef((e,t)=>{const r=Va(dn,e.__scopeMenu);return a.jsx(iy,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),lD=nM("MenuContent.ScrollLock"),iy=m.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,disableOutsideScroll:v,...g}=e,b=Va(dn,r),y=lu(dn,r),x=uf(r),w=Lk(r),_=XM(r),[S,j]=m.useState(null),k=m.useRef(null),P=We(t,k,b.onContentChange),A=m.useRef(0),M=m.useRef(""),W=m.useRef(0),L=m.useRef(null),z=m.useRef("right"),O=m.useRef(0),J=v?cf:m.Fragment,Y=v?{as:lD,allowPinchZoom:!0}:void 0,re=N=>{var ee,ze;const R=M.current+N,le=_().filter(Ve=>!Ve.disabled),ue=document.activeElement,Re=(ee=le.find(Ve=>Ve.ref.current===ue))==null?void 0:ee.textValue,Se=le.map(Ve=>Ve.textValue),et=wD(Se,R,Re),Je=(ze=le.find(Ve=>Ve.textValue===et))==null?void 0:ze.ref.current;(function Ve(Me){M.current=Me,window.clearTimeout(A.current),Me!==""&&(A.current=window.setTimeout(()=>Ve(""),1e3))})(R),Je&&setTimeout(()=>Je.focus())};m.useEffect(()=>()=>window.clearTimeout(A.current),[]),Hv();const D=m.useCallback(N=>{var le,ue;return z.current===((le=L.current)==null?void 0:le.side)&&_D(N,(ue=L.current)==null?void 0:ue.area)},[]);return a.jsx(iD,{scope:r,searchRef:M,onItemEnter:m.useCallback(N=>{D(N)&&N.preventDefault()},[D]),onItemLeave:m.useCallback(N=>{var R;D(N)||((R=k.current)==null||R.focus(),j(null))},[D]),onTriggerLeave:m.useCallback(N=>{D(N)&&N.preventDefault()},[D]),pointerGraceTimerRef:W,onPointerGraceIntentChange:m.useCallback(N=>{L.current=N},[]),children:a.jsx(J,{...Y,children:a.jsx(Xh,{asChild:!0,trapped:s,onMountAutoFocus:ce(i,N=>{var R;N.preventDefault(),(R=k.current)==null||R.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(Zh,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:p,onDismiss:f,children:a.jsx(Nk,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:S,onCurrentTabStopIdChange:j,onEntryFocus:ce(c,N=>{y.isUsingKeyboardRef.current||N.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(xk,{role:"menu","aria-orientation":"vertical","data-state":n1(b.open),"data-radix-menu-content":"",dir:y.dir,...x,...g,ref:P,style:{outline:"none",...g.style},onKeyDown:ce(g.onKeyDown,N=>{const le=N.target.closest("[data-radix-menu-content]")===N.currentTarget,ue=N.ctrlKey||N.altKey||N.metaKey,Re=N.key.length===1;le&&(N.key==="Tab"&&N.preventDefault(),!ue&&Re&&re(N.key));const Se=k.current;if(N.target!==Se||!YM.includes(N.key))return;N.preventDefault();const Je=_().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);Mk.includes(N.key)&&Je.reverse(),yD(Je)}),onBlur:ce(e.onBlur,N=>{N.currentTarget.contains(N.target)||(window.clearTimeout(A.current),M.current="")}),onPointerMove:ce(e.onPointerMove,Oc(N=>{const R=N.target,le=O.current!==N.clientX;if(N.currentTarget.contains(R)&&le){const ue=N.clientX>O.current?"right":"left";z.current=ue,O.current=N.clientX}}))})})})})})})});zk.displayName=dn;var cD="MenuGroup",ay=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ee.div,{role:"group",...n,ref:t})});ay.displayName=cD;var uD="MenuLabel",Vk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ee.div,{...n,ref:t})});Vk.displayName=uD;var rh="MenuItem",Lw="menu.itemSelect",df=m.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,i=m.useRef(null),o=lu(rh,e.__scopeMenu),l=sy(rh,e.__scopeMenu),c=We(t,i),u=m.useRef(!1),d=()=>{const h=i.current;if(!r&&h){const p=new CustomEvent(Lw,{bubbles:!0,cancelable:!0});h.addEventListener(Lw,f=>n==null?void 0:n(f),{once:!0}),yS(h,p),p.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(Bk,{...s,ref:c,disabled:r,onClick:ce(e.onClick,d),onPointerDown:h=>{var p;(p=e.onPointerDown)==null||p.call(e,h),u.current=!0},onPointerUp:ce(e.onPointerUp,h=>{var p;u.current||(p=h.currentTarget)==null||p.click()}),onKeyDown:ce(e.onKeyDown,h=>{const p=l.searchRef.current!=="";r||p&&h.key===" "||rg.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});df.displayName=rh;var Bk=m.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=sy(rh,r),l=Lk(r),c=m.useRef(null),u=We(t,c),[d,h]=m.useState(!1),[p,f]=m.useState("");return m.useEffect(()=>{const v=c.current;v&&f((v.textContent??"").trim())},[i.children]),a.jsx(Ac.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:a.jsx(Ck,{asChild:!0,...l,focusable:!n,children:a.jsx(Ee.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:ce(e.onPointerMove,Oc(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ce(e.onPointerLeave,Oc(v=>o.onItemLeave(v))),onFocus:ce(e.onFocus,()=>h(!0)),onBlur:ce(e.onBlur,()=>h(!1))})})})}),dD="MenuCheckboxItem",Wk=m.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return a.jsx(Qk,{scope:e.__scopeMenu,checked:r,children:a.jsx(df,{role:"menuitemcheckbox","aria-checked":nh(r)?"mixed":r,...s,ref:t,"data-state":ly(r),onSelect:ce(s.onSelect,()=>n==null?void 0:n(nh(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Wk.displayName=dD;var qk="MenuRadioGroup",[hD,fD]=za(qk,{value:void 0,onValueChange:()=>{}}),Hk=m.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,i=er(n);return a.jsx(hD,{scope:e.__scopeMenu,value:r,onValueChange:i,children:a.jsx(ay,{...s,ref:t})})});Hk.displayName=qk;var Kk="MenuRadioItem",Gk=m.forwardRef((e,t)=>{const{value:r,...n}=e,s=fD(Kk,e.__scopeMenu),i=r===s.value;return a.jsx(Qk,{scope:e.__scopeMenu,checked:i,children:a.jsx(df,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":ly(i),onSelect:ce(n.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,r)},{checkForDefaultPrevented:!1})})})});Gk.displayName=Kk;var oy="MenuItemIndicator",[Qk,mD]=za(oy,{checked:!1}),Yk=m.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,i=mD(oy,r);return a.jsx(rn,{present:n||nh(i.checked)||i.checked===!0,children:a.jsx(Ee.span,{...s,ref:t,"data-state":ly(i.checked)})})});Yk.displayName=oy;var pD="MenuSeparator",Jk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(Ee.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Jk.displayName=pD;var gD="MenuArrow",Zk=m.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=uf(r);return a.jsx(wk,{...s,...n,ref:t})});Zk.displayName=gD;var vD="MenuSub",[m8,Xk]=za(vD),Kl="MenuSubTrigger",e1=m.forwardRef((e,t)=>{const r=Va(Kl,e.__scopeMenu),n=lu(Kl,e.__scopeMenu),s=Xk(Kl,e.__scopeMenu),i=sy(Kl,e.__scopeMenu),o=m.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=i,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(ry,{asChild:!0,...u,children:a.jsx(Bk,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":n1(r.open),...e,ref:Us(t,s.onTriggerChange),onClick:h=>{var p;(p=e.onClick)==null||p.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ce(e.onPointerMove,Oc(h=>{i.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:ce(e.onPointerLeave,Oc(h=>{var f,v;d();const p=(f=r.content)==null?void 0:f.getBoundingClientRect();if(p){const g=(v=r.content)==null?void 0:v.dataset.side,b=g==="right",y=b?-5:5,x=p[b?"left":"right"],w=p[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:h.clientX+y,y:h.clientY},{x,y:p.top},{x:w,y:p.top},{x:w,y:p.bottom},{x,y:p.bottom}],side:g}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(h),h.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ce(e.onKeyDown,h=>{var f;const p=i.searchRef.current!=="";e.disabled||p&&h.key===" "||JM[n.dir].includes(h.key)&&(r.onOpenChange(!0),(f=r.content)==null||f.focus(),h.preventDefault())})})})});e1.displayName=Kl;var t1="MenuSubContent",r1=m.forwardRef((e,t)=>{const r=Fk(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=Va(dn,e.__scopeMenu),o=lu(dn,e.__scopeMenu),l=Xk(t1,e.__scopeMenu),c=m.useRef(null),u=We(t,c);return a.jsx(Ac.Provider,{scope:e.__scopeMenu,children:a.jsx(rn,{present:n||i.open,children:a.jsx(Ac.Slot,{scope:e.__scopeMenu,children:a.jsx(iy,{id:l.contentId,"aria-labelledby":l.triggerId,...s,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var h;o.isUsingKeyboardRef.current&&((h=c.current)==null||h.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:ce(e.onFocusOutside,d=>{d.target!==l.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ce(e.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:ce(e.onKeyDown,d=>{var f;const h=d.currentTarget.contains(d.target),p=ZM[o.dir].includes(d.key);h&&p&&(i.onOpenChange(!1),(f=l.trigger)==null||f.focus(),d.preventDefault())})})})})})});r1.displayName=t1;function n1(e){return e?"open":"closed"}function nh(e){return e==="indeterminate"}function ly(e){return nh(e)?"indeterminate":e?"checked":"unchecked"}function yD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function xD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function wD(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=xD(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function bD(e,t){const{x:r,y:n}=e;let s=!1;for(let i=0,o=t.length-1;i<t.length;o=i++){const l=t[i],c=t[o],u=l.x,d=l.y,h=c.x,p=c.y;d>n!=p>n&&r<(h-u)*(n-d)/(p-d)+u&&(s=!s)}return s}function _D(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return bD(r,t)}function Oc(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jD=$k,SD=ry,kD=Uk,ND=zk,CD=ay,ED=Vk,RD=df,PD=Wk,TD=Hk,AD=Gk,OD=Yk,ID=Jk,MD=Zk,DD=e1,LD=r1,hf="DropdownMenu",[$D]=us(hf,[Dk]),Cr=Dk(),[FD,s1]=$D(hf),i1=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,c=Cr(t),u=m.useRef(null),[d,h]=Ta({prop:s,defaultProp:i??!1,onChange:o,caller:hf});return a.jsx(FD,{scope:t,triggerId:as(),triggerRef:u,contentId:as(),open:d,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(p=>!p),[h]),modal:l,children:a.jsx(jD,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};i1.displayName=hf;var a1="DropdownMenuTrigger",o1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=s1(a1,r),o=Cr(r);return a.jsx(SD,{asChild:!0,...o,children:a.jsx(Ee.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Us(t,i.triggerRef),onPointerDown:ce(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(i.onOpenToggle(),i.open||l.preventDefault())}),onKeyDown:ce(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&i.onOpenToggle(),l.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});o1.displayName=a1;var UD="DropdownMenuPortal",l1=e=>{const{__scopeDropdownMenu:t,...r}=e,n=Cr(t);return a.jsx(kD,{...n,...r})};l1.displayName=UD;var c1="DropdownMenuContent",u1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=s1(c1,r),i=Cr(r),o=m.useRef(!1);return a.jsx(ND,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:ce(e.onCloseAutoFocus,l=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:ce(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});u1.displayName=c1;var zD="DropdownMenuGroup",VD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(CD,{...s,...n,ref:t})});VD.displayName=zD;var BD="DropdownMenuLabel",d1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(ED,{...s,...n,ref:t})});d1.displayName=BD;var WD="DropdownMenuItem",h1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(RD,{...s,...n,ref:t})});h1.displayName=WD;var qD="DropdownMenuCheckboxItem",f1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(PD,{...s,...n,ref:t})});f1.displayName=qD;var HD="DropdownMenuRadioGroup",KD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(TD,{...s,...n,ref:t})});KD.displayName=HD;var GD="DropdownMenuRadioItem",m1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(AD,{...s,...n,ref:t})});m1.displayName=GD;var QD="DropdownMenuItemIndicator",p1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(OD,{...s,...n,ref:t})});p1.displayName=QD;var YD="DropdownMenuSeparator",g1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(ID,{...s,...n,ref:t})});g1.displayName=YD;var JD="DropdownMenuArrow",ZD=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(MD,{...s,...n,ref:t})});ZD.displayName=JD;var XD="DropdownMenuSubTrigger",v1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(DD,{...s,...n,ref:t})});v1.displayName=XD;var eL="DropdownMenuSubContent",y1=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Cr(r);return a.jsx(LD,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});y1.displayName=eL;var tL=i1,rL=o1,nL=l1,x1=u1,w1=d1,b1=h1,_1=f1,j1=m1,S1=p1,k1=g1,N1=v1,C1=y1;const Ic=tL,Mc=rL,sL=m.forwardRef(({className:e,inset:t,children:r,...n},s)=>a.jsxs(N1,{ref:s,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Ii,{className:"ml-auto h-4 w-4"})]}));sL.displayName=N1.displayName;const iL=m.forwardRef(({className:e,...t},r)=>a.jsx(C1,{ref:r,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iL.displayName=C1.displayName;const nl=m.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(nL,{children:a.jsx(x1,{ref:n,sideOffset:t,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-card p-1 text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));nl.displayName=x1.displayName;const Ir=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(b1,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));Ir.displayName=b1.displayName;const aL=m.forwardRef(({className:e,children:t,checked:r,...n},s)=>a.jsxs(_1,{ref:s,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(S1,{children:a.jsx(zh,{className:"h-4 w-4"})})}),t]}));aL.displayName=_1.displayName;const oL=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(j1,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(S1,{children:a.jsx(YT,{className:"h-2 w-2 fill-current"})})}),t]}));oL.displayName=j1.displayName;const E1=m.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(w1,{ref:n,className:H("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));E1.displayName=w1.displayName;const ng=m.forwardRef(({className:e,...t},r)=>a.jsx(k1,{ref:r,className:H("-mx-1 my-1 h-px bg-border",e),...t}));ng.displayName=k1.displayName;function lL({className:e}){return a.jsxs("header",{className:H("flex h-14 items-center gap-4 border-b border-border bg-card px-4",e),children:[a.jsx("div",{className:"flex flex-1 items-center gap-4",children:a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(iS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Ne,{type:"search",placeholder:"Search...",className:"pl-9","aria-label":"Search"})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(T,{variant:"ghost",size:"icon","aria-label":"Notifications",children:a.jsx(qT,{className:"h-4 w-4"})}),a.jsx(T,{variant:"ghost",size:"icon",asChild:!0,children:a.jsx(we,{to:"/help","aria-label":"Help",children:a.jsx(Bh,{className:"h-4 w-4"})})}),a.jsxs(Ic,{children:[a.jsx(Mc,{asChild:!0,children:a.jsx(T,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:a.jsxs(Yh,{className:"h-10 w-10",children:[a.jsx(Wv,{src:"",alt:"User"}),a.jsx(Jh,{className:"bg-primary/20 text-primary",children:a.jsx(Hh,{className:"h-5 w-5"})})]})})}),a.jsxs(nl,{align:"end",className:"w-56",children:[a.jsx(E1,{children:a.jsx("span",{className:"font-normal",children:"Account"})}),a.jsx(ng,{}),a.jsx(Ir,{asChild:!0,children:a.jsx(we,{to:"/profile",children:"Profile"})}),a.jsx(Ir,{asChild:!0,children:a.jsx(we,{to:"/settings",children:"Settings"})}),a.jsx(ng,{}),a.jsx(Ir,{asChild:!0,children:a.jsx(we,{to:"/login",children:"Log out"})})]})]})]})]})}function cL(){return a.jsxs("div",{className:"flex min-h-screen bg-background",children:[a.jsx(LO,{}),a.jsxs("div",{className:"flex flex-1 flex-col min-w-0",children:[a.jsx(lL,{}),a.jsx("main",{className:H("flex-1 overflow-auto p-4 md:p-6","max-w-content mx-auto w-full"),children:a.jsx(mP,{})})]})]})}const G=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:H("rounded-[10px] border border-border bg-card text-card-foreground shadow-card transition-shadow hover:shadow-card-hover",e),...t}));G.displayName="Card";const te=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:H("flex flex-col space-y-1.5 p-3 sm:p-6",e),...t}));te.displayName="CardHeader";const ne=m.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));ne.displayName="CardTitle";const ge=m.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:H("text-sm text-muted-foreground",e),...t}));ge.displayName="CardDescription";const Q=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:H("p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));Q.displayName="CardContent";const uL=m.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:H("flex items-center p-3 pt-0 sm:p-6 sm:pt-0",e),...t}));uL.displayName="CardFooter";function dL(e){const t=hL(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find(mL);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function hL(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=gL(s),l=pL(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var fL=Symbol("radix.slottable");function mL(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===fL}function pL(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function gL(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var ff="Dialog",[R1]=us(ff),[vL,Bn]=R1(ff),P1=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,l=m.useRef(null),c=m.useRef(null),[u,d]=Ta({prop:n,defaultProp:s??!1,onChange:i,caller:ff});return a.jsx(vL,{scope:t,triggerRef:l,contentRef:c,contentId:as(),titleId:as(),descriptionId:as(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};P1.displayName=ff;var T1="DialogTrigger",yL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(T1,r),i=We(t,s.triggerRef);return a.jsx(Ee.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":dy(s.open),...n,ref:i,onClick:ce(e.onClick,s.onOpenToggle)})});yL.displayName=T1;var cy="DialogPortal",[xL,A1]=R1(cy,{forceMount:void 0}),O1=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,i=Bn(cy,t);return a.jsx(xL,{scope:t,forceMount:r,children:m.Children.map(n,o=>a.jsx(rn,{present:r||i.open,children:a.jsx(af,{asChild:!0,container:s,children:o})}))})};O1.displayName=cy;var sh="DialogOverlay",I1=m.forwardRef((e,t)=>{const r=A1(sh,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Bn(sh,e.__scopeDialog);return i.modal?a.jsx(rn,{present:n||i.open,children:a.jsx(bL,{...s,ref:t})}):null});I1.displayName=sh;var wL=dL("DialogOverlay.RemoveScroll"),bL=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(sh,r);return a.jsx(cf,{as:wL,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Ee.div,{"data-state":dy(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Oa="DialogContent",M1=m.forwardRef((e,t)=>{const r=A1(Oa,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,i=Bn(Oa,e.__scopeDialog);return a.jsx(rn,{present:n||i.open,children:i.modal?a.jsx(_L,{...s,ref:t}):a.jsx(jL,{...s,ref:t})})});M1.displayName=Oa;var _L=m.forwardRef((e,t)=>{const r=Bn(Oa,e.__scopeDialog),n=m.useRef(null),s=We(t,r.contentRef,n);return m.useEffect(()=>{const i=n.current;if(i)return ty(i)},[]),a.jsx(D1,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ce(e.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ce(e.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:ce(e.onFocusOutside,i=>i.preventDefault())})}),jL=m.forwardRef((e,t)=>{const r=Bn(Oa,e.__scopeDialog),n=m.useRef(!1),s=m.useRef(!1);return a.jsx(D1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,i),i.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),i.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:i=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),D1=m.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=e,l=Bn(Oa,r),c=m.useRef(null),u=We(t,c);return Hv(),a.jsxs(a.Fragment,{children:[a.jsx(Xh,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(Zh,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":dy(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(SL,{titleId:l.titleId}),a.jsx(NL,{contentRef:c,descriptionId:l.descriptionId})]})]})}),uy="DialogTitle",L1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(uy,r);return a.jsx(Ee.h2,{id:s.titleId,...n,ref:t})});L1.displayName=uy;var $1="DialogDescription",F1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn($1,r);return a.jsx(Ee.p,{id:s.descriptionId,...n,ref:t})});F1.displayName=$1;var U1="DialogClose",z1=m.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Bn(U1,r);return a.jsx(Ee.button,{type:"button",...n,ref:t,onClick:ce(e.onClick,()=>s.onOpenChange(!1))})});z1.displayName=U1;function dy(e){return e?"open":"closed"}var V1="DialogTitleWarning",[p8,B1]=pO(V1,{contentName:Oa,titleName:uy,docsSlug:"dialog"}),SL=({titleId:e})=>{const t=B1(V1),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},kL="DialogDescriptionWarning",NL=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B1(kL).contentName}}.`;return m.useEffect(()=>{var i;const s=(i=e.current)==null?void 0:i.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},CL=P1,EL=O1,W1=I1,q1=M1,H1=L1,K1=F1,RL=z1;const ct=CL,PL=EL,G1=m.forwardRef(({className:e,...t},r)=>a.jsx(W1,{ref:r,className:H("fixed inset-0 z-50 bg-black/60 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));G1.displayName=W1.displayName;const rt=m.forwardRef(({className:e,children:t,showClose:r=!0,...n},s)=>a.jsxs(PL,{children:[a.jsx(G1,{}),a.jsxs(q1,{ref:s,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-[640px] translate-x-[-50%] translate-y-[-50%] gap-4 border border-border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 sm:rounded-lg",e),...n,children:[t,r&&a.jsxs(RL,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[a.jsx(Kh,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));rt.displayName=q1.displayName;const nt=({className:e,...t})=>a.jsx("div",{className:H("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});nt.displayName="DialogHeader";const dt=({className:e,...t})=>a.jsx("div",{className:H("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dt.displayName="DialogFooter";const st=m.forwardRef(({className:e,...t},r)=>a.jsx(H1,{ref:r,className:H("text-lg font-semibold leading-none tracking-tight",e),...t}));st.displayName=H1.displayName;const it=m.forwardRef(({className:e,...t},r)=>a.jsx(K1,{ref:r,className:H("text-sm text-muted-foreground",e),...t}));it.displayName=K1.displayName;const TL="reveal-visible";function Bu(e){const t=m.useRef(null),[r,n]=m.useState(!1);return m.useEffect(()=>{const s=t.current;if(!s)return;const i=new IntersectionObserver(([o])=>{o!=null&&o.isIntersecting&&(n(!0),s.classList.add(TL))},{rootMargin:"0px 0px -60px 0px",threshold:.1,...e});return i.observe(s),()=>i.disconnect()},[e==null?void 0:e.rootMargin,e==null?void 0:e.threshold]),{ref:t,visible:r}}const AL=[{id:"1",name:"Chat-native control",description:"Control your agent from WhatsApp, Telegram, Slack, and Discord. One gateway, all your channels.",iconName:"MessageSquare"},{id:"2",name:"Skills & tools",description:"Load skills from SKILL.md with gating checks, run tools with sandboxing and policy whitelists.",iconName:"Zap"},{id:"3",name:"Paired nodes",description:"Pair devices via QR or code. Manage exec allowlists, wake config, and approvals per node.",iconName:"Smartphone"},{id:"4",name:"Browser automation",description:"Managed Chromium profile, CDP abstraction, and capture tools for screenshots, PDF, and DOM.",iconName:"Globe"},{id:"5",name:"Security audit",description:"Automated checks for plaintext secrets, open binds, and risky permissions. Remediation and auto-fix.",iconName:"Shield"},{id:"6",name:"Cron & webhooks",description:"Schedule jobs and inbound webhooks with token auth, lifecycle hooks, and payload transforms.",iconName:"Clock"}],OL=[{id:"tg",providerName:"Telegram",category:"chat"},{id:"wa",providerName:"WhatsApp",category:"chat"},{id:"slack",providerName:"Slack",category:"chat"},{id:"discord",providerName:"Discord",category:"chat"},{id:"openai",providerName:"OpenAI",category:"model"},{id:"anthropic",providerName:"Anthropic",category:"model"},{id:"ollama",providerName:"Ollama",category:"model"}],IL=[{id:"free",planName:"Free",description:"Local gateway, core features",price:"$0",features:["Local-only mode","Control UI","1 channel","Community support"]},{id:"pro",planName:"Pro",description:"Cloud-linked, more channels",price:"TBD",features:["Everything in Free","Multiple channels","Skills registry","Email support"]},{id:"enterprise",planName:"Enterprise",description:"Multi-workspace, SSO, SLA",price:"Contact us",features:["Everything in Pro","Admin dashboard","RBAC","Dedicated support"]}],ML={MessageSquare:Wh,Zap:cS,Smartphone:mA,Globe:nA,Shield:Mi,Clock:Hl};function DL(){const[e,t]=m.useState(null),r=Bu(),n=Bu(),s=Bu(),i=Bu();return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("header",{className:"fixed left-0 right-0 top-0 z-40 border-b border-border bg-background/80 backdrop-blur-md",children:a.jsxs("div",{className:"mx-auto flex h-16 max-w-content items-center justify-between px-4 sm:px-6",children:[a.jsx(we,{to:"/",className:"text-xl font-semibold text-foreground",children:"Clawgate"}),a.jsxs("nav",{className:"flex items-center gap-6",children:[a.jsx("a",{href:"#features",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Features"}),a.jsx("a",{href:"#quick-start",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Quick start"}),a.jsx("a",{href:"#pricing",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Pricing"}),a.jsx(we,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Docs"}),a.jsx(we,{to:"/login",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Log in"}),a.jsx(T,{asChild:!0,size:"sm",children:a.jsx(we,{to:"/signup",children:"Sign up"})})]})]})}),a.jsxs("main",{children:[a.jsxs("section",{className:"relative overflow-hidden px-4 pt-32 pb-24 sm:px-6 sm:pt-40 sm:pb-32",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"landing-hero-blob absolute -left-32 top-20 h-80 w-80 rounded-full opacity-40",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.4) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-2 absolute right-0 top-1/3 h-96 w-96 rounded-full opacity-30",style:{background:"radial-gradient(circle, rgb(var(--accent) / 0.35) 0%, transparent 70%)"}}),a.jsx("div",{className:"landing-hero-blob-3 absolute bottom-20 left-1/3 h-64 w-64 rounded-full opacity-25",style:{background:"radial-gradient(circle, rgb(var(--primary) / 0.3) 0%, transparent 70%)"}})]}),a.jsxs("div",{className:"relative mx-auto max-w-3xl text-center",children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl md:text-6xl",children:"Local-first, chat-native personal agent"}),a.jsx("p",{className:"mt-6 text-lg text-muted-foreground sm:text-xl",children:"Run tools, schedule jobs, pair devices, and control your agent from the chat surfaces you already use."}),a.jsxs("div",{className:"mt-10 flex flex-wrap items-center justify-center gap-4",children:[a.jsx(T,{size:"lg",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(we,{to:"/download",className:"inline-flex items-center gap-2",children:[a.jsx(ru,{className:"h-5 w-5"}),"Install Gateway"]})}),a.jsx(T,{size:"lg",variant:"outline",asChild:!0,className:"min-h-[44px] transition-transform hover:scale-[1.02] active:scale-[0.98]",children:a.jsxs(we,{to:"/dashboard",className:"inline-flex items-center gap-2",children:[a.jsx(Tv,{className:"h-5 w-5"}),"Open Local UI"]})}),a.jsx(T,{size:"lg",variant:"ghost",asChild:!0,className:"min-h-[44px] text-muted-foreground",children:a.jsxs(we,{to:"/help",className:"inline-flex items-center gap-2",children:[a.jsx(Ra,{className:"h-5 w-5"}),"Docs"]})})]})]})]}),a.jsxs("section",{id:"features",ref:r.ref,className:H("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Features"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"One gateway for chat, skills, nodes, automation, and security."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:AL.map((o,l)=>a.jsx(LL,{feature:o,index:l},o.id))})]}),a.jsx("section",{id:"quick-start",ref:n.ref,className:H("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Quick start"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Get running in a few steps."}),a.jsx("ol",{className:"mt-12 grid gap-8 sm:grid-cols-2 lg:grid-cols-4",children:["Install and start the gateway (local-only or cloud-linked).","Open the Control UI at your local URL.","Add a channel (e.g. Telegram) and message your agent.","Try Summarize this URL with a link in chat."].map((o,l)=>a.jsxs("li",{className:"relative flex gap-4 rounded-lg border border-border bg-card p-6 shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsx("span",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary text-sm font-semibold text-primary-foreground","aria-hidden":!0,children:l+1}),a.jsx("span",{className:"text-muted-foreground",children:o})]},l))})]})}),a.jsxs("section",{id:"integrations",ref:s.ref,className:H("reveal-on-scroll mx-auto max-w-content px-4 py-16 sm:px-6 sm:py-24"),children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Works with your stack"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Chat providers and model backends you can connect today."}),a.jsx("div",{className:"mt-12 flex flex-wrap items-center justify-center gap-8",children:OL.map(o=>a.jsx("div",{className:"flex h-14 min-w-[120px] items-center justify-center rounded-lg border border-border bg-card/50 px-6 py-3 text-sm font-medium text-muted-foreground transition-colors hover:border-primary/50 hover:text-foreground",children:o.providerName},o.id))})]}),a.jsx("section",{id:"pricing",ref:i.ref,className:H("reveal-on-scroll border-t border-border bg-card/30 px-4 py-16 sm:px-6 sm:py-24"),children:a.jsxs("div",{className:"mx-auto max-w-content",children:[a.jsx("h2",{className:"text-center text-2xl font-semibold sm:text-3xl",children:"Plans"}),a.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-center text-muted-foreground",children:"Start free, scale when you need more."}),a.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-3",children:IL.map(o=>a.jsxs(G,{className:"cursor-pointer transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",onClick:()=>t(o),children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-lg",children:o.planName}),a.jsx(ge,{children:o.description}),a.jsx("p",{className:"mt-2 text-2xl font-semibold text-foreground",children:o.price})]}),a.jsxs(Q,{children:[a.jsx("ul",{className:"space-y-2 text-sm text-muted-foreground",children:o.features.slice(0,3).map((l,c)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ii,{className:"h-4 w-4 text-accent"}),l]},c))}),a.jsx(T,{variant:"outline",size:"sm",className:"mt-4 w-full",onClick:l=>{l.stopPropagation(),t(o)},children:"Learn more"})]})]},o.id))})]})}),a.jsx("footer",{className:"border-t border-border py-12",children:a.jsxs("div",{className:"mx-auto flex max-w-content flex-wrap items-center justify-between gap-6 px-4 sm:px-6",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:" Clawgate"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsx(we,{to:"/help",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Documentation"}),a.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Repository"}),a.jsx(we,{to:"/privacy",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Privacy"}),a.jsx(we,{to:"/terms",className:"text-sm text-muted-foreground transition-colors hover:text-foreground",children:"Terms"})]})]})})]}),a.jsx(ct,{open:!!e,onOpenChange:o=>{o||t(null)},children:a.jsx(rt,{className:"max-w-md",children:e&&a.jsxs(a.Fragment,{children:[a.jsxs(nt,{children:[a.jsx(st,{children:e.planName}),a.jsx(it,{children:e.description})]}),a.jsx("p",{className:"text-2xl font-semibold text-foreground",children:e.price}),a.jsx("ul",{className:"mt-4 space-y-2 text-sm text-muted-foreground",children:e.features.map((o,l)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(Ii,{className:"h-4 w-4 text-accent"}),o]},l))}),a.jsx(T,{asChild:!0,className:"mt-6 w-full",children:a.jsx(we,{to:"/signup",children:"Get started"})})]})})})]})}function LL({feature:e,index:t}){const r=ML[e.iconName]??cS;return a.jsx(G,{className:"transition-all duration-200 hover:scale-[1.02] hover:shadow-card-hover",style:{transitionDelay:`${t*50}ms`},children:a.jsxs(te,{children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-primary/10 text-primary",children:a.jsx(r,{className:"h-6 w-6"})}),a.jsx(ne,{className:"text-lg",children:e.name}),a.jsx(ge,{children:e.description})]})})}var cu=e=>e.type==="checkbox",ca=e=>e instanceof Date,Or=e=>e==null;const Q1=e=>typeof e=="object";var $t=e=>!Or(e)&&!Array.isArray(e)&&Q1(e)&&!ca(e),$L=e=>$t(e)&&e.target?cu(e.target)?e.target.checked:e.target.value:e,FL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,UL=(e,t)=>e.has(FL(t)),zL=e=>{const t=e.constructor&&e.constructor.prototype;return $t(t)&&t.hasOwnProperty("isPrototypeOf")},hy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Wt(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(hy&&(e instanceof Blob||t))return e;const r=Array.isArray(e);if(!r&&!($t(e)&&zL(e)))return e;const n=r?[]:Object.create(Object.getPrototypeOf(e));for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(n[s]=Wt(e[s]));return n}var mf=e=>/^\w*$/.test(e),_t=e=>e===void 0,fy=e=>Array.isArray(e)?e.filter(Boolean):[],my=e=>fy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(e,t,r)=>{if(!t||!$t(e))return r;const n=(mf(t)?[t]:my(t)).reduce((s,i)=>Or(s)?s:s[i],e);return _t(n)||n===e?_t(e[t])?r:e[t]:n},Yn=e=>typeof e=="boolean",In=e=>typeof e=="function",ht=(e,t,r)=>{let n=-1;const s=mf(t)?[t]:my(t),i=s.length,o=i-1;for(;++n<i;){const l=s[n];let c=r;if(n!==o){const u=e[l];c=$t(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const $w={BLUR:"blur",FOCUS_OUT:"focusout"},Mn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},vs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},VL=V.createContext(null);VL.displayName="HookFormControlContext";var BL=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const o=i;return t._proxyFormState[o]!==Mn.all&&(t._proxyFormState[o]=!n||Mn.all),e[o]}});return s};const WL=typeof window<"u"?V.useLayoutEffect:V.useEffect;var Hr=e=>typeof e=="string",qL=(e,t,r,n,s)=>Hr(e)?(n&&t.watch.add(e),he(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),he(r,i))):(n&&(t.watchAll=!0),r),sg=e=>Or(e)||!Q1(e);function ai(e,t,r=new WeakSet){if(sg(e)||sg(t))return Object.is(e,t);if(ca(e)&&ca(t))return Object.is(e.getTime(),t.getTime());const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(ca(o)&&ca(l)||$t(o)&&$t(l)||Array.isArray(o)&&Array.isArray(l)?!ai(o,l,r):!Object.is(o,l))return!1}}return!0}const HL=V.createContext(null);HL.displayName="HookFormContext";var Y1=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},ac=e=>Array.isArray(e)?e:[e],Fw=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}};function J1(e,t){const r={};for(const n in e)if(e.hasOwnProperty(n)){const s=e[n],i=t[n];if(s&&$t(s)&&i){const o=J1(s,i);$t(o)&&(r[n]=o)}else e[n]&&(r[n]=i)}return r}var br=e=>$t(e)&&!Object.keys(e).length,py=e=>e.type==="file",ih=e=>{if(!hy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Z1=e=>e.type==="select-multiple",gy=e=>e.type==="radio",KL=e=>gy(e)||cu(e),fm=e=>ih(e)&&e.isConnected;function GL(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=_t(e)?n++:e[t[n++]];return e}function QL(e){for(const t in e)if(e.hasOwnProperty(t)&&!_t(e[t]))return!1;return!0}function It(e,t){const r=Array.isArray(t)?t:mf(t)?[t]:my(t),n=r.length===1?e:GL(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&($t(n)&&br(n)||Array.isArray(n)&&QL(n))&&It(e,r.slice(0,-1)),e}var YL=e=>{for(const t in e)if(In(e[t]))return!0;return!1};function X1(e){return Array.isArray(e)||$t(e)&&!YL(e)}function ig(e,t={}){for(const r in e){const n=e[r];X1(n)?(t[r]=Array.isArray(n)?[]:{},ig(n,t[r])):_t(n)||(t[r]=!0)}return t}function no(e,t,r){r||(r=ig(t));for(const n in e){const s=e[n];if(X1(s))_t(t)||sg(r[n])?r[n]=ig(s,Array.isArray(s)?[]:{}):no(s,Or(t)?{}:t[n],r[n]);else{const i=t[n];r[n]=!ai(s,i)}}return r}const Uw={value:!1,isValid:!1},zw={value:!0,isValid:!0};var eN=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_t(e[0].attributes.value)?_t(e[0].value)||e[0].value===""?zw:{value:e[0].value,isValid:!0}:zw:Uw}return Uw},tN=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>_t(e)?e:t?e===""?NaN:e&&+e:r&&Hr(e)?new Date(e):n?n(e):e;const Vw={isValid:!1,value:null};var rN=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Vw):Vw;function Bw(e){const t=e.ref;return py(t)?t.files:gy(t)?rN(e.refs).value:Z1(t)?[...t.selectedOptions].map(({value:r})=>r):cu(t)?eN(e.refs).value:tN(_t(t.value)?e.ref.value:t.value,e)}var JL=(e,t,r,n)=>{const s={};for(const i of e){const o=he(t,i);o&&ht(s,i,o._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},ah=e=>e instanceof RegExp,Dl=e=>_t(e)?e:ah(e)?e.source:$t(e)?ah(e.value)?e.value.source:e.value:e,Ww=e=>({isOnSubmit:!e||e===Mn.onSubmit,isOnBlur:e===Mn.onBlur,isOnChange:e===Mn.onChange,isOnAll:e===Mn.all,isOnTouch:e===Mn.onTouched});const qw="AsyncFunction";var ZL=e=>!!e&&!!e.validate&&!!(In(e.validate)&&e.validate.constructor.name===qw||$t(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===qw)),XL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Hw=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const oc=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=he(e,s);if(i){const{_f:o,...l}=i;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],s)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(oc(l,t))break}else if($t(l)&&oc(l,t))break}}};function Kw(e,t,r){const n=he(e,r);if(n||mf(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),o=he(t,i),l=he(e,i);if(o&&!Array.isArray(o)&&r!==i)return{name:r};if(l&&l.type)return{name:i,error:l};if(l&&l.root&&l.root.type)return{name:`${i}.root`,error:l.root};s.pop()}return{name:r}}var e$=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return br(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(o=>t[o]===(!n||Mn.all))},t$=(e,t,r)=>!e||!t||e===t||ac(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),r$=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,n$=(e,t)=>!fy(he(e,t)).length&&It(e,t),s$=(e,t,r)=>{const n=ac(he(e,r));return ht(n,"root",t[r]),ht(e,r,n),e};function Gw(e,t,r="validate"){if(Hr(e)||Array.isArray(e)&&e.every(Hr)||Yn(e)&&!e)return{type:r,message:Hr(e)?e:"",ref:t}}var Ga=e=>$t(e)&&!ah(e)?e:{value:e,message:""},Qw=async(e,t,r,n,s,i)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:p,pattern:f,validate:v,name:g,valueAsNumber:b,mount:y}=e._f,x=he(r,g);if(!y||t.has(g))return{};const w=l?l[0]:o,_=L=>{s&&w.reportValidity&&(w.setCustomValidity(Yn(L)?"":L||""),w.reportValidity())},S={},j=gy(o),k=cu(o),P=j||k,A=(b||py(o))&&_t(o.value)&&_t(x)||ih(o)&&o.value===""||x===""||Array.isArray(x)&&!x.length,M=Y1.bind(null,g,n,S),W=(L,z,O,J=vs.maxLength,Y=vs.minLength)=>{const re=L?z:O;S[g]={type:L?J:Y,message:re,ref:o,...M(L?J:Y,re)}};if(i?!Array.isArray(x)||!x.length:c&&(!P&&(A||Or(x))||Yn(x)&&!x||k&&!eN(l).isValid||j&&!rN(l).isValid)){const{value:L,message:z}=Hr(c)?{value:!!c,message:c}:Ga(c);if(L&&(S[g]={type:vs.required,message:z,ref:w,...M(vs.required,z)},!n))return _(z),S}if(!A&&(!Or(h)||!Or(p))){let L,z;const O=Ga(p),J=Ga(h);if(!Or(x)&&!isNaN(x)){const Y=o.valueAsNumber||x&&+x;Or(O.value)||(L=Y>O.value),Or(J.value)||(z=Y<J.value)}else{const Y=o.valueAsDate||new Date(x),re=R=>new Date(new Date().toDateString()+" "+R),D=o.type=="time",N=o.type=="week";Hr(O.value)&&x&&(L=D?re(x)>re(O.value):N?x>O.value:Y>new Date(O.value)),Hr(J.value)&&x&&(z=D?re(x)<re(J.value):N?x<J.value:Y<new Date(J.value))}if((L||z)&&(W(!!L,O.message,J.message,vs.max,vs.min),!n))return _(S[g].message),S}if((u||d)&&!A&&(Hr(x)||i&&Array.isArray(x))){const L=Ga(u),z=Ga(d),O=!Or(L.value)&&x.length>+L.value,J=!Or(z.value)&&x.length<+z.value;if((O||J)&&(W(O,L.message,z.message),!n))return _(S[g].message),S}if(f&&!A&&Hr(x)){const{value:L,message:z}=Ga(f);if(ah(L)&&!x.match(L)&&(S[g]={type:vs.pattern,message:z,ref:o,...M(vs.pattern,z)},!n))return _(z),S}if(v){if(In(v)){const L=await v(x,r),z=Gw(L,w);if(z&&(S[g]={...z,...M(vs.validate,z.message)},!n))return _(z.message),S}else if($t(v)){let L={};for(const z in v){if(!br(L)&&!n)break;const O=Gw(await v[z](x,r),w,z);O&&(L={...O,...M(z,O.message)},_(O.message),n&&(S[g]=L))}if(!br(L)&&(S[g]={ref:w,...L},!n))return S}}return _(!0),S};const i$={mode:Mn.onSubmit,reValidateMode:Mn.onChange,shouldFocusError:!0};function a$(e={}){let t={...i$,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:In(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=$t(t.defaultValues)||$t(t.values)?Wt(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:Wt(s),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let p={...h};const f={array:Fw(),state:Fw()},v=t.criteriaMode===Mn.all,g=E=>I=>{clearTimeout(u),u=setTimeout(E,I)},b=async E=>{if(!o.keepIsValid&&!t.disabled&&(h.isValid||p.isValid||E)){let I;t.resolver?(I=br((await P()).errors),y()):I=await M(n,!0),I!==r.isValid&&f.state.next({isValid:I})}},y=(E,I)=>{!t.disabled&&(h.isValidating||h.validatingFields||p.isValidating||p.validatingFields)&&((E||Array.from(l.mount)).forEach($=>{$&&(I?ht(r.validatingFields,$,I):It(r.validatingFields,$))}),f.state.next({validatingFields:r.validatingFields,isValidating:!br(r.validatingFields)}))},x=(E,I=[],$,ae,X=!0,B=!0)=>{if(ae&&$&&!t.disabled){if(o.action=!0,B&&Array.isArray(he(n,E))){const me=$(he(n,E),ae.argA,ae.argB);X&&ht(n,E,me)}if(B&&Array.isArray(he(r.errors,E))){const me=$(he(r.errors,E),ae.argA,ae.argB);X&&ht(r.errors,E,me),n$(r.errors,E)}if((h.touchedFields||p.touchedFields)&&B&&Array.isArray(he(r.touchedFields,E))){const me=$(he(r.touchedFields,E),ae.argA,ae.argB);X&&ht(r.touchedFields,E,me)}(h.dirtyFields||p.dirtyFields)&&(r.dirtyFields=no(s,i)),f.state.next({name:E,isDirty:L(E,I),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ht(i,E,I)},w=(E,I)=>{ht(r.errors,E,I),f.state.next({errors:r.errors})},_=E=>{r.errors=E,f.state.next({errors:r.errors,isValid:!1})},S=(E,I,$,ae)=>{const X=he(n,E);if(X){const B=he(i,E,_t($)?he(s,E):$);_t(B)||ae&&ae.defaultChecked||I?ht(i,E,I?B:Bw(X._f)):J(E,B),o.mount&&!o.action&&b()}},j=(E,I,$,ae,X)=>{let B=!1,me=!1;const Ze={name:E};if(!t.disabled){if(!$||ae){(h.isDirty||p.isDirty)&&(me=r.isDirty,r.isDirty=Ze.isDirty=L(),B=me!==Ze.isDirty);const Xe=ai(he(s,E),I);me=!!he(r.dirtyFields,E),Xe?It(r.dirtyFields,E):ht(r.dirtyFields,E,!0),Ze.dirtyFields=r.dirtyFields,B=B||(h.dirtyFields||p.dirtyFields)&&me!==!Xe}if($){const Xe=he(r.touchedFields,E);Xe||(ht(r.touchedFields,E,$),Ze.touchedFields=r.touchedFields,B=B||(h.touchedFields||p.touchedFields)&&Xe!==$)}B&&X&&f.state.next(Ze)}return B?Ze:{}},k=(E,I,$,ae)=>{const X=he(r.errors,E),B=(h.isValid||p.isValid)&&Yn(I)&&r.isValid!==I;if(t.delayError&&$?(c=g(()=>w(E,$)),c(t.delayError)):(clearTimeout(u),c=null,$?ht(r.errors,E,$):It(r.errors,E)),($?!ai(X,$):X)||!br(ae)||B){const me={...ae,...B&&Yn(I)?{isValid:I}:{},errors:r.errors,name:E};r={...r,...me},f.state.next(me)}},P=async E=>(y(E,!0),await t.resolver(i,t.context,JL(E||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation))),A=async E=>{const{errors:I}=await P(E);if(y(E),E)for(const $ of E){const ae=he(I,$);ae?ht(r.errors,$,ae):It(r.errors,$)}else r.errors=I;return I},M=async(E,I,$={valid:!0})=>{for(const ae in E){const X=E[ae];if(X){const{_f:B,...me}=X;if(B){const Ze=l.array.has(B.name),Xe=X._f&&ZL(X._f);Xe&&h.validatingFields&&y([B.name],!0);const Ot=await Qw(X,l.disabled,i,v,t.shouldUseNativeValidation&&!I,Ze);if(Xe&&h.validatingFields&&y([B.name]),Ot[B.name]&&($.valid=!1,I||e.shouldUseNativeValidation))break;!I&&(he(Ot,B.name)?Ze?s$(r.errors,Ot,B.name):ht(r.errors,B.name,Ot[B.name]):It(r.errors,B.name))}!br(me)&&await M(me,I,$)}}return $.valid},W=()=>{for(const E of l.unMount){const I=he(n,E);I&&(I._f.refs?I._f.refs.every($=>!fm($)):!fm(I._f.ref))&&ze(E)}l.unMount=new Set},L=(E,I)=>!t.disabled&&(E&&I&&ht(i,E,I),!ai(le(),s)),z=(E,I,$)=>qL(E,l,{...o.mount?i:_t(I)?s:Hr(E)?{[E]:I}:I},$,I),O=E=>fy(he(o.mount?i:s,E,t.shouldUnregister?he(s,E,[]):[])),J=(E,I,$={})=>{const ae=he(n,E);let X=I;if(ae){const B=ae._f;B&&(!B.disabled&&ht(i,E,tN(I,B)),X=ih(B.ref)&&Or(I)?"":I,Z1(B.ref)?[...B.ref.options].forEach(me=>me.selected=X.includes(me.value)):B.refs?cu(B.ref)?B.refs.forEach(me=>{(!me.defaultChecked||!me.disabled)&&(Array.isArray(X)?me.checked=!!X.find(Ze=>Ze===me.value):me.checked=X===me.value||!!X)}):B.refs.forEach(me=>me.checked=me.value===X):py(B.ref)?B.ref.value="":(B.ref.value=X,B.ref.type||f.state.next({name:E,values:Wt(i)})))}($.shouldDirty||$.shouldTouch)&&j(E,X,$.shouldTouch,$.shouldDirty,!0),$.shouldValidate&&R(E)},Y=(E,I,$)=>{for(const ae in I){if(!I.hasOwnProperty(ae))return;const X=I[ae],B=E+"."+ae,me=he(n,B);(l.array.has(E)||$t(X)||me&&!me._f)&&!ca(X)?Y(B,X,$):J(B,X,$)}},re=(E,I,$={})=>{const ae=he(n,E),X=l.array.has(E),B=Wt(I);ht(i,E,B),X?(f.array.next({name:E,values:Wt(i)}),(h.isDirty||h.dirtyFields||p.isDirty||p.dirtyFields)&&$.shouldDirty&&f.state.next({name:E,dirtyFields:no(s,i),isDirty:L(E,B)})):ae&&!ae._f&&!Or(B)?Y(E,B,$):J(E,B,$),Hw(E,l)?f.state.next({...r,name:E,values:Wt(i)}):f.state.next({name:o.mount?E:void 0,values:Wt(i)})},D=async E=>{o.mount=!0;const I=E.target;let $=I.name,ae=!0;const X=he(n,$),B=Xe=>{ae=Number.isNaN(Xe)||ca(Xe)&&isNaN(Xe.getTime())||ai(Xe,he(i,$,Xe))},me=Ww(t.mode),Ze=Ww(t.reValidateMode);if(X){let Xe,Ot;const ps=I.type?Bw(X._f):$L(E),yn=E.type===$w.BLUR||E.type===$w.FOCUS_OUT,Sl=!XL(X._f)&&!t.resolver&&!he(r.errors,$)&&!X._f.deps||r$(yn,he(r.touchedFields,$),r.isSubmitted,Ze,me),Kn=Hw($,l,yn);ht(i,$,ps),yn?(!I||!I.readOnly)&&(X._f.onBlur&&X._f.onBlur(E),c&&c(0)):X._f.onChange&&X._f.onChange(E);const Ba=j($,ps,yn),Ws=!br(Ba)||Kn;if(!yn&&f.state.next({name:$,type:E.type,values:Wt(i)}),Sl)return(h.isValid||p.isValid)&&(t.mode==="onBlur"?yn&&b():yn||b()),Ws&&f.state.next({name:$,...Kn?{}:Ba});if(!yn&&Kn&&f.state.next({...r}),t.resolver){const{errors:pu}=await P([$]);if(y([$]),B(ps),ae){const kf=Kw(r.errors,n,$),kl=Kw(pu,n,kf.name||$);Xe=kl.error,$=kl.name,Ot=br(pu)}}else y([$],!0),Xe=(await Qw(X,l.disabled,i,v,t.shouldUseNativeValidation))[$],y([$]),B(ps),ae&&(Xe?Ot=!1:(h.isValid||p.isValid)&&(Ot=await M(n,!0)));ae&&(X._f.deps&&(!Array.isArray(X._f.deps)||X._f.deps.length>0)&&R(X._f.deps),k($,Ot,Xe,Ba))}},N=(E,I)=>{if(he(r.errors,I)&&E.focus)return E.focus(),1},R=async(E,I={})=>{let $,ae;const X=ac(E);if(t.resolver){const B=await A(_t(E)?E:X);$=br(B),ae=E?!X.some(me=>he(B,me)):$}else E?(ae=(await Promise.all(X.map(async B=>{const me=he(n,B);return await M(me&&me._f?{[B]:me}:me)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=$=await M(n);return f.state.next({...!Hr(E)||(h.isValid||p.isValid)&&$!==r.isValid?{}:{name:E},...t.resolver||!E?{isValid:$}:{},errors:r.errors}),I.shouldFocus&&!ae&&oc(n,N,E?X:l.mount),ae},le=(E,I)=>{let $={...o.mount?i:s};return I&&($=J1(I.dirtyFields?r.dirtyFields:r.touchedFields,$)),_t(E)?$:Hr(E)?he($,E):E.map(ae=>he($,ae))},ue=(E,I)=>({invalid:!!he((I||r).errors,E),isDirty:!!he((I||r).dirtyFields,E),error:he((I||r).errors,E),isValidating:!!he(r.validatingFields,E),isTouched:!!he((I||r).touchedFields,E)}),Re=E=>{E&&ac(E).forEach(I=>It(r.errors,I)),f.state.next({errors:E?r.errors:{}})},Se=(E,I,$)=>{const ae=(he(n,E,{_f:{}})._f||{}).ref,X=he(r.errors,E)||{},{ref:B,message:me,type:Ze,...Xe}=X;ht(r.errors,E,{...Xe,...I,ref:ae}),f.state.next({name:E,errors:r.errors,isValid:!1}),$&&$.shouldFocus&&ae&&ae.focus&&ae.focus()},et=(E,I)=>In(E)?f.state.subscribe({next:$=>"values"in $&&E(z(void 0,I),$)}):z(E,I,!0),Je=E=>f.state.subscribe({next:I=>{t$(E.name,I.name,E.exact)&&e$(I,E.formState||h,Gi,E.reRenderRoot)&&E.callback({values:{...i},...r,...I,defaultValues:s})}}).unsubscribe,ee=E=>(o.mount=!0,p={...p,...E.formState},Je({...E,formState:{...d,...E.formState}})),ze=(E,I={})=>{for(const $ of E?ac(E):l.mount)l.mount.delete($),l.array.delete($),I.keepValue||(It(n,$),It(i,$)),!I.keepError&&It(r.errors,$),!I.keepDirty&&It(r.dirtyFields,$),!I.keepTouched&&It(r.touchedFields,$),!I.keepIsValidating&&It(r.validatingFields,$),!t.shouldUnregister&&!I.keepDefaultValue&&It(s,$);f.state.next({values:Wt(i)}),f.state.next({...r,...I.keepDirty?{isDirty:L()}:{}}),!I.keepIsValid&&b()},Ve=({disabled:E,name:I})=>{if(Yn(E)&&o.mount||E||l.disabled.has(I)){const X=l.disabled.has(I)!==!!E;E?l.disabled.add(I):l.disabled.delete(I),X&&o.mount&&!o.action&&b()}},Me=(E,I={})=>{let $=he(n,E);const ae=Yn(I.disabled)||Yn(t.disabled);return ht(n,E,{...$||{},_f:{...$&&$._f?$._f:{ref:{name:E}},name:E,mount:!0,...I}}),l.mount.add(E),$?Ve({disabled:Yn(I.disabled)?I.disabled:t.disabled,name:E}):S(E,!0,I.value),{...ae?{disabled:I.disabled||t.disabled}:{},...t.progressive?{required:!!I.required,min:Dl(I.min),max:Dl(I.max),minLength:Dl(I.minLength),maxLength:Dl(I.maxLength),pattern:Dl(I.pattern)}:{},name:E,onChange:D,onBlur:D,ref:X=>{if(X){Me(E,I),$=he(n,E);const B=_t(X.value)&&X.querySelectorAll&&X.querySelectorAll("input,select,textarea")[0]||X,me=KL(B),Ze=$._f.refs||[];if(me?Ze.find(Xe=>Xe===B):B===$._f.ref)return;ht(n,E,{_f:{...$._f,...me?{refs:[...Ze.filter(fm),B,...Array.isArray(he(s,E))?[{}]:[]],ref:{type:B.type,name:E}}:{ref:B}}}),S(E,!1,void 0,B)}else $=he(n,E,{}),$._f&&($._f.mount=!1),(t.shouldUnregister||I.shouldUnregister)&&!(UL(l.array,E)&&o.action)&&l.unMount.add(E)}}},De=()=>t.shouldFocusError&&oc(n,N,l.mount),qe=E=>{Yn(E)&&(f.state.next({disabled:E}),oc(n,(I,$)=>{const ae=he(n,$);ae&&(I.disabled=ae._f.disabled||E,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(X=>{X.disabled=ae._f.disabled||E}))},0,!1))},Bt=(E,I)=>async $=>{let ae;$&&($.preventDefault&&$.preventDefault(),$.persist&&$.persist());let X=Wt(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:B,values:me}=await P();y(),r.errors=B,X=Wt(me)}else await M(n);if(l.disabled.size)for(const B of l.disabled)It(X,B);if(It(r.errors,"root"),br(r.errors)){f.state.next({errors:{}});try{await E(X,$)}catch(B){ae=B}}else I&&await I({...r.errors},$),De(),setTimeout(De);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:br(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},Rr=(E,I={})=>{he(n,E)&&(_t(I.defaultValue)?re(E,Wt(he(s,E))):(re(E,I.defaultValue),ht(s,E,Wt(I.defaultValue))),I.keepTouched||It(r.touchedFields,E),I.keepDirty||(It(r.dirtyFields,E),r.isDirty=I.defaultValue?L(E,Wt(he(s,E))):L()),I.keepError||(It(r.errors,E),h.isValid&&b()),f.state.next({...r}))},Hn=(E,I={})=>{const $=E?Wt(E):s,ae=Wt($),X=br(E),B=X?s:ae;if(I.keepDefaultValues||(s=$),!I.keepValues){if(I.keepDirtyValues){const me=new Set([...l.mount,...Object.keys(no(s,i))]);for(const Ze of Array.from(me)){const Xe=he(r.dirtyFields,Ze),Ot=he(i,Ze),ps=he(B,Ze);Xe&&!_t(Ot)?ht(B,Ze,Ot):!Xe&&!_t(ps)&&re(Ze,ps)}}else{if(hy&&_t(E))for(const me of l.mount){const Ze=he(n,me);if(Ze&&Ze._f){const Xe=Array.isArray(Ze._f.refs)?Ze._f.refs[0]:Ze._f.ref;if(ih(Xe)){const Ot=Xe.closest("form");if(Ot){Ot.reset();break}}}}if(I.keepFieldsRef)for(const me of l.mount)re(me,he(B,me));else n={}}i=t.shouldUnregister?I.keepDefaultValues?Wt(s):{}:Wt(B),f.array.next({values:{...B}}),f.state.next({values:{...B}})}l={mount:I.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!I.keepIsValid||!!I.keepDirtyValues||!t.shouldUnregister&&!br(B),o.watch=!!t.shouldUnregister,o.keepIsValid=!!I.keepIsValid,o.action=!1,I.keepErrors||(r.errors={}),f.state.next({submitCount:I.keepSubmitCount?r.submitCount:0,isDirty:X?!1:I.keepDirty?r.isDirty:!!(I.keepDefaultValues&&!ai(E,s)),isSubmitted:I.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:X?{}:I.keepDirtyValues?I.keepDefaultValues&&i?no(s,i):r.dirtyFields:I.keepDefaultValues&&E?no(s,E):I.keepDirty?r.dirtyFields:{},touchedFields:I.keepTouched?r.touchedFields:{},errors:I.keepErrors?r.errors:{},isSubmitSuccessful:I.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:s})},vn=(E,I)=>Hn(In(E)?E(i):E,{...t.resetOptions,...I}),ms=(E,I={})=>{const $=he(n,E),ae=$&&$._f;if(ae){const X=ae.refs?ae.refs[0]:ae.ref;X.focus&&setTimeout(()=>{X.focus(),I.shouldSelect&&In(X.select)&&X.select()})}},Gi=E=>{r={...r,...E}},jl={control:{register:Me,unregister:ze,getFieldState:ue,handleSubmit:Bt,setError:Se,_subscribe:Je,_runSchema:P,_updateIsValidating:y,_focusError:De,_getWatch:z,_getDirty:L,_setValid:b,_setFieldArray:x,_setDisabledField:Ve,_setErrors:_,_getFieldArray:O,_reset:Hn,_resetDefaultValues:()=>In(t.defaultValues)&&t.defaultValues().then(E=>{vn(E,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:qe,_subjects:f,_proxyFormState:h,get _fields(){return n},get _formValues(){return i},get _state(){return o},set _state(E){o=E},get _defaultValues(){return s},get _names(){return l},set _names(E){l=E},get _formState(){return r},get _options(){return t},set _options(E){t={...t,...E}}},subscribe:ee,trigger:R,register:Me,handleSubmit:Bt,watch:et,setValue:re,getValues:le,reset:vn,resetField:Rr,clearErrors:Re,unregister:ze,setError:Se,setFocus:ms,getFieldState:ue};return{...jl,formControl:jl}}function Ut(e={}){const t=V.useRef(void 0),r=V.useRef(void 0),[n,s]=V.useState({isDirty:!1,isValidating:!1,isLoading:In(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:In(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!In(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=a$(e);t.current={...l,formState:n}}const i=t.current.control;return i._options=e,WL(()=>{const o=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(l=>({...l,isReady:!0})),i._formState.isReady=!0,o},[i]),V.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),V.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),V.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),V.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),V.useEffect(()=>{if(i._proxyFormState.isDirty){const o=i._getDirty();o!==n.isDirty&&i._subjects.state.next({isDirty:o})}},[i,n.isDirty]),V.useEffect(()=>{var o;e.values&&!ai(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),!((o=i._options.resetOptions)===null||o===void 0)&&o.keepIsValid||i._setValid(),r.current=e.values,s(l=>({...l}))):i._resetDefaultValues()},[i,e.values]),V.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=V.useMemo(()=>BL(n,i),[i,n]),t.current}const Yw=(e,t,r)=>{if(e&&"reportValidity"in e){const n=he(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},nN=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Yw(n.ref,r,e):n.refs&&n.refs.forEach(s=>Yw(s,r,e))}},o$=(e,t)=>{t.shouldUseNativeValidation&&nN(e,t);const r={};for(const n in e){const s=he(t.fields,n),i=Object.assign(e[n]||{},{ref:s&&s.ref});if(l$(t.names||Object.keys(e),n)){const o=Object.assign({},he(r,n));ht(o,"root",i),ht(r,n,o)}else ht(r,n,i)}return r},l$=(e,t)=>e.some(r=>r.startsWith(t+"."));var c$=function(e,t){for(var r={};e.length;){var n=e[0],s=n.code,i=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:i,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=Y1(o,t,r,s,u?[].concat(u,n.message):n.message)}e.shift()}return r},zt=function(e,t,r){return r===void 0&&(r={}),function(n,s,i){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return i.shouldUseNativeValidation&&nN({},i),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l==null?void 0:l.errors)}(o))return{values:{},errors:o$(c$(o.errors,!i.shouldUseNativeValidation&&i.criteriaMode==="all"),i)};throw o}))}catch(o){return Promise.reject(o)}}},Ye;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(l=>typeof s[s[l]]!="number"),o={};for(const l of i)o[l]=s[l];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=n,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ye||(Ye={}));var Jw;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Jw||(Jw={}));const fe=Ye.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ri=e=>{switch(typeof e){case"undefined":return fe.undefined;case"string":return fe.string;case"number":return Number.isNaN(e)?fe.nan:fe.number;case"boolean":return fe.boolean;case"function":return fe.function;case"bigint":return fe.bigint;case"symbol":return fe.symbol;case"object":return Array.isArray(e)?fe.array:e===null?fe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?fe.promise:typeof Map<"u"&&e instanceof Map?fe.map:typeof Set<"u"&&e instanceof Set?fe.set:typeof Date<"u"&&e instanceof Date?fe.date:fe.object;default:return fe.unknown}},K=Ye.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ls extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(i){return i.message},n={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return s(this),n}static assert(t){if(!(t instanceof Ls))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ye.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];r[i]=r[i]||[],r[i].push(t(s))}else n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ls.create=e=>new Ls(e);const ag=(e,t)=>{let r;switch(e.code){case K.invalid_type:e.received===fe.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case K.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,Ye.jsonStringifyReplacer)}`;break;case K.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ye.joinValues(e.keys,", ")}`;break;case K.invalid_union:r="Invalid input";break;case K.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ye.joinValues(e.options)}`;break;case K.invalid_enum_value:r=`Invalid enum value. Expected ${Ye.joinValues(e.options)}, received '${e.received}'`;break;case K.invalid_arguments:r="Invalid function arguments";break;case K.invalid_return_type:r="Invalid function return type";break;case K.invalid_date:r="Invalid date";break;case K.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:Ye.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case K.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case K.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case K.custom:r="Invalid input";break;case K.invalid_intersection_types:r="Intersection results could not be merged";break;case K.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case K.not_finite:r="Number must be finite";break;default:r=t.defaultError,Ye.assertNever(e)}return{message:r}};let u$=ag;function d$(){return u$}const h$=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,i=[...r,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...s,path:i,message:l}};function oe(e,t){const r=d$(),n=h$({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===ag?void 0:ag].filter(s=>!!s)});e.common.issues.push(n)}class Zr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return Pe;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const i=await s.key,o=await s.value;n.push({key:i,value:o})}return Zr.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Pe;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(n[i.value]=o.value)}return{status:t.value,value:n}}}const Pe=Object.freeze({status:"aborted"}),Gl=e=>({status:"dirty",value:e}),pn=e=>({status:"valid",value:e}),Zw=e=>e.status==="aborted",Xw=e=>e.status==="dirty",sl=e=>e.status==="valid",oh=e=>typeof Promise<"u"&&e instanceof Promise;var pe;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pe||(pe={}));class $i{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const eb=(e,t)=>{if(sl(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ls(e.common.issues);return this._error=r,this._error}}};function $e(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:s}}class Ge{get description(){return this._def.description}_getType(t){return ri(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ri(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Zr,ctx:{common:t.parent.common,data:t.data,parsedType:ri(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(oh(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:(r==null?void 0:r.async)??!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ri(t)},s=this._parseSync({data:t,path:n.path,parent:n});return eb(n,s)}"~validate"(t){var n,s;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ri(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:r});return sl(i)?{value:i.value}:{issues:r.common.issues}}catch(i){(s=(n=i==null?void 0:i.message)==null?void 0:n.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(i=>sl(i)?{value:i.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ri(t)},s=this._parse({data:t,path:n.path,parent:n}),i=await(oh(s)?s:Promise.resolve(s));return eb(n,i)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,i)=>{const o=t(s),l=()=>i.addIssue({code:K.custom,...n(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new ol({schema:this,typeName:Te.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Ti.create(this,this._def)}nullable(){return ll.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this)}promise(){return dh.create(this,this._def)}or(t){return ch.create([this,t],this._def)}and(t){return uh.create(this,t,this._def)}transform(t){return new ol({...$e(this._def),schema:this,typeName:Te.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new cg({...$e(this._def),innerType:this,defaultValue:r,typeName:Te.ZodDefault})}brand(){return new M$({typeName:Te.ZodBranded,type:this,...$e(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new ug({...$e(this._def),innerType:this,catchValue:r,typeName:Te.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return vy.create(this,t)}readonly(){return dg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const f$=/^c[^\s-]{8,}$/i,m$=/^[0-9a-z]+$/,p$=/^[0-9A-HJKMNP-TV-Z]{26}$/i,g$=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,v$=/^[a-z0-9_-]{21}$/i,y$=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,x$=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w$=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,b$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mm;const _$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,j$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,S$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,k$=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,N$=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C$=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,sN="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E$=new RegExp(`^${sN}$`);function iN(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function R$(e){return new RegExp(`^${iN(e)}$`)}function P$(e){let t=`${sN}T${iN(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function T$(e,t){return!!((t==="v4"||!t)&&_$.test(e)||(t==="v6"||!t)&&S$.test(e))}function A$(e,t){if(!y$.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function O$(e,t){return!!((t==="v4"||!t)&&j$.test(e)||(t==="v6"||!t)&&k$.test(e))}class Es extends Ge{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==fe.string){const i=this._getOrReturnCtx(t);return oe(i,{code:K.invalid_type,expected:fe.string,received:i.parsedType}),Pe}const n=new Zr;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),n.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,l=t.data.length<i.value;(o||l)&&(s=this._getOrReturnCtx(t,s),o?oe(s,{code:K.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):l&&oe(s,{code:K.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),n.dirty())}else if(i.kind==="email")w$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"email",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="emoji")mm||(mm=new RegExp(b$,"u")),mm.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"emoji",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="uuid")g$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"uuid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="nanoid")v$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"nanoid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid")f$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cuid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="cuid2")m$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cuid2",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="ulid")p$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"ulid",code:K.invalid_string,message:i.message}),n.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),oe(s,{validation:"url",code:K.invalid_string,message:i.message}),n.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"regex",code:K.invalid_string,message:i.message}),n.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),n.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:{startsWith:i.value},message:i.message}),n.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:{endsWith:i.value},message:i.message}),n.dirty()):i.kind==="datetime"?P$(i).test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:"datetime",message:i.message}),n.dirty()):i.kind==="date"?E$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:"date",message:i.message}),n.dirty()):i.kind==="time"?R$(i).test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{code:K.invalid_string,validation:"time",message:i.message}),n.dirty()):i.kind==="duration"?x$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"duration",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="ip"?T$(t.data,i.version)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"ip",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="jwt"?A$(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"jwt",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="cidr"?O$(t.data,i.version)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"cidr",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="base64"?N$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"base64",code:K.invalid_string,message:i.message}),n.dirty()):i.kind==="base64url"?C$.test(t.data)||(s=this._getOrReturnCtx(t,s),oe(s,{validation:"base64url",code:K.invalid_string,message:i.message}),n.dirty()):Ye.assertNever(i);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:K.invalid_string,...pe.errToObj(n)})}_addCheck(t){return new Es({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pe.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pe.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pe.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pe.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pe.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pe.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pe.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pe.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pe.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pe.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pe.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pe.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pe.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pe.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pe.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pe.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...pe.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...pe.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...pe.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...pe.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...pe.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...pe.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...pe.errToObj(r)})}nonempty(t){return this.min(1,pe.errToObj(t))}trim(){return new Es({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Es({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Es({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Es.create=e=>new Es({checks:[],typeName:Te.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});function I$(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Ia extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==fe.number){const i=this._getOrReturnCtx(t);return oe(i,{code:K.invalid_type,expected:fe.number,received:i.parsedType}),Pe}let n;const s=new Zr;for(const i of this._def.checks)i.kind==="int"?Ye.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:K.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?I$(t.data,i.value)!==0&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),oe(n,{code:K.not_finite,message:i.message}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new Ia({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new Ia({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pe.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:pe.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pe.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pe.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ye.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Ia.create=e=>new Ia({checks:[],typeName:Te.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class Ma extends Ge{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==fe.bigint)return this._getInvalidInput(t);let n;const s=new Zr;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),oe(n,{code:K.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ye.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return oe(r,{code:K.invalid_type,expected:fe.bigint,received:r.parsedType}),Pe}gte(t,r){return this.setLimit("min",t,!0,pe.toString(r))}gt(t,r){return this.setLimit("min",t,!1,pe.toString(r))}lte(t,r){return this.setLimit("max",t,!0,pe.toString(r))}lt(t,r){return this.setLimit("max",t,!1,pe.toString(r))}setLimit(t,r,n,s){return new Ma({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:pe.toString(s)}]})}_addCheck(t){return new Ma({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pe.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pe.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:pe.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ma.create=e=>new Ma({checks:[],typeName:Te.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...$e(e)});class lh extends Ge{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==fe.boolean){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.boolean,received:n.parsedType}),Pe}return pn(t.data)}}lh.create=e=>new lh({typeName:Te.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...$e(e)});class il extends Ge{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==fe.date){const i=this._getOrReturnCtx(t);return oe(i,{code:K.invalid_type,expected:fe.date,received:i.parsedType}),Pe}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return oe(i,{code:K.invalid_date}),Pe}const n=new Zr;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:K.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),n.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),oe(s,{code:K.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),n.dirty()):Ye.assertNever(i);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new il({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:pe.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:pe.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}il.create=e=>new il({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Te.ZodDate,...$e(e)});class tb extends Ge{_parse(t){if(this._getType(t)!==fe.symbol){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.symbol,received:n.parsedType}),Pe}return pn(t.data)}}tb.create=e=>new tb({typeName:Te.ZodSymbol,...$e(e)});class rb extends Ge{_parse(t){if(this._getType(t)!==fe.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.undefined,received:n.parsedType}),Pe}return pn(t.data)}}rb.create=e=>new rb({typeName:Te.ZodUndefined,...$e(e)});class nb extends Ge{_parse(t){if(this._getType(t)!==fe.null){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.null,received:n.parsedType}),Pe}return pn(t.data)}}nb.create=e=>new nb({typeName:Te.ZodNull,...$e(e)});class sb extends Ge{constructor(){super(...arguments),this._any=!0}_parse(t){return pn(t.data)}}sb.create=e=>new sb({typeName:Te.ZodAny,...$e(e)});class ib extends Ge{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pn(t.data)}}ib.create=e=>new ib({typeName:Te.ZodUnknown,...$e(e)});class Fi extends Ge{_parse(t){const r=this._getOrReturnCtx(t);return oe(r,{code:K.invalid_type,expected:fe.never,received:r.parsedType}),Pe}}Fi.create=e=>new Fi({typeName:Te.ZodNever,...$e(e)});class ab extends Ge{_parse(t){if(this._getType(t)!==fe.undefined){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.void,received:n.parsedType}),Pe}return pn(t.data)}}ab.create=e=>new ab({typeName:Te.ZodVoid,...$e(e)});class ls extends Ge{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==fe.array)return oe(r,{code:K.invalid_type,expected:fe.array,received:r.parsedType}),Pe;if(s.exactLength!==null){const o=r.data.length>s.exactLength.value,l=r.data.length<s.exactLength.value;(o||l)&&(oe(r,{code:o?K.too_big:K.too_small,minimum:l?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(oe(r,{code:K.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(oe(r,{code:K.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>s.type._parseAsync(new $i(r,o,r.path,l)))).then(o=>Zr.mergeArray(n,o));const i=[...r.data].map((o,l)=>s.type._parseSync(new $i(r,o,r.path,l)));return Zr.mergeArray(n,i)}get element(){return this._def.type}min(t,r){return new ls({...this._def,minLength:{value:t,message:pe.toString(r)}})}max(t,r){return new ls({...this._def,maxLength:{value:t,message:pe.toString(r)}})}length(t,r){return new ls({...this._def,exactLength:{value:t,message:pe.toString(r)}})}nonempty(t){return this.min(1,t)}}ls.create=(e,t)=>new ls({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Te.ZodArray,...$e(t)});function so(e){if(e instanceof Dt){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=Ti.create(so(n))}return new Dt({...e._def,shape:()=>t})}else return e instanceof ls?new ls({...e._def,type:so(e.element)}):e instanceof Ti?Ti.create(so(e.unwrap())):e instanceof ll?ll.create(so(e.unwrap())):e instanceof Da?Da.create(e.items.map(t=>so(t))):e}class Dt extends Ge{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=Ye.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==fe.object){const u=this._getOrReturnCtx(t);return oe(u,{code:K.invalid_type,expected:fe.object,received:u.parsedType}),Pe}const{status:n,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Fi&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=i[u],h=s.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $i(s,h,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof Fi){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(u==="strict")l.length>0&&(oe(s,{code:K.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=s.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $i(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,p=await d.value;u.push({key:h,value:p,alwaysSet:d.alwaysSet})}return u}).then(u=>Zr.mergeObjectSync(n,u)):Zr.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return pe.errToObj,new Dt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,r,n).message)??n.defaultError;return r.code==="unrecognized_keys"?{message:pe.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Dt({...this._def,unknownKeys:"strip"})}passthrough(){return new Dt({...this._def,unknownKeys:"passthrough"})}extend(t){return new Dt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Dt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Te.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new Dt({...this._def,catchall:t})}pick(t){const r={};for(const n of Ye.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Dt({...this._def,shape:()=>r})}omit(t){const r={};for(const n of Ye.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new Dt({...this._def,shape:()=>r})}deepPartial(){return so(this)}partial(t){const r={};for(const n of Ye.objectKeys(this.shape)){const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}return new Dt({...this._def,shape:()=>r})}required(t){const r={};for(const n of Ye.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let i=this.shape[n];for(;i instanceof Ti;)i=i._def.innerType;r[n]=i}return new Dt({...this._def,shape:()=>r})}keyof(){return aN(Ye.objectKeys(this.shape))}}Dt.create=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strip",catchall:Fi.create(),typeName:Te.ZodObject,...$e(t)});Dt.strictCreate=(e,t)=>new Dt({shape:()=>e,unknownKeys:"strict",catchall:Fi.create(),typeName:Te.ZodObject,...$e(t)});Dt.lazycreate=(e,t)=>new Dt({shape:e,unknownKeys:"strip",catchall:Fi.create(),typeName:Te.ZodObject,...$e(t)});class ch extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(i){for(const l of i)if(l.result.status==="valid")return l.result;for(const l of i)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=i.map(l=>new Ls(l.ctx.common.issues));return oe(r,{code:K.invalid_union,unionErrors:o}),Pe}if(r.common.async)return Promise.all(n.map(async i=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await i._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!i&&(i={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return r.common.issues.push(...i.ctx.common.issues),i.result;const l=o.map(c=>new Ls(c));return oe(r,{code:K.invalid_union,unionErrors:l}),Pe}}get options(){return this._def.options}}ch.create=(e,t)=>new ch({options:e,typeName:Te.ZodUnion,...$e(t)});function og(e,t){const r=ri(e),n=ri(t);if(e===t)return{valid:!0,data:e};if(r===fe.object&&n===fe.object){const s=Ye.objectKeys(t),i=Ye.objectKeys(e).filter(l=>s.indexOf(l)!==-1),o={...e,...t};for(const l of i){const c=og(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===fe.array&&n===fe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],l=t[i],c=og(o,l);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return r===fe.date&&n===fe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class uh extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(i,o)=>{if(Zw(i)||Zw(o))return Pe;const l=og(i.value,o.value);return l.valid?((Xw(i)||Xw(o))&&r.dirty(),{status:r.value,value:l.data}):(oe(n,{code:K.invalid_intersection_types}),Pe)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}uh.create=(e,t,r)=>new uh({left:e,right:t,typeName:Te.ZodIntersection,...$e(r)});class Da extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.array)return oe(n,{code:K.invalid_type,expected:fe.array,received:n.parsedType}),Pe;if(n.data.length<this._def.items.length)return oe(n,{code:K.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Pe;!this._def.rest&&n.data.length>this._def.items.length&&(oe(n,{code:K.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const i=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $i(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(i).then(o=>Zr.mergeArray(r,o)):Zr.mergeArray(r,i)}get items(){return this._def.items}rest(t){return new Da({...this._def,rest:t})}}Da.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Da({items:e,typeName:Te.ZodTuple,rest:null,...$e(t)})};class ob extends Ge{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.map)return oe(n,{code:K.invalid_type,expected:fe.map,received:n.parsedType}),Pe;const s=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:s._parse(new $i(n,l,n.path,[u,"key"])),value:i._parse(new $i(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Pe;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}ob.create=(e,t,r)=>new ob({valueType:t,keyType:e,typeName:Te.ZodMap,...$e(r)});class Dc extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==fe.set)return oe(n,{code:K.invalid_type,expected:fe.set,received:n.parsedType}),Pe;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(oe(n,{code:K.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(oe(n,{code:K.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Pe;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>i._parse(new $i(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new Dc({...this._def,minSize:{value:t,message:pe.toString(r)}})}max(t,r){return new Dc({...this._def,maxSize:{value:t,message:pe.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Dc.create=(e,t)=>new Dc({valueType:e,minSize:null,maxSize:null,typeName:Te.ZodSet,...$e(t)});class lb extends Ge{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}lb.create=(e,t)=>new lb({getter:e,typeName:Te.ZodLazy,...$e(t)});class lg extends Ge{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return oe(r,{received:r.data,code:K.invalid_literal,expected:this._def.value}),Pe}return{status:"valid",value:t.data}}get value(){return this._def.value}}lg.create=(e,t)=>new lg({value:e,typeName:Te.ZodLiteral,...$e(t)});function aN(e,t){return new al({values:e,typeName:Te.ZodEnum,...$e(t)})}class al extends Ge{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return oe(r,{expected:Ye.joinValues(n),received:r.parsedType,code:K.invalid_type}),Pe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return oe(r,{received:r.data,code:K.invalid_enum_value,options:n}),Pe}return pn(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return al.create(t,{...this._def,...r})}exclude(t,r=this._def){return al.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}al.create=aN;class cb extends Ge{_parse(t){const r=Ye.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==fe.string&&n.parsedType!==fe.number){const s=Ye.objectValues(r);return oe(n,{expected:Ye.joinValues(s),received:n.parsedType,code:K.invalid_type}),Pe}if(this._cache||(this._cache=new Set(Ye.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ye.objectValues(r);return oe(n,{received:n.data,code:K.invalid_enum_value,options:s}),Pe}return pn(t.data)}get enum(){return this._def.values}}cb.create=(e,t)=>new cb({values:e,typeName:Te.ZodNativeEnum,...$e(t)});class dh extends Ge{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==fe.promise&&r.common.async===!1)return oe(r,{code:K.invalid_type,expected:fe.promise,received:r.parsedType}),Pe;const n=r.parsedType===fe.promise?r.data:Promise.resolve(r.data);return pn(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}dh.create=(e,t)=>new dh({type:e,typeName:Te.ZodPromise,...$e(t)});class ol extends Ge{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Te.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{oe(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Pe;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Pe:c.status==="dirty"||r.value==="dirty"?Gl(c.value):c});{if(r.value==="aborted")return Pe;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Pe:l.status==="dirty"||r.value==="dirty"?Gl(l.value):l}}if(s.type==="refinement"){const o=l=>{const c=s.refinement(l,i);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Pe:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Pe:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(s.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sl(o))return Pe;const l=s.transform(o.value,i);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>sl(o)?Promise.resolve(s.transform(o.value,i)).then(l=>({status:r.value,value:l})):Pe);Ye.assertNever(s)}}ol.create=(e,t,r)=>new ol({schema:e,typeName:Te.ZodEffects,effect:t,...$e(r)});ol.createWithPreprocess=(e,t,r)=>new ol({schema:t,effect:{type:"preprocess",transform:e},typeName:Te.ZodEffects,...$e(r)});class Ti extends Ge{_parse(t){return this._getType(t)===fe.undefined?pn(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ti.create=(e,t)=>new Ti({innerType:e,typeName:Te.ZodOptional,...$e(t)});class ll extends Ge{_parse(t){return this._getType(t)===fe.null?pn(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ll.create=(e,t)=>new ll({innerType:e,typeName:Te.ZodNullable,...$e(t)});class cg extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===fe.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}cg.create=(e,t)=>new cg({innerType:e,typeName:Te.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...$e(t)});class ug extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return oh(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ls(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ls(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}ug.create=(e,t)=>new ug({innerType:e,typeName:Te.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...$e(t)});class ub extends Ge{_parse(t){if(this._getType(t)!==fe.nan){const n=this._getOrReturnCtx(t);return oe(n,{code:K.invalid_type,expected:fe.nan,received:n.parsedType}),Pe}return{status:"valid",value:t.data}}}ub.create=e=>new ub({typeName:Te.ZodNaN,...$e(e)});class M$ extends Ge{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class vy extends Ge{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Pe:i.status==="dirty"?(r.dirty(),Gl(i.value)):this._def.out._parseAsync({data:i.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Pe:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new vy({in:t,out:r,typeName:Te.ZodPipeline})}}class dg extends Ge{_parse(t){const r=this._def.innerType._parse(t),n=s=>(sl(s)&&(s.value=Object.freeze(s.value)),s);return oh(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}dg.create=(e,t)=>new dg({innerType:e,typeName:Te.ZodReadonly,...$e(t)});var Te;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Te||(Te={}));const Le=Es.create;Ia.create;Ma.create;const uu=lh.create;il.create;Fi.create;ls.create;const Vt=Dt.create;ch.create;uh.create;Da.create;const D$=lg.create,zn=al.create;dh.create;Ti.create;ll.create;const hg={string:e=>Es.create({...e,coerce:!0}),number:e=>Ia.create({...e,coerce:!0}),boolean:e=>lh.create({...e,coerce:!0}),bigint:e=>Ma.create({...e,coerce:!0}),date:e=>il.create({...e,coerce:!0})};var L$=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$$=L$.reduce((e,t)=>{const r=nu(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),F$="Label",oN=m.forwardRef((e,t)=>a.jsx($$.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));oN.displayName=F$;var lN=oN;const U$=Dv("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),se=m.forwardRef(({className:e,...t},r)=>a.jsx(lN,{ref:r,className:H(U$(),e),...t}));se.displayName=lN.displayName;var pf="Tabs",[z$]=us(pf,[of]),cN=of(),[V$,yy]=z$(pf),uN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,d=su(l),[h,p]=Ta({prop:n,onChange:s,defaultProp:i??"",caller:pf});return a.jsx(V$,{scope:r,baseId:as(),value:h,onValueChange:p,orientation:o,dir:d,activationMode:c,children:a.jsx(Ee.div,{dir:d,"data-orientation":o,...u,ref:t})})});uN.displayName=pf;var dN="TabsList",hN=m.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,i=yy(dN,r),o=cN(r);return a.jsx(Nk,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:a.jsx(Ee.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});hN.displayName=dN;var fN="TabsTrigger",mN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...i}=e,o=yy(fN,r),l=cN(r),c=vN(o.baseId,n),u=yN(o.baseId,n),d=n===o.value;return a.jsx(Ck,{asChild:!0,...l,focusable:!s,active:d,children:a.jsx(Ee.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:t,onMouseDown:ce(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:ce(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:ce(e.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!s&&h&&o.onValueChange(n)})})})});mN.displayName=fN;var pN="TabsContent",gN=m.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:i,...o}=e,l=yy(pN,r),c=vN(l.baseId,n),u=yN(l.baseId,n),d=n===l.value,h=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),a.jsx(rn,{present:s||d,children:({present:p})=>a.jsx(Ee.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&i})})});gN.displayName=pN;function vN(e,t){return`${e}-trigger-${t}`}function yN(e,t){return`${e}-content-${t}`}var B$=uN,xN=hN,wN=mN,bN=gN;const du=B$,xl=m.forwardRef(({className:e,...t},r)=>a.jsx(xN,{ref:r,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));xl.displayName=xN.displayName;const tr=m.forwardRef(({className:e,...t},r)=>a.jsx(wN,{ref:r,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));tr.displayName=wN.displayName;const rr=m.forwardRef(({className:e,...t},r)=>a.jsx(bN,{ref:r,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));rr.displayName=bN.displayName;const W$=Vt({email:Le().email("Invalid email"),password:Le().min(1,"Password required")});function q$(){const{register:e,handleSubmit:t,formState:{errors:r,isSubmitting:n}}=Ut({resolver:zt(W$)}),s=async i=>{console.log(i)};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(G,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Sign in"}),a.jsx(ge,{children:"Choose local-only or cloud-linked mode."})]}),a.jsx(Q,{children:a.jsxs(du,{defaultValue:"cloud",className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-2",children:[a.jsx(tr,{value:"local",children:"Local only"}),a.jsx(tr,{value:"cloud",children:"Cloud"})]}),a.jsxs(rr,{value:"local",className:"space-y-4 pt-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Use the gateway without a cloud account. Access the Control UI at your local URL and use QR or pairing code to connect devices."}),a.jsx(T,{asChild:!0,className:"w-full",children:a.jsx(we,{to:"/dashboard",children:"Open Local UI"})})]}),a.jsxs(rr,{value:"cloud",className:"space-y-4 pt-4",children:[a.jsxs("form",{onSubmit:t(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"email",children:"Email"}),a.jsx(Ne,{id:"email",type:"email",placeholder:"you@example.com",...e("email")}),r.email&&a.jsx("p",{className:"text-sm text-destructive",children:r.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"password",children:"Password"}),a.jsx(Ne,{id:"password",type:"password",...e("password")}),r.password&&a.jsx("p",{className:"text-sm text-destructive",children:r.password.message})]}),a.jsx("div",{className:"flex items-center justify-between text-sm",children:a.jsx(we,{to:"/forgot-password",className:"text-muted-foreground hover:text-foreground",children:"Forgot password?"})}),a.jsx(T,{type:"submit",className:"w-full",disabled:n,children:n?"Signing in...":"Sign in"})]}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t border-border"})}),a.jsx("span",{className:"relative flex justify-center text-xs uppercase text-muted-foreground",children:"Or continue with"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(T,{variant:"outline",type:"button",disabled:!0,children:[a.jsx(rA,{className:"mr-2 h-4 w-4"}),"GitHub"]}),a.jsx(T,{variant:"outline",type:"button",disabled:!0,children:"Google"})]}),a.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["No account?"," ",a.jsx(we,{to:"/signup",className:"font-medium text-primary hover:underline",children:"Sign up"})]})]})]})})]})})}const H$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class xy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class K$ extends xy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class db extends xy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hb extends xy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var fg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(fg||(fg={}));class G${constructor(t,{headers:r={},customFetch:n,region:s=fg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=H$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return hM(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let p={},{region:f}=n;f||(f=this.region);const v=new URL(`${this.url}/${r}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(p["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(p["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let b=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(b=o.signal,d.addEventListener("abort",()=>o.abort())):b=o.signal);const y=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),l),body:g,signal:b}).catch(S=>{throw new K$(S)}),x=y.headers.get("x-relay-error");if(x&&x==="true")throw new db(y);if(!y.ok)throw new hb(y);let w=((s=y.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield y.json():w==="application/octet-stream"||w==="application/pdf"?_=yield y.blob():w==="text/event-stream"?_=y:w==="multipart/form-data"?_=yield y.formData():_=yield y.text(),{data:_,error:null,response:y}}catch(l){return{data:null,error:l,response:l instanceof hb||l instanceof db?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Q$=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Y$=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,l=null,c=null,u=i.status,d=i.statusText;if(i.ok){var h,p;if(r.method!=="HEAD"){var f;const y=await i.text();y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((f=r.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?l=y:l=JSON.parse(y))}const g=(h=r.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&b&&b.length>1&&(c=parseInt(b[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await i.text();try{o=JSON.parse(g),Array.isArray(o)&&i.status===404&&(l=[],o=null,u=200,d="OK")}catch{i.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new Q$(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let l="";const c=i==null?void 0:i.cause;if(c){var u,d,h,p;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(h=i==null?void 0:i.name)!==null&&h!==void 0?h:"FetchError"}: ${i==null?void 0:i.message}`,l+=`

Caused by: ${(p=c==null?void 0:c.name)!==null&&p!==void 0?p:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var f;l=(f=i==null?void 0:i.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},J$=class extends Y${select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${c}"; options=${l};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const fb=new RegExp("[,()]");var io=class extends J${eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&fb.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Z$=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new io({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);i.searchParams.set("columns",c.join(","))}}return new io({method:s,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);l.searchParams.set("columns",d.join(","))}}return new io({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new io({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new io({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},X$=class _N{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Z$(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new _N(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=n&&Object.values(r).some(d);h?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{c.searchParams.append(f,v)})):(l="POST",u=r);const p=new Headers(this.headers);return h?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new io({method:l,url:c,headers:p,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class eF{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tF="2.93.3",rF=`realtime-js/${tF}`,nF="1.0.0",jN="2.0.0",mb=jN,mg=1e4,sF=1e3,iF=100;var ni;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ni||(ni={}));var qt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(qt||(qt={}));var An;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(An||(An={}));var pg;(function(e){e.websocket="websocket"})(pg||(pg={}));var na;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(na||(na={}));class aF{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,i;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,h.length),v.setUint8(g++,r),Array.from(c,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(l,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(o,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(u,y=>v.setUint8(g++,y.charCodeAt(0))),Array.from(h,y=>v.setUint8(g++,y.charCodeAt(0)));var b=new Uint8Array(f.byteLength+n.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(n),f.byteLength),b.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+i));c=c+i;const h=n.decode(t.slice(c,c+o));c=c+o;const p=t.slice(c,t.byteLength),f=l===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return o>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class SN{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var mt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(mt||(mt={}));const pb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=oF(o,e,t,s),i),{}):{}},oF=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?kN(i,o):gg(o)},kN=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dF(t,r)}switch(e){case mt.bool:return lF(t);case mt.float4:case mt.float8:case mt.int2:case mt.int4:case mt.int8:case mt.numeric:case mt.oid:return cF(t);case mt.json:case mt.jsonb:return uF(t);case mt.timestamp:return hF(t);case mt.abstime:case mt.date:case mt.daterange:case mt.int4range:case mt.int8range:case mt.money:case mt.reltime:case mt.text:case mt.time:case mt.timestamptz:case mt.timetz:case mt.tsrange:case mt.tstzrange:return gg(t);default:return gg(t)}},gg=e=>e,lF=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cF=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uF=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},dF=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>kN(t,l))}return e},hF=e=>typeof e=="string"?e.replace(" ","T"):e,NN=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class pm{constructor(t,r,n={},s=mg){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gb||(gb={}));class lc{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lc.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=lc.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=lc.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),v=d.filter(b=>f.indexOf(b.presence_ref)<0),g=h.filter(b=>p.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...p)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vb||(vb={}));var cc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cc||(cc={}));var ws;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ws||(ws={}));class bo{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=qt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pm(this,An.join,this.params,this.timeout),this.rejoinTimer=new SN(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=qt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(An.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new lc(this),this.broadcastEndpointURL=NN(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==qt.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[cc.PRESENCE]&&this.bindings[cc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(ws.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(ws.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(ws.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,b=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,y=[];for(let x=0;x<b;x++){const w=g[x],{filter:{event:_,schema:S,table:j,filter:k}}=w,P=f&&f[x];if(P&&P.event===_&&bo.isFilterValueEqual(P.schema,S)&&bo.isFilterValueEqual(P.table,j)&&bo.isFilterValueEqual(P.filter,k))y.push(Object.assign(Object.assign({},w),{id:P.id}));else{this.unsubscribe(),this.state=qt.errored,t==null||t(ws.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(ws.SUBSCRIBED);return}}).receive("error",f=>{this.state=qt.errored,t==null||t(ws.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ws.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===qt.joined&&t===cc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(An.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new pm(this,An.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new pm(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>iF){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=An;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,g,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(g=f.filter)===null||g===void 0?void 0:g.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(f=>{var v,g,b,y,x,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const _=f.id,S=(v=f.filter)===null||v===void 0?void 0:v.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(x=(y=f==null?void 0:f.filter)===null||y===void 0?void 0:y.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:g,table:b,commit_timestamp:y,type:x,errors:w}=v;p=Object.assign(Object.assign({},{schema:g,table:b,commit_timestamp:y,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(p,n)})}_isClosed(){return this.state===qt.closed}_isJoined(){return this.state===qt.joined}_isJoining(){return this.state===qt.joining}_isLeaving(){return this.state===qt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&bo.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(An.close,{},t)}_onError(t){this._on(An.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=pb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=pb(t.columns,t.old_record)),r}}const gm=()=>{},Wu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fF=[1e3,2e3,5e3,1e4],mF=1e4,pF=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gF{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mg,this.transport=null,this.heartbeatIntervalMs=Wu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=gm,this.ref=0,this.reconnectTimer=null,this.vsn=mb,this.logger=gm,this.conn=null,this.sendBuffer=[],this.serializer=new aF,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${pg.websocket}`,this.httpEndpoint=NN(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eF.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ni.connecting:return na.Connecting;case ni.open:return na.Open;case ni.closing:return na.Closing;default:return na.Closed}}isConnected(){return this.connectionState()===na.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new bo(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sF,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Wu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ni.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ni.open||this.conn.readyState===ni.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(An.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([pF],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:rF};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(An.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SN(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Wu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,o,l,c,u,d,h,p,f;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:mg,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Wu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:gm,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:mb,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>fF[v-1]||mF,this.vsn){case nF:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,g)=>g(JSON.parse(v));break;case jN:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Lc=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function vF(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function yF(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function xF(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=vF(e.baseUrl,n,s),c=await yF(e.auth),u=await t(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new Lc((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function qu(e){return e.join("")}var wF=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:qu(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qu(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qu(e.namespace)}`}),!0}catch(t){if(t instanceof Lc&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof Lc&&r.status===409)return;throw r}}};function Qa(e){return e.join("")}var bF=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof Lc&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof Lc&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},_F=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=xF({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new wF(this.client,t),this.tableOps=new bF(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},gf=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function vf(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Hu=class extends gf{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},CN=class extends gf{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const jF=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),SF=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vg=e=>{if(Array.isArray(e))return e.map(r=>vg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=vg(n)}),t},kF=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function NF(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CF(e){var t=NF(e,"string");return $c(t)=="symbol"?t:t+""}function EF(e,t,r){return(t=CF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yb(Object(r),!0).forEach(function(n){EF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yb(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const xb=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},RF=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||i+"";t(new Hu(xb(o),i,l,n))}).catch(()=>{if(n==="vectors"){const o=i+"";t(new Hu(s.statusText||`HTTP ${i} error`,i,o,n))}else{const o=i+"";t(new Hu(s.statusText||`HTTP ${i} error`,i,o,n))}});else{const o=i+"";t(new Hu(s.statusText||`HTTP ${i} error`,i,o,n))}}else t(new CN(xb(e),e,n))},PF=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?je(je({},s),r):(SF(n)?(s.headers=je({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),je(je({},s),r))};async function Ll(e,t,r,n,s,i,o){return new Promise((l,c)=>{e(r,PF(t,n,s,i)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>RF(u,c,n,o))})}function EN(e="storage"){return{get:async(t,r,n,s)=>Ll(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>Ll(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>Ll(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>Ll(t,"HEAD",r,je(je({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>Ll(t,"DELETE",r,s,i,n,e)}}const TF=EN("storage"),{get:Fc,post:En,put:yg,head:AF,remove:wy}=TF,Kr=EN("vectors");var wl=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=jF(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(vf(r))return{data:null,error:r};throw r}}},OF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vf(t))return{data:null,error:t};throw t}}};let RN;RN=Symbol.toStringTag;var IF=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[RN]="BlobDownloadBuilder",this.promise=null}asStream(){return new OF(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(vf(t))return{data:null,error:t};throw t}}};const MF={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var DF=class extends wl{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i;const o=je(je({},wb),n);let l=je(je({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",s.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=je(je({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?yg:En)(s.fetch,`${s.url}/object/${d}`,i,je({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),o=s._getFinalPath(i),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=je({upsert:wb.upsert},n),d=je(je({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:i,fullPath:(await yg(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=je({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await En(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),l=o.searchParams.get("token");if(!l)throw new gf("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await En(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await En(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await En(n.fetch,`${n.url}/object/sign/${s}`,je({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await En(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>je(je({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),o=()=>Fc(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new IF(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>vg(await Fc(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await AF(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(vf(n)&&n instanceof CN){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=je(je(je({},MF),t),{},{prefix:e||""});return await En(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=je({},e);return await En(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const LF="2.93.3",hu={"X-Client-Info":`storage-js/${LF}`};var $F=class extends wl{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),o=je(je({},hu),t);super(i,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await Fc(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Fc(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await En(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await yg(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},FF=class extends wl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=je(je({},hu),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await En(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await Fc(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await wy(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!kF(e))throw new gf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new _F({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},UF=class extends wl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=je(je({},hu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await Kr.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await Kr.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},zF=class extends wl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=je(je({},hu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},VF=class extends wl{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=je(je({},hu),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Kr.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},BF=class extends VF{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new WF(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},WF=class extends UF{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new qF(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qF=class extends zF{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,je(je({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},HF=class extends $F{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new DF(this.url,this.headers,e,this.fetch)}get vectors(){return new BF(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FF(this.url+"/iceberg",this.headers,this.fetch)}};const PN="2.93.3",ao=30*1e3,xg=3,vm=xg*ao,KF="http://localhost:9999",GF="supabase.auth.token",QF={"X-Client-Info":`gotrue-js/${PN}`},wg="X-Supabase-Api-Version",TN={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YF=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JF=10*60*1e3;class Uc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZF extends Uc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function XF(e){return ve(e)&&e.name==="AuthApiError"}class sa extends Uc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class zs extends Uc{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Br extends zs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ym(e){return ve(e)&&e.name==="AuthSessionMissingError"}class Ya extends zs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ku extends zs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gu extends zs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function e3(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class bb extends zs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class t3 extends zs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class bg extends zs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function xm(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class _b extends zs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _g extends zs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const hh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jb=` 	
\r=`.split(""),r3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<jb.length;t+=1)e[jb[t].charCodeAt(0)]=-2;for(let t=0;t<hh.length;t+=1)e[hh[t].charCodeAt(0)]=t;return e})();function Sb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(hh[n]),t.queuedBits-=6}}function AN(e,t,r){const n=r3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function kb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{i3(o,n,r)};for(let o=0;o<e.length;o+=1)AN(e.charCodeAt(o),s,i);return t.join("")}function n3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function s3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}n3(n,t)}}function i3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ao(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)AN(e.charCodeAt(s),r,n);return new Uint8Array(t)}function a3(e){const t=[];return s3(e,r=>t.push(r)),new Uint8Array(t)}function ua(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Sb(s,r,n)),Sb(null,r,n),t.join("")}function o3(e){return Math.round(Date.now()/1e3)+e}function l3(){return Symbol("auth-callback")}const or=()=>typeof window<"u"&&typeof document<"u",Ji={tested:!1,writable:!1},ON=()=>{if(!or())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ji.tested)return Ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ji.tested=!0,Ji.writable=!0}catch{Ji.tested=!0,Ji.writable=!1}return Ji.writable};function c3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const IN=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),u3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",oo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Zi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ar=async(e,t)=>{await e.removeItem(t)};class yf{constructor(){this.promise=new yf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}yf.promiseConstructor=Promise;function Qu(e){const t=e.split(".");if(t.length!==3)throw new _g("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!YF.test(t[n]))throw new _g("JWT not in base64url format");return{header:JSON.parse(kb(t[0])),payload:JSON.parse(kb(t[1])),signature:Ao(t[2]),raw:{header:t[0],payload:t[1]}}}async function d3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function h3(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function f3(e){return("0"+e.toString(16)).substr(-2)}function m3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,f3).join("")}async function p3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function g3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await p3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ja(e,t,r=!1){const n=m3();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await oo(e,`${t}-code-verifier`,s);const i=await g3(n);return[i,n===i?"plain":"s256"]}const v3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function y3(e){const t=e.headers.get(wg);if(!t||!t.match(v3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function x3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function w3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const b3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(e){if(!b3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function _3(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Nb(e){return JSON.parse(JSON.stringify(e))}const ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),j3=[502,503,504];async function Cb(e){var t;if(!u3(e))throw new bg(ta(e),0);if(j3.includes(e.status))throw new bg(ta(e),e.status);let r;try{r=await e.json()}catch(i){throw new sa(ta(i),i)}let n;const s=y3(e);if(s&&s.getTime()>=TN["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _b(ta(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Br}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new _b(ta(r),e.status,r.weak_password.reasons);throw new ZF(ta(r),e.status||500,n)}const S3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function be(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[wg]||(i[wg]=TN["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await k3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function k3(e,t,r,n,s,i){const o=S3(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new bg(ta(c),0)}if(l.ok||await Cb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Cb(c)}}function kn(e){var t;let r=null;E3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=o3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Eb(e){const t=kn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function oi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N3(e){return{data:e,error:null}}function C3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=yl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Rb(e){return e}function E3(e){return e.access_token&&e.refresh_token&&e.expires_in}const bm=["global","local","others"];class R3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=IN(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=bm[0]){if(bm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bm.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:oi})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=yl(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:C3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:oi})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rb});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Za(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:oi})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Za(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:oi})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Za(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:oi})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Za(t.userId);try{const{data:r,error:n}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Za(t.userId),Za(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await be(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rb});if(d.error)throw d.error;const h=await d.json(),p=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ve(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await be(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await be(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ve(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await be(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await be(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function Pb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Xa={debug:!!(globalThis&&ON()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class MN extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class P3 extends MN{}async function T3(e,t,r){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new P3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Xa.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function A3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function DN(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function O3(e){return parseInt(e,16)}function I3(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function M3(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=DN(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${g}`;let y=`URI: ${h}
Version: ${p}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),l&&(y+=`
Not Before: ${l.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let x=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);x+=`
- ${w}`}y+=x}return`${b}
${y}`}class Mt extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class fh extends Mt{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function D3({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Mt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Mt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new Mt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Mt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Mt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Mt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(LN(o)){if(i.rp.id!==o)return new Mt({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Mt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function L3({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Mt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Mt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(LN(n)){if(r.rpId!==n)return new Mt({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Mt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Mt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Mt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $3{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const F3=new $3;function U3(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=yl(e,["challenge","user","excludeCredentials"]),i=Ao(t).buffer,o=Object.assign(Object.assign({},r),{id:Ao(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:Ao(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function z3(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=yl(e,["challenge","allowCredentials"]),s=Ao(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ao(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function V3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:ua(new Uint8Array(e.response.attestationObject)),clientDataJSON:ua(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function B3(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:ua(new Uint8Array(s.authenticatorData)),clientDataJSON:ua(new Uint8Array(s.clientDataJSON)),signature:ua(new Uint8Array(s.signature)),userHandle:s.userHandle?ua(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function LN(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tb(){var e,t;return!!(or()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function W3(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:D3({error:t,options:e})}}}async function q3(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new fh("Browser returned unexpected credential type",t)}:{data:null,error:new fh("Empty credential response",t)}}catch(t){return{data:null,error:L3({error:t,options:e})}}}const H3={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},K3={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function mh(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=mh(l,o):n[i]=mh(o)}else n[i]=o}return n}function G3(e,t){return mh(H3,e,t||{})}function Q3(e,t){return mh(K3,e,t||{})}class Y3{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){var o;try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const u=s??F3.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:d}=l.webauthn.credential_options.publicKey;if(!d.name){const h=n;if(h)d.name=`${d.id}:${h}`;else{const f=(await this.client.getUser()).data.user,v=((o=f==null?void 0:f.user_metadata)===null||o===void 0?void 0:o.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${v}`}}d.displayName||(d.displayName=d.name)}switch(l.webauthn.type){case"create":{const d=G3(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:p}=await W3({publicKey:d,signal:u});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const d=Q3(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:p}=await q3(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:d,signal:u}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(l){return ve(l)?{data:null,error:l}:{data:null,error:new sa("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Uc("rpId is required for WebAuthn authentication")};try{if(!Tb())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new sa("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Uc("rpId is required for WebAuthn registration")};try{if(!Tb())return{data:null,error:new sa("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return ve(o)?{data:null,error:o}:{data:null,error:new sa("Unexpected error in register",o)}}}}A3();const J3={url:KF,storageKey:GF,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QF,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ab(e,t,r){return await r()}const eo={};class zc{get jwks(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=eo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){eo[this.storageKey]=Object.assign(Object.assign({},eo[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},J3),t);if(this.storageKey=i.storageKey,this.instanceID=(r=zc.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,zc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&or()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new R3({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=IN(i.fetch),this.lock=i.lock||Ab,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&or()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=T3:this.lock=Ab,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Y3(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:ON()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Pb(this.memoryStorage)),or()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${PN}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(or()&&(r=c3(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),or()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),e3(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?this._returnResult({error:r}):this._returnResult({error:new sa("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:kn}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Ja(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:kn})}else if("phone"in t){const{phone:d,password:h,options:p}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:kn})}else throw new Ku("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await ar(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Eb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Eb})}else throw new Ku("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Ya;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,o,l,c,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:g,wallet:b,statement:y,options:x}=t;let w;if(or())if(typeof b=="object")w=b;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=DN(S[0]);let k=(n=x==null?void 0:x.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!k){const A=await w.request({method:"eth_chainId"});k=O3(A)}const P={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:k,nonce:(s=x==null?void 0:x.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=x==null?void 0:x.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=x==null?void 0:x.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=x==null?void 0:x.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=x==null?void 0:x.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=x==null?void 0:x.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=M3(P),v=await w.request({method:"personal_sign",params:[I3(f),j]})}try{const{data:g,error:b}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:kn});if(b)throw b;if(!g||!g.session||!g.user){const y=new Ya;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:b})}catch(g){if(ve(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,i,o,l,c,u,d,h,p,f;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:x,options:w}=t;let _;if(or())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let k;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")k=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)k=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),g=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=j}}try{const{data:b,error:y}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:ua(g)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:kn});if(y)throw y;if(!b||!b.session||!b.user){const x=new Ya;return this._returnResult({data:{user:null,session:null},error:x})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:y})}catch(b){if(ve(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new t3;const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:kn});if(await ar(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new Ya;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:kn}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ya;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ja(this.storage,this.storageKey));const{error:h}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ku("You must provide either an email or phone number.")}catch(l){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:kn});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Ja(this.storage,this.storageKey));const u=await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:N3});return!((i=u.data)===null||i===void 0)&&i.url&&or()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Br;const{error:s}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ve(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await be(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await be(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ku("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Zi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<vm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Zi(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=wm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=_3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:oi}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Br}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:oi})})}catch(r){if(ve(r))return ym(r)&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Br;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ja(this.storage,this.storageKey));const{data:u,error:d}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:oi});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Br;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Qu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(ve(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Br;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ve(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!or())throw new Gu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new bb("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Gu("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let p=d+h;c&&(p=parseInt(c));const f=p-d;f*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:g,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:t.type},error:null})}catch(n){if(ve(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Zi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i&&!ym(i))return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(XF(l)&&(l.status===404||l.status===401||l.status===403)||ym(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await ar(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=l3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Ja(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:p}=i;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return or()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(ve(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,h=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kn}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ya}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await ar(this.storage,`${this.storageKey}-code-verifier`),ve(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await h3(async s=>(s>0&&await d3(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:kn})),(s,i)=>{const o=200*Math.pow(2,s);return i&&xm(i)&&Date.now()+o-n<ao})}catch(n){if(this._debug(r,"error",n),ve(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),or()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Zi(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Zi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await oo(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:wm()}else if(s&&!s.user&&!s.user){const o=await Zi(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await ar(this.storage,this.storageKey+"-user"),await oo(this.storage,this.storageKey,s)):s.user=wm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<vm;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${vm}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),xm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new yf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Br;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ve(i)){const o={data:null,error:i};return xm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ar(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await oo(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Nb(s);await oo(this.storage,this.storageKey,i)}else{const s=Nb(r);await oo(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ar(this.storage,this.storageKey),await ar(this.storage,this.storageKey+"-code-verifier"),await ar(this.storage,this.storageKey+"-user"),this.userStorage&&await ar(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&or()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ao}ms, refresh threshold is ${xg} ticks`),s<=xg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof MN)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!or()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Ja(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?V3(t.webauthn.credential_response):B3(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:U3(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:z3(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,i;if(t)try{const{payload:f}=Qu(t);let v=null;f.aal&&(v=f.aal);let g=v;const{data:{user:b},error:y}=await this.getUser(t);if(y)return this._returnResult({data:null,error:y});((n=(r=b==null?void 0:b.factors)===null||r===void 0?void 0:r.filter(_=>_.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const w=f.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:w},error:null}}catch(f){if(ve(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Qu(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((i=(s=o.user.factors)===null||s===void 0?void 0:s.filter(f=>f.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const p=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await be(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Br})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Br});const o=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Br});const o=await be(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&or()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await be(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Br})})}catch(t){if(ve(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await be(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Br})})}catch(r){if(ve(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+JF>s)return n;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});n=f.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Qu(n);r!=null&&r.allowExpired||x3(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:i,header:s,signature:o},error:null}}const d=w3(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,a3(`${l}.${c}`)))throw new _g("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(ve(n))return this._returnResult({data:null,error:n});throw n}}}zc.nextInstanceID={};const Z3=zc,X3="2.93.3";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const e5={"X-Client-Info":`supabase-js-${Ql}/${X3}`},t5={headers:e5},r5={schema:"public"},n5={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s5={};function Vc(e){"@babel/helpers - typeof";return Vc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vc(e)}function i5(e,t){if(Vc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a5(e){var t=i5(e,"string");return Vc(t)=="symbol"?t:t+""}function o5(e,t,r){return(t=a5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ob(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ob(Object(r),!0).forEach(function(n){o5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ob(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const l5=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),c5=()=>Headers,u5=(e,t,r)=>{const n=l5(r),s=c5();return async(i,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Ct(Ct({},o),{},{headers:u}))}};function d5(e){return e.endsWith("/")?e:e+"/"}function h5(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,p={db:Ct(Ct({},c),s),auth:Ct(Ct({},u),i),realtime:Ct(Ct({},d),o),storage:{},global:Ct(Ct(Ct({},h),l),{},{headers:Ct(Ct({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function f5(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(d5(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var m5=class extends Z3{constructor(e){super(e)}},p5=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=f5(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,l={db:r5,realtime:s5,auth:Ct(Ct({},n5),{},{storageKey:o}),global:t5},c=h5(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=u5(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ct({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new X$(new URL("rest/v1",i).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new HF(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new G$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:l,debug:c,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m5({url:this.authUrl.href,headers:Ct(Ct({},p),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new gF(this.realtimeUrl.href,Ct(Ct({},e),{},{params:Ct(Ct({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const g5=(e,t,r)=>new p5(e,t,r);function v5(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}v5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y5="https://prqmzdstrfmahymkekef.supabase.co",x5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBycW16ZHN0cmZtYWh5bWtla2VmIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc3MDEwNjI5NiwiZXhwIjoyMDg1NjgyMjk2fQ.EE1JucZWP0ov1l93KyprUqoVMrLoNAUiJbl6xoHRSNs",F=g5(y5,x5);async function w5(e,t,r){var c,u,d;const n=typeof window<"u"?window.location.origin:"",s=r!=null&&r.redirectTo?`${n}${r.redirectTo.startsWith("/")?r.redirectTo:`/${r.redirectTo}`}`:`${n}/verify-email`,{data:i,error:o}=await F.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return o?{success:!1,error:o.message}:{success:!0,needsEmailVerification:!!(i.user&&!((u=(c=i.session)==null?void 0:c.user)!=null&&u.email_confirmed_at)&&((d=i.user.identities)==null?void 0:d.length))}}async function b5(e,t){const n=`${typeof window<"u"?window.location.origin:""}${t.startsWith("/")?t:`/${t}`}`,{error:s}=await F.auth.resetPasswordForEmail(e,{redirectTo:n});return s?{success:!1,error:s.message}:{success:!0}}async function _5(e){const{error:t}=await F.auth.updateUser({password:e});return t?{success:!1,error:t.message}:{success:!0}}function j5(){return typeof window>"u"?!1:window.location.hash.includes("type=recovery")}async function S5(){const{data:{user:e}}=await F.auth.getUser();if(!(e!=null&&e.email))return{success:!1,error:"You must be signed in to resend the verification email."};const r=`${typeof window<"u"?window.location.origin:""}/verify-email`,{error:n}=await F.auth.resend({type:"signup",email:e.email,options:{emailRedirectTo:r}});return n?{success:!1,error:n.message}:{success:!0}}async function Ib(e){const t=e.trim();if(!t)return{success:!1,error:"Verification token is required."};const{error:r}=await F.auth.verifyOtp({token_hash:t,type:"email"});return r?{success:!1,error:r.message}:{success:!0}}function k5(){if(typeof window>"u")return null;const t=new URLSearchParams(window.location.search).get("token_hash");if(t)return t;const r=window.location.hash;return r?new URLSearchParams(r.replace(/^#/,"")).get("token_hash"):null}async function N5(){const{data:{user:e}}=await F.auth.getUser();return e?!!e.email_confirmed_at:!1}const C5=Vt({email:Le().email("Invalid email"),password:Le().min(8,"At least 8 characters"),confirmPassword:Le()}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function E5(){const e=$h(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:s}}=Ut({resolver:zt(C5)}),i=async o=>{const l=await w5(o.email,o.password,{redirectTo:"/verify-email"});l.success?l.needsEmailVerification?(U.success("Check your email",{description:"We sent a verification link. Click it or enter the code on the next page."}),e("/verify-email",{replace:!0})):(U.success("Account created",{description:"You can sign in now."}),e("/dashboard",{replace:!0})):U.error("Sign up failed",{description:l.error})};return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(G,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Create account"}),a.jsx(ge,{children:"Sign up for cloud-linked mode."})]}),a.jsxs(Q,{children:[a.jsxs("form",{onSubmit:r(i),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"email",children:"Email"}),a.jsx(Ne,{id:"email",type:"email",placeholder:"you@example.com",...t("email")}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"password",children:"Password"}),a.jsx(Ne,{id:"password",type:"password",placeholder:"",...t("password")}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"confirmPassword",children:"Confirm password"}),a.jsx(Ne,{id:"confirmPassword",type:"password",placeholder:"",...t("confirmPassword")}),n.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:n.confirmPassword.message})]}),a.jsx(T,{type:"submit",className:"w-full",disabled:s,children:s?"Creating account...":"Sign up"})]}),a.jsxs("p",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Already have an account?"," ",a.jsx(we,{to:"/login",className:"font-medium text-primary hover:underline",children:"Log in"})]})]})]})})}const Mb={empty:"",weak:"Weak",fair:"Fair",good:"Good",strong:"Strong"};function R5(e){if(!e||e.length===0)return{level:"empty",score:0,label:Mb.empty,minLength:!1,hasLower:!1,hasUpper:!1,hasNumber:!1,hasSpecial:!1};const t=/[a-z]/.test(e),r=/[A-Z]/.test(e),n=/\d/.test(e),s=/[^A-Za-z0-9]/.test(e),i=e.length>=8;let o=0;e.length>=8&&(o+=1),e.length>=12&&(o+=1),t&&r&&(o+=1),n&&(o+=1),s&&(o+=1),o=Math.min(4,o);const l=o===0||o===1?"weak":o===2?"fair":o===3?"good":"strong";return{level:l,score:o,label:Mb[l],minLength:i,hasLower:t,hasUpper:r,hasNumber:n,hasSpecial:s}}function P5(e){switch(e){case"empty":return"bg-muted-foreground/30";case"weak":return"bg-destructive";case"fair":return"bg-warning";case"good":return"bg-accent";case"strong":return"bg-success";default:return"bg-muted-foreground/30"}}const T5=Vt({email:Le().min(1,"Email is required").email("Enter a valid email address")}),A5=Vt({password:Le().min(8,"Password must be at least 8 characters").regex(/[a-z]/,"Password must include a lowercase letter").regex(/[A-Z]/,"Password must include an uppercase letter").regex(/\d/,"Password must include a number"),confirmPassword:Le().min(1,"Confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});function O5(){const[e,t]=m.useState("email"),[r,n]=m.useState(!0),s=Ut({resolver:zt(T5),defaultValues:{email:""}}),i=Ut({resolver:zt(A5),defaultValues:{password:"",confirmPassword:""}}),o=i.watch("password",""),l=R5(o);m.useEffect(()=>{if(!j5()){n(!1);return}F.auth.getSession().then(({data:{session:d}})=>{d&&(t("set_password"),window.history.replaceState(null,"",window.location.pathname)),n(!1)})},[]);const c=async d=>{const h=await b5(d.email,"/forgot-password");h.success?(t("email_sent"),U.success("Check your email",{description:"If an account exists, we sent a reset link. Check spam if you dont see it."})):U.error("Could not send reset link",{description:h.error})},u=async d=>{const h=await _5(d.password);h.success?(t("success"),U.success("Password updated",{description:"You can now sign in with your new password."}),await F.auth.signOut()):U.error("Could not update password",{description:h.error})};return r?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md",children:[a.jsx(qd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsx("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:a.jsx("p",{className:"text-muted-foreground",children:"Checking your reset link"})})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(qd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(we,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(G,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsx(ne,{className:"text-xl font-semibold",children:e==="email"||e==="email_sent"?"Reset password":e==="set_password"?"Set new password":"Password updated"}),a.jsxs(ge,{children:[e==="email"&&"Enter your cloud account email and well send a secure reset link. For local-only mode, you dont need a password.",e==="email_sent"&&"If an account exists for that email, we sent a reset link. Check your inbox and spam folder.",e==="set_password"&&"Choose a strong password. Youll use it to sign in to your cloud-linked account.",e==="success"&&"Your password has been updated. You can now sign in with your new credentials."]})]}),a.jsxs(Q,{className:"space-y-4",children:[(e==="email"||e==="email_sent")&&a.jsx(a.Fragment,{children:e==="email"?a.jsxs("form",{onSubmit:s.handleSubmit(c),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"password-reset-email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Xo,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(Ne,{id:"password-reset-email",type:"email",placeholder:"you@example.com",className:"pl-9 rounded-md border-border py-3",autoComplete:"email",...s.register("email"),"aria-invalid":!!s.formState.errors.email})]}),s.formState.errors.email&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:s.formState.errors.email.message})]}),a.jsx(T,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:s.formState.isSubmitting,children:s.formState.isSubmitting?"Sending":"Send reset link"})]}):a.jsxs("div",{className:"rounded-md border border-border bg-secondary/30 px-4 py-3 text-sm text-muted-foreground",children:[a.jsx("p",{children:"Check your email for the reset link. The link expires after a short time."}),a.jsx(T,{type:"button",variant:"ghost",className:"mt-3 text-primary hover:text-primary",onClick:()=>t("email"),children:"Send another link"})]})}),e==="set_password"&&a.jsxs("form",{onSubmit:i.handleSubmit(u),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"new-password",children:"New password"}),a.jsxs("div",{className:"relative",children:[a.jsx(cA,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(Ne,{id:"new-password",type:"password",placeholder:"",className:"pl-9 rounded-md border-border py-3",autoComplete:"new-password",...i.register("password"),"aria-invalid":!!i.formState.errors.password})]}),o.length>0&&a.jsxs("div",{className:"space-y-1","aria-live":"polite",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsx("span",{className:"text-muted-foreground",children:"Strength"}),a.jsx("span",{className:H(l.level!=="empty"&&l.level!=="weak"?"text-success":l.level==="weak"?"text-destructive":"text-muted-foreground"),children:l.label})]}),a.jsx("div",{className:"h-1.5 w-full overflow-hidden rounded-full bg-secondary",role:"progressbar","aria-valuenow":l.score*25,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Password strength",children:a.jsx("div",{className:H("h-full rounded-full transition-all duration-300",P5(l.level)),style:{width:`${l.score*25}%`}})})]}),i.formState.errors.password&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"confirm-password",children:"Confirm password"}),a.jsx(Ne,{id:"confirm-password",type:"password",placeholder:"",className:"rounded-md border-border py-3",autoComplete:"new-password",...i.register("confirmPassword"),"aria-invalid":!!i.formState.errors.confirmPassword}),i.formState.errors.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:i.formState.errors.confirmPassword.message})]}),a.jsx(T,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:i.formState.isSubmitting,children:i.formState.isSubmitting?"Updating":"Update password"})]}),e==="success"&&a.jsxs("div",{className:"animate-fade-in-up space-y-4 text-center",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"rounded-full bg-success/15 p-3",children:a.jsx(Hd,{className:"h-8 w-8 text-success","aria-hidden":!0})})}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"You can now sign in with your new password."}),a.jsx(T,{asChild:!0,className:"w-full rounded-md py-3 font-medium",size:"lg",children:a.jsx(we,{to:"/login",children:"Sign in"})})]}),e!=="success"&&a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:a.jsx(we,{to:"/login",className:"font-medium text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:"Back to login"})})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(we,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Bh,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})})]})}const I5=Vt({token:Le().min(1,"Enter the verification code from your email")});function M5(){const e=$h(),[t,r]=m.useState("checking"),[n,s]=m.useState(!1),[i,o]=m.useState(!1),[l,c]=m.useState(null),u=Ut({resolver:zt(I5),defaultValues:{token:""}});m.useEffect(()=>{let f=!1;async function v(){const g=k5();if(g){const x=await Ib(g);f||(x.success?(r("verified"),U.success("Email verified",{description:"Your email has been confirmed. You can continue to the dashboard."}),window.history.replaceState(null,"",window.location.pathname)):U.error("Verification failed",{description:x.error}));return}const b=await N5();if(f)return;if(b){r("verified");return}const{data:{user:y}}=await F.auth.getUser();f||(y!=null&&y.email&&c(y.email),r("pending"))}return v(),()=>{f=!0}},[]);const d=async f=>{const v=await Ib(f.token);v.success?(r("verified"),u.reset(),U.success("Email verified",{description:"Your email has been confirmed."})):U.error("Verification failed",{description:v.error})},h=async()=>{o(!0);const f=await S5();o(!1),s(!1),f.success?U.success("Verification email sent",{description:"Check your inbox and spam folder for the link."}):U.error("Could not resend email",{description:f.error})},p=()=>{e("/dashboard",{replace:!0})};return t==="checking"?a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md","aria-label":"Back to login",children:[a.jsx(qd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]})}),a.jsx("main",{className:"flex flex-1 items-center justify-center p-4",children:a.jsxs("div",{className:"animate-fade-in-up rounded-[10px] border border-border bg-card p-8 shadow-card max-w-md w-full text-center",children:[a.jsx(is,{className:"mx-auto h-8 w-8 animate-spin text-primary","aria-hidden":!0}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Checking verification status"})]})})]}):a.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[a.jsx("header",{className:"border-b border-border px-4 py-3 sm:px-6",children:a.jsxs("div",{className:"mx-auto flex max-w-content items-center justify-between",children:[a.jsxs(we,{to:"/login",className:"inline-flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background rounded-md py-2","aria-label":"Back to login",children:[a.jsx(qd,{className:"h-4 w-4","aria-hidden":!0}),"Back to login"]}),a.jsx(we,{to:"/",className:"text-sm font-medium text-foreground hover:text-primary transition-colors",children:"Clawgate"})]})}),a.jsx("main",{className:"flex flex-1 flex-col items-center justify-center p-4 sm:p-6",children:a.jsxs(G,{className:"w-full max-w-md animate-fade-in-up rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{className:"space-y-1",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-xl font-semibold",children:[a.jsx(Xo,{className:"h-5 w-5 text-primary","aria-hidden":!0}),"Verify your email"]}),a.jsxs(ge,{children:["Required for signup and sensitive operations (e.g. skill install). We sent a link to",l?` ${l}`:" your email","."]})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx("div",{role:"status","aria-live":"polite",className:t==="verified"?"flex items-center gap-2 rounded-md border border-success/30 bg-success/10 px-3 py-2.5 text-sm text-success":"flex items-center gap-2 rounded-md border border-warning/30 bg-warning/10 px-3 py-2.5 text-sm text-warning",children:t==="verified"?a.jsxs(a.Fragment,{children:[a.jsx(Jj,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Verified"]}):a.jsxs(a.Fragment,{children:[a.jsx(Xo,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),"Verification status: Pending"]})}),t==="verified"?a.jsxs("div",{className:"animate-fade-in-up space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Youre all set. Continue to your dashboard or complete your profile."}),a.jsx(T,{onClick:p,className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md",size:"lg",children:"Continue to dashboard"}),a.jsx(T,{asChild:!0,variant:"outline",className:"w-full rounded-md py-3",children:a.jsx(we,{to:"/profile",children:"Go to profile"})})]}):a.jsxs(a.Fragment,{children:[a.jsx(T,{type:"button",variant:"outline",className:"w-full rounded-md py-3",onClick:()=>s(!0),children:"Resend verification email"}),a.jsxs("form",{onSubmit:u.handleSubmit(d),className:"space-y-4",noValidate:!0,children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"verify-token",children:"Or enter code manually"}),a.jsxs("div",{className:"relative",children:[a.jsx(Av,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground pointer-events-none","aria-hidden":!0}),a.jsx(Ne,{id:"verify-token",type:"text",placeholder:"Paste verification code from email",className:"pl-9 rounded-md border-border py-3",autoComplete:"one-time-code",...u.register("token"),"aria-invalid":!!u.formState.errors.token})]}),u.formState.errors.token&&a.jsx("p",{className:"text-sm text-destructive",role:"alert",children:u.formState.errors.token.message})]}),a.jsx(T,{type:"submit",className:"w-full rounded-md py-3 font-medium transition-all hover:opacity-90 hover:shadow-md disabled:opacity-50",disabled:u.formState.isSubmitting,children:u.formState.isSubmitting?a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Verifying"]}):a.jsxs(a.Fragment,{children:[a.jsx(Pc,{className:"mr-2 h-4 w-4","aria-hidden":!0}),"Verify"]})})]})]})]})]})}),a.jsx("footer",{className:"border-t border-border px-4 py-3 sm:px-6",children:a.jsx("div",{className:"mx-auto flex max-w-content items-center justify-center gap-6 text-sm text-muted-foreground",children:a.jsxs(we,{to:"/help",className:"inline-flex items-center gap-1.5 hover:text-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 rounded",children:[a.jsx(Bh,{className:"h-4 w-4","aria-hidden":!0}),"Help"]})})}),a.jsx(ct,{open:n,onOpenChange:s,children:a.jsxs(rt,{className:"rounded-[10px] border border-border bg-card shadow-lg max-w-[640px]","aria-describedby":"resend-dialog-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Resend verification email"}),a.jsx(it,{id:"resend-dialog-description",children:"Well send another verification link to your email. Check your spam folder if you dont see the first one."})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>s(!1),disabled:i,children:"Cancel"}),a.jsx(T,{type:"button",onClick:h,disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"mr-2 h-4 w-4 animate-spin","aria-hidden":!0}),"Sending"]}):"Send again"})]})]})})]})}function xe({className:e,...t}){return a.jsx("div",{className:H("animate-pulse rounded-md bg-muted",e),...t})}function $N(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var xf="Switch",[D5]=us(xf),[L5,$5]=D5(xf),FN=m.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:i,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=e,[p,f]=m.useState(null),v=We(t,w=>f(w)),g=m.useRef(!1),b=p?d||!!p.closest("form"):!0,[y,x]=Ta({prop:s,defaultProp:i??!1,onChange:u,caller:xf});return a.jsxs(L5,{scope:r,checked:y,disabled:l,children:[a.jsx(Ee.button,{type:"button",role:"switch","aria-checked":y,"aria-required":o,"data-state":BN(y),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:v,onClick:ce(e.onClick,w=>{x(_=>!_),b&&(g.current=w.isPropagationStopped(),g.current||w.stopPropagation())})}),b&&a.jsx(VN,{control:p,bubbles:!g.current,name:n,value:c,checked:y,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});FN.displayName=xf;var UN="SwitchThumb",zN=m.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=$5(UN,r);return a.jsx(Ee.span,{"data-state":BN(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});zN.displayName=UN;var F5="SwitchBubbleInput",VN=m.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...s},i)=>{const o=m.useRef(null),l=We(o,i),c=$N(r),u=ok(t);return m.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&f){const v=new Event("click",{bubbles:n});f.call(d,r),d.dispatchEvent(v)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:l,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});VN.displayName=F5;function BN(e){return e?"checked":"unchecked"}var WN=FN,U5=zN;const Vs=m.forwardRef(({className:e,...t},r)=>a.jsx(WN,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),ref:r,...t,children:a.jsx(U5,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Vs.displayName=WN.displayName;const z5="http://localhost:3000/api";async function $l(e,t={}){const r=`${z5}${e}`,n={"Content-Type":"application/json",...t.headers},s=typeof window<"u"?localStorage.getItem("auth_token"):null;s&&(n.Authorization=`Bearer ${s}`);const i=await fetch(r,{...t,headers:n});if(!i.ok)throw i.status===401&&typeof window<"u"&&(localStorage.removeItem("auth_token"),window.location.href="/login"),new Error(`API Error: ${i.status}`);const o=await i.text();if(o)return JSON.parse(o)}const _e={get:e=>$l(e),post:(e,t)=>$l(e,{method:"POST",body:JSON.stringify(t)}),put:(e,t)=>$l(e,{method:"PUT",body:JSON.stringify(t)}),patch:(e,t)=>$l(e,{method:"PATCH",body:JSON.stringify(t)}),delete:e=>$l(e,{method:"DELETE"})},Sn="/profile",Wn={getProfile:()=>_e.get(`${Sn}`),updateProfile:e=>_e.patch(`${Sn}`,e),getOAuthAccounts:()=>_e.get(`${Sn}/oauth-accounts`),unlinkOAuthAccount:e=>_e.delete(`${Sn}/oauth-accounts/${e}`),getDeviceSessions:()=>_e.get(`${Sn}/sessions`),revokeSession:e=>_e.delete(`${Sn}/sessions/${e}`),getApiKeys:()=>_e.get(`${Sn}/api-keys`),createApiKey:e=>_e.post(`${Sn}/api-keys`,e),revokeApiKey:e=>_e.delete(`${Sn}/api-keys/${e}`),getSecuritySettings:()=>_e.get(`${Sn}/security-settings`),updateSecuritySettings:e=>_e.patch(`${Sn}/security-settings`,e)},yr={all:["profile"],profile:()=>[...yr.all,"detail"],oauthAccounts:()=>[...yr.all,"oauth-accounts"],sessions:()=>[...yr.all,"sessions"],apiKeys:()=>[...yr.all,"api-keys"],securitySettings:()=>[...yr.all,"security-settings"]};function fu(e,t){return e().catch(()=>t)}function wf(){return Fe({queryKey:yr.profile(),queryFn:()=>fu(Wn.getProfile,null)})}function V5(){const e=ke();return Ce({mutationFn:t=>Wn.updateProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.profile()}),U.success("Profile updated")},onError:t=>{U.error(t.message||"Failed to update profile")}})}function B5(){return Fe({queryKey:yr.oauthAccounts(),queryFn:()=>fu(Wn.getOAuthAccounts,[])})}function W5(){const e=ke();return Ce({mutationFn:t=>Wn.unlinkOAuthAccount(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.oauthAccounts()}),U.success("Account unlinked")},onError:t=>{U.error(t.message||"Failed to unlink account")}})}function q5(){return Fe({queryKey:yr.sessions(),queryFn:()=>fu(Wn.getDeviceSessions,[])})}function H5(){const e=ke();return Ce({mutationFn:t=>Wn.revokeSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.sessions()}),U.success("Session revoked")},onError:t=>{U.error(t.message||"Failed to revoke session")}})}function K5(){return Fe({queryKey:yr.apiKeys(),queryFn:()=>fu(Wn.getApiKeys,[])})}function G5(){const e=ke();return Ce({mutationFn:t=>Wn.createApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.apiKeys()}),U.success("API key created")},onError:t=>{U.error(t.message||"Failed to create API key")}})}function Q5(){const e=ke();return Ce({mutationFn:t=>Wn.revokeApiKey(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.apiKeys()}),U.success("API key revoked")},onError:t=>{U.error(t.message||"Failed to revoke API key")}})}function qN(){return Fe({queryKey:yr.securitySettings(),queryFn:()=>fu(Wn.getSecuritySettings,null)})}function HN(){const e=ke();return Ce({mutationFn:t=>Wn.updateSecuritySettings(t),onSuccess:()=>{e.invalidateQueries({queryKey:yr.securitySettings()}),U.success("Security settings updated")},onError:t=>{U.error(t.message||"Failed to update security settings")}})}function ft(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Ui(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}const KN=6048e5,Y5=864e5,Yu=43200,Db=1440;let J5={};function mu(){return J5}function Bc(e,t){var l,c,u,d;const r=mu(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ft(e),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function ph(e){return Bc(e,{weekStartsOn:1})}function GN(e){const t=ft(e),r=t.getFullYear(),n=Ui(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=ph(n),i=Ui(e,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=ph(i);return t.getTime()>=s.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Lb(e){const t=ft(e);return t.setHours(0,0,0,0),t}function gh(e){const t=ft(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Z5(e,t){const r=Lb(e),n=Lb(t),s=+r-gh(r),i=+n-gh(n);return Math.round((s-i)/Y5)}function X5(e){const t=GN(e),r=Ui(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),ph(r)}function gd(e,t){const r=ft(e),n=ft(t),s=r.getTime()-n.getTime();return s<0?-1:s>0?1:s}function eU(e){return Ui(e,Date.now())}function tU(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rU(e){if(!tU(e)&&typeof e!="number")return!1;const t=ft(e);return!isNaN(Number(t))}function nU(e,t){const r=ft(e),n=ft(t),s=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return s*12+i}function sU(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function iU(e,t){return+ft(e)-+ft(t)}function aU(e){const t=ft(e);return t.setHours(23,59,59,999),t}function oU(e){const t=ft(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function lU(e){const t=ft(e);return+aU(t)==+oU(t)}function cU(e,t){const r=ft(e),n=ft(t),s=gd(r,n),i=Math.abs(nU(r,n));let o;if(i<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-s*i);let l=gd(r,n)===-s;lU(ft(e))&&i===1&&gd(e,n)===1&&(l=!1),o=s*(i-Number(l))}return o===0?0:o}function uU(e,t,r){const n=iU(e,t)/1e3;return sU(r==null?void 0:r.roundingMethod)(n)}function dU(e){const t=ft(e),r=Ui(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const hU={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fU=(e,t,r)=>{let n;const s=hU[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function _m(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const mU={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},pU={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gU={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vU={date:_m({formats:mU,defaultWidth:"full"}),time:_m({formats:pU,defaultWidth:"full"}),dateTime:_m({formats:gU,defaultWidth:"full"})},yU={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xU=(e,t,r,n)=>yU[e];function Fl(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const wU={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},bU={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_U={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jU={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},SU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},kU={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NU=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},CU={ordinalNumber:NU,era:Fl({values:wU,defaultWidth:"wide"}),quarter:Fl({values:bU,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fl({values:_U,defaultWidth:"wide"}),day:Fl({values:jU,defaultWidth:"wide"}),dayPeriod:Fl({values:SU,defaultWidth:"wide",formattingValues:kU,defaultFormattingWidth:"wide"})};function Ul(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const o=i[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?RU(l,h=>h.test(o)):EU(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function EU(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function RU(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function PU(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let o=e.valueCallback?e.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const TU=/^(\d+)(th|st|nd|rd)?/i,AU=/\d+/i,OU={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IU={any:[/^b/i,/^(a|c)/i]},MU={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DU={any:[/1/i,/2/i,/3/i,/4/i]},LU={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$U={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FU={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},UU={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},zU={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},VU={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BU={ordinalNumber:PU({matchPattern:TU,parsePattern:AU,valueCallback:e=>parseInt(e,10)}),era:Ul({matchPatterns:OU,defaultMatchWidth:"wide",parsePatterns:IU,defaultParseWidth:"any"}),quarter:Ul({matchPatterns:MU,defaultMatchWidth:"wide",parsePatterns:DU,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ul({matchPatterns:LU,defaultMatchWidth:"wide",parsePatterns:$U,defaultParseWidth:"any"}),day:Ul({matchPatterns:FU,defaultMatchWidth:"wide",parsePatterns:UU,defaultParseWidth:"any"}),dayPeriod:Ul({matchPatterns:zU,defaultMatchWidth:"any",parsePatterns:VU,defaultParseWidth:"any"})},QN={code:"en-US",formatDistance:fU,formatLong:vU,formatRelative:xU,localize:CU,match:BU,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WU(e){const t=ft(e);return Z5(t,dU(t))+1}function qU(e){const t=ft(e),r=+ph(t)-+X5(t);return Math.round(r/KN)+1}function YN(e,t){var d,h,p,f;const r=ft(e),n=r.getFullYear(),s=mu(),i=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,o=Ui(e,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Bc(o,t),c=Ui(e,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const u=Bc(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function HU(e,t){var l,c,u,d;const r=mu(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=YN(e,t),i=Ui(e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Bc(i,t)}function KU(e,t){const r=ft(e),n=+Bc(r,t)-+HU(r,t);return Math.round(n/KN)+1}function ot(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Js={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ot(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ot(r+1,2)},d(e,t){return ot(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ot(e.getHours()%12||12,t.length)},H(e,t){return ot(e.getHours(),t.length)},m(e,t){return ot(e.getMinutes(),t.length)},s(e,t){return ot(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ot(s,t.length)}},to={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$b={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Js.y(e,t)},Y:function(e,t,r,n){const s=YN(e,n),i=s>0?s:1-s;if(t==="YY"){const o=i%100;return ot(o,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):ot(i,t.length)},R:function(e,t){const r=GN(e);return ot(r,t.length)},u:function(e,t){const r=e.getFullYear();return ot(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ot(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ot(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Js.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ot(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=KU(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ot(s,t.length)},I:function(e,t,r){const n=qU(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ot(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Js.d(e,t)},D:function(e,t,r){const n=WU(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ot(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return ot(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return ot(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ot(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=to.noon:n===0?s=to.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=to.evening:n>=12?s=to.afternoon:n>=4?s=to.morning:s=to.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Js.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Js.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ot(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Js.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Js.s(e,t)},S:function(e,t){return Js.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Ub(n);case"XXXX":case"XX":return ra(n);case"XXXXX":case"XXX":default:return ra(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Ub(n);case"xxxx":case"xx":return ra(n);case"xxxxx":case"xxx":default:return ra(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Fb(n,":");case"OOOO":default:return"GMT"+ra(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Fb(n,":");case"zzzz":default:return"GMT"+ra(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return ot(n,t.length)},T:function(e,t,r){const n=e.getTime();return ot(n,t.length)}};function Fb(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+ot(i,2)}function Ub(e,t){return e%60===0?(e>0?"-":"+")+ot(Math.abs(e)/60,2):ra(e,t)}function ra(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ot(Math.trunc(n/60),2),i=ot(n%60,2);return r+s+t+i}const zb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},JN=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},GU=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return zb(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",zb(n,t)).replace("{{time}}",JN(s,t))},QU={p:JN,P:GU},YU=/^D+$/,JU=/^Y+$/,ZU=["D","DD","YY","YYYY"];function XU(e){return YU.test(e)}function e6(e){return JU.test(e)}function t6(e,t,r){const n=r6(e,t,r);if(console.warn(n),ZU.includes(e))throw new RangeError(n)}function r6(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const n6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,s6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,i6=/^'([^]*?)'?$/,a6=/''/g,o6=/[a-zA-Z]/;function l6(e,t,r){var d,h,p,f;const n=mu(),s=n.locale??QN,i=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((f=(p=n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??0,l=ft(e);if(!rU(l))throw new RangeError("Invalid time value");let c=t.match(s6).map(v=>{const g=v[0];if(g==="p"||g==="P"){const b=QU[g];return b(v,s.formatLong)}return v}).join("").match(n6).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const g=v[0];if(g==="'")return{isToken:!1,value:c6(v)};if($b[g])return{isToken:!0,value:v};if(g.match(o6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(v=>{if(!v.isToken)return v.value;const g=v.value;(e6(g)||XU(g))&&t6(g,t,String(e));const b=$b[g[0]];return b(l,g,s.localize,u)}).join("")}function c6(e){const t=e.match(i6);return t?t[1].replace(a6,"'"):e}function u6(e,t,r){const n=mu(),s=(r==null?void 0:r.locale)??n.locale??QN,i=2520,o=gd(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o});let c,u;o>0?(c=ft(t),u=ft(e)):(c=ft(e),u=ft(t));const d=uU(u,c),h=(gh(u)-gh(c))/1e3,p=Math.round((d-h)/60);let f;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):p===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",p,l);if(p<45)return s.formatDistance("xMinutes",p,l);if(p<90)return s.formatDistance("aboutXHours",1,l);if(p<Db){const v=Math.round(p/60);return s.formatDistance("aboutXHours",v,l)}else{if(p<i)return s.formatDistance("xDays",1,l);if(p<Yu){const v=Math.round(p/Db);return s.formatDistance("xDays",v,l)}else if(p<Yu*2)return f=Math.round(p/Yu),s.formatDistance("aboutXMonths",f,l)}if(f=cU(u,c),f<12){const v=Math.round(p/Yu);return s.formatDistance("xMonths",v,l)}else{const v=f%12,g=Math.trunc(f/12);return v<3?s.formatDistance("aboutXYears",g,l):v<9?s.formatDistance("overXYears",g,l):s.formatDistance("almostXYears",g+1,l)}}function Xr(e,t){return u6(e,eU(e),t)}const d6=Vt({name:Le().min(1,"Name is required").max(64),scope:Le().min(1,"Scope is required").max(128)}),h6={github:"GitHub",google:"Google",discord:"Discord",slack:"Slack"};function f6(){const{data:e,isLoading:t}=wf(),r=V5(),[n,s]=m.useState(!1),[i,o]=m.useState((e==null?void 0:e.display_name)??"");if(m.useEffect(()=>{!n&&(e==null?void 0:e.display_name)!==void 0&&o(e.display_name??"")},[e==null?void 0:e.display_name,n]),t)return a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-32"}),a.jsx(xe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Q,{className:"flex items-center gap-4",children:[a.jsx(xe,{className:"h-16 w-16 rounded-full"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-5 w-40"}),a.jsx(xe,{className:"h-4 w-24"})]})]})]});const l=(e==null?void 0:e.display_name)||"User",c=(e==null?void 0:e.email)??"",u=(e==null?void 0:e.workspace_path)??"",d=l.slice(0,2).toUpperCase(),h=()=>{r.mutate({display_name:i||null},{onSuccess:()=>s(!1)})};return a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Hh,{className:"h-5 w-5"}),"Profile summary"]}),a.jsx(ge,{children:"Account and avatar."})]}),a.jsxs(Q,{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:gap-6",children:[a.jsxs(Yh,{className:"h-16 w-16 shrink-0",children:[a.jsx(Wv,{src:(e==null?void 0:e.avatar_url)??void 0,alt:l}),a.jsx(Jh,{className:"text-lg bg-primary/20 text-primary",children:d})]}),a.jsxs("div",{className:"min-w-0 flex-1 space-y-1",children:[n?a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(Ne,{value:i,onChange:p=>o(p.target.value),placeholder:"Display name",className:"max-w-xs","aria-label":"Display name"}),a.jsx(T,{size:"sm",onClick:h,disabled:r.isPending,children:r.isPending?a.jsx(is,{className:"h-4 w-4 animate-spin"}):"Save"}),a.jsx(T,{size:"sm",variant:"ghost",onClick:()=>{s(!1),o((e==null?void 0:e.display_name)??"")},children:"Cancel"})]}):a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("p",{className:"font-medium truncate",children:l}),a.jsx(T,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",onClick:()=>{o((e==null?void 0:e.display_name)??""),s(!0)},"aria-label":"Edit display name",children:"Edit"})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Workspace: ",a.jsx("span",{className:"font-mono truncate",children:u})]})]})]})]})}function m6(){const{data:e,isLoading:t}=B5(),r=W5(),[n,s]=m.useState(null);if(t)return a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-40"}),a.jsx(xe,{className:"h-4 w-56 mt-2"})]}),a.jsxs(Q,{children:[a.jsx(xe,{className:"h-12 w-full"}),a.jsx(xe,{className:"h-12 w-full mt-2"})]})]});const i=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(gA,{className:"h-5 w-5"}),"Connected accounts"]}),a.jsx(ge,{children:"OAuth and linked accounts; unlink here."})]}),a.jsx(Q,{children:i.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No connected accounts."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connect GitHub, Google, or other providers from Settings."})]}):a.jsx("ul",{className:"space-y-2",children:i.map(o=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsx("span",{className:"font-medium",children:h6[o.provider]??o.provider}),a.jsx(T,{variant:"outline",size:"sm",onClick:()=>s(o.id),disabled:r.isPending,"aria-label":`Unlink ${o.provider}`,children:"Unlink"})]},o.id))})})]}),a.jsx(ct,{open:!!n,onOpenChange:()=>s(null),children:a.jsxs(rt,{showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Unlink account"}),a.jsx(it,{children:"Are you sure you want to unlink this account? You may need to sign in again with this provider to reconnect."})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>s(null),children:"Cancel"}),a.jsx(T,{variant:"destructive",onClick:()=>{n&&r.mutate(n,{onSuccess:()=>s(null)})},disabled:r.isPending,children:r.isPending?a.jsx(is,{className:"h-4 w-4 animate-spin"}):"Unlink"})]})]})})]})}function p6(){const{data:e,isLoading:t}=q5(),{data:r,isLoading:n}=qN(),s=HN(),i=H5(),[o,l]=m.useState(null),c=t||n,u=(r==null?void 0:r.two_factor_enabled)??!1;if(c)return a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-24"}),a.jsx(xe,{className:"h-4 w-48 mt-2"})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx(xe,{className:"h-10 w-32"}),a.jsx(xe,{className:"h-6 w-full"})]})]});const d=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Mi,{className:"h-5 w-5"}),"Security"]}),a.jsx(ge,{children:"Password, 2FA, active sessions."})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx(T,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(we,{to:"/forgot-password",children:"Change password"})}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(se,{htmlFor:"2fa",className:"cursor-pointer",children:"Two-factor authentication"}),a.jsx(Vs,{id:"2fa",checked:u,onCheckedChange:h=>s.mutate({two_factor_enabled:h}),disabled:s.isPending})]}),a.jsx(zv,{}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium mb-2",children:"Active sessions"}),d.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No other sessions."}):a.jsx("ul",{className:"space-y-2",children:d.map(h=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ov,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:h.device_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Xr(new Date(h.last_active_at),{addSuffix:!0})})]})]}),a.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(h.id),disabled:i.isPending,"aria-label":`Revoke ${h.device_name}`,children:"Revoke"})]},h.id))})]})]})]}),a.jsx(ct,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(rt,{showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Revoke session"}),a.jsx(it,{children:"This device will be signed out. Are you sure?"})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(T,{variant:"destructive",onClick:()=>{o&&i.mutate(o,{onSuccess:()=>l(null)})},disabled:i.isPending,children:i.isPending?a.jsx(is,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function g6(){const{data:e,isLoading:t}=K5(),r=G5(),n=Q5(),[s,i]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(null),d=Ut({resolver:zt(d6),defaultValues:{name:"",scope:"read"}}),h=f=>{r.mutate(f,{onSuccess:v=>{u(v.key),d.reset()}})};if(t)return a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-24"}),a.jsx(xe,{className:"h-4 w-40 mt-2"})]}),a.jsxs(Q,{children:[a.jsx(xe,{className:"h-10 w-28"}),a.jsx(xe,{className:"h-12 w-full mt-4"})]})]});const p=Array.isArray(e)?e:[];return a.jsxs(a.Fragment,{children:[a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(iA,{className:"h-5 w-5"}),"API Keys"]}),a.jsx(ge,{children:"Create and manage scoped API keys for integrations."})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx(T,{variant:"outline",size:"sm",onClick:()=>{i(!0),u(null)},children:"Create API key"}),p.length===0?a.jsxs("div",{className:"rounded-lg border border-dashed border-border py-6 text-center",children:[a.jsx(Av,{className:"mx-auto h-10 w-10 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"No API keys yet."}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a key to use with external tools or scripts."})]}):a.jsx("ul",{className:"space-y-2",children:p.map(f=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-background/50 px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:f.name}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[f.key_prefix,""]})]}),a.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(f.id),disabled:n.isPending,"aria-label":`Revoke key ${f.name}`,children:"Revoke"})]},f.id))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Keychain / 1Password integration can be enabled below."})]})]}),a.jsx(ct,{open:s,onOpenChange:i,children:a.jsxs(rt,{showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Create API key"}),a.jsx(it,{children:"Choose a name and scope. The key value is shown only once."})]}),c?a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{children:"Your new key (copy now)"}),a.jsx(Ne,{readOnly:!0,value:c,className:"font-mono text-sm","aria-label":"API key value"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Store this securely; it won't be shown again."}),a.jsx(dt,{children:a.jsx(T,{onClick:()=>i(!1),children:"Done"})})]}):a.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"key-name",children:"Name"}),a.jsx(Ne,{id:"key-name",...d.register("name"),placeholder:"e.g. CI pipeline","aria-invalid":!!d.formState.errors.name}),d.formState.errors.name&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"key-scope",children:"Scope"}),a.jsx(Ne,{id:"key-scope",...d.register("scope"),placeholder:"e.g. read, write","aria-invalid":!!d.formState.errors.scope}),d.formState.errors.scope&&a.jsx("p",{className:"text-xs text-destructive",children:d.formState.errors.scope.message})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsx(T,{type:"submit",disabled:r.isPending,children:r.isPending?a.jsx(is,{className:"h-4 w-4 animate-spin"}):"Create"})]})]})]})}),a.jsx(ct,{open:!!o,onOpenChange:()=>l(null),children:a.jsxs(rt,{showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Revoke API key"}),a.jsx(it,{children:"This key will stop working immediately. Any integrations using it will need a new key."})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>l(null),children:"Cancel"}),a.jsx(T,{variant:"destructive",onClick:()=>{o&&n.mutate(o,{onSuccess:()=>l(null)})},disabled:n.isPending,children:n.isPending?a.jsx(is,{className:"h-4 w-4 animate-spin"}):"Revoke"})]})]})})]})}function v6(){const{data:e,isLoading:t}=qN(),r=HN(),n=(e==null?void 0:e.keychain_integration_enabled)??!1;return t?a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-48"}),a.jsx(xe,{className:"h-4 w-64 mt-2"})]}),a.jsx(Q,{children:a.jsx(xe,{className:"h-6 w-full"})})]}):a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Av,{className:"h-5 w-5"}),"Keychain / 1Password"]}),a.jsx(ge,{children:"Use 1Password or system keychain for secure login and autofill."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border px-4 py-3",children:[a.jsx(se,{htmlFor:"keychain",className:"cursor-pointer",children:"Enable 1Password integration"}),a.jsx(Vs,{id:"keychain",checked:n,onCheckedChange:s=>r.mutate({keychain_integration_enabled:s}),disabled:r.isPending})]})})]})}function y6(){return a.jsxs("div",{className:H("mx-auto max-w-3xl space-y-6 animate-fade-in-up"),children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Profile"}),a.jsx(f6,{}),a.jsx(m6,{}),a.jsx(p6,{}),a.jsx(g6,{}),a.jsx(v6,{}),a.jsx("div",{className:"flex justify-end",children:a.jsx(T,{asChild:!0,children:a.jsx(we,{to:"/settings",children:"Settings"})})})]})}function x6(){return a.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:a.jsxs(G,{className:"w-full max-w-md animate-fade-in-up",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ru,{className:"h-5 w-5"}),"Install Gateway"]}),a.jsx(ge,{children:"Download the Clawgate gateway for your platform."})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gateway binaries and installers will be available here. For now, use the Open Local UI button if you have the gateway running."}),a.jsx(T,{asChild:!0,className:"w-full",children:a.jsx(we,{to:"/dashboard",children:"Open Local UI"})}),a.jsx(T,{variant:"outline",asChild:!0,className:"w-full",children:a.jsx(we,{to:"/",children:"Back to home"})})]})]})})}const w6=Dv("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground",outline:"text-foreground",success:"border-transparent bg-green-600/20 text-green-400",warning:"border-transparent bg-amber-600/20 text-amber-400"}},defaultVariants:{variant:"default"}});function At({className:e,variant:t,...r}){return a.jsx("div",{className:H(w6({variant:t}),e),...r})}const vt="/dashboard",Er={getActivities:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${vt}/activities${t?`?${t}`:""}`)},getActivity:e=>_e.get(`${vt}/activities/${e}`),createActivity:e=>_e.post(`${vt}/activities`,e),deleteActivity:e=>_e.delete(`${vt}/activities/${e}`),getRuns:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${vt}/runs${t?`?${t}`:""}`)},getRun:e=>_e.get(`${vt}/runs/${e}`),createRun:e=>_e.post(`${vt}/runs`,e),updateRun:(e,t)=>_e.patch(`${vt}/runs/${e}`,t),abortRun:e=>_e.post(`${vt}/runs/${e}/abort`,{}),getCronJobs:()=>_e.get(`${vt}/cron-jobs`),getCronJob:e=>_e.get(`${vt}/cron-jobs/${e}`),createCronJob:e=>_e.post(`${vt}/cron-jobs`,e),updateCronJob:(e,t)=>_e.patch(`${vt}/cron-jobs/${e}`,t),deleteCronJob:e=>_e.delete(`${vt}/cron-jobs/${e}`),runCronJobNow:e=>_e.post(`${vt}/cron-jobs/${e}/run-now`,{}),getCronRunHistory:(e,t)=>{const r=t?new URLSearchParams(Object.fromEntries(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)]))).toString():"";return _e.get(`${vt}/cron-jobs/${e}/run-history${r?`?${r}`:""}`)},getNodes:()=>_e.get(`${vt}/nodes`),getNode:e=>_e.get(`${vt}/nodes/${e}`),createNode:e=>_e.post(`${vt}/nodes`,e),updateNode:(e,t)=>_e.patch(`${vt}/nodes/${e}`,t),deleteNode:e=>_e.delete(`${vt}/nodes/${e}`),getAlerts:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${vt}/alerts${t?`?${t}`:""}`)},getAlert:e=>_e.get(`${vt}/alerts/${e}`),updateAlert:(e,t)=>_e.patch(`${vt}/alerts/${e}`,t),quickRun:e=>_e.post(`${vt}/quick-run`,e)};function bl(e,t){return e().catch(()=>t)}const Qe={all:["dashboard"],activities:e=>[...Qe.all,"activities",e],activity:e=>[...Qe.all,"activity",e],runs:e=>[...Qe.all,"runs",e],run:e=>[...Qe.all,"run",e],cronJobs:()=>[...Qe.all,"cron-jobs"],cronJob:e=>[...Qe.all,"cron-job",e],cronRunHistory:(e,t)=>[...Qe.all,"cron-run-history",e,t],nodes:()=>[...Qe.all,"nodes"],node:e=>[...Qe.all,"node",e],alerts:e=>[...Qe.all,"alerts",e],alert:e=>[...Qe.all,"alert",e]};function b6(e){return Fe({queryKey:Qe.activities(e),queryFn:()=>bl(()=>Er.getActivities(e),[])})}function _6(){const e=ke();return Ce({mutationFn:t=>Er.deleteActivity(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qe.activities()}),U.success("Activity removed")},onError:t=>{U.error(t.message||"Failed to remove activity")}})}function j6(e){return Fe({queryKey:Qe.runs(e),queryFn:()=>bl(()=>Er.getRuns(e),[])})}function S6(){const e=ke();return Ce({mutationFn:t=>Er.abortRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qe.runs()}),U.success("Run aborted")},onError:t=>{U.error(t.message||"Failed to abort run")}})}function ZN(){return Fe({queryKey:Qe.cronJobs(),queryFn:()=>bl(()=>Er.getCronJobs(),[])})}function XN(){const e=ke();return Ce({mutationFn:t=>Er.createCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qe.cronJobs()}),U.success("Cron job created")},onError:t=>{U.error(t.message||"Failed to create cron job")}})}function k6(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>Er.updateCronJob(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qe.cronJobs()}),e.invalidateQueries({queryKey:Qe.cronJob(r)}),U.success("Cron job updated")},onError:t=>{U.error(t.message||"Failed to update cron job")}})}function N6(){const e=ke();return Ce({mutationFn:t=>Er.deleteCronJob(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qe.cronJobs()}),U.success("Cron job deleted")},onError:t=>{U.error(t.message||"Failed to delete cron job")}})}function C6(e,t){return Fe({queryKey:Qe.cronRunHistory(e??"",t),queryFn:()=>e?bl(()=>Er.getCronRunHistory(e,t),[]):Promise.resolve([]),enabled:!!e})}function E6(){const e=ke();return Ce({mutationFn:t=>Er.runCronJobNow(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Qe.cronJobs()}),e.invalidateQueries({queryKey:Qe.cronRunHistory(r)}),e.invalidateQueries({queryKey:Qe.runs()}),U.success("Job started")},onError:t=>{U.error(t.message||"Failed to run job")}})}function eC(){return Fe({queryKey:Qe.nodes(),queryFn:()=>bl(()=>Er.getNodes(),[])})}function R6(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>Er.updateNode(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qe.nodes()}),e.invalidateQueries({queryKey:Qe.node(r)}),U.success("Node updated")},onError:t=>{U.error(t.message||"Failed to update node")}})}function P6(e){return Fe({queryKey:Qe.alerts(e),queryFn:()=>bl(()=>Er.getAlerts(e),[])})}function T6(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>Er.updateAlert(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Qe.alerts()}),e.invalidateQueries({queryKey:Qe.alert(r)}),U.success("Alert updated")},onError:t=>{U.error(t.message||"Failed to update alert")}})}function A6(){const e=ke();return Ce({mutationFn:t=>Er.quickRun(t),onSuccess:()=>{e.invalidateQueries({queryKey:Qe.activities()}),e.invalidateQueries({queryKey:Qe.runs()}),U.success("Message sent")},onError:t=>{U.error(t.message||"Failed to send message")}})}const Vb={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"};function O6({activity:e,open:t,onOpenChange:r,onDelete:n}){if(!e)return null;const s=()=>{n==null||n(e.id),r(!1)};return a.jsx(ct,{open:t,onOpenChange:r,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"activity-detail-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Activity details"}),a.jsxs(it,{id:"activity-detail-description",children:[Vb[e.activity_type]??e.activity_type," "," ",Xr(new Date(e.created_at),{addSuffix:!0})]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Type"}),a.jsx("p",{className:"text-sm",children:Vb[e.activity_type]??e.activity_type})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Details"}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md border border-border bg-secondary/30 p-3 text-xs",children:JSON.stringify(e.details,null,2)})]})]}),a.jsxs(dt,{children:[n&&a.jsx(T,{variant:"destructive",onClick:s,children:"Remove"}),a.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Close"})]})]})})}function I6({run:e,open:t,onOpenChange:r,onConfirm:n,isAborting:s=!1}){if(!e)return null;const i=()=>{n(e.id),r(!1)};return a.jsx(ct,{open:t,onOpenChange:r,children:a.jsxs(rt,{"aria-describedby":"run-abort-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Abort run?"}),a.jsxs(it,{id:"run-abort-description",children:["This will stop the run that started"," ",Xr(new Date(e.start_time),{addSuffix:!0}),". This action cannot be undone."]})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(T,{variant:"destructive",onClick:i,disabled:s,children:s?"Aborting":"Abort run"})]})]})})}function M6(e){const t=D6(e),r=m.forwardRef((n,s)=>{const{children:i,...o}=n,l=m.Children.toArray(i),c=l.find($6);if(c){const u=c.props.children,d=l.map(h=>h===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return a.jsx(t,{...o,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return a.jsx(t,{...o,ref:s,children:i})});return r.displayName=`${e}.Slot`,r}function D6(e){const t=m.forwardRef((r,n)=>{const{children:s,...i}=r;if(m.isValidElement(s)){const o=U6(s),l=F6(i,s.props);return s.type!==m.Fragment&&(l.ref=n?Us(n,o):o),m.cloneElement(s,l)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var L6=Symbol("radix.slottable");function $6(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===L6}function F6(e,t){const r={...t};for(const n in t){const s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...l)=>{const c=i(...l);return s(...l),c}:s&&(r[n]=s):n==="style"?r[n]={...s,...i}:n==="className"&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}function U6(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var tC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),z6="VisuallyHidden",V6=m.forwardRef((e,t)=>a.jsx(Ee.span,{...e,ref:t,style:{...tC,...e.style}}));V6.displayName=z6;var B6=[" ","Enter","ArrowUp","ArrowDown"],W6=[" ","Enter"],La="Select",[bf,_f,q6]=qv(La),[_l]=us(La,[q6,sf]),jf=sf(),[H6,qi]=_l(La),[K6,G6]=_l(La),rC=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,g=jf(t),[b,y]=m.useState(null),[x,w]=m.useState(null),[_,S]=m.useState(!1),j=su(u),[k,P]=Ta({prop:n,defaultProp:s??!1,onChange:i,caller:La}),[A,M]=Ta({prop:o,defaultProp:l,onChange:c,caller:La}),W=m.useRef(null),L=b?v||!!b.closest("form"):!0,[z,O]=m.useState(new Set),J=Array.from(z).map(Y=>Y.props.value).join(";");return a.jsx(vk,{...g,children:a.jsxs(H6,{required:f,scope:t,trigger:b,onTriggerChange:y,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:as(),value:A,onValueChange:M,open:k,onOpenChange:P,dir:j,triggerPointerDownPosRef:W,disabled:p,children:[a.jsx(bf.Provider,{scope:t,children:a.jsx(K6,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(Y=>{O(re=>new Set(re).add(Y))},[]),onNativeOptionRemove:m.useCallback(Y=>{O(re=>{const D=new Set(re);return D.delete(Y),D})},[]),children:r})}),L?a.jsxs(NC,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:A,onChange:Y=>M(Y.target.value),disabled:p,form:v,children:[A===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},J):null]})})};rC.displayName=La;var nC="SelectTrigger",sC=m.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,i=jf(r),o=qi(nC,r),l=o.disabled||n,c=We(t,o.onTriggerChange),u=_f(r),d=m.useRef("touch"),[h,p,f]=EC(g=>{const b=u().filter(w=>!w.disabled),y=b.find(w=>w.value===o.value),x=RC(b,g,y);x!==void 0&&o.onValueChange(x.value)}),v=g=>{l||(o.onOpenChange(!0),f()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(yk,{asChild:!0,...i,children:a.jsx(Ee.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":CC(o.value)?"":void 0,...s,ref:c,onClick:ce(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&v(g)}),onPointerDown:ce(s.onPointerDown,g=>{d.current=g.pointerType;const b=g.target;b.hasPointerCapture(g.pointerId)&&b.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(v(g),g.preventDefault())}),onKeyDown:ce(s.onKeyDown,g=>{const b=h.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(b&&g.key===" ")&&B6.includes(g.key)&&(v(),g.preventDefault())})})})});sC.displayName=nC;var iC="SelectValue",aC=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:i,placeholder:o="",...l}=e,c=qi(iC,r),{onValueNodeHasChildrenChange:u}=c,d=i!==void 0,h=We(t,c.onValueNodeChange);return Ft(()=>{u(d)},[u,d]),a.jsx(Ee.span,{...l,ref:h,style:{pointerEvents:"none"},children:CC(c.value)?a.jsx(a.Fragment,{children:o}):i})});aC.displayName=iC;var Q6="SelectIcon",oC=m.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return a.jsx(Ee.span,{"aria-hidden":!0,...s,ref:t,children:n||""})});oC.displayName=Q6;var Y6="SelectPortal",lC=e=>a.jsx(af,{asChild:!0,...e});lC.displayName=Y6;var $a="SelectContent",cC=m.forwardRef((e,t)=>{const r=qi($a,e.__scopeSelect),[n,s]=m.useState();if(Ft(()=>{s(new DocumentFragment)},[]),!r.open){const i=n;return i?hl.createPortal(a.jsx(uC,{scope:e.__scopeSelect,children:a.jsx(bf.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(dC,{...e,ref:t})});cC.displayName=$a;var Nn=10,[uC,Hi]=_l($a),J6="SelectContentImpl",Z6=M6("SelectContent.RemoveScroll"),dC=m.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:b,...y}=e,x=qi($a,r),[w,_]=m.useState(null),[S,j]=m.useState(null),k=We(t,ee=>_(ee)),[P,A]=m.useState(null),[M,W]=m.useState(null),L=_f(r),[z,O]=m.useState(!1),J=m.useRef(!1);m.useEffect(()=>{if(w)return ty(w)},[w]),Hv();const Y=m.useCallback(ee=>{const[ze,...Ve]=L().map(qe=>qe.ref.current),[Me]=Ve.slice(-1),De=document.activeElement;for(const qe of ee)if(qe===De||(qe==null||qe.scrollIntoView({block:"nearest"}),qe===ze&&S&&(S.scrollTop=0),qe===Me&&S&&(S.scrollTop=S.scrollHeight),qe==null||qe.focus(),document.activeElement!==De))return},[L,S]),re=m.useCallback(()=>Y([P,w]),[Y,P,w]);m.useEffect(()=>{z&&re()},[z,re]);const{onOpenChange:D,triggerPointerDownPosRef:N}=x;m.useEffect(()=>{if(w){let ee={x:0,y:0};const ze=Me=>{var De,qe;ee={x:Math.abs(Math.round(Me.pageX)-(((De=N.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(Me.pageY)-(((qe=N.current)==null?void 0:qe.y)??0))}},Ve=Me=>{ee.x<=10&&ee.y<=10?Me.preventDefault():w.contains(Me.target)||D(!1),document.removeEventListener("pointermove",ze),N.current=null};return N.current!==null&&(document.addEventListener("pointermove",ze),document.addEventListener("pointerup",Ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ze),document.removeEventListener("pointerup",Ve,{capture:!0})}}},[w,D,N]),m.useEffect(()=>{const ee=()=>D(!1);return window.addEventListener("blur",ee),window.addEventListener("resize",ee),()=>{window.removeEventListener("blur",ee),window.removeEventListener("resize",ee)}},[D]);const[R,le]=EC(ee=>{const ze=L().filter(De=>!De.disabled),Ve=ze.find(De=>De.ref.current===document.activeElement),Me=RC(ze,ee,Ve);Me&&setTimeout(()=>Me.ref.current.focus())}),ue=m.useCallback((ee,ze,Ve)=>{const Me=!J.current&&!Ve;(x.value!==void 0&&x.value===ze||Me)&&(A(ee),Me&&(J.current=!0))},[x.value]),Re=m.useCallback(()=>w==null?void 0:w.focus(),[w]),Se=m.useCallback((ee,ze,Ve)=>{const Me=!J.current&&!Ve;(x.value!==void 0&&x.value===ze||Me)&&W(ee)},[x.value]),et=n==="popper"?jg:hC,Je=et===jg?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:g,avoidCollisions:b}:{};return a.jsx(uC,{scope:r,content:w,viewport:S,onViewportChange:j,itemRefCallback:ue,selectedItem:P,onItemLeave:Re,itemTextRefCallback:Se,focusSelectedItem:re,selectedItemText:M,position:n,isPositioned:z,searchRef:R,children:a.jsx(cf,{as:Z6,allowPinchZoom:!0,children:a.jsx(Xh,{asChild:!0,trapped:x.open,onMountAutoFocus:ee=>{ee.preventDefault()},onUnmountAutoFocus:ce(s,ee=>{var ze;(ze=x.trigger)==null||ze.focus({preventScroll:!0}),ee.preventDefault()}),children:a.jsx(Zh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:ee=>ee.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(et,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:ee=>ee.preventDefault(),...y,...Je,onPlaced:()=>O(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ce(y.onKeyDown,ee=>{const ze=ee.ctrlKey||ee.altKey||ee.metaKey;if(ee.key==="Tab"&&ee.preventDefault(),!ze&&ee.key.length===1&&le(ee.key),["ArrowUp","ArrowDown","Home","End"].includes(ee.key)){let Me=L().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(ee.key)&&(Me=Me.slice().reverse()),["ArrowUp","ArrowDown"].includes(ee.key)){const De=ee.target,qe=Me.indexOf(De);Me=Me.slice(qe+1)}setTimeout(()=>Y(Me)),ee.preventDefault()}})})})})})})});dC.displayName=J6;var X6="SelectItemAlignedPosition",hC=m.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,i=qi($a,r),o=Hi($a,r),[l,c]=m.useState(null),[u,d]=m.useState(null),h=We(t,k=>d(k)),p=_f(r),f=m.useRef(!1),v=m.useRef(!0),{viewport:g,selectedItem:b,selectedItemText:y,focusSelectedItem:x}=o,w=m.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&u&&g&&b&&y){const k=i.trigger.getBoundingClientRect(),P=u.getBoundingClientRect(),A=i.valueNode.getBoundingClientRect(),M=y.getBoundingClientRect();if(i.dir!=="rtl"){const De=M.left-P.left,qe=A.left-De,Bt=k.left-qe,Rr=k.width+Bt,Hn=Math.max(Rr,P.width),vn=window.innerWidth-Nn,ms=Qp(qe,[Nn,Math.max(Nn,vn-Hn)]);l.style.minWidth=Rr+"px",l.style.left=ms+"px"}else{const De=P.right-M.right,qe=window.innerWidth-A.right-De,Bt=window.innerWidth-k.right-qe,Rr=k.width+Bt,Hn=Math.max(Rr,P.width),vn=window.innerWidth-Nn,ms=Qp(qe,[Nn,Math.max(Nn,vn-Hn)]);l.style.minWidth=Rr+"px",l.style.right=ms+"px"}const W=p(),L=window.innerHeight-Nn*2,z=g.scrollHeight,O=window.getComputedStyle(u),J=parseInt(O.borderTopWidth,10),Y=parseInt(O.paddingTop,10),re=parseInt(O.borderBottomWidth,10),D=parseInt(O.paddingBottom,10),N=J+Y+z+D+re,R=Math.min(b.offsetHeight*5,N),le=window.getComputedStyle(g),ue=parseInt(le.paddingTop,10),Re=parseInt(le.paddingBottom,10),Se=k.top+k.height/2-Nn,et=L-Se,Je=b.offsetHeight/2,ee=b.offsetTop+Je,ze=J+Y+ee,Ve=N-ze;if(ze<=Se){const De=W.length>0&&b===W[W.length-1].ref.current;l.style.bottom="0px";const qe=u.clientHeight-g.offsetTop-g.offsetHeight,Bt=Math.max(et,Je+(De?Re:0)+qe+re),Rr=ze+Bt;l.style.height=Rr+"px"}else{const De=W.length>0&&b===W[0].ref.current;l.style.top="0px";const Bt=Math.max(Se,J+g.offsetTop+(De?ue:0)+Je)+Ve;l.style.height=Bt+"px",g.scrollTop=ze-Se+g.offsetTop}l.style.margin=`${Nn}px 0`,l.style.minHeight=R+"px",l.style.maxHeight=L+"px",n==null||n(),requestAnimationFrame(()=>f.current=!0)}},[p,i.trigger,i.valueNode,l,u,g,b,y,i.dir,n]);Ft(()=>w(),[w]);const[_,S]=m.useState();Ft(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const j=m.useCallback(k=>{k&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return a.jsx(tz,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:f,onScrollButtonChange:j,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:a.jsx(Ee.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});hC.displayName=X6;var ez="SelectPopperPosition",jg=m.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Nn,...i}=e,o=jf(r);return a.jsx(xk,{...o,...i,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jg.displayName=ez;var[tz,by]=_l($a,{}),Sg="SelectViewport",fC=m.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,i=Hi(Sg,r),o=by(Sg,r),l=We(t,i.onViewportChange),c=m.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(bf.Slot,{scope:r,children:a.jsx(Ee.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ce(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&h){const f=Math.abs(c.current-d.scrollTop);if(f>0){const v=window.innerHeight-Nn*2,g=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),y=Math.max(g,b);if(y<v){const x=y+f,w=Math.min(v,x),_=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});fC.displayName=Sg;var mC="SelectGroup",[rz,nz]=_l(mC),sz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=as();return a.jsx(rz,{scope:r,id:s,children:a.jsx(Ee.div,{role:"group","aria-labelledby":s,...n,ref:t})})});sz.displayName=mC;var pC="SelectLabel",gC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=nz(pC,r);return a.jsx(Ee.div,{id:s.id,...n,ref:t})});gC.displayName=pC;var vh="SelectItem",[iz,vC]=_l(vh),yC=m.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:i,...o}=e,l=qi(vh,r),c=Hi(vh,r),u=l.value===n,[d,h]=m.useState(i??""),[p,f]=m.useState(!1),v=We(t,x=>{var w;return(w=c.itemRefCallback)==null?void 0:w.call(c,x,n,s)}),g=as(),b=m.useRef("touch"),y=()=>{s||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(iz,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:m.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(bf.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:a.jsx(Ee.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:v,onFocus:ce(o.onFocus,()=>f(!0)),onBlur:ce(o.onBlur,()=>f(!1)),onClick:ce(o.onClick,()=>{b.current!=="mouse"&&y()}),onPointerUp:ce(o.onPointerUp,()=>{b.current==="mouse"&&y()}),onPointerDown:ce(o.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:ce(o.onPointerMove,x=>{var w;b.current=x.pointerType,s?(w=c.onItemLeave)==null||w.call(c):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ce(o.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=c.onItemLeave)==null||w.call(c))}),onKeyDown:ce(o.onKeyDown,x=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(W6.includes(x.key)&&y(),x.key===" "&&x.preventDefault())})})})})});yC.displayName=vh;var Yl="SelectItemText",xC=m.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...i}=e,o=qi(Yl,r),l=Hi(Yl,r),c=vC(Yl,r),u=G6(Yl,r),[d,h]=m.useState(null),p=We(t,y=>h(y),c.onItemTextChange,y=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,y,c.value,c.disabled)}),f=d==null?void 0:d.textContent,v=m.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:f},c.value),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:b}=u;return Ft(()=>(g(v),()=>b(v)),[g,b,v]),a.jsxs(a.Fragment,{children:[a.jsx(Ee.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?hl.createPortal(i.children,o.valueNode):null]})});xC.displayName=Yl;var wC="SelectItemIndicator",bC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return vC(wC,r).isSelected?a.jsx(Ee.span,{"aria-hidden":!0,...n,ref:t}):null});bC.displayName=wC;var kg="SelectScrollUpButton",_C=m.forwardRef((e,t)=>{const r=Hi(kg,e.__scopeSelect),n=by(kg,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;i(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(SC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_C.displayName=kg;var Ng="SelectScrollDownButton",jC=m.forwardRef((e,t)=>{const r=Hi(Ng,e.__scopeSelect),n=by(Ng,e.__scopeSelect),[s,i]=m.useState(!1),o=We(t,n.onScrollButtonChange);return Ft(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;i(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),s?a.jsx(SC,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});jC.displayName=Ng;var SC=m.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,i=Hi("SelectScrollButton",r),o=m.useRef(null),l=_f(r),c=m.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),Ft(()=>{var d;const u=l().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[l]),a.jsx(Ee.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:ce(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:ce(s.onPointerMove,()=>{var u;(u=i.onItemLeave)==null||u.call(i),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:ce(s.onPointerLeave,()=>{c()})})}),az="SelectSeparator",kC=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(Ee.div,{"aria-hidden":!0,...n,ref:t})});kC.displayName=az;var Cg="SelectArrow",oz=m.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=jf(r),i=qi(Cg,r),o=Hi(Cg,r);return i.open&&o.position==="popper"?a.jsx(wk,{...s,...n,ref:t}):null});oz.displayName=Cg;var lz="SelectBubbleInput",NC=m.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const s=m.useRef(null),i=We(n,s),o=$N(t);return m.useEffect(()=>{const l=s.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&d){const h=new Event("change",{bubbles:!0});d.call(l,t),l.dispatchEvent(h)}},[o,t]),a.jsx(Ee.select,{...r,style:{...tC,...r.style},ref:i,defaultValue:t})});NC.displayName=lz;function CC(e){return e===""||e===void 0}function EC(e){const t=er(e),r=m.useRef(""),n=m.useRef(0),s=m.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),i=m.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,i]}function RC(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,i=r?e.indexOf(r):-1;let o=cz(e,Math.max(i,0));s.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function cz(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var uz=rC,PC=sC,dz=aC,hz=oC,fz=lC,TC=cC,mz=fC,AC=gC,OC=yC,pz=xC,gz=bC,IC=_C,MC=jC,DC=kC;const sr=uz,ir=dz,Yt=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(PC,{ref:n,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(hz,{asChild:!0,children:a.jsx(Vh,{className:"h-4 w-4 opacity-50"})})]}));Yt.displayName=PC.displayName;const LC=m.forwardRef(({className:e,...t},r)=>a.jsx(IC,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Yj,{className:"h-4 w-4"})}));LC.displayName=IC.displayName;const $C=m.forwardRef(({className:e,...t},r)=>a.jsx(MC,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Vh,{className:"h-4 w-4"})}));$C.displayName=MC.displayName;const Jt=m.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>a.jsx(fz,{children:a.jsxs(TC,{ref:s,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-card text-card-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(LC,{}),a.jsx(mz,{className:H("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx($C,{})]})}));Jt.displayName=TC.displayName;const vz=m.forwardRef(({className:e,...t},r)=>a.jsx(AC,{ref:r,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vz.displayName=AC.displayName;const He=m.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(OC,{ref:n,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(gz,{children:a.jsx(zh,{className:"h-4 w-4"})})}),a.jsx(pz,{children:t})]}));He.displayName=OC.displayName;const yz=m.forwardRef(({className:e,...t},r)=>a.jsx(DC,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));yz.displayName=DC.displayName;const xz=Vt({name:Le().min(1,"Name is required").max(200,"Name too long"),schedule:Le().min(1,"Schedule is required"),description:Le().optional(),payload_json:Le().optional(),session_target:Le().optional(),isolation_setting:uu().optional(),status:zn(["active","paused"]).optional()}),Ju={name:"",schedule:"",description:"",payload_json:"{}",session_target:"",isolation_setting:!1,status:"active"};function wz(e){if(!e||!e.trim())return{};try{const t=JSON.parse(e);return typeof t=="object"&&t!==null?t:{}}catch{return{}}}function FC({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,userId:s="",job:i=null}){const o=!!i,{register:l,handleSubmit:c,setValue:u,watch:d,reset:h,formState:{errors:p}}=Ut({resolver:zt(xz),defaultValues:Ju}),f=d("status"),v=d("isolation_setting");m.useEffect(()=>{e&&i?h({name:i.name??i.description??"",schedule:i.schedule,description:i.description??"",payload_json:typeof i.payload=="object"&&Object.keys(i.payload||{}).length>0?JSON.stringify(i.payload,null,2):"{}",session_target:i.session_target??"",isolation_setting:i.isolation_setting??!1,status:i.status==="failed"?"paused":i.status}):e&&!i&&h(Ju)},[e,i,h]);const g=y=>{const x=wz(y.payload_json??"{}");r(o&&i?{name:y.name||null,schedule:y.schedule,description:y.description||null,payload:x,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}:{user_id:s,name:y.name||null,schedule:y.schedule,description:y.description||null,payload:x,session_target:y.session_target||null,isolation_setting:y.isolation_setting??!1,status:y.status??"active"}),h(Ju),t(!1)},b=y=>{y||h(Ju),t(y)};return a.jsx(ct,{open:e,onOpenChange:b,children:a.jsxs(rt,{className:"max-w-[640px]","aria-describedby":"cron-job-form-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:o?"Edit cron job":"Create cron job"}),a.jsx(it,{id:"cron-job-form-description",children:o?"Update schedule, payload, session target, and isolation.":"Add a scheduled job with cron expression, payload, and session target."})]}),a.jsxs("form",{onSubmit:c(g),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"name",children:"Job name"}),a.jsx(Ne,{id:"name",placeholder:"e.g. Daily backup",...l("name"),className:p.name?"border-destructive":""}),p.name&&a.jsx("p",{className:"text-xs text-destructive",children:p.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"schedule",children:"Schedule (cron expression)"}),a.jsx(Ne,{id:"schedule",placeholder:"e.g. 0 * * * * (hourly)",...l("schedule"),className:p.schedule?"border-destructive":""}),p.schedule&&a.jsx("p",{className:"text-xs text-destructive",children:p.schedule.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"description",children:"Description (optional)"}),a.jsx(Ne,{id:"description",placeholder:"Optional description",...l("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"payload_json",children:"Payload (JSON)"}),a.jsx("textarea",{id:"payload_json",rows:4,placeholder:'{"key": "value"}',...l("payload_json"),className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 font-mono"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"session_target",children:"Session target"}),a.jsx(Ne,{id:"session_target",placeholder:"Target session or channel",...l("session_target")})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(se,{htmlFor:"isolation_setting",children:"Isolation"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Run job in isolated environment (sandbox)"})]}),a.jsx(Vs,{id:"isolation_setting",checked:v??!1,onCheckedChange:y=>u("isolation_setting",y)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Status"}),a.jsxs(sr,{value:f??"active",onValueChange:y=>u("status",y),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"active",children:"Active"}),a.jsx(He,{value:"paused",children:"Paused"})]})]})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>b(!1),disabled:n,children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Saving":o?"Save changes":"Create job"})]})]})]})})}const jm={healthy:"Healthy",degraded:"Degraded",unknown:"Unknown",offline:"Offline"},bz={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"},_z={paired:"success",offline:"destructive",error:"warning"};function jz({node:e,open:t,onOpenChange:r,onUpdateHealth:n,isUpdating:s=!1}){var u;const[i,o]=m.useState((e==null?void 0:e.connection_health)??"unknown");if(m.useEffect(()=>{e&&o(e.connection_health)},[e,t]),!e)return null;const l=e.connection_health,c=()=>{n==null||n(e.id,i),r(!1)};return a.jsx(ct,{open:t,onOpenChange:r,children:a.jsxs(rt,{className:"max-w-md","aria-describedby":"node-health-description",children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(Kd,{className:"h-5 w-5"}),e.name??"Node","  Connection health"]}),a.jsx(it,{id:"node-health-description",children:"View and update node connection health and capabilities."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Status:"}),a.jsx(At,{variant:_z[e.status],children:e.status})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Current health:"}),a.jsxs(At,{variant:bz[l],children:[l==="healthy"&&a.jsx(oS,{className:"mr-1 h-3 w-3"}),l==="offline"&&a.jsx(aS,{className:"mr-1 h-3 w-3"}),jm[l]]})]}),(u=e.capabilities)!=null&&u.length?a.jsxs("div",{className:"grid gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Capabilities"}),a.jsx("div",{className:"flex flex-wrap gap-1",children:e.capabilities.map(d=>a.jsx(At,{variant:"outline",className:"text-xs",children:d},d))})]}):null,n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Update connection health"}),a.jsxs(sr,{value:i,onValueChange:d=>o(d),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsx(Jt,{children:Object.keys(jm).map(d=>a.jsx(He,{value:d,children:jm[d]},d))})]})]})]}),n&&a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(T,{onClick:c,disabled:s||i===l,children:s?"Saving":"Save"})]})]})})}const Sz={low:"Low",medium:"Medium",high:"High",critical:"Critical"},kz=[{value:"open",label:"Open"},{value:"acknowledged",label:"Acknowledged"},{value:"resolved",label:"Resolved"}];function Nz({alert:e,open:t,onOpenChange:r,onResolve:n,isUpdating:s=!1}){if(!e)return null;const i=o=>{n==null||n(e.id,o),r(!1)};return a.jsx(ct,{open:t,onOpenChange:r,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"alert-resolution-description",children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(Iv,{className:H("h-5 w-5",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning")}),"Alert  ",e.type]}),a.jsx(it,{id:"alert-resolution-description",children:"Update resolution status for this security or audit finding."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{className:"rounded-md border border-border bg-secondary/30 p-3",children:a.jsx("p",{className:"text-sm",children:e.description})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Severity:"}),a.jsx("span",{className:H("text-sm font-medium",e.severity==="critical"&&"text-destructive",e.severity==="high"&&"text-warning"),children:Sz[e.severity]})]}),n&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Resolution status"}),a.jsxs(sr,{value:e.resolution_status,onValueChange:o=>i(o),disabled:s,children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsx(Jt,{children:kz.map(o=>a.jsx(He,{value:o.value,children:o.label},o.value))})]})]})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>r(!1),children:"Close"}),n&&a.jsx(T,{onClick:()=>i("resolved"),disabled:s||e.resolution_status==="resolved",children:s?"Updating":"Mark resolved"})]})]})})}const Bb={message:"Message",tool_run:"Tool run",cron_run:"Cron run",node_event:"Node event",alert:"Alert"},Cz={running:"default",completed:"secondary",failed:"destructive",aborted:"warning"},Ez={healthy:"success",degraded:"warning",unknown:"secondary",offline:"destructive"};function Rz(){const[e,t]=m.useState(""),[r,n]=m.useState(""),[s,i]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(!1),[p,f]=m.useState(null),[v,g]=m.useState(null),{data:b}=wf(),y=(b==null?void 0:b.user_id)??"",{data:x=[],isLoading:w}=b6({limit:20,type:r||void 0}),{data:_=[],isLoading:S}=j6({status:"running",limit:10}),{data:j=[],isLoading:k}=ZN(),{data:P=[],isLoading:A}=eC(),{data:M=[],isLoading:W}=P6({resolution_status:"open"}),L=A6(),z=S6(),O=XN(),J=_6(),Y=T6(),re=R6(),D=()=>{const R=e.trim();R&&L.mutate({message:R},{onSuccess:()=>t("")})},N=r?x.filter(R=>R.activity_type===r):x;return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:a.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"})}),a.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{title:"Active runs",value:_.length,icon:Pi,href:"/chat"},{title:"Cron jobs",value:j.length,icon:Uh,href:"/cron"},{title:"Nodes",value:P.length,icon:Kd,href:"/nodes"},{title:"Alerts",value:M.length,icon:Mi,href:"/security"}].map(({title:R,value:le,icon:ue,href:Re})=>a.jsx(we,{to:Re,children:a.jsxs(G,{className:"transition-all duration-200 hover:shadow-card-hover hover:scale-[1.02]",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between pb-2",children:[a.jsx(ne,{className:"text-sm font-medium text-muted-foreground",children:R}),a.jsx(ue,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(Q,{children:a.jsx("div",{className:"text-2xl font-bold",children:le})})]})},R))}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(G,{className:"flex flex-col",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(BT,{className:"h-5 w-5"}),"Recent activity"]}),a.jsxs("select",{value:r,onChange:R=>n(R.target.value),className:"rounded-md border border-input bg-background px-2 py-1 text-xs focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Filter activity type",children:[a.jsx("option",{value:"",children:"All"}),Object.entries(Bb).map(([R,le])=>a.jsx("option",{value:R,children:le},R))]})]}),a.jsx(Q,{className:"flex-1 overflow-hidden",children:a.jsx(fr,{className:"h-[280px] pr-4",children:w?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(R=>a.jsx(xe,{className:"h-14 w-full rounded-lg"},R))}):N.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No recent activity."}):a.jsx("ul",{className:"space-y-2",children:N.map(R=>a.jsx("li",{children:a.jsxs("div",{className:H("rounded-lg border border-border bg-secondary/30 p-3 transition-colors hover:bg-secondary/50",s===R.id&&"ring-2 ring-ring"),children:[a.jsxs("button",{type:"button",className:"flex w-full items-center gap-2 text-left",onClick:()=>i(s===R.id?null:R.id),"aria-expanded":s===R.id,children:[s===R.id?a.jsx(Vh,{className:"h-4 w-4 shrink-0"}):a.jsx(Ii,{className:"h-4 w-4 shrink-0"}),a.jsx(At,{variant:"secondary",className:"text-xs",children:Bb[R.activity_type]??R.activity_type}),a.jsx("span",{className:"flex-1 truncate text-sm text-muted-foreground",children:Xr(new Date(R.created_at),{addSuffix:!0})})]}),s===R.id&&a.jsx("div",{className:"mt-2 flex items-center gap-2 border-t border-border pt-2",children:a.jsx(T,{variant:"outline",size:"sm",onClick:()=>l(R),children:"View details"})})]})},R.id))})})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Wh,{className:"h-5 w-5"}),"Quick Run"]}),a.jsx(ge,{children:"Send a message to the default session or channel."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Ne,{type:"text",placeholder:"Type a command or message...",className:"flex-1",value:e,onChange:R=>t(R.target.value),onKeyDown:R=>R.key==="Enter"&&D(),"aria-label":"Quick run message"}),a.jsx(T,{onClick:D,disabled:!e.trim()||L.isPending,children:L.isPending?a.jsx("span",{className:"animate-pulse",children:"Sending"}):a.jsx(Pc,{className:"h-4 w-4"})})]})})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Active runs"}),a.jsx(ge,{children:"Stream and abort running jobs."})]}),a.jsx(Q,{children:S?a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-12 w-full rounded-lg"}),a.jsx(xe,{className:"h-12 w-full rounded-lg"})]}):_.length===0?a.jsx("p",{className:"text-sm text-muted-foreground",children:"No active runs."}):a.jsx("ul",{className:"space-y-2",children:_.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(At,{variant:Cz[R.status],children:R.status}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Started ",Xr(new Date(R.start_time),{addSuffix:!0})]})]}),a.jsxs(T,{variant:"destructive",size:"sm",onClick:()=>u(R),disabled:R.status!=="running",children:[a.jsx(QT,{className:"mr-1 h-4 w-4"}),"Abort"]})]},R.id))})})]}),a.jsxs("div",{className:"grid gap-6 sm:grid-cols-2",children:[a.jsxs(G,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Cron overview"}),a.jsxs(T,{size:"sm",onClick:()=>h(!0),children:[a.jsx(ur,{className:"mr-1 h-4 w-4"}),"Create job"]})]}),a.jsx(Q,{children:k?a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-10 w-full rounded-lg"}),a.jsx(xe,{className:"h-10 w-full rounded-lg"})]}):j.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No cron jobs."}),a.jsx(T,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(we,{to:"/cron",children:"Manage cron"})})]}):a.jsxs("ul",{className:"space-y-2",children:[j.slice(0,5).map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border px-3 py-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.description||R.schedule}),a.jsx("p",{className:"text-xs text-muted-foreground",children:R.schedule})]}),a.jsx(At,{variant:R.status==="active"?"default":"secondary",children:R.status})]},R.id)),j.length>5&&a.jsx("li",{children:a.jsx(T,{variant:"ghost",size:"sm",asChild:!0,children:a.jsxs(we,{to:"/cron",children:["View all (",j.length,")"]})})})]})})]}),a.jsxs(G,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsx(ne,{children:"Nodes status"}),a.jsx(T,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(we,{to:"/nodes",children:"Pair node"})})]}),a.jsx(Q,{children:A?a.jsxs("div",{className:"grid gap-2 sm:grid-cols-2",children:[a.jsx(xe,{className:"h-20 rounded-lg"}),a.jsx(xe,{className:"h-20 rounded-lg"})]}):P.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes."}),a.jsx(T,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(we,{to:"/nodes",children:"Pair node"})})]}):a.jsx("div",{className:"grid gap-2 sm:grid-cols-2",children:P.map(R=>a.jsxs("button",{type:"button",className:"flex items-center gap-3 rounded-lg border border-border bg-secondary/30 p-3 text-left transition-colors hover:bg-secondary/50",onClick:()=>f(R),children:[a.jsx(Kd,{className:"h-8 w-8 shrink-0 text-muted-foreground"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:R.name??"Node"}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs(At,{variant:Ez[R.connection_health],className:"text-xs",children:[R.connection_health==="healthy"&&a.jsx(oS,{className:"mr-0.5 h-3 w-3"}),R.connection_health==="offline"&&a.jsx(aS,{className:"mr-0.5 h-3 w-3"}),R.connection_health]})})]})]},R.id))})})]})]}),a.jsxs(G,{children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0",children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Iv,{className:"h-5 w-5 text-warning"}),"Skill alerts / audit findings"]}),a.jsx(T,{variant:"outline",size:"sm",asChild:!0,children:a.jsx(we,{to:"/security",children:"Run audit"})})]}),a.jsx(Q,{children:W?a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-12 w-full rounded-lg"}),a.jsx(xe,{className:"h-12 w-full rounded-lg"})]}):M.length===0?a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No alerts."}),a.jsx(T,{variant:"outline",size:"sm",className:"mt-2",asChild:!0,children:a.jsx(we,{to:"/security",children:"Run audit"})})]}):a.jsx("ul",{className:"space-y-2",children:M.map(R=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 p-3",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium",children:R.type}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",children:R.description})]}),a.jsx(At,{variant:R.severity==="critical"?"destructive":R.severity==="high"?"warning":"secondary",className:"shrink-0",children:R.severity}),a.jsx(T,{variant:"ghost",size:"sm",className:"ml-2",onClick:()=>g(R),children:"Fix"})]},R.id))})})]}),a.jsx(O6,{activity:o,open:!!o,onOpenChange:R=>!R&&l(null),onDelete:R=>{J.mutate(R),l(null)}}),a.jsx(I6,{run:c,open:!!c,onOpenChange:R=>!R&&u(null),onConfirm:R=>{z.mutate(R),u(null)},isAborting:z.isPending}),a.jsx(FC,{open:d,onOpenChange:h,onSubmit:R=>{"user_id"in R&&R.user_id!==void 0&&O.mutate(R)},isSubmitting:O.isPending,userId:y}),a.jsx(jz,{node:p,open:!!p,onOpenChange:R=>!R&&f(null),onUpdateHealth:(R,le)=>re.mutate({id:R,data:{connection_health:le}}),isUpdating:re.isPending}),a.jsx(Nz,{alert:v,open:!!v,onOpenChange:R=>!R&&g(null),onResolve:(R,le)=>Y.mutate({id:R,data:{resolution_status:le}}),isUpdating:Y.isPending})]})}const Vn={getSessions:async()=>{const{data:e,error:t}=await F.from("chat_sessions").select("*").order("started_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getSession:async e=>{const{data:t,error:r}=await F.from("chat_sessions").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createSession:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("chat_sessions").insert(r).select().single();if(s)throw new Error(s.message);return n},updateSession:async(e,t)=>{const{data:r,error:n}=await F.from("chat_sessions").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteSession:async e=>{const{error:t}=await F.from("chat_sessions").delete().eq("id",e);if(t)throw new Error(t.message)},getMessages:async(e,t)=>{let r=F.from("chat_messages").select("*").eq("session_id",e).order("created_at",{ascending:!0});t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},sendMessage:async e=>{const{data:t,error:r}=await F.from("chat_messages").insert(e).select().single();if(r)throw new Error(r.message);return t},getToolInvocations:async(e,t)=>{let r=F.from("tool_invocations").select("*").eq("session_id",e).order("created_at",{ascending:!1});t!=null&&t.messageId&&(r=r.eq("message_id",t.messageId)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createToolInvocation:async e=>{const{data:t,error:r}=await F.from("tool_invocations").insert(e).select().single();if(r)throw new Error(r.message);return t},updateToolInvocation:async(e,t)=>{const{data:r,error:n}=await F.from("tool_invocations").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},approveToolInvocation:async e=>Vn.updateToolInvocation(e,{status:"approved"}),denyToolInvocation:async e=>Vn.updateToolInvocation(e,{status:"denied"})};function Pz(e,t){return e().catch(()=>t)}const Lr={all:["chat"],sessions:()=>[...Lr.all,"sessions"],session:e=>[...Lr.all,"session",e],messages:(e,t)=>[...Lr.all,"messages",e,t],toolInvocations:(e,t)=>[...Lr.all,"toolInvocations",e,t]};function Tz(){return Fe({queryKey:Lr.sessions(),queryFn:()=>Pz(()=>Vn.getSessions(),[])})}function Az(e){return Fe({queryKey:Lr.session(e??""),queryFn:()=>e?Vn.getSession(e):Promise.resolve(null),enabled:!!e})}function Oz(){const e=ke();return Ce({mutationFn:t=>Vn.createSession(t),onSuccess:()=>{e.invalidateQueries({queryKey:Lr.sessions()}),U.success("Session created")},onError:t=>{U.error(t.message||"Failed to create session")}})}function Iz(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>Vn.updateSession(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Lr.sessions()}),e.invalidateQueries({queryKey:Lr.session(r)}),U.success("Session updated")},onError:t=>{U.error(t.message||"Failed to update session")}})}function Mz(e,t){return Fe({queryKey:Lr.messages(e??"",{limit:t}),queryFn:()=>e?Vn.getMessages(e,{limit:t}):Promise.resolve([]),enabled:!!e})}function Dz(){const e=ke();return Ce({mutationFn:t=>Vn.sendMessage(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Lr.messages(r.session_id)}),U.success("Message sent")},onError:t=>{U.error(t.message||"Failed to send message")}})}function Lz(e,t){return Fe({queryKey:Lr.toolInvocations(e??"",t),queryFn:()=>e?Vn.getToolInvocations(e,t):Promise.resolve([]),enabled:!!e})}function $z(){const e=ke();return Ce({mutationFn:({id:t,sessionId:r})=>Vn.approveToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Lr.toolInvocations(r)}),U.success("Tool output approved")},onError:t=>{U.error(t.message||"Failed to approve")}})}function Fz(){const e=ke();return Ce({mutationFn:({id:t,sessionId:r})=>Vn.denyToolInvocation(t),onSuccess:(t,{sessionId:r})=>{e.invalidateQueries({queryKey:Lr.toolInvocations(r)}),U.success("Tool output denied")},onError:t=>{U.error(t.message||"Failed to deny")}})}function Uz({message:e,currentUserId:t}){const r=e.role==="user"||e.sender_id===t,n=e.role==="assistant"?"Assistant":e.role==="system"?"System":"You",s=Array.isArray(e.attachment_links)&&e.attachment_links.length>0;return a.jsxs("div",{className:H("flex gap-3 rounded-lg p-3 transition-colors duration-200 hover:bg-card/80",r&&"flex-row-reverse"),"data-message-id":e.id,children:[a.jsx(Yh,{className:"h-8 w-8 shrink-0 rounded-full border border-border bg-secondary",children:a.jsx(Jh,{className:"text-xs text-muted-foreground",children:e.role==="assistant"?a.jsx(HT,{className:"h-4 w-4"}):a.jsx(Hh,{className:"h-4 w-4"})})}),a.jsxs("div",{className:H("flex min-w-0 flex-1 flex-col gap-1",r&&"items-end"),children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium text-foreground",children:n}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Xr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsx("p",{className:"whitespace-pre-wrap break-words text-sm text-foreground",children:e.text}),s&&a.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:e.attachment_links.map((i,o)=>a.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"rounded border border-border bg-secondary px-2 py-1 text-xs text-primary hover:underline",children:i.name??"Attachment"},o))})]})]})}function zz({messages:e,isLoading:t,currentUserId:r,className:n}){const s=m.useRef(null);return m.useEffect(()=>{var i;(i=s.current)==null||i.scrollIntoView({behavior:"smooth"})},[e.length]),a.jsx(fr,{className:H("flex-1",n),"data-testid":"message-thread",children:a.jsx("div",{className:"space-y-1 p-4",children:t?a.jsx("div",{className:"flex flex-col gap-4 py-8",children:[1,2,3].map(i=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"h-8 w-8 shrink-0 rounded-full bg-muted animate-pulse"}),a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx("div",{className:"h-4 w-24 rounded bg-muted animate-pulse"}),a.jsx("div",{className:"h-4 w-full max-w-md rounded bg-muted animate-pulse"})]})]},i))}):e.length===0?a.jsx("p",{className:"py-8 text-center text-sm text-muted-foreground",children:"No messages yet. Send a message or use a slash command."}):e.map((i,o)=>a.jsx("div",{ref:o===e.length-1?s:void 0,children:a.jsx(Uz,{message:i,currentUserId:r})},i.id))})})}function Vz({sessionId:e,onSend:t,onAttachClick:r,onToolSelect:n,disabled:s,isSending:i,availableTools:o=[],className:l}){const[c,u]=m.useState(""),[d,h]=m.useState(null),p=m.useCallback(v=>{v.preventDefault();const g=c.trim();!g||!e||(t(g,{toolName:d??void 0}),u(""),h(null))},[c,e,t,d]),f=!!(e&&c.trim()&&!s&&!i);return a.jsx("form",{onSubmit:p,className:H("flex flex-col gap-2 border-t border-border bg-card p-4 transition-shadow duration-200",l),children:a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx(T,{type:"button",variant:"ghost",size:"icon",onClick:r,disabled:s||!e,"aria-label":"Attach file",className:"shrink-0",children:a.jsx(uA,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex flex-1 flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx(Ne,{value:c,onChange:v=>u(v.target.value),placeholder:"Type a message...",disabled:s||!e,className:"min-h-10 flex-1 rounded-md border-input bg-background px-3 py-2 text-sm focus-visible:ring-2 focus-visible:ring-ring","aria-label":"Message input"}),o.length>0&&a.jsxs(sr,{value:d??"",onValueChange:v=>{h(v||null),v&&n&&n(v)},disabled:s||!e,children:[a.jsxs(Yt,{className:"w-full sm:w-[140px]","aria-label":"Select tool",children:[a.jsx(lS,{className:"mr-1.5 h-4 w-4 text-muted-foreground"}),a.jsx(ir,{placeholder:"Tool"})]}),a.jsx(Jt,{children:o.map(v=>a.jsx(He,{value:v.id,children:v.name},v.id))})]})]}),a.jsx(T,{type:"submit",size:"icon",disabled:!f,"aria-label":"Send message",className:"shrink-0 transition-transform hover:scale-105 active:scale-95",children:i?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsx(Pc,{className:"h-4 w-4"})})]})})}function Bz(e,t=[]){let r=[];function n(i,o){const l=m.createContext(o);l.displayName=i+"Context";const c=r.length;r=[...r,o];const u=h=>{var y;const{scope:p,children:f,...v}=h,g=((y=p==null?void 0:p[e])==null?void 0:y[c])||l,b=m.useMemo(()=>v,Object.values(v));return a.jsx(g.Provider,{value:b,children:f})};u.displayName=i+"Provider";function d(h,p){var g;const f=((g=p==null?void 0:p[e])==null?void 0:g[c])||l,v=m.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${i}\``)}return[u,d]}const s=()=>{const i=r.map(o=>m.createContext(o));return function(l){const c=(l==null?void 0:l[e])||i;return m.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return s.scopeName=e,[n,Wz(s,...t)]}function Wz(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(i)[`__scope${u}`];return{...l,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}var qz=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UC=qz.reduce((e,t)=>{const r=nu(`Primitive.${t}`),n=m.forwardRef((s,i)=>{const{asChild:o,...l}=s,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:i})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),_y="Progress",jy=100,[Hz]=Bz(_y),[Kz,Gz]=Hz(_y),zC=m.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:s,getValueLabel:i=Qz,...o}=e;(s||s===0)&&!Wb(s)&&console.error(Yz(`${s}`,"Progress"));const l=Wb(s)?s:jy;n!==null&&!qb(n,l)&&console.error(Jz(`${n}`,"Progress"));const c=qb(n,l)?n:null,u=yh(c)?i(c,l):void 0;return a.jsx(Kz,{scope:r,value:c,max:l,children:a.jsx(UC.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":yh(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WC(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});zC.displayName=_y;var VC="ProgressIndicator",BC=m.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,s=Gz(VC,r);return a.jsx(UC.div,{"data-state":WC(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...n,ref:t})});BC.displayName=VC;function Qz(e,t){return`${Math.round(e/t*100)}%`}function WC(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function yh(e){return typeof e=="number"}function Wb(e){return yh(e)&&!isNaN(e)&&e>0}function qb(e,t){return yh(e)&&!isNaN(e)&&e<=t&&e>=0}function Yz(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jy}\`.`}function Jz(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jy} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var qC=zC,Zz=BC;const HC=m.forwardRef(({className:e,value:t,...r},n)=>a.jsx(qC,{ref:n,className:H("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx(Zz,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));HC.displayName=qC.displayName;const Xz={pending:"secondary",running:"default",completed:"outline",failed:"destructive",approved:"outline",denied:"destructive"};function eV({invocation:e,onApprove:t,onDeny:r,className:n}){const s=e.status==="running",i=e.status==="completed"||e.status==="running",o=e.output&&typeof e.output=="object"?JSON.stringify(e.output,null,2):e.output!=null?String(e.output):"";return a.jsxs(G,{className:H("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200 hover:shadow-card-hover",n),"data-invocation-id":e.id,children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(lS,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-semibold",children:e.tool_name}),a.jsx(At,{variant:Xz[e.status],className:"text-xs",children:e.status})]}),a.jsx("span",{className:"text-xs text-muted-foreground",title:new Date(e.created_at).toLocaleString(),children:Xr(new Date(e.created_at),{addSuffix:!0})})]}),a.jsxs(Q,{className:"p-4",children:[s&&a.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm text-muted-foreground",children:[a.jsx(is,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{children:"Running"}),a.jsx(HC,{value:void 0,className:"h-1.5 flex-1"})]}),o&&a.jsx("pre",{className:"max-h-48 overflow-auto rounded border border-border bg-secondary/50 p-3 text-xs text-foreground",children:o}),i&&t&&r&&a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(T,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>r(e.id),children:[a.jsx(Kh,{className:"h-4 w-4"}),"Deny"]}),a.jsxs(T,{size:"sm",className:"gap-1.5",onClick:()=>t(e.id),children:[a.jsx(zh,{className:"h-4 w-4"}),"Approve"]})]})]})]})}function tV({session:e,sessions:t,onSelectSession:r,currentSessionId:n,routingTargets:s=[],className:i}){return a.jsxs("aside",{className:H("flex w-full flex-col gap-4 lg:w-72 lg:shrink-0",i),"aria-label":"Chat sidebar",children:[a.jsxs(G,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Session"})}),a.jsxs(Q,{className:"text-sm text-muted-foreground",children:[e?a.jsx("p",{className:"font-medium text-foreground",children:e.title}):a.jsx("p",{children:"Main session (default)"}),e&&a.jsxs("p",{className:"mt-1 text-xs",children:["Status: ",a.jsx(At,{variant:"outline",children:e.status})]})]})]}),t.length>1&&a.jsxs(G,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Sessions"})}),a.jsx(Q,{children:a.jsx(fr,{className:"h-32",children:a.jsx("ul",{className:"space-y-1",children:t.slice(0,10).map(o=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>r(o.id),className:H("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-left text-sm transition-colors",n===o.id?"bg-primary/15 text-primary":"text-muted-foreground hover:bg-secondary hover:text-foreground"),children:[a.jsx(Wh,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:o.title})]})},o.id))})})})]}),a.jsxs(G,{className:"rounded-lg border border-border bg-card shadow-card",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-sm font-semibold",children:"Routing targets"})}),a.jsx(Q,{className:"text-sm text-muted-foreground",children:s.length===0?a.jsx("p",{children:"No channels configured."}):a.jsx("ul",{className:"space-y-1",children:s.map(o=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx(rS,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{children:o.name}),a.jsx(At,{variant:"secondary",className:"text-xs",children:o.type})]},o.id))})})]})]})}function rV({traces:e,isLoading:t,onExport:r,className:n}){const[s,i]=m.useState(!1);return a.jsxs(G,{className:H("overflow-hidden rounded-lg border border-border bg-card shadow-card transition-all duration-200",n),children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 border-b border-border py-3 px-4",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-sm font-semibold",children:[a.jsx(Ra,{className:"h-4 w-4 text-muted-foreground"}),"Run trace"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[r&&a.jsx(T,{variant:"ghost",size:"icon",onClick:r,"aria-label":"Export trace",children:a.jsx(ru,{className:"h-4 w-4"})}),a.jsx(T,{variant:"ghost",size:"icon",onClick:()=>i(o=>!o),"aria-label":s?"Collapse":"Expand",children:s?a.jsx(Vh,{className:"h-4 w-4"}):a.jsx(Yj,{className:"h-4 w-4"})})]})]}),s&&a.jsx(Q,{className:"p-0",children:a.jsx(fr,{className:"h-48",children:a.jsx("div",{className:"space-y-1 p-2",children:t?a.jsx("div",{className:"flex flex-col gap-2 py-4",children:[1,2,3].map(o=>a.jsx("div",{className:"h-8 w-full rounded bg-muted animate-pulse"},o))}):e.length===0?a.jsx("p",{className:"py-6 text-center text-sm text-muted-foreground",children:"No active run."}):e.map(o=>a.jsxs("div",{className:"rounded border border-border bg-secondary/30 px-3 py-2 text-xs",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"font-medium",children:o.type}),a.jsx("span",{className:"text-muted-foreground",children:o.timestamp})]}),a.jsx("p",{className:"mt-1 text-muted-foreground",children:o.summary})]},o.id))})})})]})}function nV({open:e,onOpenChange:t,attachments:r,onAdd:n,onRemove:s,onConfirm:i,maxAttachments:o=5,className:l}){const[c,u]=m.useState(""),[d,h]=m.useState(""),p=()=>{const v=c.trim();!v||r.length>=o||(n(v,d.trim()||void 0),u(""),h(""))},f=()=>{i(),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:H("max-w-[640px]",l),"aria-describedby":"attachment-modal-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Manage attachments"}),a.jsxs(it,{id:"attachment-modal-description",children:["Add links or URLs to attach to your message. You can add up to"," ",o," attachments."]})]}),a.jsxs("div",{className:"space-y-4 py-2",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex-1 space-y-2",children:[a.jsx(se,{htmlFor:"attach-url",children:"URL"}),a.jsx(Ne,{id:"attach-url",type:"url",placeholder:"https://...",value:c,onChange:v=>u(v.target.value),className:"rounded-md border-input"})]}),a.jsxs("div",{className:"w-32 space-y-2",children:[a.jsx(se,{htmlFor:"attach-name",children:"Name (optional)"}),a.jsx(Ne,{id:"attach-name",placeholder:"Label",value:d,onChange:v=>h(v.target.value),className:"rounded-md border-input"})]}),a.jsx(T,{type:"button",variant:"secondary",size:"icon",onClick:p,disabled:!c.trim()||r.length>=o,className:"mt-6 shrink-0","aria-label":"Add attachment",children:a.jsx(Hp,{className:"h-4 w-4"})})]}),r.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(se,{children:["Attachments (",r.length,"/",o,")"]}),a.jsx(fr,{className:"h-32 rounded-md border border-border p-2",children:a.jsx("ul",{className:"space-y-1",children:r.map((v,g)=>a.jsxs("li",{className:"flex items-center justify-between rounded bg-secondary/50 px-2 py-1.5 text-sm",children:[a.jsx("span",{className:"truncate",children:v.name??v.url}),a.jsx(T,{type:"button",variant:"ghost",size:"icon",onClick:()=>s(g),"aria-label":"Remove attachment",children:a.jsx(Kh,{className:"h-4 w-4"})})]},g))})})]})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(T,{onClick:f,children:"Done"})]})]})})}const sV={new:"Start new session",reset:"Reset session",stop:"Stop session"},iV={new:"Start a new chat session. Your current session will remain in the list.",reset:"Clear all messages in this session. This cannot be undone.",stop:"Pause the current session. You can resume later."};function aV({open:e,onOpenChange:t,action:r,onConfirm:n,isLoading:s,className:i}){if(!r)return null;const o=()=>{n(r),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:H("max-w-[640px]",i),"aria-describedby":"session-dialog-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:sV[r]}),a.jsx(it,{id:"session-dialog-description",children:iV[r]})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(T,{onClick:o,disabled:s,children:s?a.jsx("span",{className:"h-4 w-4 animate-pulse rounded-full bg-primary-foreground"}):a.jsxs(a.Fragment,{children:[r==="new"&&a.jsx(ur,{className:"mr-1.5 h-4 w-4"}),r==="reset"&&a.jsx(nS,{className:"mr-1.5 h-4 w-4"}),r==="stop"&&a.jsx(qh,{className:"mr-1.5 h-4 w-4"}),"Confirm"]})})]})]})})}const oV=[{id:"browser",name:"Browser",description:"Fetch and summarize URLs"},{id:"search",name:"Search",description:"Web search"},{id:"code",name:"Code",description:"Run code snippets"}];function lV(){const{data:e}=wf(),t=(e==null?void 0:e.user_id)??null,[r,n]=m.useState(null),[s,i]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState([]),[p,f]=m.useState([]),{data:v=[],isLoading:g}=Tz(),{data:b}=Az(r),{data:y=[],isLoading:x}=Mz(r,200),{data:w=[]}=Lz(r,{limit:20}),_=Oz(),S=Iz(),j=Dz(),k=$z(),P=Fz();m.useEffect(()=>{if(!g){if(v.length>0&&!r){n(v[0].id);return}v.length===0&&_.mutate({title:"New session"},{onSuccess:O=>n(O.id)})}},[g,v.length,v,r,_]);const A=m.useCallback((O,J)=>{r&&j.mutate({session_id:r,sender_id:t??void 0,role:"user",text:O,attachment_links:(J==null?void 0:J.attachmentUrls)??d},{onSuccess:()=>h([])})},[r,t,d,j]),M=m.useCallback(O=>{O==="new"?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:J=>{n(J.id),l(!1),i(null)}}):O==="reset"&&r?_.mutate({title:`Session ${new Date().toLocaleTimeString()}`},{onSuccess:J=>{n(J.id),l(!1),i(null)}}):O==="stop"&&r&&S.mutate({id:r,data:{status:"paused"}},{onSuccess:()=>{l(!1),i(null)}})},[r,_,S]),W=m.useCallback(O=>{r&&k.mutate({id:O,sessionId:r})},[r,k]),L=m.useCallback(O=>{r&&P.mutate({id:O,sessionId:r})},[r,P]),z=O=>{i(O),l(!0)};return a.jsxs("div",{className:"flex h-[calc(100vh-8rem)] flex-col gap-4 animate-fade-in-up",children:[a.jsxs("header",{className:"flex items-center justify-between gap-4",children:[a.jsx("h1",{className:"text-2xl font-semibold text-foreground",children:"Chat Session"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>z("new"),className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(ur,{className:"h-4 w-4"}),"/new"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>z("reset"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(nS,{className:"h-4 w-4"}),"/reset"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>z("stop"),disabled:!r,className:"gap-1.5 transition-transform hover:scale-105 active:scale-95",children:[a.jsx(qh,{className:"h-4 w-4"}),"/stop"]})]})]}),a.jsxs("div",{className:"grid flex-1 gap-4 overflow-hidden lg:grid-cols-3",children:[a.jsxs("div",{className:"flex min-h-0 flex-col lg:col-span-2",children:[a.jsxs(G,{className:"flex flex-1 flex-col overflow-hidden rounded-lg border border-border bg-card shadow-card",children:[a.jsx(zz,{messages:y,isLoading:x,currentUserId:t,className:"min-h-0"}),a.jsx(Vz,{sessionId:r,onSend:A,onAttachClick:()=>u(!0),disabled:!r,isSending:j.isPending,availableTools:oV})]}),w.length>0&&a.jsx(fr,{className:"mt-4 max-h-64 rounded-lg border border-border bg-card p-2",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:"Tool invocations"}),w.map(O=>a.jsx(eV,{invocation:O,onApprove:W,onDeny:L},O.id))]})})]}),a.jsxs("div",{className:"flex min-h-0 flex-col gap-4 overflow-auto",children:[a.jsx(tV,{session:b??null,sessions:v,onSelectSession:n,currentSessionId:r,routingTargets:[]}),a.jsx(rV,{traces:p,onExport:()=>f([])})]})]}),a.jsx(nV,{open:c,onOpenChange:u,attachments:d,onAdd:(O,J)=>h(Y=>[...Y,{url:O,name:J}]),onRemove:O=>h(J=>J.filter((Y,re)=>re!==O)),onConfirm:()=>{},maxAttachments:5}),a.jsx(aV,{open:o,onOpenChange:l,action:s,onConfirm:M,isLoading:_.isPending||S.isPending})]})}const Ki={getChannels:async()=>{const{data:e,error:t}=await F.from("channels").select("*").order("last_event_at",{ascending:!1,nullsFirst:!1});if(t)throw new Error(t.message);return e??[]},getChannel:async e=>{const{data:t,error:r}=await F.from("channels").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createChannel:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("channels").insert(r).select().single();if(s)throw new Error(s.message);return n},updateChannel:async(e,t)=>{const{data:r,error:n}=await F.from("channels").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteChannel:async e=>{const{error:t}=await F.from("channels").delete().eq("id",e);if(t)throw new Error(t.message)},getAdapterConfig:async e=>{const{data:t,error:r}=await F.from("adapter_configurations").select("*").eq("channel_id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertAdapterConfig:async e=>{const t=await Ki.getAdapterConfig(e.channel_id);if(t){const{data:i,error:o}=await F.from("adapter_configurations").update({dm_policy:e.dm_policy,group_policy:e.group_policy,mention_gating:e.mention_gating,webhook_url:e.webhook_url??t.webhook_url,polling_interval_seconds:e.polling_interval_seconds??t.polling_interval_seconds}).eq("channel_id",e.channel_id).select().single();if(o)throw new Error(o.message);return i}const r={channel_id:e.channel_id,dm_policy:e.dm_policy??"pairing",group_policy:e.group_policy??"mention",mention_gating:e.mention_gating??!0,webhook_url:e.webhook_url??null,polling_interval_seconds:e.polling_interval_seconds??null},{data:n,error:s}=await F.from("adapter_configurations").insert(r).select().single();if(s)throw new Error(s.message);return n},updateAdapterConfig:async(e,t)=>{const{data:r,error:n}=await F.from("adapter_configurations").update(t).eq("channel_id",e).select().single();if(n)throw new Error(n.message);return r},getDeliveryLogs:async(e,t)=>{if(!e)return[];let r=F.from("delivery_logs").select("*").eq("channel_id",e).order("created_at",{ascending:!1});t!=null&&t.eventType&&(r=r.eq("event_type",t.eventType)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createDeliveryLog:async e=>{const{data:t,error:r}=await F.from("delivery_logs").insert(e).select().single();if(r)throw new Error(r.message);return t}};function cV(e,t){return e().catch(()=>t)}const cn={all:["channels"],list:()=>[...cn.all,"list"],detail:e=>[...cn.all,"detail",e],adapterConfig:e=>[...cn.all,"adapterConfig",e],deliveryLogs:(e,t)=>[...cn.all,"deliveryLogs",e,t]};function uV(){return Fe({queryKey:cn.list(),queryFn:()=>cV(()=>Ki.getChannels(),[])})}function dV(e){return Fe({queryKey:cn.detail(e??""),queryFn:()=>e?Ki.getChannel(e):Promise.resolve(null),enabled:!!e})}function hV(){const e=ke();return Ce({mutationFn:t=>Ki.createChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:cn.list()}),U.success("Channel added")},onError:t=>{U.error(t.message||"Failed to add channel")}})}function fV(){const e=ke();return Ce({mutationFn:t=>Ki.deleteChannel(t),onSuccess:()=>{e.invalidateQueries({queryKey:cn.list()}),U.success("Channel removed")},onError:t=>{U.error(t.message||"Failed to remove channel")}})}function mV(e){return Fe({queryKey:cn.adapterConfig(e??""),queryFn:()=>e?Ki.getAdapterConfig(e):Promise.resolve(null),enabled:!!e})}function pV(){const e=ke();return Ce({mutationFn:t=>Ki.upsertAdapterConfig(t),onSuccess:(t,r)=>{const n=r.channel_id;e.invalidateQueries({queryKey:cn.adapterConfig(n)}),e.invalidateQueries({queryKey:cn.detail(n)}),U.success("Channel config saved")},onError:t=>{U.error(t.message||"Failed to save config")}})}function gV(e,t){return Fe({queryKey:cn.deliveryLogs(e,t),queryFn:()=>e?Ki.getDeliveryLogs(e,t):Promise.resolve([]),enabled:!!e})}const Sm={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},vV=Vt({provider:zn(["whatsapp","telegram","slack","discord"]),display_name:Le().optional()}),yV=Vt({retrieval_mode:zn(["webhook","polling"]),webhook_url:Le().url().optional().or(D$("")),polling_interval_seconds:hg.number().min(30).max(3600).optional()}),xV=[{id:1,title:"Provider",description:"Select chat provider"},{id:2,title:"Retrieval",description:"Webhook or polling"},{id:3,title:"Provision",description:"QR or code if needed"},{id:4,title:"Confirm",description:"Finish setup"}];function wV({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const[s,i]=m.useState(1),o=Ut({resolver:zt(vV),defaultValues:{provider:"telegram",display_name:""}}),l=Ut({resolver:zt(yV),defaultValues:{retrieval_mode:"webhook",webhook_url:"",polling_interval_seconds:60}}),c=o.watch("provider"),u=l.watch("retrieval_mode"),d=async()=>{if(!(s===1&&!await o.trigger())&&!(s===2&&!await l.trigger())){if(s===4){const f=o.getValues(),v=l.getValues();r({provider:f.provider,display_name:f.display_name||null,webhook_url:u==="webhook"&&v.webhook_url?v.webhook_url:null,polling_interval_seconds:u==="polling"?v.polling_interval_seconds??60:null}),t(!1),i(1),o.reset(),l.reset();return}i(f=>f+1)}},h=()=>{s>1&&i(f=>f-1)},p=f=>{f||(i(1),o.reset(),l.reset()),t(f)};return a.jsx(ct,{open:e,onOpenChange:p,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"add-channel-wizard-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Add channel"}),a.jsx(it,{id:"add-channel-wizard-description",children:"Connect a chat channel adapter. Follow the steps to complete setup."})]}),a.jsx("div",{className:"flex gap-2 py-2",children:xV.map(f=>a.jsx("div",{className:H("h-1 flex-1 rounded-full transition-colors",f.id<=s?"bg-primary":"bg-muted"),"aria-hidden":!0},f.id))}),s===1&&a.jsxs("form",{id:"wizard-step1",className:"space-y-4 py-4",onSubmit:o.handleSubmit(()=>i(2)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Provider"}),a.jsxs(sr,{value:c,onValueChange:f=>o.setValue("provider",f),children:[a.jsx(Yt,{children:a.jsx(ir,{placeholder:"Select provider"})}),a.jsx(Jt,{children:Object.keys(Sm).map(f=>a.jsx(He,{value:f,children:Sm[f]},f))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"display_name",children:"Display name (optional)"}),a.jsx(Ne,{id:"display_name",placeholder:"e.g. Team Telegram",...o.register("display_name")})]})]}),s===2&&a.jsxs("form",{id:"wizard-step2",className:"space-y-4 py-4",onSubmit:l.handleSubmit(()=>i(3)),children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Message retrieval"}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"webhook",checked:u==="webhook",onChange:()=>l.setValue("retrieval_mode","webhook"),className:"h-4 w-4 accent-primary"}),a.jsx(rS,{className:"h-4 w-4"}),"Webhook"]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"radio",name:"retrieval_mode",value:"polling",checked:u==="polling",onChange:()=>l.setValue("retrieval_mode","polling"),className:"h-4 w-4 accent-primary"}),a.jsx(hd,{className:"h-4 w-4"}),"Polling"]})]})]}),u==="webhook"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"webhook_url",children:"Webhook URL"}),a.jsx(Ne,{id:"webhook_url",placeholder:"https://...",...l.register("webhook_url")}),l.formState.errors.webhook_url&&a.jsx("p",{className:"text-xs text-destructive",children:l.formState.errors.webhook_url.message})]}),u==="polling"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"polling_interval_seconds",children:"Polling interval (seconds)"}),a.jsx(Ne,{id:"polling_interval_seconds",type:"number",min:30,max:3600,...l.register("polling_interval_seconds")})]})]}),s===3&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-border bg-card/50 p-8",children:[a.jsx(tS,{className:"mb-4 h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"text-center text-sm text-muted-foreground",children:c==="whatsapp"||c==="telegram"?"Scan the QR code with your app to link this channel. You can also use the pairing code shown in the next step.":"Complete OAuth in the provider dashboard if required, then continue."}),a.jsx("p",{className:"mt-2 text-xs text-muted-foreground",children:"Provisioning step is simulated. In production, QR and codes are generated by the gateway."})]})}),s===4&&a.jsx("div",{className:"space-y-4 py-4",children:a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4 text-sm",children:[a.jsx("p",{className:"font-medium",children:Sm[c]}),o.getValues("display_name")&&a.jsx("p",{className:"text-muted-foreground",children:o.getValues("display_name")}),a.jsxs("p",{className:"mt-2 text-muted-foreground",children:["Retrieval: ",l.getValues("retrieval_mode")==="webhook"?"Webhook":"Polling"]})]})}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[s>1?a.jsxs(T,{type:"button",variant:"outline",onClick:h,disabled:n,children:[a.jsx(Qj,{className:"mr-2 h-4 w-4"}),"Back"]}):a.jsx("div",{}),a.jsx(T,{type:"button",onClick:d,disabled:n,children:s===4?n?"Adding":"Add channel":a.jsxs(a.Fragment,{children:["Next",a.jsx(Ii,{className:"ml-2 h-4 w-4"})]})})]})]})})}const bV=Vt({dm_policy:zn(["pairing","allowlist","open","disabled"]),group_policy:zn(["mention","open","disabled"]),mention_gating:uu()}),Hb={pairing:"Pairing required",allowlist:"Allowlist only",open:"Open to all",disabled:"Disabled"},Kb={mention:"Mention required",open:"Open to all",disabled:"Disabled"};function _V({open:e,onOpenChange:t,channelId:r,channelName:n,config:s,onSubmit:i,isSubmitting:o=!1}){const l={dm_policy:(s==null?void 0:s.dm_policy)??"pairing",group_policy:(s==null?void 0:s.group_policy)??"mention",mention_gating:(s==null?void 0:s.mention_gating)??!0},{handleSubmit:c,setValue:u,watch:d,reset:h,formState:{errors:p,isDirty:f}}=Ut({resolver:zt(bV),defaultValues:l}),v=d("mention_gating");m.useEffect(()=>{e&&s&&h({dm_policy:s.dm_policy,group_policy:s.group_policy,mention_gating:s.mention_gating})},[e,s,h]);const g=y=>{i(y),h(y),t(!1)},b=y=>{y||h(l),t(y)};return a.jsx(ct,{open:e,onOpenChange:b,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"channel-policy-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Channel policy"}),a.jsx(it,{id:"channel-policy-description",children:n?`DM and group policies for ${n}`:"Set DM policy, group policy, and mention gating for this channel."})]}),a.jsxs("form",{id:"channel-policy-form",onSubmit:c(g),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"DM policy"}),a.jsxs(sr,{value:d("dm_policy"),onValueChange:y=>u("dm_policy",y,{shouldDirty:!0}),children:[a.jsx(Yt,{className:H(p.dm_policy&&"border-destructive"),children:a.jsx(ir,{placeholder:"Select DM policy"})}),a.jsx(Jt,{children:Object.keys(Hb).map(y=>a.jsx(He,{value:y,children:Hb[y]},y))})]}),p.dm_policy&&a.jsx("p",{className:"text-xs text-destructive",children:p.dm_policy.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Group policy"}),a.jsxs(sr,{value:d("group_policy"),onValueChange:y=>u("group_policy",y,{shouldDirty:!0}),children:[a.jsx(Yt,{className:H(p.group_policy&&"border-destructive"),children:a.jsx(ir,{placeholder:"Select group policy"})}),a.jsx(Jt,{children:Object.keys(Kb).map(y=>a.jsx(He,{value:y,children:Kb[y]},y))})]}),p.group_policy&&a.jsx("p",{className:"text-xs text-destructive",children:p.group_policy.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{children:[a.jsx(se,{htmlFor:"mention_gating",children:"Mention gating"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Require @mention in groups to trigger the agent"})]}),a.jsx(Vs,{id:"mention_gating",checked:v,onCheckedChange:y=>u("mention_gating",y,{shouldDirty:!0})})]})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>b(!1),children:"Cancel"}),a.jsx(T,{type:"submit",form:"channel-policy-form",disabled:!f||o,children:o?"Saving":"Save"})]})]})})}function jV({open:e,onOpenChange:t,log:r}){return r?a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"delivery-error-description",children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(Pv,{className:"h-5 w-5 text-destructive"}),"Delivery error details"]}),a.jsxs(it,{id:"delivery-error-description",children:["Event: ",r.event_type,"  ",r.success?"Succeeded":"Failed"," "," ",l6(new Date(r.created_at),"PPp")]})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Error details"}),a.jsx("pre",{className:"mt-2 max-h-48 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-sm",children:r.error_details??"No error message recorded."})]}),r.metadata&&Object.keys(r.metadata).length>0&&a.jsxs("div",{className:"rounded-lg border border-border bg-card/50 p-4",children:[a.jsx("p",{className:"text-xs font-medium uppercase tracking-wide text-muted-foreground",children:"Metadata"}),a.jsx("pre",{className:"mt-2 max-h-32 overflow-auto whitespace-pre-wrap break-words rounded bg-background p-3 text-xs",children:JSON.stringify(r.metadata,null,2)})]})]})]})}):null}const Gb={whatsapp:"WhatsApp",telegram:"Telegram",slack:"Slack",discord:"Discord"},SV={active:"success",inactive:"secondary",error:"destructive",provisioning:"warning"};function kV(){const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(!1),[o,l]=m.useState(null),[c,u]=m.useState(!1),[d,h]=m.useState(""),{data:p=[],isLoading:f}=uV(),{data:v}=dV(r),{data:g}=mV(r),{data:b=[]}=gV(r,{limit:50}),y=hV(),x=fV(),w=pV(),_=async k=>{const P=await y.mutateAsync({provider:k.provider,display_name:k.display_name,status:"provisioning"});await w.mutateAsync({channel_id:P.id,dm_policy:"pairing",group_policy:"mention",mention_gating:!0,webhook_url:k.webhook_url??null,polling_interval_seconds:k.polling_interval_seconds??null}),n(P.id),t(!1)},S=k=>{r&&w.mutate({channel_id:r,dm_policy:k.dm_policy,group_policy:k.group_policy,mention_gating:k.mention_gating})},j=k=>{l(k),u(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Channels & Adapters"}),a.jsxs(T,{onClick:()=>t(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}),a.jsxs(du,{defaultValue:"channels",className:"space-y-4",children:[a.jsxs(xl,{className:"grid w-full max-w-md grid-cols-3",children:[a.jsx(tr,{value:"channels",children:"Channels"}),a.jsx(tr,{value:"logs",children:"Delivery logs"}),a.jsx(tr,{value:"test",children:"Test console"})]}),a.jsx(rr,{value:"channels",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channels list"}),a.jsx(ge,{children:"Manage chat channel adapters and per-channel policies."})]}),a.jsx(Q,{children:f?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(k=>a.jsx(xe,{className:"h-16 w-full rounded-lg"},k))}):p.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(hd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No channels added. Use Add Channel to connect WhatsApp, Telegram, Slack, or Discord."}),a.jsxs(T,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add Channel"]})]}):a.jsx(fr,{className:"h-[320px] pr-4",children:a.jsx("div",{className:"space-y-2",children:p.map(k=>a.jsxs("div",{className:H("flex w-full items-center justify-between gap-2 rounded-lg border p-4 transition-colors",r===k.id?"border-primary bg-primary/10":"border-border hover:bg-card"),children:[a.jsxs("button",{type:"button",onClick:()=>n(k.id),className:"flex min-w-0 flex-1 items-center gap-3 text-left",children:[a.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-secondary",children:a.jsx(hd,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:k.display_name||Gb[k.provider]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[Gb[k.provider],k.last_event_at&&`  Last event ${Xr(new Date(k.last_event_at),{addSuffix:!0})}`]})]}),a.jsx(At,{variant:SV[k.status],className:"shrink-0",children:k.status}),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[k.success_rate.toFixed(0),"% success"]})]}),a.jsxs(Ic,{children:[a.jsx(Mc,{asChild:!0,children:a.jsxs(T,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[a.jsx(Gd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsxs(nl,{align:"end",children:[a.jsxs(Ir,{onClick:()=>{n(k.id),i(!0)},children:[a.jsx(Eo,{className:"mr-2 h-4 w-4"}),"Configure policy"]}),a.jsxs(Ir,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this channel?")&&(x.mutate(k.id),r===k.id&&n(null))},children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Remove"]})]})]})]},k.id))})})})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Channel config"}),a.jsx(ge,{children:"DM policy, group policy, mention gating."})]}),a.jsx(Q,{children:r?a.jsx("div",{className:"space-y-4",children:g===void 0?a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-10 w-full"}),a.jsx(xe,{className:"h-10 w-full"}),a.jsx(xe,{className:"h-12 w-full"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"DM policy"}),a.jsx("span",{className:"font-medium capitalize",children:(g==null?void 0:g.dm_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Group policy"}),a.jsx("span",{className:"font-medium capitalize",children:(g==null?void 0:g.group_policy)??""})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:"Mention gating"}),a.jsx("span",{className:"font-medium",children:g!=null&&g.mention_gating?"On":"Off"})]})]}),a.jsxs(T,{variant:"outline",className:"w-full",onClick:()=>i(!0),children:[a.jsx(Eo,{className:"mr-2 h-4 w-4"}),"Edit policy"]})]})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Eo,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel to configure."})]})})]})]})}),a.jsx(rr,{value:"logs",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Delivery logs"}),a.jsxs(ge,{children:["Recent inbound/outbound events",r&&" for selected channel"]})]}),a.jsx(Q,{children:r?b.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No delivery logs yet."})]}):a.jsx(fr,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-2",children:b.map(k=>a.jsx("div",{className:H("flex items-center justify-between rounded-lg border p-3 text-sm",k.success?"border-border":"border-destructive/50 bg-destructive/5"),children:a.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[k.success?a.jsx(Hd,{className:"h-4 w-4 shrink-0 text-success"}):a.jsx(Zj,{className:"h-4 w-4 shrink-0 text-destructive"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:k.event_type}),a.jsx("p",{className:"text-xs text-muted-foreground",children:Xr(new Date(k.created_at),{addSuffix:!0})})]}),!k.success&&k.error_details&&a.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>j(k),className:"shrink-0",children:[a.jsx(Tv,{className:"mr-1 h-4 w-4"}),"Details"]})]})},k.id))})}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(hd,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to view delivery logs."})]})})]})}),a.jsx(rr,{value:"test",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Test console"}),a.jsx(ge,{children:"Send test messages through the selected channel."})]}),a.jsx(Q,{children:r?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx("label",{htmlFor:"test-message",className:"text-sm font-medium",children:"Test message"}),a.jsx(Ne,{id:"test-message",placeholder:"Type a message to send...",value:d,onChange:k=>h(k.target.value),className:"min-h-[80px]"})]}),a.jsxs(T,{disabled:!d.trim(),onClick:()=>{h("")},children:[a.jsx(Pc,{className:"mr-2 h-4 w-4"}),"Send test message"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Test messages are sent through the gateway. Roundtrip and errors appear in Delivery logs."})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Pc,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a channel on the Channels tab to test."})]})})]})})]}),a.jsx(wV,{open:e,onOpenChange:t,onSubmit:_,isSubmitting:y.isPending||w.isPending}),a.jsx(_V,{open:s,onOpenChange:i,channelId:r??"",channelName:(v==null?void 0:v.display_name)??(v==null?void 0:v.provider),config:g??null,onSubmit:S,isSubmitting:w.isPending}),a.jsx(jV,{open:c,onOpenChange:u,log:o})]})}function NV(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skills Library"}),a.jsx(T,{variant:"outline",asChild:!0,children:a.jsxs(we,{to:"/skill-editor",children:[a.jsx(Rv,{className:"mr-2 h-4 w-4"}),"Skill Editor"]})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Installed skills"}),a.jsx(ge,{children:"Enable/disable and manage local skills."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills installed. Browse the registry below."})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Registry browser"}),a.jsx(ge,{children:"Browse and install skills from the registry."})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(iS,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(Ne,{placeholder:"Search skills...",className:"pl-9"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No results. (Registry integration placeholder.)"})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Skill detail"}),a.jsx(ge,{children:"SKILL.md render, frontmatter, permissions, provenance. Install flow: gating checks, env prompts."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a skill to view details."})})]})]})}const Vr="/skills",Bs={list:e=>{const t=e?new URLSearchParams(Object.entries(e).filter(([,r])=>r!=null)).toString():"";return _e.get(`${Vr}${t?`?${t}`:""}`)},get:e=>_e.get(`${Vr}/${e}`),create:e=>_e.post(Vr,e),update:(e,t)=>_e.patch(`${Vr}/${e}`,t),delete:e=>_e.delete(`${Vr}/${e}`),getTestRuns:(e,t)=>{const r=t?new URLSearchParams(Object.entries(t).filter(([,n])=>n!=null).map(([n,s])=>[n,String(s)])).toString():"";return _e.get(`${Vr}/${e}/test-runs${r?`?${r}`:""}`)},getTestRun:(e,t)=>_e.get(`${Vr}/${e}/test-runs/${t}`),runTest:(e,t)=>_e.post(`${Vr}/${e}/test-run`,t??{}),abortTestRun:(e,t)=>_e.post(`${Vr}/${e}/test-runs/${t}/abort`,{}),checkRequirements:e=>_e.get(`${Vr}/${e}/check-requirements`),getVersions:e=>_e.get(`${Vr}/${e}/versions`),createVersion:(e,t)=>_e.post(`${Vr}/${e}/versions`,t),commit:(e,t)=>_e.post(`${Vr}/${e}/commit`,t)};function Sf(e,t){return e().catch(()=>t)}const cr={all:["skills"],list:e=>[...cr.all,"list",e],detail:e=>[...cr.all,"detail",e],testRuns:(e,t)=>[...cr.all,"test-runs",e,t],testRun:(e,t)=>[...cr.all,"test-run",e,t],versions:e=>[...cr.all,"versions",e],gating:e=>[...cr.all,"gating",e]};function CV(e){return Fe({queryKey:cr.list(e),queryFn:()=>Sf(()=>Bs.list(e),[])})}function EV(e){return Fe({queryKey:cr.detail(e??""),queryFn:()=>e?Sf(()=>Bs.get(e),null):Promise.resolve(null),enabled:!!e})}function RV(){const e=ke();return Ce({mutationFn:t=>Bs.create(t),onSuccess:()=>{e.invalidateQueries({queryKey:cr.list()}),U.success("Skill created")},onError:t=>{U.error(t.message||"Failed to create skill")}})}function PV(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>Bs.update(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:cr.list()}),e.invalidateQueries({queryKey:cr.detail(r)}),U.success("Skill saved")},onError:t=>{U.error(t.message||"Failed to save skill")}})}function TV(e,t){return Fe({queryKey:cr.testRuns(e??"",t),queryFn:()=>e?Sf(()=>Bs.getTestRuns(e,t),[]):Promise.resolve([]),enabled:!!e})}function AV(){const e=ke();return Ce({mutationFn:({skillId:t,payload:r})=>Bs.runTest(t,r),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:cr.testRuns(r)}),U.success("Test run started")},onError:t=>{U.error(t.message||"Failed to run skill test")}})}function OV(e){return Fe({queryKey:cr.versions(e??""),queryFn:()=>e?Sf(()=>Bs.getVersions(e),[]):Promise.resolve([]),enabled:!!e})}function IV(e){return Fe({queryKey:cr.gating(e??""),queryFn:()=>e?Bs.checkRequirements(e):Promise.resolve({passed:!0,requirements:[]}),enabled:!!e})}function MV(){const e=ke();return Ce({mutationFn:({skillId:t,message:r,sign:n})=>Bs.commit(t,{message:r,sign:n}),onSuccess:(t,{skillId:r})=>{e.invalidateQueries({queryKey:cr.detail(r)}),e.invalidateQueries({queryKey:cr.versions(r)}),U.success("Changes committed")},onError:t=>{U.error(t.message||"Failed to commit")}})}const DV=Vt({name:Le().min(1,"Name is required"),version:Le().min(1,"Version is required"),description:Le().optional(),permissions:Le().optional(),env_keys:Le().optional()}),km={name:"",version:"1.0.0",description:"",permissions:"",env_keys:""};function LV({open:e,onOpenChange:t,initialValues:r,onSubmit:n,isSubmitting:s=!1}){const i=()=>({...km,name:(r==null?void 0:r.name)??"",version:(r==null?void 0:r.version)??"1.0.0",description:(r==null?void 0:r.description)??"",permissions:Array.isArray(r==null?void 0:r.permissions)?r.permissions.join(", "):(r==null?void 0:r.permissions)??"",env_keys:r!=null&&r.env_keys?typeof r.env_keys=="object"?Object.keys(r.env_keys).join(", "):String(r.env_keys):""}),{register:o,handleSubmit:l,reset:c,formState:{errors:u}}=Ut({resolver:zt(DV),defaultValues:i()});m.useEffect(()=>{e&&c(i())},[e]);const d=p=>{const f={name:p.name,version:p.version,description:p.description||void 0,permissions:p.permissions?p.permissions.split(",").map(v=>v.trim()).filter(Boolean):void 0,env_keys:p.env_keys?p.env_keys.split(",").map(v=>v.trim()).filter(Boolean):void 0};n(f),c(km),t(!1)},h=p=>{p||c(km),t(p)};return a.jsx(ct,{open:e,onOpenChange:h,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"frontmatter-dialog-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Edit frontmatter"}),a.jsx(it,{id:"frontmatter-dialog-description",children:"YAML frontmatter fields for SKILL.md (name, version, permissions, env)."})]}),a.jsxs("form",{onSubmit:l(d),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"frontmatter-name",children:"Name"}),a.jsx(Ne,{id:"frontmatter-name",placeholder:"skill-name",...o("name"),className:H(u.name&&"border-destructive")}),u.name&&a.jsx("p",{className:"text-xs text-destructive",children:u.name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"frontmatter-version",children:"Version"}),a.jsx(Ne,{id:"frontmatter-version",placeholder:"1.0.0",...o("version"),className:H(u.version&&"border-destructive")}),u.version&&a.jsx("p",{className:"text-xs text-destructive",children:u.version.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"frontmatter-description",children:"Description (optional)"}),a.jsx(Ne,{id:"frontmatter-description",placeholder:"Short description",...o("description")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"frontmatter-permissions",children:"Permissions (comma-separated)"}),a.jsx(Ne,{id:"frontmatter-permissions",placeholder:"network, exec, read",...o("permissions")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"frontmatter-env",children:"Env keys (comma-separated)"}),a.jsx(Ne,{id:"frontmatter-env",placeholder:"API_KEY, GMAIL_CREDENTIALS",...o("env_keys")})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),a.jsx(T,{type:"submit",disabled:s,children:s?"Saving":"Save"})]})]})]})})}const $V=Vt({message:Le().optional(),sign:uu().optional()}),Nm={message:"",sign:!1};function FV({open:e,onOpenChange:t,skillName:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,watch:l,setValue:c,reset:u,formState:{errors:d}}=Ut({resolver:zt($V),defaultValues:Nm}),h=l("sign"),p=v=>{n({message:v.message||void 0,sign:v.sign}),u(Nm),t(!1)},f=v=>{v||u(Nm),t(v)};return a.jsx(ct,{open:e,onOpenChange:f,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"commit-dialog-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Commit changes"}),a.jsx(it,{id:"commit-dialog-description",children:r?`Finalize and commit changes for "${r}". Optionally sign the package.`:"Finalize and commit your skill. Optionally sign the package."})]}),a.jsxs("form",{onSubmit:o(p),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"commit-message",children:"Commit message (optional)"}),a.jsx(Ne,{id:"commit-message",placeholder:"e.g. Add Gmail Pub/Sub gating",...i("message"),className:H(d.message&&"border-destructive")}),d.message&&a.jsx("p",{className:"text-xs text-destructive",children:d.message.message})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(se,{htmlFor:"commit-sign",children:"Sign package"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optionally sign this version for provenance."})]}),a.jsx(Vs,{id:"commit-sign",checked:h,onCheckedChange:v=>c("sign",v)})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(T,{type:"submit",disabled:s,children:s?"Committing":"Commit"})]})]})]})})}function UV({open:e,onClose:t,requirements:r,passed:n,title:s="Gating checks",className:i}){return e?a.jsx("div",{className:H("absolute inset-0 z-10 flex items-center justify-center rounded-lg bg-background/95 p-6 backdrop-blur-sm",i),role:"dialog","aria-labelledby":"gating-overlay-title","aria-describedby":"gating-overlay-desc",children:a.jsxs("div",{className:"relative w-full max-w-md rounded-lg border border-border bg-card p-6 shadow-card",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4",children:[a.jsx("h2",{id:"gating-overlay-title",className:"text-lg font-semibold",children:s}),a.jsx(T,{variant:"ghost",size:"icon",onClick:t,"aria-label":"Close",children:a.jsx(Kh,{className:"h-4 w-4"})})]}),a.jsx("p",{id:"gating-overlay-desc",className:"mt-1 text-sm text-muted-foreground",children:n?"All requirements are met. You can save and deploy.":"Resolve the items below before saving or deploying."}),a.jsx("ul",{className:"mt-4 space-y-2",role:"list",children:r.map(o=>a.jsxs("li",{className:H("flex items-start gap-3 rounded-md border border-border px-3 py-2 text-sm",o.met?"bg-success/10 border-success/30":"bg-destructive/10 border-destructive/30"),children:[o.met?a.jsx(Jj,{className:"h-5 w-5 shrink-0 text-success","aria-hidden":!0}):a.jsx(Pv,{className:"h-5 w-5 shrink-0 text-destructive","aria-hidden":!0}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("span",{className:"font-medium",children:o.label}),o.message&&a.jsx("p",{className:"mt-0.5 text-muted-foreground",children:o.message})]})]},o.id))}),r.length===0&&a.jsx("p",{className:"mt-4 text-sm text-muted-foreground",children:"No gating checks defined."}),a.jsx("div",{className:"mt-6 flex justify-end",children:a.jsx(T,{onClick:t,children:"Close"})})]})}):null}const ro=`# Skill name

Short description of what this skill does.

## Requirements

- List gating requirements (env vars, permissions, etc.)

## Usage

How to use this skill from chat or cron.
`;function zV(){const{skillId:e}=XR(),t=$h(),[r,n]=m.useState("editor"),[s,i]=m.useState(""),[o,l]=m.useState(""),[c,u]=m.useState(!1),[d,h]=m.useState(!1),[p,f]=m.useState(!1),{data:v=[],isLoading:g}=CV(),{data:b,isLoading:y}=EV(e??null),{data:x=[]}=TV(e??null,{limit:5}),{data:w=[]}=OV(e??null),{data:_}=IV(e??null),S=PV(),j=AV(),k=MV(),P=RV(),A=b??null,M=A&&(s!==A.content||o!==A.name),W=m.useCallback(()=>{A?(i(A.content||ro),l(A.name||"")):(i(ro),l(""))},[A]);m.useEffect(()=>{A?(i(A.content||ro),l(A.name||"")):e||(i(ro),l(""))},[e,A==null?void 0:A.id,A==null?void 0:A.content,A==null?void 0:A.name]);const L=R=>{t(`/skill-editor/${R}`)},z=()=>{!e||!A||S.mutate({id:e,data:{content:s,name:o||A.name}},{onSuccess:()=>W()})},O=()=>{e&&j.mutate({skillId:e})},J=R=>{e&&k.mutate({skillId:e,...R},{onSuccess:()=>h(!1)})},Y=R=>{!e||!A||S.mutate({id:e,data:{frontmatter:{...A.frontmatter,...R}}},{onSuccess:()=>{u(!1)}})},re=x[0],D=_&&!_.passed,N=(_==null?void 0:_.requirements)??[];return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Skill Editor"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>t("/skill-editor"),"aria-label":"Clear selection",children:[a.jsx(eA,{className:"mr-1 h-4 w-4"}),"All skills"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>u(!0),disabled:!e,"aria-label":"Edit frontmatter",children:[a.jsx(fA,{className:"mr-1 h-4 w-4"}),"Frontmatter"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:z,disabled:!e||!M||S.isPending,children:[a.jsx(sS,{className:"mr-1 h-4 w-4"}),S.isPending?"Saving":"Save"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>f(!0),className:D?"border-warning text-warning":"","aria-label":"Gating checks",children:[a.jsx(Pv,{className:"mr-1 h-4 w-4"}),"Gating"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>h(!0),disabled:!e,children:[a.jsx(tA,{className:"mr-1 h-4 w-4"}),"Commit"]}),a.jsxs(T,{size:"sm",onClick:O,disabled:!e||j.isPending,children:[a.jsx(Pi,{className:"mr-1 h-4 w-4"}),j.isPending?"Running":"Test run"]})]})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[280px_1fr]",children:[a.jsxs(G,{className:"lg:col-span-1",children:[a.jsxs(te,{className:"pb-2",children:[a.jsx(ne,{className:"text-sm",children:"Skills"}),a.jsx(ge,{children:"Select a skill to edit."})]}),a.jsxs(Q,{className:"pt-0",children:[g?a.jsxs("div",{className:"space-y-2",children:[a.jsx(xe,{className:"h-9 w-full"}),a.jsx(xe,{className:"h-9 w-full"}),a.jsx(xe,{className:"h-9 w-4/5"})]}):v.length===0?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No skills yet."}),a.jsxs(T,{size:"sm",variant:"outline",className:"w-full",onClick:()=>P.mutate({user_id:"",name:"Untitled Skill",content:ro},{onSuccess:R=>{t(`/skill-editor/${R.id}`)}}),disabled:P.isPending,children:[a.jsx(ur,{className:"mr-1 h-4 w-4"}),P.isPending?"Creating":"New skill"]})]}):a.jsx(fr,{className:"h-[200px] pr-2",children:a.jsx("ul",{className:"space-y-0.5",role:"list",children:v.map(R=>a.jsx("li",{children:a.jsxs("button",{type:"button",onClick:()=>L(R.id),className:H("flex w-full items-center gap-2 rounded-md px-3 py-2 text-left text-sm transition-colors hover:bg-secondary",e===R.id&&"bg-primary/15 text-primary"),children:[a.jsx(Ra,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"truncate",children:R.name}),a.jsx(Ii,{className:"ml-auto h-4 w-4 shrink-0 opacity-50"})]})},R.id))})}),a.jsxs("div",{className:"mt-4 border-t border-border pt-4",children:[a.jsx("p",{className:"mb-2 text-xs font-medium text-muted-foreground",children:"Versions"}),e&&a.jsx(fr,{className:"h-[120px] pr-2",children:w.length===0?a.jsx("p",{className:"text-xs text-muted-foreground",children:"No versions yet."}):a.jsx("ul",{className:"space-y-1 text-xs",children:w.slice(0,5).map(R=>a.jsxs("li",{className:"flex justify-between gap-2",children:[a.jsx("span",{className:"truncate font-mono",children:R.version_number}),a.jsx("span",{className:"text-muted-foreground shrink-0",children:R.changes?"":""})]},R.id))})}),!e&&a.jsx("p",{className:"text-xs text-muted-foreground",children:"Select a skill to see versions."})]})]})]}),a.jsx("div",{className:"space-y-4 lg:col-span-1",children:y&&e?a.jsx(G,{children:a.jsx(Q,{className:"flex items-center justify-center py-12",children:a.jsx(xe,{className:"h-8 w-48"})})}):a.jsxs(a.Fragment,{children:[a.jsxs(du,{value:r,onValueChange:n,className:"w-full",children:[a.jsxs(xl,{className:"grid w-full grid-cols-3",children:[a.jsx(tr,{value:"editor",children:"SKILL.md editor"}),a.jsx(tr,{value:"preview",children:"Preview"}),a.jsx(tr,{value:"frontmatter",children:"Frontmatter"})]}),a.jsx(rr,{value:"editor",className:"mt-4",children:a.jsxs(G,{className:"relative overflow-hidden",children:[p&&a.jsx(UV,{open:p,onClose:()=>f(!1),requirements:N.map(R=>({id:R.id,label:R.label,met:R.met,message:R.message})),passed:(_==null?void 0:_.passed)??!0}),a.jsxs(Q,{className:"pt-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx(se,{htmlFor:"skill-name",className:"text-muted-foreground",children:"Skill name"}),a.jsx(Ne,{id:"skill-name",value:o,onChange:R=>l(R.target.value),placeholder:"my-skill",className:"mt-1 max-w-xs font-medium"})]}),a.jsx("textarea",{"aria-label":"SKILL.md content",className:"min-h-[300px] w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",placeholder:ro,value:s,onChange:R=>i(R.target.value)})]})]})}),a.jsx(rr,{value:"preview",className:"mt-4",children:a.jsx(G,{children:a.jsx(Q,{className:"pt-6",children:a.jsx("div",{className:"prose prose-invert max-w-none prose-headings:font-semibold prose-p:text-muted-foreground prose-code:text-sm",children:a.jsx("pre",{className:"whitespace-pre-wrap rounded-md bg-muted/50 p-4 font-sans text-sm",children:s||"Nothing to preview."})})})})}),a.jsx(rr,{value:"frontmatter",className:"mt-4",children:a.jsx(G,{children:a.jsxs(Q,{className:"pt-6",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:'Edit YAML frontmatter (name, version, permissions, env) via the Frontmatter button in the header, or open the "Frontmatter" dialog.'}),(A==null?void 0:A.frontmatter)&&Object.keys(A.frontmatter).length>0&&a.jsx("pre",{className:"mt-4 rounded-md bg-muted/50 p-4 font-mono text-xs",children:JSON.stringify(A.frontmatter,null,2)})]})})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{className:"text-sm",children:"Test runner"}),a.jsx(ge,{children:"Run skill in sandbox and view logs."})]}),a.jsx(Q,{children:re?a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Status: ",re.status]}),a.jsx("span",{children:""}),a.jsx("span",{children:new Date(re.created_at).toLocaleString()})]}),a.jsx("pre",{className:"max-h-48 overflow-auto rounded-md bg-muted p-4 text-xs text-muted-foreground",children:re.logs||"No logs."})]}):a.jsx("pre",{className:"rounded-md bg-muted p-4 text-xs text-muted-foreground",children:'No test runs yet. Click "Test run" to execute.'})})]})]})})]}),a.jsx(LV,{open:c,onOpenChange:u,initialValues:A==null?void 0:A.frontmatter,onSubmit:Y,isSubmitting:S.isPending}),a.jsx(FV,{open:d,onOpenChange:h,skillName:A==null?void 0:A.name,onSubmit:J,isSubmitting:k.isPending})]})}function VV(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Nodes (Paired Devices)"}),a.jsxs(T,{children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Pair node"]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Nodes list"}),a.jsx(ge,{children:"Capability badges, pair flow (QR/code), node details (exec allowlist, wake/config, tokens), approval history, revoke/unpair."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No paired nodes. Use Pair node to add a device via QR or code."})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Pair node"}),a.jsx(ge,{children:"QR on left, code & instructions on right, expiry countdown."})]}),a.jsx(Q,{children:a.jsx("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border p-12",children:a.jsxs("div",{className:"text-center",children:[a.jsx(tS,{className:"mx-auto h-16 w-16 text-muted-foreground"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Start pairing to show QR and code."})]})})})]})]})}function BV({job:e,open:t,onOpenChange:r,onConfirm:n,isDeleting:s=!1}){if(!e)return null;const i=e.name||e.description||"Unnamed job",o=()=>{n(e.id),r(!1)};return a.jsx(ct,{open:t,onOpenChange:r,children:a.jsxs(rt,{"aria-describedby":"cron-delete-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Delete cron job?"}),a.jsxs(it,{id:"cron-delete-description",children:['This will permanently delete "',i,'" and its run history. This action cannot be undone.']})]}),a.jsxs(dt,{children:[a.jsx(T,{variant:"outline",onClick:()=>r(!1),disabled:s,children:"Cancel"}),a.jsx(T,{variant:"destructive",onClick:o,disabled:s,children:s?"Deleting":"Delete job"})]})]})})}const WV={running:{label:"Running",icon:is,variant:"secondary"},completed:{label:"Completed",icon:Hd,variant:"default"},failed:{label:"Failed",icon:Zj,variant:"destructive"},aborted:{label:"Aborted",icon:WT,variant:"outline"}};function qV({jobId:e,runs:t,isLoading:r=!1,className:n}){return e?r?a.jsxs(G,{className:H("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsx(xe,{className:"h-6 w-32"}),a.jsx(xe,{className:"h-4 w-48"})]}),a.jsx(Q,{className:"space-y-3",children:[1,2,3].map(s=>a.jsx(xe,{className:"h-20 w-full rounded-lg"},s))})]}):t.length?a.jsxs(G,{className:H("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Du,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Past executions with output and logs. Newest first."})]}),a.jsx(Q,{children:a.jsx(fr,{className:"h-[320px] pr-4",children:a.jsx("ul",{className:"space-y-3",children:t.map(s=>{const i=WV[s.status],o=i.icon;return a.jsxs("li",{className:"rounded-lg border border-border bg-secondary/30 p-4 transition-shadow hover:shadow-card",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(At,{variant:i.variant,className:"gap-1",children:[s.status==="running"?a.jsx(o,{className:"h-3 w-3 animate-spin"}):a.jsx(o,{className:"h-3 w-3"}),i.label]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Xr(new Date(s.execution_time),{addSuffix:!0})})]}),a.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.execution_time).toLocaleString()})]}),s.output!=null&&s.output!==""||s.log!=null&&s.log!==""?a.jsxs("div",{className:"mt-3 space-y-2",children:[s.output!=null&&s.output!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Output"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono",children:s.output})]}),s.log!=null&&s.log!==""&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"Log"}),a.jsx("pre",{className:"mt-1 max-h-24 overflow-auto rounded bg-background/80 p-2 text-xs font-mono whitespace-pre-wrap",children:s.log})]})]}):null]},s.id)})})})})]}):a.jsxs(G,{className:H("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Du,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Past executions for this job. Run the job to see entries here."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Du,{className:"h-10 w-10 text-muted-foreground/50"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"No runs yet"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:'Use "Run now" on a job to execute it and record history.'})]})})]}):a.jsxs(G,{className:H("rounded-[10px] border border-border bg-card shadow-card",n),children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Du,{className:"h-5 w-5 text-muted-foreground"}),"Run history"]}),a.jsx(ge,{children:"Select a job to view its run history, or run a job to see entries here."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No job selected. Run a job from the list above to see execution logs and output."})})]})}function HV(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,l]=m.useState(null),[c,u]=m.useState(null),[d,h]=m.useState(null),{data:p}=wf(),f=(p==null?void 0:p.user_id)??"",{data:v=[],isLoading:g}=ZN(),{data:b=[],isLoading:y}=C6(c??d,{limit:20}),x=XN(),w=k6(),_=N6(),S=E6(),j=()=>{i(null),t(!0)},k=O=>{i(O),t(!0)},P=O=>{s?w.mutate({id:s.id,data:O},{onSuccess:()=>{t(!1),i(null)}}):x.mutate(O,{onSuccess:()=>t(!1)})},A=O=>{l(O),n(!0)},M=O=>{_.mutate(O,{onSuccess:()=>{n(!1),l(null),c===O&&u(null)}})},W=O=>{h(O.id),S.mutate(O.id,{onSuccess:()=>{u(O.id),h(null)},onError:()=>h(null)})},L=O=>O.name||O.description||"Unnamed job",z=O=>O==="active"?"default":O==="paused"?"secondary":"destructive";return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Cron Jobs & Scheduler"}),a.jsxs(T,{onClick:j,className:"transition-transform hover:scale-[1.02] active:scale-[0.98]",children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Create job"]})]}),a.jsxs(G,{className:"overflow-hidden rounded-[10px] border border-border bg-card shadow-card",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Cron list"}),a.jsx(ge,{children:"Scheduled jobs with run now, edit, and delete. Select a job to view run history below."})]}),a.jsx(Q,{className:"p-0",children:g?a.jsx("div",{className:"space-y-3 p-6",children:[1,2,3].map(O=>a.jsx(xe,{className:"h-16 w-full rounded-lg"},O))}):v.length?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden overflow-x-auto md:block",children:a.jsxs("table",{className:"w-full text-left text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-border bg-secondary/50",children:[a.jsx("th",{className:"sticky top-0 z-10 bg-secondary/50 px-6 py-4 font-medium",children:"Name"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Schedule"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Status"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Next run"}),a.jsx("th",{className:"px-6 py-4 font-medium",children:"Session target"}),a.jsx("th",{className:"px-6 py-4 font-medium text-right",children:"Actions"})]})}),a.jsx("tbody",{children:v.map(O=>a.jsxs("tr",{className:H("border-b border-border transition-colors hover:bg-secondary/30",c===O.id&&"bg-primary/5"),children:[a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:L(O)}),O.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Mi,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]})}),a.jsx("td",{className:"px-6 py-4 font-mono text-xs",children:O.schedule}),a.jsx("td",{className:"px-6 py-4",children:a.jsx(At,{variant:z(O.status),children:O.status})}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:O.next_run_time?Xr(new Date(O.next_run_time),{addSuffix:!0}):""}),a.jsx("td",{className:"px-6 py-4 text-muted-foreground",children:O.session_target||""}),a.jsx("td",{className:"px-6 py-4 text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-1",children:[a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>W(O),disabled:S.isPending&&d===O.id,className:"transition-transform hover:scale-[1.02]",children:[S.isPending&&d===O.id?a.jsx(Hl,{className:"h-4 w-4 animate-spin"}):a.jsx(Pi,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-1 hidden sm:inline",children:S.isPending&&d===O.id?"Running":"Run now"})]}),a.jsxs(Ic,{children:[a.jsx(Mc,{asChild:!0,children:a.jsx(T,{variant:"outline",size:"icon",className:"h-8 w-8",children:a.jsx(Gd,{className:"h-4 w-4"})})}),a.jsxs(nl,{align:"end",children:[a.jsxs(Ir,{onClick:()=>k(O),children:[a.jsx(qp,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ir,{onClick:()=>{u(O.id)},children:[a.jsx(Hl,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Ir,{className:"text-destructive focus:text-destructive",onClick:()=>A(O),children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},O.id))})]})}),a.jsx("div",{className:"space-y-3 p-4 md:hidden",children:v.map(O=>a.jsx(G,{className:H("rounded-lg border border-border bg-card shadow-card transition-all hover:shadow-card-hover",c===O.id&&"ring-2 ring-primary"),children:a.jsxs(Q,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:L(O)}),O.isolation_setting&&a.jsx("span",{title:"Isolated",children:a.jsx(Mi,{className:"h-4 w-4 text-muted-foreground","aria-hidden":!0})})]}),a.jsx("p",{className:"mt-1 font-mono text-xs text-muted-foreground",children:O.schedule}),a.jsx(At,{variant:z(O.status),className:"mt-2",children:O.status}),O.next_run_time&&a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["Next: ",Xr(new Date(O.next_run_time),{addSuffix:!0})]})]}),a.jsxs(Ic,{children:[a.jsx(Mc,{asChild:!0,children:a.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:a.jsx(Gd,{className:"h-4 w-4"})})}),a.jsxs(nl,{align:"end",children:[a.jsxs(Ir,{onClick:()=>W(O),children:[a.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Run now"]}),a.jsxs(Ir,{onClick:()=>k(O),children:[a.jsx(qp,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Ir,{onClick:()=>u(O.id),children:[a.jsx(Hl,{className:"mr-2 h-4 w-4"}),"View history"]}),a.jsxs(Ir,{className:"text-destructive focus:text-destructive",onClick:()=>A(O),children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsxs(T,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>W(O),disabled:S.isPending&&d===O.id,children:[S.isPending&&d===O.id?a.jsx(Hl,{className:"mr-1 h-4 w-4 animate-spin"}):a.jsx(Pi,{className:"mr-1 h-4 w-4"}),"Run now"]}),a.jsx(T,{variant:"outline",size:"sm",onClick:()=>k(O),children:"Edit"})]})]})},O.id))})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center border-t border-border py-16 text-center",children:[a.jsx(Uh,{className:"h-12 w-12 text-muted-foreground/50"}),a.jsx("p",{className:"mt-4 text-sm font-medium",children:"No cron jobs yet"}),a.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Create a job to run skills on a schedule. Use the cron builder, payload, and session target."}),a.jsxs(T,{onClick:j,className:"mt-4",children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Create job"]})]})})]}),a.jsx(qV,{jobId:c??d,runs:b,isLoading:y}),a.jsx(FC,{open:e,onOpenChange:t,onSubmit:P,isSubmitting:x.isPending||w.isPending,userId:f,job:s}),a.jsx(BV,{job:o,open:r,onOpenChange:n,onConfirm:M,isDeleting:_.isPending})]})}function KV(){const e="abcdefghijklmnopqrstuvwxyz0123456789";let t="wh_";for(let r=0;r<12;r++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}const fs={getWebhooks:async()=>{const{data:e,error:t}=await F.from("webhooks").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getWebhook:async e=>{const{data:t,error:r}=await F.from("webhooks").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createWebhook:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=KV(),s=`${typeof window<"u"?`${window.location.origin}/api/webhooks`:"/api/webhooks"}/${encodeURIComponent(e.route_name)}?token=${encodeURIComponent(r)}`,i={user_id:t.id,route_name:e.route_name,token_preview:r,token_hash:null,url:s,mapping_template:e.mapping_template??null,delivery_route:e.delivery_route??null},{data:o,error:l}=await F.from("webhooks").insert(i).select().single();if(l)throw new Error(l.message);return o},updateWebhook:async(e,t)=>{const{data:r,error:n}=await F.from("webhooks").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWebhook:async e=>{const{error:t}=await F.from("webhooks").delete().eq("id",e);if(t)throw new Error(t.message)},getHookScripts:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)return[];let r=F.from("hook_scripts").select("*").eq("user_id",t.id).order("event_trigger");e===null?r=r.is("webhook_id",null):e&&(r=r.or(`webhook_id.eq.${e},webhook_id.is.null`));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},getHookScript:async e=>{const{data:t,error:r}=await F.from("hook_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createHookScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("hook_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateHookScript:async(e,t)=>{const{data:r,error:n}=await F.from("hook_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteHookScript:async e=>{const{error:t}=await F.from("hook_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getPayloadTemplates:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getPayloadTemplate:async e=>{const{data:t,error:r}=await F.from("payload_templates").select("*").eq("webhook_id",e).maybeSingle();if(r)throw new Error(r.message);return t},upsertPayloadTemplate:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r=await fs.getPayloadTemplate(e.webhook_id);if(r){const{data:o,error:l}=await F.from("payload_templates").update({template_content:e.template_content??r.template_content}).eq("webhook_id",e.webhook_id).select().single();if(l)throw new Error(l.message);return o}const n={user_id:t.id,webhook_id:e.webhook_id,template_content:e.template_content??""},{data:s,error:i}=await F.from("payload_templates").insert(n).select().single();if(i)throw new Error(i.message);return s},updatePayloadTemplate:async(e,t)=>{const{data:r,error:n}=await F.from("payload_templates").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r}};function GV(e,t){return e().catch(()=>t)}const $r={all:["webhooks"],list:()=>[...$r.all,"list"],detail:e=>[...$r.all,"detail",e],hookScripts:e=>[...$r.all,"hookScripts",e],payloadTemplate:e=>[...$r.all,"payloadTemplate",e]};function QV(){return Fe({queryKey:$r.list(),queryFn:()=>GV(()=>fs.getWebhooks(),[])})}function YV(){const e=ke();return Ce({mutationFn:t=>fs.createWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),U.success("Webhook created")},onError:t=>{U.error(t.message||"Failed to create webhook")}})}function JV(){const e=ke();return Ce({mutationFn:t=>fs.deleteWebhook(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.list()}),U.success("Webhook removed")},onError:t=>{U.error(t.message||"Failed to remove webhook")}})}function ZV(e){return Fe({queryKey:$r.hookScripts(e),queryFn:()=>fs.getHookScripts(e)})}function XV(){const e=ke();return Ce({mutationFn:t=>fs.createHookScript(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$r.hookScripts(r.webhook_id??null)}),U.success("Hook script added")},onError:t=>{U.error(t.message||"Failed to add hook script")}})}function eB(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>fs.updateHookScript(t,r),onSuccess:t=>{(t==null?void 0:t.webhook_id)!==void 0&&e.invalidateQueries({queryKey:$r.hookScripts(t.webhook_id)}),e.invalidateQueries({queryKey:$r.hookScripts(null)}),U.success("Hook script updated")},onError:t=>{U.error(t.message||"Failed to update hook script")}})}function tB(){const e=ke();return Ce({mutationFn:t=>fs.deleteHookScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:$r.all}),U.success("Hook script removed")},onError:t=>{U.error(t.message||"Failed to remove hook script")}})}function rB(e){return Fe({queryKey:$r.payloadTemplate(e??""),queryFn:()=>e?fs.getPayloadTemplate(e):Promise.resolve(null),enabled:!!e})}function nB(){const e=ke();return Ce({mutationFn:t=>fs.upsertPayloadTemplate(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:$r.payloadTemplate(r.webhook_id)}),U.success("Payload template saved")},onError:t=>{U.error(t.message||"Failed to save payload template")}})}const sB=Vt({route_name:Le().min(1,"Route name is required").regex(/^[a-z0-9_-]+$/i,"Use only letters, numbers, hyphens, and underscores"),mapping_template:Le().optional(),delivery_route:Le().optional()}),Cm={route_name:"",mapping_template:"",delivery_route:""};function iB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ut({resolver:zt(sB),defaultValues:Cm}),c=d=>{var h,p;r({route_name:d.route_name.trim(),mapping_template:((h=d.mapping_template)==null?void 0:h.trim())||null,delivery_route:((p=d.delivery_route)==null?void 0:p.trim())||null}),o(Cm)},u=d=>{d||o(Cm),t(d)};return a.jsx(ct,{open:e,onOpenChange:u,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"create-webhook-form-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Create webhook"}),a.jsx(it,{id:"create-webhook-form-description",children:"Add an inbound webhook endpoint. A token will be generated; configure delivery routing if needed."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"route_name",children:"Route name"}),a.jsx(Ne,{id:"route_name",placeholder:"e.g. my-integration",...s("route_name"),className:l.route_name?"border-destructive":"",autoComplete:"off"}),l.route_name&&a.jsx("p",{className:"text-xs text-destructive",children:l.route_name.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"delivery_route",children:"Delivery route (optional)"}),a.jsx(Ne,{id:"delivery_route",placeholder:"e.g. session or channel target",...s("delivery_route")})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"mapping_template",children:"Mapping template (optional)"}),a.jsx("textarea",{id:"mapping_template",rows:3,className:"flex w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"JSON or template for payload mapping",...s("mapping_template")})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"secondary",onClick:()=>u(!1),disabled:n,children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Creating":"Create webhook"})]})]})]})})}const aB=Vt({event_trigger:Le().min(1,"Event trigger is required"),language:zn(["javascript","python"]),script_content:Le(),webhook_id:Le().nullable()}),oB=["/new","/reset","start","end","before_run","after_run"],Zu={event_trigger:"/new",language:"javascript",script_content:"",webhook_id:null};function lB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,script:s=null,webhooks:i}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:h}}=Ut({resolver:zt(aB),defaultValues:Zu}),p=u("language"),f=u("webhook_id");m.useEffect(()=>{d(s?{event_trigger:s.event_trigger,language:s.language,script_content:s.script_content??"",webhook_id:s.webhook_id??null}:Zu)},[s,e,d]);const v=b=>{r(b),s||d(Zu),t(!1)},g=b=>{b||d(Zu),t(b)};return a.jsx(ct,{open:e,onOpenChange:g,children:a.jsxs(rt,{className:"max-w-2xl max-h-[90vh] flex flex-col","aria-describedby":"hook-script-editor-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:s?"Edit hook script":"Add hook script"}),a.jsx(it,{id:"hook-script-editor-description",children:"Sandboxed script (JavaScript or Python) for lifecycle events. Runs in a restricted environment."})]}),a.jsxs("form",{onSubmit:l(v),className:"flex flex-col flex-1 min-h-0 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"event_trigger",children:"Event trigger"}),a.jsxs(sr,{value:u("event_trigger"),onValueChange:b=>c("event_trigger",b),children:[a.jsx(Yt,{id:"event_trigger",className:h.event_trigger?"border-destructive":"",children:a.jsx(ir,{placeholder:"Select trigger"})}),a.jsx(Jt,{children:oB.map(b=>a.jsx(He,{value:b,children:b},b))})]}),h.event_trigger&&a.jsx("p",{className:"text-xs text-destructive",children:h.event_trigger.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"language",children:"Language"}),a.jsxs(sr,{value:p,onValueChange:b=>c("language",b),children:[a.jsx(Yt,{id:"language",children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"javascript",children:"JavaScript"}),a.jsx(He,{value:"python",children:"Python"})]})]})]})]}),i.length>0&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"webhook_id",children:"Webhook (optional)"}),a.jsxs(sr,{value:f??"none",onValueChange:b=>c("webhook_id",b==="none"?null:b),children:[a.jsx(Yt,{id:"webhook_id",children:a.jsx(ir,{placeholder:"Global (all webhooks)"})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"none",children:"Global (all webhooks)"}),i.map(b=>a.jsx(He,{value:b.id,children:b.route_name},b.id))]})]})]}),a.jsxs("div",{className:"grid gap-2 flex-1 min-h-[200px]",children:[a.jsx(se,{htmlFor:"script_content",children:"Script content"}),a.jsx("textarea",{id:"script_content",className:"flex w-full flex-1 min-h-[200px] rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:p==="javascript"?"// e.g. return { ...payload };":"# e.g. return { **payload }",...o("script_content"),spellCheck:!1})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"secondary",onClick:()=>g(!1),disabled:n,children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Saving":s?"Save":"Add script"})]})]})]})})}function cB({webhooks:e,isLoadingWebhooks:t=!1}){const[r,n]=m.useState(null),[s,i]=m.useState(null),{data:o,isLoading:l}=rB(r),c=nB(),u=s!==null?s:(o==null?void 0:o.template_content)??"",d=()=>{r&&c.mutate({webhook_id:r,template_content:u},{onSuccess:()=>i(null)})},h=r&&u!==((o==null?void 0:o.template_content)??"");return a.jsxs(G,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(ZT,{className:"h-5 w-5 text-muted-foreground"}),"Payload transformer"]}),a.jsx(ge,{children:"Edit transformation templates per webhook. Preview and save to apply."})]}),a.jsxs(Q,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"payload-webhook",children:"Webhook"}),t?a.jsx(xe,{className:"h-10 w-full rounded-md"}):a.jsxs(sr,{value:r??"",onValueChange:p=>{n(p||null),i(null)},children:[a.jsx(Yt,{id:"payload-webhook",children:a.jsx(ir,{placeholder:"Select a webhook"})}),a.jsx(Jt,{children:e.length===0?a.jsx(He,{value:"_none",disabled:!0,children:"No webhooks  create one first"}):e.map(p=>a.jsx(He,{value:p.id,children:p.route_name},p.id))})]})]}),r&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"template_content",children:"Template content"}),l?a.jsx(xe,{className:"h-[200px] w-full rounded-md"}):a.jsx("textarea",{id:"template_content",rows:10,className:H("flex w-full rounded-md border border-input bg-background px-3 py-2 font-mono text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"),placeholder:"JSON or template (e.g. Handlebars) for payload mapping",value:u,onChange:p=>i(p.target.value),spellCheck:!1})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(T,{onClick:d,disabled:c.isPending||!h&&!o,children:c.isPending?"Saving":a.jsxs(a.Fragment,{children:[a.jsx(sS,{className:"mr-2 h-4 w-4"}),"Save template"]})})})]}),!r&&e.length>0&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a webhook above to edit its payload transformation template."}),!r&&e.length===0&&!t&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a webhook in the Endpoints tab first, then select it here to add a transformation template."})]})]})}function uB(){const[e,t]=m.useState(!1),[r,n]=m.useState(!1),[s,i]=m.useState(null),[o,l]=m.useState(null),{data:c=[],isLoading:u}=QV(),{data:d=[],isLoading:h}=ZV(null),p=YV(),f=JV(),v=XV(),g=eB(),b=tB(),y=async j=>{await p.mutateAsync(j),t(!1)},x=j=>{navigator.clipboard.writeText(j),l(j),U.success("URL copied"),setTimeout(()=>l(null),2e3)},w=j=>{s?g.mutate({id:s.id,data:{event_trigger:j.event_trigger,language:j.language,script_content:j.script_content,webhook_id:j.webhook_id}},{onSuccess:()=>{i(null),n(!1)}}):v.mutate({event_trigger:j.event_trigger,language:j.language,script_content:j.script_content,webhook_id:j.webhook_id},{onSuccess:()=>n(!1)})},_=j=>{i(j),n(!0)},S=()=>{i(null),n(!0)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Webhooks & Hooks"}),a.jsxs(T,{onClick:()=>t(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}),a.jsxs(du,{defaultValue:"endpoints",className:"space-y-4",children:[a.jsxs(xl,{className:"grid w-full max-w-2xl grid-cols-4",children:[a.jsx(tr,{value:"endpoints",children:"Endpoints"}),a.jsx(tr,{value:"hooks",children:"Hook scripts"}),a.jsx(tr,{value:"transform",children:"Payload transformer"}),a.jsx(tr,{value:"gmail",children:"Gmail Pub/Sub"})]}),a.jsx(rr,{value:"endpoints",className:"space-y-4",children:a.jsxs(G,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Kp,{className:"h-5 w-5 text-muted-foreground"}),"Webhook endpoints"]}),a.jsx(ge,{children:"List (token), create webhook modal. URL, token preview, last received, mapping."})]}),a.jsx(Q,{children:u?a.jsx("div",{className:"space-y-3",children:[1,2,3].map(j=>a.jsx(xe,{className:"h-20 w-full rounded-lg"},j))}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Kp,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No webhooks. Create one to receive inbound events."}),a.jsxs(T,{className:"mt-4",variant:"outline",onClick:()=>t(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Create webhook"]})]}):a.jsx(fr,{className:"h-[400px] pr-4",children:a.jsx("div",{className:"space-y-3",children:c.map(j=>a.jsx("div",{className:"flex flex-col gap-2 rounded-lg border border-border p-4 transition-colors hover:bg-card/80",children:a.jsxs("div",{className:"flex items-start justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:j.route_name}),a.jsx("p",{className:"mt-1 truncate font-mono text-xs text-muted-foreground",children:j.url}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:"font-mono",children:["Token: ",j.token_preview]}),j.last_received_at&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx(Uh,{className:"h-3 w-3"}),"Last received"," ",Xr(new Date(j.last_received_at),{addSuffix:!0})]})]}),j.mapping_template&&a.jsx(At,{variant:"secondary",className:"mt-2",children:"Mapping"})]}),a.jsxs("div",{className:"flex shrink-0 items-center gap-1",children:[a.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(j.url),"aria-label":"Copy URL",children:o===j.url?a.jsx(zh,{className:"h-4 w-4 text-success"}):a.jsx(JT,{className:"h-4 w-4"})}),a.jsxs(Ic,{children:[a.jsx(Mc,{asChild:!0,children:a.jsxs(T,{variant:"ghost",size:"icon",className:"h-8 w-8",children:[a.jsx(Gd,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Actions"})]})}),a.jsx(nl,{align:"end",children:a.jsxs(Ir,{className:"text-destructive focus:text-destructive",onClick:()=>{window.confirm("Remove this webhook?")&&f.mutate(j.id)},children:[a.jsx(Pa,{className:"mr-2 h-4 w-4"}),"Remove"]})})]})]})]})},j.id))})})})]})}),a.jsx(rr,{value:"hooks",className:"space-y-4",children:a.jsxs(G,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(nw,{className:"h-5 w-5 text-muted-foreground"}),"Hook scripts editor"]}),a.jsx(ge,{children:"Sandbox environment for lifecycle hooks (restricted JS/Python). Event triggers: /new, /reset, start, end."})]}),a.jsxs(Q,{children:[a.jsx("div",{className:"mb-4 flex justify-end",children:a.jsxs(T,{onClick:S,children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add hook script"]})}),h?a.jsx("div",{className:"space-y-3",children:[1,2].map(j=>a.jsx(xe,{className:"h-16 w-full rounded-lg"},j))}):d.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(nw,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"No hook scripts. Add one for lifecycle events (/new, /reset, start, end)."}),a.jsxs(T,{className:"mt-4",variant:"outline",onClick:S,children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add hook script"]})]}):a.jsx(fr,{className:"h-[360px] pr-4",children:a.jsx("div",{className:"space-y-2",children:d.map(j=>{var k;return a.jsxs("div",{className:H("flex items-center justify-between gap-2 rounded-lg border border-border p-3 transition-colors hover:bg-card/80"),children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"font-medium",children:j.event_trigger}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[j.language,j.webhook_id?`  Webhook: ${((k=c.find(P=>P.id===j.webhook_id))==null?void 0:k.route_name)??j.webhook_id}`:"  Global"]})]}),a.jsxs("div",{className:"flex shrink-0 gap-1",children:[a.jsx(T,{variant:"ghost",size:"sm",onClick:()=>_(j),children:"Edit"}),a.jsx(T,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>{window.confirm("Remove this hook script?")&&b.mutate(j.id)},"aria-label":"Remove script",children:a.jsx(Pa,{className:"h-4 w-4"})})]})]},j.id)})})})]})]})}),a.jsx(rr,{value:"transform",className:"space-y-4",children:a.jsx(cB,{webhooks:c,isLoadingWebhooks:u})}),a.jsx(rr,{value:"gmail",className:"space-y-4",children:a.jsxs(G,{className:"rounded-[10px] border border-border bg-card shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Xo,{className:"h-5 w-5 text-muted-foreground"}),"Gmail Pub/Sub guided setup"]}),a.jsx(ge,{children:"Guided flow for Gmail Pub/Sub integration. Connect your Gmail account and configure webhook delivery."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Xo,{className:"mb-4 h-12 w-12 text-muted-foreground"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Gmail Pub/Sub setup will be available here. Create a webhook first, then link it to Gmail."}),a.jsx(T,{className:"mt-4",variant:"outline",disabled:!0,children:"Coming soon"})]})})]})})]}),a.jsx(iB,{open:e,onOpenChange:t,onSubmit:y,isSubmitting:p.isPending}),a.jsx(lB,{open:r,onOpenChange:j=>{n(j),j||i(null)},onSubmit:w,isSubmitting:v.isPending||g.isPending,script:s,webhooks:c})]})}const qn={getProfiles:async()=>{const{data:e,error:t}=await F.from("browser_profiles").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getProfile:async e=>{const{data:t,error:r}=await F.from("browser_profiles").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createProfile:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_profiles").insert(r).select().single();if(s)throw new Error(s.message);return n},updateProfile:async(e,t)=>{const{data:r,error:n}=await F.from("browser_profiles").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteProfile:async e=>{const{error:t}=await F.from("browser_profiles").delete().eq("id",e);if(t)throw new Error(t.message)},getTabs:async e=>{if(!e)return[];const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("browser_profile_id",e).order("updated_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},getTab:async e=>{const{data:t,error:r}=await F.from("browser_tabs").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},upsertTabs:async(e,t)=>{const r=t.map(i=>({...i,browser_profile_id:e})),{data:n,error:s}=await F.from("browser_tabs").upsert(r,{onConflict:"id"}).select();if(s)throw new Error(s.message);return n??[]},updateTab:async(e,t)=>{const{data:r,error:n}=await F.from("browser_tabs").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteTab:async e=>{const{error:t}=await F.from("browser_tabs").delete().eq("id",e);if(t)throw new Error(t.message)},getScripts:async()=>{const{data:e,error:t}=await F.from("browser_scripts").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getScript:async e=>{const{data:t,error:r}=await F.from("browser_scripts").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createScript:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_scripts").insert(r).select().single();if(s)throw new Error(s.message);return n},updateScript:async(e,t)=>{const{data:r,error:n}=await F.from("browser_scripts").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteScript:async e=>{const{error:t}=await F.from("browser_scripts").delete().eq("id",e);if(t)throw new Error(t.message)},getCaptureRecords:async(e,t)=>{if(!e)return[];let r=F.from("browser_capture_records").select("*").eq("browser_profile_id",e).order("created_at",{ascending:!1});t!=null&&t.type&&(r=r.eq("capture_type",t.type)),t!=null&&t.limit&&(r=r.limit(t.limit));const{data:n,error:s}=await r;if(s)throw new Error(s.message);return n??[]},createCaptureRecord:async e=>{const{data:t,error:r}=await F.from("browser_capture_records").insert(e).select().single();if(r)throw new Error(r.message);return t},deleteCaptureRecord:async e=>{const{error:t}=await F.from("browser_capture_records").delete().eq("id",e);if(t)throw new Error(t.message)},getCdpTokens:async()=>{const{data:e,error:t}=await F.from("browser_cdp_tokens").select("*").order("created_at",{ascending:!1});if(t)throw new Error(t.message);return e??[]},getCdpToken:async e=>{const{data:t,error:r}=await F.from("browser_cdp_tokens").select("*").eq("id",e).single();if(r){if(r.code==="PGRST116")return null;throw new Error(r.message)}return t},createCdpToken:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("browser_cdp_tokens").insert(r).select().single();if(s)throw new Error(s.message);return n},updateCdpToken:async(e,t)=>{const{data:r,error:n}=await F.from("browser_cdp_tokens").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteCdpToken:async e=>{const{error:t}=await F.from("browser_cdp_tokens").delete().eq("id",e);if(t)throw new Error(t.message)}};function Sy(e,t){return e().catch(()=>t)}const Pt={all:["browser"],profiles:()=>[...Pt.all,"profiles"],profile:e=>[...Pt.all,"profile",e??""],tabs:e=>[...Pt.all,"tabs",e??""],tab:e=>[...Pt.all,"tab",e??""],scripts:()=>[...Pt.all,"scripts"],script:e=>[...Pt.all,"script",e??""],captures:(e,t)=>[...Pt.all,"captures",e??"",t],cdpTokens:()=>[...Pt.all,"cdpTokens"],cdpToken:e=>[...Pt.all,"cdpToken",e??""]};function dB(){return Fe({queryKey:Pt.profiles(),queryFn:()=>Sy(()=>qn.getProfiles(),[])})}function hB(e){return Fe({queryKey:Pt.profile(e),queryFn:()=>e?qn.getProfile(e):Promise.resolve(null),enabled:!!e})}function fB(){const e=ke();return Ce({mutationFn:t=>qn.createProfile(t),onSuccess:()=>{e.invalidateQueries({queryKey:Pt.profiles()}),U.success("Profile created")},onError:t=>{U.error(t.message||"Failed to create profile")}})}function mB(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>qn.updateProfile(t,r),onSuccess:(t,{id:r})=>{e.invalidateQueries({queryKey:Pt.profiles()}),e.invalidateQueries({queryKey:Pt.profile(r)}),U.success("Profile updated")},onError:t=>{U.error(t.message||"Failed to update profile")}})}function pB(e){return Fe({queryKey:Pt.tabs(e),queryFn:()=>qn.getTabs(e),enabled:!!e})}function gB(){return Fe({queryKey:Pt.scripts(),queryFn:()=>Sy(()=>qn.getScripts(),[])})}function vB(){const e=ke();return Ce({mutationFn:t=>qn.createScript(t),onSuccess:()=>{e.invalidateQueries({queryKey:Pt.scripts()}),U.success("Script added")},onError:t=>{U.error(t.message||"Failed to add script")}})}function yB(e,t){return Fe({queryKey:Pt.captures(e,t),queryFn:()=>qn.getCaptureRecords(e,t),enabled:!!e})}function xB(){const e=ke();return Ce({mutationFn:t=>qn.createCaptureRecord(t),onSuccess:(t,r)=>{e.invalidateQueries({queryKey:Pt.captures(r.browser_profile_id)}),U.success("Capture saved")},onError:t=>{U.error(t.message||"Failed to save capture")}})}function wB(){return Fe({queryKey:Pt.cdpTokens(),queryFn:()=>Sy(()=>qn.getCdpTokens(),[])})}function bB(){const e=ke();return Ce({mutationFn:t=>qn.createCdpToken(t),onSuccess:()=>{e.invalidateQueries({queryKey:Pt.cdpTokens()}),U.success("CDP token added")},onError:t=>{U.error(t.message||"Failed to add CDP token")}})}function _B({open:e,onOpenChange:t,action:r,onConfirm:n,isPending:s=!1,profilePath:i,isIsolated:o=!0}){const l=r==="start";return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:l?"Start managed profile":"Stop managed profile"}),a.jsx(it,{children:l?"Start the managed Chromium profile. The profile will run in an isolated environment.":"Stop the managed Chromium profile. Any open tabs and automation will be terminated."})]}),(i!=null||o!=null)&&a.jsxs("div",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm text-muted-foreground",children:[i&&a.jsxs("p",{className:"truncate",title:i,children:[a.jsx("span",{className:"font-medium text-foreground",children:"Path:"})," ",i]}),o!=null&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium text-foreground",children:"Isolation:"})," ",o?"Enabled":"Disabled"]})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(T,{variant:l?"default":"destructive",onClick:()=>{n(),t(!1)},disabled:s,children:s?"Please wait":l?a.jsxs(a.Fragment,{children:[a.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Start profile"]}):a.jsxs(a.Fragment,{children:[a.jsx(qh,{className:"mr-2 h-4 w-4"}),"Stop profile"]})})]})]})})}function jB({open:e,onOpenChange:t,tab:r}){if(!r)return null;const n=r.url||"about:blank",s=r.title||n;return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{className:"flex items-center gap-2 truncate pr-8",children:s}),a.jsx(it,{className:"break-all",children:n})]}),a.jsxs("div",{className:"space-y-4",children:[r.snapshot_url&&a.jsx("div",{className:"rounded-lg border border-border overflow-hidden bg-secondary/30",children:a.jsx("img",{src:r.snapshot_url,alt:`Snapshot of ${s}`,className:"w-full h-auto max-h-48 object-cover object-top"})}),a.jsxs("dl",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"URL"}),a.jsx("dd",{className:"min-w-0 truncate text-right font-mono text-xs",title:r.url,children:r.url||""})]}),r.external_id&&a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"External ID"}),a.jsx("dd",{className:"font-mono text-xs",children:r.external_id})]}),a.jsxs("div",{className:"flex justify-between gap-2",children:[a.jsx("dt",{className:"text-muted-foreground",children:"Updated"}),a.jsx("dd",{children:new Date(r.updated_at).toLocaleString()})]})]}),n.startsWith("http")&&a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:H("inline-flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium","bg-primary/10 text-primary hover:bg-primary/20 transition-colors"),children:[a.jsx(Tv,{className:"h-4 w-4"}),"Open in new tab"]})]})]})})}const SB=Vt({name:Le().min(1,"Name is required").max(200,"Name too long"),script_content:Le().optional()}),Qb={name:"",script_content:""};function kB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1}){const{register:s,handleSubmit:i,reset:o,formState:{errors:l}}=Ut({resolver:zt(SB),defaultValues:Qb}),c=u=>{var d;r({name:u.name.trim(),script_content:((d=u.script_content)==null?void 0:d.trim())||null,execution_status:"pending"}),o(Qb),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Add automation script"}),a.jsx(it,{children:"Upload or paste an automation script. It will appear in the Automation Runner and can be executed against the managed profile."})]}),a.jsxs("form",{onSubmit:i(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"script-name",children:"Script name"}),a.jsx(Ne,{id:"script-name",placeholder:"e.g. login-flow.js",...s("name"),className:l.name?"border-destructive":""}),l.name&&a.jsx("p",{className:"text-sm text-destructive",children:l.name.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"script-content",children:"Content (optional)"}),a.jsx("textarea",{id:"script-content",placeholder:"Paste script content or leave empty to upload later",...s("script_content"),rows:6,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:n,children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Adding":"Add script"})]})]})]})})}const NB={screenshot:"Screenshot",pdf:"PDF",dom:"DOM snapshot"},CB={screenshot:Bp,pdf:Ra,dom:Vp};function EB({open:e,onOpenChange:t,captureType:r,fileUrl:n,filePath:s,onDownload:i,onClose:o}){const l=CB[r],c=NB[r],u=!!n,d=()=>{o==null||o(),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-[420px]",showClose:!0,children:[a.jsxs(nt,{children:[a.jsxs(st,{className:"flex items-center gap-2",children:[a.jsx(l,{className:"h-5 w-5 text-accent"}),c," captured"]}),a.jsxs(it,{children:["Your ",c.toLowerCase()," has been saved. You can download it or continue capturing."]})]}),s&&a.jsx("p",{className:"rounded-lg border border-border bg-secondary/50 px-3 py-2 text-sm font-mono text-muted-foreground truncate",title:s,children:s}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{variant:"outline",onClick:d,children:"Close"}),u&&a.jsxs(T,{onClick:()=>{if(i==null||i(),n){const h=document.createElement("a");h.href=n,h.download=`capture-${r}-${Date.now()}`,h.click()}d()},children:[a.jsx(ru,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})})}const RB=Vt({connection_type:zn(["local","node_proxy"]),token_preview:Le().max(20).optional(),config_json:Le().optional()}),Em={connection_type:"local",token_preview:"",config_json:"{}"};function PB({open:e,onOpenChange:t,existing:r,onSubmit:n,isSubmitting:s=!1}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ut({resolver:zt(RB),defaultValues:r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Em}),h=c("connection_type");m.useEffect(()=>{e&&u(r?{connection_type:r.connection_type,token_preview:r.token_preview??"",config_json:typeof r.config_json=="object"?JSON.stringify(r.config_json,null,2):"{}"}:Em)},[e,r,u]);const p=f=>{let v={};try{v=f.config_json?JSON.parse(f.config_json):{}}catch{v={}}n(r?{connection_type:f.connection_type,token_preview:f.token_preview||null,config_json:v}:{connection_type:f.connection_type,token_preview:f.token_preview||null,config_json:v}),u(Em),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-[520px]",showClose:!0,children:[a.jsxs(nt,{children:[a.jsx(st,{children:r?"Edit CDP connector":"Add CDP connector"}),a.jsx(it,{children:"Configure local or node proxy CDP connection. Sensitive token data is stored securely and only a redacted preview is shown here."})]}),a.jsxs("form",{onSubmit:o(p),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{children:"Connection type"}),a.jsxs(sr,{value:h,onValueChange:f=>l("connection_type",f),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"local",children:"Local"}),a.jsx(He,{value:"node_proxy",children:"Node proxy"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(se,{htmlFor:"token-preview",className:"flex items-center gap-2",children:[a.jsx(Xj,{className:"h-4 w-4 text-muted-foreground"}),"Token preview (redacted)"]}),a.jsx(Ne,{id:"token-preview",placeholder:"e.g. ws://***...***",...i("token_preview")}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Optional label or redacted preview for this token. The actual token is never stored in plain text."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{htmlFor:"config-json",children:"Config (JSON, optional)"}),a.jsx("textarea",{id:"config-json",placeholder:'{"host": "localhost", "port": 9222}',...i("config_json"),rows:3,className:"w-full rounded-md border border-input bg-background px-3 py-2 text-sm font-mono placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"}),d.config_json&&a.jsx("p",{className:"text-sm text-destructive",children:d.config_json.message})]}),a.jsxs(dt,{className:"gap-2 sm:gap-0",children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>t(!1),disabled:s,children:"Cancel"}),a.jsx(T,{type:"submit",disabled:s,children:s?"Saving":r?"Save changes":"Add connector"})]})]})]})})}const TB={running:"Running",stopped:"Stopped",starting:"Starting",stopping:"Stopping",error:"Error"};function AB(){const[e,t]=m.useState(null),[r,n]=m.useState(null),[s,i]=m.useState(null),[o,l]=m.useState(!1),[c,u]=m.useState(!1),[d,h]=m.useState(null),[p,f]=m.useState(!1),{data:v=[],isLoading:g}=dB(),b=m.useMemo(()=>v.find(N=>N.status==="running")??v[0]??null,[v]),y=r??(b==null?void 0:b.id)??null,{data:x}=hB(y),{data:w=[],isLoading:_,refetch:S}=pB(y),{data:j=[],isLoading:k}=gB(),{data:P=[]}=yB(y,{limit:10}),{data:A=[]}=wB(),M=mB(),W=fB(),L=vB(),z=xB(),O=bB(),J=(x==null?void 0:x.status)==="running",Y=N=>{y&&t({open:!0,action:N})},re=()=>{if(!e||!y)return;const N=e.action==="start"?"running":"stopped";M.mutate({id:y,data:{status:N}},{onSettled:()=>t(null)})},D=N=>{y&&z.mutate({browser_profile_id:y,capture_type:N,file_path:null,file_url:`/api/browser/captures/${N}-${Date.now()}`,tab_id:null},{onSuccess:R=>{h({open:!0,type:N,fileUrl:R.file_url,filePath:R.file_path})}})};return a.jsxs("div",{className:"mx-auto max-w-content space-y-6 animate-fade-in-up",children:[a.jsxs("header",{children:[a.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Browser Automation Console"}),a.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Manage Chromium profile, inspect tabs, run automations, and capture screenshots or PDFs."})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Ov,{className:"h-5 w-5 text-primary"}),"Managed Profile Controls"]}),a.jsx(ge,{children:"Start or stop the managed Chromium profile. Profile footprint and isolation are shown below."})]}),a.jsx(Q,{className:"space-y-4",children:g?a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsx(xe,{className:"h-9 w-24 rounded-md"}),a.jsx(xe,{className:"h-9 w-24 rounded-md"}),a.jsx(xe,{className:"h-6 flex-1 min-w-[200px] rounded"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[v.length>0&&a.jsx("select",{className:"rounded-md border border-input bg-background px-3 py-2 text-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",value:y??"",onChange:N=>n(N.target.value||null),children:v.map(N=>a.jsxs("option",{value:N.id,children:["Profile ",N.id.slice(0,8),"  ",TB[N.status]??N.status]},N.id))}),a.jsxs(T,{size:"sm",onClick:()=>Y("start"),disabled:!y||J||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Pi,{className:"mr-1 h-4 w-4"}),"Start"]}),a.jsxs(T,{variant:"outline",size:"sm",onClick:()=>Y("stop"),disabled:!y||!J||M.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(qh,{className:"mr-1 h-4 w-4"}),"Stop"]})]}),x&&a.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-sm text-muted-foreground",children:[x.footprint_path&&a.jsxs("span",{className:"truncate font-mono",title:x.footprint_path,children:["Path: ",x.footprint_path]}),a.jsx(At,{variant:x.is_isolated?"default":"secondary",className:"shrink-0",children:x.is_isolated?"Isolated":"Not isolated"})]}),v.length===0&&a.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"No profile yet. Create a default profile to start the managed browser."}),a.jsx(T,{size:"sm",variant:"outline",onClick:()=>W.mutate({status:"stopped",is_isolated:!0}),disabled:W.isPending,children:W.isPending?"Creating":"Create profile"})]})]})})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(sw,{className:"h-5 w-5 text-primary"}),"Tab Inspector"]}),y&&a.jsxs(T,{variant:"ghost",size:"sm",onClick:()=>S(),disabled:_||!J,children:[a.jsx(hA,{className:H("h-4 w-4",_&&"animate-spin")}),a.jsx("span",{className:"ml-1 sr-only sm:not-sr-only",children:"Refresh"})]})]}),a.jsx(ge,{children:"Open tabs with snapshot thumbnails. Click a tab for details."})]}),a.jsx(Q,{children:y?_?a.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:[1,2,3].map(N=>a.jsx(xe,{className:"h-24 rounded-lg"},N))}):w.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(lA,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No tabs"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:J?"Open pages in the managed browser or refresh.":"Start the profile to see tabs."})]}):a.jsx(fr,{className:"w-full",children:a.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-3",children:w.map(N=>a.jsxs("button",{type:"button",onClick:()=>{i(N),l(!0)},className:"flex flex-col overflow-hidden rounded-lg border border-border bg-secondary/30 text-left transition-all hover:border-primary/50 hover:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[N.snapshot_url?a.jsx("img",{src:N.snapshot_url,alt:"",className:"h-20 w-full object-cover object-top"}):a.jsx("div",{className:"flex h-20 w-full items-center justify-center bg-muted",children:a.jsx(sw,{className:"h-8 w-8 text-muted-foreground"})}),a.jsxs("div",{className:"p-2",children:[a.jsx("p",{className:"truncate text-sm font-medium",title:N.title??N.url,children:N.title||N.url||"Untitled"}),a.jsx("p",{className:"truncate text-xs text-muted-foreground",title:N.url,children:N.url||""})]})]},N.id))})}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select or start a profile to inspect tabs."})})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Vp,{className:"h-5 w-5 text-primary"}),"Automation Runner"]}),a.jsxs(T,{size:"sm",onClick:()=>u(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Hp,{className:"mr-1 h-4 w-4"}),"Add script"]})]}),a.jsx(ge,{children:"Upload and run automation scripts. Actions are logged deterministically."})]}),a.jsx(Q,{children:k?a.jsx("ul",{className:"space-y-2",children:[1,2].map(N=>a.jsx(xe,{className:"h-12 rounded-lg"},N))}):j.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Hp,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No scripts"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a script to run automations against the profile."}),a.jsxs(T,{className:"mt-3",variant:"outline",size:"sm",onClick:()=>u(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add script"]})]}):a.jsx("ul",{className:"space-y-2",children:j.map(N=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 px-3 py-2",children:[a.jsx("span",{className:"font-medium truncate",children:N.name}),a.jsx(At,{variant:"secondary",children:N.execution_status})]},N.id))})})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Bp,{className:"h-5 w-5 text-primary"}),"Capture Tools"]}),a.jsx(ge,{children:"Screenshot, full-page PDF, or DOM snapshot of the current view."})]}),a.jsxs(Q,{className:"flex flex-wrap gap-3",children:[a.jsxs(T,{variant:"outline",onClick:()=>D("screenshot"),disabled:!y||!J||z.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Bp,{className:"mr-2 h-4 w-4"}),"Screenshot"]}),a.jsxs(T,{variant:"outline",onClick:()=>D("pdf"),disabled:!y||!J||z.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Ra,{className:"mr-2 h-4 w-4"}),"PDF"]}),a.jsxs(T,{variant:"outline",onClick:()=>D("dom"),disabled:!y||!J||z.isPending,className:"transition-transform hover:scale-[1.02]",children:[a.jsx(Vp,{className:"mr-2 h-4 w-4"}),"DOM snapshot"]}),!y&&a.jsx("p",{className:"text-sm text-muted-foreground self-center",children:"Start a profile to capture."})]}),P.length>0&&a.jsxs(Q,{className:"border-t border-border pt-4",children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recent captures"}),a.jsx("ul",{className:"flex flex-wrap gap-2",children:P.slice(0,5).map(N=>a.jsxs(At,{variant:"outline",children:[N.capture_type,"  ",new Date(N.created_at).toLocaleDateString()]},N.id))})]})]}),a.jsxs(G,{className:"shadow-card transition-shadow hover:shadow-card-hover",children:[a.jsxs(te,{className:"pb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(ne,{className:"flex items-center gap-2 text-lg",children:[a.jsx(Eo,{className:"h-5 w-5 text-primary"}),"CDP Connector Settings"]}),a.jsxs(T,{size:"sm",variant:"outline",onClick:()=>f(!0),className:"transition-transform hover:scale-[1.02]",children:[a.jsx(ur,{className:"mr-1 h-4 w-4"}),"Add connector"]})]}),a.jsx(ge,{children:"Local or node proxy CDP settings. Tokens are stored with sensitive data redacted."})]}),a.jsx(Q,{children:A.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-12 text-center",children:[a.jsx(Xj,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm font-medium text-foreground",children:"No CDP connectors"}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Add a connector to use remote CDP or node proxy."}),a.jsxs(T,{className:"mt-3",variant:"outline",size:"sm",onClick:()=>f(!0),children:[a.jsx(ur,{className:"mr-2 h-4 w-4"}),"Add connector"]})]}):a.jsx("ul",{className:"space-y-2",children:A.map(N=>a.jsxs("li",{className:"flex items-center justify-between rounded-lg border border-border bg-secondary/30 px-3 py-2",children:[a.jsx("span",{className:"font-mono text-sm",children:N.token_preview||N.connection_type}),a.jsx(At,{variant:"secondary",children:N.connection_type})]},N.id))})})]}),e&&a.jsx(_B,{open:e.open,onOpenChange:N=>!N&&t(null),action:e.action,onConfirm:re,isPending:M.isPending,profilePath:x==null?void 0:x.footprint_path,isIsolated:x==null?void 0:x.is_isolated}),a.jsx(jB,{open:o,onOpenChange:l,tab:s}),a.jsx(kB,{open:c,onOpenChange:u,onSubmit:N=>L.mutate(N),isSubmitting:L.isPending}),d&&a.jsx(EB,{open:d.open,onOpenChange:N=>!N&&h(null),captureType:d.type,fileUrl:d.fileUrl,filePath:d.filePath}),a.jsx(PB,{open:p,onOpenChange:f,existing:null,onSubmit:N=>O.mutate(N),isSubmitting:O.isPending})]})}const gn={getWakeWords:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("wake_words").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw new Error(r.message);return t??[]},createWakeWord:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("wake_words").insert(r).select().single();if(s)throw new Error(s.message);return n},updateWakeWord:async(e,t)=>{const{data:r,error:n}=await F.from("wake_words").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},deleteWakeWord:async e=>{const{error:t}=await F.from("wake_words").delete().eq("id",e);if(t)throw new Error(t.message)},getTalkModeSettings:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("talk_mode_settings").select("*").eq("user_id",e.id).order("node_id",{ascending:!0,nullsFirst:!0});if(r)throw new Error(r.message);return t??[]},getTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");let r=F.from("talk_mode_settings").select("*").eq("user_id",t.id);e===null?r=r.is("node_id",null):r=r.eq("node_id",e);const{data:n,error:s}=await r.maybeSingle();if(s)throw new Error(s.message);return n},upsertTalkModeSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id,node_id:e.node_id??null},{data:n,error:s}=await F.from("talk_mode_settings").upsert(r,{onConflict:"user_id,node_id"}).select().single();if(s)throw new Error(s.message);return n},updateTalkModeSetting:async(e,t)=>{const{data:r,error:n}=await F.from("talk_mode_settings").update(t).eq("id",e).select().single();if(n)throw new Error(n.message);return r},getTranscriptionBackends:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("transcription_backends").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("transcription_backends").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTranscriptionBackends:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("transcription_backends").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getTtsProviderSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("tts_provider_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("tts_provider_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateTtsProviderSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("tts_provider_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r},getMediaSetting:async()=>{const{data:{user:e}}=await F.auth.getUser();if(!e)throw new Error("Not authenticated");const{data:t,error:r}=await F.from("media_settings").select("*").eq("user_id",e.id).maybeSingle();if(r)throw new Error(r.message);return t},upsertMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const r={...e,user_id:t.id},{data:n,error:s}=await F.from("media_settings").upsert(r,{onConflict:"user_id"}).select().single();if(s)throw new Error(s.message);return n},updateMediaSetting:async e=>{const{data:{user:t}}=await F.auth.getUser();if(!t)throw new Error("Not authenticated");const{data:r,error:n}=await F.from("media_settings").update(e).eq("user_id",t.id).select().single();if(n)throw new Error(n.message);return r}};function KC(e,t){return e().catch(()=>t)}const Gt={all:["voice"],wakeWords:()=>[...Gt.all,"wakeWords"],talkModeSettings:()=>[...Gt.all,"talkModeSettings"],talkModeSetting:e=>[...Gt.all,"talkModeSetting",e],transcriptionBackends:()=>[...Gt.all,"transcriptionBackends"],ttsProviderSetting:()=>[...Gt.all,"ttsProviderSetting"],mediaSetting:()=>[...Gt.all,"mediaSetting"]};function OB(){return Fe({queryKey:Gt.wakeWords(),queryFn:()=>KC(()=>gn.getWakeWords(),[])})}function IB(){const e=ke();return Ce({mutationFn:t=>gn.createWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.wakeWords()}),U.success("Wake word added")},onError:t=>{U.error(t.message||"Failed to add wake word")}})}function MB(){const e=ke();return Ce({mutationFn:({id:t,data:r})=>gn.updateWakeWord(t,r),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.wakeWords()}),U.success("Wake word updated")},onError:t=>{U.error(t.message||"Failed to update wake word")}})}function DB(){const e=ke();return Ce({mutationFn:t=>gn.deleteWakeWord(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.wakeWords()}),U.success("Wake word removed")},onError:t=>{U.error(t.message||"Failed to remove wake word")}})}function LB(){return Fe({queryKey:Gt.talkModeSettings(),queryFn:()=>KC(()=>gn.getTalkModeSettings(),[])})}function $B(){const e=ke();return Ce({mutationFn:t=>gn.upsertTalkModeSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.talkModeSettings()}),e.invalidateQueries({queryKey:Gt.all}),U.success("Talk mode saved")},onError:t=>{U.error(t.message||"Failed to save talk mode")}})}function FB(){return Fe({queryKey:Gt.transcriptionBackends(),queryFn:()=>gn.getTranscriptionBackends()})}function UB(){const e=ke();return Ce({mutationFn:t=>gn.upsertTranscriptionBackends(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.transcriptionBackends()}),U.success("Transcription backends saved")},onError:t=>{U.error(t.message||"Failed to save transcription backends")}})}function zB(){return Fe({queryKey:Gt.ttsProviderSetting(),queryFn:()=>gn.getTtsProviderSetting()})}function VB(){const e=ke();return Ce({mutationFn:t=>gn.upsertTtsProviderSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.ttsProviderSetting()}),U.success("TTS provider saved")},onError:t=>{U.error(t.message||"Failed to save TTS provider")}})}function BB(){return Fe({queryKey:Gt.mediaSetting(),queryFn:()=>gn.getMediaSetting()})}function WB(){const e=ke();return Ce({mutationFn:t=>gn.upsertMediaSetting(t),onSuccess:()=>{e.invalidateQueries({queryKey:Gt.mediaSetting()}),U.success("Media settings saved")},onError:t=>{U.error(t.message||"Failed to save media settings")}})}const qB=Vt({word:Le().min(1,"Wake word is required").max(64),status:zn(["active","inactive"]),propagate_to_nodes:uu()}),Rm={word:"",status:"active",propagate_to_nodes:!0};function HB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initial:s=null}){const{register:i,handleSubmit:o,setValue:l,watch:c,reset:u,formState:{errors:d}}=Ut({resolver:zt(qB),defaultValues:Rm}),h=c("propagate_to_nodes"),p=c("status"),f=g=>{r(g),u(Rm),t(!1)},v=g=>{g&&s?u({word:s.word,status:s.status,propagate_to_nodes:s.propagate_to_nodes}):g||u(Rm),t(g)};return a.jsx(ct,{open:e,onOpenChange:v,children:a.jsxs(rt,{className:"max-w-md","aria-describedby":"wake-word-form-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:s?"Edit wake word":"Add wake word"}),a.jsx(it,{id:"wake-word-form-description",children:"Configure a voice wake word. Optionally propagate to connected nodes."})]}),a.jsxs("form",{onSubmit:o(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"wake-word-input",children:"Wake word"}),a.jsx(Ne,{id:"wake-word-input",placeholder:"e.g. Hey Clawgate",...i("word"),className:"transition-colors focus-visible:ring-2"}),d.word&&a.jsx("p",{className:"text-sm text-destructive",children:d.word.message})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Status"}),a.jsxs(sr,{value:p,onValueChange:g=>l("status",g),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"active",children:"Active"}),a.jsx(He,{value:"inactive",children:"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(se,{htmlFor:"propagate-nodes",children:"Propagate to nodes"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Send this wake word to paired devices"})]}),a.jsx(Vs,{id:"propagate-nodes",checked:h,onCheckedChange:g=>l("propagate_to_nodes",g)})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Saving":s?"Update":"Add"})]})]})]})})}const KB=Vt({node_id:Le().nullable(),enabled:uu(),interrupt_sensitivity:zn(["low","medium","high"])});function GB({nodes:e,settings:t,defaultSetting:r,onSave:n,isSubmitting:s=!1}){const i="",o={node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"},{handleSubmit:l,setValue:c,watch:u,reset:d}=Ut({resolver:zt(KB),defaultValues:o});m.useEffect(()=>{d({node_id:i,enabled:(r==null?void 0:r.enabled)??!1,interrupt_sensitivity:(r==null?void 0:r.interrupt_sensitivity)??"medium"})},[r,d]);const h=u("node_id"),p=u("enabled"),f=u("interrupt_sensitivity"),v=g=>{const b=g.node_id===""||!g.node_id?null:g.node_id;n({node_id:b,enabled:g.enabled,interrupt_sensitivity:g.interrupt_sensitivity}),d({node_id:g.node_id,enabled:g.enabled,interrupt_sensitivity:g.interrupt_sensitivity})};return a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Talk mode"}),a.jsx(ge,{children:"Enable or disable voice interaction per node and set interrupt sensitivity."})]}),a.jsx(Q,{className:"space-y-6",children:a.jsxs("form",{onSubmit:l(v),className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Node"}),a.jsxs(sr,{value:h||i,onValueChange:g=>{const b=g===i?null:g,y=b===null?r:t.find(x=>x.node_id===b);c("node_id",g||i),c("enabled",(y==null?void 0:y.enabled)??!1),c("interrupt_sensitivity",(y==null?void 0:y.interrupt_sensitivity)??"medium")},children:[a.jsx(Yt,{children:a.jsx(ir,{placeholder:"Default (all nodes)"})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"",children:"Default (all nodes)"}),e.map(g=>a.jsx(He,{value:g.id,children:g.name||g.id.slice(0,8)},g.id))]})]})]}),a.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(se,{htmlFor:"talk-enabled",children:"Talk mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:h?"Enable for this node":"Enable for all nodes by default"})]}),a.jsx(Vs,{id:"talk-enabled",checked:p,onCheckedChange:g=>c("enabled",g)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Interrupt sensitivity"}),a.jsxs(sr,{value:f,onValueChange:g=>c("interrupt_sensitivity",g),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"low",children:"Low"}),a.jsx(He,{value:"medium",children:"Medium"}),a.jsx(He,{value:"high",children:"High"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How quickly the agent stops when you start speaking"})]}),a.jsx(T,{type:"submit",disabled:s,children:s?"Saving":"Save talk mode"})]})})]})}const Yb=["whisper","google","assemblyai","deepgram","local-cli"];function QB({open:e,onOpenChange:t,providerList:r,cliFallback:n,onSave:s,isSubmitting:i=!1}){const[o,l]=m.useState(r.length>0?[...r]:[...Yb]),[c,u]=m.useState(n??"");m.useEffect(()=>{e&&(l(r.length>0?[...r]:[...Yb]),u(n??""))},[e,r,n]);const d=v=>{if(v<=0)return;const g=[...o];[g[v-1],g[v]]=[g[v],g[v-1]],l(g)},h=v=>{if(v>=o.length-1)return;const g=[...o];[g[v],g[v+1]]=[g[v+1],g[v]],l(g)},p=v=>{l(g=>g.filter((b,y)=>y!==v))},f=()=>{s(o,c.trim()||null),t(!1)};return a.jsx(ct,{open:e,onOpenChange:t,children:a.jsxs(rt,{className:"max-w-lg","aria-describedby":"transcription-backend-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"Transcription backends"}),a.jsx(it,{id:"transcription-backend-description",children:"Set the order of preference for transcription providers. First available is used."})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Provider order (first = preferred)"}),a.jsx("ul",{className:"flex flex-col gap-2 rounded-lg border border-border p-2",children:o.map((v,g)=>a.jsxs("li",{className:H("flex items-center gap-2 rounded-md border border-border bg-card px-3 py-2 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsx("span",{className:"text-muted-foreground","aria-hidden":!0,children:a.jsx(sA,{className:"h-4 w-4"})}),a.jsx("span",{className:"flex-1 font-medium",children:v}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>d(g),disabled:g===0,"aria-label":"Move up",children:""}),a.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>h(g),disabled:g===o.length-1,"aria-label":"Move down",children:""}),a.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>p(g),"aria-label":"Remove",children:a.jsx(Pa,{className:"h-4 w-4"})})]})]},`${v}-${g}`))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"cli-fallback",children:"CLI fallback command"}),a.jsx(Ne,{id:"cli-fallback",placeholder:"e.g. /usr/bin/whisper-cli",value:c,onChange:v=>u(v.target.value),className:"transition-colors focus-visible:ring-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Optional local CLI used when cloud providers are unavailable"})]})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsx(T,{onClick:f,disabled:i,children:i?"Saving":"Save order"})]})]})})}const YB=Vt({provider:Le().min(1,"Provider is required"),model:Le().optional()}),JB=[{id:"default",label:"Default (system)"},{id:"openai",label:"OpenAI"},{id:"google",label:"Google Cloud TTS"},{id:"amazon",label:"Amazon Polly"},{id:"elevenlabs",label:"ElevenLabs"},{id:"azure",label:"Azure Speech"},{id:"local",label:"Local / Ollama"}],Jb={provider:"default",model:""};function ZB({open:e,onOpenChange:t,onSubmit:r,isSubmitting:n=!1,initialProvider:s="default",initialModel:i=null}){const{register:o,handleSubmit:l,setValue:c,watch:u,reset:d,formState:{errors:h}}=Ut({resolver:zt(YB),defaultValues:{provider:s,model:i??""}}),p=u("provider"),f=g=>{var b;r({provider:g.provider,model:((b=g.model)==null?void 0:b.trim())||null}),d(Jb),t(!1)},v=g=>{d(g?{provider:s,model:i??""}:Jb),t(g)};return a.jsx(ct,{open:e,onOpenChange:v,children:a.jsxs(rt,{className:"max-w-md","aria-describedby":"tts-provider-description",children:[a.jsxs(nt,{children:[a.jsx(st,{children:"TTS provider"}),a.jsx(it,{id:"tts-provider-description",children:"Choose the text-to-speech provider and model for voice output."})]}),a.jsxs("form",{onSubmit:l(f),className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Provider"}),a.jsxs(sr,{value:p,onValueChange:g=>c("provider",g),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsx(Jt,{children:JB.map(g=>a.jsx(He,{value:g.id,children:g.label},g.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"tts-model",children:"Model (optional)"}),a.jsx(Ne,{id:"tts-model",placeholder:"e.g. tts-1, en-US-Standard-D",...o("model"),className:"transition-colors focus-visible:ring-2"}),h.model&&a.jsx("p",{className:"text-sm text-destructive",children:h.model.message})]}),a.jsxs(dt,{children:[a.jsx(T,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),a.jsx(T,{type:"submit",disabled:n,children:n?"Saving":"Save"})]})]})]})})}const XB=Vt({retention_days:hg.number().min(1).max(3650),size_cap_mb:hg.number().min(1).max(1048576),fallback_strategy:zn(["local","cloud","none"]),audio_note_handling:zn(["store","transcribe_and_store","transcribe_only","discard"])}),Zb={retention_days:30,size_cap_mb:1024,fallback_strategy:"local",audio_note_handling:"store"};function e8({initial:e,onSave:t,isSubmitting:r=!1}){const{register:n,handleSubmit:s,setValue:i,watch:o,reset:l,formState:{errors:c}}=Ut({resolver:zt(XB),defaultValues:e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:Zb}),u=o("fallback_strategy"),d=o("audio_note_handling");return m.useEffect(()=>{l(e?{retention_days:e.retention_days,size_cap_mb:e.size_cap_mb,fallback_strategy:e.fallback_strategy,audio_note_handling:e.audio_note_handling}:Zb)},[e,l]),a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Media storage"}),a.jsx(ge,{children:"Retention, size caps, and fallback for audio notes and media capture."})]}),a.jsx(Q,{children:a.jsxs("form",{onSubmit:s(t),className:"space-y-6",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"retention-days",children:"Retention (days)"}),a.jsx(Ne,{id:"retention-days",type:"number",min:1,max:3650,...n("retention_days"),className:"transition-colors focus-visible:ring-2"}),c.retention_days&&a.jsx("p",{className:"text-sm text-destructive",children:c.retention_days.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"How long to keep media before cleanup (13650)"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{htmlFor:"size-cap-mb",children:"Size cap (MB)"}),a.jsx(Ne,{id:"size-cap-mb",type:"number",min:1,...n("size_cap_mb"),className:"transition-colors focus-visible:ring-2"}),c.size_cap_mb&&a.jsx("p",{className:"text-sm text-destructive",children:c.size_cap_mb.message}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Maximum storage for media; oldest items are removed when exceeded"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Fallback strategy"}),a.jsxs(sr,{value:u,onValueChange:h=>i("fallback_strategy",h),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"local",children:"Local only"}),a.jsx(He,{value:"cloud",children:"Cloud when local full"}),a.jsx(He,{value:"none",children:"No fallback (fail when full)"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(se,{children:"Audio note handling"}),a.jsxs(sr,{value:d,onValueChange:h=>i("audio_note_handling",h),children:[a.jsx(Yt,{children:a.jsx(ir,{})}),a.jsxs(Jt,{children:[a.jsx(He,{value:"store",children:"Store only"}),a.jsx(He,{value:"transcribe_and_store",children:"Transcribe and store"}),a.jsx(He,{value:"transcribe_only",children:"Transcribe only"}),a.jsx(He,{value:"discard",children:"Discard"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"What to do with captured audio notes"})]}),a.jsx(T,{type:"submit",disabled:r,children:r?"Saving":"Save media settings"})]})})]})}function t8(){var D;const[e,t]=m.useState(!1),[r,n]=m.useState(null),[s,i]=m.useState(!1),[o,l]=m.useState(!1),{data:c=[],isLoading:u}=OB(),d=IB(),h=MB(),p=DB(),{data:f=[],isLoading:v}=LB(),g=$B(),b=f.find(N=>N.node_id===null)??null,{data:y=[]}=eC(),{data:x,isLoading:w}=FB(),_=UB(),{data:S,isLoading:j}=zB(),k=VB(),{data:P,isLoading:A}=BB(),M=WB(),W=()=>{n(null),t(!0)},L=N=>{n(N),t(!0)},z=N=>{r?h.mutate({id:r.id,data:{word:N.word,status:N.status,propagate_to_nodes:N.propagate_to_nodes}},{onSuccess:()=>t(!1)}):d.mutate({word:N.word,status:N.status,propagate_to_nodes:N.propagate_to_nodes},{onSuccess:()=>t(!1)})},O=N=>{g.mutate({node_id:N.node_id,enabled:N.enabled,interrupt_sensitivity:N.interrupt_sensitivity})},J=(N,R)=>{_.mutate({provider_list:N,cli_fallback:R})},Y=N=>{k.mutate({provider:N.provider,model:N.model})},re=N=>{M.mutate(N)};return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("header",{className:"space-y-2",children:[a.jsxs("nav",{className:"flex items-center gap-2 text-sm text-muted-foreground","aria-label":"Breadcrumb",children:[a.jsx(we,{to:"/dashboard",className:"transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Dashboard"}),a.jsx(Ii,{className:"h-4 w-4 shrink-0","aria-hidden":!0}),a.jsx("span",{className:"text-foreground font-medium",children:"Voice & Media"})]}),a.jsxs("h1",{className:"text-2xl font-semibold flex items-center gap-2",children:[a.jsx(Wp,{className:"h-7 w-7 text-primary","aria-hidden":!0}),"Voice & Media"]}),a.jsx("p",{className:"text-muted-foreground",children:"Configure wake words, talk mode, transcription, TTS, and media storage."})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1fr_240px]",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ne,{children:"Wake words"}),a.jsx(ge,{children:"Voice activation phrases; optionally propagated to nodes."})]}),a.jsxs(T,{type:"button",size:"sm",onClick:W,className:"shrink-0 transition-transform hover:scale-[1.02]",children:[a.jsx(ur,{className:"h-4 w-4 mr-2"}),"Add"]})]}),a.jsx(Q,{children:u?a.jsx(xe,{className:"h-24 w-full rounded-lg"}):c.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center rounded-lg border border-dashed border-border py-8 text-center",children:[a.jsx(Wp,{className:"h-10 w-10 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"No wake words configured"}),a.jsx(T,{type:"button",variant:"outline",size:"sm",onClick:W,children:"Add wake word"})]}):a.jsx("ul",{className:"space-y-2",children:c.map(N=>a.jsxs("li",{className:H("flex items-center justify-between rounded-lg border border-border bg-card px-4 py-3 text-sm transition-colors hover:bg-secondary/50"),children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"font-medium",children:N.word}),a.jsx(At,{variant:N.status==="active"?"success":"secondary",children:N.status}),N.propagate_to_nodes&&a.jsx("span",{className:"text-muted-foreground text-xs",children:" nodes"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>L(N),"aria-label":"Edit wake word",children:a.jsx(qp,{className:"h-4 w-4"})}),a.jsx(T,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive",onClick:()=>p.mutate(N.id),"aria-label":"Delete wake word",children:a.jsx(Pa,{className:"h-4 w-4"})})]})]},N.id))})})]}),v?a.jsx(xe,{className:"h-64 w-full rounded-lg"}):a.jsx(GB,{nodes:y,settings:f,defaultSetting:b,onSave:O,isSubmitting:g.isPending}),a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(oA,{className:"h-5 w-5 text-primary"}),"Transcription backends"]}),a.jsx(ge,{children:"Provider order and CLI fallback for voice-to-text."})]}),a.jsx(T,{type:"button",size:"sm",variant:"outline",onClick:()=>i(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Edit order"})]}),a.jsx(Q,{children:w?a.jsx(xe,{className:"h-16 w-full rounded-lg"}):x?a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-muted-foreground",children:["Order: ",(D=x.provider_list)!=null&&D.length?x.provider_list.join("  "):"default"]}),x.cli_fallback&&a.jsxs("p",{className:"text-muted-foreground",children:["CLI fallback: ",a.jsx("code",{className:"rounded bg-secondary px-1",children:x.cli_fallback})]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"No backends configured. Use default order or set your preference."})})]}),a.jsxs(G,{className:"transition-shadow duration-200 hover:shadow-card-hover",children:[a.jsxs(te,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(pA,{className:"h-5 w-5 text-primary"}),"TTS provider"]}),a.jsx(ge,{children:"Text-to-speech provider and model for voice output."})]}),a.jsx(T,{type:"button",size:"sm",variant:"outline",onClick:()=>l(!0),className:"shrink-0 transition-transform hover:scale-[1.02]",children:"Configure"})]}),a.jsx(Q,{children:j?a.jsx(xe,{className:"h-12 w-full rounded-lg"}):S?a.jsxs("p",{className:"text-sm",children:[a.jsx("span",{className:"font-medium",children:S.provider}),S.model&&a.jsxs("span",{className:"text-muted-foreground",children:[" / ",S.model]})]}):a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default (system)"})})]}),A?a.jsx(xe,{className:"h-80 w-full rounded-lg"}):a.jsx(e8,{initial:P??null,onSave:re,isSubmitting:M.isPending})]}),a.jsxs("aside",{className:"space-y-4 lg:order-last",children:[a.jsxs(G,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsx(ne,{className:"text-base",children:"Related"})}),a.jsxs(Q,{className:"space-y-2",children:[a.jsxs(we,{to:"/settings",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:[a.jsx(Eo,{className:"h-4 w-4 shrink-0"}),"Settings"]}),a.jsx(we,{to:"/nodes",className:"flex items-center gap-2 rounded-md px-3 py-2 text-sm text-muted-foreground transition-colors hover:bg-secondary hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring",children:"Nodes"})]})]}),a.jsxs(G,{className:"border-border bg-card/80",children:[a.jsx(te,{className:"pb-2",children:a.jsxs(ne,{className:"text-base flex items-center gap-2",children:[a.jsx(Bh,{className:"h-4 w-4"}),"Help"]})}),a.jsx(Q,{children:a.jsx(we,{to:"/help",className:"text-sm text-primary hover:underline focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring rounded",children:"Docs & quick start"})})]})]})]}),a.jsx(HB,{open:e,onOpenChange:t,onSubmit:z,isSubmitting:d.isPending||h.isPending,initial:r}),a.jsx(QB,{open:s,onOpenChange:i,providerList:(x==null?void 0:x.provider_list)??[],cliFallback:(x==null?void 0:x.cli_fallback)??null,onSave:J,isSubmitting:_.isPending}),a.jsx(ZB,{open:o,onOpenChange:l,onSubmit:Y,isSubmitting:k.isPending,initialProvider:(S==null?void 0:S.provider)??"default",initialModel:(S==null?void 0:S.model)??null})]})}function r8(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Settings / Preferences"}),a.jsxs(du,{defaultValue:"network",children:[a.jsxs(xl,{children:[a.jsx(tr,{value:"network",children:"Network"}),a.jsx(tr,{value:"remote",children:"Remote access"}),a.jsx(tr,{value:"secrets",children:"Secrets"}),a.jsx(tr,{value:"tools",children:"Tool policies"}),a.jsx(tr,{value:"model",children:"Model defaults"})]}),a.jsx(rr,{value:"network",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Network binding / TLS"}),a.jsx(ge,{children:"Bind address and TLS certificate."})]}),a.jsx(Q,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{children:"Bind address"}),a.jsx(Ne,{placeholder:"0.0.0.0:3000"})]})})]})}),a.jsx(rr,{value:"remote",className:"space-y-4",children:a.jsxs(G,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Remote access (tailnet / proxy)"})}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configure Tailscale or proxy for remote access."})})]})}),a.jsx(rr,{value:"secrets",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Secrets management"}),a.jsx(ge,{children:"Keychain, 1Password CLI, encrypted fallback."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Never write long-lived tokens to plaintext."})})]})}),a.jsx(rr,{value:"tools",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Tool policies"}),a.jsx(ge,{children:"Exec allowlist, sandbox toggle."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(se,{htmlFor:"sandbox",children:"Sandbox tools"}),a.jsx(Vs,{id:"sandbox"})]})})]})}),a.jsx(rr,{value:"model",className:"space-y-4",children:a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Model defaults"}),a.jsx(ge,{children:"Default provider and model for runs."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(se,{children:"Default model"}),a.jsx(Ne,{placeholder:"gpt-4"})]})})]})})]}),a.jsx(G,{children:a.jsxs(Q,{className:"pt-6",children:[a.jsx(T,{children:"Restart / Apply"}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Restart gateway to apply some settings."})]})})]})}function n8(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Security Audit"}),a.jsxs(T,{children:[a.jsx(Pi,{className:"mr-2 h-4 w-4"}),"Run audit"]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Audit summary / risk score"}),a.jsx(ge,{children:"Automated security checks and remediation."})]}),a.jsxs(Q,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Mi,{className:"h-8 w-8 text-success"}),a.jsx("span",{className:"text-lg font-medium",children:"No critical issues"})]}),a.jsx("p",{className:"mt-2 text-sm text-muted-foreground",children:"Run audit to get current score."})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Issue list"}),a.jsx(ge,{children:"Remediation and auto-fix toggle for each finding."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No issues. (Checks: plaintext secrets, open binds, risky skill permissions.)"})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Incident response"}),a.jsx(ge,{children:"Quick actions for security incidents."})]}),a.jsx(Q,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(T,{variant:"outline",size:"sm",children:"Revoke sessions"}),a.jsx(T,{variant:"outline",size:"sm",children:"Rotate secrets"})]})})]})]})}function s8(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Logs & Tracing"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(T,{variant:"outline",size:"sm",children:[a.jsx(XT,{className:"mr-1 h-4 w-4"}),"Filters"]}),a.jsxs(T,{variant:"outline",size:"sm",children:[a.jsx(ru,{className:"mr-1 h-4 w-4"}),"Export"]})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Log stream"}),a.jsx(ge,{children:"Structured logs with filters and redaction preview."})]}),a.jsx(Q,{children:a.jsx(fr,{className:"h-[400px] rounded-md border border-border p-4 font-mono text-xs",children:a.jsx("pre",{className:"text-muted-foreground",children:"No logs. Connect gateway to stream logs."})})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Run trace viewer"}),a.jsx(ge,{children:"Per-run tracing: tool invocation  model calls  outputs. Timestamps, run IDs, costs."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Select a run to view trace."})})]})]})}function i8(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Admin Dashboard"}),a.jsx("p",{className:"text-muted-foreground",children:"Enterprise / admin management. Cloud-only."}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(vA,{className:"h-4 w-4"}),"User management"]}),a.jsx(ge,{children:"Users table and roles."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No users (demo)."})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(KT,{className:"h-4 w-4"}),"Workspace settings"]}),a.jsx(ge,{children:"Multi-workspace controls."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Default workspace."})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2 text-base",children:[a.jsx(GT,{className:"h-4 w-4"}),"Licensing summary"]}),a.jsx(ge,{children:"Seats and entitlements."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"No licensing (self-hosted)."})})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsx(ne,{children:"Analytics panels"}),a.jsx(ge,{children:"Sessions, run success rates, skill installs."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Analytics placeholder."})})]})]})}function a8(){return a.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"About / Help"}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Rv,{className:"h-5 w-5"}),"Quick start"]}),a.jsx(ge,{children:"Get started with Clawgate."})]}),a.jsxs(Q,{children:[a.jsxs("ol",{className:"list-decimal space-y-2 pl-4 text-sm text-muted-foreground",children:[a.jsx("li",{children:"Install and start the gateway."}),a.jsx("li",{children:"Open Control UI and add a channel."}),a.jsx("li",{children:"Message your agent from chat."})]}),a.jsx(T,{variant:"outline",size:"sm",className:"mt-4",asChild:!0,children:a.jsx(we,{to:"/",children:"Landing"})})]})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(eS,{className:"h-5 w-5"}),"Docs"]}),a.jsx(ge,{children:"Documentation links."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation (external link placeholder)."})})]}),a.jsxs(G,{children:[a.jsxs(te,{children:[a.jsxs(ne,{className:"flex items-center gap-2",children:[a.jsx(Xo,{className:"h-5 w-5"}),"Support"]}),a.jsx(ge,{children:"Contact support with context."})]}),a.jsx(Q,{children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Support form with context autofill."})})]})]})]})}function o8(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Privacy Policy"}),a.jsxs(G,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Privacy Policy"})}),a.jsxs(Q,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:[a.jsx("p",{children:"Full policy text. Accept/decline controls for cloud features. Document download."}),a.jsx("p",{className:"mt-4",children:"Clawgate is local-first. Data stays on your devices unless you use cloud-linked features. We do not sell your data."})]})]}),a.jsx(T,{variant:"outline",asChild:!0,children:a.jsx(we,{to:"/",children:"Back"})})]})}function l8(){return a.jsxs("div",{className:"mx-auto max-w-3xl space-y-6 animate-fade-in-up py-8",children:[a.jsx("h1",{className:"text-2xl font-semibold",children:"Terms of Service"}),a.jsxs(G,{children:[a.jsx(te,{children:a.jsx(ne,{children:"Terms of Service"})}),a.jsx(Q,{className:"prose prose-invert max-w-none text-sm text-muted-foreground",children:a.jsx("p",{children:"Full terms text. Accept/decline controls for cloud features. Document download."})})]}),a.jsx(T,{variant:"outline",asChild:!0,children:a.jsx(we,{to:"/",children:"Back"})})]})}function Xb(){return a.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-background p-4",children:[a.jsx(eS,{className:"h-24 w-24 text-muted-foreground"}),a.jsx("h1",{className:"text-2xl font-semibold",children:"404 Not Found"}),a.jsx("p",{className:"text-center text-muted-foreground",children:"The page youre looking for doesnt exist."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(T,{asChild:!0,children:a.jsx(we,{to:"/",children:"Home"})}),a.jsx(T,{variant:"outline",asChild:!0,children:a.jsx(we,{to:"/dashboard",children:"Dashboard"})})]})]})}function c8(){return a.jsxs("div",{className:"flex min-h-screen flex-col items-center justify-center gap-6 bg-background p-4",children:[a.jsx(Iv,{className:"h-24 w-24 text-destructive"}),a.jsx("h1",{className:"text-2xl font-semibold",children:"500 Server Error"}),a.jsx("p",{className:"text-center text-muted-foreground",children:"Something went wrong. Retry or report."}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx(T,{onClick:()=>window.location.reload(),children:"Retry"}),a.jsx(T,{variant:"outline",asChild:!0,children:a.jsx(we,{to:"/",children:"Home"})})]})]})}const u8=new eT({defaultOptions:{queries:{staleTime:1e3*60*5,gcTime:1e3*60*10,retry:1,refetchOnWindowFocus:!1}}});function d8(){return a.jsxs(tT,{client:u8,children:[a.jsx(SP,{children:a.jsxs(gP,{children:[a.jsx(at,{path:"/",element:a.jsx(DL,{})}),a.jsx(at,{path:"/login",element:a.jsx(q$,{})}),a.jsx(at,{path:"/signup",element:a.jsx(E5,{})}),a.jsx(at,{path:"/forgot-password",element:a.jsx(O5,{})}),a.jsx(at,{path:"/verify-email",element:a.jsx(M5,{})}),a.jsx(at,{path:"/download",element:a.jsx(x6,{})}),a.jsx(at,{path:"/privacy",element:a.jsx(o8,{})}),a.jsx(at,{path:"/terms",element:a.jsx(l8,{})}),a.jsx(at,{path:"/500",element:a.jsx(c8,{})}),a.jsxs(at,{element:a.jsx(cL,{}),children:[a.jsx(at,{path:"/dashboard",element:a.jsx(Rz,{})}),a.jsx(at,{path:"/profile",element:a.jsx(y6,{})}),a.jsx(at,{path:"/chat",element:a.jsx(lV,{})}),a.jsx(at,{path:"/channels",element:a.jsx(kV,{})}),a.jsx(at,{path:"/skills",element:a.jsx(NV,{})}),a.jsx(at,{path:"/skill-editor/:skillId?",element:a.jsx(zV,{})}),a.jsx(at,{path:"/nodes",element:a.jsx(VV,{})}),a.jsx(at,{path:"/cron",element:a.jsx(HV,{})}),a.jsx(at,{path:"/webhooks",element:a.jsx(uB,{})}),a.jsx(at,{path:"/browser",element:a.jsx(AB,{})}),a.jsx(at,{path:"/voice",element:a.jsx(t8,{})}),a.jsx(at,{path:"/settings",element:a.jsx(r8,{})}),a.jsx(at,{path:"/security",element:a.jsx(n8,{})}),a.jsx(at,{path:"/logs",element:a.jsx(s8,{})}),a.jsx(at,{path:"/admin",element:a.jsx(i8,{})}),a.jsx(at,{path:"/help",element:a.jsx(a8,{})})]}),a.jsx(at,{path:"/404",element:a.jsx(Xb,{})}),a.jsx(at,{path:"*",element:a.jsx(Xb,{})})]})}),a.jsx(FT,{position:"top-right",richColors:!0,closeButton:!0})]})}const GC=document.getElementById("root");if(!GC)throw new Error("Root element not found");Pm.createRoot(GC).render(a.jsx(V.StrictMode,{children:a.jsx(d8,{})}));
